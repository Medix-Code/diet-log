(()=>{var Gv=Object.create;var vm=Object.defineProperty;var qv=Object.getOwnPropertyDescriptor;var jv=Object.getOwnPropertyNames;var Yv=Object.getPrototypeOf,Xv=Object.prototype.hasOwnProperty;var pa=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Kv=(e,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of jv(t))!Xv.call(e,l)&&l!==a&&vm(e,l,{get:()=>t[l],enumerable:!(n=qv(t,l))||n.enumerable});return e};var Ei=(e,t,a)=>(a=e!=null?Gv(Yv(e)):{},Kv(t||!e||!e.__esModule?vm(a,"default",{value:e,enumerable:!0}):a,e));var bE=pa(L=>{"use strict";var Sc=Symbol.for("react.transitional.element"),M0=Symbol.for("react.portal"),R0=Symbol.for("react.fragment"),I0=Symbol.for("react.strict_mode"),B0=Symbol.for("react.profiler"),w0=Symbol.for("react.consumer"),x0=Symbol.for("react.context"),U0=Symbol.for("react.forward_ref"),z0=Symbol.for("react.suspense"),P0=Symbol.for("react.memo"),hE=Symbol.for("react.lazy"),V0=Symbol.for("react.activity"),gE=Symbol.iterator;function H0(e){return e===null||typeof e!="object"?null:(e=gE&&e[gE]||e["@@iterator"],typeof e=="function"?e:null)}var yE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vE=Object.assign,TE={};function dl(e,t,a){this.props=e,this.context=t,this.refs=TE,this.updater=a||yE}dl.prototype.isReactComponent={};dl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function AE(){}AE.prototype=dl.prototype;function hc(e,t,a){this.props=e,this.context=t,this.refs=TE,this.updater=a||yE}var yc=hc.prototype=new AE;yc.constructor=hc;vE(yc,dl.prototype);yc.isPureReactComponent=!0;var EE=Array.isArray;function pc(){}var Z={H:null,A:null,T:null,S:null},CE=Object.prototype.hasOwnProperty;function vc(e,t,a){var n=a.ref;return{$$typeof:Sc,type:e,key:t,ref:n!==void 0?n:null,props:a}}function G0(e,t){return vc(e.type,t,e.props)}function Tc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sc}function q0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var pE=/\/+/g;function Ec(e,t){return typeof e=="object"&&e!==null&&e.key!=null?q0(""+e.key):t.toString(36)}function j0(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(pc,pc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function cl(e,t,a,n,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Sc:case M0:o=!0;break;case hE:return o=e._init,cl(o(e._payload),t,a,n,l)}}if(o)return l=l(e),o=n===""?"."+Ec(e,0):n,EE(l)?(a="",o!=null&&(a=o.replace(pE,"$&/")+"/"),cl(l,t,a,"",function(u){return u})):l!=null&&(Tc(l)&&(l=G0(l,a+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(pE,"$&/")+"/")+o)),t.push(l)),1;o=0;var r=n===""?".":n+":";if(EE(e))for(var s=0;s<e.length;s++)n=e[s],i=r+Ec(n,s),o+=cl(n,t,a,i,l);else if(s=H0(e),typeof s=="function")for(e=s.call(e),s=0;!(n=e.next()).done;)n=n.value,i=r+Ec(n,s++),o+=cl(n,t,a,i,l);else if(i==="object"){if(typeof e.then=="function")return cl(j0(e),t,a,n,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Lr(e,t,a){if(e==null)return e;var n=[],l=0;return cl(e,n,"","",function(i){return t.call(a,i,l++)}),n}function Y0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var SE=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},X0={map:Lr,forEach:function(e,t,a){Lr(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return Lr(e,function(){t++}),t},toArray:function(e){return Lr(e,function(t){return t})||[]},only:function(e){if(!Tc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};L.Activity=V0;L.Children=X0;L.Component=dl;L.Fragment=R0;L.Profiler=B0;L.PureComponent=hc;L.StrictMode=I0;L.Suspense=z0;L.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z;L.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Z.H.useMemoCache(e)}};L.cache=function(e){return function(){return e.apply(null,arguments)}};L.cacheSignal=function(){return null};L.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=vE({},e.props),l=e.key;if(t!=null)for(i in t.key!==void 0&&(l=""+t.key),t)!CE.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var o=Array(i),r=0;r<i;r++)o[r]=arguments[r+2];n.children=o}return vc(e.type,l,n)};L.createContext=function(e){return e={$$typeof:x0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:w0,_context:e},e};L.createElement=function(e,t,a){var n,l={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)CE.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(l[n]=t[n]);var o=arguments.length-2;if(o===1)l.children=a;else if(1<o){for(var r=Array(o),s=0;s<o;s++)r[s]=arguments[s+2];l.children=r}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)l[n]===void 0&&(l[n]=o[n]);return vc(e,i,l)};L.createRef=function(){return{current:null}};L.forwardRef=function(e){return{$$typeof:U0,render:e}};L.isValidElement=Tc;L.lazy=function(e){return{$$typeof:hE,_payload:{_status:-1,_result:e},_init:Y0}};L.memo=function(e,t){return{$$typeof:P0,type:e,compare:t===void 0?null:t}};L.startTransition=function(e){var t=Z.T,a={};Z.T=a;try{var n=e(),l=Z.S;l!==null&&l(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(pc,SE)}catch(i){SE(i)}finally{t!==null&&a.types!==null&&(t.types=a.types),Z.T=t}};L.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()};L.use=function(e){return Z.H.use(e)};L.useActionState=function(e,t,a){return Z.H.useActionState(e,t,a)};L.useCallback=function(e,t){return Z.H.useCallback(e,t)};L.useContext=function(e){return Z.H.useContext(e)};L.useDebugValue=function(){};L.useDeferredValue=function(e,t){return Z.H.useDeferredValue(e,t)};L.useEffect=function(e,t){return Z.H.useEffect(e,t)};L.useEffectEvent=function(e){return Z.H.useEffectEvent(e)};L.useId=function(){return Z.H.useId()};L.useImperativeHandle=function(e,t,a){return Z.H.useImperativeHandle(e,t,a)};L.useInsertionEffect=function(e,t){return Z.H.useInsertionEffect(e,t)};L.useLayoutEffect=function(e,t){return Z.H.useLayoutEffect(e,t)};L.useMemo=function(e,t){return Z.H.useMemo(e,t)};L.useOptimistic=function(e,t){return Z.H.useOptimistic(e,t)};L.useReducer=function(e,t,a){return Z.H.useReducer(e,t,a)};L.useRef=function(e){return Z.H.useRef(e)};L.useState=function(e){return Z.H.useState(e)};L.useSyncExternalStore=function(e,t,a){return Z.H.useSyncExternalStore(e,t,a)};L.useTransition=function(){return Z.H.useTransition()};L.version="19.2.0"});var fl=pa((GO,_E)=>{"use strict";_E.exports=bE()});var xE=pa(W=>{"use strict";function _c(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,l=e[n];if(0<Mr(l,t))e[n]=t,e[a]=l,a=n;else break e}}function Mt(e){return e.length===0?null:e[0]}function Ir(e){if(e.length===0)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,l=e.length,i=l>>>1;n<i;){var o=2*(n+1)-1,r=e[o],s=o+1,u=e[s];if(0>Mr(r,a))s<l&&0>Mr(u,r)?(e[n]=u,e[s]=a,n=s):(e[n]=r,e[o]=a,n=o);else if(s<l&&0>Mr(u,a))e[n]=u,e[s]=a,n=s;else break e}}return t}function Mr(e,t){var a=e.sortIndex-t.sortIndex;return a!==0?a:e.id-t.id}W.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(DE=performance,W.unstable_now=function(){return DE.now()}):(Ac=Date,OE=Ac.now(),W.unstable_now=function(){return Ac.now()-OE});var DE,Ac,OE,Ft=[],Oa=[],K0=1,st=null,Ie=3,Dc=!1,Vi=!1,Hi=!1,Oc=!1,ME=typeof setTimeout=="function"?setTimeout:null,RE=typeof clearTimeout=="function"?clearTimeout:null,NE=typeof setImmediate<"u"?setImmediate:null;function Rr(e){for(var t=Mt(Oa);t!==null;){if(t.callback===null)Ir(Oa);else if(t.startTime<=e)Ir(Oa),t.sortIndex=t.expirationTime,_c(Ft,t);else break;t=Mt(Oa)}}function Nc(e){if(Hi=!1,Rr(e),!Vi)if(Mt(Ft)!==null)Vi=!0,gl||(gl=!0,ml());else{var t=Mt(Oa);t!==null&&Lc(Nc,t.startTime-e)}}var gl=!1,Gi=-1,IE=5,BE=-1;function wE(){return Oc?!0:!(W.unstable_now()-BE<IE)}function Cc(){if(Oc=!1,gl){var e=W.unstable_now();BE=e;var t=!0;try{e:{Vi=!1,Hi&&(Hi=!1,RE(Gi),Gi=-1),Dc=!0;var a=Ie;try{t:{for(Rr(e),st=Mt(Ft);st!==null&&!(st.expirationTime>e&&wE());){var n=st.callback;if(typeof n=="function"){st.callback=null,Ie=st.priorityLevel;var l=n(st.expirationTime<=e);if(e=W.unstable_now(),typeof l=="function"){st.callback=l,Rr(e),t=!0;break t}st===Mt(Ft)&&Ir(Ft),Rr(e)}else Ir(Ft);st=Mt(Ft)}if(st!==null)t=!0;else{var i=Mt(Oa);i!==null&&Lc(Nc,i.startTime-e),t=!1}}break e}finally{st=null,Ie=a,Dc=!1}t=void 0}}finally{t?ml():gl=!1}}}var ml;typeof NE=="function"?ml=function(){NE(Cc)}:typeof MessageChannel<"u"?(bc=new MessageChannel,LE=bc.port2,bc.port1.onmessage=Cc,ml=function(){LE.postMessage(null)}):ml=function(){ME(Cc,0)};var bc,LE;function Lc(e,t){Gi=ME(function(){e(W.unstable_now())},t)}W.unstable_IdlePriority=5;W.unstable_ImmediatePriority=1;W.unstable_LowPriority=4;W.unstable_NormalPriority=3;W.unstable_Profiling=null;W.unstable_UserBlockingPriority=2;W.unstable_cancelCallback=function(e){e.callback=null};W.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):IE=0<e?Math.floor(1e3/e):5};W.unstable_getCurrentPriorityLevel=function(){return Ie};W.unstable_next=function(e){switch(Ie){case 1:case 2:case 3:var t=3;break;default:t=Ie}var a=Ie;Ie=t;try{return e()}finally{Ie=a}};W.unstable_requestPaint=function(){Oc=!0};W.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=Ie;Ie=e;try{return t()}finally{Ie=a}};W.unstable_scheduleCallback=function(e,t,a){var n=W.unstable_now();switch(typeof a=="object"&&a!==null?(a=a.delay,a=typeof a=="number"&&0<a?n+a:n):a=n,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=a+l,e={id:K0++,callback:t,priorityLevel:e,startTime:a,expirationTime:l,sortIndex:-1},a>n?(e.sortIndex=a,_c(Oa,e),Mt(Ft)===null&&e===Mt(Oa)&&(Hi?(RE(Gi),Gi=-1):Hi=!0,Lc(Nc,a-n))):(e.sortIndex=l,_c(Ft,e),Vi||Dc||(Vi=!0,gl||(gl=!0,ml()))),e};W.unstable_shouldYield=wE;W.unstable_wrapCallback=function(e){var t=Ie;return function(){var a=Ie;Ie=t;try{return e.apply(this,arguments)}finally{Ie=a}}}});var zE=pa((jO,UE)=>{"use strict";UE.exports=xE()});var VE=pa(Ue=>{"use strict";var Q0=fl();function PE(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Na(){}var xe={d:{f:Na,r:function(){throw Error(PE(522))},D:Na,C:Na,L:Na,m:Na,X:Na,S:Na,M:Na},p:0,findDOMNode:null},F0=Symbol.for("react.portal");function Z0(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var qi=Q0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Br(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ue.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xe;Ue.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(PE(299));return Z0(e,t,null,a)};Ue.flushSync=function(e){var t=qi.T,a=xe.p;try{if(qi.T=null,xe.p=2,e)return e()}finally{qi.T=t,xe.p=a,xe.d.f()}};Ue.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,xe.d.C(e,t))};Ue.prefetchDNS=function(e){typeof e=="string"&&xe.d.D(e)};Ue.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=Br(a,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?xe.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:l,fetchPriority:i}):a==="script"&&xe.d.X(e,{crossOrigin:n,integrity:l,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ue.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=Br(t.as,t.crossOrigin);xe.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&xe.d.M(e)};Ue.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=Br(a,t.crossOrigin);xe.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ue.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=Br(t.as,t.crossOrigin);xe.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else xe.d.m(e)};Ue.requestFormReset=function(e){xe.d.r(e)};Ue.unstable_batchedUpdates=function(e,t){return e(t)};Ue.useFormState=function(e,t,a){return qi.H.useFormState(e,t,a)};Ue.useFormStatus=function(){return qi.H.useHostTransitionStatus()};Ue.version="19.2.0"});var qE=pa((XO,GE)=>{"use strict";function HE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HE)}catch(e){console.error(e)}}HE(),GE.exports=VE()});var ev=pa(lu=>{"use strict";var he=zE(),gS=fl(),J0=qE();function h(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ES(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lo(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function pS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function SS(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jE(e){if(Lo(e)!==e)throw Error(h(188))}function k0(e){var t=e.alternate;if(!t){if(t=Lo(e),t===null)throw Error(h(188));return t!==e?null:e}for(var a=e,n=t;;){var l=a.return;if(l===null)break;var i=l.alternate;if(i===null){if(n=l.return,n!==null){a=n;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===a)return jE(l),e;if(i===n)return jE(l),t;i=i.sibling}throw Error(h(188))}if(a.return!==n.return)a=l,n=i;else{for(var o=!1,r=l.child;r;){if(r===a){o=!0,a=l,n=i;break}if(r===n){o=!0,n=l,a=i;break}r=r.sibling}if(!o){for(r=i.child;r;){if(r===a){o=!0,a=i,n=l;break}if(r===n){o=!0,n=i,a=l;break}r=r.sibling}if(!o)throw Error(h(189))}}if(a.alternate!==n)throw Error(h(190))}if(a.tag!==3)throw Error(h(188));return a.stateNode.current===a?e:t}function hS(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=hS(e),t!==null)return t;e=e.sibling}return null}var $=Object.assign,$0=Symbol.for("react.element"),wr=Symbol.for("react.transitional.element"),Ji=Symbol.for("react.portal"),vl=Symbol.for("react.fragment"),yS=Symbol.for("react.strict_mode"),ud=Symbol.for("react.profiler"),vS=Symbol.for("react.consumer"),aa=Symbol.for("react.context"),lf=Symbol.for("react.forward_ref"),cd=Symbol.for("react.suspense"),dd=Symbol.for("react.suspense_list"),of=Symbol.for("react.memo"),La=Symbol.for("react.lazy");Symbol.for("react.scope");var fd=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var W0=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var YE=Symbol.iterator;function ji(e){return e===null||typeof e!="object"?null:(e=YE&&e[YE]||e["@@iterator"],typeof e=="function"?e:null)}var eA=Symbol.for("react.client.reference");function md(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===eA?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vl:return"Fragment";case ud:return"Profiler";case yS:return"StrictMode";case cd:return"Suspense";case dd:return"SuspenseList";case fd:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ji:return"Portal";case aa:return e.displayName||"Context";case vS:return(e._context.displayName||"Context")+".Consumer";case lf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case of:return t=e.displayName||null,t!==null?t:md(e.type)||"Memo";case La:t=e._payload,e=e._init;try{return md(e(t))}catch{}}return null}var ki=Array.isArray,O=gS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=J0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vn={pending:!1,data:null,method:null,action:null},gd=[],Tl=-1;function xt(e){return{current:e}}function Ce(e){0>Tl||(e.current=gd[Tl],gd[Tl]=null,Tl--)}function F(e,t){Tl++,gd[Tl]=e.current,e.current=t}var wt=xt(null),Eo=xt(null),Ha=xt(null),ms=xt(null);function gs(e,t){switch(F(Ha,t),F(Eo,e),F(wt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?kp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=kp(t),e=Hy(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ce(wt),F(wt,e)}function Vl(){Ce(wt),Ce(Eo),Ce(Ha)}function Ed(e){e.memoizedState!==null&&F(ms,e);var t=wt.current,a=Hy(t,e.type);t!==a&&(F(Eo,e),F(wt,a))}function Es(e){Eo.current===e&&(Ce(wt),Ce(Eo)),ms.current===e&&(Ce(ms),Do._currentValue=vn)}var Mc,XE;function pn(e){if(Mc===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Mc=t&&t[1]||"",XE=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mc+e+XE}var Rc=!1;function Ic(e,t){if(!e||Rc)return"";Rc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var E=function(){throw Error()};if(Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(g){var c=g}Reflect.construct(e,[],E)}else{try{E.call()}catch(g){c=g}e.call(E.prototype)}}else{try{throw Error()}catch(g){c=g}(E=e())&&typeof E.catch=="function"&&E.catch(function(){})}}catch(g){if(g&&c&&typeof g.stack=="string")return[g.stack,c.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],r=i[1];if(o&&r){var s=o.split(`
`),u=r.split(`
`);for(l=n=0;n<s.length&&!s[n].includes("DetermineComponentFrameRoot");)n++;for(;l<u.length&&!u[l].includes("DetermineComponentFrameRoot");)l++;if(n===s.length||l===u.length)for(n=s.length-1,l=u.length-1;1<=n&&0<=l&&s[n]!==u[l];)l--;for(;1<=n&&0<=l;n--,l--)if(s[n]!==u[l]){if(n!==1||l!==1)do if(n--,l--,0>l||s[n]!==u[l]){var f=`
`+s[n].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=n&&0<=l);break}}}finally{Rc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?pn(a):""}function tA(e,t){switch(e.tag){case 26:case 27:case 5:return pn(e.type);case 16:return pn("Lazy");case 13:return e.child!==t&&t!==null?pn("Suspense Fallback"):pn("Suspense");case 19:return pn("SuspenseList");case 0:case 15:return Ic(e.type,!1);case 11:return Ic(e.type.render,!1);case 1:return Ic(e.type,!0);case 31:return pn("Activity");default:return""}}function KE(e){try{var t="",a=null;do t+=tA(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var pd=Object.prototype.hasOwnProperty,rf=he.unstable_scheduleCallback,Bc=he.unstable_cancelCallback,aA=he.unstable_shouldYield,nA=he.unstable_requestPaint,ke=he.unstable_now,lA=he.unstable_getCurrentPriorityLevel,TS=he.unstable_ImmediatePriority,AS=he.unstable_UserBlockingPriority,ps=he.unstable_NormalPriority,iA=he.unstable_LowPriority,CS=he.unstable_IdlePriority,oA=he.log,rA=he.unstable_setDisableYieldValue,Mo=null,$e=null;function xa(e){if(typeof oA=="function"&&rA(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Mo,e)}catch{}}var We=Math.clz32?Math.clz32:cA,sA=Math.log,uA=Math.LN2;function cA(e){return e>>>=0,e===0?32:31-(sA(e)/uA|0)|0}var xr=256,Ur=262144,zr=4194304;function Sn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qs(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var l=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var r=n&134217727;return r!==0?(n=r&~i,n!==0?l=Sn(n):(o&=r,o!==0?l=Sn(o):a||(a=r&~e,a!==0&&(l=Sn(a))))):(r=n&~i,r!==0?l=Sn(r):o!==0?l=Sn(o):a||(a=n&~e,a!==0&&(l=Sn(a)))),l===0?0:t!==0&&t!==l&&(t&i)===0&&(i=l&-l,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:l}function Ro(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function dA(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bS(){var e=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),e}function wc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Io(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fA(e,t,a,n,l,i){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var r=e.entanglements,s=e.expirationTimes,u=e.hiddenUpdates;for(a=o&~a;0<a;){var f=31-We(a),E=1<<f;r[f]=0,s[f]=-1;var c=u[f];if(c!==null)for(u[f]=null,f=0;f<c.length;f++){var g=c[f];g!==null&&(g.lane&=-536870913)}a&=~E}n!==0&&_S(e,n,0),i!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function _S(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-We(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function DS(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-We(a),l=1<<n;l&t|e[n]&t&&(e[n]|=t),a&=~l}}function OS(e,t){var a=t&-t;return a=(a&42)!==0?1:sf(a),(a&(e.suspendedLanes|t))!==0?0:a}function sf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uf(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function NS(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:ky(e.type))}function QE(e,t){var a=H.p;try{return H.p=e,t()}finally{H.p=a}}var Wa=Math.random().toString(36).slice(2),De="__reactFiber$"+Wa,Ye="__reactProps$"+Wa,Jl="__reactContainer$"+Wa,Sd="__reactEvents$"+Wa,mA="__reactListeners$"+Wa,gA="__reactHandles$"+Wa,FE="__reactResources$"+Wa,Bo="__reactMarker$"+Wa;function cf(e){delete e[De],delete e[Ye],delete e[Sd],delete e[mA],delete e[gA]}function Al(e){var t=e[De];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Jl]||a[De]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=aS(e);e!==null;){if(a=e[De])return a;e=aS(e)}return t}e=a,a=e.parentNode}return null}function kl(e){if(e=e[De]||e[Jl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function $i(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(h(33))}function Il(e){var t=e[FE];return t||(t=e[FE]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ae(e){e[Bo]=!0}var LS=new Set,MS={};function Mn(e,t){Hl(e,t),Hl(e+"Capture",t)}function Hl(e,t){for(MS[e]=t,e=0;e<t.length;e++)LS.add(t[e])}var EA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ZE={},JE={};function pA(e){return pd.call(JE,e)?!0:pd.call(ZE,e)?!1:EA.test(e)?JE[e]=!0:(ZE[e]=!0,!1)}function $r(e,t,a){if(pA(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Pr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Zt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function RS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SA(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hd(e){if(!e._valueTracker){var t=RS(e)?"checked":"value";e._valueTracker=SA(e,t,""+e[t])}}function IS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=RS(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hA=/[\n"\\]/g;function mt(e){return e.replace(hA,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function yd(e,t,a,n,l,i,o,r){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?vd(e,o,ct(t)):a!=null?vd(e,o,ct(a)):n!=null&&e.removeAttribute("value"),l==null&&i!=null&&(e.defaultChecked=!!i),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+ct(r):e.removeAttribute("name")}function BS(e,t,a,n,l,i,o,r){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){hd(e);return}a=a!=null?""+ct(a):"",t=t!=null?""+ct(t):a,r||t===e.value||(e.value=t),e.defaultValue=t}n=n??l,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=r?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),hd(e)}function vd(e,t,a){t==="number"&&Ss(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Bl(e,t,a,n){if(e=e.options,t){t={};for(var l=0;l<a.length;l++)t["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=t.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&n&&(e[a].defaultSelected=!0)}else{for(a=""+ct(a),t=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function wS(e,t,a){if(t!=null&&(t=""+ct(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ct(a):""}function xS(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(h(92));if(ki(n)){if(1<n.length)throw Error(h(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=ct(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),hd(e)}function Gl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var yA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kE(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||yA.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function US(e,t,a){if(t!=null&&typeof t!="object")throw Error(h(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var l in t)n=t[l],t.hasOwnProperty(l)&&a[l]!==n&&kE(e,l,n)}else for(var i in t)t.hasOwnProperty(i)&&kE(e,i,t[i])}function df(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(e){return TA.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function na(){}var Td=null;function ff(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cl=null,wl=null;function $E(e){var t=kl(e);if(t&&(e=t.stateNode)){var a=e[Ye]||null;e:switch(e=t.stateNode,t.type){case"input":if(yd(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var l=n[Ye]||null;if(!l)throw Error(h(90));yd(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&IS(n)}break e;case"textarea":wS(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Bl(e,!!a.multiple,t,!1)}}}var xc=!1;function zS(e,t,a){if(xc)return e(t,a);xc=!0;try{var n=e(t);return n}finally{if(xc=!1,(Cl!==null||wl!==null)&&(eu(),Cl&&(t=Cl,e=wl,wl=Cl=null,$E(t),e)))for(t=0;t<e.length;t++)$E(e[t])}}function po(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Ye]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(h(231,t,typeof a));return a}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ad=!1;if(sa)try{El={},Object.defineProperty(El,"passive",{get:function(){Ad=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{Ad=!1}var El,Ua=null,mf=null,es=null;function PS(){if(es)return es;var e,t=mf,a=t.length,n,l="value"in Ua?Ua.value:Ua.textContent,i=l.length;for(e=0;e<a&&t[e]===l[e];e++);var o=a-e;for(n=1;n<=o&&t[a-n]===l[i-n];n++);return es=l.slice(e,1<n?1-n:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vr(){return!0}function WE(){return!1}function Xe(e){function t(a,n,l,i,o){this._reactName=a,this._targetInst=l,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(a=e[r],this[r]=a?a(i):i[r]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vr:WE,this.isPropagationStopped=WE,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),t}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=Xe(Rn),wo=$({},Rn,{view:0,detail:0}),AA=Xe(wo),Uc,zc,Yi,Ys=$({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yi&&(Yi&&e.type==="mousemove"?(Uc=e.screenX-Yi.screenX,zc=e.screenY-Yi.screenY):zc=Uc=0,Yi=e),Uc)},movementY:function(e){return"movementY"in e?e.movementY:zc}}),ep=Xe(Ys),CA=$({},Ys,{dataTransfer:0}),bA=Xe(CA),_A=$({},wo,{relatedTarget:0}),Pc=Xe(_A),DA=$({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),OA=Xe(DA),NA=$({},Rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LA=Xe(NA),MA=$({},Rn,{data:0}),tp=Xe(MA),RA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BA[e])?!!t[e]:!1}function gf(){return wA}var xA=$({},wo,{key:function(e){if(e.key){var t=RA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gf,charCode:function(e){return e.type==="keypress"?ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UA=Xe(xA),zA=$({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ap=Xe(zA),PA=$({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gf}),VA=Xe(PA),HA=$({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),GA=Xe(HA),qA=$({},Ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jA=Xe(qA),YA=$({},Rn,{newState:0,oldState:0}),XA=Xe(YA),KA=[9,13,27,32],Ef=sa&&"CompositionEvent"in window,to=null;sa&&"documentMode"in document&&(to=document.documentMode);var QA=sa&&"TextEvent"in window&&!to,VS=sa&&(!Ef||to&&8<to&&11>=to),np=" ",lp=!1;function HS(e,t){switch(e){case"keyup":return KA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bl=!1;function FA(e,t){switch(e){case"compositionend":return GS(t);case"keypress":return t.which!==32?null:(lp=!0,np);case"textInput":return e=t.data,e===np&&lp?null:e;default:return null}}function ZA(e,t){if(bl)return e==="compositionend"||!Ef&&HS(e,t)?(e=PS(),es=mf=Ua=null,bl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return VS&&t.locale!=="ko"?null:t.data;default:return null}}var JA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ip(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JA[e.type]:t==="textarea"}function qS(e,t,a,n){Cl?wl?wl.push(n):wl=[n]:Cl=n,t=xs(t,"onChange"),0<t.length&&(a=new js("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var ao=null,So=null;function kA(e){zy(e,0)}function Xs(e){var t=$i(e);if(IS(t))return e}function op(e,t){if(e==="change")return t}var jS=!1;sa&&(sa?(Gr="oninput"in document,Gr||(Vc=document.createElement("div"),Vc.setAttribute("oninput","return;"),Gr=typeof Vc.oninput=="function"),Hr=Gr):Hr=!1,jS=Hr&&(!document.documentMode||9<document.documentMode));var Hr,Gr,Vc;function rp(){ao&&(ao.detachEvent("onpropertychange",YS),So=ao=null)}function YS(e){if(e.propertyName==="value"&&Xs(So)){var t=[];qS(t,So,e,ff(e)),zS(kA,t)}}function $A(e,t,a){e==="focusin"?(rp(),ao=t,So=a,ao.attachEvent("onpropertychange",YS)):e==="focusout"&&rp()}function WA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xs(So)}function eC(e,t){if(e==="click")return Xs(t)}function tC(e,t){if(e==="input"||e==="change")return Xs(t)}function aC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:aC;function ho(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var l=a[n];if(!pd.call(t,l)||!tt(e[l],t[l]))return!1}return!0}function sp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function up(e,t){var a=sp(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sp(a)}}function XS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?XS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function KS(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ss(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ss(e.document)}return t}function pf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var nC=sa&&"documentMode"in document&&11>=document.documentMode,_l=null,Cd=null,no=null,bd=!1;function cp(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bd||_l==null||_l!==Ss(n)||(n=_l,"selectionStart"in n&&pf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),no&&ho(no,n)||(no=n,n=xs(Cd,"onSelect"),0<n.length&&(t=new js("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=_l)))}function En(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Dl={animationend:En("Animation","AnimationEnd"),animationiteration:En("Animation","AnimationIteration"),animationstart:En("Animation","AnimationStart"),transitionrun:En("Transition","TransitionRun"),transitionstart:En("Transition","TransitionStart"),transitioncancel:En("Transition","TransitionCancel"),transitionend:En("Transition","TransitionEnd")},Hc={},QS={};sa&&(QS=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function In(e){if(Hc[e])return Hc[e];if(!Dl[e])return e;var t=Dl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in QS)return Hc[e]=t[a];return e}var FS=In("animationend"),ZS=In("animationiteration"),JS=In("animationstart"),lC=In("transitionrun"),iC=In("transitionstart"),oC=In("transitioncancel"),kS=In("transitionend"),$S=new Map,_d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_d.push("scrollEnd");function Dt(e,t){$S.set(e,t),Mn(t,[e])}var hs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ut=[],Ol=0,Sf=0;function Ks(){for(var e=Ol,t=Sf=Ol=0;t<e;){var a=ut[t];ut[t++]=null;var n=ut[t];ut[t++]=null;var l=ut[t];ut[t++]=null;var i=ut[t];if(ut[t++]=null,n!==null&&l!==null){var o=n.pending;o===null?l.next=l:(l.next=o.next,o.next=l),n.pending=l}i!==0&&WS(a,l,i)}}function Qs(e,t,a,n){ut[Ol++]=e,ut[Ol++]=t,ut[Ol++]=a,ut[Ol++]=n,Sf|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function hf(e,t,a,n){return Qs(e,t,a,n),ys(e)}function Bn(e,t){return Qs(e,null,null,t),ys(e)}function WS(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var l=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(l=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,l&&t!==null&&(l=31-We(a),e=i.hiddenUpdates,n=e[l],n===null?e[l]=[t]:n.push(t),t.lane=a|536870912),i):null}function ys(e){if(50<mo)throw mo=0,Kd=null,Error(h(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Nl={};function rC(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,a,n){return new rC(e,t,a,n)}function yf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ia(e,t){var a=e.alternate;return a===null?(a=Ze(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function eh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function as(e,t,a,n,l,i){var o=0;if(n=e,typeof e=="function")yf(e)&&(o=1);else if(typeof e=="string")o=cb(e,a,wt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fd:return e=Ze(31,a,t,l),e.elementType=fd,e.lanes=i,e;case vl:return Tn(a.children,l,i,t);case yS:o=8,l|=24;break;case ud:return e=Ze(12,a,t,l|2),e.elementType=ud,e.lanes=i,e;case cd:return e=Ze(13,a,t,l),e.elementType=cd,e.lanes=i,e;case dd:return e=Ze(19,a,t,l),e.elementType=dd,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case aa:o=10;break e;case vS:o=9;break e;case lf:o=11;break e;case of:o=14;break e;case La:o=16,n=null;break e}o=29,a=Error(h(130,e===null?"null":typeof e,"")),n=null}return t=Ze(o,a,t,l),t.elementType=e,t.type=n,t.lanes=i,t}function Tn(e,t,a,n){return e=Ze(7,e,n,t),e.lanes=a,e}function Gc(e,t,a){return e=Ze(6,e,null,t),e.lanes=a,e}function th(e){var t=Ze(18,null,null,0);return t.stateNode=e,t}function qc(e,t,a){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var dp=new WeakMap;function gt(e,t){if(typeof e=="object"&&e!==null){var a=dp.get(e);return a!==void 0?a:(t={value:e,source:t,stack:KE(t)},dp.set(e,t),t)}return{value:e,source:t,stack:KE(t)}}var Ll=[],Ml=0,vs=null,yo=0,dt=[],ft=0,Za=null,Rt=1,It="";function ea(e,t){Ll[Ml++]=yo,Ll[Ml++]=vs,vs=e,yo=t}function ah(e,t,a){dt[ft++]=Rt,dt[ft++]=It,dt[ft++]=Za,Za=e;var n=Rt;e=It;var l=32-We(n)-1;n&=~(1<<l),a+=1;var i=32-We(t)+l;if(30<i){var o=l-l%5;i=(n&(1<<o)-1).toString(32),n>>=o,l-=o,Rt=1<<32-We(t)+l|a<<l|n,It=i+e}else Rt=1<<i|a<<l|n,It=e}function vf(e){e.return!==null&&(ea(e,1),ah(e,1,0))}function Tf(e){for(;e===vs;)vs=Ll[--Ml],Ll[Ml]=null,yo=Ll[--Ml],Ll[Ml]=null;for(;e===Za;)Za=dt[--ft],dt[ft]=null,It=dt[--ft],dt[ft]=null,Rt=dt[--ft],dt[ft]=null}function nh(e,t){dt[ft++]=Rt,dt[ft++]=It,dt[ft++]=Za,Rt=t.id,It=t.overflow,Za=e}var Oe=null,k=null,z=!1,Ga=null,Et=!1,Dd=Error(h(519));function Ja(e){var t=Error(h(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vo(gt(t,e)),Dd}function fp(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[De]=e,t[Ye]=n,a){case"dialog":B("cancel",t),B("close",t);break;case"iframe":case"object":case"embed":B("load",t);break;case"video":case"audio":for(a=0;a<bo.length;a++)B(bo[a],t);break;case"source":B("error",t);break;case"img":case"image":case"link":B("error",t),B("load",t);break;case"details":B("toggle",t);break;case"input":B("invalid",t),BS(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":B("invalid",t);break;case"textarea":B("invalid",t),xS(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Vy(t.textContent,a)?(n.popover!=null&&(B("beforetoggle",t),B("toggle",t)),n.onScroll!=null&&B("scroll",t),n.onScrollEnd!=null&&B("scrollend",t),n.onClick!=null&&(t.onclick=na),t=!0):t=!1,t||Ja(e,!0)}function mp(e){for(Oe=e.return;Oe;)switch(Oe.tag){case 5:case 31:case 13:Et=!1;return;case 27:case 3:Et=!0;return;default:Oe=Oe.return}}function pl(e){if(e!==Oe)return!1;if(!z)return mp(e),z=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||kd(e.type,e.memoizedProps)),a=!a),a&&k&&Ja(e),mp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));k=tS(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));k=tS(e)}else t===27?(t=k,en(e.type)?(e=tf,tf=null,k=e):k=t):k=Oe?St(e.stateNode.nextSibling):null;return!0}function _n(){k=Oe=null,z=!1}function jc(){var e=Ga;return e!==null&&(qe===null?qe=e:qe.push.apply(qe,e),Ga=null),e}function vo(e){Ga===null?Ga=[e]:Ga.push(e)}var Od=xt(null),wn=null,la=null;function Ra(e,t,a){F(Od,t._currentValue),t._currentValue=a}function oa(e){e._currentValue=Od.current,Ce(Od)}function Nd(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Ld(e,t,a,n){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var i=l.dependencies;if(i!==null){var o=l.child;i=i.firstContext;e:for(;i!==null;){var r=i;i=l;for(var s=0;s<t.length;s++)if(r.context===t[s]){i.lanes|=a,r=i.alternate,r!==null&&(r.lanes|=a),Nd(i.return,a,e),n||(o=null);break e}i=r.next}}else if(l.tag===18){if(o=l.return,o===null)throw Error(h(341));o.lanes|=a,i=o.alternate,i!==null&&(i.lanes|=a),Nd(o,a,e),o=null}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===e){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}}function $l(e,t,a,n){e=null;for(var l=t,i=!1;l!==null;){if(!i){if((l.flags&524288)!==0)i=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var o=l.alternate;if(o===null)throw Error(h(387));if(o=o.memoizedProps,o!==null){var r=l.type;tt(l.pendingProps.value,o.value)||(e!==null?e.push(r):e=[r])}}else if(l===ms.current){if(o=l.alternate,o===null)throw Error(h(387));o.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Do):e=[Do])}l=l.return}e!==null&&Ld(t,e,a,n),t.flags|=262144}function Ts(e){for(e=e.firstContext;e!==null;){if(!tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dn(e){wn=e,la=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ne(e){return lh(wn,e)}function qr(e,t){return wn===null&&Dn(e),lh(e,t)}function lh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},la===null){if(e===null)throw Error(h(308));la=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else la=la.next=t;return a}var sC=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},uC=he.unstable_scheduleCallback,cC=he.unstable_NormalPriority,Ee={$$typeof:aa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new sC,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&uC(cC,function(){e.controller.abort()})}var lo=null,Md=0,ql=0,xl=null;function dC(e,t){if(lo===null){var a=lo=[];Md=0,ql=Qf(),xl={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Md++,t.then(gp,gp),t}function gp(){if(--Md===0&&lo!==null){xl!==null&&(xl.status="fulfilled");var e=lo;lo=null,ql=0,xl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function fC(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var l=0;l<a.length;l++)(0,a[l])(t)},function(l){for(n.status="rejected",n.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),n}var Ep=O.S;O.S=function(e,t){hy=ke(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&dC(e,t),Ep!==null&&Ep(e,t)};var An=xt(null);function Cf(){var e=An.current;return e!==null?e:K.pooledCache}function ns(e,t){t===null?F(An,An.current):F(An,t.pool)}function ih(){var e=Cf();return e===null?null:{parent:Ee._currentValue,pool:e}}var Wl=Error(h(460)),bf=Error(h(474)),Fs=Error(h(542)),As={then:function(){}};function pp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function oh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(na,na),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hp(e),e;default:if(typeof t.status=="string")t.then(na,na);else{if(e=K,e!==null&&100<e.shellSuspendCounter)throw Error(h(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=n}},function(n){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hp(e),e}throw Cn=t,Wl}}function hn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Cn=a,Wl):a}}var Cn=null;function Sp(){if(Cn===null)throw Error(h(459));var e=Cn;return Cn=null,e}function hp(e){if(e===Wl||e===Fs)throw Error(h(483))}var Ul=null,To=0;function jr(e){var t=To;return To+=1,Ul===null&&(Ul=[]),oh(Ul,e,t)}function Xi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yr(e,t){throw t.$$typeof===$0?Error(h(525)):(e=Object.prototype.toString.call(t),Error(h(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function rh(e){function t(m,d){if(e){var p=m.deletions;p===null?(m.deletions=[d],m.flags|=16):p.push(d)}}function a(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function n(m){for(var d=new Map;m!==null;)m.key!==null?d.set(m.key,m):d.set(m.index,m),m=m.sibling;return d}function l(m,d){return m=ia(m,d),m.index=0,m.sibling=null,m}function i(m,d,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<d?(m.flags|=67108866,d):p):(m.flags|=67108866,d)):(m.flags|=1048576,d)}function o(m){return e&&m.alternate===null&&(m.flags|=67108866),m}function r(m,d,p,S){return d===null||d.tag!==6?(d=Gc(p,m.mode,S),d.return=m,d):(d=l(d,p),d.return=m,d)}function s(m,d,p,S){var A=p.type;return A===vl?f(m,d,p.props.children,S,p.key):d!==null&&(d.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===La&&hn(A)===d.type)?(d=l(d,p.props),Xi(d,p),d.return=m,d):(d=as(p.type,p.key,p.props,null,m.mode,S),Xi(d,p),d.return=m,d)}function u(m,d,p,S){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=qc(p,m.mode,S),d.return=m,d):(d=l(d,p.children||[]),d.return=m,d)}function f(m,d,p,S,A){return d===null||d.tag!==7?(d=Tn(p,m.mode,S,A),d.return=m,d):(d=l(d,p),d.return=m,d)}function E(m,d,p){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=Gc(""+d,m.mode,p),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case wr:return p=as(d.type,d.key,d.props,null,m.mode,p),Xi(p,d),p.return=m,p;case Ji:return d=qc(d,m.mode,p),d.return=m,d;case La:return d=hn(d),E(m,d,p)}if(ki(d)||ji(d))return d=Tn(d,m.mode,p,null),d.return=m,d;if(typeof d.then=="function")return E(m,jr(d),p);if(d.$$typeof===aa)return E(m,qr(m,d),p);Yr(m,d)}return null}function c(m,d,p,S){var A=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return A!==null?null:r(m,d,""+p,S);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case wr:return p.key===A?s(m,d,p,S):null;case Ji:return p.key===A?u(m,d,p,S):null;case La:return p=hn(p),c(m,d,p,S)}if(ki(p)||ji(p))return A!==null?null:f(m,d,p,S,null);if(typeof p.then=="function")return c(m,d,jr(p),S);if(p.$$typeof===aa)return c(m,d,qr(m,p),S);Yr(m,p)}return null}function g(m,d,p,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return m=m.get(p)||null,r(d,m,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wr:return m=m.get(S.key===null?p:S.key)||null,s(d,m,S,A);case Ji:return m=m.get(S.key===null?p:S.key)||null,u(d,m,S,A);case La:return S=hn(S),g(m,d,p,S,A)}if(ki(S)||ji(S))return m=m.get(p)||null,f(d,m,S,A,null);if(typeof S.then=="function")return g(m,d,p,jr(S),A);if(S.$$typeof===aa)return g(m,d,p,qr(d,S),A);Yr(d,S)}return null}function y(m,d,p,S){for(var A=null,R=null,v=d,_=d=0,C=null;v!==null&&_<p.length;_++){v.index>_?(C=v,v=null):C=v.sibling;var N=c(m,v,p[_],S);if(N===null){v===null&&(v=C);break}e&&v&&N.alternate===null&&t(m,v),d=i(N,d,_),R===null?A=N:R.sibling=N,R=N,v=C}if(_===p.length)return a(m,v),z&&ea(m,_),A;if(v===null){for(;_<p.length;_++)v=E(m,p[_],S),v!==null&&(d=i(v,d,_),R===null?A=v:R.sibling=v,R=v);return z&&ea(m,_),A}for(v=n(v);_<p.length;_++)C=g(v,m,_,p[_],S),C!==null&&(e&&C.alternate!==null&&v.delete(C.key===null?_:C.key),d=i(C,d,_),R===null?A=C:R.sibling=C,R=C);return e&&v.forEach(function(Pe){return t(m,Pe)}),z&&ea(m,_),A}function T(m,d,p,S){if(p==null)throw Error(h(151));for(var A=null,R=null,v=d,_=d=0,C=null,N=p.next();v!==null&&!N.done;_++,N=p.next()){v.index>_?(C=v,v=null):C=v.sibling;var Pe=c(m,v,N.value,S);if(Pe===null){v===null&&(v=C);break}e&&v&&Pe.alternate===null&&t(m,v),d=i(Pe,d,_),R===null?A=Pe:R.sibling=Pe,R=Pe,v=C}if(N.done)return a(m,v),z&&ea(m,_),A;if(v===null){for(;!N.done;_++,N=p.next())N=E(m,N.value,S),N!==null&&(d=i(N,d,_),R===null?A=N:R.sibling=N,R=N);return z&&ea(m,_),A}for(v=n(v);!N.done;_++,N=p.next())N=g(v,m,_,N.value,S),N!==null&&(e&&N.alternate!==null&&v.delete(N.key===null?_:N.key),d=i(N,d,_),R===null?A=N:R.sibling=N,R=N);return e&&v.forEach(function(mi){return t(m,mi)}),z&&ea(m,_),A}function b(m,d,p,S){if(typeof p=="object"&&p!==null&&p.type===vl&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case wr:e:{for(var A=p.key;d!==null;){if(d.key===A){if(A=p.type,A===vl){if(d.tag===7){a(m,d.sibling),S=l(d,p.props.children),S.return=m,m=S;break e}}else if(d.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===La&&hn(A)===d.type){a(m,d.sibling),S=l(d,p.props),Xi(S,p),S.return=m,m=S;break e}a(m,d);break}else t(m,d);d=d.sibling}p.type===vl?(S=Tn(p.props.children,m.mode,S,p.key),S.return=m,m=S):(S=as(p.type,p.key,p.props,null,m.mode,S),Xi(S,p),S.return=m,m=S)}return o(m);case Ji:e:{for(A=p.key;d!==null;){if(d.key===A)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){a(m,d.sibling),S=l(d,p.children||[]),S.return=m,m=S;break e}else{a(m,d);break}else t(m,d);d=d.sibling}S=qc(p,m.mode,S),S.return=m,m=S}return o(m);case La:return p=hn(p),b(m,d,p,S)}if(ki(p))return y(m,d,p,S);if(ji(p)){if(A=ji(p),typeof A!="function")throw Error(h(150));return p=A.call(p),T(m,d,p,S)}if(typeof p.then=="function")return b(m,d,jr(p),S);if(p.$$typeof===aa)return b(m,d,qr(m,p),S);Yr(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint"?(p=""+p,d!==null&&d.tag===6?(a(m,d.sibling),S=l(d,p),S.return=m,m=S):(a(m,d),S=Gc(p,m.mode,S),S.return=m,m=S),o(m)):a(m,d)}return function(m,d,p,S){try{To=0;var A=b(m,d,p,S);return Ul=null,A}catch(v){if(v===Wl||v===Fs)throw v;var R=Ze(29,v,null,m.mode);return R.lanes=S,R.return=m,R}finally{}}}var On=rh(!0),sh=rh(!1),Ma=!1;function _f(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ja(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(V&2)!==0){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,t=ys(e),WS(e,null,a),t}return Qs(e,n,t,a),ys(e)}function io(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,DS(e,a)}}function Yc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var l=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?l=i=o:i=i.next=o,a=a.next}while(a!==null);i===null?l=i=t:i=i.next=t}else l=i=t;a={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Id=!1;function oo(){if(Id){var e=xl;if(e!==null)throw e}}function ro(e,t,a,n){Id=!1;var l=e.updateQueue;Ma=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,r=l.shared.pending;if(r!==null){l.shared.pending=null;var s=r,u=s.next;s.next=null,o===null?i=u:o.next=u,o=s;var f=e.alternate;f!==null&&(f=f.updateQueue,r=f.lastBaseUpdate,r!==o&&(r===null?f.firstBaseUpdate=u:r.next=u,f.lastBaseUpdate=s))}if(i!==null){var E=l.baseState;o=0,f=u=s=null,r=i;do{var c=r.lane&-536870913,g=c!==r.lane;if(g?(U&c)===c:(n&c)===c){c!==0&&c===ql&&(Id=!0),f!==null&&(f=f.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var y=e,T=r;c=t;var b=a;switch(T.tag){case 1:if(y=T.payload,typeof y=="function"){E=y.call(b,E,c);break e}E=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=T.payload,c=typeof y=="function"?y.call(b,E,c):y,c==null)break e;E=$({},E,c);break e;case 2:Ma=!0}}c=r.callback,c!==null&&(e.flags|=64,g&&(e.flags|=8192),g=l.callbacks,g===null?l.callbacks=[c]:g.push(c))}else g={lane:c,tag:r.tag,payload:r.payload,callback:r.callback,next:null},f===null?(u=f=g,s=E):f=f.next=g,o|=c;if(r=r.next,r===null){if(r=l.shared.pending,r===null)break;g=r,r=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);f===null&&(s=E),l.baseState=s,l.firstBaseUpdate=u,l.lastBaseUpdate=f,i===null&&(l.shared.lanes=0),$a|=o,e.lanes=o,e.memoizedState=E}}function uh(e,t){if(typeof e!="function")throw Error(h(191,e));e.call(t)}function ch(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)uh(a[e],t)}var jl=xt(null),Cs=xt(0);function yp(e,t){e=fa,F(Cs,e),F(jl,t),fa=e|t.baseLanes}function Bd(){F(Cs,fa),F(jl,jl.current)}function Df(){fa=Cs.current,Ce(jl),Ce(Cs)}var at=xt(null),pt=null;function Ia(e){var t=e.alternate;F(se,se.current&1),F(at,e),pt===null&&(t===null||jl.current!==null||t.memoizedState!==null)&&(pt=e)}function wd(e){F(se,se.current),F(at,e),pt===null&&(pt=e)}function dh(e){e.tag===22?(F(se,se.current),F(at,e),pt===null&&(pt=e)):Ba(e)}function Ba(){F(se,se.current),F(at,at.current)}function Fe(e){Ce(at),pt===e&&(pt=null),Ce(se)}var se=xt(0);function bs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wd(a)||ef(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=0,M=null,X=null,me=null,_s=!1,zl=!1,Nn=!1,Ds=0,Ao=0,Pl=null,mC=0;function le(){throw Error(h(321))}function Of(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!tt(e[a],t[a]))return!1;return!0}function Nf(e,t,a,n,l,i){return ua=i,M=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?qh:Vf,Nn=!1,i=a(n,l),Nn=!1,zl&&(i=mh(t,a,n,l)),fh(e),i}function fh(e){O.H=Co;var t=X!==null&&X.next!==null;if(ua=0,me=X=M=null,_s=!1,Ao=0,Pl=null,t)throw Error(h(300));e===null||pe||(e=e.dependencies,e!==null&&Ts(e)&&(pe=!0))}function mh(e,t,a,n){M=e;var l=0;do{if(zl&&(Pl=null),Ao=0,zl=!1,25<=l)throw Error(h(301));if(l+=1,me=X=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}O.H=jh,i=t(a,n)}while(zl);return i}function gC(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Uo(t):t,e=e.useState()[0],(X!==null?X.memoizedState:null)!==e&&(M.flags|=1024),t}function Lf(){var e=Ds!==0;return Ds=0,e}function Mf(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Rf(e){if(_s){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}_s=!1}ua=0,me=X=M=null,zl=!1,Ao=Ds=0,Pl=null}function ze(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?M.memoizedState=me=e:me=me.next=e,me}function ue(){if(X===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=X.next;var t=me===null?M.memoizedState:me.next;if(t!==null)me=t,X=e;else{if(e===null)throw M.alternate===null?Error(h(467)):Error(h(310));X=e,e={memoizedState:X.memoizedState,baseState:X.baseState,baseQueue:X.baseQueue,queue:X.queue,next:null},me===null?M.memoizedState=me=e:me=me.next=e}return me}function Zs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uo(e){var t=Ao;return Ao+=1,Pl===null&&(Pl=[]),e=oh(Pl,e,t),t=M,(me===null?t.memoizedState:me.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?qh:Vf),e}function Js(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Uo(e);if(e.$$typeof===aa)return Ne(e)}throw Error(h(438,String(e)))}function If(e){var t=null,a=M.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=M.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Zs(),M.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=W0;return t.index++,a}function ca(e,t){return typeof t=="function"?t(e):t}function ls(e){var t=ue();return Bf(t,X,e)}function Bf(e,t,a){var n=e.queue;if(n===null)throw Error(h(311));n.lastRenderedReducer=a;var l=e.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}t.baseQueue=l=i,n.pending=null}if(i=e.baseState,l===null)e.memoizedState=i;else{t=l.next;var r=o=null,s=null,u=t,f=!1;do{var E=u.lane&-536870913;if(E!==u.lane?(U&E)===E:(ua&E)===E){var c=u.revertLane;if(c===0)s!==null&&(s=s.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),E===ql&&(f=!0);else if((ua&c)===c){u=u.next,c===ql&&(f=!0);continue}else E={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},s===null?(r=s=E,o=i):s=s.next=E,M.lanes|=c,$a|=c;E=u.action,Nn&&a(i,E),i=u.hasEagerState?u.eagerState:a(i,E)}else c={lane:E,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},s===null?(r=s=c,o=i):s=s.next=c,M.lanes|=E,$a|=E;u=u.next}while(u!==null&&u!==t);if(s===null?o=i:s.next=r,!tt(i,e.memoizedState)&&(pe=!0,f&&(a=xl,a!==null)))throw a;e.memoizedState=i,e.baseState=o,e.baseQueue=s,n.lastRenderedState=i}return l===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Xc(e){var t=ue(),a=t.queue;if(a===null)throw Error(h(311));a.lastRenderedReducer=e;var n=a.dispatch,l=a.pending,i=t.memoizedState;if(l!==null){a.pending=null;var o=l=l.next;do i=e(i,o.action),o=o.next;while(o!==l);tt(i,t.memoizedState)||(pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function gh(e,t,a){var n=M,l=ue(),i=z;if(i){if(a===void 0)throw Error(h(407));a=a()}else a=t();var o=!tt((X||l).memoizedState,a);if(o&&(l.memoizedState=a,pe=!0),l=l.queue,wf(Sh.bind(null,n,l,e),[e]),l.getSnapshot!==t||o||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Yl(9,{destroy:void 0},ph.bind(null,n,l,a,t),null),K===null)throw Error(h(349));i||(ua&127)!==0||Eh(n,t,a)}return a}function Eh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=M.updateQueue,t===null?(t=Zs(),M.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function ph(e,t,a,n){t.value=a,t.getSnapshot=n,hh(t)&&yh(e)}function Sh(e,t,a){return a(function(){hh(t)&&yh(e)})}function hh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!tt(e,a)}catch{return!0}}function yh(e){var t=Bn(e,2);t!==null&&je(t,e,2)}function xd(e){var t=ze();if(typeof e=="function"){var a=e;if(e=a(),Nn){xa(!0);try{a()}finally{xa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e},t}function vh(e,t,a,n){return e.baseState=a,Bf(e,X,typeof n=="function"?n:ca)}function EC(e,t,a,n,l){if($s(e))throw Error(h(485));if(e=t.action,e!==null){var i={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};O.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,Th(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Th(e,t){var a=t.action,n=t.payload,l=e.state;if(t.isTransition){var i=O.T,o={};O.T=o;try{var r=a(l,n),s=O.S;s!==null&&s(o,r),vp(e,t,r)}catch(u){Ud(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),O.T=i}}else try{i=a(l,n),vp(e,t,i)}catch(u){Ud(e,t,u)}}function vp(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Tp(e,t,n)},function(n){return Ud(e,t,n)}):Tp(e,t,a)}function Tp(e,t,a){t.status="fulfilled",t.value=a,Ah(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Th(e,a)))}function Ud(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Ah(t),t=t.next;while(t!==n)}e.action=null}function Ah(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ch(e,t){return t}function Ap(e,t){if(z){var a=K.formState;if(a!==null){e:{var n=M;if(z){if(k){t:{for(var l=k,i=Et;l.nodeType!==8;){if(!i){l=null;break t}if(l=St(l.nextSibling),l===null){l=null;break t}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){k=St(l.nextSibling),n=l.data==="F!";break e}}Ja(n)}n=!1}n&&(t=a[0])}}return a=ze(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ch,lastRenderedState:t},a.queue=n,a=Vh.bind(null,M,n),n.dispatch=a,n=xd(!1),i=Pf.bind(null,M,!1,n.queue),n=ze(),l={state:t,dispatch:null,action:e,pending:null},n.queue=l,a=EC.bind(null,M,l,i,a),l.dispatch=a,n.memoizedState=e,[t,a,!1]}function Cp(e){var t=ue();return bh(t,X,e)}function bh(e,t,a){if(t=Bf(e,t,Ch)[0],e=ls(ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Uo(t)}catch(o){throw o===Wl?Fs:o}else n=t;t=ue();var l=t.queue,i=l.dispatch;return a!==t.memoizedState&&(M.flags|=2048,Yl(9,{destroy:void 0},pC.bind(null,l,a),null)),[n,i,e]}function pC(e,t){e.action=t}function bp(e){var t=ue(),a=X;if(a!==null)return bh(t,a,e);ue(),t=t.memoizedState,a=ue();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Yl(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=M.updateQueue,t===null&&(t=Zs(),M.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function _h(){return ue().memoizedState}function is(e,t,a,n){var l=ze();M.flags|=e,l.memoizedState=Yl(1|t,{destroy:void 0},a,n===void 0?null:n)}function ks(e,t,a,n){var l=ue();n=n===void 0?null:n;var i=l.memoizedState.inst;X!==null&&n!==null&&Of(n,X.memoizedState.deps)?l.memoizedState=Yl(t,i,a,n):(M.flags|=e,l.memoizedState=Yl(1|t,i,a,n))}function _p(e,t){is(8390656,8,e,t)}function wf(e,t){ks(2048,8,e,t)}function SC(e){M.flags|=4;var t=M.updateQueue;if(t===null)t=Zs(),M.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Dh(e){var t=ue().memoizedState;return SC({ref:t,nextImpl:e}),function(){if((V&2)!==0)throw Error(h(440));return t.impl.apply(void 0,arguments)}}function Oh(e,t){return ks(4,2,e,t)}function Nh(e,t){return ks(4,4,e,t)}function Lh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mh(e,t,a){a=a!=null?a.concat([e]):null,ks(4,4,Lh.bind(null,t,e),a)}function xf(){}function Rh(e,t){var a=ue();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Of(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Ih(e,t){var a=ue();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Of(t,n[1]))return n[0];if(n=e(),Nn){xa(!0);try{e()}finally{xa(!1)}}return a.memoizedState=[n,t],n}function Uf(e,t,a){return a===void 0||(ua&1073741824)!==0&&(U&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=vy(),M.lanes|=e,$a|=e,a)}function Bh(e,t,a,n){return tt(a,t)?a:jl.current!==null?(e=Uf(e,a,n),tt(e,t)||(pe=!0),e):(ua&42)===0||(ua&1073741824)!==0&&(U&261930)===0?(pe=!0,e.memoizedState=a):(e=vy(),M.lanes|=e,$a|=e,t)}function wh(e,t,a,n,l){var i=H.p;H.p=i!==0&&8>i?i:8;var o=O.T,r={};O.T=r,Pf(e,!1,t,a);try{var s=l(),u=O.S;if(u!==null&&u(r,s),s!==null&&typeof s=="object"&&typeof s.then=="function"){var f=fC(s,n);so(e,t,f,et(e))}else so(e,t,n,et(e))}catch(E){so(e,t,{then:function(){},status:"rejected",reason:E},et())}finally{H.p=i,o!==null&&r.types!==null&&(o.types=r.types),O.T=o}}function hC(){}function zd(e,t,a,n){if(e.tag!==5)throw Error(h(476));var l=xh(e).queue;wh(e,l,t,vn,a===null?hC:function(){return Uh(e),a(n)})}function xh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:vn,baseState:vn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:vn},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Uh(e){var t=xh(e);t.next===null&&(t=e.alternate.memoizedState),so(e,t.next.queue,{},et())}function zf(){return Ne(Do)}function zh(){return ue().memoizedState}function Ph(){return ue().memoizedState}function yC(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=et();e=qa(a);var n=ja(t,e,a);n!==null&&(je(n,t,a),io(n,t,a)),t={cache:Af()},e.payload=t;return}t=t.return}}function vC(e,t,a){var n=et();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$s(e)?Hh(t,a):(a=hf(e,t,a,n),a!==null&&(je(a,e,n),Gh(a,t,n)))}function Vh(e,t,a){var n=et();so(e,t,a,n)}function so(e,t,a,n){var l={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($s(e))Hh(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,r=i(o,a);if(l.hasEagerState=!0,l.eagerState=r,tt(r,o))return Qs(e,t,l,0),K===null&&Ks(),!1}catch{}finally{}if(a=hf(e,t,l,n),a!==null)return je(a,e,n),Gh(a,t,n),!0}return!1}function Pf(e,t,a,n){if(n={lane:2,revertLane:Qf(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},$s(e)){if(t)throw Error(h(479))}else t=hf(e,a,n,2),t!==null&&je(t,e,2)}function $s(e){var t=e.alternate;return e===M||t!==null&&t===M}function Hh(e,t){zl=_s=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Gh(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,DS(e,a)}}var Co={readContext:Ne,use:Js,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Co.useEffectEvent=le;var qh={readContext:Ne,use:Js,useCallback:function(e,t){return ze().memoizedState=[e,t===void 0?null:t],e},useContext:Ne,useEffect:_p,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,is(4194308,4,Lh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return is(4194308,4,e,t)},useInsertionEffect:function(e,t){is(4,2,e,t)},useMemo:function(e,t){var a=ze();t=t===void 0?null:t;var n=e();if(Nn){xa(!0);try{e()}finally{xa(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=ze();if(a!==void 0){var l=a(t);if(Nn){xa(!0);try{a(t)}finally{xa(!1)}}}else l=t;return n.memoizedState=n.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},n.queue=e,e=e.dispatch=vC.bind(null,M,e),[n.memoizedState,e]},useRef:function(e){var t=ze();return e={current:e},t.memoizedState=e},useState:function(e){e=xd(e);var t=e.queue,a=Vh.bind(null,M,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(e,t){var a=ze();return Uf(a,e,t)},useTransition:function(){var e=xd(!1);return e=wh.bind(null,M,e.queue,!0,!1),ze().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=M,l=ze();if(z){if(a===void 0)throw Error(h(407));a=a()}else{if(a=t(),K===null)throw Error(h(349));(U&127)!==0||Eh(n,t,a)}l.memoizedState=a;var i={value:a,getSnapshot:t};return l.queue=i,_p(Sh.bind(null,n,i,e),[e]),n.flags|=2048,Yl(9,{destroy:void 0},ph.bind(null,n,i,a,t),null),a},useId:function(){var e=ze(),t=K.identifierPrefix;if(z){var a=It,n=Rt;a=(n&~(1<<32-We(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ds++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=mC++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:zf,useFormState:Ap,useActionState:Ap,useOptimistic:function(e){var t=ze();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Pf.bind(null,M,!0,a),a.dispatch=t,[e,t]},useMemoCache:If,useCacheRefresh:function(){return ze().memoizedState=yC.bind(null,M)},useEffectEvent:function(e){var t=ze(),a={impl:e};return t.memoizedState=a,function(){if((V&2)!==0)throw Error(h(440));return a.impl.apply(void 0,arguments)}}},Vf={readContext:Ne,use:Js,useCallback:Rh,useContext:Ne,useEffect:wf,useImperativeHandle:Mh,useInsertionEffect:Oh,useLayoutEffect:Nh,useMemo:Ih,useReducer:ls,useRef:_h,useState:function(){return ls(ca)},useDebugValue:xf,useDeferredValue:function(e,t){var a=ue();return Bh(a,X.memoizedState,e,t)},useTransition:function(){var e=ls(ca)[0],t=ue().memoizedState;return[typeof e=="boolean"?e:Uo(e),t]},useSyncExternalStore:gh,useId:zh,useHostTransitionStatus:zf,useFormState:Cp,useActionState:Cp,useOptimistic:function(e,t){var a=ue();return vh(a,X,e,t)},useMemoCache:If,useCacheRefresh:Ph};Vf.useEffectEvent=Dh;var jh={readContext:Ne,use:Js,useCallback:Rh,useContext:Ne,useEffect:wf,useImperativeHandle:Mh,useInsertionEffect:Oh,useLayoutEffect:Nh,useMemo:Ih,useReducer:Xc,useRef:_h,useState:function(){return Xc(ca)},useDebugValue:xf,useDeferredValue:function(e,t){var a=ue();return X===null?Uf(a,e,t):Bh(a,X.memoizedState,e,t)},useTransition:function(){var e=Xc(ca)[0],t=ue().memoizedState;return[typeof e=="boolean"?e:Uo(e),t]},useSyncExternalStore:gh,useId:zh,useHostTransitionStatus:zf,useFormState:bp,useActionState:bp,useOptimistic:function(e,t){var a=ue();return X!==null?vh(a,X,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:Ph};jh.useEffectEvent=Dh;function Kc(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:$({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Pd={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=et(),l=qa(n);l.payload=t,a!=null&&(l.callback=a),t=ja(e,l,n),t!==null&&(je(t,e,n),io(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=et(),l=qa(n);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=ja(e,l,n),t!==null&&(je(t,e,n),io(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=et(),n=qa(a);n.tag=2,t!=null&&(n.callback=t),t=ja(e,n,a),t!==null&&(je(t,e,a),io(t,e,a))}};function Dp(e,t,a,n,l,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ho(a,n)||!ho(l,i):!0}function Op(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Pd.enqueueReplaceState(t,t.state,null)}function Ln(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=$({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}function Yh(e){hs(e)}function Xh(e){console.error(e)}function Kh(e){hs(e)}function Os(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Np(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Vd(e,t,a){return a=qa(a),a.tag=3,a.payload={element:null},a.callback=function(){Os(e,t)},a}function Qh(e){return e=qa(e),e.tag=3,e}function Fh(e,t,a,n){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var i=n.value;e.payload=function(){return l(i)},e.callback=function(){Np(t,a,n)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Np(t,a,n),typeof l!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var r=n.stack;this.componentDidCatch(n.value,{componentStack:r!==null?r:""})})}function TC(e,t,a,n,l){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&$l(t,a,l,!0),a=at.current,a!==null){switch(a.tag){case 31:case 13:return pt===null?Is():a.alternate===null&&ie===0&&(ie=3),a.flags&=-257,a.flags|=65536,a.lanes=l,n===As?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),nd(e,n,l)),!1;case 22:return a.flags|=65536,n===As?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),nd(e,n,l)),!1}throw Error(h(435,a.tag))}return nd(e,n,l),Is(),!1}if(z)return t=at.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,n!==Dd&&(e=Error(h(422),{cause:n}),vo(gt(e,a)))):(n!==Dd&&(t=Error(h(423),{cause:n}),vo(gt(t,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,n=gt(n,a),l=Vd(e.stateNode,n,l),Yc(e,l),ie!==4&&(ie=2)),!1;var i=Error(h(520),{cause:n});if(i=gt(i,a),fo===null?fo=[i]:fo.push(i),ie!==4&&(ie=2),t===null)return!0;n=gt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=Vd(a.stateNode,n,e),Yc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ya===null||!Ya.has(i))))return a.flags|=65536,l&=-l,a.lanes|=l,l=Qh(l),Fh(l,e,a,n),Yc(a,l),!1}a=a.return}while(a!==null);return!1}var Hf=Error(h(461)),pe=!1;function _e(e,t,a,n){t.child=e===null?sh(t,null,a,n):On(t,e.child,a,n)}function Lp(e,t,a,n,l){a=a.render;var i=t.ref;if("ref"in n){var o={};for(var r in n)r!=="ref"&&(o[r]=n[r])}else o=n;return Dn(t),n=Nf(e,t,a,o,i,l),r=Lf(),e!==null&&!pe?(Mf(e,t,l),da(e,t,l)):(z&&r&&vf(t),t.flags|=1,_e(e,t,n,l),t.child)}function Mp(e,t,a,n,l){if(e===null){var i=a.type;return typeof i=="function"&&!yf(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Zh(e,t,i,n,l)):(e=as(a.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Gf(e,l)){var o=i.memoizedProps;if(a=a.compare,a=a!==null?a:ho,a(o,n)&&e.ref===t.ref)return da(e,t,l)}return t.flags|=1,e=ia(i,n),e.ref=t.ref,e.return=t,t.child=e}function Zh(e,t,a,n,l){if(e!==null){var i=e.memoizedProps;if(ho(i,n)&&e.ref===t.ref)if(pe=!1,t.pendingProps=n=i,Gf(e,l))(e.flags&131072)!==0&&(pe=!0);else return t.lanes=e.lanes,da(e,t,l)}return Hd(e,t,a,n,l)}function Jh(e,t,a,n){var l=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;n=l&~i}else n=0,t.child=null;return Rp(e,t,i,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ns(t,i!==null?i.cachePool:null),i!==null?yp(t,i):Bd(),dh(t);else return n=t.lanes=536870912,Rp(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(ns(t,i.cachePool),yp(t,i),Ba(t),t.memoizedState=null):(e!==null&&ns(t,null),Bd(),Ba(t));return _e(e,t,l,a),t.child}function Wi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Rp(e,t,a,n,l){var i=Cf();return i=i===null?null:{parent:Ee._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&ns(t,null),Bd(),dh(t),e!==null&&$l(e,t,n,!0),t.childLanes=l,null}function os(e,t){return t=Ns({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ip(e,t,a){return On(t,e.child,null,a),e=os(t,t.pendingProps),e.flags|=2,Fe(t),t.memoizedState=null,e}function AC(e,t,a){var n=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(z){if(n.mode==="hidden")return e=os(t,n),t.lanes=536870912,Wi(null,e);if(wd(t),(e=k)?(e=qy(e,Et),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Za!==null?{id:Rt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},a=th(e),a.return=t,t.child=a,Oe=t,k=null)):e=null,e===null)throw Ja(t);return t.lanes=536870912,null}return os(t,n)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(wd(t),l)if(t.flags&256)t.flags&=-257,t=Ip(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(h(558));else if(pe||$l(e,t,a,!1),l=(a&e.childLanes)!==0,pe||l){if(n=K,n!==null&&(o=OS(n,a),o!==0&&o!==i.retryLane))throw i.retryLane=o,Bn(e,o),je(n,e,o),Hf;Is(),t=Ip(e,t,a)}else e=i.treeContext,k=St(o.nextSibling),Oe=t,z=!0,Ga=null,Et=!1,e!==null&&nh(t,e),t=os(t,n),t.flags|=4096;return t}return e=ia(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function rs(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(h(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Hd(e,t,a,n,l){return Dn(t),a=Nf(e,t,a,n,void 0,l),n=Lf(),e!==null&&!pe?(Mf(e,t,l),da(e,t,l)):(z&&n&&vf(t),t.flags|=1,_e(e,t,a,l),t.child)}function Bp(e,t,a,n,l,i){return Dn(t),t.updateQueue=null,a=mh(t,n,a,l),fh(e),n=Lf(),e!==null&&!pe?(Mf(e,t,i),da(e,t,i)):(z&&n&&vf(t),t.flags|=1,_e(e,t,a,i),t.child)}function wp(e,t,a,n,l){if(Dn(t),t.stateNode===null){var i=Nl,o=a.contextType;typeof o=="object"&&o!==null&&(i=Ne(o)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Pd,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},_f(t),o=a.contextType,i.context=typeof o=="object"&&o!==null?Ne(o):Nl,i.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(Kc(t,a,o,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&Pd.enqueueReplaceState(i,i.state,null),ro(t,n,i,l),oo(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var r=t.memoizedProps,s=Ln(a,r);i.props=s;var u=i.context,f=a.contextType;o=Nl,typeof f=="object"&&f!==null&&(o=Ne(f));var E=a.getDerivedStateFromProps;f=typeof E=="function"||typeof i.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r||u!==o)&&Op(t,i,n,o),Ma=!1;var c=t.memoizedState;i.state=c,ro(t,n,i,l),oo(),u=t.memoizedState,r||c!==u||Ma?(typeof E=="function"&&(Kc(t,a,E,n),u=t.memoizedState),(s=Ma||Dp(t,a,s,n,c,u,o))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=o,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Rd(e,t),o=t.memoizedProps,f=Ln(a,o),i.props=f,E=t.pendingProps,c=i.context,u=a.contextType,s=Nl,typeof u=="object"&&u!==null&&(s=Ne(u)),r=a.getDerivedStateFromProps,(u=typeof r=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==E||c!==s)&&Op(t,i,n,s),Ma=!1,c=t.memoizedState,i.state=c,ro(t,n,i,l),oo();var g=t.memoizedState;o!==E||c!==g||Ma||e!==null&&e.dependencies!==null&&Ts(e.dependencies)?(typeof r=="function"&&(Kc(t,a,r,n),g=t.memoizedState),(f=Ma||Dp(t,a,f,n,c,g,s)||e!==null&&e.dependencies!==null&&Ts(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=s,n=f):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,rs(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=On(t,e.child,null,l),t.child=On(t,null,a,l)):_e(e,t,a,l),t.memoizedState=i.state,e=t.child):e=da(e,t,l),e}function xp(e,t,a,n){return _n(),t.flags|=256,_e(e,t,a,n),t.child}var Qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fc(e){return{baseLanes:e,cachePool:ih()}}function Zc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Je),e}function kh(e,t,a){var n=t.pendingProps,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(se.current&2)!==0),o&&(l=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(z){if(l?Ia(t):Ba(t),(e=k)?(e=qy(e,Et),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Za!==null?{id:Rt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},a=th(e),a.return=t,t.child=a,Oe=t,k=null)):e=null,e===null)throw Ja(t);return ef(e)?t.lanes=32:t.lanes=536870912,null}var r=n.children;return n=n.fallback,l?(Ba(t),l=t.mode,r=Ns({mode:"hidden",children:r},l),n=Tn(n,l,a,null),r.return=t,n.return=t,r.sibling=n,t.child=r,n=t.child,n.memoizedState=Fc(a),n.childLanes=Zc(e,o,a),t.memoizedState=Qc,Wi(null,n)):(Ia(t),Gd(t,r))}var s=e.memoizedState;if(s!==null&&(r=s.dehydrated,r!==null)){if(i)t.flags&256?(Ia(t),t.flags&=-257,t=Jc(e,t,a)):t.memoizedState!==null?(Ba(t),t.child=e.child,t.flags|=128,t=null):(Ba(t),r=n.fallback,l=t.mode,n=Ns({mode:"visible",children:n.children},l),r=Tn(r,l,a,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,On(t,e.child,null,a),n=t.child,n.memoizedState=Fc(a),n.childLanes=Zc(e,o,a),t.memoizedState=Qc,t=Wi(null,n));else if(Ia(t),ef(r)){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;o=u,n=Error(h(419)),n.stack="",n.digest=o,vo({value:n,source:null,stack:null}),t=Jc(e,t,a)}else if(pe||$l(e,t,a,!1),o=(a&e.childLanes)!==0,pe||o){if(o=K,o!==null&&(n=OS(o,a),n!==0&&n!==s.retryLane))throw s.retryLane=n,Bn(e,n),je(o,e,n),Hf;Wd(r)||Is(),t=Jc(e,t,a)}else Wd(r)?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,k=St(r.nextSibling),Oe=t,z=!0,Ga=null,Et=!1,e!==null&&nh(t,e),t=Gd(t,n.children),t.flags|=4096);return t}return l?(Ba(t),r=n.fallback,l=t.mode,s=e.child,u=s.sibling,n=ia(s,{mode:"hidden",children:n.children}),n.subtreeFlags=s.subtreeFlags&65011712,u!==null?r=ia(u,r):(r=Tn(r,l,a,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,Wi(null,n),n=t.child,r=e.child.memoizedState,r===null?r=Fc(a):(l=r.cachePool,l!==null?(s=Ee._currentValue,l=l.parent!==s?{parent:s,pool:s}:l):l=ih(),r={baseLanes:r.baseLanes|a,cachePool:l}),n.memoizedState=r,n.childLanes=Zc(e,o,a),t.memoizedState=Qc,Wi(e.child,n)):(Ia(t),a=e.child,e=a.sibling,a=ia(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function Gd(e,t){return t=Ns({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ns(e,t){return e=Ze(22,e,null,t),e.lanes=0,e}function Jc(e,t,a){return On(t,e.child,null,a),e=Gd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Up(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Nd(e.return,t,a)}function kc(e,t,a,n,l,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:l,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=a,o.tailMode=l,o.treeForkCount=i)}function $h(e,t,a){var n=t.pendingProps,l=n.revealOrder,i=n.tail;n=n.children;var o=se.current,r=(o&2)!==0;if(r?(o=o&1|2,t.flags|=128):o&=1,F(se,o),_e(e,t,n,a),n=z?yo:0,!r&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Up(e,a,t);else if(e.tag===19)Up(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(a=t.child,l=null;a!==null;)e=a.alternate,e!==null&&bs(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=t.child,t.child=null):(l=a.sibling,a.sibling=null),kc(t,!1,l,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&bs(e)===null){t.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}kc(t,!0,a,null,i,n);break;case"together":kc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function da(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),$a|=t.lanes,(a&t.childLanes)===0)if(e!==null){if($l(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(h(153));if(t.child!==null){for(e=t.child,a=ia(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ia(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Gf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ts(e)))}function CC(e,t,a){switch(t.tag){case 3:gs(t,t.stateNode.containerInfo),Ra(t,Ee,e.memoizedState.cache),_n();break;case 27:case 5:Ed(t);break;case 4:gs(t,t.stateNode.containerInfo);break;case 10:Ra(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,wd(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ia(t),t.flags|=128,null):(a&t.child.childLanes)!==0?kh(e,t,a):(Ia(t),e=da(e,t,a),e!==null?e.sibling:null);Ia(t);break;case 19:var l=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||($l(e,t,a,!1),n=(a&t.childLanes)!==0),l){if(n)return $h(e,t,a);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),F(se,se.current),n)break;return null;case 22:return t.lanes=0,Jh(e,t,a,t.pendingProps);case 24:Ra(t,Ee,e.memoizedState.cache)}return da(e,t,a)}function Wh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)pe=!0;else{if(!Gf(e,a)&&(t.flags&128)===0)return pe=!1,CC(e,t,a);pe=(e.flags&131072)!==0}else pe=!1,z&&(t.flags&1048576)!==0&&ah(t,yo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=hn(t.elementType),t.type=e,typeof e=="function")yf(e)?(n=Ln(e,n),t.tag=1,t=wp(null,t,e,n,a)):(t.tag=0,t=Hd(null,t,e,n,a));else{if(e!=null){var l=e.$$typeof;if(l===lf){t.tag=11,t=Lp(null,t,e,n,a);break e}else if(l===of){t.tag=14,t=Mp(null,t,e,n,a);break e}}throw t=md(e)||e,Error(h(306,t,""))}}return t;case 0:return Hd(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,l=Ln(n,t.pendingProps),wp(e,t,n,l,a);case 3:e:{if(gs(t,t.stateNode.containerInfo),e===null)throw Error(h(387));n=t.pendingProps;var i=t.memoizedState;l=i.element,Rd(e,t),ro(t,n,null,a);var o=t.memoizedState;if(n=o.cache,Ra(t,Ee,n),n!==i.cache&&Ld(t,[Ee],a,!0),oo(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=xp(e,t,n,a);break e}else if(n!==l){l=gt(Error(h(424)),t),vo(l),t=xp(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(k=St(e.firstChild),Oe=t,z=!0,Ga=null,Et=!0,a=sh(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_n(),n===l){t=da(e,t,a);break e}_e(e,t,n,a)}t=t.child}return t;case 26:return rs(e,t),e===null?(a=lS(t.type,null,t.pendingProps,null))?t.memoizedState=a:z||(a=t.type,e=t.pendingProps,n=Us(Ha.current).createElement(a),n[De]=t,n[Ye]=e,Le(n,a,e),Ae(n),t.stateNode=n):t.memoizedState=lS(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ed(t),e===null&&z&&(n=t.stateNode=jy(t.type,t.pendingProps,Ha.current),Oe=t,Et=!0,l=k,en(t.type)?(tf=l,k=St(n.firstChild)):k=l),_e(e,t,t.pendingProps.children,a),rs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&z&&((l=n=k)&&(n=kC(n,t.type,t.pendingProps,Et),n!==null?(t.stateNode=n,Oe=t,k=St(n.firstChild),Et=!1,l=!0):l=!1),l||Ja(t)),Ed(t),l=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,n=i.children,kd(l,i)?n=null:o!==null&&kd(l,o)&&(t.flags|=32),t.memoizedState!==null&&(l=Nf(e,t,gC,null,null,a),Do._currentValue=l),rs(e,t),_e(e,t,n,a),t.child;case 6:return e===null&&z&&((e=a=k)&&(a=$C(a,t.pendingProps,Et),a!==null?(t.stateNode=a,Oe=t,k=null,e=!0):e=!1),e||Ja(t)),null;case 13:return kh(e,t,a);case 4:return gs(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=On(t,null,n,a):_e(e,t,n,a),t.child;case 11:return Lp(e,t,t.type,t.pendingProps,a);case 7:return _e(e,t,t.pendingProps,a),t.child;case 8:return _e(e,t,t.pendingProps.children,a),t.child;case 12:return _e(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ra(t,t.type,n.value),_e(e,t,n.children,a),t.child;case 9:return l=t.type._context,n=t.pendingProps.children,Dn(t),l=Ne(l),n=n(l),t.flags|=1,_e(e,t,n,a),t.child;case 14:return Mp(e,t,t.type,t.pendingProps,a);case 15:return Zh(e,t,t.type,t.pendingProps,a);case 19:return $h(e,t,a);case 31:return AC(e,t,a);case 22:return Jh(e,t,a,t.pendingProps);case 24:return Dn(t),n=Ne(Ee),e===null?(l=Cf(),l===null&&(l=K,i=Af(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=a),l=i),t.memoizedState={parent:n,cache:l},_f(t),Ra(t,Ee,l)):((e.lanes&a)!==0&&(Rd(e,t),ro(t,null,null,a),oo()),l=e.memoizedState,i=t.memoizedState,l.parent!==n?(l={parent:n,cache:n},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),Ra(t,Ee,n)):(n=i.cache,Ra(t,Ee,n),n!==l.cache&&Ld(t,[Ee],a,!0))),_e(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(h(156,t.tag))}function Jt(e){e.flags|=4}function $c(e,t,a,n,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(Cy())e.flags|=8192;else throw Cn=As,bf}else e.flags&=-16777217}function zp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ky(t))if(Cy())e.flags|=8192;else throw Cn=As,bf}function Xr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?bS():536870912,e.lanes|=t,Xl|=t)}function Ki(e,t){if(!z)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function J(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags&65011712,n|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function bC(e,t,a){var n=t.pendingProps;switch(Tf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return J(t),null;case 1:return J(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),oa(Ee),Vl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(pl(t)?Jt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jc())),J(t),null;case 26:var l=t.type,i=t.memoizedState;return e===null?(Jt(t),i!==null?(J(t),zp(t,i)):(J(t),$c(t,l,null,n,a))):i?i!==e.memoizedState?(Jt(t),J(t),zp(t,i)):(J(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Jt(t),J(t),$c(t,l,e,n,a)),null;case 27:if(Es(t),a=Ha.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Jt(t);else{if(!n){if(t.stateNode===null)throw Error(h(166));return J(t),null}e=wt.current,pl(t)?fp(t,e):(e=jy(l,n,a),t.stateNode=e,Jt(t))}return J(t),null;case 5:if(Es(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Jt(t);else{if(!n){if(t.stateNode===null)throw Error(h(166));return J(t),null}if(i=wt.current,pl(t))fp(t,i);else{var o=Us(Ha.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(l,{is:n.is}):o.createElement(l)}}i[De]=t,i[Ye]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Le(i,l,n),l){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Jt(t)}}return J(t),$c(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Jt(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(h(166));if(e=Ha.current,pl(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,l=Oe,l!==null)switch(l.tag){case 27:case 5:n=l.memoizedProps}e[De]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Vy(e.nodeValue,a)),e||Ja(t,!0)}else e=Us(e).createTextNode(n),e[De]=t,t.stateNode=e}return J(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=pl(t),a!==null){if(e===null){if(!n)throw Error(h(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(557));e[De]=t}else _n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;J(t),e=!1}else a=jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Fe(t),t):(Fe(t),null);if((t.flags&128)!==0)throw Error(h(558))}return J(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=pl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(h(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(h(317));l[De]=t}else _n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;J(t),l=!1}else l=jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(Fe(t),t):(Fe(t),null)}return Fe(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,l=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(l=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==l&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Xr(t,t.updateQueue),J(t),null);case 4:return Vl(),e===null&&Ff(t.stateNode.containerInfo),J(t),null;case 10:return oa(t.type),J(t),null;case 19:if(Ce(se),n=t.memoizedState,n===null)return J(t),null;if(l=(t.flags&128)!==0,i=n.rendering,i===null)if(l)Ki(n,!1);else{if(ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=bs(e),i!==null){for(t.flags|=128,Ki(n,!1),e=i.updateQueue,t.updateQueue=e,Xr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)eh(a,e),a=a.sibling;return F(se,se.current&1|2),z&&ea(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&ke()>Ms&&(t.flags|=128,l=!0,Ki(n,!1),t.lanes=4194304)}else{if(!l)if(e=bs(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Xr(t,e),Ki(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!z)return J(t),null}else 2*ke()-n.renderingStartTime>Ms&&a!==536870912&&(t.flags|=128,l=!0,Ki(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ke(),e.sibling=null,a=se.current,F(se,l?a&1|2:a&1),z&&ea(t,n.treeForkCount),e):(J(t),null);case 22:case 23:return Fe(t),Df(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(J(t),t.subtreeFlags&6&&(t.flags|=8192)):J(t),a=t.updateQueue,a!==null&&Xr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&Ce(An),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),oa(Ee),J(t),null;case 25:return null;case 30:return null}throw Error(h(156,t.tag))}function _C(e,t){switch(Tf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oa(Ee),Vl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Es(t),null;case 31:if(t.memoizedState!==null){if(Fe(t),t.alternate===null)throw Error(h(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Fe(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(h(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(se),null;case 4:return Vl(),null;case 10:return oa(t.type),null;case 22:case 23:return Fe(t),Df(),e!==null&&Ce(An),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return oa(Ee),null;case 25:return null;default:return null}}function ey(e,t){switch(Tf(t),t.tag){case 3:oa(Ee),Vl();break;case 26:case 27:case 5:Es(t);break;case 4:Vl();break;case 31:t.memoizedState!==null&&Fe(t);break;case 13:Fe(t);break;case 19:Ce(se);break;case 10:oa(t.type);break;case 22:case 23:Fe(t),Df(),e!==null&&Ce(An);break;case 24:oa(Ee)}}function zo(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var l=n.next;a=l;do{if((a.tag&e)===e){n=void 0;var i=a.create,o=a.inst;n=i(),o.destroy=n}a=a.next}while(a!==l)}}catch(r){q(t,t.return,r)}}function ka(e,t,a){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var i=l.next;n=i;do{if((n.tag&e)===e){var o=n.inst,r=o.destroy;if(r!==void 0){o.destroy=void 0,l=t;var s=a,u=r;try{u()}catch(f){q(l,s,f)}}}n=n.next}while(n!==i)}}catch(f){q(t,t.return,f)}}function ty(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{ch(t,a)}catch(n){q(e,e.return,n)}}}function ay(e,t,a){a.props=Ln(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){q(e,t,n)}}function uo(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(l){q(e,t,l)}}function Bt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(l){q(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){q(e,t,l)}else a.current=null}function ny(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(l){q(e,e.return,l)}}function Wc(e,t,a){try{var n=e.stateNode;XC(n,e.type,a,t),n[Ye]=t}catch(l){q(e,e.return,l)}}function ly(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&en(e.type)||e.tag===4}function ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&en(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qd(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=na));else if(n!==4&&(n===27&&en(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(qd(e,t,a),e=e.sibling;e!==null;)qd(e,t,a),e=e.sibling}function Ls(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&en(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ls(e,t,a),e=e.sibling;e!==null;)Ls(e,t,a),e=e.sibling}function iy(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Le(t,n,a),t[De]=e,t[Ye]=a}catch(i){q(e,e.return,i)}}var ta=!1,ge=!1,td=!1,Pp=typeof WeakSet=="function"?WeakSet:Set,Te=null;function DC(e,t){if(e=e.containerInfo,Zd=Hs,e=KS(e),pf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var l=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var o=0,r=-1,s=-1,u=0,f=0,E=e,c=null;t:for(;;){for(var g;E!==a||l!==0&&E.nodeType!==3||(r=o+l),E!==i||n!==0&&E.nodeType!==3||(s=o+n),E.nodeType===3&&(o+=E.nodeValue.length),(g=E.firstChild)!==null;)c=E,E=g;for(;;){if(E===e)break t;if(c===a&&++u===l&&(r=o),c===i&&++f===n&&(s=o),(g=E.nextSibling)!==null)break;E=c,c=E.parentNode}E=g}a=r===-1||s===-1?null:{start:r,end:s}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:e,selectionRange:a},Hs=!1,Te=t;Te!==null;)if(t=Te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Te=e;else for(;Te!==null;){switch(t=Te,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)l=e[a],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,l=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var y=Ln(a.type,l);e=n.getSnapshotBeforeUpdate(y,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(T){q(a,a.return,T)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)$d(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(h(163))}if(e=t.sibling,e!==null){e.return=t.return,Te=e;break}Te=t.return}}function oy(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:$t(e,a),n&4&&zo(5,a);break;case 1:if($t(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){q(a,a.return,o)}else{var l=Ln(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){q(a,a.return,o)}}n&64&&ty(a),n&512&&uo(a,a.return);break;case 3:if($t(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ch(e,t)}catch(o){q(a,a.return,o)}}break;case 27:t===null&&n&4&&iy(a);case 26:case 5:$t(e,a),t===null&&n&4&&ny(a),n&512&&uo(a,a.return);break;case 12:$t(e,a);break;case 31:$t(e,a),n&4&&uy(e,a);break;case 13:$t(e,a),n&4&&cy(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=xC.bind(null,a),WC(e,a))));break;case 22:if(n=a.memoizedState!==null||ta,!n){t=t!==null&&t.memoizedState!==null||ge,l=ta;var i=ge;ta=n,(ge=t)&&!i?Wt(e,a,(a.subtreeFlags&8772)!==0):$t(e,a),ta=l,ge=i}break;case 30:break;default:$t(e,a)}}function ry(e){var t=e.alternate;t!==null&&(e.alternate=null,ry(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&cf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,Ge=!1;function kt(e,t,a){for(a=a.child;a!==null;)sy(e,t,a),a=a.sibling}function sy(e,t,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Mo,a)}catch{}switch(a.tag){case 26:ge||Bt(a,t),kt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ge||Bt(a,t);var n=ee,l=Ge;en(a.type)&&(ee=a.stateNode,Ge=!1),kt(e,t,a),go(a.stateNode),ee=n,Ge=l;break;case 5:ge||Bt(a,t);case 6:if(n=ee,l=Ge,ee=null,kt(e,t,a),ee=n,Ge=l,ee!==null)if(Ge)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(i){q(a,t,i)}else try{ee.removeChild(a.stateNode)}catch(i){q(a,t,i)}break;case 18:ee!==null&&(Ge?(e=ee,Wp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Zl(e)):Wp(ee,a.stateNode));break;case 4:n=ee,l=Ge,ee=a.stateNode.containerInfo,Ge=!0,kt(e,t,a),ee=n,Ge=l;break;case 0:case 11:case 14:case 15:ka(2,a,t),ge||ka(4,a,t),kt(e,t,a);break;case 1:ge||(Bt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&ay(a,t,n)),kt(e,t,a);break;case 21:kt(e,t,a);break;case 22:ge=(n=ge)||a.memoizedState!==null,kt(e,t,a),ge=n;break;default:kt(e,t,a)}}function uy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zl(e)}catch(a){q(t,t.return,a)}}}function cy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zl(e)}catch(a){q(t,t.return,a)}}function OC(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Pp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Pp),t;default:throw Error(h(435,e.tag))}}function Kr(e,t){var a=OC(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var l=UC.bind(null,e,n);n.then(l,l)}})}function Ve(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var l=a[n],i=e,o=t,r=o;e:for(;r!==null;){switch(r.tag){case 27:if(en(r.type)){ee=r.stateNode,Ge=!1;break e}break;case 5:ee=r.stateNode,Ge=!1;break e;case 3:case 4:ee=r.stateNode.containerInfo,Ge=!0;break e}r=r.return}if(ee===null)throw Error(h(160));sy(i,o,l),ee=null,Ge=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)dy(t,e),t=t.sibling}var _t=null;function dy(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ve(t,e),He(e),n&4&&(ka(3,e,e.return),zo(3,e),ka(5,e,e.return));break;case 1:Ve(t,e),He(e),n&512&&(ge||a===null||Bt(a,a.return)),n&64&&ta&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var l=_t;if(Ve(t,e),He(e),n&512&&(ge||a===null||Bt(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(n){case"title":i=l.getElementsByTagName("title")[0],(!i||i[Bo]||i[De]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(n),l.head.insertBefore(i,l.querySelector("head > title"))),Le(i,n,a),i[De]=e,Ae(i),n=i;break e;case"link":var o=oS("link","href",l).get(n+(a.href||""));if(o){for(var r=0;r<o.length;r++)if(i=o[r],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(r,1);break t}}i=l.createElement(n),Le(i,n,a),l.head.appendChild(i);break;case"meta":if(o=oS("meta","content",l).get(n+(a.content||""))){for(r=0;r<o.length;r++)if(i=o[r],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(r,1);break t}}i=l.createElement(n),Le(i,n,a),l.head.appendChild(i);break;default:throw Error(h(468,n))}i[De]=e,Ae(i),n=i}e.stateNode=n}else rS(l,e.type,e.stateNode);else e.stateNode=iS(l,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?rS(l,e.type,e.stateNode):iS(l,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Wc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ve(t,e),He(e),n&512&&(ge||a===null||Bt(a,a.return)),a!==null&&n&4&&Wc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ve(t,e),He(e),n&512&&(ge||a===null||Bt(a,a.return)),e.flags&32){l=e.stateNode;try{Gl(l,"")}catch(y){q(e,e.return,y)}}n&4&&e.stateNode!=null&&(l=e.memoizedProps,Wc(e,l,a!==null?a.memoizedProps:l)),n&1024&&(td=!0);break;case 6:if(Ve(t,e),He(e),n&4){if(e.stateNode===null)throw Error(h(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(y){q(e,e.return,y)}}break;case 3:if(cs=null,l=_t,_t=zs(t.containerInfo),Ve(t,e),_t=l,He(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Zl(t.containerInfo)}catch(y){q(e,e.return,y)}td&&(td=!1,fy(e));break;case 4:n=_t,_t=zs(e.stateNode.containerInfo),Ve(t,e),He(e),_t=n;break;case 12:Ve(t,e),He(e);break;case 31:Ve(t,e),He(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Kr(e,n)));break;case 13:Ve(t,e),He(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ws=ke()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Kr(e,n)));break;case 22:l=e.memoizedState!==null;var s=a!==null&&a.memoizedState!==null,u=ta,f=ge;if(ta=u||l,ge=f||s,Ve(t,e),ge=f,ta=u,He(e),n&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(a===null||s||ta||ge||yn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){s=a=t;try{if(i=s.stateNode,l)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{r=s.stateNode;var E=s.memoizedProps.style,c=E!=null&&E.hasOwnProperty("display")?E.display:null;r.style.display=c==null||typeof c=="boolean"?"":(""+c).trim()}}catch(y){q(s,s.return,y)}}}else if(t.tag===6){if(a===null){s=t;try{s.stateNode.nodeValue=l?"":s.memoizedProps}catch(y){q(s,s.return,y)}}}else if(t.tag===18){if(a===null){s=t;try{var g=s.stateNode;l?eS(g,!0):eS(s.stateNode,!1)}catch(y){q(s,s.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Kr(e,a))));break;case 19:Ve(t,e),He(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Kr(e,n)));break;case 30:break;case 21:break;default:Ve(t,e),He(e)}}function He(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(ly(n)){a=n;break}n=n.return}if(a==null)throw Error(h(160));switch(a.tag){case 27:var l=a.stateNode,i=ed(e);Ls(e,i,l);break;case 5:var o=a.stateNode;a.flags&32&&(Gl(o,""),a.flags&=-33);var r=ed(e);Ls(e,r,o);break;case 3:case 4:var s=a.stateNode.containerInfo,u=ed(e);qd(e,u,s);break;default:throw Error(h(161))}}catch(f){q(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fy(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function $t(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)oy(e,t.alternate,t),t=t.sibling}function yn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ka(4,t,t.return),yn(t);break;case 1:Bt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&ay(t,t.return,a),yn(t);break;case 27:go(t.stateNode);case 26:case 5:Bt(t,t.return),yn(t);break;case 22:t.memoizedState===null&&yn(t);break;case 30:yn(t);break;default:yn(t)}e=e.sibling}}function Wt(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,l=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Wt(l,i,a),zo(4,i);break;case 1:if(Wt(l,i,a),n=i,l=n.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(u){q(n,n.return,u)}if(n=i,l=n.updateQueue,l!==null){var r=n.stateNode;try{var s=l.shared.hiddenCallbacks;if(s!==null)for(l.shared.hiddenCallbacks=null,l=0;l<s.length;l++)uh(s[l],r)}catch(u){q(n,n.return,u)}}a&&o&64&&ty(i),uo(i,i.return);break;case 27:iy(i);case 26:case 5:Wt(l,i,a),a&&n===null&&o&4&&ny(i),uo(i,i.return);break;case 12:Wt(l,i,a);break;case 31:Wt(l,i,a),a&&o&4&&uy(l,i);break;case 13:Wt(l,i,a),a&&o&4&&cy(l,i);break;case 22:i.memoizedState===null&&Wt(l,i,a),uo(i,i.return);break;case 30:break;default:Wt(l,i,a)}t=t.sibling}}function qf(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&xo(a))}function jf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xo(e))}function bt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)my(e,t,a,n),t=t.sibling}function my(e,t,a,n){var l=t.flags;switch(t.tag){case 0:case 11:case 15:bt(e,t,a,n),l&2048&&zo(9,t);break;case 1:bt(e,t,a,n);break;case 3:bt(e,t,a,n),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xo(e)));break;case 12:if(l&2048){bt(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,r=i.onPostCommit;typeof r=="function"&&r(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(s){q(t,t.return,s)}}else bt(e,t,a,n);break;case 31:bt(e,t,a,n);break;case 13:bt(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?bt(e,t,a,n):co(e,t):i._visibility&2?bt(e,t,a,n):(i._visibility|=2,hl(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),l&2048&&qf(o,t);break;case 24:bt(e,t,a,n),l&2048&&jf(t.alternate,t);break;default:bt(e,t,a,n)}}function hl(e,t,a,n,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,r=a,s=n,u=o.flags;switch(o.tag){case 0:case 11:case 15:hl(i,o,r,s,l),zo(8,o);break;case 23:break;case 22:var f=o.stateNode;o.memoizedState!==null?f._visibility&2?hl(i,o,r,s,l):co(i,o):(f._visibility|=2,hl(i,o,r,s,l)),l&&u&2048&&qf(o.alternate,o);break;case 24:hl(i,o,r,s,l),l&&u&2048&&jf(o.alternate,o);break;default:hl(i,o,r,s,l)}t=t.sibling}}function co(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,l=n.flags;switch(n.tag){case 22:co(a,n),l&2048&&qf(n.alternate,n);break;case 24:co(a,n),l&2048&&jf(n.alternate,n);break;default:co(a,n)}t=t.sibling}}var eo=8192;function Sl(e,t,a){if(e.subtreeFlags&eo)for(e=e.child;e!==null;)gy(e,t,a),e=e.sibling}function gy(e,t,a){switch(e.tag){case 26:Sl(e,t,a),e.flags&eo&&e.memoizedState!==null&&db(a,_t,e.memoizedState,e.memoizedProps);break;case 5:Sl(e,t,a);break;case 3:case 4:var n=_t;_t=zs(e.stateNode.containerInfo),Sl(e,t,a),_t=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=eo,eo=16777216,Sl(e,t,a),eo=n):Sl(e,t,a));break;default:Sl(e,t,a)}}function Ey(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Qi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Te=n,Sy(n,e)}Ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)py(e),e=e.sibling}function py(e){switch(e.tag){case 0:case 11:case 15:Qi(e),e.flags&2048&&ka(9,e,e.return);break;case 3:Qi(e);break;case 12:Qi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ss(e)):Qi(e);break;default:Qi(e)}}function ss(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Te=n,Sy(n,e)}Ey(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ka(8,t,t.return),ss(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ss(t));break;default:ss(t)}e=e.sibling}}function Sy(e,t){for(;Te!==null;){var a=Te;switch(a.tag){case 0:case 11:case 15:ka(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:xo(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Te=n;else e:for(a=e;Te!==null;){n=Te;var l=n.sibling,i=n.return;if(ry(n),n===a){Te=null;break e}if(l!==null){l.return=i,Te=l;break e}Te=i}}}var NC={getCacheForType:function(e){var t=Ne(Ee),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Ne(Ee).controller.signal}},LC=typeof WeakMap=="function"?WeakMap:Map,V=0,K=null,w=null,U=0,G=0,Qe=null,za=!1,ei=!1,Yf=!1,fa=0,ie=0,$a=0,bn=0,Xf=0,Je=0,Xl=0,fo=null,qe=null,jd=!1,Ws=0,hy=0,Ms=1/0,Rs=null,Ya=null,Se=0,Xa=null,Kl=null,ra=0,Yd=0,Xd=null,yy=null,mo=0,Kd=null;function et(){return(V&2)!==0&&U!==0?U&-U:O.T!==null?Qf():NS()}function vy(){if(Je===0)if((U&536870912)===0||z){var e=Ur;Ur<<=1,(Ur&3932160)===0&&(Ur=262144),Je=e}else Je=536870912;return e=at.current,e!==null&&(e.flags|=32),Je}function je(e,t,a){(e===K&&(G===2||G===9)||e.cancelPendingCommit!==null)&&(Ql(e,0),Pa(e,U,Je,!1)),Io(e,a),((V&2)===0||e!==K)&&(e===K&&((V&2)===0&&(bn|=a),ie===4&&Pa(e,U,Je,!1)),Ut(e))}function Ty(e,t,a){if((V&6)!==0)throw Error(h(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ro(e,t),l=n?IC(e,t):ad(e,t,!0),i=n;do{if(l===0){ei&&!n&&Pa(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!MC(a)){l=ad(e,t,!1),i=!1;continue}if(l===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var r=e;l=fo;var s=r.current.memoizedState.isDehydrated;if(s&&(Ql(r,o).flags|=256),o=ad(r,o,!1),o!==2){if(Yf&&!s){r.errorRecoveryDisabledLanes|=i,bn|=i,l=4;break e}i=qe,qe=l,i!==null&&(qe===null?qe=i:qe.push.apply(qe,i))}l=o}if(i=!1,l!==2)continue}}if(l===1){Ql(e,0),Pa(e,t,0,!0);break}e:{switch(n=e,i=l,i){case 0:case 1:throw Error(h(345));case 4:if((t&4194048)!==t)break;case 6:Pa(n,t,Je,!za);break e;case 2:qe=null;break;case 3:case 5:break;default:throw Error(h(329))}if((t&62914560)===t&&(l=Ws+300-ke(),10<l)){if(Pa(n,t,Je,!za),qs(n,0,!0)!==0)break e;ra=t,n.timeoutHandle=Gy(Vp.bind(null,n,a,qe,Rs,jd,t,Je,bn,Xl,za,i,"Throttled",-0,0),l);break e}Vp(n,a,qe,Rs,jd,t,Je,bn,Xl,za,i,null,-0,0)}}break}while(!0);Ut(e)}function Vp(e,t,a,n,l,i,o,r,s,u,f,E,c,g){if(e.timeoutHandle=-1,E=t.subtreeFlags,E&8192||(E&16785408)===16785408){E={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:na},gy(t,i,E);var y=(i&62914560)===i?Ws-ke():(i&4194048)===i?hy-ke():0;if(y=fb(E,y),y!==null){ra=i,e.cancelPendingCommit=y(Gp.bind(null,e,t,i,a,n,l,o,r,s,f,E,null,c,g)),Pa(e,i,o,!u);return}}Gp(e,t,i,a,n,l,o,r,s)}function MC(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var l=a[n],i=l.getSnapshot;l=l.value;try{if(!tt(i(),l))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pa(e,t,a,n){t&=~Xf,t&=~bn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var l=t;0<l;){var i=31-We(l),o=1<<i;n[i]=-1,l&=~o}a!==0&&_S(e,a,t)}function eu(){return(V&6)===0?(Po(0,!1),!1):!0}function Kf(){if(w!==null){if(G===0)var e=w.return;else e=w,la=wn=null,Rf(e),Ul=null,To=0,e=w;for(;e!==null;)ey(e.alternate,e),e=e.return;w=null}}function Ql(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,FC(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ra=0,Kf(),K=e,w=a=ia(e.current,null),U=t,G=0,Qe=null,za=!1,ei=Ro(e,t),Yf=!1,Xl=Je=Xf=bn=$a=ie=0,qe=fo=null,jd=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var l=31-We(n),i=1<<l;t|=e[l],n&=~i}return fa=t,Ks(),a}function Ay(e,t){M=null,O.H=Co,t===Wl||t===Fs?(t=Sp(),G=3):t===bf?(t=Sp(),G=4):G=t===Hf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Qe=t,w===null&&(ie=1,Os(e,gt(t,e.current)))}function Cy(){var e=at.current;return e===null?!0:(U&4194048)===U?pt===null:(U&62914560)===U||(U&536870912)!==0?e===pt:!1}function by(){var e=O.H;return O.H=Co,e===null?Co:e}function _y(){var e=O.A;return O.A=NC,e}function Is(){ie=4,za||(U&4194048)!==U&&at.current!==null||(ei=!0),($a&134217727)===0&&(bn&134217727)===0||K===null||Pa(K,U,Je,!1)}function ad(e,t,a){var n=V;V|=2;var l=by(),i=_y();(K!==e||U!==t)&&(Rs=null,Ql(e,t)),t=!1;var o=ie;e:do try{if(G!==0&&w!==null){var r=w,s=Qe;switch(G){case 8:Kf(),o=6;break e;case 3:case 2:case 9:case 6:at.current===null&&(t=!0);var u=G;if(G=0,Qe=null,Rl(e,r,s,u),a&&ei){o=0;break e}break;default:u=G,G=0,Qe=null,Rl(e,r,s,u)}}RC(),o=ie;break}catch(f){Ay(e,f)}while(!0);return t&&e.shellSuspendCounter++,la=wn=null,V=n,O.H=l,O.A=i,w===null&&(K=null,U=0,Ks()),o}function RC(){for(;w!==null;)Dy(w)}function IC(e,t){var a=V;V|=2;var n=by(),l=_y();K!==e||U!==t?(Rs=null,Ms=ke()+500,Ql(e,t)):ei=Ro(e,t);e:do try{if(G!==0&&w!==null){t=w;var i=Qe;t:switch(G){case 1:G=0,Qe=null,Rl(e,t,i,1);break;case 2:case 9:if(pp(i)){G=0,Qe=null,Hp(t);break}t=function(){G!==2&&G!==9||K!==e||(G=7),Ut(e)},i.then(t,t);break e;case 3:G=7;break e;case 4:G=5;break e;case 7:pp(i)?(G=0,Qe=null,Hp(t)):(G=0,Qe=null,Rl(e,t,i,7));break;case 5:var o=null;switch(w.tag){case 26:o=w.memoizedState;case 5:case 27:var r=w;if(o?Ky(o):r.stateNode.complete){G=0,Qe=null;var s=r.sibling;if(s!==null)w=s;else{var u=r.return;u!==null?(w=u,tu(u)):w=null}break t}}G=0,Qe=null,Rl(e,t,i,5);break;case 6:G=0,Qe=null,Rl(e,t,i,6);break;case 8:Kf(),ie=6;break e;default:throw Error(h(462))}}BC();break}catch(f){Ay(e,f)}while(!0);return la=wn=null,O.H=n,O.A=l,V=a,w!==null?0:(K=null,U=0,Ks(),ie)}function BC(){for(;w!==null&&!aA();)Dy(w)}function Dy(e){var t=Wh(e.alternate,e,fa);e.memoizedProps=e.pendingProps,t===null?tu(e):w=t}function Hp(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Bp(a,t,t.pendingProps,t.type,void 0,U);break;case 11:t=Bp(a,t,t.pendingProps,t.type.render,t.ref,U);break;case 5:Rf(t);default:ey(a,t),t=w=eh(t,fa),t=Wh(a,t,fa)}e.memoizedProps=e.pendingProps,t===null?tu(e):w=t}function Rl(e,t,a,n){la=wn=null,Rf(t),Ul=null,To=0;var l=t.return;try{if(TC(e,l,t,a,U)){ie=1,Os(e,gt(a,e.current)),w=null;return}}catch(i){if(l!==null)throw w=l,i;ie=1,Os(e,gt(a,e.current)),w=null;return}t.flags&32768?(z||n===1?e=!0:ei||(U&536870912)!==0?e=!1:(za=e=!0,(n===2||n===9||n===3||n===6)&&(n=at.current,n!==null&&n.tag===13&&(n.flags|=16384))),Oy(t,e)):tu(t)}function tu(e){var t=e;do{if((t.flags&32768)!==0){Oy(t,za);return}e=t.return;var a=bC(t.alternate,t,fa);if(a!==null){w=a;return}if(t=t.sibling,t!==null){w=t;return}w=t=e}while(t!==null);ie===0&&(ie=5)}function Oy(e,t){do{var a=_C(e.alternate,e);if(a!==null){a.flags&=32767,w=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){w=e;return}w=e=a}while(e!==null);ie=6,w=null}function Gp(e,t,a,n,l,i,o,r,s){e.cancelPendingCommit=null;do au();while(Se!==0);if((V&6)!==0)throw Error(h(327));if(t!==null){if(t===e.current)throw Error(h(177));if(i=t.lanes|t.childLanes,i|=Sf,fA(e,a,i,o,r,s),e===K&&(w=K=null,U=0),Kl=t,Xa=e,ra=a,Yd=i,Xd=l,yy=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zC(ps,function(){return Iy(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=O.T,O.T=null,l=H.p,H.p=2,o=V,V|=4;try{DC(e,t,a)}finally{V=o,H.p=l,O.T=n}}Se=1,Ny(),Ly(),My()}}function Ny(){if(Se===1){Se=0;var e=Xa,t=Kl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var n=H.p;H.p=2;var l=V;V|=4;try{dy(t,e);var i=Jd,o=KS(e.containerInfo),r=i.focusedElem,s=i.selectionRange;if(o!==r&&r&&r.ownerDocument&&XS(r.ownerDocument.documentElement,r)){if(s!==null&&pf(r)){var u=s.start,f=s.end;if(f===void 0&&(f=u),"selectionStart"in r)r.selectionStart=u,r.selectionEnd=Math.min(f,r.value.length);else{var E=r.ownerDocument||document,c=E&&E.defaultView||window;if(c.getSelection){var g=c.getSelection(),y=r.textContent.length,T=Math.min(s.start,y),b=s.end===void 0?T:Math.min(s.end,y);!g.extend&&T>b&&(o=b,b=T,T=o);var m=up(r,T),d=up(r,b);if(m&&d&&(g.rangeCount!==1||g.anchorNode!==m.node||g.anchorOffset!==m.offset||g.focusNode!==d.node||g.focusOffset!==d.offset)){var p=E.createRange();p.setStart(m.node,m.offset),g.removeAllRanges(),T>b?(g.addRange(p),g.extend(d.node,d.offset)):(p.setEnd(d.node,d.offset),g.addRange(p))}}}}for(E=[],g=r;g=g.parentNode;)g.nodeType===1&&E.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<E.length;r++){var S=E[r];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}Hs=!!Zd,Jd=Zd=null}finally{V=l,H.p=n,O.T=a}}e.current=t,Se=2}}function Ly(){if(Se===2){Se=0;var e=Xa,t=Kl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var n=H.p;H.p=2;var l=V;V|=4;try{oy(e,t.alternate,t)}finally{V=l,H.p=n,O.T=a}}Se=3}}function My(){if(Se===4||Se===3){Se=0,nA();var e=Xa,t=Kl,a=ra,n=yy;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Se=5:(Se=0,Kl=Xa=null,Ry(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Ya=null),uf(a),t=t.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Mo,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=O.T,l=H.p,H.p=2,O.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var r=n[o];i(r.value,{componentStack:r.stack})}}finally{O.T=t,H.p=l}}(ra&3)!==0&&au(),Ut(e),l=e.pendingLanes,(a&261930)!==0&&(l&42)!==0?e===Kd?mo++:(mo=0,Kd=e):mo=0,Po(0,!1)}}function Ry(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,xo(t)))}function au(){return Ny(),Ly(),My(),Iy()}function Iy(){if(Se!==5)return!1;var e=Xa,t=Yd;Yd=0;var a=uf(ra),n=O.T,l=H.p;try{H.p=32>a?32:a,O.T=null,a=Xd,Xd=null;var i=Xa,o=ra;if(Se=0,Kl=Xa=null,ra=0,(V&6)!==0)throw Error(h(331));var r=V;if(V|=4,py(i.current),my(i,i.current,o,a),V=r,Po(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Mo,i)}catch{}return!0}finally{H.p=l,O.T=n,Ry(e,t)}}function qp(e,t,a){t=gt(a,t),t=Vd(e.stateNode,t,2),e=ja(e,t,2),e!==null&&(Io(e,2),Ut(e))}function q(e,t,a){if(e.tag===3)qp(e,e,a);else for(;t!==null;){if(t.tag===3){qp(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ya===null||!Ya.has(n))){e=gt(a,e),a=Qh(2),n=ja(t,a,2),n!==null&&(Fh(a,n,t,e),Io(n,2),Ut(n));break}}t=t.return}}function nd(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new LC;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(a)||(Yf=!0,l.add(a),e=wC.bind(null,e,t,a),t.then(e,e))}function wC(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,K===e&&(U&a)===a&&(ie===4||ie===3&&(U&62914560)===U&&300>ke()-Ws?(V&2)===0&&Ql(e,0):Xf|=a,Xl===U&&(Xl=0)),Ut(e)}function By(e,t){t===0&&(t=bS()),e=Bn(e,t),e!==null&&(Io(e,t),Ut(e))}function xC(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),By(e,a)}function UC(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(h(314))}n!==null&&n.delete(t),By(e,a)}function zC(e,t){return rf(e,t)}var Bs=null,yl=null,Qd=!1,ws=!1,ld=!1,Va=0;function Ut(e){e!==yl&&e.next===null&&(yl===null?Bs=yl=e:yl=yl.next=e),ws=!0,Qd||(Qd=!0,VC())}function Po(e,t){if(!ld&&ws){ld=!0;do for(var a=!1,n=Bs;n!==null;){if(!t)if(e!==0){var l=n.pendingLanes;if(l===0)var i=0;else{var o=n.suspendedLanes,r=n.pingedLanes;i=(1<<31-We(42|e)+1)-1,i&=l&~(o&~r),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,jp(n,i))}else i=U,i=qs(n,n===K?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||Ro(n,i)||(a=!0,jp(n,i));n=n.next}while(a);ld=!1}}function PC(){wy()}function wy(){ws=Qd=!1;var e=0;Va!==0&&QC()&&(e=Va);for(var t=ke(),a=null,n=Bs;n!==null;){var l=n.next,i=xy(n,t);i===0?(n.next=null,a===null?Bs=l:a.next=l,l===null&&(yl=a)):(a=n,(e!==0||(i&3)!==0)&&(ws=!0)),n=l}Se!==0&&Se!==5||Po(e,!1),Va!==0&&(Va=0)}function xy(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-We(i),r=1<<o,s=l[o];s===-1?((r&a)===0||(r&n)!==0)&&(l[o]=dA(r,t)):s<=t&&(e.expiredLanes|=r),i&=~r}if(t=K,a=U,a=qs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(G===2||G===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Bc(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ro(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Bc(n),uf(a)){case 2:case 8:a=AS;break;case 32:a=ps;break;case 268435456:a=CS;break;default:a=ps}return n=Uy.bind(null,e),a=rf(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Bc(n),e.callbackPriority=2,e.callbackNode=null,2}function Uy(e,t){if(Se!==0&&Se!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(au()&&e.callbackNode!==a)return null;var n=U;return n=qs(e,e===K?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Ty(e,n,t),xy(e,ke()),e.callbackNode!=null&&e.callbackNode===a?Uy.bind(null,e):null)}function jp(e,t){if(au())return null;Ty(e,t,!0)}function VC(){ZC(function(){(V&6)!==0?rf(TS,PC):wy()})}function Qf(){if(Va===0){var e=ql;e===0&&(e=xr,xr<<=1,(xr&261888)===0&&(xr=256)),Va=e}return Va}function Yp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wr(""+e)}function Xp(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function HC(e,t,a,n,l){if(t==="submit"&&a&&a.stateNode===l){var i=Yp((l[Ye]||null).action),o=n.submitter;o&&(t=(t=o[Ye]||null)?Yp(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var r=new js("action","action",null,n,l);e.push({event:r,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Va!==0){var s=o?Xp(l,o):new FormData(l);zd(a,{pending:!0,data:s,method:l.method,action:i},null,s)}}else typeof i=="function"&&(r.preventDefault(),s=o?Xp(l,o):new FormData(l),zd(a,{pending:!0,data:s,method:l.method,action:i},i,s))},currentTarget:l}]})}}for(Qr=0;Qr<_d.length;Qr++)Fr=_d[Qr],Kp=Fr.toLowerCase(),Qp=Fr[0].toUpperCase()+Fr.slice(1),Dt(Kp,"on"+Qp);var Fr,Kp,Qp,Qr;Dt(FS,"onAnimationEnd");Dt(ZS,"onAnimationIteration");Dt(JS,"onAnimationStart");Dt("dblclick","onDoubleClick");Dt("focusin","onFocus");Dt("focusout","onBlur");Dt(lC,"onTransitionRun");Dt(iC,"onTransitionStart");Dt(oC,"onTransitionCancel");Dt(kS,"onTransitionEnd");Hl("onMouseEnter",["mouseout","mouseover"]);Hl("onMouseLeave",["mouseout","mouseover"]);Hl("onPointerEnter",["pointerout","pointerover"]);Hl("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bo));function zy(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],l=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var r=n[o],s=r.instance,u=r.currentTarget;if(r=r.listener,s!==i&&l.isPropagationStopped())break e;i=r,l.currentTarget=u;try{i(l)}catch(f){hs(f)}l.currentTarget=null,i=s}else for(o=0;o<n.length;o++){if(r=n[o],s=r.instance,u=r.currentTarget,r=r.listener,s!==i&&l.isPropagationStopped())break e;i=r,l.currentTarget=u;try{i(l)}catch(f){hs(f)}l.currentTarget=null,i=s}}}}function B(e,t){var a=t[Sd];a===void 0&&(a=t[Sd]=new Set);var n=e+"__bubble";a.has(n)||(Py(t,e,2,!1),a.add(n))}function id(e,t,a){var n=0;t&&(n|=4),Py(a,e,n,t)}var Zr="_reactListening"+Math.random().toString(36).slice(2);function Ff(e){if(!e[Zr]){e[Zr]=!0,LS.forEach(function(a){a!=="selectionchange"&&(GC.has(a)||id(a,!1,e),id(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zr]||(t[Zr]=!0,id("selectionchange",!1,t))}}function Py(e,t,a,n){switch(ky(t)){case 2:var l=Eb;break;case 8:l=pb;break;default:l=$f}a=l.bind(null,t,a,e),l=void 0,!Ad||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,a,{capture:!0,passive:l}):e.addEventListener(t,a,!0):l!==void 0?e.addEventListener(t,a,{passive:l}):e.addEventListener(t,a,!1)}function od(e,t,a,n,l){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var r=n.stateNode.containerInfo;if(r===l)break;if(o===4)for(o=n.return;o!==null;){var s=o.tag;if((s===3||s===4)&&o.stateNode.containerInfo===l)return;o=o.return}for(;r!==null;){if(o=Al(r),o===null)return;if(s=o.tag,s===5||s===6||s===26||s===27){n=i=o;continue e}r=r.parentNode}}n=n.return}zS(function(){var u=i,f=ff(a),E=[];e:{var c=$S.get(e);if(c!==void 0){var g=js,y=e;switch(e){case"keypress":if(ts(a)===0)break e;case"keydown":case"keyup":g=UA;break;case"focusin":y="focus",g=Pc;break;case"focusout":y="blur",g=Pc;break;case"beforeblur":case"afterblur":g=Pc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ep;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=bA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=VA;break;case FS:case ZS:case JS:g=OA;break;case kS:g=GA;break;case"scroll":case"scrollend":g=AA;break;case"wheel":g=jA;break;case"copy":case"cut":case"paste":g=LA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ap;break;case"toggle":case"beforetoggle":g=XA}var T=(t&4)!==0,b=!T&&(e==="scroll"||e==="scrollend"),m=T?c!==null?c+"Capture":null:c;T=[];for(var d=u,p;d!==null;){var S=d;if(p=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||p===null||m===null||(S=po(d,m),S!=null&&T.push(_o(d,S,p))),b)break;d=d.return}0<T.length&&(c=new g(c,y,null,a,f),E.push({event:c,listeners:T}))}}if((t&7)===0){e:{if(c=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",c&&a!==Td&&(y=a.relatedTarget||a.fromElement)&&(Al(y)||y[Jl]))break e;if((g||c)&&(c=f.window===f?f:(c=f.ownerDocument)?c.defaultView||c.parentWindow:window,g?(y=a.relatedTarget||a.toElement,g=u,y=y?Al(y):null,y!==null&&(b=Lo(y),T=y.tag,y!==b||T!==5&&T!==27&&T!==6)&&(y=null)):(g=null,y=u),g!==y)){if(T=ep,S="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(T=ap,S="onPointerLeave",m="onPointerEnter",d="pointer"),b=g==null?c:$i(g),p=y==null?c:$i(y),c=new T(S,d+"leave",g,a,f),c.target=b,c.relatedTarget=p,S=null,Al(f)===u&&(T=new T(m,d+"enter",y,a,f),T.target=p,T.relatedTarget=b,S=T),b=S,g&&y)t:{for(T=qC,m=g,d=y,p=0,S=m;S;S=T(S))p++;S=0;for(var A=d;A;A=T(A))S++;for(;0<p-S;)m=T(m),p--;for(;0<S-p;)d=T(d),S--;for(;p--;){if(m===d||d!==null&&m===d.alternate){T=m;break t}m=T(m),d=T(d)}T=null}else T=null;g!==null&&Fp(E,c,g,T,!1),y!==null&&b!==null&&Fp(E,b,y,T,!0)}}e:{if(c=u?$i(u):window,g=c.nodeName&&c.nodeName.toLowerCase(),g==="select"||g==="input"&&c.type==="file")var R=op;else if(ip(c))if(jS)R=tC;else{R=WA;var v=$A}else g=c.nodeName,!g||g.toLowerCase()!=="input"||c.type!=="checkbox"&&c.type!=="radio"?u&&df(u.elementType)&&(R=op):R=eC;if(R&&(R=R(e,u))){qS(E,R,a,f);break e}v&&v(e,c,u),e==="focusout"&&u&&c.type==="number"&&u.memoizedProps.value!=null&&vd(c,"number",c.value)}switch(v=u?$i(u):window,e){case"focusin":(ip(v)||v.contentEditable==="true")&&(_l=v,Cd=u,no=null);break;case"focusout":no=Cd=_l=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,cp(E,a,f);break;case"selectionchange":if(nC)break;case"keydown":case"keyup":cp(E,a,f)}var _;if(Ef)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else bl?HS(e,a)&&(C="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(C="onCompositionStart");C&&(VS&&a.locale!=="ko"&&(bl||C!=="onCompositionStart"?C==="onCompositionEnd"&&bl&&(_=PS()):(Ua=f,mf="value"in Ua?Ua.value:Ua.textContent,bl=!0)),v=xs(u,C),0<v.length&&(C=new tp(C,e,null,a,f),E.push({event:C,listeners:v}),_?C.data=_:(_=GS(a),_!==null&&(C.data=_)))),(_=QA?FA(e,a):ZA(e,a))&&(C=xs(u,"onBeforeInput"),0<C.length&&(v=new tp("onBeforeInput","beforeinput",null,a,f),E.push({event:v,listeners:C}),v.data=_)),HC(E,e,u,a,f)}zy(E,t)})}function _o(e,t,a){return{instance:e,listener:t,currentTarget:a}}function xs(e,t){for(var a=t+"Capture",n=[];e!==null;){var l=e,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=po(e,a),l!=null&&n.unshift(_o(e,l,i)),l=po(e,t),l!=null&&n.push(_o(e,l,i))),e.tag===3)return n;e=e.return}return[]}function qC(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fp(e,t,a,n,l){for(var i=t._reactName,o=[];a!==null&&a!==n;){var r=a,s=r.alternate,u=r.stateNode;if(r=r.tag,s!==null&&s===n)break;r!==5&&r!==26&&r!==27||u===null||(s=u,l?(u=po(a,i),u!=null&&o.unshift(_o(a,u,s))):l||(u=po(a,i),u!=null&&o.push(_o(a,u,s)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var jC=/\r\n?/g,YC=/\u0000|\uFFFD/g;function Zp(e){return(typeof e=="string"?e:""+e).replace(jC,`
`).replace(YC,"")}function Vy(e,t){return t=Zp(t),Zp(e)===t}function Y(e,t,a,n,l,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Gl(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Gl(e,""+n);break;case"className":Pr(e,"class",n);break;case"tabIndex":Pr(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Pr(e,a,n);break;case"style":US(e,n,i);break;case"data":if(t!=="object"){Pr(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Wr(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&Y(e,t,"name",l.name,l,null),Y(e,t,"formEncType",l.formEncType,l,null),Y(e,t,"formMethod",l.formMethod,l,null),Y(e,t,"formTarget",l.formTarget,l,null)):(Y(e,t,"encType",l.encType,l,null),Y(e,t,"method",l.method,l,null),Y(e,t,"target",l.target,l,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Wr(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=na);break;case"onScroll":n!=null&&B("scroll",e);break;case"onScrollEnd":n!=null&&B("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(h(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(h(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Wr(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":B("beforetoggle",e),B("toggle",e),$r(e,"popover",n);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":$r(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vA.get(a)||a,$r(e,a,n))}}function Fd(e,t,a,n,l,i){switch(a){case"style":US(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(h(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(h(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Gl(e,n):(typeof n=="number"||typeof n=="bigint")&&Gl(e,""+n);break;case"onScroll":n!=null&&B("scroll",e);break;case"onScrollEnd":n!=null&&B("scrollend",e);break;case"onClick":n!=null&&(e.onclick=na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!MS.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),t=a.slice(2,l?a.length-7:void 0),i=e[Ye]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,l),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,l);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):$r(e,a,n)}}}function Le(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":B("error",e),B("load",e);var n=!1,l=!1,i;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(h(137,t));default:Y(e,t,i,o,a,null)}}l&&Y(e,t,"srcSet",a.srcSet,a,null),n&&Y(e,t,"src",a.src,a,null);return;case"input":B("invalid",e);var r=i=o=l=null,s=null,u=null;for(n in a)if(a.hasOwnProperty(n)){var f=a[n];if(f!=null)switch(n){case"name":l=f;break;case"type":o=f;break;case"checked":s=f;break;case"defaultChecked":u=f;break;case"value":i=f;break;case"defaultValue":r=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(h(137,t));break;default:Y(e,t,n,f,a,null)}}BS(e,i,r,s,u,o,l,!1);return;case"select":B("invalid",e),n=o=i=null;for(l in a)if(a.hasOwnProperty(l)&&(r=a[l],r!=null))switch(l){case"value":i=r;break;case"defaultValue":o=r;break;case"multiple":n=r;default:Y(e,t,l,r,a,null)}t=i,a=o,e.multiple=!!n,t!=null?Bl(e,!!n,t,!1):a!=null&&Bl(e,!!n,a,!0);return;case"textarea":B("invalid",e),i=l=n=null;for(o in a)if(a.hasOwnProperty(o)&&(r=a[o],r!=null))switch(o){case"value":n=r;break;case"defaultValue":l=r;break;case"children":i=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(h(91));break;default:Y(e,t,o,r,a,null)}xS(e,n,l,i);return;case"option":for(s in a)if(a.hasOwnProperty(s)&&(n=a[s],n!=null))switch(s){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Y(e,t,s,n,a,null)}return;case"dialog":B("beforetoggle",e),B("toggle",e),B("cancel",e),B("close",e);break;case"iframe":case"object":B("load",e);break;case"video":case"audio":for(n=0;n<bo.length;n++)B(bo[n],e);break;case"image":B("error",e),B("load",e);break;case"details":B("toggle",e);break;case"embed":case"source":case"link":B("error",e),B("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(n=a[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(h(137,t));default:Y(e,t,u,n,a,null)}return;default:if(df(t)){for(f in a)a.hasOwnProperty(f)&&(n=a[f],n!==void 0&&Fd(e,t,f,n,a,void 0));return}}for(r in a)a.hasOwnProperty(r)&&(n=a[r],n!=null&&Y(e,t,r,n,a,null))}function XC(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,o=null,r=null,s=null,u=null,f=null;for(g in a){var E=a[g];if(a.hasOwnProperty(g)&&E!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":s=E;default:n.hasOwnProperty(g)||Y(e,t,g,null,n,E)}}for(var c in n){var g=n[c];if(E=a[c],n.hasOwnProperty(c)&&(g!=null||E!=null))switch(c){case"type":i=g;break;case"name":l=g;break;case"checked":u=g;break;case"defaultChecked":f=g;break;case"value":o=g;break;case"defaultValue":r=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(h(137,t));break;default:g!==E&&Y(e,t,c,g,n,E)}}yd(e,o,r,s,u,f,i,l);return;case"select":g=o=r=c=null;for(i in a)if(s=a[i],a.hasOwnProperty(i)&&s!=null)switch(i){case"value":break;case"multiple":g=s;default:n.hasOwnProperty(i)||Y(e,t,i,null,n,s)}for(l in n)if(i=n[l],s=a[l],n.hasOwnProperty(l)&&(i!=null||s!=null))switch(l){case"value":c=i;break;case"defaultValue":r=i;break;case"multiple":o=i;default:i!==s&&Y(e,t,l,i,n,s)}t=r,a=o,n=g,c!=null?Bl(e,!!a,c,!1):!!n!=!!a&&(t!=null?Bl(e,!!a,t,!0):Bl(e,!!a,a?[]:"",!1));return;case"textarea":g=c=null;for(r in a)if(l=a[r],a.hasOwnProperty(r)&&l!=null&&!n.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:Y(e,t,r,null,n,l)}for(o in n)if(l=n[o],i=a[o],n.hasOwnProperty(o)&&(l!=null||i!=null))switch(o){case"value":c=l;break;case"defaultValue":g=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(h(91));break;default:l!==i&&Y(e,t,o,l,n,i)}wS(e,c,g);return;case"option":for(var y in a)if(c=a[y],a.hasOwnProperty(y)&&c!=null&&!n.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:Y(e,t,y,null,n,c)}for(s in n)if(c=n[s],g=a[s],n.hasOwnProperty(s)&&c!==g&&(c!=null||g!=null))switch(s){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Y(e,t,s,c,n,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var T in a)c=a[T],a.hasOwnProperty(T)&&c!=null&&!n.hasOwnProperty(T)&&Y(e,t,T,null,n,c);for(u in n)if(c=n[u],g=a[u],n.hasOwnProperty(u)&&c!==g&&(c!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(h(137,t));break;default:Y(e,t,u,c,n,g)}return;default:if(df(t)){for(var b in a)c=a[b],a.hasOwnProperty(b)&&c!==void 0&&!n.hasOwnProperty(b)&&Fd(e,t,b,void 0,n,c);for(f in n)c=n[f],g=a[f],!n.hasOwnProperty(f)||c===g||c===void 0&&g===void 0||Fd(e,t,f,c,n,g);return}}for(var m in a)c=a[m],a.hasOwnProperty(m)&&c!=null&&!n.hasOwnProperty(m)&&Y(e,t,m,null,n,c);for(E in n)c=n[E],g=a[E],!n.hasOwnProperty(E)||c===g||c==null&&g==null||Y(e,t,E,c,n,g)}function Jp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KC(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var l=a[n],i=l.transferSize,o=l.initiatorType,r=l.duration;if(i&&r&&Jp(o)){for(o=0,r=l.responseEnd,n+=1;n<a.length;n++){var s=a[n],u=s.startTime;if(u>r)break;var f=s.transferSize,E=s.initiatorType;f&&Jp(E)&&(s=s.responseEnd,o+=f*(s<r?1:(r-u)/(s-u)))}if(--n,t+=8*(i+o)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zd=null,Jd=null;function Us(e){return e.nodeType===9?e:e.ownerDocument}function kp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hy(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function kd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rd=null;function QC(){var e=window.event;return e&&e.type==="popstate"?e===rd?!1:(rd=e,!0):(rd=null,!1)}var Gy=typeof setTimeout=="function"?setTimeout:void 0,FC=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,ZC=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(e){return $p.resolve(null).then(e).catch(JC)}:Gy;function JC(e){setTimeout(function(){throw e})}function en(e){return e==="head"}function Wp(e,t){var a=t,n=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(l),Zl(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")go(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,go(a);for(var i=a.firstChild;i;){var o=i.nextSibling,r=i.nodeName;i[Bo]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=o}}else a==="body"&&go(e.ownerDocument.body);a=l}while(a);Zl(t)}function eS(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function $d(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$d(a),cf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function kC(e,t,a,n){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Bo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=St(e.nextSibling),e===null)break}return null}function $C(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=St(e.nextSibling),e===null))return null;return e}function qy(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=St(e.nextSibling),e===null))return null;return e}function Wd(e){return e.data==="$?"||e.data==="$~"}function ef(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function WC(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function St(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var tf=null;function tS(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return St(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function aS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function jy(e,t,a){switch(t=Us(a),e){case"html":if(e=t.documentElement,!e)throw Error(h(452));return e;case"head":if(e=t.head,!e)throw Error(h(453));return e;case"body":if(e=t.body,!e)throw Error(h(454));return e;default:throw Error(h(451))}}function go(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);cf(e)}var ht=new Map,nS=new Set;function zs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ma=H.d;H.d={f:eb,r:tb,D:ab,C:nb,L:lb,m:ib,X:rb,S:ob,M:sb};function eb(){var e=ma.f(),t=eu();return e||t}function tb(e){var t=kl(e);t!==null&&t.tag===5&&t.type==="form"?Uh(t):ma.r(e)}var ti=typeof document>"u"?null:document;function Yy(e,t,a){var n=ti;if(n&&typeof t=="string"&&t){var l=mt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),nS.has(l)||(nS.add(l),e={rel:e,crossOrigin:a,href:t},n.querySelector(l)===null&&(t=n.createElement("link"),Le(t,"link",e),Ae(t),n.head.appendChild(t)))}}function ab(e){ma.D(e),Yy("dns-prefetch",e,null)}function nb(e,t){ma.C(e,t),Yy("preconnect",e,t)}function lb(e,t,a){ma.L(e,t,a);var n=ti;if(n&&e&&t){var l='link[rel="preload"][as="'+mt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+mt(a.imageSizes)+'"]')):l+='[href="'+mt(e)+'"]';var i=l;switch(t){case"style":i=Fl(e);break;case"script":i=ai(e)}ht.has(i)||(e=$({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ht.set(i,e),n.querySelector(l)!==null||t==="style"&&n.querySelector(Vo(i))||t==="script"&&n.querySelector(Ho(i))||(t=n.createElement("link"),Le(t,"link",e),Ae(t),n.head.appendChild(t)))}}function ib(e,t){ma.m(e,t);var a=ti;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+mt(n)+'"][href="'+mt(e)+'"]',i=l;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ai(e)}if(!ht.has(i)&&(e=$({rel:"modulepreload",href:e},t),ht.set(i,e),a.querySelector(l)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ho(i)))return}n=a.createElement("link"),Le(n,"link",e),Ae(n),a.head.appendChild(n)}}}function ob(e,t,a){ma.S(e,t,a);var n=ti;if(n&&e){var l=Il(n).hoistableStyles,i=Fl(e);t=t||"default";var o=l.get(i);if(!o){var r={loading:0,preload:null};if(o=n.querySelector(Vo(i)))r.loading=5;else{e=$({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ht.get(i))&&Zf(e,a);var s=o=n.createElement("link");Ae(s),Le(s,"link",e),s._p=new Promise(function(u,f){s.onload=u,s.onerror=f}),s.addEventListener("load",function(){r.loading|=1}),s.addEventListener("error",function(){r.loading|=2}),r.loading|=4,us(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:r},l.set(i,o)}}}function rb(e,t){ma.X(e,t);var a=ti;if(a&&e){var n=Il(a).hoistableScripts,l=ai(e),i=n.get(l);i||(i=a.querySelector(Ho(l)),i||(e=$({src:e,async:!0},t),(t=ht.get(l))&&Jf(e,t),i=a.createElement("script"),Ae(i),Le(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function sb(e,t){ma.M(e,t);var a=ti;if(a&&e){var n=Il(a).hoistableScripts,l=ai(e),i=n.get(l);i||(i=a.querySelector(Ho(l)),i||(e=$({src:e,async:!0,type:"module"},t),(t=ht.get(l))&&Jf(e,t),i=a.createElement("script"),Ae(i),Le(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function lS(e,t,a,n){var l=(l=Ha.current)?zs(l):null;if(!l)throw Error(h(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Fl(a.href),a=Il(l).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fl(a.href);var i=Il(l).hoistableStyles,o=i.get(e);if(o||(l=l.ownerDocument||l,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=l.querySelector(Vo(e)))&&!i._p&&(o.instance=i,o.state.loading=5),ht.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ht.set(e,a),i||ub(l,e,a,o.state))),t&&n===null)throw Error(h(528,""));return o}if(t&&n!==null)throw Error(h(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ai(a),a=Il(l).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(h(444,e))}}function Fl(e){return'href="'+mt(e)+'"'}function Vo(e){return'link[rel="stylesheet"]['+e+"]"}function Xy(e){return $({},e,{"data-precedence":e.precedence,precedence:null})}function ub(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Le(t,"link",a),Ae(t),e.head.appendChild(t))}function ai(e){return'[src="'+mt(e)+'"]'}function Ho(e){return"script[async]"+e}function iS(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+mt(a.href)+'"]');if(n)return t.instance=n,Ae(n),n;var l=$({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ae(n),Le(n,"style",l),us(n,a.precedence,e),t.instance=n;case"stylesheet":l=Fl(a.href);var i=e.querySelector(Vo(l));if(i)return t.state.loading|=4,t.instance=i,Ae(i),i;n=Xy(a),(l=ht.get(l))&&Zf(n,l),i=(e.ownerDocument||e).createElement("link"),Ae(i);var o=i;return o._p=new Promise(function(r,s){o.onload=r,o.onerror=s}),Le(i,"link",n),t.state.loading|=4,us(i,a.precedence,e),t.instance=i;case"script":return i=ai(a.src),(l=e.querySelector(Ho(i)))?(t.instance=l,Ae(l),l):(n=a,(l=ht.get(i))&&(n=$({},a),Jf(n,l)),e=e.ownerDocument||e,l=e.createElement("script"),Ae(l),Le(l,"link",n),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(h(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,us(n,a.precedence,e));return t.instance}function us(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=n.length?n[n.length-1]:null,i=l,o=0;o<n.length;o++){var r=n[o];if(r.dataset.precedence===t)i=r;else if(i!==l)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Zf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Jf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var cs=null;function oS(e,t,a){if(cs===null){var n=new Map,l=cs=new Map;l.set(a,n)}else l=cs,n=l.get(a),n||(n=new Map,l.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var i=a[l];if(!(i[Bo]||i[De]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var r=n.get(o);r?r.push(i):n.set(o,[i])}}return n}function rS(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function cb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ky(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function db(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var l=Fl(n.href),i=t.querySelector(Vo(l));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ps.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Ae(i);return}i=t.ownerDocument||t,n=Xy(n),(l=ht.get(l))&&Zf(n,l),i=i.createElement("link"),Ae(i);var o=i;o._p=new Promise(function(r,s){o.onload=r,o.onerror=s}),Le(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ps.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var sd=0;function fb(e,t){return e.stylesheets&&e.count===0&&ds(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&ds(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&sd===0&&(sd=62500*KC());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ds(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>sd?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(l)}}:null}function Ps(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ds(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vs=null;function ds(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vs=new Map,t.forEach(mb,e),Vs=null,Ps.call(e))}function mb(e,t){if(!(t.state.loading&4)){var a=Vs.get(e);if(a)var n=a.get(null);else{a=new Map,Vs.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var o=l[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),n=o)}n&&a.set(null,n)}l=t.instance,o=l.getAttribute("data-precedence"),i=a.get(o)||n,i===n&&a.set(null,l),a.set(o,l),this.count++,n=Ps.bind(this),l.addEventListener("load",n),l.addEventListener("error",n),i?i.parentNode.insertBefore(l,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Do={$$typeof:aa,Provider:null,Consumer:null,_currentValue:vn,_currentValue2:vn,_threadCount:0};function gb(e,t,a,n,l,i,o,r,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wc(0),this.hiddenUpdates=wc(null),this.identifierPrefix=n,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Qy(e,t,a,n,l,i,o,r,s,u,f,E){return e=new gb(e,t,a,o,s,u,f,E,r),t=1,i===!0&&(t|=24),i=Ze(3,null,null,t),e.current=i,i.stateNode=e,t=Af(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},_f(i),e}function Fy(e){return e?(e=Nl,e):Nl}function Zy(e,t,a,n,l,i){l=Fy(l),n.context===null?n.context=l:n.pendingContext=l,n=qa(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=ja(e,n,t),a!==null&&(je(a,e,t),io(a,e,t))}function sS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function kf(e,t){sS(e,t),(e=e.alternate)&&sS(e,t)}function Jy(e){if(e.tag===13||e.tag===31){var t=Bn(e,67108864);t!==null&&je(t,e,67108864),kf(e,67108864)}}function uS(e){if(e.tag===13||e.tag===31){var t=et();t=sf(t);var a=Bn(e,t);a!==null&&je(a,e,t),kf(e,t)}}var Hs=!0;function Eb(e,t,a,n){var l=O.T;O.T=null;var i=H.p;try{H.p=2,$f(e,t,a,n)}finally{H.p=i,O.T=l}}function pb(e,t,a,n){var l=O.T;O.T=null;var i=H.p;try{H.p=8,$f(e,t,a,n)}finally{H.p=i,O.T=l}}function $f(e,t,a,n){if(Hs){var l=af(n);if(l===null)od(e,t,n,Gs,a),cS(e,n);else if(hb(l,e,t,a,n))n.stopPropagation();else if(cS(e,n),t&4&&-1<Sb.indexOf(e)){for(;l!==null;){var i=kl(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Sn(i.pendingLanes);if(o!==0){var r=i;for(r.pendingLanes|=2,r.entangledLanes|=2;o;){var s=1<<31-We(o);r.entanglements[1]|=s,o&=~s}Ut(i),(V&6)===0&&(Ms=ke()+500,Po(0,!1))}}break;case 31:case 13:r=Bn(i,2),r!==null&&je(r,i,2),eu(),kf(i,2)}if(i=af(n),i===null&&od(e,t,n,Gs,a),i===l)break;l=i}l!==null&&n.stopPropagation()}else od(e,t,n,null,a)}}function af(e){return e=ff(e),Wf(e)}var Gs=null;function Wf(e){if(Gs=null,e=Al(e),e!==null){var t=Lo(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=pS(t),e!==null)return e;e=null}else if(a===31){if(e=SS(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gs=e,null}function ky(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lA()){case TS:return 2;case AS:return 8;case ps:case iA:return 32;case CS:return 268435456;default:return 32}default:return 32}}var nf=!1,Ka=null,Qa=null,Fa=null,Oo=new Map,No=new Map,wa=[],Sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cS(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Oo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(t.pointerId)}}function Fi(e,t,a,n,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[l]},t!==null&&(t=kl(t),t!==null&&Jy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function hb(e,t,a,n,l){switch(t){case"focusin":return Ka=Fi(Ka,e,t,a,n,l),!0;case"dragenter":return Qa=Fi(Qa,e,t,a,n,l),!0;case"mouseover":return Fa=Fi(Fa,e,t,a,n,l),!0;case"pointerover":var i=l.pointerId;return Oo.set(i,Fi(Oo.get(i)||null,e,t,a,n,l)),!0;case"gotpointercapture":return i=l.pointerId,No.set(i,Fi(No.get(i)||null,e,t,a,n,l)),!0}return!1}function $y(e){var t=Al(e.target);if(t!==null){var a=Lo(t);if(a!==null){if(t=a.tag,t===13){if(t=pS(a),t!==null){e.blockedOn=t,QE(e.priority,function(){uS(a)});return}}else if(t===31){if(t=SS(a),t!==null){e.blockedOn=t,QE(e.priority,function(){uS(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=af(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Td=n,a.target.dispatchEvent(n),Td=null}else return t=kl(a),t!==null&&Jy(t),e.blockedOn=a,!1;t.shift()}return!0}function dS(e,t,a){fs(e)&&a.delete(t)}function yb(){nf=!1,Ka!==null&&fs(Ka)&&(Ka=null),Qa!==null&&fs(Qa)&&(Qa=null),Fa!==null&&fs(Fa)&&(Fa=null),Oo.forEach(dS),No.forEach(dS)}function Jr(e,t){e.blockedOn===t&&(e.blockedOn=null,nf||(nf=!0,he.unstable_scheduleCallback(he.unstable_NormalPriority,yb)))}var kr=null;function fS(e){kr!==e&&(kr=e,he.unstable_scheduleCallback(he.unstable_NormalPriority,function(){kr===e&&(kr=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],l=e[t+2];if(typeof n!="function"){if(Wf(n||a)===null)continue;break}var i=kl(a);i!==null&&(e.splice(t,3),t-=3,zd(i,{pending:!0,data:l,method:a.method,action:n},n,l))}}))}function Zl(e){function t(s){return Jr(s,e)}Ka!==null&&Jr(Ka,e),Qa!==null&&Jr(Qa,e),Fa!==null&&Jr(Fa,e),Oo.forEach(t),No.forEach(t);for(var a=0;a<wa.length;a++){var n=wa[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<wa.length&&(a=wa[0],a.blockedOn===null);)$y(a),a.blockedOn===null&&wa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var l=a[n],i=a[n+1],o=l[Ye]||null;if(typeof i=="function")o||fS(a);else if(o){var r=null;if(i&&i.hasAttribute("formAction")){if(l=i,o=i[Ye]||null)r=o.formAction;else if(Wf(l)!==null)continue}else r=o.action;typeof r=="function"?a[n+1]=r:(a.splice(n,3),n-=3),fS(a)}}}function Wy(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return l=o})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function em(e){this._internalRoot=e}nu.prototype.render=em.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(h(409));var a=t.current,n=et();Zy(a,n,e,t,null,null)};nu.prototype.unmount=em.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zy(e.current,2,null,e,null,null),eu(),t[Jl]=null}};function nu(e){this._internalRoot=e}nu.prototype.unstable_scheduleHydration=function(e){if(e){var t=NS();e={blockedOn:null,target:e,priority:t};for(var a=0;a<wa.length&&t!==0&&t<wa[a].priority;a++);wa.splice(a,0,e),a===0&&$y(e)}};var mS=gS.version;if(mS!=="19.2.0")throw Error(h(527,mS,"19.2.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(h(188)):(e=Object.keys(e).join(","),Error(h(268,e)));return e=k0(t),e=e!==null?hS(e):null,e=e===null?null:e.stateNode,e};var vb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Zi.isDisabled&&Zi.supportsFiber))try{Mo=Zi.inject(vb),$e=Zi}catch{}var Zi;lu.createRoot=function(e,t){if(!ES(e))throw Error(h(299));var a=!1,n="",l=Yh,i=Xh,o=Kh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Qy(e,1,!1,null,null,a,n,null,l,i,o,Wy),e[Jl]=t.current,Ff(e),new em(t)};lu.hydrateRoot=function(e,t,a){if(!ES(e))throw Error(h(299));var n=!1,l="",i=Yh,o=Xh,r=Kh,s=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(r=a.onRecoverableError),a.formState!==void 0&&(s=a.formState)),t=Qy(e,1,!0,t,a??null,n,l,s,i,o,r,Wy),t.context=Fy(null),a=t.current,n=et(),n=sf(n),l=qa(n),l.callback=null,ja(a,l,n),a=n,t.current.lanes=a,Io(t,a),Ut(t),e[Jl]=t.current,Ff(e),new nu(t)};lu.version="19.2.0"});var tm=pa((QO,av)=>{"use strict";function tv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tv)}catch(e){console.error(e)}}tv(),av.exports=ev()});var j={DATE_INPUT:"date",DIET_TYPE_SELECT:"diet-type",TOP_BAR:".top-bar",FOOTER:"footer",EASTER_EGG_OVERLAY:".easter-egg-overlay",EASTER_EGG_ICON:".easter-egg-icon",SERVICE_NUMBER_PREFIX:"service-number-",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2",TAB_DADES:"tab-dades",TAB_SERVEIS:"tab-serveis",CONTENT_DADES:"dades-tab-content",CONTENT_SERVEIS:"serveis-tab-content",MAIN_CONTENT_AREA:"main-content",CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips",SIGNATURE_MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title",DOTACIO_MODAL:"dotacio-modal",OPTIONS_CONTAINER_DOT:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline",SAVE_DIET:"save-diet",NOTES_BUTTON_ID:"notes-selected-service",NOTES_MODAL_ID:"notes-modal",NOTES_TITLE_ID:"notes-title",NOTES_TEXTAREA_ID:"notes-textarea",NOTES_SAVE_ID:"notes-save",NOTES_CANCEL_ID:"notes-cancel",NOTES_COUNTER_ID:"notes-char-counter",SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel",TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text",SAVE_PILL:"save-pill",DONATION_LINK_ID:"openDonation",COOKIE_CONSENT_BANNER:"cookie-consent-banner",ACCEPT_COOKIES:"accept-cookies",DECLINE_COOKIES:"decline-cookies"},Be={INPUT_ERROR:"input-error",ACTIVE_TAB:"active",ERROR_TAB:"error-tab",MODAL_OPEN:"modal-open",MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",TOP_BAR_TAPS:3,FOOTER_TAPS:2,TIMEOUT:1e3,ANIMATION_DURATION:1e3,DEFAULT_DURATION:3e3,ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1,SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",CHIP_ACTIVE:"chip-active",PANEL_VISIBLE:"visible",BUTTON_OPEN:"open",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_LOAD_BTN:"diet-load",DIET_DELETE_BTN:"diet-delete",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal",INPUT_ERROR_DOT:"input-error",IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount",PROMPT_DISMISSED_LIMIT:2,ACTION_TRIGGER_LIMIT:10,DARK_THEME:"theme-dark",VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error",SIGNED:"signed",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},zn={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group",PERSON_INPUT_GROUP:".input-with-icon",TEXT_SEL:".pill-text",SERVICE_CONTAINER_SELECTOR:".service",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete",SERVICE_NUMBER_INPUT:".service-number"},gu={serviceNumber:".service-number",origin:".origin",destination:".destination",originTime:".origin-time",destinationTime:".destination-time",endTime:".end-time",mode:".chip-active",notes:""},Pt={SERVICE_NUMBER_LENGTH:9,VEHICLE_MAX_LENGTH:6,PERSON_NAME_MAX_LENGTH:28,LOCATION_MAX_LENGTH:35,PERSON_NAME_ALLOWED_CHARS:/^[a-zA-Z\s']+$/u},Tm={DEBOUNCE_TOAST:300,DEBOUNCE_AUTO_SAVE:1e3,DEBOUNCE_HANDLER:800};var pi={LUNCH:"lunch",DINNER:"dinner"},Am=zn.SERVICE_CONTAINER_SELECTOR,Eu={SERVICE_NUMBER_DIGITS_ONLY:"Solo se permiten d\xEDgitos (0-9) en el n\xFAmero de servicio.",SAVE_ERROR_DIGITAL_ONLY:"El n\xFAmero de servicio debe contener solo d\xEDgitos.",VALIDATION_FAILED:"Validaci\xF3n fallida",OCR_PROCESS_RUNNING:"Proceso OCR ya en marcha.",INVALID_IMAGE:"Selecciona una imagen.",IMAGE_TOO_BIG:"La imagen es demasiado grande (m\xE1x. 10 MB).",OCR_ERROR:"Error de escaneo",IMAGE_PROCESS_ERROR:"Error al procesar la imagen.",OCR_COMPLETE:"An\xE1lisis completado.",SAVING:"Guardando\u2026",SAVED:"Guardado",SAVE_ERROR:"No se pudo guardar",DOWNLOAD_STARTED:"Descarga iniciada correctamente.",PDF_GENERATION_ERROR:"Error en la generaci\xF3n del PDF",DOTACIO_SAVED:"Dotaci\xF3n guardada.",DOTACIO_LOADED:"Dotaci\xF3n cargada.",DOTACIO_DELETED:"Dotaci\xF3n eliminada."};var Cm={DOTACIIONS:"dotacions_v2",ANONYMOUS_USER:"anonymousUserId",COOKIE_CONSENT:"cookie_consent",THEME_PREFERENCE:"themePreference",USER_SELECTED_SERVICE_TYPE:"userSelectedServiceType",ONBOARDING_COMPLETED:"onboardingCompleted"};var Re={CONTAINER_ID:"toast-container",TOAST_CLASS:"toast",DEFAULT_DURATION:3e3,DEFAULT_TYPE:"info",ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1},te={queue:[],isVisible:!1,container:null,currentTimeout:null},Qv=e=>e&&typeof e=="string"?e.replace(/[<>&]/g,""):"";function Fv(e){if(window.__muteToasts===!0)return!0;let t=window.__toastBlocklist;if(!t||!Array.isArray(t)||t.length===0)return!1;for(let a of t)if(a instanceof RegExp&&typeof e=="string"){if(a.test(e))return!0}else if(typeof a=="string"&&String(e)===a)return!0;return!1}function Zv(e,t,a){if(!e||typeof e!="string"||!e.trim())throw new Error("El missatge del toast \xE9s obligatori i ha de ser una cadena no buida.");if(!Re.ALLOWED_TYPES.includes(t))throw new Error(`Tipus de toast inv\xE0lid: ${t}. Ha de ser un de: ${Re.ALLOWED_TYPES.join(", ")}`);if(!Number.isInteger(a)||a<0||a>6e4)throw new Error("La durada ha d'estar entre 0 i 60000 ms.")}function Jv(){return!te.container&&(te.container=document.getElementById(Re.CONTAINER_ID),!te.container)?(console.error(`[Toast] Contenidor '#${Re.CONTAINER_ID}' no trobat.`),null):te.container}function pu(e){te.currentTimeout&&(clearTimeout(te.currentTimeout),te.currentTimeout=null),e&&(e.classList.add(Re.ANIMATION.EXIT),e.addEventListener("transitionend",()=>e.remove(),{once:!0})),te.isVisible=!1,bm()}function kv({message:e,type:t,duration:a,options:n}){let l=Jv();if(!l)return;let i=document.createElement("div");i.className=`${Re.TOAST_CLASS} ${t}`,i.setAttribute("role","alert"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),i.textContent=Qv(e);let o=!0;if(n?.undoCallback instanceof Function){let r=document.createElement("button");r.type="button",r.className=Re.UNDO_BTN_CLASS,r.textContent="Deshacer",r.setAttribute("aria-label","Deshacer la acci\xF3n"),r.addEventListener("click",()=>{o=!1;try{n.undoCallback()}finally{pu(i)}}),i.appendChild(r)}l.appendChild(i),requestAnimationFrame(()=>{i.classList.add(Re.ANIMATION.ENTER)}),te.currentTimeout=setTimeout(()=>{o&&n?.onExpire instanceof Function&&n.onExpire(),pu(i)},a)}function bm(){te.isVisible||te.queue.length===0||(te.isVisible=!0,te.queue.sort((e,t)=>t.priority-e.priority),kv(te.queue.shift()))}function D(e,t=Re.DEFAULT_TYPE,a=Re.DEFAULT_DURATION,n={}){if(Fv(e))return;Zv(e,t,a);let l=n.priority??Re.DEFAULT_PRIORITY,i={message:e,type:t,duration:a,priority:l,options:n};if(!(n.queueable!==!1)&&te.isVisible){if(te.container){let s=te.container.querySelector(`.${Re.TOAST_CLASS}:not(.${Re.ANIMATION.EXIT})`);s&&s.remove()}pu()}te.queue.length>=Re.MAX_QUEUE_SIZE&&te.queue.sort((s,u)=>s.priority-u.priority).shift();let r=te.queue.findIndex(s=>s.priority<l);r===-1?te.queue.push(i):te.queue.splice(r,0,i),$v(),bm()}function $v(){let e="toast-undo-style";if(document.getElementById(e))return;let t=document.body.getAttribute("data-csp-nonce"),a=document.createElement("style");a.id=e,t&&a.setAttribute("nonce",t),a.textContent=`
    .${Re.UNDO_BTN_CLASS} {
      margin-left: auto; 
      padding: 8px 12px; 
      background: none;
      border: none;
      border-radius: 4px; 
      cursor: pointer;     
      font-weight: 600;
      font-size: 0.875rem; 
      text-transform: uppercase; 
      letter-spacing: 0.08em; 
      color: inherit; 
      transition: background-color 0.2s ease;
    }
    .${Re.UNDO_BTN_CLASS}:hover {
      background-color: rgba(255, 255, 255, 0.15); 
    }
  `,document.head.appendChild(a)}function nn(e){e?.classList.add(Be.INPUT_ERROR)}function Pn(e){e?.classList.remove(Be.INPUT_ERROR)}function _m(e){if(!e||e.length===0)return"";let t=e.map(a=>`S${a}`);return t.length===1?t[0]:t.length===2?t.join(" y "):`${t.slice(0,-1).join(", ")} y ${t[t.length-1]}`}function Si(e){!e||e.dataset.errorListenerAttached||(e.addEventListener("input",()=>Pn(e),{once:!0}),e.dataset.errorListenerAttached="true")}function Dm(e,t,a,n){if(!e)return!0;Pn(e);let l=e.value.trim(),i=!1;return l?/^\d+$/.test(l)?l.length!==Pt.SERVICE_NUMBER_LENGTH&&(n.digitLength.push(t),i=!0):(n.nonNumeric.push(t),i=!0):a&&(n.emptyRequiredS1=!0,i=!0),i?(nn(e),Si(e),!1):!0}function Wv(e){let t=[];return e.nonNumeric.length>0&&t.push(`El n\xFAmero de servicio ${_m(e.nonNumeric)} debe contener solo d\xEDgitos.`),e.digitLength.length>0&&t.push(`El n\xFAmero de servicio ${_m(e.digitLength)} debe tener ${Pt.SERVICE_NUMBER_LENGTH} d\xEDgitos.`),t}function Zo(){let e=!0;return[document.getElementById(j.DATE_INPUT),document.getElementById(j.DIET_TYPE_SELECT)].filter(Boolean).forEach(a=>{Pn(a),a.value.trim()||(nn(a),Si(a),e=!1)}),e}function Jo(){let e={emptyRequiredS1:!1,nonNumeric:[],digitLength:[]},t=!0,a=document.getElementById(`${j.SERVICE_NUMBER_PREFIX}1`);if(!a)return console.error("Validation: No se ha encontrado el input para el servicio S1."),!1;t=Dm(a,1,!0,e)&&t;for(let l=2;l<=4;l++){let i=document.getElementById(`${j.SERVICE_NUMBER_PREFIX}${l}`);i&&(t=Dm(i,l,!1,e)&&t)}if(t)return!0;let n=Wv(e);return n.length>0&&D(n.join(`
`),"error"),!1}function de(e){return typeof e!="string"?"":e.trim().replace(/[<>&"'`]/g,"").trim()}function ko(e){return e?/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/.test(e):!0}function Om(e,t,a,n){let l=e?.value.trim()||"";return l&&!Pt.PERSON_NAME_ALLOWED_CHARS.test(l)?(nn(t),!1):l.length>Pt.PERSON_NAME_MAX_LENGTH?(nn(t),n.push(`El nombre del ${a} no puede superar los ${Pt.PERSON_NAME_MAX_LENGTH} caracteres.`),!1):!0}function Nm(){let e=document.getElementById(j.VEHICLE_INPUT),t=document.getElementById(j.PERSON1_INPUT),a=document.getElementById(j.PERSON2_INPUT),n=t?.closest(zn.PERSON_INPUT_GROUP),l=a?.closest(zn.PERSON_INPUT_GROUP);Pn(e),Pn(n),Pn(l);let i=e?.value.trim()||"",o=t?.value.trim()||"",r=a?.value.trim()||"",s=!0,u=[];return i||(nn(e),u.push("El campo Veh\xEDculo es obligatorio."),s=!1),s=Om(t,n,"Conductor",u)&&s,s=Om(a,l,"Ayudante",u)&&s,!o&&!r&&(nn(n),nn(l),u.push("Debe indicar al menos un Conductor o Ayudante."),s=!1),s||(Si(e),Si(t),Si(a),D(u.join(`
`),"error")),s}function Lm(){let e=Pt.PERSON_NAME_ALLOWED_CHARS,t=/^[^\x00-\x1F\x7F<>&"'`]*$/u;function a(u){let f=u.target.value;e.test(f)||(u.target.value=f.replace(/[^a-zA-Z\s'.]/g,""))}function n(u){let f=u.target.value;t.test(f)||(u.target.value=f.replace(/[<>&"'`]/g,"").trim())}function l(u){u.key==="Enter"||u.key==="Tab"||u.ctrlKey||u.metaKey||u.altKey||u.key.length>1||e.test(u.key)||u.preventDefault()}function i(u){u.key==="Enter"||u.key==="Tab"||u.ctrlKey||u.metaKey||u.altKey||u.key.length>1||t.test(u.key)||u.preventDefault()}[document.getElementById(j.PERSON1_INPUT),document.getElementById(j.PERSON2_INPUT)].filter(Boolean).forEach(u=>{u.addEventListener("input",a),u.addEventListener("keypress",l)}),document.querySelectorAll(".service .origin, .service .destination").forEach(u=>{u.addEventListener("input",n),u.addEventListener("keypress",i)});let s=document.getElementById(j.VEHICLE_INPUT);s&&s.addEventListener("input",u=>{u.target.value.length>Pt.VEHICLE_MAX_LENGTH&&(u.target.value=u.target.value.slice(0,Pt.VEHICLE_MAX_LENGTH))})}var Vn={},Sa={debug:10,info:20,warn:30,error:40,silent:50};function eT(){if(typeof Vn<"u"&&Vn.env){if(typeof Vn.env.MODE=="string")return Vn.env.MODE;if(typeof Vn.env.NODE_ENV=="string")return Vn.env.NODE_ENV}return typeof process<"u"&&process.env?"production":typeof window<"u"&&typeof window.__APP_ENV__=="string"?window.__APP_ENV__:"development"}var Wo=eT()==="production"?Sa.warn:Sa.debug,Su=new Set;function tT(e){for(let t of Su)try{t(e)}catch{}}function aT(e){return typeof console>"u"?null:e==="debug"&&typeof console.debug=="function"?console.debug.bind(console):e==="info"&&typeof console.info=="function"?console.info.bind(console):e==="warn"&&typeof console.warn=="function"?console.warn.bind(console):e==="error"&&typeof console.error=="function"?console.error.bind(console):console.log?console.log.bind(console):null}function nT(e,t){let a=new Date().toISOString();return t?[`[${a}] [${t}] [${e.toUpperCase()}]`]:[`[${a}] [${e.toUpperCase()}]`]}function Mm(e){return Sa[e]>=Wo&&Wo<Sa.silent}function $o(e,t,a){if(!Mm(e))return;let n=aT(e);n&&n(...nT(e,t),...a)}function hu(e){let t=e;return{debug:(...a)=>$o("debug",t,a),info:(...a)=>$o("info",t,a),warn:(...a)=>$o("warn",t,a),error:(...a)=>$o("error",t,a),isEnabled(a="debug"){return Mm(a)},withScope(a){let n=t?`${t}:${a}`:a;return hu(n)}}}var x={...hu("App"),setLevel(e){if(!Sa[e])throw new Error(`Nivell de log desconegut: ${e}`);Wo=Sa[e],tT(e)},getLevel(){let e=Object.entries(Sa).find(([,t])=>t===Wo);return e?e[0]:"debug"},subscribe(e){return Su.add(e),()=>Su.delete(e)},withScope(e){return hu(e)}},U_=Object.freeze({...Sa});var Hn=x.withScope("InputSanitizer"),er={TIME:/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/,SERVICE_NUMBER:/^\d{9}$/,VEHICLE_NUMBER:/^[A-Z0-9]{3,6}$/i,DATE_ISO:/^\d{4}-\d{2}-\d{2}$/,PERSON_NAME:/^[a-zA-Z-\s\-']{1,28}$/,GENERAL_TEXT:/^[a-zA-Z0-9-\s\-.,;:()'\/]{0,150}$/},lT=[/<script[^>]*>.*?<\/script>/gi,/<iframe[^>]*>.*?<\/iframe>/gi,/<object[^>]*>.*?<\/object>/gi,/<embed[^>]*>/gi,/<[^>]*>/g,/javascript:/gi,/on\w+\s*=/gi,/data:text\/html/gi,/('|(--)|;|\/\*|\*\/|xp_|sp_|exec|execute|select|insert|update|delete|drop|create|alter)/gi,/(\||&|;|\$\(|\`|>|<)/g];function Gn(e){return typeof e!="string"?!1:lT.some(t=>t.test(e))}function iT(e){if(typeof e!="string")return"";let t=e.replace(/<[^>]*>/g,"");return t=t.replace(/[\x00-\x08\x0B-\x0C\x0E-\x1F\x7F]/g,""),t=t.replace(/\s+/g," "),t=t.trim(),t}function yu(e){return!e||typeof e!="string"?!1:Gn(e)?(Hn.warn("Patr\xF3 sospit\xF3s detectat en validaci\xF3 de hora:",e),!1):er.TIME.test(e)}function vu(e){return!e||typeof e!="string"?!1:Gn(e)?(Hn.warn("Patr\xF3 sospit\xF3s detectat en n\xFAmero de servei:",e),!1):/^\d{1,9}$/.test(e)}function oT(e){return!e||typeof e!="string"?!1:Gn(e)?(Hn.warn("Patr\xF3 sospit\xF3s detectat en n\xFAmero de vehicle:",e),!1):er.VEHICLE_NUMBER.test(e)}function rT(e){return!e||typeof e!="string"?!0:Gn(e)?(Hn.warn("Patr\xF3 sospit\xF3s detectat en nom de persona:",e),!1):er.PERSON_NAME.test(e)}function sT(e){return!e||typeof e!="string"?!0:Gn(e)?(Hn.warn("Patr\xF3 sospit\xF3s detectat en text general:",e.substring(0,50)),!1):er.GENERAL_TEXT.test(e)}function Rm(e){return!e||typeof e!="string"?{valid:!1,reason:"Text buit o inv\xE0lid"}:Gn(e)?(Hn.warn("Patrons sospitosos detectats en resultat OCR"),{valid:!1,reason:"Text amb patrons sospitosos detectats"}):e.length>2e3?{valid:!1,reason:"Text massa llarg"}:/\d/.test(e)?{valid:!0}:{valid:!1,reason:"No cont\xE9 d\xEDgits (hores esperades)"}}function hi(e,t="text"){let a=iT(e),n=!1,l="";switch(t){case"time":n=yu(a),l=n?"":"Format d'hora inv\xE0lid (esperat: HH:mm)";break;case"serviceNumber":n=vu(a),l=n?"":"N\xFAmero de servei inv\xE0lid (esperat: 1-9 d\xEDgits)";break;case"vehicleNumber":n=oT(a),l=n?"":"N\xFAmero de vehicle inv\xE0lid (esperat: 3-6 car\xE0cters alfanum\xE8rics)";break;case"personName":n=rT(a),l=n?"":"Nom inv\xE0lid (nom\xE9s lletres, espais i guions)";break;case"text":default:n=sT(a),l=n?"":"Text inv\xE0lid (cont\xE9 car\xE0cters no permesos)";break}return{valid:n,sanitized:a,reason:l}}var uT=["3.6","3.51","3.22","3.11"],qn={CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips"},Ti={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group"},ae={SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",SERVICE_COLORS:["service-1","service-2","service-3","service-4"],OPTIONS_MENU_HIDDEN:"hidden",CHIP_ACTIVE:"chip-active"},cT=[".chip-group-title",".chip-group",".btn-ocr-inline",".section-divider"],dT=[".destination",".destination-time"],Im=!1,jn=0,ve=[],Ai=[],Bm=[],Tu=null,yi=null,Vt=null,vi=null,fT=null,mT=[],ha=[],Ht=["","","",""];function gT(){yi&&(yi.innerHTML="",Ai=ve.map((e,t)=>{let a=document.createElement("button");return a.className=`service-button ${ae.SERVICE_COLORS[t]}`,a.textContent=`S${t+1}`,a.type="button",a.setAttribute("aria-label",`Mostrar servei ${t+1}`),a.addEventListener("click",()=>yT(t)),yi.appendChild(a),a}))}function ET(){!Vt||!vi||(vi.addEventListener("click",e=>{e.stopPropagation(),Vt.classList.toggle(ae.OPTIONS_MENU_HIDDEN)}),document.addEventListener("click",e=>{!vi?.contains(e.target)&&!Vt?.contains(e.target)&&Vt.classList.add(ae.OPTIONS_MENU_HIDDEN)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&Vt&&Vt.classList.add(ae.OPTIONS_MENU_HIDDEN)}),Vt.addEventListener("click",e=>{e.target.closest("button")&&Vt.classList.add(ae.OPTIONS_MENU_HIDDEN)}))}function pT(e,t){let a=e.querySelector(t);return a?a.closest(Ti.FORM_GROUP):null}function tr(e,t){if(!e)return;let a=t!=="3.6";dT.forEach(l=>{pT(e,l)?.classList.toggle(ae.SERVICE_HIDDEN,a)});let n=e.querySelector(".origin");n&&(a?n.setAttribute("enterkeyhint","done"):n.removeAttribute("enterkeyhint"))}function ST(e){fT&&mT.forEach(t=>t.classList.toggle(ae.CHIP_ACTIVE,t.dataset.mode===e))}function ar(e,t){e.querySelectorAll(Ti.CHIP).forEach(n=>n.classList.toggle(ae.CHIP_ACTIVE,n.dataset.mode===t))}function hT(){ve.forEach((e,t)=>{e.querySelectorAll(Ti.CHIP).forEach(n=>{n.addEventListener("click",()=>{let l=n.dataset.mode;if(!uT.includes(l)){console.error(`Intent de canviar a un mode inv\xE0lid: "${l}". Acci\xF3 bloquejada.`);return}if(ha[t]===l)return;ha[t]=l,ar(e,l),tr(e,l);let i=e.querySelector(".chip-group");i&&(ae.SERVICE_COLORS.forEach(o=>i.classList.remove(o)),i.classList.add(ae.SERVICE_COLORS[t])),Gt()})})})}function Au(e){let t=ae.SERVICE_COLORS[e],a=(n,l)=>{n&&(n.classList.remove(...ae.SERVICE_COLORS),n.classList.add(l,t))};a(document.getElementById(qn.CLEAR_BTN),"clear-selected-btn"),a(document.getElementById(qn.CAMERA_BTN),"camera-btn"),a(document.getElementById("notes-selected-service"),"notes-btn"),a(vi,"options-btn")}function wm(){if(!Im&&(Bm=document.querySelectorAll(Ti.SERVICE_PANEL),Tu=document.getElementById(qn.CONTAINER),yi=document.getElementById(qn.BUTTONS_CONTAINER),Vt=document.getElementById(qn.OPTIONS_MENU),vi=document.getElementById(qn.OPTIONS_TOGGLE_BTN),!(!Tu||!yi)&&(ve=Array.from(Tu.querySelectorAll(Ti.SERVICE_PANEL)),!!ve.length))){if(ha=ve.map(()=>"3.6"),gT(),ET(),hT(),ve.length>0&&Ai.length>0){ve.forEach((a,n)=>a.classList.toggle(ae.SERVICE_HIDDEN,n!==0)),Ai[0].classList.add(ae.BUTTON_ACTIVE);let e=ha[0];tr(ve[0],e),ar(ve[0],e);let t=ve[0].querySelector(".chip-group");t&&t.classList.add(ae.SERVICE_COLORS[0]),ST(e),Au(0)}Im=!0}}function yT(e){if(e<0||e>=ve.length||e===jn)return;ve[jn].classList.add(ae.SERVICE_HIDDEN),ve[e].classList.remove(ae.SERVICE_HIDDEN),Ai[jn].classList.remove(ae.BUTTON_ACTIVE),Ai[e].classList.add(ae.BUTTON_ACTIVE),jn=e;let t=ha[e];tr(ve[e],t),ar(ve[e],t);let a=ve[e].querySelector(".chip-group");a&&(ae.SERVICE_COLORS.forEach(n=>a.classList.remove(n)),a.classList.add(ae.SERVICE_COLORS[e])),Au(e)}var ln=()=>jn,xm=e=>{if(e>=0&&e<ha.length)return ha[e]};function Um(e){e&&e.querySelectorAll("input, select, textarea").forEach(t=>{t.type==="checkbox"||t.type==="radio"?t.checked=!1:t.type!=="button"&&t.type!=="submit"&&t.type!=="reset"&&(t.value=""),t.tagName==="SELECT"&&(t.selectedIndex=0)})}function Cu(){Au(jn)}function zm(e,t){if(e<0||e>=ve.length)return;ha[e]=t;let a=ve[e];a&&(ar(a,t),tr(a,t),Gt())}function Yn(e){let t=e==="TSNU";Bm.forEach(a=>{cT.forEach(n=>{a.querySelector(n)?.classList.toggle(ae.SERVICE_HIDDEN,t)})})}function Ci(e){e&&e.querySelectorAll(".input-error").forEach(t=>t.classList.remove("input-error"))}var nr=class{constructor({id:t="",date:a="",dietType:n="",vehicleNumber:l="",person1:i="",person2:o="",signatureConductor:r="",signatureAjudant:s="",services:u=[],serviceType:f="TSU",timeStampDiet:E=new Date().toISOString()}={}){this.id=String(t),this.date=String(a),this.dietType=String(n),this.vehicleNumber=String(l),this.person1=String(i),this.person2=String(o),this.signatureConductor=String(r),this.signatureAjudant=String(s),this.services=Array.isArray(u)?u:[],this.serviceType=String(f),this.timeStampDiet=String(E)}};function vT(){let e="dietSalt",t=(n=16)=>Array.from({length:n},()=>Math.floor(Math.random()*256).toString(16).padStart(2,"0")).join(""),a=localStorage.getItem(e);if(!a){if(window.crypto?.getRandomValues){let n=crypto.getRandomValues(new Uint8Array(16));a=Array.from(n).map(l=>l.toString(16).padStart(2,"0")).join("")}else console.warn("[pseudoId] crypto.getRandomValues no disponible; usant Math.random() (menys segur, nom\xE9s mode desenvolupament)."),a=t(16);localStorage.setItem(e,a)}return a}async function Xn(e){if(!window.crypto?.subtle)return console.warn("[pseudoId] WebCrypto no disponible (context no segur). S\u2019usar\xE0 l\u2019ID en clar nom\xE9s en aquesta sessi\xF3."),e;let a=new TextEncoder().encode(vT()+e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(l=>l.toString(16).padStart(2,"0")).join("")}var bu=new Intl.RelativeTimeFormat("es",{numeric:"auto"});function Pm(e){if(!(e instanceof Date)||isNaN(e.getTime()))throw new Error("La data proporcionada no \xE9s v\xE0lida.");let t=Date.now()-e.getTime();if(t<0)return"en el futuro";let a=Math.round(t/1e3);if(a<45)return"hace unos segundos";if(a<90)return"hace un minuto";let n=Math.round(a/60);if(n<60)return bu.format(-n,"minute");let l=Math.round(n/60);if(l<24)return bu.format(-l,"hour");let i=Math.round(l/24);return bu.format(-i,"day")}var Nt=x.withScope("CryptoManager"),TT=1,_u="AES-GCM";var AT=12,Gm=128;var CT=["person1","person2","vehicleNumber","signatureConductor","signatureAjudant"],bT=["serviceNumber","origin","destination","notes"];function lr(e){return!!(e&&e.encryption&&e.encryption.version&&e.encryptedData)}function _T(){return crypto.getRandomValues(new Uint8Array(AT))}function Vm(e){let t=new Uint8Array(e),a="";for(let n=0;n<t.byteLength;n++)a+=String.fromCharCode(t[n]);return btoa(a)}function Hm(e){let t=atob(e),a=new Uint8Array(t.length);for(let n=0;n<t.length;n++)a[n]=t.charCodeAt(n);return a.buffer}function DT(e){let t={id:e.id,date:e.date,dietType:e.dietType,serviceType:e.serviceType,createdAt:e.createdAt||Date.now(),updatedAt:Date.now()},a={generalData:{},servicesData:[]};return CT.forEach(n=>{e[n]!==void 0&&(a.generalData[n]=e[n])}),Array.isArray(e.services)&&(a.servicesData=e.services.map(n=>{let l={},i={};return Object.keys(n).forEach(o=>{bT.includes(o)?l[o]=n[o]:i[o]=n[o]}),{sensitive:l,public:i}})),t.services=a.servicesData.map(n=>n.public),{publicData:t,sensitiveData:a}}function OT(e,t){let a={...e};return t.generalData&&Object.assign(a,t.generalData),Array.isArray(e.services)&&Array.isArray(t.servicesData)&&(a.services=e.services.map((n,l)=>{let i=t.servicesData[l]?.sensitive||{};return{...n,...i}})),a}async function NT(e,t){try{let n=new TextEncoder().encode(JSON.stringify(e)),l=_T(),i=await crypto.subtle.encrypt({name:_u,iv:l,tagLength:Gm},t,n);return{data:Vm(i),iv:Vm(l),algorithm:_u,version:TT}}catch(a){throw Nt.error("Error encriptant dades:",a),new Error(`Encryption failed: ${a.message}`)}}async function LT(e,t){try{if(!e||!e.data||!e.iv)throw new Error("Invalid encrypted data format");let a=Hm(e.data),n=Hm(e.iv),l=await crypto.subtle.decrypt({name:_u,iv:new Uint8Array(n),tagLength:Gm},t,new Uint8Array(a)),o=new TextDecoder().decode(l);return JSON.parse(o)}catch(a){throw Nt.error("Error desencriptant dades:",a),new Error(`Decryption failed: ${a.message}`)}}async function qm(e){try{let a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){return Nt.error("Error calculant checksum:",t),""}}async function ir(e,t){try{Nt.debug("Encriptant dieta:",e.id);let{publicData:a,sensitiveData:n}=DT(e),l=await NT(n,t),i=await qm(l.data),o={...a,encryption:{version:l.version,algorithm:l.algorithm,iv:l.iv},encryptedData:l.data,checksum:i};return Nt.debug("Dieta encriptada correctament:",e.id),o}catch(a){throw Nt.error("Error encriptant dieta:",a),a}}async function or(e,t){try{Nt.debug("Desencriptant dieta:",e.id),e.checksum&&await qm(e.encryptedData)!==e.checksum&&Nt.warn("Checksum mismatch - dades potencialment corruptes");let a={data:e.encryptedData,iv:e.encryption.iv,algorithm:e.encryption.algorithm,version:e.encryption.version},n=await LT(a,t),l={...e};delete l.encryption,delete l.encryptedData,delete l.checksum;let i=OT(l,n);return Nt.debug("Dieta desencriptada correctament:",i.id),i}catch(a){throw Nt.error("Error desencriptant dieta:",a),a}}var re=x.withScope("KeyManager"),MT="encryption-keys",RT=1;var bi="wrapped-master-key",jm="device-salt",Xm={name:"AES-GCM",length:256},Du={name:"AES-KW",length:256};async function Ou(){return new Promise((e,t)=>{let a=indexedDB.open(MT,RT);a.onerror=()=>{re.error("Error obrint base de dades de claus"),t(a.error)},a.onsuccess=()=>{e(a.result)},a.onupgradeneeded=n=>{let l=n.target.result;l.objectStoreNames.contains("keys")||(l.createObjectStore("keys",{keyPath:"id"}),re.debug("Object store de claus creat"))}})}async function Km(e,t){let a=await Ou();return new Promise((n,l)=>{let r=a.transaction(["keys"],"readwrite").objectStore("keys").put({id:e,value:t,timestamp:Date.now()});r.onsuccess=()=>n(),r.onerror=()=>l(r.error)})}async function _i(e){let t=await Ou();return new Promise((a,n)=>{let o=t.transaction(["keys"],"readonly").objectStore("keys").get(e);o.onsuccess=()=>{a(o.result?.value||null)},o.onerror=()=>n(o.error)})}async function IT(){let e=[navigator.userAgent,navigator.language,screen.width,screen.height,screen.colorDepth,new Date().getTimezoneOffset(),navigator.hardwareConcurrency||0,navigator.deviceMemory||0],a=new TextEncoder().encode(e.join("|")),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}async function BT(){let e=await _i(jm);return e?e=new Uint8Array(e):(e=crypto.getRandomValues(new Uint8Array(32)),await Km(jm,Array.from(e)),re.debug("Nou salt de dispositiu generat")),e}async function Qm(){try{let e=await IT(),t=await BT(),a=new TextEncoder,n=await crypto.subtle.importKey("raw",a.encode(e),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},n,Du,!1,["wrapKey","unwrapKey"])}catch(e){throw re.error("Error derivant clau de dispositiu:",e),e}}async function wT(){try{re.debug("Generant nova clau mestra...");let e=await crypto.subtle.generateKey(Xm,!0,["encrypt","decrypt"]);return re.debug("Clau mestra generada correctament"),e}catch(e){throw re.error("Error generant clau mestra:",e),e}}async function xT(e,t){try{return await crypto.subtle.wrapKey("raw",e,t,Du.name)}catch(a){throw re.error("Error protegint clau mestra:",a),a}}async function UT(e,t){try{return await crypto.subtle.unwrapKey("raw",e,t,Du.name,Xm,!1,["encrypt","decrypt"])}catch(a){throw re.error("Error desprotegint clau mestra:",a),a}}async function on(){try{if(re.debug("\u{1F510} Inicialitzant sistema de claus..."),await _i(bi)){re.debug("\u2705 Sistema de claus ja inicialitzat");return}let t=await wT(),a=await Qm(),n=await xT(t,a);await Km(bi,Array.from(new Uint8Array(n))),re.debug("\u2705 Sistema de claus inicialitzat correctament"),re.debug("\u{1F512} Protecci\xF3 de dades activada")}catch(e){throw re.error("\u274C Error inicialitzant sistema de claus:",e),e}}async function Kn(){try{let e=await _i(bi);if(!e){if(re.warn("\u26A0\uFE0F Clau mestra no trobada. Inicialitzant sistema autom\xE0ticament..."),await on(),!await _i(bi))throw new Error("Failed to initialize key system");return await Kn()}if(!Array.isArray(e)||e.length===0)throw re.error("\u274C Clau mestra corrupta (format inv\xE0lid). Reinicialitzant..."),await Ym(),await on(),new Error("Key system was corrupted and has been reset. Please try again.");let t=new Uint8Array(e).buffer,a=await Qm();try{return await UT(t,a)}catch(n){throw re.error("\u274C Error desprotegint clau (possiblement corrupta):",n),re.warn("\u{1F504} Reinicialitzant sistema de claus..."),await Ym(),await on(),new Error("Key system was corrupted. System has been reset - please refresh the page.")}}catch(e){throw re.error("Error recuperant clau mestra:",e),e}}async function rr(){return!!await _i(bi)}async function Ym(){re.warn("\u26A0\uFE0F RESETEJANT SISTEMA DE CLAUS - Les dades encriptades es perdran!");let e=await Ou();return new Promise((t,a)=>{let i=e.transaction(["keys"],"readwrite").objectStore("keys").clear();i.onsuccess=()=>{re.debug("\u2705 Sistema de claus resetejat"),t()},i.onerror=()=>a(i.error)})}var zT="DietasDB";var qt="dietas",Fm="dateIndex",it=null;function Zm(){return new Promise((e,t)=>{let a=indexedDB.open(zT,1);a.onupgradeneeded=n=>{let l=n.target.result,i;l.objectStoreNames.contains(qt)?i=n.target.transaction.objectStore(qt):i=l.createObjectStore(qt,{keyPath:"id"}),i.indexNames.contains(Fm)||i.createIndex(Fm,"date",{unique:!1})},a.onsuccess=n=>{it=n.target.result,it.onclose=()=>it=null,it.onerror=()=>it=null,it.onversionchange=()=>it.close(),e(it)},a.onerror=n=>t(n.target.error),a.onblocked=()=>t(new Error("IndexedDB bloquejat per una altra pestanya"))})}async function Di(e="readonly"){return(it??(it=await Zm())).transaction(qt,e)}function Oi(e,t){return new Promise((a,n)=>{e.onsuccess=l=>a(l.target.result),e.onerror=l=>n(new Error(`${t}: ${l.target.error}`))})}function Nu(e){return new Promise((t,a)=>{e.oncomplete=()=>t(),e.onerror=()=>a(e.error),e.onabort=()=>a(e.error)})}async function Lu(e){try{let t=await Di("readwrite");return Oi(t.objectStore(qt).add(e),"No s'ha pogut afegir"),await Nu(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function sr(e,t){try{let a;typeof e=="string"&&t?a={...t,id:e}:a=e;let n=await Di("readwrite");return Oi(n.objectStore(qt).put(a),"No s'ha pogut actualitzar"),await Nu(n),a.id}catch(a){throw a.name==="QuotaExceededError"||a.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):a}}async function rn(e){if(!e)return;let t=await Di();return Oi(t.objectStore(qt).get(e),"Error obtenint dieta")}async function ya(){let e=await Di();return Oi(e.objectStore(qt).getAll(),"Error llistant dietes")}async function Jm(e){if(!e)return;let t=await Di("readwrite");Oi(t.objectStore(qt).delete(e),"Error eliminant dieta"),await Nu(t)}async function km(){return it??(it=await Zm())}var PT="save-pill",VT=".pill-text",jt={VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error"},$m=2e3;var va=null,Mu=null,sn=null,Ni=null,Ru=!1;function Wm(){if(!va){if(va=document.getElementById(PT),Mu=va?.querySelector(VT),!va||!Mu)throw new Error("Elements de la p\xEDndola no trobats al DOM.");va.setAttribute("role","status"),va.setAttribute("aria-live","polite")}return{pillEl:va,textEl:Mu}}function Iu(e,t){try{let{pillEl:a,textEl:n}=Wm();a.classList.add(jt.VISIBLE),a.classList.remove(jt.HAS_CHANGES,jt.SAVING,jt.HAS_SAVED,jt.ERROR),t&&a.classList.add(t),n.textContent=e.replace(/[<>&]/g,"")}catch(a){console.warn("[saveIndicator] Error mostrant p\xEDndola:",a)}}function ur(e="Guardando\u2026"){clearTimeout(Ni),Iu(e,jt.SAVING)}function cr(){clearTimeout(Ni),Ru=!1,Iu("Guardado",jt.HAS_SAVED),clearTimeout(sn),sn=setTimeout(Bu,$m)}function Li(e="No se pudo guardar"){clearTimeout(Ni),Iu(e,jt.ERROR),clearTimeout(sn),sn=setTimeout(Bu,$m*2)}function Bu(e=!1){try{if(Wm(),clearTimeout(sn),Ru&&!e)return;va?.classList.remove(jt.VISIBLE),sn=null}catch(t){console.warn("[saveIndicator] Error amagant p\xEDndola:",t)}}function Mi(){Ru=!1,clearTimeout(Ni),Bu(!0)}window.addEventListener("pagehide",()=>{clearTimeout(sn),clearTimeout(Ni)});var wu=Promise.resolve(),xu=!1,Uu=!1,un=!1,Qn=x.withScope("DietService");async function HT(e,t,a){if(!e||!Array.isArray(t)||!a)throw new Error("Datos incompletos para construir la dieta.");if(!/^\d{9}$/.test(a))throw new Error("ID de dieta inv\xE1lido. Debe contener 9 d\xEDgitos.");for(let o of t)if(!ko(o.originTime)||!ko(o.destinationTime)||!ko(o.endTime))throw new Error("Formato de hora inv\xE1lido detectado. Use HH:mm.");let n=await Xn(a),l=new Date().toISOString(),i={id:n,date:de(e.date),dietType:de(e.dietType),vehicleNumber:de(e.vehicleNumber),person1:de(e.person1),person2:de(e.person2),signatureConductor:e.signatureConductor,signatureAjudant:e.signatureAjudant,services:t.map(o=>({serviceNumber:de(o.serviceNumber),origin:de(o.origin),destination:de(o.destination),originTime:o.originTime,destinationTime:o.destinationTime,endTime:o.endTime,mode:de(o.mode),notes:de(o.notes)||""})),serviceType:de(e.serviceType),timeStampDiet:l};return new nr(i)}function GT(){let e=document.getElementById(j.DADES_TAB),t=document.getElementById(j.SERVEIS_TAB);e?.classList.remove(Be.ERROR_TAB),t?.classList.remove(Be.ERROR_TAB);let a=Zo(),n=Jo();if(a&&n)return!0;let l="";return!a&&!n?(l="Completa los campos obligatorios en Datos y Servicios.",e?.classList.add(Be.ERROR_TAB),t?.classList.add(Be.ERROR_TAB)):a?(l="Completa los campos obligatorios en la pesta\xF1a Servicios.",t?.classList.add(Be.ERROR_TAB)):(l="Completa los campos obligatorios en la pesta\xF1a Datos.",e?.classList.add(Be.ERROR_TAB)),D(l,"error"),!1}function qT(e){if(!e)return;let t=l=>document.getElementById(l);t(j.DATE_INPUT).value=e.date||"",t(j.DIET_TYPE_SELECT).value=e.dietType||"",t(j.VEHICLE_INPUT).value=e.vehicleNumber||"",t(j.PERSON1_INPUT).value=e.person1||"",t(j.PERSON2_INPUT).value=e.person2||"";let a=t(j.SERVICE_TYPE_SELECT);a&&(a.value=e.serviceType||"TSU",Yn(a.value)),dr(e.signatureConductor||""),fr(e.signatureAjudant||"");let n=document.querySelectorAll(Am);e.services.forEach((l,i)=>{let o=n[i];o&&(Object.entries(gu).forEach(([r,s])=>{if(!s)return;let u=o.querySelector(s);u&&(u.value=l[r]||"")}),zm(i,l.mode||"3.6"),Ci(o),Ht[i]=l.notes||"")});for(let l=e.services.length;l<n.length;l++){let i=n[l];i&&(Object.values(gu).forEach(o=>{if(!o)return;let r=i.querySelector(o);r&&(r.value="")}),Ci(i),Ht[l]="")}}async function Pu(e){if(un=un||e,xu)return Uu=!0,wu;xu=!0;let t=un;un=!1;let a=(async()=>{let{generalData:n,servicesData:l}=mr(),i=l[0]?.serviceNumber?.slice(0,9)||"";if(!i||!/^\d{9}$/.test(i)){t&&D("El primer servicio debe tener un N.\xBA de servicio v\xE1lido.","error");return}let o=await Xn(i),r=await rn(o);t&&ur(!r?"Guardando nueva dieta\u2026":"Guardando\u2026"),zu(!1);try{if(await new Promise(c=>setTimeout(c,500)),!GT()){t&&Li("Validaci\xF3n fallida");return}let f=await HT(n,l,i),E=f;if(await rr())try{let c=await Kn();E=await ir(f,c),Qn.debug("\u{1F512} Dieta encriptada abans de guardar")}catch(c){Qn.warn("Error encriptant dieta, guardant sense encriptar:",c)}r?await sr(E):await Lu(E),Ri=new Date,Gu(),t&&D("Dieta guardada correctament.","success"),Fn(),cr(),t&&await Ii()}catch(f){Qn.error("Error en performSave:",f),Li(f.message||"No se pudo guardar"),t&&D(`Error al guardar: ${f.message}`,"error")}finally{zu(!0)}})();wu=a;try{await a}finally{if(xu=!1,Uu||un){let n=un;return un=!1,Uu=!1,Pu(n)}}return wu}async function eg(){ag(),await Pu(!0)}async function Vu(){await Pu(!1)}async function tg(e){if(!e||typeof e!="string")throw new Error("ID inv\xE0lid");let t=e.length===64?await rn(e):await rn(await Xn(e));if(!t)throw new Error(`Dieta no trobada: ${e}`);if(lr(t))try{let a=await Kn();t=await or(t,a),Qn.debug("\u{1F513} Dieta desencriptada correctament")}catch(a){throw Qn.error("Error desencriptant dieta:",a),D("Error desencriptant dieta. Pot estar corrupta.","error"),a}qT(t),Fn(),t.timeStampDiet&&(Ri=new Date(t.timeStampDiet),Gu()),D("Dieta cargada correctamente.","success"),qu()}async function Hu(e,t,a){if(e)try{let n=await rn(e);if(!n){D("Error: Dieta no trobada","error");return}let i=(await ya()).sort((o,r)=>new Date(r.timeStampDiet)-new Date(o.timeStampDiet));n.index=i.findIndex(o=>o.id===e),await Jm(e),D("Dieta eliminada","success",5e3,{priority:2,queueable:!1,undoCallback:async()=>{await Lu(n),Yu(n),D("Dieta restaurada","success",3e3,{priority:0})},onExpire:()=>{ju(e)}}),Fn(),Mi()}catch(n){Qn.error("Error en deleteDietHandler:",n),D("Error al eliminar la dieta","error")}}var Ri=null;function Gu(){let e=document.getElementById("last-saved");e&&(e.textContent=Ri?Pm(Ri):"")}setInterval(()=>{Ri&&Gu()},6e4);var ng={[pi.LUNCH]:"comida",[pi.DINNER]:"cena",DEFAULT:"dieta"},cn={TOP_BAR:Be.TOP_BAR_TAPS,FOOTER:Be.FOOTER_TAPS,TIMEOUT:Be.TIMEOUT,ANIMATION_DURATION:Be.ANIMATION_DURATION};function lg(e){if(!e)return;let t=document.body;if(!t)return;let a=t.dataset?.cspNonce||t.getAttribute("data-csp-nonce")||"";a&&!e.getAttribute("nonce")&&e.setAttribute("nonce",a)}function ig(){try{let e=document.getElementById(j.DATE_INPUT);if(!e)return;e.valueAsDate=new Date}catch{}}function og(e){return typeof e!="string"||!e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function Jn(e){return e?e.split(" ").map(t=>t.includes(".")?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):""}function Xu(){let e=new Date().getHours();return e>=6&&e<18?pi.LUNCH:pi.DINNER}function rg(){let e=document.getElementById(j.DIET_TYPE_SELECT);e&&(e.value=Xu())}function Ku(e,t){let a="Data inv\xE0lida";if(e&&/^\d{4}-\d{2}-\d{2}$/.test(e))try{let l=e.split("-"),i=l[0].slice(-2);a=`${l[2]}/${l[1]}/${i}`}catch{}let n=ng[t]||ng.DEFAULT;return{ddmmaa:a,franjaText:n}}var be={topBarTaps:0,footerTaps:0,tapTimeoutId:null};function Zn(){be.topBarTaps=0,be.footerTaps=0,be.tapTimeoutId&&(clearTimeout(be.tapTimeoutId),be.tapTimeoutId=null)}function jT(){if(document.querySelector(j.EASTER_EGG_OVERLAY))return;let e=document.createElement("div");e.className=j.EASTER_EGG_OVERLAY.substring(1);let t=document.createElement("div");t.className=j.EASTER_EGG_ICON.substring(1),t.innerHTML='<img src="assets/icons/egg.svg" alt="Easter Egg">',e.appendChild(t),document.body.appendChild(e);let a=n=>{n.stopPropagation(),t.classList.add("clicked"),setTimeout(()=>e.remove(),cn.ANIMATION_DURATION)};e.addEventListener("click",a)}function sg(){let e=document.getElementById("top-bar"),t=document.getElementById("footer");!e||!t||(e.addEventListener("touchend",a=>{a.changedTouches.length===1?(be.topBarTaps++,be.tapTimeoutId&&clearTimeout(be.tapTimeoutId),be.tapTimeoutId=setTimeout(Zn,cn.TIMEOUT),be.topBarTaps>cn.TOP_BAR&&Zn()):Zn()}),t.addEventListener("touchend",a=>{be.topBarTaps===cn.TOP_BAR&&a.changedTouches.length===1&&(be.footerTaps++,be.tapTimeoutId&&clearTimeout(be.tapTimeoutId),be.tapTimeoutId=setTimeout(Zn,cn.TIMEOUT),be.footerTaps===cn.FOOTER?(jT(),Zn()):be.footerTaps>cn.FOOTER&&Zn())}))}function Bi(e,t){let a,n=function(...l){clearTimeout(a),a=setTimeout(()=>e.apply(this,l),t)};return n.cancel=()=>clearTimeout(a),n}var Ke={IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount"},dg=2,ug=10,dn=null,Qu=null,Fu=null,fn=null,cg=!1,P=x.withScope("PWA"),Zu=(e,t=0)=>parseInt(localStorage.getItem(e)||String(t),10),Ju=e=>localStorage.getItem(e)==="true",mn=(e,t)=>localStorage.setItem(e,String(t));function fg(){let e=window.matchMedia("(display-mode: standalone)").matches,t=window.navigator.standalone===!0;return e||t||Ju(Ke.IS_INSTALLED)}function YT(e=!1){if(P.debug("Intentant mostrar el b\xE0ner d'instal\xB7laci\xF3..."),fg()){P.debug("Bloquejat: L'app ja est\xE0 instal\xB7lada.");return}if(Ju(Ke.NEVER_SHOW_AGAIN)){P.debug("Bloquejat: L'usuari ha demanat no tornar a mostrar.");return}if(!dn){P.debug("Bloquejat: No hi ha cap event d'instal\xB7laci\xF3 guardat.");return}if(!fn){P.debug("Bloquejat: L'element HTML del b\xE0ner no s'ha trobat.");return}P.info("Mostrant el b\xE0ner!"),fn.classList.add("visible"),fn.classList.remove("hidden")}function mg(){P.debug("Amagant el b\xE0ner."),fn?.classList.remove("visible"),fn?.classList.add("hidden")}function XT(){P.info("L'usuari ha descartat el b\xE0ner."),mg();let e=Zu(Ke.PROMPT_DISMISSED_COUNT);e++,mn(Ke.PROMPT_DISMISSED_COUNT,e),P.debug(`Comptador de descartats actualitzat a: ${e}`),e>=dg&&(mn(Ke.NEVER_SHOW_AGAIN,!0),P.info("S'ha assolit el l\xEDmit de descartats. No es tornar\xE0 a mostrar."))}async function KT(){if(P.info("L'usuari ha fet clic a 'Instal\xB7lar'."),!dn){P.warn("El bot\xF3 d'instal\xB7lar s'ha premut, per\xF2 no hi havia cap event guardat.");return}mg();try{dn.prompt();let{outcome:e}=await dn.userChoice;P.info(`Resultat de la decisi\xF3 de l'usuari: ${e}`),e==="accepted"?(mn(Ke.IS_INSTALLED,!0),mn(Ke.NEVER_SHOW_AGAIN,!0),P.info("L'usuari ha acceptat la instal\xB7laci\xF3! :)")):P.info("L'usuari ha rebutjat la instal\xB7laci\xF3 des del di\xE0leg del navegador.")}catch(e){P.error("Error durant el proc\xE9s de prompt d'instal\xB7laci\xF3:",e)}finally{dn=null}}function QT(e){e.preventDefault(),dn=e,P.debug("Event 'beforeinstallprompt' capturat i guardat.")}function gg(){cg||(P.debug("Inicialitzant el gestor d'instal\xB7laci\xF3..."),fn=document.getElementById("install-prompt"),Qu=document.getElementById("install-button"),Fu=document.getElementById("dismiss-button"),fn&&Qu&&Fu?(Qu.addEventListener("click",KT),Fu.addEventListener("click",XT),P.debug("Botons del b\xE0ner d'instal\xB7laci\xF3 configurats.")):P.warn("No s'han trobat tots els elements del b\xE0ner d'instal\xB7laci\xF3."),window.addEventListener("beforeinstallprompt",QT),window.matchMedia("(display-mode: standalone)").addEventListener("change",e=>{e.matches&&(P.info("Detectat canvi a mode 'standalone'. Marcat com instal\xB7lat."),mn(Ke.IS_INSTALLED,!0),mn(Ke.NEVER_SHOW_AGAIN,!0))}),cg=!0,P.debug("Gestor d'instal\xB7laci\xF3 inicialitzat correctament."))}function Eg(){if(P.debug("------------------------------------------"),P.debug("Comprovant si s'ha de mostrar el b\xE0ner despr\xE9s d'una acci\xF3..."),fg()){P.debug("[Check] No es mostra: L'app ja est\xE0 instal\xB7lada.");return}if(Ju(Ke.NEVER_SHOW_AGAIN)){P.debug("[Check] No es mostra: L'usuari ha demanat no tornar a veure'l.");return}if(!dn){P.debug("[Check] No es mostra: El navegador no ha ofert la possibilitat d'instal\xB7lar (deferredPrompt \xE9s nul).");return}let e=Zu(Ke.ACTION_TRIGGER_COUNT);e++,mn(Ke.ACTION_TRIGGER_COUNT,e),P.debug(`Comptador d'accions incrementat a: ${e}`);let t=Zu(Ke.PROMPT_DISMISSED_COUNT);P.debug(`Vegades que s'ha descartat el b\xE0ner: ${t}`);let a=e===1&&t===0||e>=ug&&t<dg;P.debug(`Es compleixen les condicions per mostrar? ${a}`),a?(setTimeout(()=>YT(),1500),e>=ug):P.debug("No es mostra el b\xE0ner aquesta vegada."),P.debug("------------------------------------------")}var kn={OUTER_MARGIN:55,INNER_PADDING:10},ot={TEMPLATE_URLS:{DEFAULT:"./dieta.pdf"},SERVICE_Y_OFFSET:82,SIGNATURE_WIDTH:100,SIGNATURE_HEIGHT:50,WATERMARK_TEXT:"misdietas.com",DEFAULT_FILENAME:"dieta.pdf",SERVICE_NUMBER_COLOR:"#004aad",MODE_PREFIX_TEXT_COLOR:"#8B0000",MAX_SIGNATURE_NAME_LENGTH:31,MAX_ORIGIN_LENGTH:30,MAX_DESTINATION_LENGTH:30},I={general:{date:{x:155,y:732,size:16,color:"#000000"},vehicleNumber:{x:441,y:732,size:16,color:"#000000"},person1:{x:65,y:368,size:16,color:"#000000"},person2:{x:310,y:368,size:16,color:"#000000"}},service:{serviceNumber:{x:130,y:715,size:16,color:"#000000"},origin:{x:229,y:698,size:14,color:"#000000"},originTime:{x:441,y:698,size:16,color:"#000000"},destination:{x:229,y:683,size:14,color:"#000000"},destinationTime:{x:441,y:681,size:16,color:"#000000"},endTimeNormal:{x:441,y:665,size:16,color:"#000000"},endTimeModeText:{x:390,y:665,size:16,color:ot.MODE_PREFIX_TEXT_COLOR},endTimeValueWhenPrefixed:{x:441,y:665,size:16,color:"#000000"}},signature:{conductor:{x:125,y:295,width:100,height:50},ayudante:{x:380,y:295,width:100,height:50}},notesSection:{title:{x:65,y:250,size:16,color:"#000000"},lineHeight:18,maxWidth:465,start:{x:65,y:230,size:16,color:"#333333"}},fixedText:{website:{x:250,y:20,size:6,color:"#EEEEEE"}}},FT=x.withScope("PdfTemplate");function ZT(e){return!e||typeof e!="string"||e.trim()===""?"":e.split(/\s+/).filter(Boolean).map(t=>t.includes("-")?t.split("-").map(a=>a?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():"").join("-"):t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function JT(e){if(!e||typeof e!="string")return{r:0,g:0,b:0};let t=e.replace("#","");if(t.length!==6)return{r:0,g:0,b:0};let a=parseInt(t,16);return Number.isNaN(a)?{r:0,g:0,b:0}:{r:a>>16&255,g:a>>8&255,b:a&255}}function pg(e,t){return!e||e.length<=t?e:e.substring(0,t-3)+"..."}function gr(e){if(!e||!/^\d{4}-\d{2}-\d{2}$/.test(e))return"";let[t,a,n]=e.split("-");return`${n}/${a}/${t}`}function kT(){return ot.TEMPLATE_URLS.DEFAULT}async function ku(e,t){if(!e||!Array.isArray(t))throw new Error("Dades inv\xE0lides.");if(!window.PDFLib)throw new Error("PDFLib no carregada.");let{PDFDocument:a,StandardFonts:n,rgb:l}=window.PDFLib,i=kT(),o=await fetch(i).then(v=>v.arrayBuffer()),r=await a.load(o),s=await r.embedFont(n.Helvetica),u=r.getPages()[0],f=v=>{let{r:_,g:C,b:N}=JT(v);return l(_/255,C/255,N/255)};Object.entries(I.general).forEach(([v,_])=>{let C=e[v]||"";v==="date"&&(C=gr(C)),v==="vehicleNumber"&&(C=C.toUpperCase()),(v==="person1"||v==="person2")&&(C=ZT(C),C.length>ot.MAX_SIGNATURE_NAME_LENGTH&&(C=C.slice(0,ot.MAX_SIGNATURE_NAME_LENGTH-3)+"...")),u.drawText(C,{..._,font:s,color:f(_.color)})}),t.forEach((v,_)=>{let C=_*ot.SERVICE_Y_OFFSET,N=v.mode||"3.6";u.drawText(v.serviceNumber||"",{...I.service.serviceNumber,y:I.service.serviceNumber.y-C,font:s,color:f(ot.SERVICE_NUMBER_COLOR)});let Pe=pg(v.origin||"",ot.MAX_ORIGIN_LENGTH),mi=Pe.length>23?13:I.service.origin.size;if(u.drawText(Pe,{...I.service.origin,y:I.service.origin.y-C,size:mi,font:s,color:f(I.service.origin.color)}),u.drawText(v.originTime||"",{...I.service.originTime,y:I.service.originTime.y-C,font:s,color:f(I.service.originTime.color)}),N==="3.6"){let Ko=pg(v.destination||"",ot.MAX_DESTINATION_LENGTH),Qo=Ko.length>23?13:I.service.destination.size;u.drawText(Ko,{...I.service.destination,y:I.service.destination.y-C,size:Qo,font:s,color:f(I.service.destination.color)}),u.drawText(v.destinationTime||"",{...I.service.destinationTime,y:I.service.destinationTime.y-C,font:s,color:f(I.service.destinationTime.color)})}let gi=(v.endTime||"").trim();N!=="3.6"&&gi?(u.drawText(N,{...I.service.endTimeModeText,y:I.service.endTimeModeText.y-C,font:s,color:f(I.service.endTimeModeText.color)}),u.drawText(gi,{...I.service.endTimeValueWhenPrefixed,y:I.service.endTimeValueWhenPrefixed.y-C,font:s,color:f(I.service.endTimeValueWhenPrefixed.color)})):u.drawText(gi,{...I.service.endTimeNormal,y:I.service.endTimeNormal.y-C,font:s,color:f(I.service.endTimeNormal.color)})});let E=async(v,_)=>{if(typeof v=="string"&&v.startsWith("data:image/png;base64,")&&v.length>22)try{let N=await r.embedPng(v);u.drawImage(N,{..._})}catch(N){FT.warn("No s'ha pogut incrustar una signatura.",N)}};await Promise.all([E(e.signatureConductor,I.signature.conductor),E(e.signatureAjudant,I.signature.ayudante)]);let c=u.getWidth(),g=kn.OUTER_MARGIN+kn.INNER_PADDING,y=c-(kn.OUTER_MARGIN+kn.INNER_PADDING),T=t.map(v=>({num:v.serviceNumber||"",text:(v.notes||"").trim()})).filter(v=>v.num&&v.text);if(T.length){u.drawLine({start:{x:kn.OUTER_MARGIN,y:275},end:{x:c-kn.OUTER_MARGIN,y:275},thickness:.5,color:l(.8,.8,.8)});let _=T.length===1?"Observaci\xF3":"Observacions";u.drawText(_,{...I.notesSection.title,font:s,color:f(I.notesSection.title.color)});let C=I.notesSection.start.y,N=I.notesSection.start.size,Pe=I.notesSection.lineHeight,mi=f(I.notesSection.start.color);T.forEach(({num:gi,text:Ko})=>{if(C<40)return;let Qo=`Servei ${gi}: `;u.drawText(Qo,{x:g,y:C,font:s,size:N,color:f(ot.SERVICE_NUMBER_COLOR)});let Hv=s.widthOfTextAtSize(Qo,N),Fo=g+Hv;Ko.split(" ").forEach(mu=>{if(!mu)return;let ym=s.widthOfTextAtSize(`${mu} `,N);Fo+ym>y&&(C-=Pe,Fo=g),u.drawText(`${mu} `,{x:Fo,y:C,font:s,size:N,color:mi}),Fo+=ym}),C-=Pe*1.5})}let b=ot.WATERMARK_TEXT,m=I.fixedText.website.size,d=s.widthOfTextAtSize(b,m);u.drawText(b,{x:(u.getWidth()-d)/2,y:I.fixedText.website.y,size:m,font:s,color:f(I.fixedText.website.color)});let p=gr(e.date)||"Dieta",A=`Dieta ${e.dietType==="lunch"?"Comida":e.dietType==="dinner"?"Cena":""} ${p}`.trim().replace(/ +/g," ");r.setTitle(A),r.setAuthor("misdietas.com"),r.setSubject("Justificante de dieta de transporte sanitario"),r.setCreator("MisDietas"),r.setKeywords(["dieta","justificante","transporte sanitario","tsu","tsnu"]);let R=new Date(e.date);return Number.isNaN(R.getTime())||(r.setCreationDate(R),r.setModificationDate(R)),await r.save({permissions:{modifying:!1,copying:!1}})}var $n=new Map;function Wn({src:e,integrity:t,crossOrigin:a="anonymous",referrerPolicy:n="no-referrer",timeoutMs:l=15e3}={}){if(!e||typeof e!="string")return Promise.reject(new Error("loadExternalScript: src inv\xE0lid."));if($n.has(e))return $n.get(e);let i=document.querySelector(`script[src="${e}"]`);if(i?.dataset?.secureLoaded==="true"){let s=Promise.resolve();return $n.set(e,s),s}let o=i??document.createElement("script");lg(o),o.src=e,o.async=!0,o.crossOrigin=a,o.referrerPolicy=n,t&&(o.integrity=t);let r=new Promise((s,u)=>{let f=null,E=()=>{o.removeEventListener("load",c),o.removeEventListener("error",g),f&&(clearTimeout(f),f=null)},c=()=>{E(),o.dataset.secureLoaded="true",s()},g=()=>{E(),!i&&o.parentNode&&o.parentNode.removeChild(o),$n.delete(e),u(new Error(`Error carregant script: ${e}`))};o.addEventListener("load",c),o.addEventListener("error",g),f=window.setTimeout(()=>{E(),$n.delete(e),!i&&o.parentNode&&o.parentNode.removeChild(o),u(new Error(`Timeout carregant script: ${e}`))},l)});return $n.set(e,r),i||document.head.appendChild(o),r}var $u=class{constructor(t=10,a=6e4,n="acci\xF3"){this.maxRequests=t,this.windowMs=a,this.actionName=n,this.requests=[]}canMakeRequest(){let t=Date.now();if(this.requests=this.requests.filter(a=>t-a<this.windowMs),this.requests.length>=this.maxRequests){let a=Math.min(...this.requests),n=Math.ceil((a+this.windowMs-t)/1e3);return console.warn(`[RateLimiter] L\xEDmit assolit per "${this.actionName}". Espera ${n}s abans de tornar-ho a intentar.`),!1}return this.requests.push(t),!0}getRemainingRequests(){let t=Date.now();return this.requests=this.requests.filter(a=>t-a<this.windowMs),Math.max(0,this.maxRequests-this.requests.length)}reset(){this.requests=[],console.log(`[RateLimiter] Resetejat el l\xEDmit per "${this.actionName}"`)}getStatus(){let t=Date.now();return this.requests=this.requests.filter(a=>t-a<this.windowMs),{actionName:this.actionName,requestsMade:this.requests.length,maxRequests:this.maxRequests,remaining:this.maxRequests-this.requests.length,windowSeconds:this.windowMs/1e3}}},Er=$u;var Sg=!1,pr=null,hg=x.withScope("PdfService"),$T="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js",WT="sha384-weMABwrltA6jWR8DDe9Jp5blk+tZQh7ugpCsF3JwSA53WZM9/14PjS5LAJNHNjAI",Sr=new Er(20,6e4,"generaci\xF3 de PDF");async function yg(){Sg&&window.PDFLib||(pr||(pr=Wn({src:$T,integrity:WT}).then(()=>{if(!window.PDFLib)throw new Error("PDF-Lib no disponible despr\xE9s de carregar script.");Sg=!0}).catch(e=>{throw pr=null,e})),await pr)}var hr={DADES_TAB:"tab-dades",SERVEIS_TAB:"tab-serveis"},Ta={ERROR_TAB:"error-tab"};function e0(e,t){let a=document.getElementById(hr.DADES_TAB),n=document.getElementById(hr.SERVEIS_TAB);a?.classList.remove(Ta.ERROR_TAB),n?.classList.remove(Ta.ERROR_TAB);let l="";!e&&!t?(l="Completa els camps obligatoris a Dades i Serveis.",a?.classList.add(Ta.ERROR_TAB),n?.classList.add(Ta.ERROR_TAB)):e?(l="Completa els camps obligatoris a Serveis.",n?.classList.add(Ta.ERROR_TAB)):(l="Completa els camps obligatoris a Dades.",a?.classList.add(Ta.ERROR_TAB)),l&&D(l,"error")}function vg(e,t){let a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>URL.revokeObjectURL(a),500)}function Tg(e,t){let a=gr(e).replace(/\//g,"_")||"";return a?`${t==="lunch"?"dieta_comida":t==="dinner"?"dieta_cena":"dieta"}_${a}.pdf`:ot.DEFAULT_FILENAME}async function Ag(){if(!Sr.canMakeRequest()){let a=Sr.getRemainingRequests();D(`Has superat el l\xEDmit de generaci\xF3 de PDFs. Espera uns segons. (${a} disponibles)`,"warning");return}let e=Zo(),t=Jo();if(!e||!t){e0(e,t);return}document.getElementById(hr.DADES_TAB)?.classList.remove(Ta.ERROR_TAB),document.getElementById(hr.SERVEIS_TAB)?.classList.remove(Ta.ERROR_TAB);try{let{generalData:a,servicesData:n}=mr();if(!a||!n)throw new Error("Dades no recollides.");await yg();let l=await ku(a,n),i=Tg(a.date,a.dietType);vg(new Blob([l],{type:"application/pdf"}),i),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from main form"}),D("Desc\xE0rrega iniciada correctament.","success"),Eg()}catch(a){hg.error("Error generant PDF des del formulari principal:",a),D(`Error en la generaci\xF3 del PDF: ${a.message||"Desconegut"}`,"error")}}async function Cg(e){if(!e){D("ID de dieta inv\xE1lido.","error");return}if(!Sr.canMakeRequest()){let t=Sr.getRemainingRequests();D(`Has superat el l\xEDmit de generaci\xF3 de PDFs. Espera uns segons. (${t} disponibles)`,"warning");return}try{let t=e.length===64?e:await Xn(e),a=await rn(t);if(!a)throw new Error("Dieta no encontrada.");let n={date:a.date||"",dietType:a.dietType||"",vehicleNumber:a.vehicleNumber||"",person1:a.person1||"",person2:a.person2||"",serviceType:a.serviceType||"TSU",signatureConductor:a.signatureConductor||"",signatureAjudant:a.signatureAjudant||""},l=a.services.map(r=>({serviceNumber:r.serviceNumber||"",origin:r.origin||"",originTime:r.originTime||"",destination:r.destination||"",destinationTime:r.destinationTime||"",endTime:r.endTime||"",mode:r.mode||"3.6",notes:r.notes||""}));await yg();let i=await ku(n,l),o=Tg(n.date,n.dietType);vg(new Blob([i],{type:"application/pdf"}),o),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from saved list"}),D("Descarga iniciada correctamente.","success")}catch(t){hg.error("Error en downloadDietPDF:",t),D(`Error en la generaci\xF3n del PDF: ${t.message||"Desconocido"}`,"error")}}var Q={MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_DELETE_BTN:"diet-delete",DIET_LOAD_BTN:"diet-load",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal"},yt={DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",SIGNATURE_MODAL:"signature-modal",DOTACIO_MODAL:"dotacio-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal"},yr={MODAL:".modal",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Yt={DIET_ID:"data-diet-id",DIET_DATE:"data-diet-date",DIET_TYPE:"data-diet-type"},t0=x.withScope("Modals:Manager"),Lt=[],Wu=null,el=null,tl=null,bg=new Map;function al(){return Lt.length>0?Lt[Lt.length-1]:null}function a0(){el||(el=e=>{let t=al();if(t&&e.target===t){let a=bg.get(t.id);a?a({reason:"backdrop"}):Aa(t)}},document.addEventListener("click",el,!0)),tl||(tl=e=>{if(e.key!=="Escape")return;let t=al();if(!t)return;let a=bg.get(t.id);a?a({reason:"escape"}):Aa(t)},document.addEventListener("keydown",tl,!0))}function n0(){el&&(document.removeEventListener("click",el,!0),el=null),tl&&(document.removeEventListener("keydown",tl,!0),tl=null)}function l0(e){e.dataset.backdropTouchHandled||(e.addEventListener("touchstart",t=>{t.target===e&&(t.preventDefault(),t.stopPropagation())},{passive:!1}),e.dataset.backdropTouchHandled="true")}function _g(e){e.style.display="block",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",e.style.setProperty("pointer-events","auto")}function Dg(e){e.querySelector(yr.FOCUSABLE_ELEMENTS)?.focus()}function vr(e){if(!e)return;let t=al();if(t&&t!==e&&e.id!==yt.CONFIRM_MODAL){t0.debug("S'ha ignorat l'obertura perqu\xE8 ja hi ha un modal actiu.");return}let a=Lt.includes(e);a||Lt.push(e),Lt.length===1&&!a&&(Wu=document.activeElement,document.body.classList.add(Q.MODAL_OPEN_BODY),Ng(),nl(!1),document.body.style.setProperty("pointer-events","none")),a0(),l0(e),_g(e),Dg(e)}function Aa(e=al()){if(!e)return;let t=Lt.lastIndexOf(e);if(t===-1){e.style.display="none",e.style.removeProperty("pointer-events");return}if(Lt.splice(t,1),e.style.display="none",e.style.removeProperty("pointer-events"),Lt.length===0){document.body.classList.remove(Q.MODAL_OPEN_BODY),nl(!0),Lg(),document.body.style.removeProperty("pointer-events"),Wu?.focus(),Wu=null,n0();return}let a=al();a&&(_g(a),Dg(a))}function Og(){document.querySelectorAll(yr.MODAL_TRIGGER).forEach(t=>{if(t.dataset.modalPrepared==="true")return;let a=t.getAttribute("href")?.substring(1);if(!a)return;let n=document.getElementById(a);n&&n.matches(yr.MODAL)&&(t.addEventListener("click",i=>{i.preventDefault(),vr(n)}),n.querySelectorAll(yr.MODAL_CLOSE_BTN).forEach(i=>{i.dataset.modalPrepared!=="true"&&(i.addEventListener("click",()=>Aa(n)),i.dataset.modalPrepared="true")})),t.dataset.modalPrepared="true"})}function ec(){return Lt.length>0}function tc(){return al()}var Tr=x.withScope("Modals:Diet"),Tt=null,ne=null,vt=null,Mg=!1;function wi(){if(Mg)return!0;if(Tt=document.getElementById(yt.DIET_MODAL),ne=document.getElementById(yt.DIET_OPTIONS_LIST),vt=document.getElementById(yt.NO_DIETS_TEXT),!Tt||!ne||!vt)return Tr.warn("No s'han trobat els elements del modal de dietes."),!1;let e=document.getElementById("close-diet-modal");return e&&!e.dataset.modalPrepared&&(e.addEventListener("click",()=>Aa(Tt)),e.dataset.modalPrepared="true"),ne.dataset.modalPrepared||(ne.addEventListener("click",o0),ne.dataset.modalPrepared="true"),Mg=!0,!0}function i0(e){if(!e)return"";let t=new Date(e);if(Number.isNaN(t.getTime()))return"";let a=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0");return`${a}:${n}`}function Rg(e){let t=e.id||"?????????",{ddmmaa:a,franjaText:n}=Ku(e.date,e.dietType),l=i0(e.timeStampDiet),i=document.createElement("div");i.className=Q.DIET_ITEM;let o=document.createElement("div");o.className="diet-item-content";let r=document.createElement("span");r.className=Q.DIET_DATE;let s=a;l&&(s+=` [${l}]`),s+=` - ${og(n)}`,r.textContent=s;let u=document.createElement("div");u.className=Q.DIET_ICONS;let f=document.createElement("div");f.className=Q.DIET_DELETE_REVEAL,f.innerHTML='<img src="assets/icons/delete.svg" alt="Eliminar" class="icon">';let E=document.createElement("button");E.className=`${Q.LIST_ITEM_BTN} ${Q.LIST_ITEM_BTN_LOAD} ${Q.DIET_LOAD_BTN}`,E.setAttribute("aria-label",`Editar dieta ${a}`),E.innerHTML='<img src="assets/icons/ic_edit.svg" alt="" class="icon"><span class="btn-text visually-hidden">Editar</span>',E.setAttribute(Yt.DIET_ID,t),E.setAttribute(Yt.DIET_DATE,e.date),E.setAttribute(Yt.DIET_TYPE,e.dietType);let c=document.createElement("button");return c.className=`${Q.LIST_ITEM_BTN} diet-download`,c.setAttribute("aria-label",`Descarregar PDF de la dieta ${a}`),c.innerHTML='<img src="assets/icons/download_blue.svg" alt="" class="icon"><span class="btn-text visually-hidden">PDF</span>',c.setAttribute(Yt.DIET_ID,t),u.appendChild(E),u.appendChild(c),o.appendChild(r),o.appendChild(u),i.appendChild(o),i.appendChild(f),i}function o0(e){let t=e.target,a=t.closest(`.${Q.DIET_LOAD_BTN}`),n=t.closest(".diet-download");if(a){e.stopPropagation();let l=a.getAttribute(Yt.DIET_ID),i=a.getAttribute(Yt.DIET_DATE),o=a.getAttribute(Yt.DIET_TYPE);if(!l||!i||!o)return;let{ddmmaa:r,franjaText:s}=Ku(i,o);tg(l).then(()=>{Tr.debug(`Dieta ${r} carregada (${s}).`),Aa(Tt)}).catch(u=>{Tr.error("Error en carregar la dieta:",u)})}else if(n){e.stopPropagation();let l=n.getAttribute(Yt.DIET_ID);l&&Cg(l)}}function Ar(){if(!ne||!vt)return;let e=ne.children.length>0;ne.classList.toggle(Q.HIDDEN,!e),vt.classList.toggle(Q.HIDDEN,e),e||(vt.textContent="No hay dietas guardadas.")}function r0(e,t,a,n){let l=0,i=0,o=!1;e.addEventListener("mousedown",r=>{r.target.closest("button")||r.target.closest(".diet-icons")||(l=r.clientX,i=l,o=!1)}),document.addEventListener("mousemove",r=>{i=r.clientX;let s=l-i;s>10&&!o&&(o=!0,e.classList.add(Q.DIET_ITEM_SWIPING)),o&&s>10&&(e.style.transform=`translateX(-${Math.min(s,80)}px)`,r.preventDefault())}),document.addEventListener("mouseup",async()=>{if(!o)return;o=!1;let r=l-i;e.classList.remove(Q.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",r>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),Ar(),await Hu(t,a,n)},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function Ig(e,t,a,n){let l=0,i=0,o=!1;e.addEventListener("touchstart",r=>{r.target.closest("button")||r.target.closest(".diet-icons")||(l=r.touches[0].clientX,i=l,o=!1,r.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",r=>{i=r.touches[0].clientX;let s=l-i;s>10&&!o&&(o=!0,e.classList.add(Q.DIET_ITEM_SWIPING),Tt&&(Tt.style.overflow="hidden")),o&&s>10&&(e.style.transform=`translateX(-${Math.min(s,80)}px)`,r.preventDefault(),r.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async r=>{if(!o)return;o=!1;let s=l-i;e.classList.remove(Q.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",s>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),Ar(),await Hu(t,a,n)},300)):(e.style.transform="translateX(0)",e.style.opacity="1",Tt&&(Tt.style.overflow="")),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),r.stopPropagation()}),r0(e,t,a,n)}function Bg(){wi()}function Cr(){wi()&&(vr(Tt),Ii())}function qu(){tc()===Tt&&Aa(Tt)}async function Ii(){if(wi()){ne.innerHTML="";try{let e=await ya();if(e.length===0){ne.classList.add(Q.HIDDEN),vt.classList.remove(Q.HIDDEN),vt.textContent="No hay dietas guardadas.";return}ne.classList.remove(Q.HIDDEN),vt.classList.add(Q.HIDDEN),e.slice().sort((t,a)=>new Date(a.timeStampDiet)-new Date(t.timeStampDiet)).forEach((t,a)=>{let n=Rg(t);n.setAttribute("data-index",String(a)),ne.appendChild(n),Ig(n,t.id,t.date,t.dietType)})}catch(e){Tr.error("Error al carregar les dietes:",e),ne.classList.add(Q.HIDDEN),vt.classList.remove(Q.HIDDEN),vt.textContent="Error al cargar las dietas."}}}function ju(e){if(!wi())return;let t=ne.querySelector(`[data-diet-id="${e}"]`)?.closest(".diet-item");if(!t)return;let a=`${ne.scrollHeight}px`;ne.style.height=a,t.remove(),requestAnimationFrame(()=>{ne.style.height=`${ne.scrollHeight}px`}),Ar()}function Yu(e){if(!wi()){Ii();return}let t=e.index||0,a=Rg(e);a.style.opacity="0",a.style.transform="translateX(-100%)";let n=ne.children[t];n?ne.insertBefore(a,n):ne.appendChild(a),requestAnimationFrame(()=>{a.style.transition="opacity 0.5s ease, transform 0.5s ease",a.style.opacity="1",a.style.transform="translateX(0)",Ig(a,e.id,e.date,e.dietType)}),Ar(),ne.classList.remove(Q.HIDDEN),vt.classList.add(Q.HIDDEN)}var wg="dotacions_v2",fe={MODAL:"dotacio-modal",OPTIONS_CONTAINER:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2"},At={MODAL_OPEN:"modal-open",INPUT_ERROR:"input-error",HIDDEN:"hidden"},ll={PERSON_INPUT_GROUP:".input-with-icon",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete"},xg={INDEX:"data-index"},s0=180,ac=class{constructor(){this.savedDotacions=[],this.dotacioModalElement=null,this.optionsContainerElement=null,this.dotacioTemplateElement=null,this.noDotacioTextElement=null,this.isInitialized=!1}init(){if(this.isInitialized)return;this.dotacioModalElement=document.getElementById(fe.MODAL),this.optionsContainerElement=document.getElementById(fe.OPTIONS_CONTAINER),this.dotacioTemplateElement=document.getElementById(fe.TEMPLATE),this.noDotacioTextElement=document.getElementById(fe.NO_DOTACIO_TEXT);let t=document.getElementById(fe.ADD_BTN),a=document.getElementById(fe.OPEN_MODAL_BTN),n=document.getElementById(fe.CLOSE_MODAL_BTN);if(!this.dotacioModalElement||!this.optionsContainerElement||!this.dotacioTemplateElement||!t||!a||!n)return;this.loadDotacionsFromStorage(),t.addEventListener("click",this.addDotacioFromMainForm.bind(this)),a.addEventListener("click",this.openDotacioModal.bind(this)),n.addEventListener("click",this.closeDotacioModal.bind(this)),this.dotacioModalElement.addEventListener("click",i=>{i.target===this.dotacioModalElement&&this.closeDotacioModal()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&this.dotacioModalElement.style.display==="block"&&this.closeDotacioModal()}),this.optionsContainerElement.addEventListener("click",this.handleOptionsClick.bind(this)),[fe.VEHICLE_INPUT,fe.PERSON1_INPUT,fe.PERSON2_INPUT].forEach(i=>{let o=document.getElementById(i);o?.addEventListener("input",()=>{let r=o.closest(ll.PERSON_INPUT_GROUP);r?r.classList.remove(At.INPUT_ERROR):o.classList.remove(At.INPUT_ERROR)})}),this.isInitialized=!0}loadDotacionsFromStorage(){try{let t=localStorage.getItem(wg);this.savedDotacions=t?JSON.parse(t):[],Array.isArray(this.savedDotacions)||(this.savedDotacions=[])}catch{this.savedDotacions=[]}}saveDotacionsToStorage(){try{localStorage.setItem(wg,JSON.stringify(this.savedDotacions))}catch{D("No se han podido guardar las dotaciones.","error")}}openDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="block",this.dotacioModalElement.style.pointerEvents="auto",document.body.classList.add(At.MODAL_OPEN),document.body.style.setProperty("pointer-events","none"),this.displayDotacioOptions())}closeDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="none",this.dotacioModalElement.style.pointerEvents="",document.body.classList.remove(At.MODAL_OPEN),document.body.style.removeProperty("pointer-events"),document.getElementById(fe.OPEN_MODAL_BTN)?.focus())}displayDotacioOptions(){!this.optionsContainerElement||!this.dotacioTemplateElement||(this.optionsContainerElement.innerHTML="",this.savedDotacions.length===0?(this.noDotacioTextElement?.classList.remove(At.HIDDEN),this.optionsContainerElement.classList.add(At.HIDDEN)):(this.noDotacioTextElement?.classList.add(At.HIDDEN),this.optionsContainerElement.classList.remove(At.HIDDEN),this.savedDotacions.forEach((t,a)=>{let n=this.dotacioTemplateElement.content.cloneNode(!0),l=n.querySelector(ll.DOTACIO_INFO),i=n.querySelector(ll.LOAD_BTN),o=n.firstElementChild,r=`${t.numero}-${t.conductor}-${t.ajudant}`.replace(/\s/g,"");o.setAttribute("data-dotacio-id",r),l&&(l.textContent=this.formatDotacioListText(t)),i&&i.setAttribute(xg.INDEX,a),this.optionsContainerElement.appendChild(n),_r(o,r),br(o,r)})))}formatDotacioListText(t){let a=t.numero||"S/N",n=Jn(t.conductor||""),l=Jn(t.ajudant||""),i=`${n} / ${l}`;n||l?i=` - ${i}`:i="";let o=`${a}${i}`;if(this.measureTextWidth(o)>s0){let s=t.conductor?this.shortenPersonName(t.conductor):"",u=t.ajudant?this.shortenPersonName(t.ajudant):"",f=`${s} / ${u}`;s||u?f=` - ${f}`:f="",o=`${a}${f}`}return o}shortenPersonName(t){if(!t||typeof t!="string")return"";let a=t.trim().split(/\s+/).filter(r=>r.length>0);if(a.length===0)return"";if(a.length===1)return Jn(a[0]);let n=new Set(["de","la","del","el","los","las","von","van","d'","es","da","dels","i","y"]),l=a.filter(r=>!n.has(r.toLowerCase()));if(l.length===0)return Jn(a[0]);let i=Jn(l[0]),o=l.slice(1).map(r=>r.charAt(0).toUpperCase()+".").join(" ");return`${i} ${o}`}measureTextWidth(t){let a=document.createElement("span");a.style.visibility="hidden",a.style.whiteSpace="nowrap",a.style.fontSize=getComputedStyle(document.body).fontSize,a.style.fontFamily=getComputedStyle(document.body).fontFamily,a.textContent=t,document.body.appendChild(a);let n=a.offsetWidth;return document.body.removeChild(a),n}loadDotacionByIndex(t){if(t<0||t>=this.savedDotacions.length)return;let a=this.savedDotacions[t];this.clearDotacionInputErrors(),document.getElementById(fe.VEHICLE_INPUT).value=a.numero||"",document.getElementById(fe.PERSON1_INPUT).value=a.conductor||"",document.getElementById(fe.PERSON2_INPUT).value=a.ajudant||"",dr(a.firmaConductor||""),fr(a.firmaAjudant||""),D(`Dotaci\xF3n ${a.numero} cargada.`,"success"),this.closeDotacioModal()}async handleDeleteById(t){let a=this.savedDotacions.findIndex(i=>`${i.numero}-${i.conductor}-${i.ajudant}`.replace(/\s/g,"")===t);if(a===-1){console.warn("Se intent\xF3 eliminar una dotaci\xF3n que ya no existe:",t);return}let l={...this.savedDotacions[a],originalIndex:a};this.savedDotacions.splice(a,1),this.saveDotacionsToStorage(),ol(),D("Dotaci\xF3n eliminada.","success",5e3,{queueable:!1,undoCallback:()=>{this.savedDotacions.splice(l.originalIndex,0,l),this.saveDotacionsToStorage(),nc(l),D("Dotaci\xF3n restaurada.","success")}})}handleOptionsClick(t){let n=t.target.closest(ll.LOAD_BTN);if(n){t.stopPropagation();let l=parseInt(n.getAttribute(xg.INDEX),10);isNaN(l)||this.loadDotacionByIndex(l)}}getDotacionInputValues(){let t=document.getElementById(fe.VEHICLE_INPUT),a=document.getElementById(fe.PERSON1_INPUT),n=document.getElementById(fe.PERSON2_INPUT);return{vehiculo:t?.value.trim()||"",conductor:a?.value.trim()||"",ayudante:n?.value.trim()||""}}findExistingDotacionIndex(t,a,n){let l=t.toLowerCase(),i=a.toLowerCase(),o=n.toLowerCase();return this.savedDotacions.findIndex(r=>r.numero.toLowerCase()===l&&r.conductor.toLowerCase()===i&&r.ajudant.toLowerCase()===o)}addDotacioFromMainForm(){if(!Nm())return;let{vehiculo:t,conductor:a,ayudante:n}=this.getDotacionInputValues(),l=Dr(),i=Or(),o=this.findExistingDotacionIndex(t,a,n),r={numero:t,conductor:a,ajudant:n,firmaConductor:l,firmaAjudant:i};o!==-1?(this.savedDotacions[o]=r,D(`Dotaci\xF3n ${t} actualizada.`,"success")):(this.savedDotacions.push(r),D(`Dotaci\xF3n ${t} creada.`,"success")),this.saveDotacionsToStorage()}clearDotacionInputErrors(){let t=document.getElementById(fe.VEHICLE_INPUT),a=document.getElementById(fe.PERSON1_INPUT),n=document.getElementById(fe.PERSON2_INPUT),l=a?.closest(ll.PERSON_INPUT_GROUP),i=n?.closest(ll.PERSON_INPUT_GROUP);t?.classList.remove(At.INPUT_ERROR),l?.classList.remove(At.INPUT_ERROR),i?.classList.remove(At.INPUT_ERROR)}},il=new ac;var u0=x.withScope("Modals:Dotacio");function c0(e,t){let a=document.getElementById("dotacio-template");if(!a)return u0.warn("No s'ha trobat el template per a dotacions."),null;let n=a.content.cloneNode(!0),l=n.firstElementChild,i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");l.setAttribute("data-dotacio-id",i);let o=n.querySelector(".dotacio-info"),r=n.querySelector(".dotacio-load");if(o){let s=[e.conductor,e.ajudant].filter(Boolean).join(" / ");o.textContent=s?`${e.numero} - ${s}`:e.numero}return r&&r.setAttribute("data-index",String(t)),l}function ol(){let e=document.getElementById("dotacio-options"),t=document.getElementById("no-dotacio-text");if(!e||!t)return;let a=e.children.length>0;e.classList.toggle("hidden",!a),t.classList.toggle("hidden",a),a||(t.innerHTML='No hay dotaciones, guarde abans: <img src="assets/icons/save_green.svg" alt="Guardar" class="save-icon" />')}function br(e,t){let a=0,n=0,l=!1;e.addEventListener("mousedown",i=>{i.target.closest("button")||i.target.closest(".button-container")||(a=i.clientX,n=a,l=!1)}),document.addEventListener("mousemove",i=>{n=i.clientX;let o=a-n;o>10&&!l&&(l=!0,e.classList.add("swiping")),l&&o>10&&(e.style.transform=`translateX(-${Math.min(o,80)}px)`,i.preventDefault())}),document.addEventListener("mouseup",async()=>{if(!l)return;l=!1;let i=a-n;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",i>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await il.handleDeleteById(t),e.remove(),ol()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function _r(e,t){let a=0,n=0,l=!1;e.addEventListener("touchstart",i=>{i.target.closest("button")||(a=i.touches[0].clientX,n=a,l=!1,i.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",i=>{n=i.touches[0].clientX;let o=a-n;o>10&&!l&&(l=!0,e.classList.add("swiping")),l&&o>10&&(e.style.transform=`translateX(-${Math.min(o,80)}px)`,i.preventDefault(),i.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async i=>{if(!l)return;l=!1;let o=a-n;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",o>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await il.handleDeleteById(t),e.remove(),ol()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),i.stopPropagation()})}function nc(e){let t=document.getElementById("dotacio-options");if(!t){il.displayDotacioOptions();return}let a=e.originalIndex,n=c0(e,a);if(!n)return;n.style.opacity="0",n.style.transform="translateX(-100%)";let l=t.children[a];l?t.insertBefore(n,l):t.appendChild(n),requestAnimationFrame(()=>{n.style.transition="opacity 0.5s ease, transform 0.5s ease",n.style.opacity="1",n.style.transform="translateX(0)";let i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");_r(n,i),br(n,i)}),ol()}var tO=x.withScope("Modals:Confirm"),xi=null,Ug=null,zg=null,Pg=null,Vg=null;function d0(){if(!xi){if(xi=document.getElementById(yt.CONFIRM_MODAL),!xi)return!1;Ug=document.getElementById(yt.CONFIRM_MESSAGE),zg=xi.querySelector(yt.CONFIRM_TITLE),Pg=document.getElementById(yt.CONFIRM_YES_BTN),Vg=document.getElementById(yt.CONFIRM_NO_BTN)}return!!xi&&!!Ug&&!!zg&&!!Pg&&!!Vg}function Hg(){d0()}function Gg(){Hg(),Bg(),Og()}var we={DADES:"dades",SERVEIS:"serveis"},Xt={TAB_DADES:`tab-${we.DADES}`,TAB_SERVEIS:`tab-${we.SERVEIS}`,CONTENT_DADES:`${we.DADES}-tab-content`,CONTENT_SERVEIS:`${we.SERVEIS}-tab-content`,MAIN_CONTENT_AREA:"main-content"},rl={ACTIVE_TAB:"active",ERROR_TAB:"error-tab"},qg={MIN_DISTANCE:60,MAX_VERTICAL_RATIO:.5},sl=we.DADES,Nr=0,lc=0,ic=!0,Ca=null,gn=null;function jg(){let e=document.getElementById(Xt.TAB_DADES),t=document.getElementById(Xt.TAB_SERVEIS);!e||!t||(e.addEventListener("click",()=>Ui(we.DADES)),t.addEventListener("click",()=>Ui(we.SERVEIS)),f0(),Ui(sl))}function nl(e){ic=!!e}function Ui(e){if(sl===e&&document.scrollingElement.scrollTop!==0){window.scrollTo({top:0,behavior:"smooth"});return}if(sl===e||e!==we.DADES&&e!==we.SERVEIS)return;window.scrollTo({top:0,behavior:"auto"}),sl=e;let t=document.getElementById(Xt.TAB_DADES),a=document.getElementById(Xt.TAB_SERVEIS),n=document.getElementById(Xt.CONTENT_DADES),l=document.getElementById(Xt.CONTENT_SERVEIS);if(!t||!a||!n||!l)return;t.classList.remove(rl.ERROR_TAB),a.classList.remove(rl.ERROR_TAB);let i=e===we.DADES;t.classList.toggle(rl.ACTIVE_TAB,i),a.classList.toggle(rl.ACTIVE_TAB,!i),n.classList.toggle(rl.ACTIVE_TAB,i),l.classList.toggle(rl.ACTIVE_TAB,!i),t.setAttribute("aria-selected",i?"true":"false"),a.setAttribute("aria-selected",i?"false":"true"),e===we.SERVEIS&&typeof Cu=="function"&&Cu()}function f0(){let e=document.getElementById(Xt.MAIN_CONTENT_AREA);e&&(Ca=Yg,gn=Xg,e.addEventListener("touchstart",Ca,{passive:!0}),e.addEventListener("touchend",gn,{passive:!0}))}function Ng(){let e=document.getElementById(Xt.MAIN_CONTENT_AREA);!e||!Ca||!gn||(e.removeEventListener("touchstart",Ca,{passive:!0}),e.removeEventListener("touchend",gn,{passive:!0}),Ca=null,gn=null)}function Lg(){let e=document.getElementById(Xt.MAIN_CONTENT_AREA);e&&(Ca||(Ca=Yg,gn=Xg,e.addEventListener("touchstart",Ca,{passive:!0}),e.addEventListener("touchend",gn,{passive:!0})))}function Yg(e){if(!ic||ec())return;let t=e.touches[0];Nr=t.clientX,lc=t.clientY}function Xg(e){if(!ic||Nr===0||!e.changedTouches||e.changedTouches.length===0)return;let t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY,n=t-Nr,l=a-lc;Nr=0,lc=0,!(Math.abs(l)>Math.abs(n)*qg.MAX_VERTICAL_RATIO)&&Math.abs(n)>qg.MIN_DISTANCE&&(n>0?sl===we.SERVEIS&&Ui(we.DADES):sl===we.DADES&&Ui(we.SERVEIS))}var ba={MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title"},oc={MODAL_OPEN:"modal-open",SIGNED:"signed"},_a={LINE_WIDTH:2,LINE_CAP:"round",STROKE_STYLE:"#000000",IMAGE_FORMAT:"image/png",DOUBLE_CLICK_TIMEOUT:300,DOUBLE_TAP_TIMEOUT:300,DOUBLE_TAP_MAX_DIST:20},Kg={SIGNATURE_PENDING:"assets/icons/signature.svg",SIGNATURE_OK:"assets/icons/signature_ok.svg"},Qg={PERSON1:"Firma del conductor",PERSON2:"Firma del ayudante"},rc=class{constructor(){this.signatureConductor="",this.signatureAjudant="",this.currentSignatureTarget=null,this.isDrawing=!1,this.canvasContext=null,this.signatureCanvasElement=null,this.signatureModalElement=null,this.signPerson1Button=null,this.signPerson2Button=null,this.hasUserDrawn=!1,this.lastTouchTime=0,this.lastTouchX=0,this.lastTouchY=0,this.clickCount=0,this.clickTimer=null}init(){this.signatureModalElement=document.getElementById(ba.MODAL),this.signatureCanvasElement=document.getElementById(ba.CANVAS);let t=document.getElementById(ba.CANCEL_BTN),a=document.getElementById(ba.ACCEPT_BTN);this.signPerson1Button=document.getElementById(ba.SIGN_PERSON1_BTN),this.signPerson2Button=document.getElementById(ba.SIGN_PERSON2_BTN),!(!this.signatureModalElement||!this.signatureCanvasElement||!t||!a||!this.signPerson1Button||!this.signPerson2Button)&&(this.resizeCanvas(),this.initCanvasEvents(),t.addEventListener("click",this.closeSignatureModal.bind(this)),a.addEventListener("click",this.acceptSignature.bind(this)),this.signPerson1Button.addEventListener("click",()=>this.openSignatureModal("person1")),this.signPerson2Button.addEventListener("click",()=>this.openSignatureModal("person2")),this.signatureModalElement.addEventListener("click",n=>{n.target===this.signatureModalElement&&this.closeSignatureModal()}),window.addEventListener("resize",this.debounce(this.resizeCanvas.bind(this),150)),document.addEventListener("keydown",n=>{n.key==="Escape"&&this.signatureModalElement.style.display==="block"&&this.closeSignatureModal()}),this.updateSignatureIcons())}debounce(t,a){let n;return(...l)=>{clearTimeout(n),n=setTimeout(()=>t.apply(this,l),a)}}resizeCanvas(){if(!this.signatureCanvasElement||!this.signatureCanvasElement.parentElement)return;let t=this.signatureCanvasElement.parentElement;this.canvasContext||(this.canvasContext=this.signatureCanvasElement.getContext("2d",{willReadFrequently:!0})),this.canvasContext&&(this.signatureCanvasElement.width=t.offsetWidth,this.signatureCanvasElement.height=t.offsetHeight,this.canvasContext.lineWidth=_a.LINE_WIDTH,this.canvasContext.lineCap=_a.LINE_CAP,this.canvasContext.strokeStyle=_a.STROKE_STYLE)}clearCanvas(){!this.canvasContext||!this.signatureCanvasElement||(this.canvasContext.clearRect(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),this.hasUserDrawn=!1)}getEventCoordinates(t){if(!this.signatureCanvasElement)return{x:0,y:0};let a=this.signatureCanvasElement.getBoundingClientRect(),n,l;return t.touches&&t.touches.length>0?(n=t.touches[0].clientX,l=t.touches[0].clientY):(n=t.clientX,l=t.clientY),{x:n-a.left,y:l-a.top}}startDrawing(t){if(!this.canvasContext)return;this.isDrawing=!0,this.hasUserDrawn=!0,this.canvasContext.beginPath();let{x:a,y:n}=this.getEventCoordinates(t);this.canvasContext.moveTo(a,n)}draw(t){if(!this.isDrawing||!this.canvasContext)return;t.preventDefault();let{x:a,y:n}=this.getEventCoordinates(t);this.canvasContext.lineTo(a,n),this.canvasContext.stroke()}stopDrawing(){!this.isDrawing||!this.canvasContext||(this.isDrawing=!1)}handleCanvasClick(t){this.clickCount++,this.clickCount===1?this.clickTimer=setTimeout(()=>this.clickCount=0,_a.DOUBLE_CLICK_TIMEOUT):this.clickCount===2&&(clearTimeout(this.clickTimer),this.clickCount=0,t.preventDefault(),this.clearCanvas())}handleCanvasTouchEnd(t){if(t.touches.length>0)return;let a=Date.now(),n=t.changedTouches[0];if(!n)return;let{x:l,y:i}=this.getEventCoordinates({clientX:n.clientX,clientY:n.clientY}),o=a-this.lastTouchTime,r=Math.abs(l-this.lastTouchX),s=Math.abs(i-this.lastTouchY);o<_a.DOUBLE_TAP_TIMEOUT&&r<_a.DOUBLE_TAP_MAX_DIST&&s<_a.DOUBLE_TAP_MAX_DIST?(t.preventDefault(),this.clearCanvas(),this.lastTouchTime=0):(this.lastTouchTime=a,this.lastTouchX=l,this.lastTouchY=i)}initCanvasEvents(){this.signatureCanvasElement&&(this.signatureCanvasElement.addEventListener("mousedown",this.startDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mousemove",this.draw.bind(this)),this.signatureCanvasElement.addEventListener("mouseup",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mouseout",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("click",this.handleCanvasClick.bind(this)),this.signatureCanvasElement.addEventListener("touchstart",this.startDrawing.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchmove",this.draw.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchend",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchcancel",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchend",this.handleCanvasTouchEnd.bind(this),{passive:!1}))}openSignatureModal(t){if(!this.signatureModalElement||!this.canvasContext)return;nl(!1),this.currentSignatureTarget=t;let a=document.getElementById(ba.TITLE);a&&(a.textContent=t==="person1"?Qg.PERSON1:Qg.PERSON2),this.signatureModalElement.style.display="block",document.body.classList.add(oc.MODAL_OPEN),this.resizeCanvas(),this.clearCanvas();let n=t==="person1"?this.signatureConductor:this.signatureAjudant;n&&this.drawSignatureFromDataUrl(n),document.getElementById(ba.ACCEPT_BTN)?.focus()}closeSignatureModal(){this.signatureModalElement&&(nl(!0),this.signatureModalElement.style.display="none",document.body.classList.remove(oc.MODAL_OPEN),this.currentSignatureTarget=null,(this.currentSignatureTarget==="person1"?this.signPerson1Button:this.signPerson2Button)?.focus())}isCanvasEmpty(){if(!this.canvasContext||!this.signatureCanvasElement)return!0;try{return!new Uint32Array(this.canvasContext.getImageData(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height).data.buffer).some(a=>a!==0)}catch{return!1}}acceptSignature(){if(!this.canvasContext||!this.signatureCanvasElement||!this.currentSignatureTarget)return;let t=this.isCanvasEmpty(),a=t?"":this.signatureCanvasElement.toDataURL(_a.IMAGE_FORMAT),n=null;this.currentSignatureTarget==="person1"?(this.signatureConductor=a,n=this.signPerson1Button):this.currentSignatureTarget==="person2"&&(this.signatureAjudant=a,n=this.signPerson2Button),this.updateSignatureUI(n,!t),this.closeSignatureModal(),Gt()}drawSignatureFromDataUrl(t){if(!this.canvasContext||!t)return;let a=new Image;a.onload=()=>this.canvasContext.drawImage(a,0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),a.onerror=()=>{},a.src=t}updateSignatureUI(t,a){if(!t)return;let n=t.querySelector(".icon");n&&(t.classList.toggle(oc.SIGNED,a),n.src=a?Kg.SIGNATURE_OK:Kg.SIGNATURE_PENDING)}updateSignatureIcons(){this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor),this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}getSignatureConductor(){return this.signatureConductor}getSignatureAjudant(){return this.signatureAjudant}setSignatureConductor(t){this.signatureConductor=t||"",this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor)}setSignatureAjudant(t){this.signatureAjudant=t||"",this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}},zi=new rc,Fg=()=>zi.init(),Dr=()=>zi.getSignatureConductor(),Or=()=>zi.getSignatureAjudant(),dr=e=>zi.setSignatureConductor(e),fr=e=>zi.setSignatureAjudant(e);var Pi=x.withScope("FormService"),m0=".service",Zg="main-content",Ct={DATE:"date",DIET_TYPE:"diet-type",VEHICLE:"vehicle-number",P1:"person1",P2:"person2",SERVICE_TYPE:"service-type",SAVE_BTN:"save-diet"},g0="userSelectedServiceType",E0={serviceNumber:".service-number",origin:".origin",originTime:".origin-time",destination:".destination",destinationTime:".destination-time",endTime:".end-time"},p0="chip-active",S0=800,h0=1e3,y0=300,sc=class{constructor(){this.initialFormDataStr="",this.saveStart=0,this.debouncedAutoSave=Bi(this.triggerAutoSave.bind(this),h0),this.debouncedHandler=Bi(this.handleInputChange.bind(this),S0)}isFormReadyForSave(){try{let t=!!document.getElementById(Ct.DATE)?.value.trim(),a=!!document.getElementById(Ct.DIET_TYPE)?.value.trim(),n=document.getElementById("service-number-1")?.value.trim(),l=/^\d{9}$/.test(n);return t&&a&&l}catch(t){return console.warn("[FormService] Error validant formulari:",t),!1}}hasPendingChanges(){return JSON.stringify(this.getFormDataObject()||{})!==this.initialFormDataStr}getFormDataObject(){try{let t=de(document.getElementById(Ct.DATE)?.value),a=de(document.getElementById(Ct.VEHICLE)?.value),n=de(document.getElementById(Ct.P1)?.value),l=de(document.getElementById(Ct.P2)?.value),i=hi(a,"vehicleNumber"),o=hi(n,"personName"),r=hi(l,"personName");a&&!i.valid&&Pi.warn("N\xFAmero de vehicle inv\xE0lid:",i.reason),n&&!o.valid&&Pi.warn("Nom conductor inv\xE0lid:",o.reason),l&&!r.valid&&Pi.warn("Nom ajudant inv\xE0lid:",r.reason);let s={date:t,dietType:de(document.getElementById(Ct.DIET_TYPE)?.value||Xu()),vehicleNumber:i.valid?i.sanitized:"",person1:o.valid?o.sanitized:"",person2:r.valid?r.sanitized:"",serviceType:de(document.getElementById(Ct.SERVICE_TYPE)?.value||"TSU"),signatureConductor:Dr(),signatureAjudant:Or()},u=Array.from(document.querySelectorAll(m0)).map((f,E)=>{let c={};for(let[y,T]of Object.entries(E0)){if(!T){c[y]="";continue}let b=de(f.querySelector(T)?.value);if(y==="serviceNumber"&&b)vu(b)?c[y]=b:(Pi.warn(`N\xFAmero de servei ${E+1} inv\xE0lid:`,b),c[y]="");else if((y==="originTime"||y==="destinationTime"||y==="endTime")&&b)yu(b)?c[y]=b:(Pi.warn(`Hora inv\xE0lida en servei ${E+1}, camp ${y}:`,b),c[y]="");else{let m=hi(b,"text");c[y]=m.valid?m.sanitized:""}}let g=f.querySelector(`.chip.${p0}`);return c.mode=g?.dataset.mode||"3.6",c.notes=Ht[E]||"",c});return{generalData:s,servicesData:u}}catch(t){return console.error("[FormService] Error recollint dades:",t),null}}async triggerAutoSave(){if(!(!this.isFormReadyForSave()||!this.hasPendingChanges()))try{this.saveStart=Date.now(),ur(),await Vu();let t=Date.now()-this.saveStart;setTimeout(cr,Math.max(0,y0-t)),this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{})}catch(t){console.warn("[Autosave skipped]",t?.message||"Error desconegut"),Li("Revisa dades de Serveis")}}captureInitialFormState(){this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{}),this.handleFormChange()}setSaveButtonState(t){let a=document.getElementById(Ct.SAVE_BTN);a&&(a.disabled=!t,a.setAttribute("aria-disabled",t?"false":"true"),a.classList.toggle("is-disabled",!t))}handleFormChange(){if(this.debouncedAutoSave.cancel(),!this.hasPendingChanges()){this.setSaveButtonState(!1),Mi();return}this.isFormReadyForSave()?(this.setSaveButtonState(!0),this.debouncedAutoSave()):(this.setSaveButtonState(!1),Mi())}handleInputChange(){this.handleFormChange()}addInputListeners(){let t=document.getElementById(Zg);if(!t)return;t.addEventListener("input",this.debouncedHandler),t.addEventListener("change",this.debouncedHandler),t.addEventListener("blur",n=>{n.target.matches("input, select, textarea")&&(this.handleFormChange(),this.isFormReadyForSave()&&this.hasPendingChanges()&&(this.debouncedAutoSave.cancel(),this.triggerAutoSave()))},!0);let a=document.getElementById(Ct.DATE);a?.addEventListener("change",()=>{a.blur(),this.debouncedHandler()}),window.addEventListener("beforeunload",()=>{this.debouncedAutoSave.cancel(),this.isFormReadyForSave()&&Vu()})}addServiceTypeListener(){let t=document.getElementById(Ct.SERVICE_TYPE);t&&t.addEventListener("change",a=>{let n=a.target.value.trim();Yn(n);try{localStorage.setItem(g0,n)}catch(l){console.error("No s\u2019ha pogut desar tipus servei",l)}})}cancelPendingAutoSave(){this.debouncedAutoSave.cancel()}addDoneBehavior(){document.getElementById(Zg)?.addEventListener("keydown",a=>{a.key==="Enter"&&a.target.matches('input[enterkeyhint="done"]')&&(a.preventDefault(),a.target.blur())})}gatherAllData(){return this.getFormDataObject()}getInitialFormDataStr(){return this.initialFormDataStr}},Da=new sc,Fn=()=>Da.captureInitialFormState(),zu=e=>Da.setSaveButtonState(e),Gt=()=>Da.handleFormChange(),Jg=()=>Da.addInputListeners(),kg=()=>Da.addServiceTypeListener(),ag=()=>Da.cancelPendingAutoSave(),$g=()=>Da.addDoneBehavior(),mr=()=>Da.gatherAllData();var Wg="onboardingCompleted";function eE(){let e=document.getElementById("onboarding-container");if(!e)return;if(!JSON.parse(localStorage.getItem(Wg)||"false"))e.classList.remove("hidden");else return;window.addEventListener("load",()=>{e.classList.add("onboarding-loaded")});let a=document.querySelectorAll(".onboarding-slide"),n=document.querySelectorAll(".nav-dot"),l=document.getElementById("onboarding-finish-btn"),i=document.getElementById("onboarding-skip-btn"),o=0;function r(E){a.forEach((c,g)=>{c.classList.toggle("active",g===E)}),n.forEach((c,g)=>{c.classList.toggle("active",g===E)})}function s(){o<a.length-1&&(o++,r(o),navigator.vibrate&&navigator.vibrate(10))}function u(){e.classList.add("hidden"),localStorage.setItem(Wg,JSON.stringify(!0)),navigator.vibrate&&navigator.vibrate([50,50,50])}e.addEventListener("click",E=>{E.target.closest("button, a, .nav-dot")||s()});let f=0;e.addEventListener("touchstart",E=>{f=E.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",E=>{E.changedTouches[0].screenX<f-50&&s()}),l.addEventListener("click",u),i.addEventListener("click",u)}var uc={TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text"},tE={DARK_THEME:"theme-dark"},cc="themePreference",rt={LIGHT:"light",DARK:"dark"},aE={LIGHT:"assets/icons/moon.svg",DARK:"assets/icons/sun.svg"},nE={LIGHT:"#004aad",DARK:"#343a40"},dc=class{constructor(){this.themeToggleButton=null,this.themeIconElement=null,this.themeTextElement=null,this.bodyElement=null,this.systemDarkMatcher=null}init(){if(this.themeToggleButton=document.getElementById(uc.TOGGLE_BTN),this.themeIconElement=document.getElementById(uc.THEME_ICON),this.themeTextElement=document.getElementById(uc.THEME_TEXT),this.bodyElement=document.body,!this.themeToggleButton||!this.themeIconElement||!this.themeTextElement||!this.bodyElement)return;let t,a=localStorage.getItem(cc);a&&(a===rt.LIGHT||a===rt.DARK)?t=a:(this.systemDarkMatcher=window.matchMedia("(prefers-color-scheme: dark)"),t=this.systemDarkMatcher.matches?rt.DARK:rt.LIGHT,this.systemDarkMatcher.addEventListener("change",this._handleSystemThemeChange.bind(this))),this._applyTheme(t,!1),this.themeToggleButton.addEventListener("click",this._handleThemeToggle.bind(this))}_updateThemeColorMeta(t){let a=document.querySelector('meta[name="theme-color"]');a&&(a.content=t)}_applyTheme(t,a=!1){let n=t===rt.DARK;this.bodyElement.classList.toggle(tE.DARK_THEME,n),this.themeIconElement.src=n?aE.DARK:aE.LIGHT,this.themeTextElement.textContent=n?"Claro":"Oscuro",this.themeIconElement.alt=n?"Cambiar a tema claro":"Cambiar a tema oscuro",this._updateThemeColorMeta(n?nE.DARK:nE.LIGHT),a&&localStorage.setItem(cc,t)}_handleThemeToggle(){let a=(this.bodyElement.classList.contains(tE.DARK_THEME)?rt.DARK:rt.LIGHT)===rt.DARK?rt.LIGHT:rt.DARK;this._applyTheme(a,!0)}_handleSystemThemeChange(t){if(!localStorage.getItem(cc)){let a=t.matches?rt.DARK:rt.LIGHT;this._applyTheme(a,!1)}}},T0=new dc,lE=()=>T0.init();var fc={GENERATE_PDF:".generate-pdf",SAVE_DIET:"#save-diet",MANAGE_DIETS:"#manage-diets"};function iE(){let e=document.querySelector(fc.GENERATE_PDF);e&&e.addEventListener("click",Ag);let t=document.getElementById(fc.SAVE_DIET.substring(1));t&&t.addEventListener("click",eg);let a=document.getElementById(fc.MANAGE_DIETS.substring(1));a&&typeof Cr=="function"&&a.addEventListener("click",Cr)}var A0="clear-selected-service",C0=".service";function oE(){let e=document.getElementById(A0);e&&e.addEventListener("click",()=>{let t=ln(),a=document.querySelectorAll(C0);if(t>=0&&t<a.length){let n=a[t],l=n.querySelectorAll('input:not([type="button"]):not([type="submit"]), select, textarea');l.forEach(i=>{i.value!==""&&i.classList.add("field-clearing")}),setTimeout(()=>{Um(n),Ci(n),Gt(),l.forEach(i=>{i.classList.remove("field-clearing")})},600)}})}function rE(){document.querySelectorAll('input[type="date"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}function sE(){document.querySelectorAll('input[type="time"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}var uE=Bi(D,Tm.DEBOUNCE_TOAST);function b0(e){return/^\d*$/.test(e)}function cE(){let e=document.querySelectorAll(zn.SERVICE_NUMBER_INPUT);if(!e.length){console.warn("Restrictions: No se han encontrado inputs '.service-number'.");return}e.forEach(t=>{t.dataset.restrictionsSetup!=="true"&&(t.dataset.restrictionsSetup="true",t.addEventListener("keypress",a=>{a.key==="Enter"||a.key==="Tab"||a.ctrlKey||a.metaKey||a.altKey||a.key.length>1||/\d/.test(a.key)||(a.preventDefault(),uE(Eu.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}),t.addEventListener("paste",a=>{try{let n=(a.clipboardData||window.clipboardData)?.getData("text")||"";b0(n)||(a.preventDefault(),uE(Eu.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}catch(n){console.error("Error procesando 'paste':",n),a.preventDefault()}}))})}var dE={SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel"},ul={PANEL_VISIBLE:"visible",BUTTON_OPEN:"open"},Kt=null,Qt=null,fE=!1;function _0(e){e.stopPropagation();let t=Qt.classList.toggle(ul.PANEL_VISIBLE);Kt.classList.toggle(ul.BUTTON_OPEN,t),Kt.setAttribute("aria-expanded",t),t&&Qt.querySelector("button")?.focus()}function D0(e){Qt.classList.contains(ul.PANEL_VISIBLE)&&!Qt.contains(e.target)&&!Kt.contains(e.target)&&mc()}function O0(e){e.key==="Escape"&&Qt.classList.contains(ul.PANEL_VISIBLE)&&(mc(),Kt.focus())}function mc(){Qt.classList.remove(ul.PANEL_VISIBLE),Kt.classList.remove(ul.BUTTON_OPEN),Kt.setAttribute("aria-expanded","false")}function mE(){fE||(Kt=document.getElementById(dE.SETTINGS_BTN),Qt=document.getElementById(dE.SETTINGS_PANEL),!(!Kt||!Qt)&&(Kt.addEventListener("click",_0),document.addEventListener("click",D0),document.addEventListener("keydown",O0),Qt.querySelectorAll("button").forEach(e=>{e.addEventListener("click",mc)}),fE=!0))}var N0={SERVICE_BUTTONS:".service-button:not(.active-square)",OPTIONS_BTN:"#options-toggle",TABS:".tab:not(.active)"},L0="disabled-control";function gc(e=!0){document.querySelectorAll(Object.values(N0).join(", ")).forEach(a=>{a&&(a.classList.toggle(L0,e),a.setAttribute("aria-disabled",e?"true":"false"),a.disabled=e)})}var nv=Ei(fl()),lv=Ei(tm());var ce=Ei(fl());function am({imageUrl:e=null,isProcessing:t=!1,progress:a=0,status:n="idle",statusText:l="Reconociendo texto",onClose:i=null}){let o=(0,ce.useRef)(null),[r,s]=(0,ce.useState)(0),[u,f]=(0,ce.useState)("");if((0,ce.useEffect)(()=>{let y=setTimeout(()=>{s(a)},50);return()=>clearTimeout(y)},[a]),(0,ce.useEffect)(()=>{if(n!=="processing"){f("");return}f(".");let y=setInterval(()=>{f(T=>T.length>=3?".":`${T}.`)},500);return()=>clearInterval(y)},[n]),n==="error"||n==="idle"||!(!!e&&t||!!e&&(n==="done"||n==="warning")))return null;let c=l?.replace(/\s+\d{1,3}%/,"").replace(/\.{2,}$/,"").trim()||"Reconociendo texto",g=n==="processing"?`${c}${u}`:l;return ce.default.createElement("div",{className:"ocr-feedback-overlay",role:"dialog","aria-live":"polite","aria-atomic":"false","aria-label":"OCR en progreso"},ce.default.createElement("div",{className:"ocr-feedback-container",ref:o},e&&ce.default.createElement("div",{className:"ocr-image-preview fade-in"},ce.default.createElement("img",{src:e,alt:"Imagen capturada para OCR",className:"ocr-captured-image",loading:"eager"})),(t||n==="done"||n==="error"||n==="warning")&&ce.default.createElement("div",{className:"ocr-progress-section fade-in"},ce.default.createElement("div",{className:"ocr-progress-bar-container"},ce.default.createElement("div",{className:"ocr-progress-bar-track"},ce.default.createElement("div",{className:"ocr-progress-bar-fill",style:{width:`${r}%`},role:"progressbar","aria-valuenow":r,"aria-valuemin":"0","aria-valuemax":"100"},ce.default.createElement("div",{className:"ocr-progress-shine"}))),ce.default.createElement("span",{className:"ocr-progress-percentage"},n==="error"?"":`${Math.round(r)}%`)),ce.default.createElement("div",{className:`ocr-status-line ${n}`},g?.split(`
`).map((y,T)=>ce.default.createElement("div",{key:T},y))||""))))}var li="Reconociendo texto",ni={done:"\u2713 Texto reconocido correctamente",warning:"Revisa la informaci\xF3n detectada",error:"Error al escanear. Imagen no v\xE1lida"},iu=(e,t=li)=>e&&e.replace(/\d{1,3}%/g,"").replace(/\.\.+$/g,"").split(`
`).map(i=>i.replace(/\s+/g," ").trim()).join(`
`)||t;function nm(e="ocr-feedback-root"){let t=document.getElementById(e);t||(t=document.createElement("div"),t.id=e,document.body.appendChild(t));let a=null,n=null,l={imageUrl:null,isProcessing:!1,progress:0,status:"idle",statusText:li},i=()=>{a||(a=lv.default.createRoot(t)),a.render(nv.default.createElement(am,{imageUrl:l.imageUrl,isProcessing:l.isProcessing,progress:l.progress,status:l.status,statusText:l.statusText,onClose:()=>r.reset()}))},o=()=>{n&&(clearTimeout(n),n=null)},r={start(s){o(),l.imageUrl&&l.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(l.imageUrl),s instanceof File||s instanceof Blob?l.imageUrl=URL.createObjectURL(s):typeof s=="string"?l.imageUrl=s:l.imageUrl=null,l.isProcessing=!0,l.progress=0,l.status="processing",l.statusText=li,i()},update(s,u=null,f="info"){o(),l.progress=Math.min(100,Math.max(0,s));let E=u!==null?iu(u):null;if(f==="error"){l.status="error",l.statusText=E||ni.error||li,l.isProcessing=!1,l.progress=Math.max(l.progress,100),i(),n=setTimeout(()=>{r.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3);return}if(f==="warning"){l.status="warning",l.statusText=E||l.statusText,l.isProcessing=!0,i();return}if(f==="success"){r.complete(E||ni.done,"done");return}l.status="processing",E?l.statusText=E:l.statusText||(l.statusText=li),l.isProcessing=!0,i()},addMessage(s,u="info"){if(u==="error"){r.error(s);return}if(u==="success"){r.complete(s||ni.done,"done");return}l.status=u==="warning"?"warning":"processing",l.statusText=iu(s),l.isProcessing=!0,i()},complete(s=null,u="done"){o(),l.progress=100;let f=["done","warning","error"].includes(u)?u:"done";l.status=f;let E=ni[f]||ni.done;l.statusText=iu(s,E),l.isProcessing=!1,i(),n=setTimeout(()=>{r.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"done"}}))},2500)},error(s="No se reconoci\xF3 texto"){o(),l.status="error",l.statusText=iu(s,ni.error),l.isProcessing=!1,l.progress=100,i(),n=setTimeout(()=>{r.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3)},reset(){o(),l.imageUrl&&l.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(l.imageUrl),l.imageUrl=null,l.isProcessing=!1,l.progress=0,l.status="idle",l.statusText=li,i()},getState(){return{...l}},isProcessing(){return l.isProcessing}};return r}var ii=null;function Go(){return ii||(ii=nm()),ii}function iv(){ii&&(ii.reset(),ii=null)}var ov=1500,lm=.95,im="image/png",Tb=x.withScope("CameraOCR:ImageProcessing");function rv(e,t,a){return new Promise((n,l)=>{e.toBlob(i=>{i?n(i):l(new Error("No s'ha pogut generar el blob de la imatge."))},t,a)})}async function sv(e,{maxDimension:t=ov,imageType:a=im,imageQuality:n=lm}={}){let l=await createImageBitmap(e),{width:i,height:o}=l;if(Math.max(i,o)<=t)return l.close(),e;let r=Math.min(t/i,t/o),s=Math.round(i*r),u=Math.round(o*r),f=document.createElement("canvas");f.width=s,f.height=u;let E=f.getContext("2d");if(!E)throw l.close(),new Error("Context 2D no disponible.");return E.drawImage(l,0,0,s,u),l.close(),rv(f,a,n)}async function uv(e,{imageType:t=im,imageQuality:a=lm}={}){let n=await createImageBitmap(e),l=document.createElement("canvas");l.width=n.width,l.height=n.height;let i=l.getContext("2d");if(!i)throw n.close(),new Error("Context 2D no disponible.");try{i.drawImage(n,0,0,n.width,n.height)}catch(o){throw n.close(),o.message&&o.message.includes("detached")?new Error("Error al procesar la imagen. Int\xE9ntalo de nuevo."):o}n.close(),i.filter="grayscale(100%) contrast(180%) brightness(110%)";try{i.drawImage(l,0,0)}catch(o){Tb.warn("Fallback sense filtres en el preprocessament.",o)}return rv(l,t,a)}var $O=Object.freeze({IMAGE_MAX_DIMENSION:ov,IMAGE_QUALITY:lm,IMAGE_TYPE:im});var Ab="spa",Cb=1,bb="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ:/-\xC0\xC9\xCD\xD3\xDA\xC8\xD2\xC0\xDC\xCF\xC7\xD1",cv=10,_b=1e3,Db=new Set(["image/jpeg","image/png","image/webp"]),Ob=[{type:"image/jpeg",bytes:[255,216,255]},{type:"image/png",bytes:[137,80,78,71,13,10,26,10]},{type:"image/webp",bytes:[82,73,70,70,null,null,null,null,87,69,66,80]}],Nb=300;var Lb="https://cdn.jsdelivr.net/npm/tesseract.js@6/dist/tesseract.min.js",Mb="sha384-r1ru3tcf6FhnCFR4B7pIFG+BhFF9LlFtz/P1y4pblWn3AGs9y3lBx5SKLNf4+rED",Rb={load_system_dawg:"0",load_freq_dawg:"0"},Ib={tessedit_char_whitelist:bb,tessedit_pageseg_mode:6},oi={CAMERA_BTN:"camera-in-dropdown",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline"},tn={VISIBLE:"visible",HIDDEN:"hidden",SERVICE_COLORS:["service-1","service-2","service-3","service-4"]},Bb={ORIGIN_TIME:{id:"originTime",label:"Hora movilizaci\xF3n",fieldIdSuffix:"origin-time",lineKeywordRegex:/movilizaci|mobilitzat|desplaza/i},DESTINATION_TIME:{id:"destinationTime",label:"Hora de llegada hospital",fieldIdSuffix:"destination-time",lineKeywordRegex:/arribada|hospital|aaah/i},END_TIME:{id:"endTime",label:"Hora Final",fieldIdSuffix:"end-time",valueRegex:/\d{2}\s*\/?\s*\d{2}\s*\/?\s*\d{2}\s+(\d{1,2}:\d{2}(?::\d{2})?)/i}},nt=null,an=null,ou=null,om=null,ye=null,rm=!1,dv=!1,fv=!1,mv=0,zt=null,ri=0,gv=0,ru=x.withScope("CameraOCR"),Ev=new Er(10,6e4,"escanejat OCR");function wb(e,t){return!e||e.length<t.length?!1:t.every((a,n)=>a===null||e[n]===a)}async function xb(e){if(!e)return!1;if(Db.has(e.type?.toLowerCase()))return!0;try{let t=new Uint8Array(await e.slice(0,12).arrayBuffer());return Ob.some(a=>wb(t,a.bytes))}catch(t){return ru.warn("No s'ha pogut validar la signatura del fitxer:",t),!1}}function Ub(e){if(!e)return"";let t=e.replace(/[^\d:\-]/g,"");t=t.replace(/-/g,":");let a=t.match(/^(\d{1,2}):(\d{2})(?::\d{2})?$/);if(a){let n=parseInt(a[1],10),l=parseInt(a[2],10);if(n>=0&&n<=23&&l>=0&&l<=59)return`${String(n).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return""}function zb(){if(Date.now()-mv<500||(mv=Date.now(),!nt||!an))return;document.body.classList.add("modal-open"),document.body.style.setProperty("pointer-events","none"),nt.style.setProperty("pointer-events","auto"),an.style.setProperty("pointer-events","auto");let e=ln(),t=tn.SERVICE_COLORS[e]||"";an.classList.remove(...tn.SERVICE_COLORS),t&&an.classList.add(t),nt.classList.remove(tn.HIDDEN),requestAnimationFrame(()=>nt.classList.add(tn.VISIBLE)),ou?.focus()}function si(){nt&&(document.body.classList.remove("modal-open"),document.body.style.removeProperty("pointer-events"),nt.style.removeProperty("pointer-events"),an&&an.style.removeProperty("pointer-events"),nt.classList.remove(tn.VISIBLE),setTimeout(()=>nt.classList.add(tn.HIDDEN),Nb))}function Pb(e){nt?.classList.contains(tn.VISIBLE)&&!an?.contains(e.target)&&si()}function Vb(){ye&&(ye.setAttribute("capture","environment"),ye.click(),si())}function Hb(){ye&&(ye.removeAttribute("capture"),ye.click(),si())}function pv(e){let t=Object.entries(e).filter(([l,i])=>!i.skip),a=t.filter(([l,i])=>i.detected).length,n=t.length;return`${a}/${n} campos detectados`}function Ot(e,t){zt||(zt=Go()),e>ri&&(ri=e);let a=ri>=100?t||"Texto reconocido correctamente":"Reconociendo texto...";zt.update(ri,a)}function Gb(){ri=0}function Sv(e,t,a){let n=document.getElementById(e);if(n){n.value=t;let l=new Event("input",{bubbles:!0,cancelable:!0});n.dispatchEvent(l)}}function qb(e,t=null){if(!e||!e.trim())return{hasData:!1,allFieldsStatus:[]};let a=Rm(e);if(!a.valid)return ru.warn("Resultat OCR inv\xE0lid:",a.reason),D(`Error de validaci\xF3: ${a.reason}`,"error"),{hasData:!1,allFieldsStatus:[]};let n=ln(),l=xm(n)||"3.6",i=`-${n+1}`,o={},r={originTime:{label:"Hora activaci\xF3n",detected:!1},destinationTime:{label:"Hora destino",detected:!1,skip:l==="3.11"||l==="3.22"},endTime:{label:"Hora final",detected:!1}};t&&t(r);let s=e.split(`
`),u=e.toLowerCase().replace(/ +/g," ");if(Object.values(Bb).forEach(E=>{if((l==="3.11"||l==="3.22")&&E.id==="destinationTime")return;let c=null;if(E.lineKeywordRegex){for(let g of s)if(E.lineKeywordRegex.test(g.toLowerCase())){let y=g.replace(/\D/g,"");if(y.length>=6){let T=y.slice(-6);c=[null,`${T.slice(0,2)}:${T.slice(2,4)}:${T.slice(4,6)}`];break}}}else E.valueRegex&&(c=u.match(E.valueRegex));if(c&&c[1]){let g=Ub(c[1].trim());if(g&&!o[E.id]){let y=`${E.fieldIdSuffix}${i}`;Sv(y,g,E.label),o[E.id]=E,r[E.id]&&(r[E.id].detected=!0,t&&t(r))}}}),!o.endTime&&(o.originTime||o.destinationTime)){let E=new Date,c=String(E.getHours()).padStart(2,"0"),g=String(E.getMinutes()).padStart(2,"0"),y=`${c}:${g}`,T=`end-time${i}`;Sv(T,y,"Hora Final (Actual)");let b=document.getElementById(T);b&&(b.classList.add("input-warning"),b.addEventListener("focus",()=>b.classList.remove("input-warning"),{once:!0}))}let f=Object.keys(o).length;return{hasData:f>0,count:f,fields:o,allFieldsStatus:r}}function hv(){if(dv||(nt=document.getElementById(oi.CAMERA_MODAL),an=nt?.querySelector(oi.MODAL_CONTENT),ou=document.getElementById(oi.OPTION_CAMERA),om=document.getElementById(oi.OPTION_GALLERY),ye=document.getElementById(oi.CAMERA_INPUT),!nt||!ou||!om||!ye))return;document.querySelectorAll(oi.OCR_SCAN_BTN).forEach(t=>t.addEventListener("click",zb)),ou.addEventListener("click",Vb),om.addEventListener("click",Hb),ye.addEventListener("change",Yb),document.addEventListener("click",Pb),document.addEventListener("keydown",t=>{t.key==="Escape"&&nt?.classList.contains(tn.VISIBLE)&&si()}),dv=!0}function jb(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}async function Yb(e){if(rm)return;let t=e.target.files?.[0];if(!t)return;if(!Ev.canMakeRequest()){let l=Ev.getRemainingRequests();D(`Has superat el l\xEDmit d'escaneigs. Espera uns segons abans de tornar-ho a intentar. (${l} disponibles)`,"warning"),ye&&(ye.value="");return}if(Date.now()-gv<_b){D("OCR massa freq\xFCent. Espera un segon abans de reintentar.","warning"),ye&&(ye.value="");return}if(!await xb(t)){D("Format d'imatge no suportat. Usa PNG, JPG o WEBP.","error"),ye&&(ye.value="");return}let a=cv*1024*1024;if(t.size>a){D(`Imatge massa gran. El m\xE0xim perm\xE8s \xE9s ${cv}MB.`,"error"),ye&&(ye.value="");return}rm=!0,gc(!0),ri=0,zt||(zt=Go()),zt.start(t),Ot(0),jb(),gv=Date.now();let n=null;try{Ot(5);let l=await sv(t);Ot(20),l=await uv(l),Ot(35),await new Promise(s=>setTimeout(s,100)),Ot(45),fv||(Ot(50),await Wn({src:Lb,integrity:Mb}),fv=!0),Ot(60),n=await Tesseract.createWorker(Ab,Cb,{logger:s=>{if(s.status==="recognizing text"){let u=Math.max(85,Math.floor(s.progress*100*.15+85));Ot(u)}else s.status==="loading language model"&&Ot(65)},init:Rb}),Ot(75),await n.setParameters(Ib),Ot(80);let{data:{text:i}}=await n.recognize(l),r=qb(i,s=>{let u=pv(s);zt.update(95,u)});if(r.hasData){let s=pv(r.allFieldsStatus);zt.complete(s,"done")}else D("Error al escanear. Imagen no v\xE1lida","error"),zt?.reset?.(),setTimeout(()=>si(),1e3)}catch(l){ru.error("Error durant el processament OCR:",l),D("Error al escanear. Imagen no v\xE1lida","error"),zt?.reset?.(),setTimeout(()=>{ru.debug("Tancant modal OCR despr\xE9s de timeout"),si()},3e3)}finally{try{n&&await n.terminate()}catch{}ye&&(ye.value=""),Gb(),gc(!1),rm=!1}}var yv="anonymousUserId";function vv(){try{let e=localStorage.getItem(yv);return e||(e=`user-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,localStorage.setItem(yv,e)),e}catch{return`temp-user-${Date.now()}`}}var Tv=document.getElementById("save-pill"),ci=document.querySelector(".tab-content-container"),ui=0,Av=!1,Xb=10,Kb=150,Qb=ci&&parseInt(window.getComputedStyle(ci).paddingBottom,10)||60;function sm(e=ui){Av=e>Kb,Av?(Tv.style.bottom=`calc(${e}px + ${Xb}px + env(safe-area-inset-bottom, 0px))`,ci&&(ci.style.paddingBottom=`${e+50}px`)):(Tv.style.bottom="calc(20px + env(safe-area-inset-bottom, 0px))",ci&&(ci.style.paddingBottom=`${Qb}px`))}if("virtualKeyboard"in navigator)navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",e=>{ui=e.target.boundingRect.height,sm(ui)});else{let e=window.innerHeight;window.addEventListener("resize",()=>{window.innerHeight<e?(ui=e-window.innerHeight,sm(ui)):(ui=0,sm(0))})}var Fb=document.querySelectorAll('input:not([type="checkbox"]), select, textarea');var Zb=()=>{let e=[".top-bar",".tabs-container"],t=0;return e.forEach(a=>{let n=document.querySelector(a);if(!n)return;let l=n.getBoundingClientRect();l.bottom>t&&(t=l.bottom)}),Math.max(t,0)},um=()=>{let e=Zb();document.documentElement.style.setProperty("--fixed-headers-height",`${e}px`)},cm=()=>{let e=document.querySelector("input.origin");if(!e)return;let t=e.closest(".form-group");if(!t)return;let a=t.querySelector("label");if(!a)return;let n=window.getComputedStyle(a),l=a.offsetHeight,i=parseFloat(n.marginBottom)||0,o=l+i+20;document.documentElement.style.setProperty("--label-space",`${o}px`)};um();cm();window.addEventListener("resize",()=>{um(),cm()});window.addEventListener("orientationchange",()=>{um(),cm()});var Jb=e=>{e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})};function kb(e){let t=e.target;t instanceof HTMLElement&&(t.closest(".modal")||setTimeout(()=>{if(!document.body.contains(t))return;if(t.classList.contains("origin")||t.classList.contains("destination")){Jb(t);return}t.scrollIntoView({behavior:"smooth",block:"center"})},250))}Fb.forEach(e=>{e.addEventListener("focus",kb)});var $b="notes-selected-service",Wb="notes-modal",e_="notes-title",t_="notes-textarea",a_="notes-save",n_="notes-cancel",l_="notes-char-counter",di,fm,oe,su,dm,xn,qo=null,jo=null,Yo=null;function Cv(){let e=document.getElementById($b);e&&(di=document.getElementById(Wb),fm=document.getElementById(e_),oe=document.getElementById(t_),su=document.getElementById(a_),dm=document.getElementById(n_),xn=document.getElementById(l_),!(!di||!fm||!oe||!su||!dm||!xn)&&(e.addEventListener("click",()=>{let t=ln();i_(t)}),dm.addEventListener("click",mm)))}function i_(e){if(!di)return;fm.textContent=`S${e+1}: Observaciones`,oe.value=Ht[e]||"";let t=oe.maxLength,a=()=>{let n=oe.value.length;xn.textContent=`${n} / ${t}`,xn.classList.remove("warning","limit"),oe.classList.remove("input-warning","input-error"),n>=t?(xn.classList.add("limit"),oe.classList.add("input-error")):n>t*.8&&(xn.classList.add("warning"),oe.classList.add("input-warning"))};a(),jo=()=>{oe.value.length>t&&(oe.value=oe.value.slice(0,t)),a()},oe.addEventListener("input",jo),Yo=n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),oe.blur())},oe.addEventListener("keydown",Yo),qo=()=>{let n=oe.value.trim(),l=Ht[e]||"";if(n===l){mm();return}Ht[e]=n,n?D("Observaci\xF3n guardada.","success"):D("Observaci\xF3n eliminada.","info"),mm(),Gt()},su.addEventListener("click",qo),di.style.display="block",document.body.classList.add("modal-open"),setTimeout(()=>{oe.focus({preventScroll:!0}),oe.setSelectionRange(oe.value.length,oe.value.length)},0)}function mm(){di&&(qo&&(su.removeEventListener("click",qo),qo=null),jo&&(oe.removeEventListener("input",jo),jo=null),Yo&&(oe.removeEventListener("keydown",Yo),Yo=null),xn.classList.remove("warning","limit"),oe.classList.remove("input-warning","input-error"),di.style.display="none",document.body.classList.remove("modal-open"))}var o_="https://www.googletagmanager.com/gtag/js?id=G-23SXKMLR75",r_="sha384-npdF2r0gS4VTDBOUWQ32Igb6Tr6PDv4p0eoQI5oJUSutnNpdFb8JFJ7Y8dbvECv7";window.dataLayer=window.dataLayer||[];window.gtag=window.gtag||function(){window.dataLayer.push(arguments)};var s_=e=>{let a=`; ${document.cookie}`.split(`; ${e}=`);if(a.length===2)return a.pop()?.split(";").shift()},_v=(e,t,a)=>{let n=new Date;n.setTime(n.getTime()+a*24*60*60*1e3);let l=`expires=${n.toUTCString()}`;document.cookie=`${e}=${t};${l};path=/;SameSite=Lax;Secure`},fi,gm,Em,bv=!1;async function Dv(){bv||(await Wn({src:o_,integrity:r_,referrerPolicy:"strict-origin-when-cross-origin"}),window.gtag("js",new Date),window.gtag("config","G-23SXKMLR75"),bv=!0)}function u_(){Dv().catch(e=>{console.error("Error carregant Google Analytics:",e)}),_v("cookie_consent","granted",365),uu()}function c_(){typeof window.gtag=="function"&&window.gtag("consent","update",{analytics_storage:"denied"}),_v("cookie_consent","denied",365),uu()}function d_(){fi&&fi.classList.remove("hidden")}function uu(){fi&&fi.classList.add("hidden")}function Ov(){if(fi=document.getElementById("cookie-consent-banner"),gm=document.getElementById("accept-cookies"),Em=document.getElementById("decline-cookies"),!fi||!gm||!Em){console.warn("Elements del b\xE0ner de cookies no trobats.");return}let e=s_("cookie_consent");if(window.gtag("consent","default",{analytics_storage:"denied"}),e==="granted"){Dv().catch(t=>{console.error("Error carregant GA despr\xE9s del consentiment guardat:",t)}),uu();return}if(e==="denied"){uu();return}e||(d_(),gm.addEventListener("click",u_),Em.addEventListener("click",c_))}var cu=["Abella de la Conca","Abrera","Agramunt","Aguilar de Segarra","Agullana","Aiguafreda","Aiguam\xFArcia","Aiguaviva","Aitona","Alam\xFAs, els","Albag\xE9s, l'","Albany\xE0","Albat\xE0rrec","Albesa","Albi, l'","Albinyana","Albiol, l'","Albons","Alcanar","Alcan\xF3","Alcarr\xE0s","Alcoletge","Alcover","Aldea, l'","Aldover","Aleixar, l'","Alella","Alfara de Carles","Alfarr\xE0s","Alforja","Alf\xE9s","Algerri","Alguaire","Alins","Ali\xF3","Almacelles","Almatret","Almenar","Almoster","Alp","Alpens","Alpicat","Alt \xC0neu","Altafulla","Altres/Diversos","Al\xE0s i Cerc","Al\xF2s de Balaguer","Amer","Ametlla de Mar, l'","Ametlla del Vall\xE8s, l'","Ampolla, l'","Amposta","Anglesola","Angl\xE8s","Arbeca","Arbol\xED","Arbo\xE7, l'","Arb\xFAcies","Arenys de Mar","Arenys de Munt","Argelaguer","Argentera, l'","Argentona","Argen\xE7ola","Armentera, l'","Arnes","Arres","Ars\xE8guel","Artesa de Lleida","Artesa de Segre","Art\xE9s","Asc\xF3","Aspa","Avellanes i Santa Linya, les","Avinyonet de Puigvent\xF3s","Avinyonet del Pened\xE8s","Aviny\xF3","Avi\xE0","Badalona","Badia del Vall\xE8s","Bag\xE0","Baix Pallars","Balaguer","Baleny\xE0","Balsareny","Banyeres del Pened\xE8s","Banyoles","Barbens","Barber\xE0 de la Conca","Barber\xE0 del Vall\xE8s","Barcelona","Baronia de Rialb, la","Bassella","Batea","Bausen","Begues","Begur","Belianes","Bell-lloc d'Urgell","Bellaguarda","Bellcaire d'Empord\xE0","Bellcaire d'Urgell","Bellmunt d'Urgell","Bellmunt del Priorat","Bellprat","Bellpuig","Bellvei","Bellver de Cerdanya","Bellv\xEDs","Benavent de Segri\xE0","Benifallet","Benissanet","Berga","Besal\xFA","Bescan\xF3","Beuda","Bigues i Riells del Fai","Biosca","Bisbal d'Empord\xE0, la","Bisbal de Montsant, la","Bisbal del Pened\xE8s, la","Biure","Blancafort","Blanes","Boadella i les Escaules","Bolvir","Bonastre","Bordils","Borges Blanques, les","Borges del Camp, les","Borrass\xE0","Borred\xE0","Boss\xF2st","Bot","Botarell","Bovera","Breda","Bruc, el","Brull, el","Brunyola i Sant Mart\xED Sapresa","Br\xE0fim","B\xE0scara","B\xF2rdes, Es","Cabac\xE9s","Cabanabona","Cabanelles","Cabanes","Cabanyes, les","Cabra del Camp","Cabrera d'Anoia","Cabrera de Mar","Cabrils","Cab\xF3","Cadaqu\xE9s","Calaf","Calafell","Calders","Caldes d'Estrac","Caldes de Malavella","Caldes de Montbui","Calella","Calldetenes","Call\xFAs","Calonge de Segarra","Calonge i Sant Antoni","Camarasa","Camarles","Cambrils","Campdev\xE0nol","Campelles","Campins","Campllong","Camprodon","Cam\xF3s","Canejan","Canet d'Adri","Canet de Mar","Canonja, la","Canovelles","Cantallops","Canyelles","Capafonts","Capellades","Capmany","Capolat","Cap\xE7anes","Cardedeu","Cardona","Carme","Caseres","Casserres","Cass\xE0 de la Selva","Castell d'Aro, Platja d'Aro i s'Agar\xF3","Castell de Mur","Castell de l'Areny","Castellar de la Ribera","Castellar de n'Hug","Castellar del Riu","Castellar del Vall\xE8s","Castellbell i el Vilar","Castellbisbal","Castellcir","Castelldans","Castelldefels","Castellet i la Gornal","Castellfollit de Riubreg\xF3s","Castellfollit de la Roca","Castellfollit del Boix","Castellgal\xED","Castellnou de Bages","Castellnou de Seana","Castellol\xED","Castellser\xE0","Castellter\xE7ol","Castellvell del Camp","Castellv\xED de Rosanes","Castellv\xED de la Marca","Castell\xF3 d'Emp\xFAries","Castell\xF3 de Farfanya","Catllar, el","Cava","Cellera de Ter, la","Celr\xE0","Centelles","Cercs","Cerdanyola del Vall\xE8s","Cervell\xF3","Cervera","Cervi\xE0 de Ter","Cervi\xE0 de les Garrigues","Cistella","Ciutadilla","Clariana de Cardener","Cogul, el","Colera","Coll de Narg\xF3","Collbat\xF3","Colldejou","Collsuspina","Colomers","Coma i la Pedra, la","Conca de Dalt","Conesa","Constant\xED","Copons","Corbera d'Ebre","Corbera de Llobregat","Corbins","Cornell\xE0 de Llobregat","Cornell\xE0 del Terri","Cornudella de Montsant","Cor\xE7\xE0","Creixell","Crespi\xE0","Cru\xEFlles, Monells i Sant Sadurn\xED de l'Heura","Cubelles","Cubells","Cunit","C\xE0noves i Samal\xFAs","Darnius","Das","Deltebre","Dosrius","Duesaig\xFCes","Escala, l'","Esparreguera","Espinelves","Espluga Calba, l'","Espluga de Francol\xED, l'","Esplugues de Llobregat","Espolla","Esponell\xE0","Espot","Espunyola, l'","Esquirol, l'","Estamariu","Estany, l'","Estar\xE0s","Esterri d'\xC0neu","Esterri de Card\xF3s","Falset","Far d'Empord\xE0, el","Farrera","Fatarella, la","Febr\xF3, la","Figar\xF3-Montmany","Figuera, la","Figueres","Figuerola del Camp","Fla\xE7\xE0","Flix","Floresta, la","Fogars de Montcl\xFAs","Fogars de la Selva","Foix\xE0","Folgueroles","Fondarella","Fonollosa","Font-rub\xED","Fontanals de Cerdanya","Fontanilles","Fontcoberta","Foradada","Forallac","Fornells de la Selva","Forti\xE0","For\xE8s","Franqueses del Vall\xE8s, les","Freginals","Fuliola, la","Fulleda","F\xEDgols","F\xEDgols i Aliny\xE0","Gai\xE0","Galera, la","Gallifa","Gandesa","Garcia","Garidells, els","Garriga, la","Garrigoles","Garriguella","Garrig\xE0s","Gavet de la Conca","Gav\xE0","Gelida","Ger","Gimenells i el Pla de la Font","Ginestar","Girona","Gironella","Gisclareny","Godall","Golm\xE9s","Gombr\xE8n","Granada, la","Granadella, la","Granera","Granja d'Escarp, la","Granollers","Granyanella","Granyena de Segarra","Granyena de les Garrigues","Gratallops","Gualba","Gualta","Guardiola de Bergued\xE0","Guiamets, els","Guils de Cerdanya","Guimer\xE0","Guingueta d'\xC0neu, la","Guissona","Guixers","Gurb","G\xF3sol","Horta de Sant Joan","Hospitalet de Llobregat, l'","Hostalets de Pierola, els","Hostalric","Igualada","Isona i Conca Dell\xE0","Is\xF2vol","Ivars d'Urgell","Ivars de Noguera","Ivorra","Jafre","Jonquera, la","Jorba","Josa i Tuix\xE9n","Jui\xE0","Juncosa","Juneda","Les","Linyola","Llacuna, la","Lladorre","Lladurs","Llad\xF3","Llagosta, la","Llagostera","Llambilles","Llanars","Llan\xE7\xE0","Llardecans","Llavors\xED","Lleida","Llers","Lles de Cerdanya","Llimiana","Llinars del Vall\xE8s","Lli\xE7\xE0 d'Amunt","Lli\xE7\xE0 de Vall","Lloar, el","Llobera","Llorac","Lloren\xE7 del Pened\xE8s","Lloret de Mar","Llosses, les","Llu\xE7\xE0","Ll\xEDvia","Madremanya","Maials","Mai\xE0 de Montcal","Mald\xE0","Malgrat de Mar","Malla","Manlleu","Manresa","Margalef","Marganell","Martorell","Martorelles","Mar\xE7\xE0","Mas de Barberans","Masarac i Vilarnadal","Masdenverge","Masies de Roda, les","Masies de Voltreg\xE0, les","Maslloren\xE7","Masnou, el","Maspujols","Masquefa","Masroig, el","Massalcoreig","Massanes","Massoteres","Mas\xF3, la","Matadepera","Matar\xF3","Ma\xE7anet de Cabrenys","Ma\xE7anet de la Selva","Mediona","Men\xE0rguens","Meranges","Mieres","Mil\xE0, el","Miralcamp","Miravet","Moi\xE0","Molar, el","Molins de Rei","Mollerussa","Mollet de Peralada","Mollet del Vall\xE8s","Moll\xF3","Molsosa, la","Monistrol de Calders","Monistrol de Montserrat","Mont-ral","Mont-ras","Mont-roig del Camp","Montagut i Oix","Montblanc","Montbri\xF3 del Camp","Montcada i Reixac","Montclar","Montell\xE0 i Martinet","Montesquiu","Montferrer i Castellb\xF2","Montferri","Montgai","Montgat","Montmajor","Montmaneu","Montmell, el","Montmel\xF3","Montoliu de Lleida","Montoliu de Segarra","Montorn\xE8s de Segarra","Montorn\xE8s del Vall\xE8s","Montseny","Morell, el","Morera de Montsant, la","Muntanyola","Mura","M\xF3ra d'Ebre","M\xF3ra la Nova","Nalec","Naut Aran","Navarcles","Navata","Nav\xE0s","Nav\xE8s","No consta","Nou de Bergued\xE0, la","Nou de Gai\xE0, la","Nulles","Od\xE8n","Ogassa","Olesa de Bonesvalls","Olesa de Montserrat","Oliana","Oliola","Olius","Olivella","Olost","Olot","Oluges, les","Olvan","Ol\xE8rdola","Omellons, els","Omells de na Gaia, els","Ordis","Organy\xE0","Orist\xE0","Orp\xED","Or\xEDs","Os de Balaguer","Osor","Oss\xF3 de Si\xF3","Pacs del Pened\xE8s","Palafolls","Palafrugell","Palam\xF3s","Palau d'Anglesola, el","Palau de Santa Eul\xE0lia","Palau-sator","Palau-saverdera","Palau-solit\xE0 i Plegamans","Pallaresos, els","Pallej\xE0","Palma d'Ebre, la","Palma de Cervell\xF3, la","Palol de Revardit","Pals","Papiol, el","Pardines","Parets del Vall\xE8s","Parlav\xE0","Passanant i Belltall","Pau","Pa\xFCls","Pedret i Marz\xE0","Penelles","Pera, la","Perafita","Perafort","Peralada","Peramola","Perell\xF3, el","Piera","Piles, les","Pineda de Mar","Pinell de Brai, el","Pinell de Solson\xE8s","Pin\xF3s","Pira","Pla de Santa Maria, el","Pla del Pened\xE8s, el","Planes d'Hostoles, les","Planoles","Plans de Si\xF3, els","Poal, el","Pobla de Claramunt, la","Pobla de C\xE9rvoles, la","Pobla de Lillet, la","Pobla de Mafumet, la","Pobla de Massaluca, la","Pobla de Montorn\xE8s, la","Pobla de Segur, la","Poboleda","Poliny\xE0","Pont d'Armentera, el","Pont de Bar, el","Pont de Molins","Pont de Suert, el","Pont de Vilomara i Rocafort, el","Pontils","Pontons","Ponts","Pont\xF3s","Porqueres","Porrera","Port de la Selva, el","Portbou","Portella, la","Pradell de la Teixeta","Prades","Prat de Comte","Prat de Llobregat, el","Pratdip","Prats de Llu\xE7an\xE8s","Prats de Rei, els","Prats i Sansor","Preixana","Preixens","Premi\xE0 de Dalt","Premi\xE0 de Mar","Preses, les","Prullans","Puig-reig","Puigcerd\xE0","Puigd\xE0lber","Puiggr\xF2s","Puigpelat","Puigverd d'Agramunt","Puigverd de Lleida","Pujalt","Quar, la","Quart","Queralbs","Querol","Rab\xF3s","Rajadell","Rasquera","Regenc\xF3s","Rellinars","Renau","Reus","Rialp","Riba, la","Riba-roja d'Ebre","Ribera d'Ondara","Ribera d'Urgellet","Ribes de Freser","Riells i Viabrea","Riera de Gai\xE0, la","Riner","Ripoll","Ripollet","Riu de Cerdanya","Riudarenes","Riudaura","Riudecanyes","Riudecols","Riudellots de la Selva","Riudoms","Riumors","Roca del Vall\xE8s, la","Rocafort de Queralt","Roda de Ber\xE0","Roda de Ter","Rodony\xE0","Roquetes","Roses","Rossell\xF3","Rourell, el","Rubi\xF3","Rub\xED","Rupit i Pruit","Rupi\xE0","R\xE0pita, la","Sabadell","Sag\xE0s","Saldes","Sales de Llierca","Sallent","Salom\xF3","Salou","Salt","Sal\xE0s de Pallars","Sana\xFCja","Sant Adri\xE0 de Bes\xF2s","Sant Agust\xED de Llu\xE7an\xE8s","Sant Andreu Salou","Sant Andreu de Llavaneres","Sant Andreu de la Barca","Sant Aniol de Finestres","Sant Antoni de Vilamajor","Sant Bartomeu del Grau","Sant Boi de Llobregat","Sant Boi de Llu\xE7an\xE8s","Sant Cebri\xE0 de Vallalta","Sant Celoni","Sant Climent Sescebes","Sant Climent de Llobregat","Sant Cugat Sesgarrigues","Sant Cugat del Vall\xE8s","Sant Esteve Sesrovires","Sant Esteve de Palautordera","Sant Esteve de la Sarga","Sant Feliu Sasserra","Sant Feliu de Buixalleu","Sant Feliu de Codines","Sant Feliu de Gu\xEDxols","Sant Feliu de Llobregat","Sant Feliu de Pallerols","Sant Ferriol","Sant Fost de Campsentelles","Sant Fruit\xF3s de Bages","Sant Gregori","Sant Guim de Freixenet","Sant Guim de la Plana","Sant Hilari Sacalm","Sant Hip\xF2lit de Voltreg\xE0","Sant Iscle de Vallalta","Sant J. d'Enveja","Sant J. de Frontany\xE0","Sant J. de Llierca","Sant J. dels Domenys","Sant Joan Desp\xED","Sant Joan de Mollet","Sant Joan de Vilatorrada","Sant Joan de les Abadesses","Sant Joan les Fonts","Sant Jordi Desvalls","Sant Juli\xE0 de Cerdanyola","Sant Juli\xE0 de Ramis","Sant Juli\xE0 de Vilatorta","Sant Juli\xE0 del Llor i Bonmat\xED","Sant Just Desvern","Sant Lloren\xE7 Savall","Sant Lloren\xE7 d'Hortons","Sant Lloren\xE7 de Morunys","Sant Lloren\xE7 de la Muga","Sant Mart\xED Sarroca","Sant Mart\xED Sesgueioles","Sant Mart\xED Vell","Sant Mart\xED d'Albars","Sant Mart\xED de Centelles","Sant Mart\xED de Ll\xE9mena","Sant Mart\xED de Riucorb","Sant Mart\xED de Tous","Sant Mateu de Bages","Sant Miquel de Campmajor","Sant Miquel de Fluvi\xE0","Sant Mori","Sant Pau de Seg\xFAries","Sant Pere Pescador","Sant Pere Sallavinera","Sant Pere de Ribes","Sant Pere de Riudebitlles","Sant Pere de Torell\xF3","Sant Pere de Vilamajor","Sant Pol de Mar","Sant Quint\xED de Mediona","Sant Quirze Safaja","Sant Quirze de Besora","Sant Quirze del Vall\xE8s","Sant Ramon","Sant Sadurn\xED d'Anoia","Sant Sadurn\xED d'Osormort","Sant Salvador de Guardiola","Sant Vicen\xE7 de Castellet","Sant Vicen\xE7 de Montalt","Sant Vicen\xE7 de Torell\xF3","Sant Vicen\xE7 dels Horts","Santa B\xE0rbara","Santa Cec\xEDlia de Voltreg\xE0","Santa Coloma de Cervell\xF3","Santa Coloma de Farners","Santa Coloma de Gramenet","Santa Coloma de Queralt","Santa Cristina d'Aro","Santa Eug\xE8nia de Berga","Santa Eul\xE0lia de Riuprimer","Santa Eul\xE0lia de Ron\xE7ana","Santa Fe del Pened\xE8s","Santa Llogaia d'\xC0lguema","Santa Margarida de Montbui","Santa Margarida i els Monjos","Santa Maria d'Ol\xF3","Santa Maria de Besora","Santa Maria de Martorelles","Santa Maria de Merl\xE8s","Santa Maria de Miralles","Santa Maria de Palautordera","Santa Oliva","Santa Pau","Santa Perp\xE8tua de Mogoda","Santa Susanna","Santpedor","Sarral","Sarri\xE0 de Ter","Sarroca de Bellera","Sarroca de Lleida","Saus, Camallera i Llampaies","Savall\xE0 del Comtat","Secuita, la","Selva de Mar, la","Selva del Camp, la","Senan","Senterada","Sentiu de Si\xF3, la","Sentmenat","Seriny\xE0","Serra de Dar\xF3","Ser\xF2s","Setcases","Seu d'Urgell, la","Seva","Sidamon","Sils","Sitges","Siurana","Sobremunt","Soler\xE0s, el","Solivella","Solsona","Sora","Soriguera","Sort","Soses","Subirats","Sudanell","Sunyer","Susqueda","S\xE9nia, la","S\xFAria","Tagamanent","Talamanca","Talarn","Talavera","Tallada d'Empord\xE0, la","Taradell","Tarragona","Tarroja de Segarra","Tarr\xE9s","Tavertet","Tav\xE8rnoles","Tei\xE0","Terrades","Terrassa","Tiana","Tiurana","Tivenys","Tivissa","Tona","Tordera","Torell\xF3","Torms, els","Tornabous","Torre de Cabdella, la","Torre de Claramunt, la","Torre de Fontaubella, la","Torre de l'Espanyol, la","Torre-serona","Torrebesses","Torredembarra","Torrefarrera","Torrefeta i Florejacs","Torregrossa","Torrelameu","Torrelavit","Torrelles de Foix","Torrelles de Llobregat","Torrent","Torres de Segre","Torroella de Fluvi\xE0","Torroella de Montgr\xED","Torroja del Priorat","Tortell\xE0","Tortosa","Tor\xE0","Toses","Tossa de Mar","Tremp","T\xE0rrega","T\xE9rmens","T\xEDrvia","Ullastrell","Ullastret","Ulldecona","Ulldemolins","Ull\xE0","Ultramort","Ur\xFAs","Vacarisses","Vajol, la","Vall d'en Bas, la","Vall de Bianya, la","Vall de Bo\xED, la","Vall de Card\xF3s","Vall-llobrega","Vallbona d'Anoia","Vallbona de les Monges","Vallcebre","Vallclara","Vallfogona de Balaguer","Vallfogona de Ripoll\xE8s","Vallfogona de Riucorb","Vallgorguina","Vallirana","Vallmoll","Vallromanes","Valls","Valls d'Aguilar, les","Valls de Valira, les","Vandell\xF2s i l'Hospitalet de l'Infant","Vansa i F\xF3rnols, la","Veciana","Vendrell, el","Ventall\xF3","Verd\xFA","Verges","Vespella de Gai\xE0","Vic","Vidreres","Vidr\xE0","Vielha e Mijaran","Vila-rodona","Vila-sacra","Vila-sana","Vila-seca","Vilabella","Vilabertran","Vilablareix","Vilada","Viladamat","Viladasens","Viladecans","Viladecavalls","Vilademuls","Viladrau","Vilafant","Vilafranca del Pened\xE8s","Vilagrassa","Vilaju\xEFga","Vilalba Sasserra","Vilalba dels Arcs","Vilaller","Vilallonga de Ter","Vilallonga del Camp","Vilamacolum","Vilamalla","Vilamaniscle","Vilam\xF2s","Vilanant","Vilanova d'Escornalbou","Vilanova de Bellpuig","Vilanova de Mei\xE0","Vilanova de Prades","Vilanova de Sau","Vilanova de Segri\xE0","Vilanova de l'Aguda","Vilanova de la Barca","Vilanova del Cam\xED","Vilanova del Vall\xE8s","Vilanova i la Geltr\xFA","Vilaplana","Vilassar de Dalt","Vilassar de Mar","Vilaverd","Vila\xFCr","Vilella Alta, la","Vilella Baixa, la","Vilob\xED d'Onyar","Vilob\xED del Pened\xE8s","Vilopriu","Vilosell, el","Vimbod\xED i Poblet","Vinaixa","Vinebre","Vinyols i els Arcs","Viver i Serrateix","Xerta","\xC0ger","\xD2dena","\xD2rrius"],du=["CAP Les Corts","CAP La Sagrada Fam\xEDlia","CAP El Clot","CAP La Pau","CAP Sant Andreu","CAP Sant Mart\xED","CAP Horta-Guinard\xF3","CAP Nou Barris","CAP Sants-Montju\xEFc","CAP Gr\xE0cia","CAP Sarri\xE0-Sant Gervasi","CAP Badalona Centre","CAP Badalona Pomar","CAP Sta. Coloma Gramenet Nord","CAP Sta. Coloma Gramenet Sud","CAP Montcada i Reixac","CAP Ripollet","CAP Cerdanyola Vall\xE8s","CAP Barber\xE0 Vall\xE8s","CAP Sabadell Centre","CAP Sabadell Nord","CAP Sabadell Sud","CAP Terrassa Nord","CAP Terrassa Sud","CAP Rub\xED","CAP Castellbisbal","CAP Martorell","CAP Abrera","CAP Olesa Montserrat","CAP Esparreguera","CAP Pallej\xE0","CAP Corbera Llobregat","CAP Cervell\xF3","CAP Vallirana","CAP Sant Andreu Barca","CAP Sant Boi Llobregat","CAP Sant Climent Llobregat","CAP Sant Joan Desp\xED","CAP Sant Vicen\xE7 Horts","CAP Cornell\xE0 Llobregat","CAP L'Hospitalet Llobregat Nord","CAP L'Hospitalet Llobregat Sud","CAP Esplugues Llobregat","CAP Viladecans","CAP Gav\xE0","CAP Castelldefels","CAP El Prat Llobregat","CAP Begues","CAP Sitges","CAP Vilanova Geltr\xFA","CAP Cubelles","CAP Cunit","CAP Calafell","CAP El Vendrell","CAP Vilafranca Pened\xE8s","CAP Sant Sadurn\xED Anoia","CAP Igualada","CAP Piera","CAP Capellades","CAP Martorelles","CAP Lli\xE7\xE0 Vall","CAP Granollers Nord","CAP Granollers Sud","CAP Canovelles","CAP Les Franqueses Vall\xE8s","CAP La Garriga","CAP Cardedeu","CAP L'Ametlla Vall\xE8s","CAP Sant Antoni Vilamajor","CAP Sant Celoni","CAP Sant Esteve Palautordera","CAP Sant Pere Vilamajor","CAP Vilalba Sasserra","CAP Matar\xF3 Centre","CAP Matar\xF3 Nord","CAP Matar\xF3 Sud","CAP Argentona","CAP Cabrera Mar","CAP Dosrius","CAP Vilassar Mar","CAP Premi\xE0 Mar","CAP El Masnou","CAP Tei\xE0","CAP Alella","CAP Tiana","CAP Montgat","CAP Tordera","CAP Malgrat Mar","CAP Palafolls","CAP Blanes","CAP Lloret Mar","CAP Tossa Mar","CAP Calella","CAP Pineda Mar","CAP Sta. Susanna","CAP Arenys Mar","CAP Canet Adri","CAP Sant Feliu Llobregat","CAP Molins Rei","CAP Sant Joan Desp\xED","CAP Sant Vicen\xE7 Horts","CAP Cornell\xE0 Llobregat","CAP L'Hospitalet Llobregat","CAP Esplugues Llobregat","CAP Viladecans","CAP Gav\xE0","CAP Castelldefels","CAP El Prat Llobregat","CAP Manresa","CAP Sant Joan Vilatorrada","CAP Sant Fruit\xF3s Bages","CAP Sallent","CAP S\xFAria","CAP Cardona","CAP Solsona","CAP Berga","CAP Puigcerd\xE0","CAP La Seu Urgell","CAP Sort","CAP Vic","CAP Centelles","CAP Torell\xF3","CAP Taradell","CAP Sta. Eug\xE8nia Berga","CAP Moi\xE0","CAP Prats Llu\xE7an\xE8s","CAP Olost","CAP Sta. Maria Ol\xF3","CAP Llu\xE7\xE0","CAP Santpedor","CAP Sant Mateu Bages","CAP Art\xE9s","CAP Aviny\xF3","CAP Castellfollit Boix","CAP Jorba","CAP Sant Mart\xED Sesgueioles","CAP Copons","CAP Sant Sadurn\xED Osormort","CAP Masquefa","CAP Sant Lloren\xE7 Savall","CAP Gallifa","CAP Sant Feliu Sasserra","CAP Sant Quirze Besora","CAP Sant Vicen\xE7 Torell\xF3","CAP Les Masies Voltreg\xE0","CAP Or\xEDs","CAP Sant Boi Llu\xE7an\xE8s","CAP Prats Rei","CAP Girona Centre","CAP Girona Nord","CAP Girona Sud","CAP Salt","CAP Sarri\xE0 Ter","CAP Banyoles","CAP Porqueres","CAP Besal\xFA","CAP Olot","CAP Sta. Pau","CAP Camprodon","CAP Ripoll","CAP Sant Joan Abadesses","CAP Figueres","CAP Llan\xE7\xE0","CAP Castell\xF3 Emp\xFAries","CAP Roses","CAP Cadaqu\xE9s","CAP La Jonquera","CAP Agullana","CAP Ma\xE7anet Selva","CAP Sta. Coloma Farners","CAP Arb\xFAcies","CAP Breda","CAP Riudarenes","CAP Sils","CAP Angl\xE8s","CAP La Cellera Ter","CAP Amer","CAP Sant Hilari Sacalm","CAP Osor","CAP Vidreres","CAP Lloret Mar","CAP Blanes","CAP Tossa Mar","CAP Calonge","CAP Palam\xF3s","CAP Platja Aro","CAP Sta. Cristina Aro","CAP Lleida Centre","CAP Lleida Nord","CAP Lleida Sud","CAP Balaguer","CAP La Seu Urgell","CAP Vielha","CAP Tremp","CAP Sort","CAP Puigcerd\xE0","CAP T\xE0rrega","CAP Cervera","CAP Mollerussa","CAP Artesa Segre","CAP Ponts","CAP Almacelles","CAP Aitona","CAP Ser\xF2s","CAP Torres Segre","CAP Juneda","CAP Les Borges Blanques","CAP Miralcamp","CAP Preixens","CAP Oliana","CAP Organy\xE0","CAP Sant Lloren\xE7 Cardoner","CAP Sant Ramon","CAP Castellbell Vilar","CAP Sant Vicen\xE7 Castellet","CAP Monistrol Montserrat","CAP Marganell","CAP El Bruc","CAP Sant Salvador Guardiola","CAP Nav\xE0s","CAP S\xFAria","CAP Sallent","CAP Cardona","CAP Sant Joan Vilatorrada","CAP Manresa Nord","CAP Manresa Sud","CAP Tarragona Centre","CAP Tarragona Nord","CAP Tarragona Sud","CAP Reus","CAP Constant\xED","CAP Riudoms","CAP Cambrils","CAP Salou","CAP Vila-seca","CAP Torredembarra","CAP Altafulla","CAP Creixell","CAP Roda Ber\xE0","CAP Valls","CAP Nulles","CAP El Pla Pened\xE8s","CAP La Bisbal Pened\xE8s","CAP Sant Jaume Domenys","CAP El Vendrell","CAP Calafell","CAP Cunit","CAP Cubelles","CAP Vilanova Geltr\xFA","CAP Sitges","CAP Sant Pere Ribes","CAP Vilafranca Pened\xE8s","CAP Sant Sadurn\xED Anoia","CAP Subirats","CAP Sant Mart\xED Sarroca","CAP La Granada","CAP Montblanc","CAP La Riba","CAP Falset","CAP M\xF3ra Nova","CAP Gandesa","CAP Tortosa","CAP Amposta","CAP Sant Carles N\xE0utica","CAP Deltebre","CAP Roquetes","CAP Alcanar","CAP Vinar\xF2s","CAP Benicarl\xF3","CAP Pen\xEDscola","CUAP Matar\xF3","CUAP Granollers","CUAP Vic","CUAP Manresa","CUAP Igualada","CUAP Vilafranca Pened\xE8s","CUAP Vilanova Geltr\xFA","CUAP El Vendrell","CUAP Reus","CUAP Tarragona","CUAP Lleida","CUAP Girona","CUAP Figueres","CUAP Blanes","CUAP Olot","CUAP Berga","CUAP Solsona","CUAP Tremp","CUAP La Seu Urgell","CUAP Puigcerd\xE0","AECT H. Cerdanya","CAP Abrera","CAP Alcanar","CAP Amposta","CAP Badalona","CAP Banyoles","CAP Barber\xE0 Vall\xE8s","CAP Barcelona","CAP Bellvitge","CAP Berga","CAP Blanes","CAP Calella","CAP Cambrils","CAP Cerdanyola Vall\xE8s","CAP Cornell\xE0 Llobregat","CAP El Prat Llobregat","CAP El Vendrell","CAP Esplugues Llobregat","CAP Figueres","CAP Gav\xE0","CAP Girona","CAP Granollers","CAP Igualada","CAP L'Hospitalet Llobregat","CAP Lleida","CAP Manresa","CAP Martorell","CAP Matar\xF3","CAP Mollet Vall\xE8s","CAP Montcada i Reixac","CAP Olot","CAP Reus","CAP Ripollet","CAP Rub\xED","CAP Sabadell","CAP Salt","CAP St. Adri\xE0 Bes\xF2s","CAP St. Andreu Barca","CAP St. Boi Llobregat","CAP St. Celoni","CAP St. Cugat Vall\xE8s","CAP St. Feliu Llobregat","CAP St. J. Desp\xED","CAP St. Vicen\xE7 Horts","CAP Sta. Coloma Gramenet","CAP Tarragona","CAP Terrassa","CAP Tortosa","CAP Vic","CAP Viladecans","CAP Vilafranca Pened\xE8s","CAP Vilanova i Geltr\xFA","Espitau Val d'Aran","Fund. H. Esperit St.","Fund. Puigvert","H. Cl\xEDnic Barcelona","H. Com. M\xF3ra d'Ebre","H. Com. St. Antoni Abat","H. Com. St. Bernab\xE9","H. St. Jaume Calella","H. Com. Amposta","H. Comarcal Blanes","H. Com. Alt Pened\xE8s","H. Com. Pallars","H. Dos Maig","H. P. San. St. Joan D\xE9u","H. Gen. Granollers","H. Gen. Hospitalet","H. Munic. Badalona","H. Res. St. Camil","H. St. Joan D\xE9u Esplugues","H. St. J. D\xE9u Manresa","H. St. J. D\xE9u Martorell","H. St. P. i Sta. Tecla","H. Sta. Caterina","H. Arnau Vilanova","H. Bellvitge","H. Dr. Josep Trueta","H. Vall d'Hebron","H. Germans Trias i Pujol","H. J. 23 Tarragona","H. M\xFAtua Terrassa","H. Sta. Maria","H. Igualada","H. St. J. Reus","H. Tortosa Verge Cinta","H. Vic","H. Olot i Com. Garrotxa","H. Campdev\xE0nol","H. Figueres","H. Matar\xF3","H. Mollet","H. Palam\xF3s","H. Sabadell","H. St. Celoni","H. St. J. Desp\xED Broggi","H. Terrassa","H. Viladecans","H. Esperan\xE7a","H. Sta. Creu i St. Pau","H. Mar","H. Vendrell","ICO Badalona","ICO Girona","ICO L'Hospitalet","Inst. Guttmann","Pius H. Valls"],Nv=[...cu,...du],Lv=new Intl.Collator("ca",{sensitivity:"base"}),h1=[...Nv].sort(Lv.compare),y1=[...Nv].sort(Lv.compare);var fu=x.withScope("LocationSuggestions"),Xo={ORIGIN_SUGGESTIONS:"locationSuggestions.origin",DESTINATION_SUGGESTIONS:"locationSuggestions.destination"},Mv=10,Rv=4,f_=6,Iv=3,Un=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),m_=["Barcelona","L'Hospitalet de Llobregat","Badalona","Terrassa","Sabadell","Lleida","Girona","Tarragona","Reus","Manresa","Matar\xF3","Santa Coloma de Gramenet","Cornell\xE0 de Llobregat","Sant Boi de Llobregat","Rub\xED","Vilanova i la Geltr\xFA","Viladecans","El Prat de Llobregat","Granollers","Cerdanyola del Vall\xE8s","Mollet del Vall\xE8s","Castelldefels","Gav\xE0","Martorell","Igualada","Vic","Figueres","Olot","Blanes","Lloret de Mar","Cambrils","Salou","Sitges","Roses","Palafrugell","Sant Cugat del Vall\xE8s","Esplugues de Llobregat","Sant Adri\xE0 de Bes\xF2s","Sant Feliu de Llobregat","Sant Joan Desp\xED","Sant Just Desvern","Parets del Vall\xE8s","Pineda de Mar","Calella","Castellar del Vall\xE8s","Molins de Rei","Ripollet","Berga","La Seu d'Urgell","Puigcerd\xE0","Amposta","Balaguer","Valls","La Bisbal d'Empord\xE0","Palam\xF3s","Platja d'Aro"],Bv=new Map(m_.map((e,t)=>[Un(e),t])),g_=Bv.size+100,E_=e=>{let t=Un(e);return t=t.replace(/hospital comarcal/g,"h. com.").replace(/hospital universitari/g,"h. u.").replace(/hospital general/g,"h. gen.").replace(/hospital/g,"h.").replace(/comarcal/g,"com.").replace(/universitari/g,"u.").replace(/general/g,"gen.").replace(/sant /g,"st. ").replace(/santa /g,"sta. "),[t]},pm=class{constructor(){this.originSuggestions=this.loadSuggestions(Xo.ORIGIN_SUGGESTIONS),this.destinationSuggestions=this.loadSuggestions(Xo.DESTINATION_SUGGESTIONS),this.destinationLookup=this.createDestinationLookup(),this.destinationSuggestions=this.destinationSuggestions.map(t=>this.destinationLookup.get(Un(t))||null).filter(Boolean),this.saveSuggestions(Xo.DESTINATION_SUGGESTIONS,this.destinationSuggestions),this.currentDropdown=null,this.currentInput=null,this.selectedIndex=-1,this.inputDebounceTimer=null,this.scrollAnimationFrame=null,this.visibilityTimeout=null,this.handleWindowScroll=()=>{!this.currentDropdown||!this.currentInput||this.scheduleDropdownReposition()},this.handleWindowResize=()=>{!this.currentDropdown||!this.currentInput||(this.scheduleDropdownReposition(),this.scheduleDropdownVisibilityCheck())},this.handleViewportShift=()=>{!this.currentDropdown||!this.currentInput||(this.scheduleDropdownReposition(),this.scheduleDropdownVisibilityCheck())}}createDestinationLookup(){let t=new Map;return du.forEach(a=>{t.set(Un(a),a)}),t}loadSuggestions(t){try{let a=localStorage.getItem(t);return a?JSON.parse(a):[]}catch(a){return fu.warn(`Error carregant suggeriments per ${t}:`,a),[]}}saveSuggestions(t,a){try{localStorage.setItem(t,JSON.stringify(a))}catch(n){fu.warn(`Error guardant suggeriments per ${t}:`,n)}}addSuggestion(t,a){if(!a||a.trim().length<2)return;let n=a.trim(),l;if(t==="origin")l=this.originSuggestions;else if(t==="destination"){l=this.destinationSuggestions;let o=this.destinationLookup.get(Un(n));if(!o){fu.warn(`Dest\xED no reconegut. Nom\xE9s s'accepten centres sanitaris p\xFAblics. Valor rebut: "${n}"`);return}n=o}else return;let i=l.indexOf(n);i>-1&&l.splice(i,1),l.unshift(n),l.length>Mv&&(l=l.slice(0,Mv)),t==="origin"?(this.originSuggestions=l,this.saveSuggestions(Xo.ORIGIN_SUGGESTIONS,l)):(this.destinationSuggestions=l,this.saveSuggestions(Xo.DESTINATION_SUGGESTIONS,l)),this.updateDatalistForType(t)}getSuggestions(t){return t==="origin"?[...this.originSuggestions]:t==="destination"?[...this.destinationSuggestions]:[]}updateDatalists(){this.updateDatalistForType("origin"),this.updateDatalistForType("destination")}getBaseLocations(t){return t==="origin"?cu:du}calculateMatchScore(t,a,n,l,i){let o=Bv.get(t)??g_,r=/,\s*(el|la|els|les|l')$/i.test(l)?1:0,s=l.includes("-")?1:0,u=a.length>1?0:1;if(!n.length)return{category:0,popularityRank:o,articlePenalty:r,hyphenPenalty:s,multiWordPenalty:u,prefixLengthPenalty:0};let f=c=>c?t.startsWith(c)?0:a.some(g=>g.startsWith(c))?1:2:3;return n.reduce((c,g)=>{let y=-1/0;g.forEach(p=>{y=Math.max(y,f(p))});let T=g[0]?.length??i.primaryLength??0,b=a[0]??"",m=T>0&&b.startsWith(g[0]??"")?Math.abs(b.length-T):b.length,d={category:Number.isFinite(y)?y:3,popularityRank:o,articlePenalty:r,hyphenPenalty:s,multiWordPenalty:u,prefixLengthPenalty:m};return c?this.compareScores(d,c)<0?d:c:d},null)||{category:3,popularityRank:o,articlePenalty:r,hyphenPenalty:s,multiWordPenalty:u,prefixLengthPenalty:a[0]?.length??99}}compareScores(t,a){return t.category!==a.category?t.category-a.category:t.popularityRank!==a.popularityRank?t.popularityRank-a.popularityRank:t.articlePenalty!==a.articlePenalty?t.articlePenalty-a.articlePenalty:t.hyphenPenalty!==a.hyphenPenalty?t.hyphenPenalty-a.hyphenPenalty:t.multiWordPenalty!==a.multiWordPenalty?t.multiWordPenalty-a.multiWordPenalty:t.prefixLengthPenalty!==a.prefixLengthPenalty?t.prefixLengthPenalty-a.prefixLengthPenalty:0}getSuggestionsForInput(t,a="",n={}){if(!n.onlyRecent&&a.trim().length<Iv)return[];let l=E_(a).map(c=>c.split(/\s+/).map(g=>g.trim()).filter(Boolean)).filter(c=>c.length>0),i=Un(a.trim()),r={primaryLength:i.split(/\s+/).map(c=>c.trim()).filter(Boolean)[0]?.length??i.length??0},s=t==="origin"?cu:this.getBaseLocations(t),u=[],f=new Set,E=(c,g)=>{if(!c)return;let y=c.trim();if(!y)return;let T=Un(y),b=T.split(/[\s,\/'.-]+/).map(p=>p.trim()).filter(Boolean);if(!(l.length===0||l.some(p=>p.every(S=>T.includes(S))))||f.has(T))return;f.add(T);let d=this.calculateMatchScore(T,b,l,y,r);u.push({value:y,score:d,index:g})};return s.forEach((c,g)=>E(c,g)),u.sort((c,g)=>{let y=this.compareScores(c.score,g.score);return y!==0?y:c.index-g.index}).slice(0,Rv).map(c=>c.value)}getRecentSuggestions(t,a=f_){return(t==="origin"?this.originSuggestions:this.destinationSuggestions).slice(0,a)}updateDatalistForType(t,a="",n={}){let l=t==="origin"?"origin-datalist":"destination-datalist",i;n.onlyRecent?(i=this.getRecentSuggestions(t),i.length||(i=this.getBaseLocations(t).slice(0,Rv))):i=this.getSuggestionsForInput(t,a),this.updateDatalist(l,i)}updateDatalist(t,a){let n=document.getElementById(t);n&&(n.innerHTML="",a.forEach(l=>{let i=document.createElement("option");i.value=l,n.appendChild(i)}))}calculateDropdownZIndex(){return 850}getFixedHeadersOffset(){let t=[".top-bar",".tabs-container"],a=0;return t.forEach(n=>{let l=document.querySelector(n);if(!l)return;let i=l.getBoundingClientRect();i.bottom>a&&(a=i.bottom)}),Math.max(a,0)}createCustomDropdown(t,a){if(!a||a.length===0){this.closeDropdown();return}if(this.currentDropdown&&this.currentInput===t){this.updateDropdownOptions(this.currentDropdown,a,t);return}this.closeDropdown();let n=document.createElement("div");n.className="custom-location-dropdown",n.id="custom-location-dropdown";let l=t.getBoundingClientRect();n.style.position="fixed",n.style.top=`${l.bottom}px`,n.style.left=`${l.left}px`,n.style.width=`${l.width}px`,n.style.zIndex=String(this.calculateDropdownZIndex()),t.classList.add("has-dropdown-open"),this.updateDropdownOptions(n,a,t),document.body.appendChild(n),this.currentDropdown=n,this.currentInput=t,this.selectedIndex=-1,this.ensureDropdownVisibility(n,t),this.scheduleDropdownVisibilityCheck(),setTimeout(()=>{document.addEventListener("click",this.handleOutsideClick.bind(this))},0)}updateDropdownOptions(t,a,n){t.innerHTML="",a.forEach((l,i)=>{let o=document.createElement("div");o.className="custom-dropdown-option",o.textContent=l,o.dataset.index=i,o.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation(),n.value=l,n.dispatchEvent(new Event("change",{bubbles:!0})),this.closeDropdown()}),o.addEventListener("mouseenter",()=>{this.selectedIndex=i,this.updateSelectedOption(t)}),t.appendChild(o)})}scheduleDropdownReposition(){this.scrollAnimationFrame||(this.scrollAnimationFrame=window.requestAnimationFrame(()=>{if(this.scrollAnimationFrame=null,!(!this.currentDropdown||!this.currentInput)){if(!document.body.contains(this.currentInput)){this.closeDropdown();return}this.repositionDropdown()}}))}scheduleDropdownVisibilityCheck(){this.visibilityTimeout&&clearTimeout(this.visibilityTimeout),this.visibilityTimeout=setTimeout(()=>{this.visibilityTimeout=null,!(!this.currentDropdown||!this.currentInput)&&this.ensureDropdownVisibility(this.currentDropdown,this.currentInput)},160)}repositionDropdown(){if(!this.currentDropdown||!this.currentInput)return;let t=this.currentInput.getBoundingClientRect();this.currentDropdown.style.top=`${t.bottom}px`,this.currentDropdown.style.left=`${t.left}px`,this.currentDropdown.style.width=`${t.width}px`}ensureDropdownVisibility(t,a){let n=window.visualViewport,l=n?.height??window.innerHeight,i=n?.offsetTop??0,o=this.getFixedHeadersOffset(),r=t.getBoundingClientRect(),s=r.top+i,u=s+r.height,f=12,E=16,c=document.scrollingElement||document.documentElement||document.body,g=window.scrollY,y=Math.max((c?.scrollHeight??document.body.scrollHeight)-l,0),T=o+f-s;if(T>0){let A=Math.max(g-T,0);A!==g&&window.scrollTo({top:A,behavior:"smooth"});return}let b=i+l,m=u-(b-E);if(m>0){let A=Math.min(g+m,y);A!==g&&window.scrollTo({top:A,behavior:"smooth"});return}let p=a.getBoundingClientRect().top+i,S=o+f;if(p<S){let A=S-p,R=Math.max(g-A,0);R!==g&&window.scrollTo({top:R,behavior:"smooth"})}}updateSelectedOption(t){if(!t)return;t.querySelectorAll(".custom-dropdown-option").forEach((n,l)=>{l===this.selectedIndex?n.classList.add("selected"):n.classList.remove("selected")})}closeDropdown(){this.currentDropdown&&(this.currentDropdown.remove(),this.currentDropdown=null,this.scrollAnimationFrame&&(cancelAnimationFrame(this.scrollAnimationFrame),this.scrollAnimationFrame=null),this.visibilityTimeout&&(clearTimeout(this.visibilityTimeout),this.visibilityTimeout=null),this.currentInput&&this.currentInput.classList.remove("has-dropdown-open"),this.currentInput=null,this.selectedIndex=-1,document.removeEventListener("click",this.handleOutsideClick.bind(this)))}handleOutsideClick(t){this.currentDropdown&&!this.currentDropdown.contains(t.target)&&t.target!==this.currentInput&&this.closeDropdown()}handleKeyboardNavigation(t,a){if(!a)return;let n=a.querySelectorAll(".custom-dropdown-option");switch(t.key){case"ArrowDown":t.preventDefault(),this.selectedIndex=Math.min(this.selectedIndex+1,n.length-1),this.updateSelectedOption(a),n[this.selectedIndex]?.scrollIntoView({block:"nearest"});break;case"ArrowUp":t.preventDefault(),this.selectedIndex=Math.max(this.selectedIndex-1,-1),this.updateSelectedOption(a),this.selectedIndex>=0&&n[this.selectedIndex]?.scrollIntoView({block:"nearest"});break;case"Enter":if(t.preventDefault(),this.selectedIndex>=0&&n[this.selectedIndex]){let l=n[this.selectedIndex].textContent;this.currentInput.value=l,this.currentInput.dispatchEvent(new Event("change",{bubbles:!0})),this.closeDropdown()}break;case"Escape":t.preventDefault(),this.closeDropdown();break}}init(){fu.info("Inicialitzant servei de suggeriments de localitzacions"),this.createDatalists(),this.updateDatalists(),this.addInputListeners()}createDatalists(){let t=document.querySelectorAll(".origin"),a=document.querySelectorAll(".destination");t.forEach(n=>{n.setAttribute("autocomplete","off"),n.removeAttribute("list")}),a.forEach(n=>{n.setAttribute("autocomplete","off"),n.removeAttribute("list")})}addInputListeners(){document.addEventListener("focus",t=>{let a=t.target;a instanceof HTMLInputElement&&(a.classList.contains("origin")||a.classList.contains("destination"))&&this.closeDropdown()},!0),document.addEventListener("input",t=>{let a=t.target;if(!(a instanceof HTMLInputElement))return;let n=null;if(a.classList.contains("origin")?n="origin":a.classList.contains("destination")&&(n="destination"),n){let l=a.value.trim();this.inputDebounceTimer&&clearTimeout(this.inputDebounceTimer),l.length>=Iv?this.inputDebounceTimer=setTimeout(()=>{let i=this.getSuggestionsForInput(n,l);this.createCustomDropdown(a,i)},300):this.closeDropdown()}}),document.addEventListener("keydown",t=>{let a=t.target;a instanceof HTMLInputElement&&(a.classList.contains("origin")||a.classList.contains("destination"))&&this.currentDropdown&&this.handleKeyboardNavigation(t,this.currentDropdown)}),window.addEventListener("scroll",this.handleWindowScroll,!0),window.addEventListener("resize",this.handleWindowResize),window.visualViewport&&(window.visualViewport.addEventListener("resize",this.handleViewportShift),window.visualViewport.addEventListener("scroll",this.handleViewportShift))}},p_=new pm,wv=()=>p_.init();var ga=x.withScope("BackupService"),S_="diet-backups",h_=1,y_=5;async function v_(){return new Promise((e,t)=>{let a=indexedDB.open(S_,h_);a.onerror=()=>{ga.error("Error obrint base de dades de backups"),t(a.error)},a.onsuccess=()=>{e(a.result)},a.onupgradeneeded=n=>{let l=n.target.result;if(!l.objectStoreNames.contains("backups")){let i=l.createObjectStore("backups",{keyPath:"id",autoIncrement:!0});i.createIndex("timestamp","timestamp",{unique:!1}),i.createIndex("type","type",{unique:!1}),ga.debug("Object store de backups creat")}}})}async function T_(e){try{let a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){return ga.error("Error calculant checksum:",t),""}}async function A_(e=null,t="manual"){try{ga.debug(`Creant backup tipus "${t}"...`),e||(e=await ya());let a=JSON.stringify(e),n=await T_(a),l={version:"2.0.1",type:t,timestamp:Date.now(),date:new Date().toISOString(),totalDiets:e.length,data:e,checksum:n,metadata:{userAgent:navigator.userAgent,platform:navigator.platform}};return await C_(l),ga.debug(`\u2705 Backup creat: ${e.length} dietes, ${(a.length/1024).toFixed(2)} KB`),l}catch(a){throw ga.error("Error creant backup:",a),a}}async function C_(e){let t=await v_();return new Promise((a,n)=>{let i=t.transaction(["backups"],"readwrite").objectStore("backups"),o=i.add(e);o.onsuccess=async()=>{await b_(i),a()},o.onerror=()=>n(o.error)})}async function b_(e){return new Promise(t=>{let n=e.index("timestamp").openCursor(null,"prev"),l=0,i=[];n.onsuccess=o=>{let r=o.target.result;r?(l++,l>y_&&i.push(r.primaryKey),r.continue()):(i.forEach(s=>e.delete(s)),i.length>0&&ga.debug(`Netejats ${i.length} backups antics`),t())}})}async function xv(e){ga.debug("\u{1F4BE} Creant backup de seguretat abans de migraci\xF3...");let t=await A_(e,"pre-migration");return ga.debug("\u2705 Backup de seguretat creat"),t}var Me=x.withScope("DataMigration"),__="migration-v2.0.1-encryption",D_="migration-progress",Sm=class{constructor(){this.migrationKey=__,this.migrationStatus=null,this.isRunning=!1}async runIfNeeded(){if(this.isRunning)return Me.debug("Migraci\xF3 ja en curs, saltant..."),{alreadyRunning:!0};if(await this.isAlreadyMigrated())return Me.debug("\u2705 Migraci\xF3 ja completada anteriorment"),{alreadyMigrated:!0};Me.debug("\u{1F50D} Comprovant si cal migrar dietes...");try{this.isRunning=!0,await rr()||(Me.debug("\u{1F510} Inicialitzant sistema de claus..."),await on());let t=await ya(),a=t.filter(l=>!lr(l));return a.length===0?(Me.debug("\u2705 No hi ha dietes per migrar"),await this.markAsMigrated(),{migrated:0,total:t.length,errors:0}):(Me.debug(`\u{1F4CA} Trobades ${a.length} dietes per migrar (de ${t.length} totals)`),await this.migrate(a))}catch(t){throw Me.error("\u274C Error en runIfNeeded:",t),t}finally{this.isRunning=!1}}async migrate(t){let a=t.length,n=0,l=0,i=[];try{Me.debug("\u{1F4BE} Creant backup de seguretat..."),await xv(t),Me.debug("\u2705 Backup de seguretat creat"),this.showMigrationStartNotification(a);let o=await Kn();for(let r=0;r<t.length;r++){let s=t[r];try{await this.migrateSingleDiet(s,o),n++,(n%5===0||n===a)&&this.updateMigrationProgress(n,a)}catch(u){Me.error(`\u274C Error migrant dieta ${s.id}:`,u),l++,i.push({dietId:s.id,error:u.message})}}return await this.markAsMigrated(),this.showMigrationResult(n,l,a),Me.debug(`\u2705 Migraci\xF3 completada: ${n}/${a} (${l} errors)`),{migrated:n,errors:l,total:a,errorDetails:i.length>0?i:void 0}}catch(o){throw Me.error("\u274C Error durant la migraci\xF3:",o),this.showMigrationError(o),o}}async migrateSingleDiet(t,a){try{let n=await ir(t,a),l=await or(n,a),i=this.extractSensitiveData(t),o=this.extractSensitiveData(l),r=JSON.stringify(i),s=JSON.stringify(o);if(r!==s)throw new Error("Validation failed: data mismatch after decrypt");await sr(t.id,n),Me.debug(`\u2705 Dieta ${t.id} migrada i validada`)}catch(n){throw Me.error(`Error migrant dieta ${t.id}:`,n),n}}extractSensitiveData(t){return{person1:t.person1||"",person2:t.person2||"",vehicleNumber:t.vehicleNumber||"",signatureConductor:t.signatureConductor||"",signatureAjudant:t.signatureAjudant||"",services:(t.services||[]).map(a=>({serviceNumber:a.serviceNumber||"",origin:a.origin||"",destination:a.destination||"",notes:a.notes||""}))}}showMigrationStartNotification(t){D(`\u{1F512} Protegint ${t} dietes...`,{duration:2e3,type:"info"})}updateMigrationProgress(t,a){let n=Math.round(t/a*100);Me.debug(`\u{1F504} Migraci\xF3: ${t}/${a} (${n}%)`),D(`\u{1F512} Protegint dades... ${t}/${a}`,{duration:1e3,id:D_,type:"info"})}showMigrationResult(t,a,n){a===0?D(`\u2705 ${t} dietes ara estan protegides`,{duration:4e3,type:"success"}):t>0?D(`\u26A0\uFE0F ${t} dietes protegides, ${a} amb errors`,{duration:5e3,type:"warning"}):D("\u274C Error en la migraci\xF3 de dietes",{duration:5e3,type:"error"})}showMigrationError(t){D(`\u274C Error en la migraci\xF3: ${t.message}`,{duration:5e3,type:"error"})}async isAlreadyMigrated(){return localStorage.getItem(this.migrationKey)==="completed"}async markAsMigrated(){localStorage.setItem(this.migrationKey,"completed"),localStorage.setItem(`${this.migrationKey}-date`,new Date().toISOString()),Me.debug("\u2705 Migraci\xF3 marcada com a completada")}async resetMigrationStatus(){localStorage.removeItem(this.migrationKey),localStorage.removeItem(`${this.migrationKey}-date`),Me.warn("\u26A0\uFE0F Estat de migraci\xF3 resetejat")}getMigrationStatus(){let t=localStorage.getItem(this.migrationKey)==="completed",a=localStorage.getItem(`${this.migrationKey}-date`);return{completed:t,date:a?new Date(a):null,isRunning:this.isRunning}}},Uv=new Sm;var lt=x.withScope("Init");function O_(){let e=document.getElementById(j.DONATION_LINK_ID);if(!e)return lt.warn("No s'ha trobat l'enlla\xE7 de donaci\xF3.");let t=vv();try{let a=new URL(e.href);a.searchParams.set("custom",t),e.href=a.toString(),lt.info("Enlla\xE7 de donaci\xF3 actualitzat amb ID an\xF2nim.")}catch(a){lt.error("Error modificant l'URL de donaci\xF3:",a)}}async function zv(){try{lt.info("initializeApp() iniciant...");try{lt.debug("\u{1F510} Inicialitzant sistema de claus..."),await on(),lt.debug("\u2705 Sistema de claus inicialitzat")}catch(t){lt.warn("Error inicialitzant sistema de claus (continuant sense encriptaci\xF3):",t)}ig(),rg(),await km(),setTimeout(async()=>{try{lt.debug("\u{1F504} Executant migraci\xF3 autom\xE0tica...");let t=await Uv.runIfNeeded();lt.debug("\u{1F4CA} Resultat migraci\xF3:",t)}catch(t){lt.error("Error en migraci\xF3 autom\xE0tica:",t)}},1e3),wm(),Fg(),il.init(),hv(),wv(),eE(),jg(),iE(),oE(),Cv(),Gg(),rE(),sE(),mE(),lE(),O_(),cE(),Lm(),Jg(),kg(),$g();let e=document.getElementById("service-type");if(e){let t=localStorage.getItem(Cm.USER_SELECTED_SERVICE_TYPE);(t==="TSU"||t==="TSNU")&&(e.value=t,lt.debug(`[LocalStorage] Carregat tipus de servei: ${t}`)),Yn(e.value)}Fn(),sg(),Ov(),lt.info("initializeApp() completada.")}catch(e){lt.error("Error en la inicialitzaci\xF3 de l'app:",e)}}var Ea=Ei(fl()),hm=Ei(tm());function N_(){let[e,t]=Ea.default.useState(navigator.onLine),[a,n]=Ea.default.useState(!0);return Ea.default.useEffect(()=>{let l=null,i=()=>{let o=navigator.onLine;t(o),o?(l&&clearTimeout(l),l=window.setTimeout(()=>n(!1),3e3)):(l&&(clearTimeout(l),l=null),n(!0))};return window.addEventListener("online",i),window.addEventListener("offline",i),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",i),l&&clearTimeout(l)}},[]),a?Ea.default.createElement(Ea.default.Fragment,null,Ea.default.createElement("div",{className:`connection-indicator ${e?"online":"offline"}`,onClick:e?void 0:()=>{confirm("En modo offline algunas funciones pueden estar limitadas. \xBFQuieres recargar la app?")&&window.location.reload()},title:e?void 0:"Haz clic para recargar (algunas funciones requieren conexi\xF3n)"},e?"\u{1F7E2} Online":"\u26A0\uFE0F Offline - Funciones limitadas")):null}function Pv(){try{if(typeof Ea.default>"u"||typeof hm.default>"u")return;let e=document.getElementById("react-connection-container");e&&!e.hasChildNodes()&&hm.default.createRoot(e).render(Ea.default.createElement(N_,null))}catch{}}if(typeof console<"u"){let e=console.warn;console.warn=function(...t){let a=t[0];typeof a=="string"&&a.includes("Ignored attempt to cancel a touchmove event")||e.apply(console,t)}}window.getOCRFeedbackManager=Go;window.createOCRFeedbackManager=nm;window.destroyOCRFeedbackManager=iv;async function Vv(){try{document.body.classList.add("app-ready"),document.body.classList.remove("no-js"),await zv(),gg(),Pv()}catch{window.location.reload()}}function L_(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Vv,{once:!0}):Vv()}L_();})();
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
