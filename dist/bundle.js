var bT=Object.create;var xc=Object.defineProperty;var DT=Object.getOwnPropertyDescriptor;var _T=Object.getOwnPropertyNames;var OT=Object.getPrototypeOf,NT=Object.prototype.hasOwnProperty;var LT=(e,t)=>()=>(e&&(t=e(e=0)),t);var Oa=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),MT=(e,t)=>{for(var a in t)xc(e,a,{get:t[a],enumerable:!0})},RT=(e,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of _T(t))!NT.call(e,l)&&l!==a&&xc(e,l,{get:()=>t[l],enumerable:!(n=DT(t,l))||n.enumerable});return e};var Uc=(e,t,a)=>(a=e!=null?bT(OT(e)):{},RT(t||!e||!e.__esModule?xc(a,"default",{value:e,enumerable:!0}):a,e));var Qm={};MT(Qm,{cancelAllToasts:()=>zT,showToast:()=>A});function wT(e){if(window.__muteToasts===!0)return!0;let t=window.__toastBlocklist;if(!t||!Array.isArray(t)||t.length===0)return!1;for(let a of t)if(a instanceof RegExp&&typeof e=="string"){if(a.test(e))return!0}else if(typeof a=="string"&&String(e)===a)return!0;return!1}function BT(e,t,a){if(!e||typeof e!="string"||!e.trim())throw new Error("El missatge del toast \xE9s obligatori i ha de ser una cadena no buida.");if(!_e.ALLOWED_TYPES.includes(t))throw new Error(`Tipus de toast inv\xE0lid: ${t}. Ha de ser un de: ${_e.ALLOWED_TYPES.join(", ")}`);if(!Number.isInteger(a)||a<0||a>6e4)throw new Error("La durada ha d'estar entre 0 i 60000 ms.")}function xT(){return!q.container&&(q.container=document.getElementById(_e.CONTAINER_ID),!q.container)?(console.error(`[Toast] Contenidor '#${_e.CONTAINER_ID}' no trobat.`),null):q.container}function Vc(e){q.currentTimeout&&(clearTimeout(q.currentTimeout),q.currentTimeout=null),e&&(e.classList.add(_e.ANIMATION.EXIT),e.addEventListener("transitionend",()=>e.remove(),{once:!0})),q.isVisible=!1,Fm()}function UT(e){let t={info:"\u2139\uFE0F",success:"\u2713",error:"\u2715",warning:"\u26A0"};return t[e]||t.info}function PT({message:e,type:t,duration:a,options:n}){let l=xT();if(!l)return;let i=document.createElement("div");i.className=`${_e.TOAST_CLASS} ${t}`,i.setAttribute("role","alert"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true");let r=document.createElement("span");r.className="toast-icon",r.textContent=UT(t),r.setAttribute("aria-hidden","true"),i.appendChild(r);let o=document.createElement("span");o.className="toast-message",o.textContent=IT(e),i.appendChild(o);let s=!0;if(n?.undoCallback instanceof Function){let c=document.createElement("button");c.type="button",c.className=_e.UNDO_BTN_CLASS,c.textContent="Deshacer",c.setAttribute("aria-label","Deshacer la acci\xF3n"),c.addEventListener("click",()=>{s=!1;try{n.undoCallback()}finally{Vc(i)}}),i.appendChild(c)}l.appendChild(i),requestAnimationFrame(()=>{i.classList.add(_e.ANIMATION.ENTER)}),q.currentTimeout=setTimeout(()=>{s&&n?.onExpire instanceof Function&&n.onExpire(),Vc(i)},a)}function Fm(){q.isVisible||q.queue.length===0||(q.isVisible=!0,q.queue.sort((e,t)=>t.priority-e.priority),PT(q.queue.shift()))}function A(e,t=_e.DEFAULT_TYPE,a=_e.DEFAULT_DURATION,n={}){if(wT(e))return;BT(e,t,a);let l=n.priority??_e.DEFAULT_PRIORITY,i={message:e,type:t,duration:a,priority:l,options:n};if(!(n.queueable!==!1)&&q.isVisible){if(q.container){let s=q.container.querySelector(`.${_e.TOAST_CLASS}:not(.${_e.ANIMATION.EXIT})`);s&&s.remove()}Vc()}q.queue.length>=_e.MAX_QUEUE_SIZE&&q.queue.sort((s,c)=>s.priority-c.priority).shift();let o=q.queue.findIndex(s=>s.priority<l);o===-1?q.queue.push(i):q.queue.splice(o,0,i),VT(),Fm()}function zT(){if(q.queue=[],q.container){let e=q.container.querySelector(`.${_e.TOAST_CLASS}`);e&&e.remove()}q.currentTimeout&&clearTimeout(q.currentTimeout),q.currentTimeout=null,q.isVisible=!1}function VT(){let e="toast-undo-style";if(document.getElementById(e))return;let t=document.body.getAttribute("data-csp-nonce"),a=document.createElement("style");a.id=e,t&&a.setAttribute("nonce",t),a.textContent=`
    .${_e.UNDO_BTN_CLASS} {
      margin-left: auto; 
      padding: 8px 12px; 
      background: none;
      border: none;
      border-radius: 4px; 
      cursor: pointer;     
      font-weight: 600;
      font-size: 0.875rem; 
      text-transform: uppercase; 
      letter-spacing: 0.08em; 
      color: inherit; 
      transition: background-color 0.2s ease;
    }
    .${_e.UNDO_BTN_CLASS}:hover {
      background-color: rgba(255, 255, 255, 0.15); 
    }
  `,document.head.appendChild(a)}var _e,q,IT,Ot=LT(()=>{_e={CONTAINER_ID:"toast-container",TOAST_CLASS:"toast",DEFAULT_DURATION:3e3,DEFAULT_TYPE:"info",ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1},q={queue:[],isVisible:!1,container:null,currentTimeout:null},IT=e=>e&&typeof e=="string"?e.replace(/[<>&]/g,""):""});var lE=Oa(M=>{"use strict";var qu=Symbol.for("react.transitional.element"),b0=Symbol.for("react.portal"),D0=Symbol.for("react.fragment"),_0=Symbol.for("react.strict_mode"),O0=Symbol.for("react.profiler"),N0=Symbol.for("react.consumer"),L0=Symbol.for("react.context"),M0=Symbol.for("react.forward_ref"),R0=Symbol.for("react.suspense"),I0=Symbol.for("react.memo"),$p=Symbol.for("react.lazy"),w0=Symbol.for("react.activity"),Qp=Symbol.iterator;function B0(e){return e===null||typeof e!="object"?null:(e=Qp&&e[Qp]||e["@@iterator"],typeof e=="function"?e:null)}var Wp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eE=Object.assign,tE={};function Ml(e,t,a){this.props=e,this.context=t,this.refs=tE,this.updater=a||Wp}Ml.prototype.isReactComponent={};Ml.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ml.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function aE(){}aE.prototype=Ml.prototype;function ju(e,t,a){this.props=e,this.context=t,this.refs=tE,this.updater=a||Wp}var Yu=ju.prototype=new aE;Yu.constructor=ju;eE(Yu,Ml.prototype);Yu.isPureReactComponent=!0;var Zp=Array.isArray;function Gu(){}var k={H:null,A:null,T:null,S:null},nE=Object.prototype.hasOwnProperty;function Xu(e,t,a){var n=a.ref;return{$$typeof:qu,type:e,key:t,ref:n!==void 0?n:null,props:a}}function x0(e,t){return Xu(e.type,t,e.props)}function Ku(e){return typeof e=="object"&&e!==null&&e.$$typeof===qu}function U0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var kp=/\/+/g;function Hu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U0(""+e.key):t.toString(36)}function P0(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Gu,Gu):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ll(e,t,a,n,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(i){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case qu:case b0:r=!0;break;case $p:return r=e._init,Ll(r(e._payload),t,a,n,l)}}if(r)return l=l(e),r=n===""?"."+Hu(e,0):n,Zp(l)?(a="",r!=null&&(a=r.replace(kp,"$&/")+"/"),Ll(l,t,a,"",function(c){return c})):l!=null&&(Ku(l)&&(l=x0(l,a+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(kp,"$&/")+"/")+r)),t.push(l)),1;r=0;var o=n===""?".":n+":";if(Zp(e))for(var s=0;s<e.length;s++)n=e[s],i=o+Hu(n,s),r+=Ll(n,t,a,i,l);else if(s=B0(e),typeof s=="function")for(e=s.call(e),s=0;!(n=e.next()).done;)n=n.value,i=o+Hu(n,s++),r+=Ll(n,t,a,i,l);else if(i==="object"){if(typeof e.then=="function")return Ll(P0(e),t,a,n,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function ko(e,t,a){if(e==null)return e;var n=[],l=0;return Ll(e,n,"","",function(i){return t.call(a,i,l++)}),n}function z0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jp=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},V0={map:ko,forEach:function(e,t,a){ko(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return ko(e,function(){t++}),t},toArray:function(e){return ko(e,function(t){return t})||[]},only:function(e){if(!Ku(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Activity=w0;M.Children=V0;M.Component=Ml;M.Fragment=D0;M.Profiler=O0;M.PureComponent=ju;M.StrictMode=_0;M.Suspense=R0;M.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k;M.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}};M.cache=function(e){return function(){return e.apply(null,arguments)}};M.cacheSignal=function(){return null};M.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=eE({},e.props),l=e.key;if(t!=null)for(i in t.key!==void 0&&(l=""+t.key),t)!nE.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var r=Array(i),o=0;o<i;o++)r[o]=arguments[o+2];n.children=r}return Xu(e.type,l,n)};M.createContext=function(e){return e={$$typeof:L0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:N0,_context:e},e};M.createElement=function(e,t,a){var n,l={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)nE.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(l[n]=t[n]);var r=arguments.length-2;if(r===1)l.children=a;else if(1<r){for(var o=Array(r),s=0;s<r;s++)o[s]=arguments[s+2];l.children=o}if(e&&e.defaultProps)for(n in r=e.defaultProps,r)l[n]===void 0&&(l[n]=r[n]);return Xu(e,i,l)};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:M0,render:e}};M.isValidElement=Ku;M.lazy=function(e){return{$$typeof:$p,_payload:{_status:-1,_result:e},_init:z0}};M.memo=function(e,t){return{$$typeof:I0,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=k.T,a={};k.T=a;try{var n=e(),l=k.S;l!==null&&l(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Gu,Jp)}catch(i){Jp(i)}finally{t!==null&&a.types!==null&&(t.types=a.types),k.T=t}};M.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()};M.use=function(e){return k.H.use(e)};M.useActionState=function(e,t,a){return k.H.useActionState(e,t,a)};M.useCallback=function(e,t){return k.H.useCallback(e,t)};M.useContext=function(e){return k.H.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)};M.useEffect=function(e,t){return k.H.useEffect(e,t)};M.useEffectEvent=function(e){return k.H.useEffectEvent(e)};M.useId=function(){return k.H.useId()};M.useImperativeHandle=function(e,t,a){return k.H.useImperativeHandle(e,t,a)};M.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)};M.useMemo=function(e,t){return k.H.useMemo(e,t)};M.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)};M.useReducer=function(e,t,a){return k.H.useReducer(e,t,a)};M.useRef=function(e){return k.H.useRef(e)};M.useState=function(e){return k.H.useState(e)};M.useSyncExternalStore=function(e,t,a){return k.H.useSyncExternalStore(e,t,a)};M.useTransition=function(){return k.H.useTransition()};M.version="19.2.0"});var tr=Oa((a1,iE)=>{"use strict";iE.exports=lE()});var pE=Oa(te=>{"use strict";function ku(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,l=e[n];if(0<Jo(l,t))e[n]=t,e[a]=l,a=n;else break e}}function Gt(e){return e.length===0?null:e[0]}function Wo(e){if(e.length===0)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,l=e.length,i=l>>>1;n<i;){var r=2*(n+1)-1,o=e[r],s=r+1,c=e[s];if(0>Jo(o,a))s<l&&0>Jo(c,o)?(e[n]=c,e[s]=a,n=s):(e[n]=o,e[r]=a,n=r);else if(s<l&&0>Jo(c,a))e[n]=c,e[s]=a,n=s;else break e}}return t}function Jo(e,t){var a=e.sortIndex-t.sortIndex;return a!==0?a:e.id-t.id}te.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(rE=performance,te.unstable_now=function(){return rE.now()}):(Fu=Date,oE=Fu.now(),te.unstable_now=function(){return Fu.now()-oE});var rE,Fu,oE,ra=[],Va=[],H0=1,Et=null,Ue=3,Ju=!1,ar=!1,nr=!1,$u=!1,uE=typeof setTimeout=="function"?setTimeout:null,dE=typeof clearTimeout=="function"?clearTimeout:null,sE=typeof setImmediate<"u"?setImmediate:null;function $o(e){for(var t=Gt(Va);t!==null;){if(t.callback===null)Wo(Va);else if(t.startTime<=e)Wo(Va),t.sortIndex=t.expirationTime,ku(ra,t);else break;t=Gt(Va)}}function Wu(e){if(nr=!1,$o(e),!ar)if(Gt(ra)!==null)ar=!0,Il||(Il=!0,Rl());else{var t=Gt(Va);t!==null&&ed(Wu,t.startTime-e)}}var Il=!1,lr=-1,fE=5,mE=-1;function gE(){return $u?!0:!(te.unstable_now()-mE<fE)}function Qu(){if($u=!1,Il){var e=te.unstable_now();mE=e;var t=!0;try{e:{ar=!1,nr&&(nr=!1,dE(lr),lr=-1),Ju=!0;var a=Ue;try{t:{for($o(e),Et=Gt(ra);Et!==null&&!(Et.expirationTime>e&&gE());){var n=Et.callback;if(typeof n=="function"){Et.callback=null,Ue=Et.priorityLevel;var l=n(Et.expirationTime<=e);if(e=te.unstable_now(),typeof l=="function"){Et.callback=l,$o(e),t=!0;break t}Et===Gt(ra)&&Wo(ra),$o(e)}else Wo(ra);Et=Gt(ra)}if(Et!==null)t=!0;else{var i=Gt(Va);i!==null&&ed(Wu,i.startTime-e),t=!1}}break e}finally{Et=null,Ue=a,Ju=!1}t=void 0}}finally{t?Rl():Il=!1}}}var Rl;typeof sE=="function"?Rl=function(){sE(Qu)}:typeof MessageChannel<"u"?(Zu=new MessageChannel,cE=Zu.port2,Zu.port1.onmessage=Qu,Rl=function(){cE.postMessage(null)}):Rl=function(){uE(Qu,0)};var Zu,cE;function ed(e,t){lr=uE(function(){e(te.unstable_now())},t)}te.unstable_IdlePriority=5;te.unstable_ImmediatePriority=1;te.unstable_LowPriority=4;te.unstable_NormalPriority=3;te.unstable_Profiling=null;te.unstable_UserBlockingPriority=2;te.unstable_cancelCallback=function(e){e.callback=null};te.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fE=0<e?Math.floor(1e3/e):5};te.unstable_getCurrentPriorityLevel=function(){return Ue};te.unstable_next=function(e){switch(Ue){case 1:case 2:case 3:var t=3;break;default:t=Ue}var a=Ue;Ue=t;try{return e()}finally{Ue=a}};te.unstable_requestPaint=function(){$u=!0};te.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=Ue;Ue=e;try{return t()}finally{Ue=a}};te.unstable_scheduleCallback=function(e,t,a){var n=te.unstable_now();switch(typeof a=="object"&&a!==null?(a=a.delay,a=typeof a=="number"&&0<a?n+a:n):a=n,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=a+l,e={id:H0++,callback:t,priorityLevel:e,startTime:a,expirationTime:l,sortIndex:-1},a>n?(e.sortIndex=a,ku(Va,e),Gt(ra)===null&&e===Gt(Va)&&(nr?(dE(lr),lr=-1):nr=!0,ed(Wu,a-n))):(e.sortIndex=l,ku(ra,e),ar||Ju||(ar=!0,Il||(Il=!0,Rl()))),e};te.unstable_shouldYield=gE;te.unstable_wrapCallback=function(e){var t=Ue;return function(){var a=Ue;Ue=t;try{return e.apply(this,arguments)}finally{Ue=a}}}});var hE=Oa((l1,EE)=>{"use strict";EE.exports=pE()});var yE=Oa(He=>{"use strict";var G0=tr();function SE(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ha(){}var Ve={d:{f:Ha,r:function(){throw Error(SE(522))},D:Ha,C:Ha,L:Ha,m:Ha,X:Ha,S:Ha,M:Ha},p:0,findDOMNode:null},q0=Symbol.for("react.portal");function j0(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var ir=G0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function es(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ve;He.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(SE(299));return j0(e,t,null,a)};He.flushSync=function(e){var t=ir.T,a=Ve.p;try{if(ir.T=null,Ve.p=2,e)return e()}finally{ir.T=t,Ve.p=a,Ve.d.f()}};He.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ve.d.C(e,t))};He.prefetchDNS=function(e){typeof e=="string"&&Ve.d.D(e)};He.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=es(a,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?Ve.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:l,fetchPriority:i}):a==="script"&&Ve.d.X(e,{crossOrigin:n,integrity:l,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};He.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=es(t.as,t.crossOrigin);Ve.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ve.d.M(e)};He.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=es(a,t.crossOrigin);Ve.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};He.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=es(t.as,t.crossOrigin);Ve.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ve.d.m(e)};He.requestFormReset=function(e){Ve.d.r(e)};He.unstable_batchedUpdates=function(e,t){return e(t)};He.useFormState=function(e,t,a){return ir.H.useFormState(e,t,a)};He.useFormStatus=function(){return ir.H.useHostTransitionStatus()};He.version="19.2.0"});var AE=Oa((r1,TE)=>{"use strict";function vE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vE)}catch(e){console.error(e)}}vE(),TE.exports=yE()});var Bv=Oa(Dc=>{"use strict";var ye=hE(),Qh=tr(),Y0=AE();function y(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xr(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function kh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jh(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function CE(e){if(Xr(e)!==e)throw Error(y(188))}function X0(e){var t=e.alternate;if(!t){if(t=Xr(e),t===null)throw Error(y(188));return t!==e?null:e}for(var a=e,n=t;;){var l=a.return;if(l===null)break;var i=l.alternate;if(i===null){if(n=l.return,n!==null){a=n;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===a)return CE(l),e;if(i===n)return CE(l),t;i=i.sibling}throw Error(y(188))}if(a.return!==n.return)a=l,n=i;else{for(var r=!1,o=l.child;o;){if(o===a){r=!0,a=l,n=i;break}if(o===n){r=!0,n=l,a=i;break}o=o.sibling}if(!r){for(o=i.child;o;){if(o===a){r=!0,a=i,n=l;break}if(o===n){r=!0,n=i,a=l;break}o=o.sibling}if(!r)throw Error(y(189))}}if(a.alternate!==n)throw Error(y(190))}if(a.tag!==3)throw Error(y(188));return a.stateNode.current===a?e:t}function $h(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=$h(e),t!==null)return t;e=e.sibling}return null}var W=Object.assign,K0=Symbol.for("react.element"),ts=Symbol.for("react.transitional.element"),mr=Symbol.for("react.portal"),zl=Symbol.for("react.fragment"),Wh=Symbol.for("react.strict_mode"),Bd=Symbol.for("react.profiler"),eS=Symbol.for("react.consumer"),ga=Symbol.for("react.context"),Mf=Symbol.for("react.forward_ref"),xd=Symbol.for("react.suspense"),Ud=Symbol.for("react.suspense_list"),Rf=Symbol.for("react.memo"),Ga=Symbol.for("react.lazy");Symbol.for("react.scope");var Pd=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var F0=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var bE=Symbol.iterator;function rr(e){return e===null||typeof e!="object"?null:(e=bE&&e[bE]||e["@@iterator"],typeof e=="function"?e:null)}var Q0=Symbol.for("react.client.reference");function zd(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Q0?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zl:return"Fragment";case Bd:return"Profiler";case Wh:return"StrictMode";case xd:return"Suspense";case Ud:return"SuspenseList";case Pd:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case mr:return"Portal";case ga:return e.displayName||"Context";case eS:return(e._context.displayName||"Context")+".Consumer";case Mf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rf:return t=e.displayName||null,t!==null?t:zd(e.type)||"Memo";case Ga:t=e._payload,e=e._init;try{return zd(e(t))}catch{}}return null}var gr=Array.isArray,O=Qh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=Y0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,zn={pending:!1,data:null,method:null,action:null},Vd=[],Vl=-1;function Kt(e){return{current:e}}function De(e){0>Vl||(e.current=Vd[Vl],Vd[Vl]=null,Vl--)}function Z(e,t){Vl++,Vd[Vl]=e.current,e.current=t}var Xt=Kt(null),Rr=Kt(null),$a=Kt(null),Bs=Kt(null);function xs(e,t){switch(Z($a,t),Z(Rr,e),Z(Xt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Rh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Rh(t),e=vv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}De(Xt),Z(Xt,e)}function ni(){De(Xt),De(Rr),De($a)}function Hd(e){e.memoizedState!==null&&Z(Bs,e);var t=Xt.current,a=vv(t,e.type);t!==a&&(Z(Rr,e),Z(Xt,a))}function Us(e){Rr.current===e&&(De(Xt),De(Rr)),Bs.current===e&&(De(Bs),qr._currentValue=zn)}var td,DE;function Bn(e){if(td===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);td=t&&t[1]||"",DE=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+td+e+DE}var ad=!1;function nd(e,t){if(!e||ad)return"";ad=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(g){var u=g}Reflect.construct(e,[],p)}else{try{p.call()}catch(g){u=g}e.call(p.prototype)}}else{try{throw Error()}catch(g){u=g}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(g){if(g&&u&&typeof g.stack=="string")return[g.stack,u.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),r=i[0],o=i[1];if(r&&o){var s=r.split(`
`),c=o.split(`
`);for(l=n=0;n<s.length&&!s[n].includes("DetermineComponentFrameRoot");)n++;for(;l<c.length&&!c[l].includes("DetermineComponentFrameRoot");)l++;if(n===s.length||l===c.length)for(n=s.length-1,l=c.length-1;1<=n&&0<=l&&s[n]!==c[l];)l--;for(;1<=n&&0<=l;n--,l--)if(s[n]!==c[l]){if(n!==1||l!==1)do if(n--,l--,0>l||s[n]!==c[l]){var d=`
`+s[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=l);break}}}finally{ad=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Bn(a):""}function Z0(e,t){switch(e.tag){case 26:case 27:case 5:return Bn(e.type);case 16:return Bn("Lazy");case 13:return e.child!==t&&t!==null?Bn("Suspense Fallback"):Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return nd(e.type,!1);case 11:return nd(e.type.render,!1);case 1:return nd(e.type,!0);case 31:return Bn("Activity");default:return""}}function _E(e){try{var t="",a=null;do t+=Z0(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Gd=Object.prototype.hasOwnProperty,If=ye.unstable_scheduleCallback,ld=ye.unstable_cancelCallback,k0=ye.unstable_shouldYield,J0=ye.unstable_requestPaint,nt=ye.unstable_now,$0=ye.unstable_getCurrentPriorityLevel,tS=ye.unstable_ImmediatePriority,aS=ye.unstable_UserBlockingPriority,Ps=ye.unstable_NormalPriority,W0=ye.unstable_LowPriority,nS=ye.unstable_IdlePriority,eC=ye.log,tC=ye.unstable_setDisableYieldValue,Kr=null,lt=null;function Fa(e){if(typeof eC=="function"&&tC(e),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Kr,e)}catch{}}var it=Math.clz32?Math.clz32:lC,aC=Math.log,nC=Math.LN2;function lC(e){return e>>>=0,e===0?32:31-(aC(e)/nC|0)|0}var as=256,ns=262144,ls=4194304;function xn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cc(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var l=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var o=n&134217727;return o!==0?(n=o&~i,n!==0?l=xn(n):(r&=o,r!==0?l=xn(r):a||(a=o&~e,a!==0&&(l=xn(a))))):(o=n&~i,o!==0?l=xn(o):r!==0?l=xn(r):a||(a=n&~e,a!==0&&(l=xn(a)))),l===0?0:t!==0&&t!==l&&(t&i)===0&&(i=l&-l,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:l}function Fr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function iC(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lS(){var e=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),e}function id(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Qr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function rC(e,t,a,n,l,i){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,s=e.expirationTimes,c=e.hiddenUpdates;for(a=r&~a;0<a;){var d=31-it(a),p=1<<d;o[d]=0,s[d]=-1;var u=c[d];if(u!==null)for(c[d]=null,d=0;d<u.length;d++){var g=u[d];g!==null&&(g.lane&=-536870913)}a&=~p}n!==0&&iS(e,n,0),i!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function iS(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-it(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function rS(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-it(a),l=1<<n;l&t|e[n]&t&&(e[n]|=t),a&=~l}}function oS(e,t){var a=t&-t;return a=(a&42)!==0?1:wf(a),(a&(e.suspendedLanes|t))!==0?0:a}function wf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bf(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sS(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Rv(e.type))}function OE(e,t){var a=G.p;try{return G.p=e,t()}finally{G.p=a}}var fn=Math.random().toString(36).slice(2),Me="__reactFiber$"+fn,Qe="__reactProps$"+fn,gi="__reactContainer$"+fn,qd="__reactEvents$"+fn,oC="__reactListeners$"+fn,sC="__reactHandles$"+fn,NE="__reactResources$"+fn,Zr="__reactMarker$"+fn;function xf(e){delete e[Me],delete e[Qe],delete e[qd],delete e[oC],delete e[sC]}function Hl(e){var t=e[Me];if(t)return t;for(var a=e.parentNode;a;){if(t=a[gi]||a[Me]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Uh(e);e!==null;){if(a=e[Me])return a;e=Uh(e)}return t}e=a,a=e.parentNode}return null}function pi(e){if(e=e[Me]||e[gi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function pr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(y(33))}function kl(e){var t=e[NE];return t||(t=e[NE]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function be(e){e[Zr]=!0}var cS=new Set,uS={};function Qn(e,t){li(e,t),li(e+"Capture",t)}function li(e,t){for(uS[e]=t,e=0;e<t.length;e++)cS.add(t[e])}var cC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),LE={},ME={};function uC(e){return Gd.call(ME,e)?!0:Gd.call(LE,e)?!1:cC.test(e)?ME[e]=!0:(LE[e]=!0,!1)}function ys(e,t,a){if(uC(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function is(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function oa(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function St(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dC(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jd(e){if(!e._valueTracker){var t=dS(e)?"checked":"value";e._valueTracker=dC(e,t,""+e[t])}}function fS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=dS(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fC=/[\n"\\]/g;function Tt(e){return e.replace(fC,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Yd(e,t,a,n,l,i,r,o){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+St(t)):e.value!==""+St(t)&&(e.value=""+St(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Xd(e,r,St(t)):a!=null?Xd(e,r,St(a)):n!=null&&e.removeAttribute("value"),l==null&&i!=null&&(e.defaultChecked=!!i),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+St(o):e.removeAttribute("name")}function mS(e,t,a,n,l,i,r,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){jd(e);return}a=a!=null?""+St(a):"",t=t!=null?""+St(t):a,o||t===e.value||(e.value=t),e.defaultValue=t}n=n??l,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),jd(e)}function Xd(e,t,a){t==="number"&&zs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Jl(e,t,a,n){if(e=e.options,t){t={};for(var l=0;l<a.length;l++)t["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=t.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&n&&(e[a].defaultSelected=!0)}else{for(a=""+St(a),t=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function gS(e,t,a){if(t!=null&&(t=""+St(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+St(a):""}function pS(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(y(92));if(gr(n)){if(1<n.length)throw Error(y(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=St(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),jd(e)}function ii(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var mC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function RE(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||mC.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function ES(e,t,a){if(t!=null&&typeof t!="object")throw Error(y(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var l in t)n=t[l],t.hasOwnProperty(l)&&a[l]!==n&&RE(e,l,n)}else for(var i in t)t.hasOwnProperty(i)&&RE(e,i,t[i])}function Uf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vs(e){return pC.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pa(){}var Kd=null;function Pf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gl=null,$l=null;function IE(e){var t=pi(e);if(t&&(e=t.stateNode)){var a=e[Qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(Yd(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var l=n[Qe]||null;if(!l)throw Error(y(90));Yd(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&fS(n)}break e;case"textarea":gS(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Jl(e,!!a.multiple,t,!1)}}}var rd=!1;function hS(e,t,a){if(rd)return e(t,a);rd=!0;try{var n=e(t);return n}finally{if(rd=!1,(Gl!==null||$l!==null)&&(Tc(),Gl&&(t=Gl,e=$l,$l=Gl=null,IE(t),e)))for(t=0;t<e.length;t++)IE(e[t])}}function Ir(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Qe]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(y(231,t,typeof a));return a}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fd=!1;if(va)try{wl={},Object.defineProperty(wl,"passive",{get:function(){Fd=!0}}),window.addEventListener("test",wl,wl),window.removeEventListener("test",wl,wl)}catch{Fd=!1}var wl,Qa=null,zf=null,Ts=null;function SS(){if(Ts)return Ts;var e,t=zf,a=t.length,n,l="value"in Qa?Qa.value:Qa.textContent,i=l.length;for(e=0;e<a&&t[e]===l[e];e++);var r=a-e;for(n=1;n<=r&&t[a-n]===l[i-n];n++);return Ts=l.slice(e,1<n?1-n:void 0)}function As(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rs(){return!0}function wE(){return!1}function Ze(e){function t(a,n,l,i,r){this._reactName=a,this._targetInst=l,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rs:wE,this.isPropagationStopped=wE,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uc=Ze(Zn),kr=W({},Zn,{view:0,detail:0}),EC=Ze(kr),od,sd,or,dc=W({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&e.type==="mousemove"?(od=e.screenX-or.screenX,sd=e.screenY-or.screenY):sd=od=0,or=e),od)},movementY:function(e){return"movementY"in e?e.movementY:sd}}),BE=Ze(dc),hC=W({},dc,{dataTransfer:0}),SC=Ze(hC),yC=W({},kr,{relatedTarget:0}),cd=Ze(yC),vC=W({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),TC=Ze(vC),AC=W({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CC=Ze(AC),bC=W({},Zn,{data:0}),xE=Ze(bC),DC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_C={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OC[e])?!!t[e]:!1}function Vf(){return NC}var LC=W({},kr,{key:function(e){if(e.key){var t=DC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_C[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vf,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MC=Ze(LC),RC=W({},dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UE=Ze(RC),IC=W({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vf}),wC=Ze(IC),BC=W({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),xC=Ze(BC),UC=W({},dc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PC=Ze(UC),zC=W({},Zn,{newState:0,oldState:0}),VC=Ze(zC),HC=[9,13,27,32],Hf=va&&"CompositionEvent"in window,Sr=null;va&&"documentMode"in document&&(Sr=document.documentMode);var GC=va&&"TextEvent"in window&&!Sr,yS=va&&(!Hf||Sr&&8<Sr&&11>=Sr),PE=" ",zE=!1;function vS(e,t){switch(e){case"keyup":return HC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ql=!1;function qC(e,t){switch(e){case"compositionend":return TS(t);case"keypress":return t.which!==32?null:(zE=!0,PE);case"textInput":return e=t.data,e===PE&&zE?null:e;default:return null}}function jC(e,t){if(ql)return e==="compositionend"||!Hf&&vS(e,t)?(e=SS(),Ts=zf=Qa=null,ql=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yS&&t.locale!=="ko"?null:t.data;default:return null}}var YC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YC[e.type]:t==="textarea"}function AS(e,t,a,n){Gl?$l?$l.push(n):$l=[n]:Gl=n,t=ac(t,"onChange"),0<t.length&&(a=new uc("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var yr=null,wr=null;function XC(e){hv(e,0)}function fc(e){var t=pr(e);if(fS(t))return e}function HE(e,t){if(e==="change")return t}var CS=!1;va&&(va?(ss="oninput"in document,ss||(ud=document.createElement("div"),ud.setAttribute("oninput","return;"),ss=typeof ud.oninput=="function"),os=ss):os=!1,CS=os&&(!document.documentMode||9<document.documentMode));var os,ss,ud;function GE(){yr&&(yr.detachEvent("onpropertychange",bS),wr=yr=null)}function bS(e){if(e.propertyName==="value"&&fc(wr)){var t=[];AS(t,wr,e,Pf(e)),hS(XC,t)}}function KC(e,t,a){e==="focusin"?(GE(),yr=t,wr=a,yr.attachEvent("onpropertychange",bS)):e==="focusout"&&GE()}function FC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fc(wr)}function QC(e,t){if(e==="click")return fc(t)}function ZC(e,t){if(e==="input"||e==="change")return fc(t)}function kC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ot=typeof Object.is=="function"?Object.is:kC;function Br(e,t){if(ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var l=a[n];if(!Gd.call(t,l)||!ot(e[l],t[l]))return!1}return!0}function qE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jE(e,t){var a=qE(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qE(a)}}function DS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?DS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _S(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=zs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=zs(e.document)}return t}function Gf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var JC=va&&"documentMode"in document&&11>=document.documentMode,jl=null,Qd=null,vr=null,Zd=!1;function YE(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zd||jl==null||jl!==zs(n)||(n=jl,"selectionStart"in n&&Gf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vr&&Br(vr,n)||(vr=n,n=ac(Qd,"onSelect"),0<n.length&&(t=new uc("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=jl)))}function wn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Yl={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionrun:wn("Transition","TransitionRun"),transitionstart:wn("Transition","TransitionStart"),transitioncancel:wn("Transition","TransitionCancel"),transitionend:wn("Transition","TransitionEnd")},dd={},OS={};va&&(OS=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function kn(e){if(dd[e])return dd[e];if(!Yl[e])return e;var t=Yl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in OS)return dd[e]=t[a];return e}var NS=kn("animationend"),LS=kn("animationiteration"),MS=kn("animationstart"),$C=kn("transitionrun"),WC=kn("transitionstart"),eb=kn("transitioncancel"),RS=kn("transitionend"),IS=new Map,kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kd.push("scrollEnd");function xt(e,t){IS.set(e,t),Qn(t,[e])}var Vs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ht=[],Xl=0,qf=0;function mc(){for(var e=Xl,t=qf=Xl=0;t<e;){var a=ht[t];ht[t++]=null;var n=ht[t];ht[t++]=null;var l=ht[t];ht[t++]=null;var i=ht[t];if(ht[t++]=null,n!==null&&l!==null){var r=n.pending;r===null?l.next=l:(l.next=r.next,r.next=l),n.pending=l}i!==0&&wS(a,l,i)}}function gc(e,t,a,n){ht[Xl++]=e,ht[Xl++]=t,ht[Xl++]=a,ht[Xl++]=n,qf|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function jf(e,t,a,n){return gc(e,t,a,n),Hs(e)}function Jn(e,t){return gc(e,null,null,t),Hs(e)}function wS(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var l=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(l=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,l&&t!==null&&(l=31-it(a),e=i.hiddenUpdates,n=e[l],n===null?e[l]=[t]:n.push(t),t.lane=a|536870912),i):null}function Hs(e){if(50<Lr)throw Lr=0,Sf=null,Error(y(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Kl={};function tb(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,a,n){return new tb(e,t,a,n)}function Yf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ha(e,t){var a=e.alternate;return a===null?(a=tt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function BS(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Cs(e,t,a,n,l,i){var r=0;if(n=e,typeof e=="function")Yf(e)&&(r=1);else if(typeof e=="string")r=lD(e,a,Xt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Pd:return e=tt(31,a,t,l),e.elementType=Pd,e.lanes=i,e;case zl:return Vn(a.children,l,i,t);case Wh:r=8,l|=24;break;case Bd:return e=tt(12,a,t,l|2),e.elementType=Bd,e.lanes=i,e;case xd:return e=tt(13,a,t,l),e.elementType=xd,e.lanes=i,e;case Ud:return e=tt(19,a,t,l),e.elementType=Ud,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ga:r=10;break e;case eS:r=9;break e;case Mf:r=11;break e;case Rf:r=14;break e;case Ga:r=16,n=null;break e}r=29,a=Error(y(130,e===null?"null":typeof e,"")),n=null}return t=tt(r,a,t,l),t.elementType=e,t.type=n,t.lanes=i,t}function Vn(e,t,a,n){return e=tt(7,e,n,t),e.lanes=a,e}function fd(e,t,a){return e=tt(6,e,null,t),e.lanes=a,e}function xS(e){var t=tt(18,null,null,0);return t.stateNode=e,t}function md(e,t,a){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var XE=new WeakMap;function At(e,t){if(typeof e=="object"&&e!==null){var a=XE.get(e);return a!==void 0?a:(t={value:e,source:t,stack:_E(t)},XE.set(e,t),t)}return{value:e,source:t,stack:_E(t)}}var Fl=[],Ql=0,Gs=null,xr=0,yt=[],vt=0,sn=null,qt=1,jt="";function fa(e,t){Fl[Ql++]=xr,Fl[Ql++]=Gs,Gs=e,xr=t}function US(e,t,a){yt[vt++]=qt,yt[vt++]=jt,yt[vt++]=sn,sn=e;var n=qt;e=jt;var l=32-it(n)-1;n&=~(1<<l),a+=1;var i=32-it(t)+l;if(30<i){var r=l-l%5;i=(n&(1<<r)-1).toString(32),n>>=r,l-=r,qt=1<<32-it(t)+l|a<<l|n,jt=i+e}else qt=1<<i|a<<l|n,jt=e}function Xf(e){e.return!==null&&(fa(e,1),US(e,1,0))}function Kf(e){for(;e===Gs;)Gs=Fl[--Ql],Fl[Ql]=null,xr=Fl[--Ql],Fl[Ql]=null;for(;e===sn;)sn=yt[--vt],yt[vt]=null,jt=yt[--vt],yt[vt]=null,qt=yt[--vt],yt[vt]=null}function PS(e,t){yt[vt++]=qt,yt[vt++]=jt,yt[vt++]=sn,qt=t.id,jt=t.overflow,sn=e}var Re=null,$=null,z=!1,Wa=null,Ct=!1,Jd=Error(y(519));function cn(e){var t=Error(y(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ur(At(t,e)),Jd}function KE(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Me]=e,t[Qe]=n,a){case"dialog":B("cancel",t),B("close",t);break;case"iframe":case"object":case"embed":B("load",t);break;case"video":case"audio":for(a=0;a<Hr.length;a++)B(Hr[a],t);break;case"source":B("error",t);break;case"img":case"image":case"link":B("error",t),B("load",t);break;case"details":B("toggle",t);break;case"input":B("invalid",t),mS(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":B("invalid",t);break;case"textarea":B("invalid",t),pS(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||yv(t.textContent,a)?(n.popover!=null&&(B("beforetoggle",t),B("toggle",t)),n.onScroll!=null&&B("scroll",t),n.onScrollEnd!=null&&B("scrollend",t),n.onClick!=null&&(t.onclick=pa),t=!0):t=!1,t||cn(e,!0)}function FE(e){for(Re=e.return;Re;)switch(Re.tag){case 5:case 31:case 13:Ct=!1;return;case 27:case 3:Ct=!0;return;default:Re=Re.return}}function Bl(e){if(e!==Re)return!1;if(!z)return FE(e),z=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Cf(e.type,e.memoizedProps)),a=!a),a&&$&&cn(e),FE(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));$=xh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));$=xh(e)}else t===27?(t=$,mn(e.type)?(e=Of,Of=null,$=e):$=t):$=Re?Dt(e.stateNode.nextSibling):null;return!0}function jn(){$=Re=null,z=!1}function gd(){var e=Wa;return e!==null&&(Ke===null?Ke=e:Ke.push.apply(Ke,e),Wa=null),e}function Ur(e){Wa===null?Wa=[e]:Wa.push(e)}var $d=Kt(null),$n=null,Ea=null;function ja(e,t,a){Z($d,t._currentValue),t._currentValue=a}function Sa(e){e._currentValue=$d.current,De($d)}function Wd(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function ef(e,t,a,n){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var i=l.dependencies;if(i!==null){var r=l.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=l;for(var s=0;s<t.length;s++)if(o.context===t[s]){i.lanes|=a,o=i.alternate,o!==null&&(o.lanes|=a),Wd(i.return,a,e),n||(r=null);break e}i=o.next}}else if(l.tag===18){if(r=l.return,r===null)throw Error(y(341));r.lanes|=a,i=r.alternate,i!==null&&(i.lanes|=a),Wd(r,a,e),r=null}else r=l.child;if(r!==null)r.return=l;else for(r=l;r!==null;){if(r===e){r=null;break}if(l=r.sibling,l!==null){l.return=r.return,r=l;break}r=r.return}l=r}}function Ei(e,t,a,n){e=null;for(var l=t,i=!1;l!==null;){if(!i){if((l.flags&524288)!==0)i=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var r=l.alternate;if(r===null)throw Error(y(387));if(r=r.memoizedProps,r!==null){var o=l.type;ot(l.pendingProps.value,r.value)||(e!==null?e.push(o):e=[o])}}else if(l===Bs.current){if(r=l.alternate,r===null)throw Error(y(387));r.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(qr):e=[qr])}l=l.return}e!==null&&ef(t,e,a,n),t.flags|=262144}function qs(e){for(e=e.firstContext;e!==null;){if(!ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Yn(e){$n=e,Ea=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ie(e){return zS($n,e)}function cs(e,t){return $n===null&&Yn(e),zS(e,t)}function zS(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ea===null){if(e===null)throw Error(y(308));Ea=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ea=Ea.next=t;return a}var ab=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},nb=ye.unstable_scheduleCallback,lb=ye.unstable_NormalPriority,Ee={$$typeof:ga,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new ab,data:new Map,refCount:0}}function Jr(e){e.refCount--,e.refCount===0&&nb(lb,function(){e.controller.abort()})}var Tr=null,tf=0,ri=0,Wl=null;function ib(e,t){if(Tr===null){var a=Tr=[];tf=0,ri=Sm(),Wl={status:"pending",value:void 0,then:function(n){a.push(n)}}}return tf++,t.then(QE,QE),t}function QE(){if(--tf===0&&Tr!==null){Wl!==null&&(Wl.status="fulfilled");var e=Tr;Tr=null,ri=0,Wl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function rb(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var l=0;l<a.length;l++)(0,a[l])(t)},function(l){for(n.status="rejected",n.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),n}var ZE=O.S;O.S=function(e,t){$y=nt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ib(e,t),ZE!==null&&ZE(e,t)};var Hn=Kt(null);function Qf(){var e=Hn.current;return e!==null?e:Q.pooledCache}function bs(e,t){t===null?Z(Hn,Hn.current):Z(Hn,t.pool)}function VS(){var e=Qf();return e===null?null:{parent:Ee._currentValue,pool:e}}var hi=Error(y(460)),Zf=Error(y(474)),pc=Error(y(542)),js={then:function(){}};function kE(e){return e=e.status,e==="fulfilled"||e==="rejected"}function HS(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(pa,pa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$E(e),e;default:if(typeof t.status=="string")t.then(pa,pa);else{if(e=Q,e!==null&&100<e.shellSuspendCounter)throw Error(y(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=n}},function(n){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$E(e),e}throw Gn=t,hi}}function Un(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gn=a,hi):a}}var Gn=null;function JE(){if(Gn===null)throw Error(y(459));var e=Gn;return Gn=null,e}function $E(e){if(e===hi||e===pc)throw Error(y(483))}var ei=null,Pr=0;function us(e){var t=Pr;return Pr+=1,ei===null&&(ei=[]),HS(ei,e,t)}function sr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ds(e,t){throw t.$$typeof===K0?Error(y(525)):(e=Object.prototype.toString.call(t),Error(y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function GS(e){function t(m,f){if(e){var E=m.deletions;E===null?(m.deletions=[f],m.flags|=16):E.push(f)}}function a(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function n(m){for(var f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function l(m,f){return m=ha(m,f),m.index=0,m.sibling=null,m}function i(m,f,E){return m.index=E,e?(E=m.alternate,E!==null?(E=E.index,E<f?(m.flags|=67108866,f):E):(m.flags|=67108866,f)):(m.flags|=1048576,f)}function r(m){return e&&m.alternate===null&&(m.flags|=67108866),m}function o(m,f,E,S){return f===null||f.tag!==6?(f=fd(E,m.mode,S),f.return=m,f):(f=l(f,E),f.return=m,f)}function s(m,f,E,S){var C=E.type;return C===zl?d(m,f,E.props.children,S,E.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ga&&Un(C)===f.type)?(f=l(f,E.props),sr(f,E),f.return=m,f):(f=Cs(E.type,E.key,E.props,null,m.mode,S),sr(f,E),f.return=m,f)}function c(m,f,E,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==E.containerInfo||f.stateNode.implementation!==E.implementation?(f=md(E,m.mode,S),f.return=m,f):(f=l(f,E.children||[]),f.return=m,f)}function d(m,f,E,S,C){return f===null||f.tag!==7?(f=Vn(E,m.mode,S,C),f.return=m,f):(f=l(f,E),f.return=m,f)}function p(m,f,E){if(typeof f=="string"&&f!==""||typeof f=="number"||typeof f=="bigint")return f=fd(""+f,m.mode,E),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ts:return E=Cs(f.type,f.key,f.props,null,m.mode,E),sr(E,f),E.return=m,E;case mr:return f=md(f,m.mode,E),f.return=m,f;case Ga:return f=Un(f),p(m,f,E)}if(gr(f)||rr(f))return f=Vn(f,m.mode,E,null),f.return=m,f;if(typeof f.then=="function")return p(m,us(f),E);if(f.$$typeof===ga)return p(m,cs(m,f),E);ds(m,f)}return null}function u(m,f,E,S){var C=f!==null?f.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return C!==null?null:o(m,f,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ts:return E.key===C?s(m,f,E,S):null;case mr:return E.key===C?c(m,f,E,S):null;case Ga:return E=Un(E),u(m,f,E,S)}if(gr(E)||rr(E))return C!==null?null:d(m,f,E,S,null);if(typeof E.then=="function")return u(m,f,us(E),S);if(E.$$typeof===ga)return u(m,f,cs(m,E),S);ds(m,E)}return null}function g(m,f,E,S,C){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return m=m.get(E)||null,o(f,m,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ts:return m=m.get(S.key===null?E:S.key)||null,s(f,m,S,C);case mr:return m=m.get(S.key===null?E:S.key)||null,c(f,m,S,C);case Ga:return S=Un(S),g(m,f,E,S,C)}if(gr(S)||rr(S))return m=m.get(E)||null,d(f,m,S,C,null);if(typeof S.then=="function")return g(m,f,E,us(S),C);if(S.$$typeof===ga)return g(m,f,E,cs(f,S),C);ds(f,S)}return null}function h(m,f,E,S){for(var C=null,I=null,T=f,_=f=0,b=null;T!==null&&_<E.length;_++){T.index>_?(b=T,T=null):b=T.sibling;var N=u(m,T,E[_],S);if(N===null){T===null&&(T=b);break}e&&T&&N.alternate===null&&t(m,T),f=i(N,f,_),I===null?C=N:I.sibling=N,I=N,T=b}if(_===E.length)return a(m,T),z&&fa(m,_),C;if(T===null){for(;_<E.length;_++)T=p(m,E[_],S),T!==null&&(f=i(T,f,_),I===null?C=T:I.sibling=T,I=T);return z&&fa(m,_),C}for(T=n(T);_<E.length;_++)b=g(T,m,_,E[_],S),b!==null&&(e&&b.alternate!==null&&T.delete(b.key===null?_:b.key),f=i(b,f,_),I===null?C=b:I.sibling=b,I=b);return e&&T.forEach(function(qe){return t(m,qe)}),z&&fa(m,_),C}function v(m,f,E,S){if(E==null)throw Error(y(151));for(var C=null,I=null,T=f,_=f=0,b=null,N=E.next();T!==null&&!N.done;_++,N=E.next()){T.index>_?(b=T,T=null):b=T.sibling;var qe=u(m,T,N.value,S);if(qe===null){T===null&&(T=b);break}e&&T&&qe.alternate===null&&t(m,T),f=i(qe,f,_),I===null?C=qe:I.sibling=qe,I=qe,T=b}if(N.done)return a(m,T),z&&fa(m,_),C;if(T===null){for(;!N.done;_++,N=E.next())N=p(m,N.value,S),N!==null&&(f=i(N,f,_),I===null?C=N:I.sibling=N,I=N);return z&&fa(m,_),C}for(T=n(T);!N.done;_++,N=E.next())N=g(T,m,_,N.value,S),N!==null&&(e&&N.alternate!==null&&T.delete(N.key===null?_:N.key),f=i(N,f,_),I===null?C=N:I.sibling=N,I=N);return e&&T.forEach(function(Ri){return t(m,Ri)}),z&&fa(m,_),C}function D(m,f,E,S){if(typeof E=="object"&&E!==null&&E.type===zl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ts:e:{for(var C=E.key;f!==null;){if(f.key===C){if(C=E.type,C===zl){if(f.tag===7){a(m,f.sibling),S=l(f,E.props.children),S.return=m,m=S;break e}}else if(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ga&&Un(C)===f.type){a(m,f.sibling),S=l(f,E.props),sr(S,E),S.return=m,m=S;break e}a(m,f);break}else t(m,f);f=f.sibling}E.type===zl?(S=Vn(E.props.children,m.mode,S,E.key),S.return=m,m=S):(S=Cs(E.type,E.key,E.props,null,m.mode,S),sr(S,E),S.return=m,m=S)}return r(m);case mr:e:{for(C=E.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===E.containerInfo&&f.stateNode.implementation===E.implementation){a(m,f.sibling),S=l(f,E.children||[]),S.return=m,m=S;break e}else{a(m,f);break}else t(m,f);f=f.sibling}S=md(E,m.mode,S),S.return=m,m=S}return r(m);case Ga:return E=Un(E),D(m,f,E,S)}if(gr(E))return h(m,f,E,S);if(rr(E)){if(C=rr(E),typeof C!="function")throw Error(y(150));return E=C.call(E),v(m,f,E,S)}if(typeof E.then=="function")return D(m,f,us(E),S);if(E.$$typeof===ga)return D(m,f,cs(m,E),S);ds(m,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,f!==null&&f.tag===6?(a(m,f.sibling),S=l(f,E),S.return=m,m=S):(a(m,f),S=fd(E,m.mode,S),S.return=m,m=S),r(m)):a(m,f)}return function(m,f,E,S){try{Pr=0;var C=D(m,f,E,S);return ei=null,C}catch(T){if(T===hi||T===pc)throw T;var I=tt(29,T,null,m.mode);return I.lanes=S,I.return=m,I}finally{}}}var Xn=GS(!0),qS=GS(!1),qa=!1;function kf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function en(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function tn(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(H&2)!==0){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,t=Hs(e),wS(e,null,a),t}return gc(e,n,t,a),Hs(e)}function Ar(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,rS(e,a)}}function pd(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var l=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?l=i=r:i=i.next=r,a=a.next}while(a!==null);i===null?l=i=t:i=i.next=t}else l=i=t;a={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var nf=!1;function Cr(){if(nf){var e=Wl;if(e!==null)throw e}}function br(e,t,a,n){nf=!1;var l=e.updateQueue;qa=!1;var i=l.firstBaseUpdate,r=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var s=o,c=s.next;s.next=null,r===null?i=c:r.next=c,r=s;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==r&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=s))}if(i!==null){var p=l.baseState;r=0,d=c=s=null,o=i;do{var u=o.lane&-536870913,g=u!==o.lane;if(g?(U&u)===u:(n&u)===u){u!==0&&u===ri&&(nf=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var h=e,v=o;u=t;var D=a;switch(v.tag){case 1:if(h=v.payload,typeof h=="function"){p=h.call(D,p,u);break e}p=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,u=typeof h=="function"?h.call(D,p,u):h,u==null)break e;p=W({},p,u);break e;case 2:qa=!0}}u=o.callback,u!==null&&(e.flags|=64,g&&(e.flags|=8192),g=l.callbacks,g===null?l.callbacks=[u]:g.push(u))}else g={lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=g,s=p):d=d.next=g,r|=u;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;g=o,o=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);d===null&&(s=p),l.baseState=s,l.firstBaseUpdate=c,l.lastBaseUpdate=d,i===null&&(l.shared.lanes=0),dn|=r,e.lanes=r,e.memoizedState=p}}function jS(e,t){if(typeof e!="function")throw Error(y(191,e));e.call(t)}function YS(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)jS(a[e],t)}var oi=Kt(null),Ys=Kt(0);function WE(e,t){e=ba,Z(Ys,e),Z(oi,t),ba=e|t.baseLanes}function lf(){Z(Ys,ba),Z(oi,oi.current)}function Jf(){ba=Ys.current,De(oi),De(Ys)}var st=Kt(null),bt=null;function Ya(e){var t=e.alternate;Z(se,se.current&1),Z(st,e),bt===null&&(t===null||oi.current!==null||t.memoizedState!==null)&&(bt=e)}function rf(e){Z(se,se.current),Z(st,e),bt===null&&(bt=e)}function XS(e){e.tag===22?(Z(se,se.current),Z(st,e),bt===null&&(bt=e)):Xa(e)}function Xa(){Z(se,se.current),Z(st,st.current)}function et(e){De(st),bt===e&&(bt=null),De(se)}var se=Kt(0);function Xs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Df(a)||_f(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ta=0,R=null,F=null,ge=null,Ks=!1,ti=!1,Kn=!1,Fs=0,zr=0,ai=null,ob=0;function le(){throw Error(y(321))}function $f(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ot(e[a],t[a]))return!1;return!0}function Wf(e,t,a,n,l,i){return Ta=i,R=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?Ay:um,Kn=!1,i=a(n,l),Kn=!1,ti&&(i=FS(t,a,n,l)),KS(e),i}function KS(e){O.H=Vr;var t=F!==null&&F.next!==null;if(Ta=0,ge=F=R=null,Ks=!1,zr=0,ai=null,t)throw Error(y(300));e===null||he||(e=e.dependencies,e!==null&&qs(e)&&(he=!0))}function FS(e,t,a,n){R=e;var l=0;do{if(ti&&(ai=null),zr=0,ti=!1,25<=l)throw Error(y(301));if(l+=1,ge=F=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}O.H=Cy,i=t(a,n)}while(ti);return i}function sb(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?$r(t):t,e=e.useState()[0],(F!==null?F.memoizedState:null)!==e&&(R.flags|=1024),t}function em(){var e=Fs!==0;return Fs=0,e}function tm(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function am(e){if(Ks){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ks=!1}Ta=0,ge=F=R=null,ti=!1,zr=Fs=0,ai=null}function Ge(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?R.memoizedState=ge=e:ge=ge.next=e,ge}function ce(){if(F===null){var e=R.alternate;e=e!==null?e.memoizedState:null}else e=F.next;var t=ge===null?R.memoizedState:ge.next;if(t!==null)ge=t,F=e;else{if(e===null)throw R.alternate===null?Error(y(467)):Error(y(310));F=e,e={memoizedState:F.memoizedState,baseState:F.baseState,baseQueue:F.baseQueue,queue:F.queue,next:null},ge===null?R.memoizedState=ge=e:ge=ge.next=e}return ge}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $r(e){var t=zr;return zr+=1,ai===null&&(ai=[]),e=HS(ai,e,t),t=R,(ge===null?t.memoizedState:ge.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?Ay:um),e}function hc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $r(e);if(e.$$typeof===ga)return Ie(e)}throw Error(y(438,String(e)))}function nm(e){var t=null,a=R.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=R.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ec(),R.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=F0;return t.index++,a}function Aa(e,t){return typeof t=="function"?t(e):t}function Ds(e){var t=ce();return lm(t,F,e)}function lm(e,t,a){var n=e.queue;if(n===null)throw Error(y(311));n.lastRenderedReducer=a;var l=e.baseQueue,i=n.pending;if(i!==null){if(l!==null){var r=l.next;l.next=i.next,i.next=r}t.baseQueue=l=i,n.pending=null}if(i=e.baseState,l===null)e.memoizedState=i;else{t=l.next;var o=r=null,s=null,c=t,d=!1;do{var p=c.lane&-536870913;if(p!==c.lane?(U&p)===p:(Ta&p)===p){var u=c.revertLane;if(u===0)s!==null&&(s=s.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===ri&&(d=!0);else if((Ta&u)===u){c=c.next,u===ri&&(d=!0);continue}else p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},s===null?(o=s=p,r=i):s=s.next=p,R.lanes|=u,dn|=u;p=c.action,Kn&&a(i,p),i=c.hasEagerState?c.eagerState:a(i,p)}else u={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},s===null?(o=s=u,r=i):s=s.next=u,R.lanes|=p,dn|=p;c=c.next}while(c!==null&&c!==t);if(s===null?r=i:s.next=o,!ot(i,e.memoizedState)&&(he=!0,d&&(a=Wl,a!==null)))throw a;e.memoizedState=i,e.baseState=r,e.baseQueue=s,n.lastRenderedState=i}return l===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ed(e){var t=ce(),a=t.queue;if(a===null)throw Error(y(311));a.lastRenderedReducer=e;var n=a.dispatch,l=a.pending,i=t.memoizedState;if(l!==null){a.pending=null;var r=l=l.next;do i=e(i,r.action),r=r.next;while(r!==l);ot(i,t.memoizedState)||(he=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function QS(e,t,a){var n=R,l=ce(),i=z;if(i){if(a===void 0)throw Error(y(407));a=a()}else a=t();var r=!ot((F||l).memoizedState,a);if(r&&(l.memoizedState=a,he=!0),l=l.queue,im(JS.bind(null,n,l,e),[e]),l.getSnapshot!==t||r||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,si(9,{destroy:void 0},kS.bind(null,n,l,a,t),null),Q===null)throw Error(y(349));i||(Ta&127)!==0||ZS(n,t,a)}return a}function ZS(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=R.updateQueue,t===null?(t=Ec(),R.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function kS(e,t,a,n){t.value=a,t.getSnapshot=n,$S(t)&&WS(e)}function JS(e,t,a){return a(function(){$S(t)&&WS(e)})}function $S(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ot(e,a)}catch{return!0}}function WS(e){var t=Jn(e,2);t!==null&&Fe(t,e,2)}function of(e){var t=Ge();if(typeof e=="function"){var a=e;if(e=a(),Kn){Fa(!0);try{a()}finally{Fa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t}function ey(e,t,a,n){return e.baseState=a,lm(e,F,typeof n=="function"?n:Aa)}function cb(e,t,a,n,l){if(yc(e))throw Error(y(485));if(e=t.action,e!==null){var i={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};O.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,ty(t,i)):(i.next=a.next,t.pending=a.next=i)}}function ty(e,t){var a=t.action,n=t.payload,l=e.state;if(t.isTransition){var i=O.T,r={};O.T=r;try{var o=a(l,n),s=O.S;s!==null&&s(r,o),eh(e,t,o)}catch(c){sf(e,t,c)}finally{i!==null&&r.types!==null&&(i.types=r.types),O.T=i}}else try{i=a(l,n),eh(e,t,i)}catch(c){sf(e,t,c)}}function eh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){th(e,t,n)},function(n){return sf(e,t,n)}):th(e,t,a)}function th(e,t,a){t.status="fulfilled",t.value=a,ay(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,ty(e,a)))}function sf(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,ay(t),t=t.next;while(t!==n)}e.action=null}function ay(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ny(e,t){return t}function ah(e,t){if(z){var a=Q.formState;if(a!==null){e:{var n=R;if(z){if($){t:{for(var l=$,i=Ct;l.nodeType!==8;){if(!i){l=null;break t}if(l=Dt(l.nextSibling),l===null){l=null;break t}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){$=Dt(l.nextSibling),n=l.data==="F!";break e}}cn(n)}n=!1}n&&(t=a[0])}}return a=Ge(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:t},a.queue=n,a=yy.bind(null,R,n),n.dispatch=a,n=of(!1),i=cm.bind(null,R,!1,n.queue),n=Ge(),l={state:t,dispatch:null,action:e,pending:null},n.queue=l,a=cb.bind(null,R,l,i,a),l.dispatch=a,n.memoizedState=e,[t,a,!1]}function nh(e){var t=ce();return ly(t,F,e)}function ly(e,t,a){if(t=lm(e,t,ny)[0],e=Ds(Aa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=$r(t)}catch(r){throw r===hi?pc:r}else n=t;t=ce();var l=t.queue,i=l.dispatch;return a!==t.memoizedState&&(R.flags|=2048,si(9,{destroy:void 0},ub.bind(null,l,a),null)),[n,i,e]}function ub(e,t){e.action=t}function lh(e){var t=ce(),a=F;if(a!==null)return ly(t,a,e);ce(),t=t.memoizedState,a=ce();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function si(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=R.updateQueue,t===null&&(t=Ec(),R.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function iy(){return ce().memoizedState}function _s(e,t,a,n){var l=Ge();R.flags|=e,l.memoizedState=si(1|t,{destroy:void 0},a,n===void 0?null:n)}function Sc(e,t,a,n){var l=ce();n=n===void 0?null:n;var i=l.memoizedState.inst;F!==null&&n!==null&&$f(n,F.memoizedState.deps)?l.memoizedState=si(t,i,a,n):(R.flags|=e,l.memoizedState=si(1|t,i,a,n))}function ih(e,t){_s(8390656,8,e,t)}function im(e,t){Sc(2048,8,e,t)}function db(e){R.flags|=4;var t=R.updateQueue;if(t===null)t=Ec(),R.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function ry(e){var t=ce().memoizedState;return db({ref:t,nextImpl:e}),function(){if((H&2)!==0)throw Error(y(440));return t.impl.apply(void 0,arguments)}}function oy(e,t){return Sc(4,2,e,t)}function sy(e,t){return Sc(4,4,e,t)}function cy(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uy(e,t,a){a=a!=null?a.concat([e]):null,Sc(4,4,cy.bind(null,t,e),a)}function rm(){}function dy(e,t){var a=ce();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&$f(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function fy(e,t){var a=ce();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&$f(t,n[1]))return n[0];if(n=e(),Kn){Fa(!0);try{e()}finally{Fa(!1)}}return a.memoizedState=[n,t],n}function om(e,t,a){return a===void 0||(Ta&1073741824)!==0&&(U&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=ev(),R.lanes|=e,dn|=e,a)}function my(e,t,a,n){return ot(a,t)?a:oi.current!==null?(e=om(e,a,n),ot(e,t)||(he=!0),e):(Ta&42)===0||(Ta&1073741824)!==0&&(U&261930)===0?(he=!0,e.memoizedState=a):(e=ev(),R.lanes|=e,dn|=e,t)}function gy(e,t,a,n,l){var i=G.p;G.p=i!==0&&8>i?i:8;var r=O.T,o={};O.T=o,cm(e,!1,t,a);try{var s=l(),c=O.S;if(c!==null&&c(o,s),s!==null&&typeof s=="object"&&typeof s.then=="function"){var d=rb(s,n);Dr(e,t,d,rt(e))}else Dr(e,t,n,rt(e))}catch(p){Dr(e,t,{then:function(){},status:"rejected",reason:p},rt())}finally{G.p=i,r!==null&&o.types!==null&&(r.types=o.types),O.T=r}}function fb(){}function cf(e,t,a,n){if(e.tag!==5)throw Error(y(476));var l=py(e).queue;gy(e,l,t,zn,a===null?fb:function(){return Ey(e),a(n)})}function py(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:zn,baseState:zn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:zn},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ey(e){var t=py(e);t.next===null&&(t=e.alternate.memoizedState),Dr(e,t.next.queue,{},rt())}function sm(){return Ie(qr)}function hy(){return ce().memoizedState}function Sy(){return ce().memoizedState}function mb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=rt();e=en(a);var n=tn(t,e,a);n!==null&&(Fe(n,t,a),Ar(n,t,a)),t={cache:Ff()},e.payload=t;return}t=t.return}}function gb(e,t,a){var n=rt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},yc(e)?vy(t,a):(a=jf(e,t,a,n),a!==null&&(Fe(a,e,n),Ty(a,t,n)))}function yy(e,t,a){var n=rt();Dr(e,t,a,n)}function Dr(e,t,a,n){var l={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(yc(e))vy(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,o=i(r,a);if(l.hasEagerState=!0,l.eagerState=o,ot(o,r))return gc(e,t,l,0),Q===null&&mc(),!1}catch{}finally{}if(a=jf(e,t,l,n),a!==null)return Fe(a,e,n),Ty(a,t,n),!0}return!1}function cm(e,t,a,n){if(n={lane:2,revertLane:Sm(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},yc(e)){if(t)throw Error(y(479))}else t=jf(e,a,n,2),t!==null&&Fe(t,e,2)}function yc(e){var t=e.alternate;return e===R||t!==null&&t===R}function vy(e,t){ti=Ks=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ty(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,rS(e,a)}}var Vr={readContext:Ie,use:hc,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Vr.useEffectEvent=le;var Ay={readContext:Ie,use:hc,useCallback:function(e,t){return Ge().memoizedState=[e,t===void 0?null:t],e},useContext:Ie,useEffect:ih,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,_s(4194308,4,cy.bind(null,t,e),a)},useLayoutEffect:function(e,t){return _s(4194308,4,e,t)},useInsertionEffect:function(e,t){_s(4,2,e,t)},useMemo:function(e,t){var a=Ge();t=t===void 0?null:t;var n=e();if(Kn){Fa(!0);try{e()}finally{Fa(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Ge();if(a!==void 0){var l=a(t);if(Kn){Fa(!0);try{a(t)}finally{Fa(!1)}}}else l=t;return n.memoizedState=n.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},n.queue=e,e=e.dispatch=gb.bind(null,R,e),[n.memoizedState,e]},useRef:function(e){var t=Ge();return e={current:e},t.memoizedState=e},useState:function(e){e=of(e);var t=e.queue,a=yy.bind(null,R,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:rm,useDeferredValue:function(e,t){var a=Ge();return om(a,e,t)},useTransition:function(){var e=of(!1);return e=gy.bind(null,R,e.queue,!0,!1),Ge().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=R,l=Ge();if(z){if(a===void 0)throw Error(y(407));a=a()}else{if(a=t(),Q===null)throw Error(y(349));(U&127)!==0||ZS(n,t,a)}l.memoizedState=a;var i={value:a,getSnapshot:t};return l.queue=i,ih(JS.bind(null,n,i,e),[e]),n.flags|=2048,si(9,{destroy:void 0},kS.bind(null,n,i,a,t),null),a},useId:function(){var e=Ge(),t=Q.identifierPrefix;if(z){var a=jt,n=qt;a=(n&~(1<<32-it(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Fs++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=ob++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:sm,useFormState:ah,useActionState:ah,useOptimistic:function(e){var t=Ge();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=cm.bind(null,R,!0,a),a.dispatch=t,[e,t]},useMemoCache:nm,useCacheRefresh:function(){return Ge().memoizedState=mb.bind(null,R)},useEffectEvent:function(e){var t=Ge(),a={impl:e};return t.memoizedState=a,function(){if((H&2)!==0)throw Error(y(440));return a.impl.apply(void 0,arguments)}}},um={readContext:Ie,use:hc,useCallback:dy,useContext:Ie,useEffect:im,useImperativeHandle:uy,useInsertionEffect:oy,useLayoutEffect:sy,useMemo:fy,useReducer:Ds,useRef:iy,useState:function(){return Ds(Aa)},useDebugValue:rm,useDeferredValue:function(e,t){var a=ce();return my(a,F.memoizedState,e,t)},useTransition:function(){var e=Ds(Aa)[0],t=ce().memoizedState;return[typeof e=="boolean"?e:$r(e),t]},useSyncExternalStore:QS,useId:hy,useHostTransitionStatus:sm,useFormState:nh,useActionState:nh,useOptimistic:function(e,t){var a=ce();return ey(a,F,e,t)},useMemoCache:nm,useCacheRefresh:Sy};um.useEffectEvent=ry;var Cy={readContext:Ie,use:hc,useCallback:dy,useContext:Ie,useEffect:im,useImperativeHandle:uy,useInsertionEffect:oy,useLayoutEffect:sy,useMemo:fy,useReducer:Ed,useRef:iy,useState:function(){return Ed(Aa)},useDebugValue:rm,useDeferredValue:function(e,t){var a=ce();return F===null?om(a,e,t):my(a,F.memoizedState,e,t)},useTransition:function(){var e=Ed(Aa)[0],t=ce().memoizedState;return[typeof e=="boolean"?e:$r(e),t]},useSyncExternalStore:QS,useId:hy,useHostTransitionStatus:sm,useFormState:lh,useActionState:lh,useOptimistic:function(e,t){var a=ce();return F!==null?ey(a,F,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:nm,useCacheRefresh:Sy};Cy.useEffectEvent=ry;function hd(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:W({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var uf={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=rt(),l=en(n);l.payload=t,a!=null&&(l.callback=a),t=tn(e,l,n),t!==null&&(Fe(t,e,n),Ar(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=rt(),l=en(n);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=tn(e,l,n),t!==null&&(Fe(t,e,n),Ar(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=rt(),n=en(a);n.tag=2,t!=null&&(n.callback=t),t=tn(e,n,a),t!==null&&(Fe(t,e,a),Ar(t,e,a))}};function rh(e,t,a,n,l,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,r):t.prototype&&t.prototype.isPureReactComponent?!Br(a,n)||!Br(l,i):!0}function oh(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&uf.enqueueReplaceState(t,t.state,null)}function Fn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=W({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}function by(e){Vs(e)}function Dy(e){console.error(e)}function _y(e){Vs(e)}function Qs(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function sh(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function df(e,t,a){return a=en(a),a.tag=3,a.payload={element:null},a.callback=function(){Qs(e,t)},a}function Oy(e){return e=en(e),e.tag=3,e}function Ny(e,t,a,n){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var i=n.value;e.payload=function(){return l(i)},e.callback=function(){sh(t,a,n)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){sh(t,a,n),typeof l!="function"&&(an===null?an=new Set([this]):an.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function pb(e,t,a,n,l){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Ei(t,a,l,!0),a=st.current,a!==null){switch(a.tag){case 31:case 13:return bt===null?Ws():a.alternate===null&&ie===0&&(ie=3),a.flags&=-257,a.flags|=65536,a.lanes=l,n===js?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Nd(e,n,l)),!1;case 22:return a.flags|=65536,n===js?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Nd(e,n,l)),!1}throw Error(y(435,a.tag))}return Nd(e,n,l),Ws(),!1}if(z)return t=st.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,n!==Jd&&(e=Error(y(422),{cause:n}),Ur(At(e,a)))):(n!==Jd&&(t=Error(y(423),{cause:n}),Ur(At(t,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,n=At(n,a),l=df(e.stateNode,n,l),pd(e,l),ie!==4&&(ie=2)),!1;var i=Error(y(520),{cause:n});if(i=At(i,a),Nr===null?Nr=[i]:Nr.push(i),ie!==4&&(ie=2),t===null)return!0;n=At(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=df(a.stateNode,n,e),pd(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(an===null||!an.has(i))))return a.flags|=65536,l&=-l,a.lanes|=l,l=Oy(l),Ny(l,e,a,n),pd(a,l),!1}a=a.return}while(a!==null);return!1}var dm=Error(y(461)),he=!1;function Le(e,t,a,n){t.child=e===null?qS(t,null,a,n):Xn(t,e.child,a,n)}function ch(e,t,a,n,l){a=a.render;var i=t.ref;if("ref"in n){var r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}else r=n;return Yn(t),n=Wf(e,t,a,r,i,l),o=em(),e!==null&&!he?(tm(e,t,l),Ca(e,t,l)):(z&&o&&Xf(t),t.flags|=1,Le(e,t,n,l),t.child)}function uh(e,t,a,n,l){if(e===null){var i=a.type;return typeof i=="function"&&!Yf(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Ly(e,t,i,n,l)):(e=Cs(a.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!fm(e,l)){var r=i.memoizedProps;if(a=a.compare,a=a!==null?a:Br,a(r,n)&&e.ref===t.ref)return Ca(e,t,l)}return t.flags|=1,e=ha(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ly(e,t,a,n,l){if(e!==null){var i=e.memoizedProps;if(Br(i,n)&&e.ref===t.ref)if(he=!1,t.pendingProps=n=i,fm(e,l))(e.flags&131072)!==0&&(he=!0);else return t.lanes=e.lanes,Ca(e,t,l)}return ff(e,t,a,n,l)}function My(e,t,a,n){var l=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;n=l&~i}else n=0,t.child=null;return dh(e,t,i,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&bs(t,i!==null?i.cachePool:null),i!==null?WE(t,i):lf(),XS(t);else return n=t.lanes=536870912,dh(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(bs(t,i.cachePool),WE(t,i),Xa(t),t.memoizedState=null):(e!==null&&bs(t,null),lf(),Xa(t));return Le(e,t,l,a),t.child}function Er(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dh(e,t,a,n,l){var i=Qf();return i=i===null?null:{parent:Ee._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&bs(t,null),lf(),XS(t),e!==null&&Ei(e,t,n,!0),t.childLanes=l,null}function Os(e,t){return t=Zs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function fh(e,t,a){return Xn(t,e.child,null,a),e=Os(t,t.pendingProps),e.flags|=2,et(t),t.memoizedState=null,e}function Eb(e,t,a){var n=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(z){if(n.mode==="hidden")return e=Os(t,n),t.lanes=536870912,Er(null,e);if(rf(t),(e=$)?(e=Av(e,Ct),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sn!==null?{id:qt,overflow:jt}:null,retryLane:536870912,hydrationErrors:null},a=xS(e),a.return=t,t.child=a,Re=t,$=null)):e=null,e===null)throw cn(t);return t.lanes=536870912,null}return Os(t,n)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(rf(t),l)if(t.flags&256)t.flags&=-257,t=fh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(y(558));else if(he||Ei(e,t,a,!1),l=(a&e.childLanes)!==0,he||l){if(n=Q,n!==null&&(r=oS(n,a),r!==0&&r!==i.retryLane))throw i.retryLane=r,Jn(e,r),Fe(n,e,r),dm;Ws(),t=fh(e,t,a)}else e=i.treeContext,$=Dt(r.nextSibling),Re=t,z=!0,Wa=null,Ct=!1,e!==null&&PS(t,e),t=Os(t,n),t.flags|=4096;return t}return e=ha(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ns(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(y(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function ff(e,t,a,n,l){return Yn(t),a=Wf(e,t,a,n,void 0,l),n=em(),e!==null&&!he?(tm(e,t,l),Ca(e,t,l)):(z&&n&&Xf(t),t.flags|=1,Le(e,t,a,l),t.child)}function mh(e,t,a,n,l,i){return Yn(t),t.updateQueue=null,a=FS(t,n,a,l),KS(e),n=em(),e!==null&&!he?(tm(e,t,i),Ca(e,t,i)):(z&&n&&Xf(t),t.flags|=1,Le(e,t,a,i),t.child)}function gh(e,t,a,n,l){if(Yn(t),t.stateNode===null){var i=Kl,r=a.contextType;typeof r=="object"&&r!==null&&(i=Ie(r)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=uf,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},kf(t),r=a.contextType,i.context=typeof r=="object"&&r!==null?Ie(r):Kl,i.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(hd(t,a,r,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&uf.enqueueReplaceState(i,i.state,null),br(t,n,i,l),Cr(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,s=Fn(a,o);i.props=s;var c=i.context,d=a.contextType;r=Kl,typeof d=="object"&&d!==null&&(r=Ie(d));var p=a.getDerivedStateFromProps;d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||c!==r)&&oh(t,i,n,r),qa=!1;var u=t.memoizedState;i.state=u,br(t,n,i,l),Cr(),c=t.memoizedState,o||u!==c||qa?(typeof p=="function"&&(hd(t,a,p,n),c=t.memoizedState),(s=qa||rh(t,a,s,n,u,c,r))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=r,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,af(e,t),r=t.memoizedProps,d=Fn(a,r),i.props=d,p=t.pendingProps,u=i.context,c=a.contextType,s=Kl,typeof c=="object"&&c!==null&&(s=Ie(c)),o=a.getDerivedStateFromProps,(c=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==p||u!==s)&&oh(t,i,n,s),qa=!1,u=t.memoizedState,i.state=u,br(t,n,i,l),Cr();var g=t.memoizedState;r!==p||u!==g||qa||e!==null&&e.dependencies!==null&&qs(e.dependencies)?(typeof o=="function"&&(hd(t,a,o,n),g=t.memoizedState),(d=qa||rh(t,a,d,n,u,g,s)||e!==null&&e.dependencies!==null&&qs(e.dependencies))?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=s,n=d):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Ns(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=Xn(t,e.child,null,l),t.child=Xn(t,null,a,l)):Le(e,t,a,l),t.memoizedState=i.state,e=t.child):e=Ca(e,t,l),e}function ph(e,t,a,n){return jn(),t.flags|=256,Le(e,t,a,n),t.child}var Sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(e){return{baseLanes:e,cachePool:VS()}}function vd(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=at),e}function Ry(e,t,a){var n=t.pendingProps,l=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(se.current&2)!==0),r&&(l=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(z){if(l?Ya(t):Xa(t),(e=$)?(e=Av(e,Ct),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sn!==null?{id:qt,overflow:jt}:null,retryLane:536870912,hydrationErrors:null},a=xS(e),a.return=t,t.child=a,Re=t,$=null)):e=null,e===null)throw cn(t);return _f(e)?t.lanes=32:t.lanes=536870912,null}var o=n.children;return n=n.fallback,l?(Xa(t),l=t.mode,o=Zs({mode:"hidden",children:o},l),n=Vn(n,l,a,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n=t.child,n.memoizedState=yd(a),n.childLanes=vd(e,r,a),t.memoizedState=Sd,Er(null,n)):(Ya(t),mf(t,o))}var s=e.memoizedState;if(s!==null&&(o=s.dehydrated,o!==null)){if(i)t.flags&256?(Ya(t),t.flags&=-257,t=Td(e,t,a)):t.memoizedState!==null?(Xa(t),t.child=e.child,t.flags|=128,t=null):(Xa(t),o=n.fallback,l=t.mode,n=Zs({mode:"visible",children:n.children},l),o=Vn(o,l,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,Xn(t,e.child,null,a),n=t.child,n.memoizedState=yd(a),n.childLanes=vd(e,r,a),t.memoizedState=Sd,t=Er(null,n));else if(Ya(t),_f(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var c=r.dgst;r=c,n=Error(y(419)),n.stack="",n.digest=r,Ur({value:n,source:null,stack:null}),t=Td(e,t,a)}else if(he||Ei(e,t,a,!1),r=(a&e.childLanes)!==0,he||r){if(r=Q,r!==null&&(n=oS(r,a),n!==0&&n!==s.retryLane))throw s.retryLane=n,Jn(e,n),Fe(r,e,n),dm;Df(o)||Ws(),t=Td(e,t,a)}else Df(o)?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,$=Dt(o.nextSibling),Re=t,z=!0,Wa=null,Ct=!1,e!==null&&PS(t,e),t=mf(t,n.children),t.flags|=4096);return t}return l?(Xa(t),o=n.fallback,l=t.mode,s=e.child,c=s.sibling,n=ha(s,{mode:"hidden",children:n.children}),n.subtreeFlags=s.subtreeFlags&65011712,c!==null?o=ha(c,o):(o=Vn(o,l,a,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,Er(null,n),n=t.child,o=e.child.memoizedState,o===null?o=yd(a):(l=o.cachePool,l!==null?(s=Ee._currentValue,l=l.parent!==s?{parent:s,pool:s}:l):l=VS(),o={baseLanes:o.baseLanes|a,cachePool:l}),n.memoizedState=o,n.childLanes=vd(e,r,a),t.memoizedState=Sd,Er(e.child,n)):(Ya(t),a=e.child,e=a.sibling,a=ha(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function mf(e,t){return t=Zs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zs(e,t){return e=tt(22,e,null,t),e.lanes=0,e}function Td(e,t,a){return Xn(t,e.child,null,a),e=mf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Eh(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Wd(e.return,t,a)}function Ad(e,t,a,n,l,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:l,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=a,r.tailMode=l,r.treeForkCount=i)}function Iy(e,t,a){var n=t.pendingProps,l=n.revealOrder,i=n.tail;n=n.children;var r=se.current,o=(r&2)!==0;if(o?(r=r&1|2,t.flags|=128):r&=1,Z(se,r),Le(e,t,n,a),n=z?xr:0,!o&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eh(e,a,t);else if(e.tag===19)Eh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(a=t.child,l=null;a!==null;)e=a.alternate,e!==null&&Xs(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=t.child,t.child=null):(l=a.sibling,a.sibling=null),Ad(t,!1,l,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Xs(e)===null){t.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}Ad(t,!0,a,null,i,n);break;case"together":Ad(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Ca(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),dn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Ei(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(y(153));if(t.child!==null){for(e=t.child,a=ha(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ha(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function fm(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&qs(e)))}function hb(e,t,a){switch(t.tag){case 3:xs(t,t.stateNode.containerInfo),ja(t,Ee,e.memoizedState.cache),jn();break;case 27:case 5:Hd(t);break;case 4:xs(t,t.stateNode.containerInfo);break;case 10:ja(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,rf(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ya(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ry(e,t,a):(Ya(t),e=Ca(e,t,a),e!==null?e.sibling:null);Ya(t);break;case 19:var l=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Ei(e,t,a,!1),n=(a&t.childLanes)!==0),l){if(n)return Iy(e,t,a);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Z(se,se.current),n)break;return null;case 22:return t.lanes=0,My(e,t,a,t.pendingProps);case 24:ja(t,Ee,e.memoizedState.cache)}return Ca(e,t,a)}function wy(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)he=!0;else{if(!fm(e,a)&&(t.flags&128)===0)return he=!1,hb(e,t,a);he=(e.flags&131072)!==0}else he=!1,z&&(t.flags&1048576)!==0&&US(t,xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Un(t.elementType),t.type=e,typeof e=="function")Yf(e)?(n=Fn(e,n),t.tag=1,t=gh(null,t,e,n,a)):(t.tag=0,t=ff(null,t,e,n,a));else{if(e!=null){var l=e.$$typeof;if(l===Mf){t.tag=11,t=ch(null,t,e,n,a);break e}else if(l===Rf){t.tag=14,t=uh(null,t,e,n,a);break e}}throw t=zd(e)||e,Error(y(306,t,""))}}return t;case 0:return ff(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,l=Fn(n,t.pendingProps),gh(e,t,n,l,a);case 3:e:{if(xs(t,t.stateNode.containerInfo),e===null)throw Error(y(387));n=t.pendingProps;var i=t.memoizedState;l=i.element,af(e,t),br(t,n,null,a);var r=t.memoizedState;if(n=r.cache,ja(t,Ee,n),n!==i.cache&&ef(t,[Ee],a,!0),Cr(),n=r.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=ph(e,t,n,a);break e}else if(n!==l){l=At(Error(y(424)),t),Ur(l),t=ph(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($=Dt(e.firstChild),Re=t,z=!0,Wa=null,Ct=!0,a=qS(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(jn(),n===l){t=Ca(e,t,a);break e}Le(e,t,n,a)}t=t.child}return t;case 26:return Ns(e,t),e===null?(a=zh(t.type,null,t.pendingProps,null))?t.memoizedState=a:z||(a=t.type,e=t.pendingProps,n=nc($a.current).createElement(a),n[Me]=t,n[Qe]=e,we(n,a,e),be(n),t.stateNode=n):t.memoizedState=zh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Hd(t),e===null&&z&&(n=t.stateNode=Cv(t.type,t.pendingProps,$a.current),Re=t,Ct=!0,l=$,mn(t.type)?(Of=l,$=Dt(n.firstChild)):$=l),Le(e,t,t.pendingProps.children,a),Ns(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&z&&((l=n=$)&&(n=Xb(n,t.type,t.pendingProps,Ct),n!==null?(t.stateNode=n,Re=t,$=Dt(n.firstChild),Ct=!1,l=!0):l=!1),l||cn(t)),Hd(t),l=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,n=i.children,Cf(l,i)?n=null:r!==null&&Cf(l,r)&&(t.flags|=32),t.memoizedState!==null&&(l=Wf(e,t,sb,null,null,a),qr._currentValue=l),Ns(e,t),Le(e,t,n,a),t.child;case 6:return e===null&&z&&((e=a=$)&&(a=Kb(a,t.pendingProps,Ct),a!==null?(t.stateNode=a,Re=t,$=null,e=!0):e=!1),e||cn(t)),null;case 13:return Ry(e,t,a);case 4:return xs(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xn(t,null,n,a):Le(e,t,n,a),t.child;case 11:return ch(e,t,t.type,t.pendingProps,a);case 7:return Le(e,t,t.pendingProps,a),t.child;case 8:return Le(e,t,t.pendingProps.children,a),t.child;case 12:return Le(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,ja(t,t.type,n.value),Le(e,t,n.children,a),t.child;case 9:return l=t.type._context,n=t.pendingProps.children,Yn(t),l=Ie(l),n=n(l),t.flags|=1,Le(e,t,n,a),t.child;case 14:return uh(e,t,t.type,t.pendingProps,a);case 15:return Ly(e,t,t.type,t.pendingProps,a);case 19:return Iy(e,t,a);case 31:return Eb(e,t,a);case 22:return My(e,t,a,t.pendingProps);case 24:return Yn(t),n=Ie(Ee),e===null?(l=Qf(),l===null&&(l=Q,i=Ff(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=a),l=i),t.memoizedState={parent:n,cache:l},kf(t),ja(t,Ee,l)):((e.lanes&a)!==0&&(af(e,t),br(t,null,null,a),Cr()),l=e.memoizedState,i=t.memoizedState,l.parent!==n?(l={parent:n,cache:n},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),ja(t,Ee,n)):(n=i.cache,ja(t,Ee,n),n!==l.cache&&ef(t,[Ee],a,!0))),Le(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(y(156,t.tag))}function sa(e){e.flags|=4}function Cd(e,t,a,n,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(nv())e.flags|=8192;else throw Gn=js,Zf}else e.flags&=-16777217}function hh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_v(t))if(nv())e.flags|=8192;else throw Gn=js,Zf}function fs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?lS():536870912,e.lanes|=t,ci|=t)}function cr(e,t){if(!z)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function J(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags&65011712,n|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Sb(e,t,a){var n=t.pendingProps;switch(Kf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return J(t),null;case 1:return J(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Sa(Ee),ni(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Bl(t)?sa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,gd())),J(t),null;case 26:var l=t.type,i=t.memoizedState;return e===null?(sa(t),i!==null?(J(t),hh(t,i)):(J(t),Cd(t,l,null,n,a))):i?i!==e.memoizedState?(sa(t),J(t),hh(t,i)):(J(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&sa(t),J(t),Cd(t,l,e,n,a)),null;case 27:if(Us(t),a=$a.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&sa(t);else{if(!n){if(t.stateNode===null)throw Error(y(166));return J(t),null}e=Xt.current,Bl(t)?KE(t,e):(e=Cv(l,n,a),t.stateNode=e,sa(t))}return J(t),null;case 5:if(Us(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&sa(t);else{if(!n){if(t.stateNode===null)throw Error(y(166));return J(t),null}if(i=Xt.current,Bl(t))KE(t,i);else{var r=nc($a.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?r.createElement(l,{is:n.is}):r.createElement(l)}}i[Me]=t,i[Qe]=n;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(we(i,l,n),l){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&sa(t)}}return J(t),Cd(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&sa(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(y(166));if(e=$a.current,Bl(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,l=Re,l!==null)switch(l.tag){case 27:case 5:n=l.memoizedProps}e[Me]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||yv(e.nodeValue,a)),e||cn(t,!0)}else e=nc(e).createTextNode(n),e[Me]=t,t.stateNode=e}return J(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=Bl(t),a!==null){if(e===null){if(!n)throw Error(y(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(557));e[Me]=t}else jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;J(t),e=!1}else a=gd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(et(t),t):(et(t),null);if((t.flags&128)!==0)throw Error(y(558))}return J(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Bl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(y(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(y(317));l[Me]=t}else jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;J(t),l=!1}else l=gd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(et(t),t):(et(t),null)}return et(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,l=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(l=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==l&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),fs(t,t.updateQueue),J(t),null);case 4:return ni(),e===null&&ym(t.stateNode.containerInfo),J(t),null;case 10:return Sa(t.type),J(t),null;case 19:if(De(se),n=t.memoizedState,n===null)return J(t),null;if(l=(t.flags&128)!==0,i=n.rendering,i===null)if(l)cr(n,!1);else{if(ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Xs(e),i!==null){for(t.flags|=128,cr(n,!1),e=i.updateQueue,t.updateQueue=e,fs(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)BS(a,e),a=a.sibling;return Z(se,se.current&1|2),z&&fa(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&nt()>Js&&(t.flags|=128,l=!0,cr(n,!1),t.lanes=4194304)}else{if(!l)if(e=Xs(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,fs(t,e),cr(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!z)return J(t),null}else 2*nt()-n.renderingStartTime>Js&&a!==536870912&&(t.flags|=128,l=!0,cr(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=nt(),e.sibling=null,a=se.current,Z(se,l?a&1|2:a&1),z&&fa(t,n.treeForkCount),e):(J(t),null);case 22:case 23:return et(t),Jf(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(J(t),t.subtreeFlags&6&&(t.flags|=8192)):J(t),a=t.updateQueue,a!==null&&fs(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&De(Hn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Sa(Ee),J(t),null;case 25:return null;case 30:return null}throw Error(y(156,t.tag))}function yb(e,t){switch(Kf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sa(Ee),ni(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Us(t),null;case 31:if(t.memoizedState!==null){if(et(t),t.alternate===null)throw Error(y(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(et(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(y(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(se),null;case 4:return ni(),null;case 10:return Sa(t.type),null;case 22:case 23:return et(t),Jf(),e!==null&&De(Hn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Sa(Ee),null;case 25:return null;default:return null}}function By(e,t){switch(Kf(t),t.tag){case 3:Sa(Ee),ni();break;case 26:case 27:case 5:Us(t);break;case 4:ni();break;case 31:t.memoizedState!==null&&et(t);break;case 13:et(t);break;case 19:De(se);break;case 10:Sa(t.type);break;case 22:case 23:et(t),Jf(),e!==null&&De(Hn);break;case 24:Sa(Ee)}}function Wr(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var l=n.next;a=l;do{if((a.tag&e)===e){n=void 0;var i=a.create,r=a.inst;n=i(),r.destroy=n}a=a.next}while(a!==l)}}catch(o){Y(t,t.return,o)}}function un(e,t,a){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var i=l.next;n=i;do{if((n.tag&e)===e){var r=n.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,l=t;var s=a,c=o;try{c()}catch(d){Y(l,s,d)}}}n=n.next}while(n!==i)}}catch(d){Y(t,t.return,d)}}function xy(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{YS(t,a)}catch(n){Y(e,e.return,n)}}}function Uy(e,t,a){a.props=Fn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Y(e,t,n)}}function _r(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(l){Y(e,t,l)}}function Yt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(l){Y(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){Y(e,t,l)}else a.current=null}function Py(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(l){Y(e,e.return,l)}}function bd(e,t,a){try{var n=e.stateNode;Vb(n,e.type,a,t),n[Qe]=t}catch(l){Y(e,e.return,l)}}function zy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mn(e.type)||e.tag===4}function Dd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gf(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=pa));else if(n!==4&&(n===27&&mn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(gf(e,t,a),e=e.sibling;e!==null;)gf(e,t,a),e=e.sibling}function ks(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&mn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ks(e,t,a),e=e.sibling;e!==null;)ks(e,t,a),e=e.sibling}function Vy(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);we(t,n,a),t[Me]=e,t[Qe]=a}catch(i){Y(e,e.return,i)}}var ma=!1,pe=!1,_d=!1,Sh=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function vb(e,t){if(e=e.containerInfo,Tf=oc,e=_S(e),Gf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var l=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var r=0,o=-1,s=-1,c=0,d=0,p=e,u=null;t:for(;;){for(var g;p!==a||l!==0&&p.nodeType!==3||(o=r+l),p!==i||n!==0&&p.nodeType!==3||(s=r+n),p.nodeType===3&&(r+=p.nodeValue.length),(g=p.firstChild)!==null;)u=p,p=g;for(;;){if(p===e)break t;if(u===a&&++c===l&&(o=r),u===i&&++d===n&&(s=r),(g=p.nextSibling)!==null)break;p=u,u=p.parentNode}p=g}a=o===-1||s===-1?null:{start:o,end:s}}else a=null}a=a||{start:0,end:0}}else a=null;for(Af={focusedElem:e,selectionRange:a},oc=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){switch(t=Ce,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)l=e[a],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,l=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var h=Fn(a.type,l);e=n.getSnapshotBeforeUpdate(h,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(v){Y(a,a.return,v)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)bf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(y(163))}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}}function Hy(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:ua(e,a),n&4&&Wr(5,a);break;case 1:if(ua(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){Y(a,a.return,r)}else{var l=Fn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Y(a,a.return,r)}}n&64&&xy(a),n&512&&_r(a,a.return);break;case 3:if(ua(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{YS(e,t)}catch(r){Y(a,a.return,r)}}break;case 27:t===null&&n&4&&Vy(a);case 26:case 5:ua(e,a),t===null&&n&4&&Py(a),n&512&&_r(a,a.return);break;case 12:ua(e,a);break;case 31:ua(e,a),n&4&&jy(e,a);break;case 13:ua(e,a),n&4&&Yy(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Lb.bind(null,a),Fb(e,a))));break;case 22:if(n=a.memoizedState!==null||ma,!n){t=t!==null&&t.memoizedState!==null||pe,l=ma;var i=pe;ma=n,(pe=t)&&!i?da(e,a,(a.subtreeFlags&8772)!==0):ua(e,a),ma=l,pe=i}break;case 30:break;default:ua(e,a)}}function Gy(e){var t=e.alternate;t!==null&&(e.alternate=null,Gy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,Xe=!1;function ca(e,t,a){for(a=a.child;a!==null;)qy(e,t,a),a=a.sibling}function qy(e,t,a){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Kr,a)}catch{}switch(a.tag){case 26:pe||Yt(a,t),ca(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pe||Yt(a,t);var n=ae,l=Xe;mn(a.type)&&(ae=a.stateNode,Xe=!1),ca(e,t,a),Mr(a.stateNode),ae=n,Xe=l;break;case 5:pe||Yt(a,t);case 6:if(n=ae,l=Xe,ae=null,ca(e,t,a),ae=n,Xe=l,ae!==null)if(Xe)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(i){Y(a,t,i)}else try{ae.removeChild(a.stateNode)}catch(i){Y(a,t,i)}break;case 18:ae!==null&&(Xe?(e=ae,wh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),mi(e)):wh(ae,a.stateNode));break;case 4:n=ae,l=Xe,ae=a.stateNode.containerInfo,Xe=!0,ca(e,t,a),ae=n,Xe=l;break;case 0:case 11:case 14:case 15:un(2,a,t),pe||un(4,a,t),ca(e,t,a);break;case 1:pe||(Yt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Uy(a,t,n)),ca(e,t,a);break;case 21:ca(e,t,a);break;case 22:pe=(n=pe)||a.memoizedState!==null,ca(e,t,a),pe=n;break;default:ca(e,t,a)}}function jy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{mi(e)}catch(a){Y(t,t.return,a)}}}function Yy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mi(e)}catch(a){Y(t,t.return,a)}}function Tb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Sh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Sh),t;default:throw Error(y(435,e.tag))}}function ms(e,t){var a=Tb(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var l=Mb.bind(null,e,n);n.then(l,l)}})}function je(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var l=a[n],i=e,r=t,o=r;e:for(;o!==null;){switch(o.tag){case 27:if(mn(o.type)){ae=o.stateNode,Xe=!1;break e}break;case 5:ae=o.stateNode,Xe=!1;break e;case 3:case 4:ae=o.stateNode.containerInfo,Xe=!0;break e}o=o.return}if(ae===null)throw Error(y(160));qy(i,r,l),ae=null,Xe=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Xy(t,e),t=t.sibling}var Bt=null;function Xy(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:je(t,e),Ye(e),n&4&&(un(3,e,e.return),Wr(3,e),un(5,e,e.return));break;case 1:je(t,e),Ye(e),n&512&&(pe||a===null||Yt(a,a.return)),n&64&&ma&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var l=Bt;if(je(t,e),Ye(e),n&512&&(pe||a===null||Yt(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(n){case"title":i=l.getElementsByTagName("title")[0],(!i||i[Zr]||i[Me]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(n),l.head.insertBefore(i,l.querySelector("head > title"))),we(i,n,a),i[Me]=e,be(i),n=i;break e;case"link":var r=Hh("link","href",l).get(n+(a.href||""));if(r){for(var o=0;o<r.length;o++)if(i=r[o],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(o,1);break t}}i=l.createElement(n),we(i,n,a),l.head.appendChild(i);break;case"meta":if(r=Hh("meta","content",l).get(n+(a.content||""))){for(o=0;o<r.length;o++)if(i=r[o],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(o,1);break t}}i=l.createElement(n),we(i,n,a),l.head.appendChild(i);break;default:throw Error(y(468,n))}i[Me]=e,be(i),n=i}e.stateNode=n}else Gh(l,e.type,e.stateNode);else e.stateNode=Vh(l,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?Gh(l,e.type,e.stateNode):Vh(l,n,e.memoizedProps)):n===null&&e.stateNode!==null&&bd(e,e.memoizedProps,a.memoizedProps)}break;case 27:je(t,e),Ye(e),n&512&&(pe||a===null||Yt(a,a.return)),a!==null&&n&4&&bd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(je(t,e),Ye(e),n&512&&(pe||a===null||Yt(a,a.return)),e.flags&32){l=e.stateNode;try{ii(l,"")}catch(h){Y(e,e.return,h)}}n&4&&e.stateNode!=null&&(l=e.memoizedProps,bd(e,l,a!==null?a.memoizedProps:l)),n&1024&&(_d=!0);break;case 6:if(je(t,e),Ye(e),n&4){if(e.stateNode===null)throw Error(y(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(h){Y(e,e.return,h)}}break;case 3:if(Rs=null,l=Bt,Bt=lc(t.containerInfo),je(t,e),Bt=l,Ye(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{mi(t.containerInfo)}catch(h){Y(e,e.return,h)}_d&&(_d=!1,Ky(e));break;case 4:n=Bt,Bt=lc(e.stateNode.containerInfo),je(t,e),Ye(e),Bt=n;break;case 12:je(t,e),Ye(e);break;case 31:je(t,e),Ye(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ms(e,n)));break;case 13:je(t,e),Ye(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vc=nt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ms(e,n)));break;case 22:l=e.memoizedState!==null;var s=a!==null&&a.memoizedState!==null,c=ma,d=pe;if(ma=c||l,pe=d||s,je(t,e),pe=d,ma=c,Ye(e),n&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(a===null||s||ma||pe||Pn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){s=a=t;try{if(i=s.stateNode,l)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=s.stateNode;var p=s.memoizedProps.style,u=p!=null&&p.hasOwnProperty("display")?p.display:null;o.style.display=u==null||typeof u=="boolean"?"":(""+u).trim()}}catch(h){Y(s,s.return,h)}}}else if(t.tag===6){if(a===null){s=t;try{s.stateNode.nodeValue=l?"":s.memoizedProps}catch(h){Y(s,s.return,h)}}}else if(t.tag===18){if(a===null){s=t;try{var g=s.stateNode;l?Bh(g,!0):Bh(s.stateNode,!1)}catch(h){Y(s,s.return,h)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,ms(e,a))));break;case 19:je(t,e),Ye(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ms(e,n)));break;case 30:break;case 21:break;default:je(t,e),Ye(e)}}function Ye(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(zy(n)){a=n;break}n=n.return}if(a==null)throw Error(y(160));switch(a.tag){case 27:var l=a.stateNode,i=Dd(e);ks(e,i,l);break;case 5:var r=a.stateNode;a.flags&32&&(ii(r,""),a.flags&=-33);var o=Dd(e);ks(e,o,r);break;case 3:case 4:var s=a.stateNode.containerInfo,c=Dd(e);gf(e,c,s);break;default:throw Error(y(161))}}catch(d){Y(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ky(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ky(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ua(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Hy(e,t.alternate,t),t=t.sibling}function Pn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:un(4,t,t.return),Pn(t);break;case 1:Yt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Uy(t,t.return,a),Pn(t);break;case 27:Mr(t.stateNode);case 26:case 5:Yt(t,t.return),Pn(t);break;case 22:t.memoizedState===null&&Pn(t);break;case 30:Pn(t);break;default:Pn(t)}e=e.sibling}}function da(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,l=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:da(l,i,a),Wr(4,i);break;case 1:if(da(l,i,a),n=i,l=n.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(c){Y(n,n.return,c)}if(n=i,l=n.updateQueue,l!==null){var o=n.stateNode;try{var s=l.shared.hiddenCallbacks;if(s!==null)for(l.shared.hiddenCallbacks=null,l=0;l<s.length;l++)jS(s[l],o)}catch(c){Y(n,n.return,c)}}a&&r&64&&xy(i),_r(i,i.return);break;case 27:Vy(i);case 26:case 5:da(l,i,a),a&&n===null&&r&4&&Py(i),_r(i,i.return);break;case 12:da(l,i,a);break;case 31:da(l,i,a),a&&r&4&&jy(l,i);break;case 13:da(l,i,a),a&&r&4&&Yy(l,i);break;case 22:i.memoizedState===null&&da(l,i,a),_r(i,i.return);break;case 30:break;default:da(l,i,a)}t=t.sibling}}function mm(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Jr(a))}function gm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jr(e))}function wt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fy(e,t,a,n),t=t.sibling}function Fy(e,t,a,n){var l=t.flags;switch(t.tag){case 0:case 11:case 15:wt(e,t,a,n),l&2048&&Wr(9,t);break;case 1:wt(e,t,a,n);break;case 3:wt(e,t,a,n),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jr(e)));break;case 12:if(l&2048){wt(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,o=i.onPostCommit;typeof o=="function"&&o(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(s){Y(t,t.return,s)}}else wt(e,t,a,n);break;case 31:wt(e,t,a,n);break;case 13:wt(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?wt(e,t,a,n):Or(e,t):i._visibility&2?wt(e,t,a,n):(i._visibility|=2,Ul(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),l&2048&&mm(r,t);break;case 24:wt(e,t,a,n),l&2048&&gm(t.alternate,t);break;default:wt(e,t,a,n)}}function Ul(e,t,a,n,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,o=a,s=n,c=r.flags;switch(r.tag){case 0:case 11:case 15:Ul(i,r,o,s,l),Wr(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?Ul(i,r,o,s,l):Or(i,r):(d._visibility|=2,Ul(i,r,o,s,l)),l&&c&2048&&mm(r.alternate,r);break;case 24:Ul(i,r,o,s,l),l&&c&2048&&gm(r.alternate,r);break;default:Ul(i,r,o,s,l)}t=t.sibling}}function Or(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,l=n.flags;switch(n.tag){case 22:Or(a,n),l&2048&&mm(n.alternate,n);break;case 24:Or(a,n),l&2048&&gm(n.alternate,n);break;default:Or(a,n)}t=t.sibling}}var hr=8192;function xl(e,t,a){if(e.subtreeFlags&hr)for(e=e.child;e!==null;)Qy(e,t,a),e=e.sibling}function Qy(e,t,a){switch(e.tag){case 26:xl(e,t,a),e.flags&hr&&e.memoizedState!==null&&iD(a,Bt,e.memoizedState,e.memoizedProps);break;case 5:xl(e,t,a);break;case 3:case 4:var n=Bt;Bt=lc(e.stateNode.containerInfo),xl(e,t,a),Bt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=hr,hr=16777216,xl(e,t,a),hr=n):xl(e,t,a));break;default:xl(e,t,a)}}function Zy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ur(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ce=n,Jy(n,e)}Zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ky(e),e=e.sibling}function ky(e){switch(e.tag){case 0:case 11:case 15:ur(e),e.flags&2048&&un(9,e,e.return);break;case 3:ur(e);break;case 12:ur(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ls(e)):ur(e);break;default:ur(e)}}function Ls(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ce=n,Jy(n,e)}Zy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:un(8,t,t.return),Ls(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ls(t));break;default:Ls(t)}e=e.sibling}}function Jy(e,t){for(;Ce!==null;){var a=Ce;switch(a.tag){case 0:case 11:case 15:un(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Jr(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Ce=n;else e:for(a=e;Ce!==null;){n=Ce;var l=n.sibling,i=n.return;if(Gy(n),n===a){Ce=null;break e}if(l!==null){l.return=i,Ce=l;break e}Ce=i}}}var Ab={getCacheForType:function(e){var t=Ie(Ee),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Ie(Ee).controller.signal}},Cb=typeof WeakMap=="function"?WeakMap:Map,H=0,Q=null,x=null,U=0,j=0,We=null,Za=!1,Si=!1,pm=!1,ba=0,ie=0,dn=0,qn=0,Em=0,at=0,ci=0,Nr=null,Ke=null,pf=!1,vc=0,$y=0,Js=1/0,$s=null,an=null,Se=0,nn=null,ui=null,ya=0,Ef=0,hf=null,Wy=null,Lr=0,Sf=null;function rt(){return(H&2)!==0&&U!==0?U&-U:O.T!==null?Sm():sS()}function ev(){if(at===0)if((U&536870912)===0||z){var e=ns;ns<<=1,(ns&3932160)===0&&(ns=262144),at=e}else at=536870912;return e=st.current,e!==null&&(e.flags|=32),at}function Fe(e,t,a){(e===Q&&(j===2||j===9)||e.cancelPendingCommit!==null)&&(di(e,0),ka(e,U,at,!1)),Qr(e,a),((H&2)===0||e!==Q)&&(e===Q&&((H&2)===0&&(qn|=a),ie===4&&ka(e,U,at,!1)),Ft(e))}function tv(e,t,a){if((H&6)!==0)throw Error(y(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Fr(e,t),l=n?_b(e,t):Od(e,t,!0),i=n;do{if(l===0){Si&&!n&&ka(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!bb(a)){l=Od(e,t,!1),i=!1;continue}if(l===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var o=e;l=Nr;var s=o.current.memoizedState.isDehydrated;if(s&&(di(o,r).flags|=256),r=Od(o,r,!1),r!==2){if(pm&&!s){o.errorRecoveryDisabledLanes|=i,qn|=i,l=4;break e}i=Ke,Ke=l,i!==null&&(Ke===null?Ke=i:Ke.push.apply(Ke,i))}l=r}if(i=!1,l!==2)continue}}if(l===1){di(e,0),ka(e,t,0,!0);break}e:{switch(n=e,i=l,i){case 0:case 1:throw Error(y(345));case 4:if((t&4194048)!==t)break;case 6:ka(n,t,at,!Za);break e;case 2:Ke=null;break;case 3:case 5:break;default:throw Error(y(329))}if((t&62914560)===t&&(l=vc+300-nt(),10<l)){if(ka(n,t,at,!Za),cc(n,0,!0)!==0)break e;ya=t,n.timeoutHandle=Tv(yh.bind(null,n,a,Ke,$s,pf,t,at,qn,ci,Za,i,"Throttled",-0,0),l);break e}yh(n,a,Ke,$s,pf,t,at,qn,ci,Za,i,null,-0,0)}}break}while(!0);Ft(e)}function yh(e,t,a,n,l,i,r,o,s,c,d,p,u,g){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pa},Qy(t,i,p);var h=(i&62914560)===i?vc-nt():(i&4194048)===i?$y-nt():0;if(h=rD(p,h),h!==null){ya=i,e.cancelPendingCommit=h(Th.bind(null,e,t,i,a,n,l,r,o,s,d,p,null,u,g)),ka(e,i,r,!c);return}}Th(e,t,i,a,n,l,r,o,s)}function bb(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var l=a[n],i=l.getSnapshot;l=l.value;try{if(!ot(i(),l))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ka(e,t,a,n){t&=~Em,t&=~qn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var l=t;0<l;){var i=31-it(l),r=1<<i;n[i]=-1,l&=~r}a!==0&&iS(e,a,t)}function Tc(){return(H&6)===0?(eo(0,!1),!1):!0}function hm(){if(x!==null){if(j===0)var e=x.return;else e=x,Ea=$n=null,am(e),ei=null,Pr=0,e=x;for(;e!==null;)By(e.alternate,e),e=e.return;x=null}}function di(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,qb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ya=0,hm(),Q=e,x=a=ha(e.current,null),U=t,j=0,We=null,Za=!1,Si=Fr(e,t),pm=!1,ci=at=Em=qn=dn=ie=0,Ke=Nr=null,pf=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var l=31-it(n),i=1<<l;t|=e[l],n&=~i}return ba=t,mc(),a}function av(e,t){R=null,O.H=Vr,t===hi||t===pc?(t=JE(),j=3):t===Zf?(t=JE(),j=4):j=t===dm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,We=t,x===null&&(ie=1,Qs(e,At(t,e.current)))}function nv(){var e=st.current;return e===null?!0:(U&4194048)===U?bt===null:(U&62914560)===U||(U&536870912)!==0?e===bt:!1}function lv(){var e=O.H;return O.H=Vr,e===null?Vr:e}function iv(){var e=O.A;return O.A=Ab,e}function Ws(){ie=4,Za||(U&4194048)!==U&&st.current!==null||(Si=!0),(dn&134217727)===0&&(qn&134217727)===0||Q===null||ka(Q,U,at,!1)}function Od(e,t,a){var n=H;H|=2;var l=lv(),i=iv();(Q!==e||U!==t)&&($s=null,di(e,t)),t=!1;var r=ie;e:do try{if(j!==0&&x!==null){var o=x,s=We;switch(j){case 8:hm(),r=6;break e;case 3:case 2:case 9:case 6:st.current===null&&(t=!0);var c=j;if(j=0,We=null,Zl(e,o,s,c),a&&Si){r=0;break e}break;default:c=j,j=0,We=null,Zl(e,o,s,c)}}Db(),r=ie;break}catch(d){av(e,d)}while(!0);return t&&e.shellSuspendCounter++,Ea=$n=null,H=n,O.H=l,O.A=i,x===null&&(Q=null,U=0,mc()),r}function Db(){for(;x!==null;)rv(x)}function _b(e,t){var a=H;H|=2;var n=lv(),l=iv();Q!==e||U!==t?($s=null,Js=nt()+500,di(e,t)):Si=Fr(e,t);e:do try{if(j!==0&&x!==null){t=x;var i=We;t:switch(j){case 1:j=0,We=null,Zl(e,t,i,1);break;case 2:case 9:if(kE(i)){j=0,We=null,vh(t);break}t=function(){j!==2&&j!==9||Q!==e||(j=7),Ft(e)},i.then(t,t);break e;case 3:j=7;break e;case 4:j=5;break e;case 7:kE(i)?(j=0,We=null,vh(t)):(j=0,We=null,Zl(e,t,i,7));break;case 5:var r=null;switch(x.tag){case 26:r=x.memoizedState;case 5:case 27:var o=x;if(r?_v(r):o.stateNode.complete){j=0,We=null;var s=o.sibling;if(s!==null)x=s;else{var c=o.return;c!==null?(x=c,Ac(c)):x=null}break t}}j=0,We=null,Zl(e,t,i,5);break;case 6:j=0,We=null,Zl(e,t,i,6);break;case 8:hm(),ie=6;break e;default:throw Error(y(462))}}Ob();break}catch(d){av(e,d)}while(!0);return Ea=$n=null,O.H=n,O.A=l,H=a,x!==null?0:(Q=null,U=0,mc(),ie)}function Ob(){for(;x!==null&&!k0();)rv(x)}function rv(e){var t=wy(e.alternate,e,ba);e.memoizedProps=e.pendingProps,t===null?Ac(e):x=t}function vh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=mh(a,t,t.pendingProps,t.type,void 0,U);break;case 11:t=mh(a,t,t.pendingProps,t.type.render,t.ref,U);break;case 5:am(t);default:By(a,t),t=x=BS(t,ba),t=wy(a,t,ba)}e.memoizedProps=e.pendingProps,t===null?Ac(e):x=t}function Zl(e,t,a,n){Ea=$n=null,am(t),ei=null,Pr=0;var l=t.return;try{if(pb(e,l,t,a,U)){ie=1,Qs(e,At(a,e.current)),x=null;return}}catch(i){if(l!==null)throw x=l,i;ie=1,Qs(e,At(a,e.current)),x=null;return}t.flags&32768?(z||n===1?e=!0:Si||(U&536870912)!==0?e=!1:(Za=e=!0,(n===2||n===9||n===3||n===6)&&(n=st.current,n!==null&&n.tag===13&&(n.flags|=16384))),ov(t,e)):Ac(t)}function Ac(e){var t=e;do{if((t.flags&32768)!==0){ov(t,Za);return}e=t.return;var a=Sb(t.alternate,t,ba);if(a!==null){x=a;return}if(t=t.sibling,t!==null){x=t;return}x=t=e}while(t!==null);ie===0&&(ie=5)}function ov(e,t){do{var a=yb(e.alternate,e);if(a!==null){a.flags&=32767,x=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){x=e;return}x=e=a}while(e!==null);ie=6,x=null}function Th(e,t,a,n,l,i,r,o,s){e.cancelPendingCommit=null;do Cc();while(Se!==0);if((H&6)!==0)throw Error(y(327));if(t!==null){if(t===e.current)throw Error(y(177));if(i=t.lanes|t.childLanes,i|=qf,rC(e,a,i,r,o,s),e===Q&&(x=Q=null,U=0),ui=t,nn=e,ya=a,Ef=i,hf=l,Wy=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Rb(Ps,function(){return fv(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=O.T,O.T=null,l=G.p,G.p=2,r=H,H|=4;try{vb(e,t,a)}finally{H=r,G.p=l,O.T=n}}Se=1,sv(),cv(),uv()}}function sv(){if(Se===1){Se=0;var e=nn,t=ui,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var n=G.p;G.p=2;var l=H;H|=4;try{Xy(t,e);var i=Af,r=_S(e.containerInfo),o=i.focusedElem,s=i.selectionRange;if(r!==o&&o&&o.ownerDocument&&DS(o.ownerDocument.documentElement,o)){if(s!==null&&Gf(o)){var c=s.start,d=s.end;if(d===void 0&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var p=o.ownerDocument||document,u=p&&p.defaultView||window;if(u.getSelection){var g=u.getSelection(),h=o.textContent.length,v=Math.min(s.start,h),D=s.end===void 0?v:Math.min(s.end,h);!g.extend&&v>D&&(r=D,D=v,v=r);var m=jE(o,v),f=jE(o,D);if(m&&f&&(g.rangeCount!==1||g.anchorNode!==m.node||g.anchorOffset!==m.offset||g.focusNode!==f.node||g.focusOffset!==f.offset)){var E=p.createRange();E.setStart(m.node,m.offset),g.removeAllRanges(),v>D?(g.addRange(E),g.extend(f.node,f.offset)):(E.setEnd(f.node,f.offset),g.addRange(E))}}}}for(p=[],g=o;g=g.parentNode;)g.nodeType===1&&p.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<p.length;o++){var S=p[o];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}oc=!!Tf,Af=Tf=null}finally{H=l,G.p=n,O.T=a}}e.current=t,Se=2}}function cv(){if(Se===2){Se=0;var e=nn,t=ui,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var n=G.p;G.p=2;var l=H;H|=4;try{Hy(e,t.alternate,t)}finally{H=l,G.p=n,O.T=a}}Se=3}}function uv(){if(Se===4||Se===3){Se=0,J0();var e=nn,t=ui,a=ya,n=Wy;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Se=5:(Se=0,ui=nn=null,dv(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(an=null),Bf(a),t=t.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Kr,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=O.T,l=G.p,G.p=2,O.T=null;try{for(var i=e.onRecoverableError,r=0;r<n.length;r++){var o=n[r];i(o.value,{componentStack:o.stack})}}finally{O.T=t,G.p=l}}(ya&3)!==0&&Cc(),Ft(e),l=e.pendingLanes,(a&261930)!==0&&(l&42)!==0?e===Sf?Lr++:(Lr=0,Sf=e):Lr=0,eo(0,!1)}}function dv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Jr(t)))}function Cc(){return sv(),cv(),uv(),fv()}function fv(){if(Se!==5)return!1;var e=nn,t=Ef;Ef=0;var a=Bf(ya),n=O.T,l=G.p;try{G.p=32>a?32:a,O.T=null,a=hf,hf=null;var i=nn,r=ya;if(Se=0,ui=nn=null,ya=0,(H&6)!==0)throw Error(y(331));var o=H;if(H|=4,ky(i.current),Fy(i,i.current,r,a),H=o,eo(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Kr,i)}catch{}return!0}finally{G.p=l,O.T=n,dv(e,t)}}function Ah(e,t,a){t=At(a,t),t=df(e.stateNode,t,2),e=tn(e,t,2),e!==null&&(Qr(e,2),Ft(e))}function Y(e,t,a){if(e.tag===3)Ah(e,e,a);else for(;t!==null;){if(t.tag===3){Ah(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(an===null||!an.has(n))){e=At(a,e),a=Oy(2),n=tn(t,a,2),n!==null&&(Ny(a,n,t,e),Qr(n,2),Ft(n));break}}t=t.return}}function Nd(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Cb;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(a)||(pm=!0,l.add(a),e=Nb.bind(null,e,t,a),t.then(e,e))}function Nb(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Q===e&&(U&a)===a&&(ie===4||ie===3&&(U&62914560)===U&&300>nt()-vc?(H&2)===0&&di(e,0):Em|=a,ci===U&&(ci=0)),Ft(e)}function mv(e,t){t===0&&(t=lS()),e=Jn(e,t),e!==null&&(Qr(e,t),Ft(e))}function Lb(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),mv(e,a)}function Mb(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(y(314))}n!==null&&n.delete(t),mv(e,a)}function Rb(e,t){return If(e,t)}var ec=null,Pl=null,yf=!1,tc=!1,Ld=!1,Ja=0;function Ft(e){e!==Pl&&e.next===null&&(Pl===null?ec=Pl=e:Pl=Pl.next=e),tc=!0,yf||(yf=!0,wb())}function eo(e,t){if(!Ld&&tc){Ld=!0;do for(var a=!1,n=ec;n!==null;){if(!t)if(e!==0){var l=n.pendingLanes;if(l===0)var i=0;else{var r=n.suspendedLanes,o=n.pingedLanes;i=(1<<31-it(42|e)+1)-1,i&=l&~(r&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Ch(n,i))}else i=U,i=cc(n,n===Q?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||Fr(n,i)||(a=!0,Ch(n,i));n=n.next}while(a);Ld=!1}}function Ib(){gv()}function gv(){tc=yf=!1;var e=0;Ja!==0&&Gb()&&(e=Ja);for(var t=nt(),a=null,n=ec;n!==null;){var l=n.next,i=pv(n,t);i===0?(n.next=null,a===null?ec=l:a.next=l,l===null&&(Pl=a)):(a=n,(e!==0||(i&3)!==0)&&(tc=!0)),n=l}Se!==0&&Se!==5||eo(e,!1),Ja!==0&&(Ja=0)}function pv(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-it(i),o=1<<r,s=l[r];s===-1?((o&a)===0||(o&n)!==0)&&(l[r]=iC(o,t)):s<=t&&(e.expiredLanes|=o),i&=~o}if(t=Q,a=U,a=cc(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(j===2||j===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&ld(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Fr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&ld(n),Bf(a)){case 2:case 8:a=aS;break;case 32:a=Ps;break;case 268435456:a=nS;break;default:a=Ps}return n=Ev.bind(null,e),a=If(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&ld(n),e.callbackPriority=2,e.callbackNode=null,2}function Ev(e,t){if(Se!==0&&Se!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Cc()&&e.callbackNode!==a)return null;var n=U;return n=cc(e,e===Q?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(tv(e,n,t),pv(e,nt()),e.callbackNode!=null&&e.callbackNode===a?Ev.bind(null,e):null)}function Ch(e,t){if(Cc())return null;tv(e,t,!0)}function wb(){jb(function(){(H&6)!==0?If(tS,Ib):gv()})}function Sm(){if(Ja===0){var e=ri;e===0&&(e=as,as<<=1,(as&261888)===0&&(as=256)),Ja=e}return Ja}function bh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vs(""+e)}function Dh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Bb(e,t,a,n,l){if(t==="submit"&&a&&a.stateNode===l){var i=bh((l[Qe]||null).action),r=n.submitter;r&&(t=(t=r[Qe]||null)?bh(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var o=new uc("action","action",null,n,l);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ja!==0){var s=r?Dh(l,r):new FormData(l);cf(a,{pending:!0,data:s,method:l.method,action:i},null,s)}}else typeof i=="function"&&(o.preventDefault(),s=r?Dh(l,r):new FormData(l),cf(a,{pending:!0,data:s,method:l.method,action:i},i,s))},currentTarget:l}]})}}for(gs=0;gs<kd.length;gs++)ps=kd[gs],_h=ps.toLowerCase(),Oh=ps[0].toUpperCase()+ps.slice(1),xt(_h,"on"+Oh);var ps,_h,Oh,gs;xt(NS,"onAnimationEnd");xt(LS,"onAnimationIteration");xt(MS,"onAnimationStart");xt("dblclick","onDoubleClick");xt("focusin","onFocus");xt("focusout","onBlur");xt($C,"onTransitionRun");xt(WC,"onTransitionStart");xt(eb,"onTransitionCancel");xt(RS,"onTransitionEnd");li("onMouseEnter",["mouseout","mouseover"]);li("onMouseLeave",["mouseout","mouseover"]);li("onPointerEnter",["pointerout","pointerover"]);li("onPointerLeave",["pointerout","pointerover"]);Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hr));function hv(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],l=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var r=n.length-1;0<=r;r--){var o=n[r],s=o.instance,c=o.currentTarget;if(o=o.listener,s!==i&&l.isPropagationStopped())break e;i=o,l.currentTarget=c;try{i(l)}catch(d){Vs(d)}l.currentTarget=null,i=s}else for(r=0;r<n.length;r++){if(o=n[r],s=o.instance,c=o.currentTarget,o=o.listener,s!==i&&l.isPropagationStopped())break e;i=o,l.currentTarget=c;try{i(l)}catch(d){Vs(d)}l.currentTarget=null,i=s}}}}function B(e,t){var a=t[qd];a===void 0&&(a=t[qd]=new Set);var n=e+"__bubble";a.has(n)||(Sv(t,e,2,!1),a.add(n))}function Md(e,t,a){var n=0;t&&(n|=4),Sv(a,e,n,t)}var Es="_reactListening"+Math.random().toString(36).slice(2);function ym(e){if(!e[Es]){e[Es]=!0,cS.forEach(function(a){a!=="selectionchange"&&(xb.has(a)||Md(a,!1,e),Md(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Es]||(t[Es]=!0,Md("selectionchange",!1,t))}}function Sv(e,t,a,n){switch(Rv(t)){case 2:var l=cD;break;case 8:l=uD;break;default:l=Cm}a=l.bind(null,t,a,e),l=void 0,!Fd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,a,{capture:!0,passive:l}):e.addEventListener(t,a,!0):l!==void 0?e.addEventListener(t,a,{passive:l}):e.addEventListener(t,a,!1)}function Rd(e,t,a,n,l){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var r=n.tag;if(r===3||r===4){var o=n.stateNode.containerInfo;if(o===l)break;if(r===4)for(r=n.return;r!==null;){var s=r.tag;if((s===3||s===4)&&r.stateNode.containerInfo===l)return;r=r.return}for(;o!==null;){if(r=Hl(o),r===null)return;if(s=r.tag,s===5||s===6||s===26||s===27){n=i=r;continue e}o=o.parentNode}}n=n.return}hS(function(){var c=i,d=Pf(a),p=[];e:{var u=IS.get(e);if(u!==void 0){var g=uc,h=e;switch(e){case"keypress":if(As(a)===0)break e;case"keydown":case"keyup":g=MC;break;case"focusin":h="focus",g=cd;break;case"focusout":h="blur",g=cd;break;case"beforeblur":case"afterblur":g=cd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=BE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=SC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=wC;break;case NS:case LS:case MS:g=TC;break;case RS:g=xC;break;case"scroll":case"scrollend":g=EC;break;case"wheel":g=PC;break;case"copy":case"cut":case"paste":g=CC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=UE;break;case"toggle":case"beforetoggle":g=VC}var v=(t&4)!==0,D=!v&&(e==="scroll"||e==="scrollend"),m=v?u!==null?u+"Capture":null:u;v=[];for(var f=c,E;f!==null;){var S=f;if(E=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||E===null||m===null||(S=Ir(f,m),S!=null&&v.push(Gr(f,S,E))),D)break;f=f.return}0<v.length&&(u=new g(u,h,null,a,d),p.push({event:u,listeners:v}))}}if((t&7)===0){e:{if(u=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",u&&a!==Kd&&(h=a.relatedTarget||a.fromElement)&&(Hl(h)||h[gi]))break e;if((g||u)&&(u=d.window===d?d:(u=d.ownerDocument)?u.defaultView||u.parentWindow:window,g?(h=a.relatedTarget||a.toElement,g=c,h=h?Hl(h):null,h!==null&&(D=Xr(h),v=h.tag,h!==D||v!==5&&v!==27&&v!==6)&&(h=null)):(g=null,h=c),g!==h)){if(v=BE,S="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=UE,S="onPointerLeave",m="onPointerEnter",f="pointer"),D=g==null?u:pr(g),E=h==null?u:pr(h),u=new v(S,f+"leave",g,a,d),u.target=D,u.relatedTarget=E,S=null,Hl(d)===c&&(v=new v(m,f+"enter",h,a,d),v.target=E,v.relatedTarget=D,S=v),D=S,g&&h)t:{for(v=Ub,m=g,f=h,E=0,S=m;S;S=v(S))E++;S=0;for(var C=f;C;C=v(C))S++;for(;0<E-S;)m=v(m),E--;for(;0<S-E;)f=v(f),S--;for(;E--;){if(m===f||f!==null&&m===f.alternate){v=m;break t}m=v(m),f=v(f)}v=null}else v=null;g!==null&&Nh(p,u,g,v,!1),h!==null&&D!==null&&Nh(p,D,h,v,!0)}}e:{if(u=c?pr(c):window,g=u.nodeName&&u.nodeName.toLowerCase(),g==="select"||g==="input"&&u.type==="file")var I=HE;else if(VE(u))if(CS)I=ZC;else{I=FC;var T=KC}else g=u.nodeName,!g||g.toLowerCase()!=="input"||u.type!=="checkbox"&&u.type!=="radio"?c&&Uf(c.elementType)&&(I=HE):I=QC;if(I&&(I=I(e,c))){AS(p,I,a,d);break e}T&&T(e,u,c),e==="focusout"&&c&&u.type==="number"&&c.memoizedProps.value!=null&&Xd(u,"number",u.value)}switch(T=c?pr(c):window,e){case"focusin":(VE(T)||T.contentEditable==="true")&&(jl=T,Qd=c,vr=null);break;case"focusout":vr=Qd=jl=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,YE(p,a,d);break;case"selectionchange":if(JC)break;case"keydown":case"keyup":YE(p,a,d)}var _;if(Hf)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else ql?vS(e,a)&&(b="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(b="onCompositionStart");b&&(yS&&a.locale!=="ko"&&(ql||b!=="onCompositionStart"?b==="onCompositionEnd"&&ql&&(_=SS()):(Qa=d,zf="value"in Qa?Qa.value:Qa.textContent,ql=!0)),T=ac(c,b),0<T.length&&(b=new xE(b,e,null,a,d),p.push({event:b,listeners:T}),_?b.data=_:(_=TS(a),_!==null&&(b.data=_)))),(_=GC?qC(e,a):jC(e,a))&&(b=ac(c,"onBeforeInput"),0<b.length&&(T=new xE("onBeforeInput","beforeinput",null,a,d),p.push({event:T,listeners:b}),T.data=_)),Bb(p,e,c,a,d)}hv(p,t)})}function Gr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ac(e,t){for(var a=t+"Capture",n=[];e!==null;){var l=e,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=Ir(e,a),l!=null&&n.unshift(Gr(e,l,i)),l=Ir(e,t),l!=null&&n.push(Gr(e,l,i))),e.tag===3)return n;e=e.return}return[]}function Ub(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Nh(e,t,a,n,l){for(var i=t._reactName,r=[];a!==null&&a!==n;){var o=a,s=o.alternate,c=o.stateNode;if(o=o.tag,s!==null&&s===n)break;o!==5&&o!==26&&o!==27||c===null||(s=c,l?(c=Ir(a,i),c!=null&&r.unshift(Gr(a,c,s))):l||(c=Ir(a,i),c!=null&&r.push(Gr(a,c,s)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var Pb=/\r\n?/g,zb=/\u0000|\uFFFD/g;function Lh(e){return(typeof e=="string"?e:""+e).replace(Pb,`
`).replace(zb,"")}function yv(e,t){return t=Lh(t),Lh(e)===t}function K(e,t,a,n,l,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||ii(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&ii(e,""+n);break;case"className":is(e,"class",n);break;case"tabIndex":is(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":is(e,a,n);break;case"style":ES(e,n,i);break;case"data":if(t!=="object"){is(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=vs(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&K(e,t,"name",l.name,l,null),K(e,t,"formEncType",l.formEncType,l,null),K(e,t,"formMethod",l.formMethod,l,null),K(e,t,"formTarget",l.formTarget,l,null)):(K(e,t,"encType",l.encType,l,null),K(e,t,"method",l.method,l,null),K(e,t,"target",l.target,l,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=vs(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=pa);break;case"onScroll":n!=null&&B("scroll",e);break;case"onScrollEnd":n!=null&&B("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(y(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(y(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=vs(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":B("beforetoggle",e),B("toggle",e),ys(e,"popover",n);break;case"xlinkActuate":oa(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":oa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":oa(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":oa(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":oa(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":oa(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":oa(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":oa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":oa(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ys(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gC.get(a)||a,ys(e,a,n))}}function vf(e,t,a,n,l,i){switch(a){case"style":ES(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(y(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(y(60));e.innerHTML=a}}break;case"children":typeof n=="string"?ii(e,n):(typeof n=="number"||typeof n=="bigint")&&ii(e,""+n);break;case"onScroll":n!=null&&B("scroll",e);break;case"onScrollEnd":n!=null&&B("scrollend",e);break;case"onClick":n!=null&&(e.onclick=pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uS.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),t=a.slice(2,l?a.length-7:void 0),i=e[Qe]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,l),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,l);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):ys(e,a,n)}}}function we(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":B("error",e),B("load",e);var n=!1,l=!1,i;for(i in a)if(a.hasOwnProperty(i)){var r=a[i];if(r!=null)switch(i){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(y(137,t));default:K(e,t,i,r,a,null)}}l&&K(e,t,"srcSet",a.srcSet,a,null),n&&K(e,t,"src",a.src,a,null);return;case"input":B("invalid",e);var o=i=r=l=null,s=null,c=null;for(n in a)if(a.hasOwnProperty(n)){var d=a[n];if(d!=null)switch(n){case"name":l=d;break;case"type":r=d;break;case"checked":s=d;break;case"defaultChecked":c=d;break;case"value":i=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(y(137,t));break;default:K(e,t,n,d,a,null)}}mS(e,i,o,s,c,r,l,!1);return;case"select":B("invalid",e),n=r=i=null;for(l in a)if(a.hasOwnProperty(l)&&(o=a[l],o!=null))switch(l){case"value":i=o;break;case"defaultValue":r=o;break;case"multiple":n=o;default:K(e,t,l,o,a,null)}t=i,a=r,e.multiple=!!n,t!=null?Jl(e,!!n,t,!1):a!=null&&Jl(e,!!n,a,!0);return;case"textarea":B("invalid",e),i=l=n=null;for(r in a)if(a.hasOwnProperty(r)&&(o=a[r],o!=null))switch(r){case"value":n=o;break;case"defaultValue":l=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(y(91));break;default:K(e,t,r,o,a,null)}pS(e,n,l,i);return;case"option":for(s in a)if(a.hasOwnProperty(s)&&(n=a[s],n!=null))switch(s){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:K(e,t,s,n,a,null)}return;case"dialog":B("beforetoggle",e),B("toggle",e),B("cancel",e),B("close",e);break;case"iframe":case"object":B("load",e);break;case"video":case"audio":for(n=0;n<Hr.length;n++)B(Hr[n],e);break;case"image":B("error",e),B("load",e);break;case"details":B("toggle",e);break;case"embed":case"source":case"link":B("error",e),B("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in a)if(a.hasOwnProperty(c)&&(n=a[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(y(137,t));default:K(e,t,c,n,a,null)}return;default:if(Uf(t)){for(d in a)a.hasOwnProperty(d)&&(n=a[d],n!==void 0&&vf(e,t,d,n,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(n=a[o],n!=null&&K(e,t,o,n,a,null))}function Vb(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,r=null,o=null,s=null,c=null,d=null;for(g in a){var p=a[g];if(a.hasOwnProperty(g)&&p!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":s=p;default:n.hasOwnProperty(g)||K(e,t,g,null,n,p)}}for(var u in n){var g=n[u];if(p=a[u],n.hasOwnProperty(u)&&(g!=null||p!=null))switch(u){case"type":i=g;break;case"name":l=g;break;case"checked":c=g;break;case"defaultChecked":d=g;break;case"value":r=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(y(137,t));break;default:g!==p&&K(e,t,u,g,n,p)}}Yd(e,r,o,s,c,d,i,l);return;case"select":g=r=o=u=null;for(i in a)if(s=a[i],a.hasOwnProperty(i)&&s!=null)switch(i){case"value":break;case"multiple":g=s;default:n.hasOwnProperty(i)||K(e,t,i,null,n,s)}for(l in n)if(i=n[l],s=a[l],n.hasOwnProperty(l)&&(i!=null||s!=null))switch(l){case"value":u=i;break;case"defaultValue":o=i;break;case"multiple":r=i;default:i!==s&&K(e,t,l,i,n,s)}t=o,a=r,n=g,u!=null?Jl(e,!!a,u,!1):!!n!=!!a&&(t!=null?Jl(e,!!a,t,!0):Jl(e,!!a,a?[]:"",!1));return;case"textarea":g=u=null;for(o in a)if(l=a[o],a.hasOwnProperty(o)&&l!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:K(e,t,o,null,n,l)}for(r in n)if(l=n[r],i=a[r],n.hasOwnProperty(r)&&(l!=null||i!=null))switch(r){case"value":u=l;break;case"defaultValue":g=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(y(91));break;default:l!==i&&K(e,t,r,l,n,i)}gS(e,u,g);return;case"option":for(var h in a)if(u=a[h],a.hasOwnProperty(h)&&u!=null&&!n.hasOwnProperty(h))switch(h){case"selected":e.selected=!1;break;default:K(e,t,h,null,n,u)}for(s in n)if(u=n[s],g=a[s],n.hasOwnProperty(s)&&u!==g&&(u!=null||g!=null))switch(s){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:K(e,t,s,u,n,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in a)u=a[v],a.hasOwnProperty(v)&&u!=null&&!n.hasOwnProperty(v)&&K(e,t,v,null,n,u);for(c in n)if(u=n[c],g=a[c],n.hasOwnProperty(c)&&u!==g&&(u!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(y(137,t));break;default:K(e,t,c,u,n,g)}return;default:if(Uf(t)){for(var D in a)u=a[D],a.hasOwnProperty(D)&&u!==void 0&&!n.hasOwnProperty(D)&&vf(e,t,D,void 0,n,u);for(d in n)u=n[d],g=a[d],!n.hasOwnProperty(d)||u===g||u===void 0&&g===void 0||vf(e,t,d,u,n,g);return}}for(var m in a)u=a[m],a.hasOwnProperty(m)&&u!=null&&!n.hasOwnProperty(m)&&K(e,t,m,null,n,u);for(p in n)u=n[p],g=a[p],!n.hasOwnProperty(p)||u===g||u==null&&g==null||K(e,t,p,u,n,g)}function Mh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var l=a[n],i=l.transferSize,r=l.initiatorType,o=l.duration;if(i&&o&&Mh(r)){for(r=0,o=l.responseEnd,n+=1;n<a.length;n++){var s=a[n],c=s.startTime;if(c>o)break;var d=s.transferSize,p=s.initiatorType;d&&Mh(p)&&(s=s.responseEnd,r+=d*(s<o?1:(o-c)/(s-c)))}if(--n,t+=8*(i+r)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Tf=null,Af=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function Rh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Cf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Id=null;function Gb(){var e=window.event;return e&&e.type==="popstate"?e===Id?!1:(Id=e,!0):(Id=null,!1)}var Tv=typeof setTimeout=="function"?setTimeout:void 0,qb=typeof clearTimeout=="function"?clearTimeout:void 0,Ih=typeof Promise=="function"?Promise:void 0,jb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ih<"u"?function(e){return Ih.resolve(null).then(e).catch(Yb)}:Tv;function Yb(e){setTimeout(function(){throw e})}function mn(e){return e==="head"}function wh(e,t){var a=t,n=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(l),mi(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Mr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Mr(a);for(var i=a.firstChild;i;){var r=i.nextSibling,o=i.nodeName;i[Zr]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}else a==="body"&&Mr(e.ownerDocument.body);a=l}while(a);mi(t)}function Bh(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function bf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bf(a),xf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Xb(e,t,a,n){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Zr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Dt(e.nextSibling),e===null)break}return null}function Kb(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Dt(e.nextSibling),e===null))return null;return e}function Av(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dt(e.nextSibling),e===null))return null;return e}function Df(e){return e.data==="$?"||e.data==="$~"}function _f(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Fb(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Dt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Of=null;function xh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Dt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Uh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Cv(e,t,a){switch(t=nc(a),e){case"html":if(e=t.documentElement,!e)throw Error(y(452));return e;case"head":if(e=t.head,!e)throw Error(y(453));return e;case"body":if(e=t.body,!e)throw Error(y(454));return e;default:throw Error(y(451))}}function Mr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);xf(e)}var _t=new Map,Ph=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Da=G.d;G.d={f:Qb,r:Zb,D:kb,C:Jb,L:$b,m:Wb,X:tD,S:eD,M:aD};function Qb(){var e=Da.f(),t=Tc();return e||t}function Zb(e){var t=pi(e);t!==null&&t.tag===5&&t.type==="form"?Ey(t):Da.r(e)}var yi=typeof document>"u"?null:document;function bv(e,t,a){var n=yi;if(n&&typeof t=="string"&&t){var l=Tt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),Ph.has(l)||(Ph.add(l),e={rel:e,crossOrigin:a,href:t},n.querySelector(l)===null&&(t=n.createElement("link"),we(t,"link",e),be(t),n.head.appendChild(t)))}}function kb(e){Da.D(e),bv("dns-prefetch",e,null)}function Jb(e,t){Da.C(e,t),bv("preconnect",e,t)}function $b(e,t,a){Da.L(e,t,a);var n=yi;if(n&&e&&t){var l='link[rel="preload"][as="'+Tt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+Tt(a.imageSizes)+'"]')):l+='[href="'+Tt(e)+'"]';var i=l;switch(t){case"style":i=fi(e);break;case"script":i=vi(e)}_t.has(i)||(e=W({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),_t.set(i,e),n.querySelector(l)!==null||t==="style"&&n.querySelector(to(i))||t==="script"&&n.querySelector(ao(i))||(t=n.createElement("link"),we(t,"link",e),be(t),n.head.appendChild(t)))}}function Wb(e,t){Da.m(e,t);var a=yi;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Tt(n)+'"][href="'+Tt(e)+'"]',i=l;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=vi(e)}if(!_t.has(i)&&(e=W({rel:"modulepreload",href:e},t),_t.set(i,e),a.querySelector(l)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ao(i)))return}n=a.createElement("link"),we(n,"link",e),be(n),a.head.appendChild(n)}}}function eD(e,t,a){Da.S(e,t,a);var n=yi;if(n&&e){var l=kl(n).hoistableStyles,i=fi(e);t=t||"default";var r=l.get(i);if(!r){var o={loading:0,preload:null};if(r=n.querySelector(to(i)))o.loading=5;else{e=W({rel:"stylesheet",href:e,"data-precedence":t},a),(a=_t.get(i))&&vm(e,a);var s=r=n.createElement("link");be(s),we(s,"link",e),s._p=new Promise(function(c,d){s.onload=c,s.onerror=d}),s.addEventListener("load",function(){o.loading|=1}),s.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ms(r,t,n)}r={type:"stylesheet",instance:r,count:1,state:o},l.set(i,r)}}}function tD(e,t){Da.X(e,t);var a=yi;if(a&&e){var n=kl(a).hoistableScripts,l=vi(e),i=n.get(l);i||(i=a.querySelector(ao(l)),i||(e=W({src:e,async:!0},t),(t=_t.get(l))&&Tm(e,t),i=a.createElement("script"),be(i),we(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function aD(e,t){Da.M(e,t);var a=yi;if(a&&e){var n=kl(a).hoistableScripts,l=vi(e),i=n.get(l);i||(i=a.querySelector(ao(l)),i||(e=W({src:e,async:!0,type:"module"},t),(t=_t.get(l))&&Tm(e,t),i=a.createElement("script"),be(i),we(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function zh(e,t,a,n){var l=(l=$a.current)?lc(l):null;if(!l)throw Error(y(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=fi(a.href),a=kl(l).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=fi(a.href);var i=kl(l).hoistableStyles,r=i.get(e);if(r||(l=l.ownerDocument||l,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=l.querySelector(to(e)))&&!i._p&&(r.instance=i,r.state.loading=5),_t.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},_t.set(e,a),i||nD(l,e,a,r.state))),t&&n===null)throw Error(y(528,""));return r}if(t&&n!==null)throw Error(y(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=vi(a),a=kl(l).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(y(444,e))}}function fi(e){return'href="'+Tt(e)+'"'}function to(e){return'link[rel="stylesheet"]['+e+"]"}function Dv(e){return W({},e,{"data-precedence":e.precedence,precedence:null})}function nD(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),we(t,"link",a),be(t),e.head.appendChild(t))}function vi(e){return'[src="'+Tt(e)+'"]'}function ao(e){return"script[async]"+e}function Vh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(n)return t.instance=n,be(n),n;var l=W({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),be(n),we(n,"style",l),Ms(n,a.precedence,e),t.instance=n;case"stylesheet":l=fi(a.href);var i=e.querySelector(to(l));if(i)return t.state.loading|=4,t.instance=i,be(i),i;n=Dv(a),(l=_t.get(l))&&vm(n,l),i=(e.ownerDocument||e).createElement("link"),be(i);var r=i;return r._p=new Promise(function(o,s){r.onload=o,r.onerror=s}),we(i,"link",n),t.state.loading|=4,Ms(i,a.precedence,e),t.instance=i;case"script":return i=vi(a.src),(l=e.querySelector(ao(i)))?(t.instance=l,be(l),l):(n=a,(l=_t.get(i))&&(n=W({},a),Tm(n,l)),e=e.ownerDocument||e,l=e.createElement("script"),be(l),we(l,"link",n),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(y(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Ms(n,a.precedence,e));return t.instance}function Ms(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=n.length?n[n.length-1]:null,i=l,r=0;r<n.length;r++){var o=n[r];if(o.dataset.precedence===t)i=o;else if(i!==l)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function vm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Tm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Rs=null;function Hh(e,t,a){if(Rs===null){var n=new Map,l=Rs=new Map;l.set(a,n)}else l=Rs,n=l.get(a),n||(n=new Map,l.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var i=a[l];if(!(i[Zr]||i[Me]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var o=n.get(r);o?o.push(i):n.set(r,[i])}}return n}function Gh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function lD(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _v(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iD(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var l=fi(n.href),i=t.querySelector(to(l));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ic.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,be(i);return}i=t.ownerDocument||t,n=Dv(n),(l=_t.get(l))&&vm(n,l),i=i.createElement("link"),be(i);var r=i;r._p=new Promise(function(o,s){r.onload=o,r.onerror=s}),we(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ic.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var wd=0;function rD(e,t){return e.stylesheets&&e.count===0&&Is(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&Is(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&wd===0&&(wd=62500*Hb());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Is(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>wd?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(l)}}:null}function ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Is(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var rc=null;function Is(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,rc=new Map,t.forEach(oD,e),rc=null,ic.call(e))}function oD(e,t){if(!(t.state.loading&4)){var a=rc.get(e);if(a)var n=a.get(null);else{a=new Map,rc.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var r=l[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),n=r)}n&&a.set(null,n)}l=t.instance,r=l.getAttribute("data-precedence"),i=a.get(r)||n,i===n&&a.set(null,l),a.set(r,l),this.count++,n=ic.bind(this),l.addEventListener("load",n),l.addEventListener("error",n),i?i.parentNode.insertBefore(l,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var qr={$$typeof:ga,Provider:null,Consumer:null,_currentValue:zn,_currentValue2:zn,_threadCount:0};function sD(e,t,a,n,l,i,r,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=id(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=id(0),this.hiddenUpdates=id(null),this.identifierPrefix=n,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Ov(e,t,a,n,l,i,r,o,s,c,d,p){return e=new sD(e,t,a,r,s,c,d,p,o),t=1,i===!0&&(t|=24),i=tt(3,null,null,t),e.current=i,i.stateNode=e,t=Ff(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},kf(i),e}function Nv(e){return e?(e=Kl,e):Kl}function Lv(e,t,a,n,l,i){l=Nv(l),n.context===null?n.context=l:n.pendingContext=l,n=en(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=tn(e,n,t),a!==null&&(Fe(a,e,t),Ar(a,e,t))}function qh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Am(e,t){qh(e,t),(e=e.alternate)&&qh(e,t)}function Mv(e){if(e.tag===13||e.tag===31){var t=Jn(e,67108864);t!==null&&Fe(t,e,67108864),Am(e,67108864)}}function jh(e){if(e.tag===13||e.tag===31){var t=rt();t=wf(t);var a=Jn(e,t);a!==null&&Fe(a,e,t),Am(e,t)}}var oc=!0;function cD(e,t,a,n){var l=O.T;O.T=null;var i=G.p;try{G.p=2,Cm(e,t,a,n)}finally{G.p=i,O.T=l}}function uD(e,t,a,n){var l=O.T;O.T=null;var i=G.p;try{G.p=8,Cm(e,t,a,n)}finally{G.p=i,O.T=l}}function Cm(e,t,a,n){if(oc){var l=Nf(n);if(l===null)Rd(e,t,n,sc,a),Yh(e,n);else if(fD(l,e,t,a,n))n.stopPropagation();else if(Yh(e,n),t&4&&-1<dD.indexOf(e)){for(;l!==null;){var i=pi(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=xn(i.pendingLanes);if(r!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var s=1<<31-it(r);o.entanglements[1]|=s,r&=~s}Ft(i),(H&6)===0&&(Js=nt()+500,eo(0,!1))}}break;case 31:case 13:o=Jn(i,2),o!==null&&Fe(o,i,2),Tc(),Am(i,2)}if(i=Nf(n),i===null&&Rd(e,t,n,sc,a),i===l)break;l=i}l!==null&&n.stopPropagation()}else Rd(e,t,n,null,a)}}function Nf(e){return e=Pf(e),bm(e)}var sc=null;function bm(e){if(sc=null,e=Hl(e),e!==null){var t=Xr(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=kh(t),e!==null)return e;e=null}else if(a===31){if(e=Jh(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sc=e,null}function Rv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($0()){case tS:return 2;case aS:return 8;case Ps:case W0:return 32;case nS:return 268435456;default:return 32}default:return 32}}var Lf=!1,ln=null,rn=null,on=null,jr=new Map,Yr=new Map,Ka=[],dD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yh(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":jr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yr.delete(t.pointerId)}}function dr(e,t,a,n,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[l]},t!==null&&(t=pi(t),t!==null&&Mv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function fD(e,t,a,n,l){switch(t){case"focusin":return ln=dr(ln,e,t,a,n,l),!0;case"dragenter":return rn=dr(rn,e,t,a,n,l),!0;case"mouseover":return on=dr(on,e,t,a,n,l),!0;case"pointerover":var i=l.pointerId;return jr.set(i,dr(jr.get(i)||null,e,t,a,n,l)),!0;case"gotpointercapture":return i=l.pointerId,Yr.set(i,dr(Yr.get(i)||null,e,t,a,n,l)),!0}return!1}function Iv(e){var t=Hl(e.target);if(t!==null){var a=Xr(t);if(a!==null){if(t=a.tag,t===13){if(t=kh(a),t!==null){e.blockedOn=t,OE(e.priority,function(){jh(a)});return}}else if(t===31){if(t=Jh(a),t!==null){e.blockedOn=t,OE(e.priority,function(){jh(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ws(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Nf(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Kd=n,a.target.dispatchEvent(n),Kd=null}else return t=pi(a),t!==null&&Mv(t),e.blockedOn=a,!1;t.shift()}return!0}function Xh(e,t,a){ws(e)&&a.delete(t)}function mD(){Lf=!1,ln!==null&&ws(ln)&&(ln=null),rn!==null&&ws(rn)&&(rn=null),on!==null&&ws(on)&&(on=null),jr.forEach(Xh),Yr.forEach(Xh)}function hs(e,t){e.blockedOn===t&&(e.blockedOn=null,Lf||(Lf=!0,ye.unstable_scheduleCallback(ye.unstable_NormalPriority,mD)))}var Ss=null;function Kh(e){Ss!==e&&(Ss=e,ye.unstable_scheduleCallback(ye.unstable_NormalPriority,function(){Ss===e&&(Ss=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],l=e[t+2];if(typeof n!="function"){if(bm(n||a)===null)continue;break}var i=pi(a);i!==null&&(e.splice(t,3),t-=3,cf(i,{pending:!0,data:l,method:a.method,action:n},n,l))}}))}function mi(e){function t(s){return hs(s,e)}ln!==null&&hs(ln,e),rn!==null&&hs(rn,e),on!==null&&hs(on,e),jr.forEach(t),Yr.forEach(t);for(var a=0;a<Ka.length;a++){var n=Ka[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ka.length&&(a=Ka[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&Ka.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var l=a[n],i=a[n+1],r=l[Qe]||null;if(typeof i=="function")r||Kh(a);else if(r){var o=null;if(i&&i.hasAttribute("formAction")){if(l=i,r=i[Qe]||null)o=r.formAction;else if(bm(l)!==null)continue}else o=r.action;typeof o=="function"?a[n+1]=o:(a.splice(n,3),n-=3),Kh(a)}}}function wv(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return l=r})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function Dm(e){this._internalRoot=e}bc.prototype.render=Dm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(y(409));var a=t.current,n=rt();Lv(a,n,e,t,null,null)};bc.prototype.unmount=Dm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lv(e.current,2,null,e,null,null),Tc(),t[gi]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var t=sS();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ka.length&&t!==0&&t<Ka[a].priority;a++);Ka.splice(a,0,e),a===0&&Iv(e)}};var Fh=Qh.version;if(Fh!=="19.2.0")throw Error(y(527,Fh,"19.2.0"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(y(188)):(e=Object.keys(e).join(","),Error(y(268,e)));return e=X0(t),e=e!==null?$h(e):null,e=e===null?null:e.stateNode,e};var gD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(fr=__REACT_DEVTOOLS_GLOBAL_HOOK__,!fr.isDisabled&&fr.supportsFiber))try{Kr=fr.inject(gD),lt=fr}catch{}var fr;Dc.createRoot=function(e,t){if(!Zh(e))throw Error(y(299));var a=!1,n="",l=by,i=Dy,r=_y;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Ov(e,1,!1,null,null,a,n,null,l,i,r,wv),e[gi]=t.current,ym(e),new Dm(t)};Dc.hydrateRoot=function(e,t,a){if(!Zh(e))throw Error(y(299));var n=!1,l="",i=by,r=Dy,o=_y,s=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.formState!==void 0&&(s=a.formState)),t=Ov(e,1,!0,t,a??null,n,l,s,i,r,o,wv),t.context=Nv(null),a=t.current,n=rt(),n=wf(n),l=en(n),l.callback=null,tn(a,l,n),a=n,t.current.lanes=a,Qr(t,a),Ft(t),e[gi]=t.current,ym(e),new bc(t)};Dc.version="19.2.0"});var Pv=Oa((s1,Uv)=>{"use strict";function xv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xv)}catch(e){console.error(e)}}xv(),Uv.exports=Bv()});var X={DATE_INPUT:"date",DIET_TYPE_SELECT:"diet-type",TOP_BAR:".top-bar",FOOTER:"footer",EASTER_EGG_OVERLAY:".easter-egg-overlay",EASTER_EGG_ICON:".easter-egg-icon",SERVICE_NUMBER_PREFIX:"service-number-",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2",TAB_DADES:"tab-dades",TAB_SERVEIS:"tab-serveis",CONTENT_DADES:"dades-tab-content",CONTENT_SERVEIS:"serveis-tab-content",MAIN_CONTENT_AREA:"main-content",CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips",SIGNATURE_MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title",DOTACIO_MODAL:"dotacio-modal",OPTIONS_CONTAINER_DOT:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline",SAVE_DIET:"save-diet",NOTES_BUTTON_ID:"notes-selected-service",NOTES_MODAL_ID:"notes-modal",NOTES_TITLE_ID:"notes-title",NOTES_TEXTAREA_ID:"notes-textarea",NOTES_SAVE_ID:"notes-save",NOTES_CANCEL_ID:"notes-cancel",NOTES_COUNTER_ID:"notes-char-counter",SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel",TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text",SAVE_PILL:"save-pill",DONATION_LINK_ID:"openDonation",COOKIE_CONSENT_BANNER:"cookie-consent-banner",ACCEPT_COOKIES:"accept-cookies",DECLINE_COOKIES:"decline-cookies"},Pe={INPUT_ERROR:"input-error",ACTIVE_TAB:"active",ERROR_TAB:"error-tab",MODAL_OPEN:"modal-open",MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",TOP_BAR_TAPS:3,FOOTER_TAPS:2,TIMEOUT:1e3,ANIMATION_DURATION:1e3,DEFAULT_DURATION:3e3,ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1,SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",CHIP_ACTIVE:"chip-active",PANEL_VISIBLE:"visible",BUTTON_OPEN:"open",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_LOAD_BTN:"diet-load",DIET_DELETE_BTN:"diet-delete",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal",INPUT_ERROR_DOT:"input-error",IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount",PROMPT_DISMISSED_LIMIT:2,ACTION_TRIGGER_LIMIT:10,DARK_THEME:"theme-dark",VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error",SIGNED:"signed",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},tl={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group",PERSON_INPUT_GROUP:".input-with-icon",TEXT_SEL:".pill-text",SERVICE_CONTAINER_SELECTOR:".service",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete",SERVICE_NUMBER_INPUT:".service-number"},Pc={serviceNumber:".service-number",origin:".origin",destination:".destination",originTime:".origin-time",destinationTime:".destination-time",endTime:".end-time",mode:".chip-active",notes:""},Zt={SERVICE_NUMBER_LENGTH:9,VEHICLE_MAX_LENGTH:6,PERSON_NAME_MAX_LENGTH:28,LOCATION_MAX_LENGTH:35,PERSON_NAME_ALLOWED_CHARS:/^[a-zA-Z\s']+$/u},Ym={DEBOUNCE_TOAST:300,DEBOUNCE_AUTO_SAVE:1e3,DEBOUNCE_HANDLER:800};var wi={LUNCH:"lunch",DINNER:"dinner"},Xm=tl.SERVICE_CONTAINER_SELECTOR,zc={SERVICE_NUMBER_DIGITS_ONLY:"Solo se permiten d\xEDgitos (0-9) en el n\xFAmero de servicio.",SAVE_ERROR_DIGITAL_ONLY:"El n\xFAmero de servicio debe contener solo d\xEDgitos.",VALIDATION_FAILED:"Validaci\xF3n fallida",OCR_PROCESS_RUNNING:"Proceso OCR ya en marcha.",INVALID_IMAGE:"Selecciona una imagen.",IMAGE_TOO_BIG:"La imagen es demasiado grande (m\xE1x. 10 MB).",OCR_ERROR:"Error de escaneo",IMAGE_PROCESS_ERROR:"Error al procesar la imagen.",OCR_COMPLETE:"An\xE1lisis completado.",SAVING:"Guardando\u2026",SAVED:"Guardado",SAVE_ERROR:"No se pudo guardar",DOWNLOAD_STARTED:"Descarga iniciada correctamente.",PDF_GENERATION_ERROR:"Error en la generaci\xF3n del PDF",DOTACIO_SAVED:"Dotaci\xF3n guardada.",DOTACIO_LOADED:"Dotaci\xF3n cargada.",DOTACIO_DELETED:"Dotaci\xF3n eliminada."};var Km={DOTACIIONS:"dotacions_v2",ANONYMOUS_USER:"anonymousUserId",COOKIE_CONSENT:"cookie_consent",THEME_PREFERENCE:"themePreference",USER_SELECTED_SERVICE_TYPE:"userSelectedServiceType",ONBOARDING_COMPLETED:"onboardingCompleted"};Ot();function En(e){e?.classList.add(Pe.INPUT_ERROR)}function al(e){e?.classList.remove(Pe.INPUT_ERROR)}function Zm(e){if(!e||e.length===0)return"";let t=e.map(a=>`S${a}`);return t.length===1?t[0]:t.length===2?t.join(" y "):`${t.slice(0,-1).join(", ")} y ${t[t.length-1]}`}function Bi(e){!e||e.dataset.errorListenerAttached||(e.addEventListener("input",()=>al(e),{once:!0}),e.dataset.errorListenerAttached="true")}function km(e,t,a,n){if(!e)return!0;al(e);let l=e.value.trim(),i=!1;return l?/^\d+$/.test(l)?l.length!==Zt.SERVICE_NUMBER_LENGTH&&(n.digitLength.push(t),i=!0):(n.nonNumeric.push(t),i=!0):a&&(n.emptyRequiredS1=!0,i=!0),i?(En(e),Bi(e),!1):!0}function HT(e){let t=[];return e.nonNumeric.length>0&&t.push(`El n\xFAmero de servicio ${Zm(e.nonNumeric)} debe contener solo d\xEDgitos.`),e.digitLength.length>0&&t.push(`El n\xFAmero de servicio ${Zm(e.digitLength)} debe tener ${Zt.SERVICE_NUMBER_LENGTH} d\xEDgitos.`),t}function fo(){let e=!0;return[document.getElementById(X.DATE_INPUT),document.getElementById(X.DIET_TYPE_SELECT)].filter(Boolean).forEach(a=>{al(a),a.value.trim()||(En(a),Bi(a),e=!1)}),e}function mo(){let e={emptyRequiredS1:!1,nonNumeric:[],digitLength:[]},t=!0,a=document.getElementById(`${X.SERVICE_NUMBER_PREFIX}1`);if(!a)return console.error("Validation: No se ha encontrado el input para el servicio S1."),!1;t=km(a,1,!0,e)&&t;for(let l=2;l<=4;l++){let i=document.getElementById(`${X.SERVICE_NUMBER_PREFIX}${l}`);i&&(t=km(i,l,!1,e)&&t)}if(t)return!0;let n=HT(e);return n.length>0&&A(n.join(`
`),"error"),!1}function de(e){return typeof e!="string"?"":e.trim().replace(/[<>&"'`]/g,"").trim()}function go(e){return e?/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/.test(e):!0}function Jm(e,t,a,n){let l=e?.value.trim()||"";return l&&!Zt.PERSON_NAME_ALLOWED_CHARS.test(l)?(En(t),!1):l.length>Zt.PERSON_NAME_MAX_LENGTH?(En(t),n.push(`El nombre del ${a} no puede superar los ${Zt.PERSON_NAME_MAX_LENGTH} caracteres.`),!1):!0}function $m(){let e=document.getElementById(X.VEHICLE_INPUT),t=document.getElementById(X.PERSON1_INPUT),a=document.getElementById(X.PERSON2_INPUT),n=t?.closest(tl.PERSON_INPUT_GROUP),l=a?.closest(tl.PERSON_INPUT_GROUP);al(e),al(n),al(l);let i=e?.value.trim()||"",r=t?.value.trim()||"",o=a?.value.trim()||"",s=!0,c=[];return i||(En(e),c.push("El campo Veh\xEDculo es obligatorio."),s=!1),s=Jm(t,n,"Conductor",c)&&s,s=Jm(a,l,"Ayudante",c)&&s,!r&&!o&&(En(n),En(l),c.push("Debe indicar al menos un Conductor o Ayudante."),s=!1),s||(Bi(e),Bi(t),Bi(a),A(c.join(`
`),"error")),s}function Wm(){let e=Zt.PERSON_NAME_ALLOWED_CHARS,t=/^[^\x00-\x1F\x7F<>&"'`]*$/u;function a(c){let d=c.target.value;e.test(d)||(c.target.value=d.replace(/[^a-zA-Z\s'.]/g,""))}function n(c){let d=c.target.value;t.test(d)||(c.target.value=d.replace(/[<>&"'`]/g,"").trim())}function l(c){c.key==="Enter"||c.key==="Tab"||c.ctrlKey||c.metaKey||c.altKey||c.key.length>1||e.test(c.key)||c.preventDefault()}function i(c){c.key==="Enter"||c.key==="Tab"||c.ctrlKey||c.metaKey||c.altKey||c.key.length>1||t.test(c.key)||c.preventDefault()}[document.getElementById(X.PERSON1_INPUT),document.getElementById(X.PERSON2_INPUT)].filter(Boolean).forEach(c=>{c.addEventListener("input",a),c.addEventListener("keypress",l)}),document.querySelectorAll(".service .origin, .service .destination").forEach(c=>{c.addEventListener("input",n),c.addEventListener("keypress",i)});let s=document.getElementById(X.VEHICLE_INPUT);s&&s.addEventListener("input",c=>{c.target.value.length>Zt.VEHICLE_MAX_LENGTH&&(c.target.value=c.target.value.slice(0,Zt.VEHICLE_MAX_LENGTH))})}var Na={debug:10,info:20,warn:30,error:40,silent:50};function GT(){if(typeof window<"u"&&window.location){let e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"||e==="[::1]"||e.endsWith(".local")?"development":"production"}if(typeof import.meta<"u"&&import.meta.env){if(typeof import.meta.env.MODE=="string")return import.meta.env.MODE;if(typeof import.meta.env.NODE_ENV=="string")return import.meta.env.NODE_ENV}return typeof window<"u"&&typeof window.__APP_ENV__=="string"?window.__APP_ENV__:"production"}var Eo=GT()==="production"?Na.warn:Na.debug,Hc=new Set;function qT(e){for(let t of Hc)try{t(e)}catch{}}function jT(e){return typeof console>"u"?null:e==="debug"&&typeof console.debug=="function"?console.debug.bind(console):e==="info"&&typeof console.info=="function"?console.info.bind(console):e==="warn"&&typeof console.warn=="function"?console.warn.bind(console):e==="error"&&typeof console.error=="function"?console.error.bind(console):console.log?console.log.bind(console):null}function YT(e,t){let a=new Date().toISOString();return t?[`[${a}] [${t}] [${e.toUpperCase()}]`]:[`[${a}] [${e.toUpperCase()}]`]}function eg(e){return Na[e]>=Eo&&Eo<Na.silent}function po(e,t,a){if(!eg(e))return;let n=jT(e);n&&n(...YT(e,t),...a)}function Gc(e){let t=e;return{debug:(...a)=>po("debug",t,a),info:(...a)=>po("info",t,a),warn:(...a)=>po("warn",t,a),error:(...a)=>po("error",t,a),isEnabled(a="debug"){return eg(a)},withScope(a){let n=t?`${t}:${a}`:a;return Gc(n)}}}var L={...Gc("App"),setLevel(e){if(!Na[e])throw new Error(`Nivell de log desconegut: ${e}`);Eo=Na[e],qT(e)},getLevel(){let e=Object.entries(Na).find(([,t])=>t===Eo);return e?e[0]:"debug"},subscribe(e){return Hc.add(e),()=>Hc.delete(e)},withScope(e){return Gc(e)}},M_=Object.freeze({...Na});var nl=L.withScope("InputSanitizer"),ho={TIME:/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/,SERVICE_NUMBER:/^\d{9}$/,VEHICLE_NUMBER:/^[A-Z0-9]{3,6}$/i,DATE_ISO:/^\d{4}-\d{2}-\d{2}$/,PERSON_NAME:/^[a-zA-Z-\s\-']{1,28}$/,GENERAL_TEXT:/^[a-zA-Z0-9-\s\-.,;:()'\/]{0,150}$/},XT=[/<script[^>]*>.*?<\/script>/gi,/<iframe[^>]*>.*?<\/iframe>/gi,/<object[^>]*>.*?<\/object>/gi,/<embed[^>]*>/gi,/<[^>]*>/g,/javascript:/gi,/on\w+\s*=/gi,/data:text\/html/gi,/('|(--)|;|\/\*|\*\/|xp_|sp_|exec|execute|select|insert|update|delete|drop|create|alter)/gi,/(\||&|;|\$\(|\`|>|<)/g];function ll(e){return typeof e!="string"?!1:XT.some(t=>t.test(e))}function KT(e){if(typeof e!="string")return"";let t=e.replace(/<[^>]*>/g,"");return t=t.replace(/[\x00-\x08\x0B-\x0C\x0E-\x1F\x7F]/g,""),t=t.replace(/\s+/g," "),t=t.trim(),t}function qc(e){return!e||typeof e!="string"?!1:ll(e)?(nl.warn("Patr\xF3 sospit\xF3s detectat en validaci\xF3 de hora:",e),!1):ho.TIME.test(e)}function jc(e){return!e||typeof e!="string"?!1:ll(e)?(nl.warn("Patr\xF3 sospit\xF3s detectat en n\xFAmero de servei:",e),!1):/^\d{1,9}$/.test(e)}function FT(e){return!e||typeof e!="string"?!1:ll(e)?(nl.warn("Patr\xF3 sospit\xF3s detectat en n\xFAmero de vehicle:",e),!1):ho.VEHICLE_NUMBER.test(e)}function QT(e){return!e||typeof e!="string"?!0:ll(e)?(nl.warn("Patr\xF3 sospit\xF3s detectat en nom de persona:",e),!1):ho.PERSON_NAME.test(e)}function ZT(e){return!e||typeof e!="string"?!0:ll(e)?(nl.warn("Patr\xF3 sospit\xF3s detectat en text general:",e.substring(0,50)),!1):ho.GENERAL_TEXT.test(e)}function tg(e){return!e||typeof e!="string"?{valid:!1,reason:"Text buit o inv\xE0lid"}:ll(e)?(nl.warn("Patrons sospitosos detectats en resultat OCR"),{valid:!1,reason:"Text amb patrons sospitosos detectats"}):e.length>2e3?{valid:!1,reason:"Text massa llarg"}:/\d/.test(e)?{valid:!0}:{valid:!1,reason:"No cont\xE9 d\xEDgits (hores esperades)"}}function xi(e,t="text"){let a=KT(e),n=!1,l="";switch(t){case"time":n=qc(a),l=n?"":"Format d'hora inv\xE0lid (esperat: HH:mm)";break;case"serviceNumber":n=jc(a),l=n?"":"N\xFAmero de servei inv\xE0lid (esperat: 1-9 d\xEDgits)";break;case"vehicleNumber":n=FT(a),l=n?"":"N\xFAmero de vehicle inv\xE0lid (esperat: 3-6 car\xE0cters alfanum\xE8rics)";break;case"personName":n=QT(a),l=n?"":"Nom inv\xE0lid (nom\xE9s lletres, espais i guions)";break;case"text":default:n=ZT(a),l=n?"":"Text inv\xE0lid (cont\xE9 car\xE0cters no permesos)";break}return{valid:n,sanitized:a,reason:l}}var kT=["3.6","3.51","3.22","3.11"],il={CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips"},zi={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group"},ne={SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",SERVICE_COLORS:["service-1","service-2","service-3","service-4"],OPTIONS_MENU_HIDDEN:"hidden",CHIP_ACTIVE:"chip-active"},JT=[".chip-group-title",".chip-group",".btn-ocr-inline",".section-divider"],$T=[".destination",".destination-time"],ag=!1,rl=0,Te=[],Vi=[],ng=[],Yc=null,Ui=null,kt=null,Pi=null,WT=null,eA=[],La=[],Jt=["","","",""];function tA(){Ui&&(Ui.innerHTML="",Vi=Te.map((e,t)=>{let a=document.createElement("button");return a.className=`service-button ${ne.SERVICE_COLORS[t]}`,a.textContent=`S${t+1}`,a.type="button",a.setAttribute("aria-label",`Mostrar servei ${t+1}`),a.addEventListener("click",()=>rA(t)),Ui.appendChild(a),a}))}function aA(){!kt||!Pi||(Pi.addEventListener("click",e=>{e.stopPropagation(),kt.classList.toggle(ne.OPTIONS_MENU_HIDDEN)}),document.addEventListener("click",e=>{!Pi?.contains(e.target)&&!kt?.contains(e.target)&&kt.classList.add(ne.OPTIONS_MENU_HIDDEN)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&kt&&kt.classList.add(ne.OPTIONS_MENU_HIDDEN)}),kt.addEventListener("click",e=>{e.target.closest("button")&&kt.classList.add(ne.OPTIONS_MENU_HIDDEN)}))}function nA(e,t){let a=e.querySelector(t);return a?a.closest(zi.FORM_GROUP):null}function So(e,t){if(!e)return;let a=t!=="3.6";$T.forEach(l=>{nA(e,l)?.classList.toggle(ne.SERVICE_HIDDEN,a)});let n=e.querySelector(".origin");n&&(a?n.setAttribute("enterkeyhint","done"):n.removeAttribute("enterkeyhint"))}function lA(e){WT&&eA.forEach(t=>t.classList.toggle(ne.CHIP_ACTIVE,t.dataset.mode===e))}function yo(e,t){e.querySelectorAll(zi.CHIP).forEach(n=>n.classList.toggle(ne.CHIP_ACTIVE,n.dataset.mode===t))}function iA(){Te.forEach((e,t)=>{e.querySelectorAll(zi.CHIP).forEach(n=>{n.addEventListener("click",()=>{let l=n.dataset.mode;if(!kT.includes(l)){console.error(`Intent de canviar a un mode inv\xE0lid: "${l}". Acci\xF3 bloquejada.`);return}if(La[t]===l)return;La[t]=l,yo(e,l),So(e,l);let i=e.querySelector(".chip-group");i&&(ne.SERVICE_COLORS.forEach(r=>i.classList.remove(r)),i.classList.add(ne.SERVICE_COLORS[t])),$t()})})})}function Xc(e){let t=ne.SERVICE_COLORS[e],a=(n,l)=>{n&&(n.classList.remove(...ne.SERVICE_COLORS),n.classList.add(l,t))};a(document.getElementById(il.CLEAR_BTN),"clear-selected-btn"),a(document.getElementById(il.CAMERA_BTN),"camera-btn"),a(document.getElementById("notes-selected-service"),"notes-btn"),a(Pi,"options-btn")}function lg(){if(!ag&&(ng=document.querySelectorAll(zi.SERVICE_PANEL),Yc=document.getElementById(il.CONTAINER),Ui=document.getElementById(il.BUTTONS_CONTAINER),kt=document.getElementById(il.OPTIONS_MENU),Pi=document.getElementById(il.OPTIONS_TOGGLE_BTN),!(!Yc||!Ui)&&(Te=Array.from(Yc.querySelectorAll(zi.SERVICE_PANEL)),!!Te.length))){if(La=Te.map(()=>"3.6"),tA(),aA(),iA(),Te.length>0&&Vi.length>0){Te.forEach((a,n)=>a.classList.toggle(ne.SERVICE_HIDDEN,n!==0)),Vi[0].classList.add(ne.BUTTON_ACTIVE);let e=La[0];So(Te[0],e),yo(Te[0],e);let t=Te[0].querySelector(".chip-group");t&&t.classList.add(ne.SERVICE_COLORS[0]),lA(e),Xc(0)}ag=!0}}function rA(e){if(e<0||e>=Te.length||e===rl)return;Te[rl].classList.add(ne.SERVICE_HIDDEN),Te[e].classList.remove(ne.SERVICE_HIDDEN),Vi[rl].classList.remove(ne.BUTTON_ACTIVE),Vi[e].classList.add(ne.BUTTON_ACTIVE),rl=e;let t=La[e];So(Te[e],t),yo(Te[e],t);let a=Te[e].querySelector(".chip-group");a&&(ne.SERVICE_COLORS.forEach(n=>a.classList.remove(n)),a.classList.add(ne.SERVICE_COLORS[e])),Xc(e)}var hn=()=>rl,ig=e=>{if(e>=0&&e<La.length)return La[e]};function rg(e){e&&e.querySelectorAll("input, select, textarea").forEach(t=>{t.type==="checkbox"||t.type==="radio"?t.checked=!1:t.type!=="button"&&t.type!=="submit"&&t.type!=="reset"&&(t.value=""),t.tagName==="SELECT"&&(t.selectedIndex=0)})}function Kc(){Xc(rl)}function og(e,t){if(e<0||e>=Te.length)return;La[e]=t;let a=Te[e];a&&(yo(a,t),So(a,t),$t())}function ol(e){let t=e==="TSNU";ng.forEach(a=>{JT.forEach(n=>{a.querySelector(n)?.classList.toggle(ne.SERVICE_HIDDEN,t)})})}function Hi(e){e&&e.querySelectorAll(".input-error").forEach(t=>t.classList.remove("input-error"))}var vo=class{constructor({id:t="",date:a="",dietType:n="",vehicleNumber:l="",person1:i="",person2:r="",signatureConductor:o="",signatureAjudant:s="",services:c=[],serviceType:d="TSU",timeStampDiet:p=new Date().toISOString()}={}){this.id=String(t),this.date=String(a),this.dietType=String(n),this.vehicleNumber=String(l),this.person1=String(i),this.person2=String(r),this.signatureConductor=String(o),this.signatureAjudant=String(s),this.services=Array.isArray(c)?c:[],this.serviceType=String(d),this.timeStampDiet=String(p)}};function oA(){let e="dietSalt",t=(n=16)=>Array.from({length:n},()=>Math.floor(Math.random()*256).toString(16).padStart(2,"0")).join(""),a=localStorage.getItem(e);if(!a){if(window.crypto?.getRandomValues){let n=crypto.getRandomValues(new Uint8Array(16));a=Array.from(n).map(l=>l.toString(16).padStart(2,"0")).join("")}else console.warn("[pseudoId] crypto.getRandomValues no disponible; usant Math.random() (menys segur, nom\xE9s mode desenvolupament)."),a=t(16);localStorage.setItem(e,a)}return a}async function sl(e){if(!window.crypto?.subtle)return console.warn("[pseudoId] WebCrypto no disponible (context no segur). S\u2019usar\xE0 l\u2019ID en clar nom\xE9s en aquesta sessi\xF3."),e;let a=new TextEncoder().encode(oA()+e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(l=>l.toString(16).padStart(2,"0")).join("")}var Fc=new Intl.RelativeTimeFormat("es",{numeric:"auto"});function sg(e){if(!(e instanceof Date)||isNaN(e.getTime()))throw new Error("La data proporcionada no \xE9s v\xE0lida.");let t=Date.now()-e.getTime();if(t<0)return"en el futuro";let a=Math.round(t/1e3);if(a<45)return"hace unos segundos";if(a<90)return"hace un minuto";let n=Math.round(a/60);if(n<60)return Fc.format(-n,"minute");let l=Math.round(n/60);if(l<24)return Fc.format(-l,"hour");let i=Math.round(l/24);return Fc.format(-i,"day")}var ut=L.withScope("CryptoManager"),sA=1,Qc="AES-GCM";var cA=12,dg=128;var uA=["person1","person2","vehicleNumber","signatureConductor","signatureAjudant"],dA=["serviceNumber","origin","destination","notes"];function To(e){return!!(e&&e.encryption&&e.encryption.version&&e.encryptedData)}function fA(){return crypto.getRandomValues(new Uint8Array(cA))}function cg(e){let t=new Uint8Array(e),a="";for(let n=0;n<t.byteLength;n++)a+=String.fromCharCode(t[n]);return btoa(a)}function ug(e){let t=atob(e),a=new Uint8Array(t.length);for(let n=0;n<t.length;n++)a[n]=t.charCodeAt(n);return a.buffer}function mA(e){let t={id:e.id,date:e.date,dietType:e.dietType,serviceType:e.serviceType,createdAt:e.createdAt||Date.now(),updatedAt:Date.now()},a={generalData:{},servicesData:[]};return uA.forEach(n=>{e[n]!==void 0&&(a.generalData[n]=e[n])}),Array.isArray(e.services)&&(a.servicesData=e.services.map(n=>{let l={},i={};return Object.keys(n).forEach(r=>{dA.includes(r)?l[r]=n[r]:i[r]=n[r]}),{sensitive:l,public:i}})),t.services=a.servicesData.map(n=>n.public),{publicData:t,sensitiveData:a}}function gA(e,t){let a={...e};return t.generalData&&Object.assign(a,t.generalData),Array.isArray(e.services)&&Array.isArray(t.servicesData)&&(a.services=e.services.map((n,l)=>{let i=t.servicesData[l]?.sensitive||{};return{...n,...i}})),a}async function pA(e,t){try{let n=new TextEncoder().encode(JSON.stringify(e)),l=fA(),i=await crypto.subtle.encrypt({name:Qc,iv:l,tagLength:dg},t,n);return{data:cg(i),iv:cg(l),algorithm:Qc,version:sA}}catch(a){throw ut.error("Error encriptant dades:",a),new Error(`Encryption failed: ${a.message}`)}}async function EA(e,t){try{if(!e||!e.data||!e.iv)throw new Error("Invalid encrypted data format");let a=ug(e.data),n=ug(e.iv),l=await crypto.subtle.decrypt({name:Qc,iv:new Uint8Array(n),tagLength:dg},t,new Uint8Array(a)),r=new TextDecoder().decode(l);return JSON.parse(r)}catch(a){throw ut.error("Error desencriptant dades:",a),new Error(`Decryption failed: ${a.message}`)}}async function fg(e){try{let a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){return ut.error("Error calculant checksum:",t),""}}async function Ao(e,t){try{ut.debug("Encriptant dieta:",e.id);let{publicData:a,sensitiveData:n}=mA(e),l=await pA(n,t),i=await fg(l.data),r={...a,encryption:{version:l.version,algorithm:l.algorithm,iv:l.iv},encryptedData:l.data,checksum:i};return ut.debug("Dieta encriptada correctament:",e.id),r}catch(a){throw ut.error("Error encriptant dieta:",a),a}}async function Co(e,t,a={}){let{showChecksumWarning:n=!0}=a;try{ut.debug("Desencriptant dieta:",e.id);let l=!0;if(e.checksum&&await fg(e.encryptedData)!==e.checksum){if(l=!1,ut.error(`\u26A0\uFE0F CHECKSUM MISMATCH per dieta ${e.id} - Integritat compromesa`),n&&typeof window<"u")try{let{showToast:d}=await Promise.resolve().then(()=>(Ot(),Qm));d("\u26A0\uFE0F Advert\xE8ncia: Les dades d'aquesta dieta poden estar corruptes. El checksum no coincideix.","warning",7e3)}catch{ut.warn("No s'ha pogut mostrar alerta de checksum a l'usuari")}ut.warn("Continuant amb desencriptaci\xF3 malgrat checksum inv\xE0lid (AES-GCM validar\xE0 integritat)")}let i={data:e.encryptedData,iv:e.encryption.iv,algorithm:e.encryption.algorithm,version:e.encryption.version},r=await EA(i,t),o={...e};delete o.encryption,delete o.encryptedData,delete o.checksum;let s=gA(o,r);return ut.debug(`Dieta desencriptada correctament: ${s.id} (checksum: ${l?"\u2705 v\xE0lid":"\u26A0\uFE0F inv\xE0lid"})`),s}catch(l){throw ut.error("Error desencriptant dieta:",l),l.name==="OperationError"?new Error("Les dades estan corruptes o s'ha utilitzat una clau incorrecta"):l}}var P=L.withScope("KeyManager"),Zc=typeof globalThis<"u"?globalThis:{},Wt=class extends Error{constructor(t,a){super(t),this.name="EncryptionSupportError",a&&(this.cause=a)}},hA="encryption-keys",SA=1;var cl="wrapped-master-key",kc="device-salt";var mg={name:"AES-GCM",length:256},Jc={name:"AES-KW",length:256};function $c(){if(!Zc||typeof window>"u")throw new Wt("Entorn sense API de navegador: l'encriptaci\xF3 necessita accedir a WebCrypto i IndexedDB.");let e=Zc.crypto;if(!e||typeof e.subtle>"u")throw new Wt("WebCrypto API no disponible. Reviseu la configuraci\xF3 del navegador o el mode privat.");if(typeof Zc.indexedDB>"u")throw new Wt("IndexedDB no disponible o bloquejat. L'encriptaci\xF3 queda deshabilitada.")}function Do(){try{return $c(),!0}catch{return!1}}async function Wc(){return new Promise((e,t)=>{let a=indexedDB.open(hA,SA);a.onerror=()=>{P.error("Error obrint base de dades de claus"),t(a.error)},a.onsuccess=()=>{e(a.result)},a.onupgradeneeded=n=>{let l=n.target.result;l.objectStoreNames.contains("keys")||(l.createObjectStore("keys",{keyPath:"id"}),P.debug("Object store de claus creat"))}})}async function gg(e,t){let a=await Wc();return new Promise((n,l)=>{let o=a.transaction(["keys"],"readwrite").objectStore("keys").put({id:e,value:t,timestamp:Date.now()});o.onsuccess=()=>n(),o.onerror=()=>l(o.error)})}async function Sn(e){let t=await Wc();return new Promise((a,n)=>{let r=t.transaction(["keys"],"readonly").objectStore("keys").get(e);r.onsuccess=()=>{a(r.result?.value||null)},r.onerror=()=>n(r.error)})}async function yA(){let e=await Sn(kc);return e?e=new Uint8Array(e):(e=crypto.getRandomValues(new Uint8Array(32)),await gg(kc,Array.from(e)),P.debug("Nou salt de dispositiu generat")),e}async function Gi(){try{P.debug("\u{1F511} Derivant clau de dispositiu...");let e=await yA();P.debug(`Salt length: ${e.length} bytes`);let t="diet-log-encryption-v1",a=new TextEncoder,n=await crypto.subtle.importKey("raw",a.encode(t),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),l=await crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:1e5,hash:"SHA-256"},n,Jc,!1,["wrapKey","unwrapKey"]);return P.debug("\u2705 Clau de dispositiu derivada"),l}catch(e){throw P.error("Error derivant clau de dispositiu:",e),e}}async function vA(){try{P.debug("Generant nova clau mestra...");let e=await crypto.subtle.generateKey(mg,!0,["encrypt","decrypt"]);return P.debug("Clau mestra generada correctament"),e}catch(e){throw P.error("Error generant clau mestra:",e),e}}async function TA(e,t){try{let a=await crypto.subtle.wrapKey("raw",e,t,Jc.name);return P.debug(`Clau protegida: ${a.byteLength} bytes`),a}catch(a){throw P.error("Error protegint clau mestra:",a),a}}async function qi(e,t){try{let a=e;e instanceof Uint8Array?a=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength):e instanceof ArrayBuffer||(a=new Uint8Array(e).buffer),P.debug(`Unwrapping key with buffer length: ${a.byteLength} bytes`);let n=await crypto.subtle.unwrapKey("raw",a,t,Jc.name,mg,!1,["encrypt","decrypt"]);return P.debug("\u2705 Clau desprotegida correctament"),n}catch(a){throw P.error("Error desprotegint clau mestra:",a),a}}async function yn(){try{$c(),P.debug("\u{1F510} Inicialitzant sistema de claus...");let e=await Sn(cl);if(e){P.debug("\u26A0\uFE0F Sistema de claus ja inicialitzat. Validant integritat...");try{let i=await Gi(),r=new Uint8Array(e);await qi(r,i),P.debug("\u2705 Clau existent validada correctament");return}catch(i){P.warn("\u26A0\uFE0F Clau existent corrupta o incompatible. Re-inicialitzant..."),P.warn("Error de validaci\xF3:",i),await bo(!0),P.debug("\u{1F504} Sistema resetejat. Creant nova clau...")}}let t=await vA(),a=await Gi(),n=await TA(t,a),l=Array.from(new Uint8Array(n));await gg(cl,l),P.debug(`\u2705 Clau protegida guardada a IndexedDB (${l.length} bytes)`);try{P.debug("\u{1F50D} Validant que la clau es pot recuperar...");let i=new Uint8Array(l);await qi(i,a),P.debug("\u2705 Validaci\xF3 exitosa: la clau es pot recuperar correctament")}catch(i){throw P.error("\u274C VALIDACI\xD3 FALLIDA: La clau no es pot recuperar despr\xE9s de crear-la!"),P.error("Error de validaci\xF3:",i),await bo(!0),new Error(`Key system validation failed: ${i.message}. Possible browser incompatibility with AES-KW algorithm.`)}P.debug("\u2705 Sistema de claus inicialitzat i validat correctament"),P.debug("\u{1F512} Protecci\xF3 de dades activada")}catch(e){throw!(e instanceof Wt)&&new Set(["SecurityError","InvalidStateError","NotAllowedError","QuotaExceededError"]).has(e?.name)?new Wt("El navegador ha bloquejat l'acc\xE9s a IndexedDB o WebCrypto.",e):(P.error("\u274C Error inicialitzant sistema de claus:",e),e)}}async function Ma(){try{$c();let e=await Sn(cl);if(!e){P.warn("\u26A0\uFE0F Clau mestra no trobada. Inicialitzant sistema autom\xE0ticament..."),await yn();let n=await Sn(cl);if(!n)throw new Error("Failed to initialize key system");let l=await Gi(),i=new Uint8Array(n).buffer;return await qi(i,l)}if(!Array.isArray(e)||e.length===0)throw new Error("Clau mestra amb format inv\xE0lid. Executa diagnoseKeySystem() per m\xE9s detalls.");let t=new Uint8Array(e).buffer,a=await Gi();try{return await qi(t,a)}catch(n){throw P.error("\u26D4 Error CR\xCDTIC desprotegint clau mestra:",n),P.error("El sistema de claus est\xE0 corrupte o el dispositiu ha canviat. Les dotacions encriptades no es poden recuperar sense la clau original. Opcions: 1) Prova a recarregar la p\xE0gina, 2) Exporta dades i reseteja l'aplicaci\xF3."),new Error(`Key unwrap failed: ${n.message}. Aix\xF2 pot passar si has canviat de navegador/dispositiu o les dades estan corruptes. SOLUCI\xD3: Reseteja el sistema de claus des de Configuraci\xF3.`)}}catch(e){throw P.error("Error recuperant clau mestra:",e),e}}async function vn(){return Do()?!!await Sn(cl):!1}async function bo(e=!1){if(!e)throw new Error("resetKeySystem requereix confirmaci\xF3 expl\xEDcita (confirmed=true). ATENCI\xD3: Aix\xF2 far\xE0 que totes les dades encriptades siguin irrecuperables.");P.warn("\u26A0\uFE0F RESETEJANT SISTEMA DE CLAUS - Les dades encriptades es perdran!");let t=await Wc();return new Promise((a,n)=>{let r=t.transaction(["keys"],"readwrite").objectStore("keys").clear();r.onsuccess=()=>{P.debug("\u2705 Sistema de claus resetejat"),a()},r.onerror=()=>n(r.error)})}async function pg(){try{let e={encryptionSupported:Do(),keySystemInitialized:!1,wrappedKeyExists:!1,wrappedKeyValid:!1,deviceSaltExists:!1,canUnwrap:!1,errors:[]};if(!e.encryptionSupported)return e.errors.push("WebCrypto or IndexedDB not supported"),e;let t=await Sn(cl);e.wrappedKeyExists=!!t,e.keySystemInitialized=e.wrappedKeyExists,t&&(e.wrappedKeyValid=Array.isArray(t)&&t.length>0);let a=await Sn(kc);if(e.deviceSaltExists=!!a,e.wrappedKeyExists&&e.wrappedKeyValid)try{let n=new Uint8Array(t).buffer,l=await Gi();await qi(n,l),e.canUnwrap=!0}catch(n){e.canUnwrap=!1,e.errors.push(`Unwrap failed: ${n.message}`)}return e}catch(e){return{encryptionSupported:!1,keySystemInitialized:!1,wrappedKeyExists:!1,wrappedKeyValid:!1,deviceSaltExists:!1,canUnwrap:!1,errors:[`Diagnosis failed: ${e.message}`]}}}var _o="DietasDB";var Ut={DIETAS:"dietas",DOTACIONS:"dotacions",DELETED_DIETS:"deleted_diets"},dt={DIET_DATE:"dateIndex",DOTACIONS_TIMESTAMP:"timestamp",DELETED_DIETS_DELETED_AT:"deletedAt",DELETED_DIETS_TYPE:"dietType",DELETED_DIETS_DATE:"date"};var mt=Ut.DIETAS,eu=dt.DIET_DATE,Eg=Ut.DOTACIONS,xe=Ut.DELETED_DIETS,ft=null;function hg(){return new Promise((e,t)=>{let a=indexedDB.open(_o,3);a.onupgradeneeded=n=>{let l=n.target.result,i=n.oldVersion,r;if(l.objectStoreNames.contains(mt)?(r=n.target.transaction.objectStore(mt),r&&!r.indexNames.contains(eu)&&r.createIndex(eu,"date",{unique:!1})):(r=l.createObjectStore(mt,{keyPath:"id"}),r.createIndex(eu,"date",{unique:!1})),i<2&&!l.objectStoreNames.contains(Eg)&&l.createObjectStore(Eg,{keyPath:"id"}).createIndex(dt.DOTACIONS_TIMESTAMP,"timestamp",{unique:!1}),i<3&&!l.objectStoreNames.contains(xe)){let o=l.createObjectStore(xe,{keyPath:"id"});o.createIndex(dt.DELETED_DIETS_DELETED_AT,"deletedAt",{unique:!1}),o.createIndex(dt.DELETED_DIETS_TYPE,"dietType",{unique:!1}),o.createIndex(dt.DELETED_DIETS_DATE,"date",{unique:!1})}},a.onsuccess=n=>{ft=n.target.result,ft.onclose=()=>ft=null,ft.onerror=()=>ft=null,ft.onversionchange=()=>ft.close(),e(ft)},a.onerror=n=>t(n.target.error),a.onblocked=()=>t(new Error("IndexedDB bloquejat per una altra pestanya"))})}async function Nt(e="readonly",t=mt){let a=ft??(ft=await hg()),n=Array.isArray(t)?t:[t];return a.transaction(n,e)}function Je(e,t){return new Promise((a,n)=>{e.onsuccess=l=>a(l.target.result),e.onerror=l=>n(new Error(`${t}: ${l.target.error}`))})}function Ra(e){return new Promise((t,a)=>{e.oncomplete=()=>t(),e.onerror=()=>a(e.error),e.onabort=()=>a(e.error)})}async function Sg(e){try{let t=await Nt("readwrite");return Je(t.objectStore(mt).add(e),"No s'ha pogut afegir"),await Ra(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function Oo(e,t){try{let a;typeof e=="string"&&t?a={...t,id:e}:a=e;let n=await Nt("readwrite");return Je(n.objectStore(mt).put(a),"No s'ha pogut actualitzar"),await Ra(n),a.id}catch(a){throw a.name==="QuotaExceededError"||a.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):a}}async function Tn(e){if(!e)return;let t=await Nt();return Je(t.objectStore(mt).get(e),"Error obtenint dieta")}async function ul(){let e=await Nt();return Je(e.objectStore(mt).getAll(),"Error llistant dietes")}async function yg(){return ft??(ft=await hg())}async function vg(e){if(!e||!e.id)return;let t={...e,deletedAt:new Date().toISOString()},a=await Nt("readwrite",[mt,xe]);Je(a.objectStore(mt).delete(e.id),"Error eliminant dieta de store principal"),Je(a.objectStore(xe).put(t),"Error movent dieta a paperera"),await Ra(a)}async function Tg(e){if(!e)return;let t=await Nt("readonly",xe),a=await Je(t.objectStore(xe).get(e),"Error obtenint dieta de paperera");if(await Ra(t),!a)throw new Error("Dieta no trobada a la paperera");let{deletedAt:n,...l}=a,i=await Nt("readwrite",[mt,xe]);return Je(i.objectStore(xe).delete(e),"Error eliminant de paperera"),Je(i.objectStore(mt).put(l),"Error restaurant dieta"),await Ra(i),l}async function Ag(e){if(!e)return;let t=await Nt("readwrite",xe);Je(t.objectStore(xe).delete(e),"Error eliminant dieta permanentment"),await Ra(t)}async function No(){let e=await Nt("readonly",xe);return Je(e.objectStore(xe).getAll(),"Error obtenint dietes eliminades")}async function Cg(e=30){let t=await No(),a=new Date;a.setDate(a.getDate()-e);let n=await Nt("readwrite",xe),l=n.objectStore(xe),i=0;for(let r of t)r.deletedAt&&new Date(r.deletedAt)<a&&(Je(l.delete(r.id),"Error eliminant dieta antiga"),i++);return await Ra(n),i}async function bg(){let e=await Nt("readwrite",xe);Je(e.objectStore(xe).clear(),"Error buidant paperera"),await Ra(e)}Ot();var AA="save-pill",CA=".pill-text",ea={VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error"},Dg=2e3;var Ia=null,au=null,An=null,ji=null,nu=!1;function _g(){if(!Ia){if(Ia=document.getElementById(AA),au=Ia?.querySelector(CA),!Ia||!au)throw new Error("Elements de la p\xEDndola no trobats al DOM.");Ia.setAttribute("role","status"),Ia.setAttribute("aria-live","polite")}return{pillEl:Ia,textEl:au}}function lu(e,t){try{let{pillEl:a,textEl:n}=_g();a.classList.add(ea.VISIBLE),a.classList.remove(ea.HAS_CHANGES,ea.SAVING,ea.HAS_SAVED,ea.ERROR),t&&a.classList.add(t),n.textContent=e.replace(/[<>&]/g,"")}catch(a){console.warn("[saveIndicator] Error mostrant p\xEDndola:",a)}}function Lo(e="Guardando\u2026"){clearTimeout(ji),lu(e,ea.SAVING)}function Mo(){clearTimeout(ji),nu=!1,lu("Guardado",ea.HAS_SAVED),clearTimeout(An),An=setTimeout(iu,Dg)}function Cn(e="No se pudo guardar"){clearTimeout(ji),lu(e,ea.ERROR),clearTimeout(An),An=setTimeout(iu,Dg*2)}function iu(e=!1){try{if(_g(),clearTimeout(An),nu&&!e)return;Ia?.classList.remove(ea.VISIBLE),An=null}catch(t){console.warn("[saveIndicator] Error amagant p\xEDndola:",t)}}function Yi(){nu=!1,clearTimeout(ji),iu(!0)}window.addEventListener("pagehide",()=>{clearTimeout(An),clearTimeout(ji)});var ru=Promise.resolve(),ou=!1,su=!1,bn=!1,Dn=L.withScope("DietService");async function bA(e,t,a){if(!e||!Array.isArray(t)||!a)throw new Error("Datos incompletos para construir la dieta.");if(!/^\d{9}$/.test(a))throw new Error("ID de dieta inv\xE1lido. Debe contener 9 d\xEDgitos.");for(let r of t)if(!go(r.originTime)||!go(r.destinationTime)||!go(r.endTime))throw new Error("Formato de hora inv\xE1lido detectado. Use HH:mm.");let n=await sl(a),l=new Date().toISOString(),i={id:n,date:de(e.date),dietType:de(e.dietType),vehicleNumber:de(e.vehicleNumber),person1:de(e.person1),person2:de(e.person2),signatureConductor:e.signatureConductor,signatureAjudant:e.signatureAjudant,services:t.map(r=>({serviceNumber:de(r.serviceNumber),origin:de(r.origin),destination:de(r.destination),originTime:r.originTime,destinationTime:r.destinationTime,endTime:r.endTime,mode:de(r.mode),notes:de(r.notes)||""})),serviceType:de(e.serviceType),timeStampDiet:l};return new vo(i)}function DA(){let e=document.getElementById(X.DADES_TAB),t=document.getElementById(X.SERVEIS_TAB);e?.classList.remove(Pe.ERROR_TAB),t?.classList.remove(Pe.ERROR_TAB);let a=fo(),n=mo();if(a&&n)return!0;let l="";return!a&&!n?(l="Completa los campos obligatorios en Datos y Servicios.",e?.classList.add(Pe.ERROR_TAB),t?.classList.add(Pe.ERROR_TAB)):a?(l="Completa los campos obligatorios en la pesta\xF1a Servicios.",t?.classList.add(Pe.ERROR_TAB)):(l="Completa los campos obligatorios en la pesta\xF1a Datos.",e?.classList.add(Pe.ERROR_TAB)),A(l,"error"),!1}function _A(e){if(!e)return;let t=l=>document.getElementById(l);t(X.DATE_INPUT).value=e.date||"",t(X.DIET_TYPE_SELECT).value=e.dietType||"",t(X.VEHICLE_INPUT).value=e.vehicleNumber||"",t(X.PERSON1_INPUT).value=e.person1||"",t(X.PERSON2_INPUT).value=e.person2||"";let a=t(X.SERVICE_TYPE_SELECT);a&&(a.value=e.serviceType||"TSU",ol(a.value)),Io(e.signatureConductor||""),wo(e.signatureAjudant||"");let n=document.querySelectorAll(Xm);e.services.forEach((l,i)=>{let r=n[i];r&&(Object.entries(Pc).forEach(([o,s])=>{if(!s)return;let c=r.querySelector(s);c&&(c.value=l[o]||"")}),og(i,l.mode||"3.6"),Hi(r),Jt[i]=l.notes||"")});for(let l=e.services.length;l<n.length;l++){let i=n[l];i&&(Object.values(Pc).forEach(r=>{if(!r)return;let o=i.querySelector(r);o&&(o.value="")}),Hi(i),Jt[l]="")}}async function uu(e){if(bn=bn||e,ou)return su=!0,ru;ou=!0;let t=bn;bn=!1;let a=(async()=>{let{generalData:n,servicesData:l}=Bo(),i=l[0]?.serviceNumber?.slice(0,9)||"";if(!i||!/^\d{9}$/.test(i)){t&&A("El primer servicio debe tener un N.\xBA de servicio v\xE1lido.","error");return}let r=await sl(i),o=await Tn(r);t&&Lo(!o?"Guardando nueva dieta\u2026":"Guardando\u2026"),cu(!1);try{if(await new Promise(u=>setTimeout(u,500)),!DA()){t&&Cn("Validaci\xF3n fallida");return}let d=await bA(n,l,i);if(!await vn()){Dn.error("\u274C Sistema de claus no inicialitzat. NO es pot guardar la dieta."),A("Error de seguretat: Sistema d'encriptaci\xF3 no disponible. Proveu recarregar la p\xE0gina.","error",5e3),t&&Cn("Sistema d'encriptaci\xF3 no disponible");return}let p;try{let u=await Ma();p=await Ao(d,u),Dn.debug("\u{1F512} Dieta encriptada abans de guardar")}catch(u){Dn.error("\u274C Error CR\xCDTIC encriptant dieta:",u),A("Error cr\xEDtic d'encriptaci\xF3. Les dades NO s'han desat per seguretat.","error",5e3),t&&Cn("Error d'encriptaci\xF3");return}o?await Oo(p):await Sg(p),Xi=new Date,mu(),t&&A("Dieta guardada correctamente.","success"),fl(),Mo(),t&&await dl()}catch(d){Dn.error("Error en performSave:",d),Cn(d.message||"No se pudo guardar"),t&&A(`Error al guardar: ${d.message}`,"error")}finally{cu(!0)}})();ru=a;try{await a}finally{if(ou=!1,su||bn){let n=bn;return bn=!1,su=!1,uu(n)}}return ru}async function Og(){Lg(),await uu(!0)}async function du(){await uu(!1)}async function Ng(e){if(!e||typeof e!="string")throw new Error("ID inv\xE0lid");let t=e.length===64?await Tn(e):await Tn(await sl(e));if(!t)throw new Error(`Dieta no trobada: ${e}`);if(To(t))try{let a=await Ma();t=await Co(t,a),Dn.debug("\u{1F513} Dieta desencriptada correctament")}catch(a){throw Dn.error("Error desencriptant dieta:",a),A("Error desencriptant dieta. Pot estar corrupta.","error"),a}_A(t),fl(),t.timeStampDiet&&(Xi=new Date(t.timeStampDiet),mu()),A("Dieta cargada correctamente.","success"),Ro()}async function fu(e,t,a){if(e)try{let n=await Tn(e);if(!n){A("Error: Dieta no encontrada","error");return}await vg(n),gu(e),A("Dieta movida a la papelera","success",3e3),fl(),Yi()}catch(n){Dn.error("Error en deleteDietHandler:",n),A("Error al eliminar la dieta","error")}}var Xi=null;function mu(){let e=document.getElementById("last-saved");e&&(e.textContent=Xi?sg(Xi):"")}setInterval(()=>{Xi&&mu()},6e4);var Mg={[wi.LUNCH]:"comida",[wi.DINNER]:"cena",DEFAULT:"dieta"},_n={TOP_BAR:Pe.TOP_BAR_TAPS,FOOTER:Pe.FOOTER_TAPS,TIMEOUT:Pe.TIMEOUT,ANIMATION_DURATION:Pe.ANIMATION_DURATION};function Rg(e){if(!e)return;let t=document.body;if(!t)return;let a=t.dataset?.cspNonce||t.getAttribute("data-csp-nonce")||"";a&&!e.getAttribute("nonce")&&e.setAttribute("nonce",a)}function Ig(){try{let e=document.getElementById(X.DATE_INPUT);if(!e)return;e.valueAsDate=new Date}catch{}}function xo(e){return typeof e!="string"||!e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function gl(e){return e?e.split(" ").map(t=>t.includes(".")?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):""}function pu(){let e=new Date().getHours();return e>=6&&e<18?wi.LUNCH:wi.DINNER}function wg(){let e=document.getElementById(X.DIET_TYPE_SELECT);e&&(e.value=pu())}function Ki(e,t){let a="Data inv\xE0lida";if(e&&/^\d{4}-\d{2}-\d{2}$/.test(e))try{let l=e.split("-"),i=l[0].slice(-2);a=`${l[2]}/${l[1]}/${i}`}catch{}let n=Mg[t]||Mg.DEFAULT;return{ddmmaa:a,franjaText:n}}var Oe={topBarTaps:0,footerTaps:0,tapTimeoutId:null};function ml(){Oe.topBarTaps=0,Oe.footerTaps=0,Oe.tapTimeoutId&&(clearTimeout(Oe.tapTimeoutId),Oe.tapTimeoutId=null)}function OA(){if(document.querySelector(X.EASTER_EGG_OVERLAY))return;let e=document.createElement("div");e.className=X.EASTER_EGG_OVERLAY.substring(1);let t=document.createElement("div");t.className=X.EASTER_EGG_ICON.substring(1),t.innerHTML='<img src="assets/icons/egg.svg" alt="Easter Egg">',e.appendChild(t),document.body.appendChild(e);let a=n=>{n.stopPropagation(),t.classList.add("clicked"),setTimeout(()=>e.remove(),_n.ANIMATION_DURATION)};e.addEventListener("click",a)}function Bg(){let e=document.getElementById("top-bar"),t=document.getElementById("footer");!e||!t||(e.addEventListener("touchend",a=>{a.changedTouches.length===1?(Oe.topBarTaps++,Oe.tapTimeoutId&&clearTimeout(Oe.tapTimeoutId),Oe.tapTimeoutId=setTimeout(ml,_n.TIMEOUT),Oe.topBarTaps>_n.TOP_BAR&&ml()):ml()}),t.addEventListener("touchend",a=>{Oe.topBarTaps===_n.TOP_BAR&&a.changedTouches.length===1&&(Oe.footerTaps++,Oe.tapTimeoutId&&clearTimeout(Oe.tapTimeoutId),Oe.tapTimeoutId=setTimeout(ml,_n.TIMEOUT),Oe.footerTaps===_n.FOOTER?(OA(),ml()):Oe.footerTaps>_n.FOOTER&&ml())}))}function Fi(e,t){let a,n=function(...l){clearTimeout(a),a=setTimeout(()=>e.apply(this,l),t)};return n.cancel=()=>clearTimeout(a),n}Ot();var $e={IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount"},Pg=2,xg=10,On=null,Eu=null,hu=null,Nn=null,Ug=!1,V=L.withScope("PWA"),Su=(e,t=0)=>parseInt(localStorage.getItem(e)||String(t),10),yu=e=>localStorage.getItem(e)==="true",Ln=(e,t)=>localStorage.setItem(e,String(t));function zg(){let e=window.matchMedia("(display-mode: standalone)").matches,t=window.navigator.standalone===!0;return e||t||yu($e.IS_INSTALLED)}function NA(e=!1){if(V.debug("Intentant mostrar el b\xE0ner d'instal\xB7laci\xF3..."),zg()){V.debug("Bloquejat: L'app ja est\xE0 instal\xB7lada.");return}if(yu($e.NEVER_SHOW_AGAIN)){V.debug("Bloquejat: L'usuari ha demanat no tornar a mostrar.");return}if(!On){V.debug("Bloquejat: No hi ha cap event d'instal\xB7laci\xF3 guardat.");return}if(!Nn){V.debug("Bloquejat: L'element HTML del b\xE0ner no s'ha trobat.");return}V.info("Mostrant el b\xE0ner!"),Nn.classList.add("visible"),Nn.classList.remove("hidden")}function Vg(){V.debug("Amagant el b\xE0ner."),Nn?.classList.remove("visible"),Nn?.classList.add("hidden")}function LA(){V.info("L'usuari ha descartat el b\xE0ner."),Vg();let e=Su($e.PROMPT_DISMISSED_COUNT);e++,Ln($e.PROMPT_DISMISSED_COUNT,e),V.debug(`Comptador de descartats actualitzat a: ${e}`),e>=Pg&&(Ln($e.NEVER_SHOW_AGAIN,!0),V.info("S'ha assolit el l\xEDmit de descartats. No es tornar\xE0 a mostrar."))}async function MA(){if(V.info("L'usuari ha fet clic a 'Instal\xB7lar'."),!On){V.warn("El bot\xF3 d'instal\xB7lar s'ha premut, per\xF2 no hi havia cap event guardat.");return}Vg();try{On.prompt();let{outcome:e}=await On.userChoice;V.info(`Resultat de la decisi\xF3 de l'usuari: ${e}`),e==="accepted"?(Ln($e.IS_INSTALLED,!0),Ln($e.NEVER_SHOW_AGAIN,!0),V.info("L'usuari ha acceptat la instal\xB7laci\xF3! :)")):V.info("L'usuari ha rebutjat la instal\xB7laci\xF3 des del di\xE0leg del navegador.")}catch(e){V.error("Error durant el proc\xE9s de prompt d'instal\xB7laci\xF3:",e)}finally{On=null}}function RA(e){e.preventDefault(),On=e,V.debug("Event 'beforeinstallprompt' capturat i guardat.")}function Hg(){Ug||(V.debug("Inicialitzant el gestor d'instal\xB7laci\xF3..."),Nn=document.getElementById("install-prompt"),Eu=document.getElementById("install-button"),hu=document.getElementById("dismiss-button"),Nn&&Eu&&hu?(Eu.addEventListener("click",MA),hu.addEventListener("click",LA),V.debug("Botons del b\xE0ner d'instal\xB7laci\xF3 configurats.")):V.warn("No s'han trobat tots els elements del b\xE0ner d'instal\xB7laci\xF3."),window.addEventListener("beforeinstallprompt",RA),window.matchMedia("(display-mode: standalone)").addEventListener("change",e=>{e.matches&&(V.info("Detectat canvi a mode 'standalone'. Marcat com instal\xB7lat."),Ln($e.IS_INSTALLED,!0),Ln($e.NEVER_SHOW_AGAIN,!0))}),Ug=!0,V.debug("Gestor d'instal\xB7laci\xF3 inicialitzat correctament."))}function Gg(){if(V.debug("------------------------------------------"),V.debug("Comprovant si s'ha de mostrar el b\xE0ner despr\xE9s d'una acci\xF3..."),zg()){V.debug("[Check] No es mostra: L'app ja est\xE0 instal\xB7lada.");return}if(yu($e.NEVER_SHOW_AGAIN)){V.debug("[Check] No es mostra: L'usuari ha demanat no tornar a veure'l.");return}if(!On){V.debug("[Check] No es mostra: El navegador no ha ofert la possibilitat d'instal\xB7lar (deferredPrompt \xE9s nul).");return}let e=Su($e.ACTION_TRIGGER_COUNT);e++,Ln($e.ACTION_TRIGGER_COUNT,e),V.debug(`Comptador d'accions incrementat a: ${e}`);let t=Su($e.PROMPT_DISMISSED_COUNT);V.debug(`Vegades que s'ha descartat el b\xE0ner: ${t}`);let a=e===1&&t===0||e>=xg&&t<Pg;V.debug(`Es compleixen les condicions per mostrar? ${a}`),a?(setTimeout(()=>NA(),1500),e>=xg):V.debug("No es mostra el b\xE0ner aquesta vegada."),V.debug("------------------------------------------")}var pl={OUTER_MARGIN:55,INNER_PADDING:10},gt={TEMPLATE_URLS:{DEFAULT:"./dieta.pdf"},SERVICE_Y_OFFSET:82,SIGNATURE_WIDTH:100,SIGNATURE_HEIGHT:50,WATERMARK_TEXT:"misdietas.com",DEFAULT_FILENAME:"dieta.pdf",SERVICE_NUMBER_COLOR:"#004aad",MODE_PREFIX_TEXT_COLOR:"#8B0000",MAX_SIGNATURE_NAME_LENGTH:31,MAX_ORIGIN_LENGTH:30,MAX_DESTINATION_LENGTH:30},w={general:{date:{x:155,y:732,size:16,color:"#000000"},vehicleNumber:{x:441,y:732,size:16,color:"#000000"},person1:{x:65,y:368,size:16,color:"#000000"},person2:{x:310,y:368,size:16,color:"#000000"}},service:{serviceNumber:{x:130,y:715,size:16,color:"#000000"},origin:{x:229,y:698,size:14,color:"#000000"},originTime:{x:441,y:698,size:16,color:"#000000"},destination:{x:229,y:683,size:14,color:"#000000"},destinationTime:{x:441,y:681,size:16,color:"#000000"},endTimeNormal:{x:441,y:665,size:16,color:"#000000"},endTimeModeText:{x:390,y:665,size:16,color:gt.MODE_PREFIX_TEXT_COLOR},endTimeValueWhenPrefixed:{x:441,y:665,size:16,color:"#000000"}},signature:{conductor:{x:125,y:295,width:100,height:50},ayudante:{x:380,y:295,width:100,height:50}},notesSection:{title:{x:65,y:250,size:16,color:"#000000"},lineHeight:18,maxWidth:465,start:{x:65,y:230,size:16,color:"#333333"}},fixedText:{website:{x:250,y:20,size:6,color:"#EEEEEE"}}},IA=L.withScope("PdfTemplate");function wA(e){return!e||typeof e!="string"||e.trim()===""?"":e.split(/\s+/).filter(Boolean).map(t=>t.includes("-")?t.split("-").map(a=>a?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():"").join("-"):t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function BA(e){if(!e||typeof e!="string")return{r:0,g:0,b:0};let t=e.replace("#","");if(t.length!==6)return{r:0,g:0,b:0};let a=parseInt(t,16);return Number.isNaN(a)?{r:0,g:0,b:0}:{r:a>>16&255,g:a>>8&255,b:a&255}}function qg(e,t){return!e||e.length<=t?e:e.substring(0,t-3)+"..."}function Uo(e){if(!e||!/^\d{4}-\d{2}-\d{2}$/.test(e))return"";let[t,a,n]=e.split("-");return`${n}/${a}/${t}`}function xA(){return gt.TEMPLATE_URLS.DEFAULT}async function vu(e,t){if(!e||!Array.isArray(t))throw new Error("Dades inv\xE0lides.");if(!window.PDFLib)throw new Error("PDFLib no carregada.");let{PDFDocument:a,StandardFonts:n,rgb:l}=window.PDFLib,i=xA(),r=await fetch(i).then(T=>T.arrayBuffer()),o=await a.load(r),s=await o.embedFont(n.Helvetica),c=o.getPages()[0],d=T=>{let{r:_,g:b,b:N}=BA(T);return l(_/255,b/255,N/255)};Object.entries(w.general).forEach(([T,_])=>{let b=e[T]||"";T==="date"&&(b=Uo(b)),T==="vehicleNumber"&&(b=b.toUpperCase()),(T==="person1"||T==="person2")&&(b=wA(b),b.length>gt.MAX_SIGNATURE_NAME_LENGTH&&(b=b.slice(0,gt.MAX_SIGNATURE_NAME_LENGTH-3)+"...")),c.drawText(b,{..._,font:s,color:d(_.color)})}),t.forEach((T,_)=>{let b=_*gt.SERVICE_Y_OFFSET,N=T.mode||"3.6";c.drawText(T.serviceNumber||"",{...w.service.serviceNumber,y:w.service.serviceNumber.y-b,font:s,color:d(gt.SERVICE_NUMBER_COLOR)});let qe=qg(T.origin||"",gt.MAX_ORIGIN_LENGTH),Ri=qe.length>23?13:w.service.origin.size;if(c.drawText(qe,{...w.service.origin,y:w.service.origin.y-b,size:Ri,font:s,color:d(w.service.origin.color)}),c.drawText(T.originTime||"",{...w.service.originTime,y:w.service.originTime.y-b,font:s,color:d(w.service.originTime.color)}),N==="3.6"){let so=qg(T.destination||"",gt.MAX_DESTINATION_LENGTH),co=so.length>23?13:w.service.destination.size;c.drawText(so,{...w.service.destination,y:w.service.destination.y-b,size:co,font:s,color:d(w.service.destination.color)}),c.drawText(T.destinationTime||"",{...w.service.destinationTime,y:w.service.destinationTime.y-b,font:s,color:d(w.service.destinationTime.color)})}let Ii=(T.endTime||"").trim();N!=="3.6"&&Ii?(c.drawText(N,{...w.service.endTimeModeText,y:w.service.endTimeModeText.y-b,font:s,color:d(w.service.endTimeModeText.color)}),c.drawText(Ii,{...w.service.endTimeValueWhenPrefixed,y:w.service.endTimeValueWhenPrefixed.y-b,font:s,color:d(w.service.endTimeValueWhenPrefixed.color)})):c.drawText(Ii,{...w.service.endTimeNormal,y:w.service.endTimeNormal.y-b,font:s,color:d(w.service.endTimeNormal.color)})});let p=async(T,_)=>{if(typeof T=="string"&&T.startsWith("data:image/png;base64,")&&T.length>22)try{let N=await o.embedPng(T);c.drawImage(N,{..._})}catch(N){IA.warn("No s'ha pogut incrustar una signatura.",N)}};await Promise.all([p(e.signatureConductor,w.signature.conductor),p(e.signatureAjudant,w.signature.ayudante)]);let u=c.getWidth(),g=pl.OUTER_MARGIN+pl.INNER_PADDING,h=u-(pl.OUTER_MARGIN+pl.INNER_PADDING),v=t.map(T=>({num:T.serviceNumber||"",text:(T.notes||"").trim()})).filter(T=>T.num&&T.text);if(v.length){c.drawLine({start:{x:pl.OUTER_MARGIN,y:275},end:{x:u-pl.OUTER_MARGIN,y:275},thickness:.5,color:l(.8,.8,.8)});let _=v.length===1?"Observaci\xF3":"Observacions";c.drawText(_,{...w.notesSection.title,font:s,color:d(w.notesSection.title.color)});let b=w.notesSection.start.y,N=w.notesSection.start.size,qe=w.notesSection.lineHeight,Ri=d(w.notesSection.start.color);v.forEach(({num:Ii,text:so})=>{if(b<40)return;let co=`Servei ${Ii}: `;c.drawText(co,{x:g,y:b,font:s,size:N,color:d(gt.SERVICE_NUMBER_COLOR)});let CT=s.widthOfTextAtSize(co,N),uo=g+CT;so.split(" ").forEach(Bc=>{if(!Bc)return;let jm=s.widthOfTextAtSize(`${Bc} `,N);uo+jm>h&&(b-=qe,uo=g),c.drawText(`${Bc} `,{x:uo,y:b,font:s,size:N,color:Ri}),uo+=jm}),b-=qe*1.5})}let D=gt.WATERMARK_TEXT,m=w.fixedText.website.size,f=s.widthOfTextAtSize(D,m);c.drawText(D,{x:(c.getWidth()-f)/2,y:w.fixedText.website.y,size:m,font:s,color:d(w.fixedText.website.color)});let E=Uo(e.date)||"Dieta",C=`Dieta ${e.dietType==="lunch"?"Comida":e.dietType==="dinner"?"Cena":""} ${E}`.trim().replace(/ +/g," ");o.setTitle(C),o.setAuthor("misdietas.com"),o.setSubject("Justificante de dieta de transporte sanitario"),o.setCreator("MisDietas"),o.setKeywords(["dieta","justificante","transporte sanitario","tsu","tsnu"]);let I=new Date(e.date);return Number.isNaN(I.getTime())||(o.setCreationDate(I),o.setModificationDate(I)),await o.save({permissions:{modifying:!1,copying:!1}})}var El=new Map;function hl({src:e,integrity:t,crossOrigin:a="anonymous",referrerPolicy:n="no-referrer",timeoutMs:l=15e3}={}){if(!e||typeof e!="string")return Promise.reject(new Error("loadExternalScript: src inv\xE0lid."));if(El.has(e))return El.get(e);let i=document.querySelector(`script[src="${e}"]`);if(i?.dataset?.secureLoaded==="true"){let s=Promise.resolve();return El.set(e,s),s}let r=i??document.createElement("script");Rg(r),r.src=e,r.async=!0,r.crossOrigin=a,r.referrerPolicy=n,t&&(r.integrity=t);let o=new Promise((s,c)=>{let d=null,p=()=>{r.removeEventListener("load",u),r.removeEventListener("error",g),d&&(clearTimeout(d),d=null)},u=()=>{p(),r.dataset.secureLoaded="true",s()},g=()=>{p(),!i&&r.parentNode&&r.parentNode.removeChild(r),El.delete(e),c(new Error(`Error carregant script: ${e}`))};r.addEventListener("load",u),r.addEventListener("error",g),d=window.setTimeout(()=>{p(),El.delete(e),!i&&r.parentNode&&r.parentNode.removeChild(r),c(new Error(`Timeout carregant script: ${e}`))},l)});return El.set(e,o),i||document.head.appendChild(r),o}var Tu=class{constructor(t=10,a=6e4,n="acci\xF3"){this.maxRequests=t,this.windowMs=a,this.actionName=n,this.requests=[]}canMakeRequest(){let t=Date.now();if(this.requests=this.requests.filter(a=>t-a<this.windowMs),this.requests.length>=this.maxRequests){let a=Math.min(...this.requests),n=Math.ceil((a+this.windowMs-t)/1e3);return console.warn(`[RateLimiter] L\xEDmit assolit per "${this.actionName}". Espera ${n}s abans de tornar-ho a intentar.`),!1}return this.requests.push(t),!0}getRemainingRequests(){let t=Date.now();return this.requests=this.requests.filter(a=>t-a<this.windowMs),Math.max(0,this.maxRequests-this.requests.length)}reset(){this.requests=[]}getStatus(){let t=Date.now();return this.requests=this.requests.filter(a=>t-a<this.windowMs),{actionName:this.actionName,requestsMade:this.requests.length,maxRequests:this.maxRequests,remaining:this.maxRequests-this.requests.length,windowSeconds:this.windowMs/1e3}}},Po=Tu;var jg=!1,zo=null,Yg=L.withScope("PdfService"),UA="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js",PA="sha384-weMABwrltA6jWR8DDe9Jp5blk+tZQh7ugpCsF3JwSA53WZM9/14PjS5LAJNHNjAI",Vo=new Po(20,6e4,"generaci\xF3 de PDF");async function Xg(){jg&&window.PDFLib||(zo||(zo=hl({src:UA,integrity:PA}).then(()=>{if(!window.PDFLib)throw new Error("PDF-Lib no disponible despr\xE9s de carregar script.");jg=!0}).catch(e=>{throw zo=null,e})),await zo)}var Ho={DADES_TAB:"tab-dades",SERVEIS_TAB:"tab-serveis"},wa={ERROR_TAB:"error-tab"};function zA(e,t){let a=document.getElementById(Ho.DADES_TAB),n=document.getElementById(Ho.SERVEIS_TAB);a?.classList.remove(wa.ERROR_TAB),n?.classList.remove(wa.ERROR_TAB);let l="";!e&&!t?(l="Completa els camps obligatoris a Dades i Serveis.",a?.classList.add(wa.ERROR_TAB),n?.classList.add(wa.ERROR_TAB)):e?(l="Completa els camps obligatoris a Serveis.",n?.classList.add(wa.ERROR_TAB)):(l="Completa els camps obligatoris a Dades.",a?.classList.add(wa.ERROR_TAB)),l&&A(l,"error")}function Kg(e,t){let a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>URL.revokeObjectURL(a),500)}function Fg(e,t){let a=Uo(e).replace(/\//g,"_")||"";return a?`${t==="lunch"?"dieta_comida":t==="dinner"?"dieta_cena":"dieta"}_${a}.pdf`:gt.DEFAULT_FILENAME}async function Qg(){if(!Vo.canMakeRequest()){let a=Vo.getRemainingRequests();A(`Has superat el l\xEDmit de generaci\xF3 de PDFs. Espera uns segons. (${a} disponibles)`,"warning");return}let e=fo(),t=mo();if(!e||!t){zA(e,t);return}document.getElementById(Ho.DADES_TAB)?.classList.remove(wa.ERROR_TAB),document.getElementById(Ho.SERVEIS_TAB)?.classList.remove(wa.ERROR_TAB);try{let{generalData:a,servicesData:n}=Bo();if(!a||!n)throw new Error("Dades no recollides.");await Xg();let l=await vu(a,n),i=Fg(a.date,a.dietType);Kg(new Blob([l],{type:"application/pdf"}),i),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from main form"}),A("Descarga iniciada correctamente.","success"),Gg()}catch(a){Yg.error("Error generant PDF des del formulari principal:",a),A(`Error en la generaci\xF3n del PDF: ${a.message||"Desconocido"}`,"error")}}async function Zg(e){if(!e){A("ID de dieta inv\xE1lido.","error");return}if(!Vo.canMakeRequest()){let t=Vo.getRemainingRequests();A(`Has superat el l\xEDmit de generaci\xF3 de PDFs. Espera uns segons. (${t} disponibles)`,"warning");return}try{let t=e.length===64?e:await sl(e),a=await Tn(t);if(!a)throw new Error("Dieta no encontrada.");let n={date:a.date||"",dietType:a.dietType||"",vehicleNumber:a.vehicleNumber||"",person1:a.person1||"",person2:a.person2||"",serviceType:a.serviceType||"TSU",signatureConductor:a.signatureConductor||"",signatureAjudant:a.signatureAjudant||""},l=a.services.map(o=>({serviceNumber:o.serviceNumber||"",origin:o.origin||"",originTime:o.originTime||"",destination:o.destination||"",destinationTime:o.destinationTime||"",endTime:o.endTime||"",mode:o.mode||"3.6",notes:o.notes||""}));await Xg();let i=await vu(n,l),r=Fg(n.date,n.dietType);Kg(new Blob([i],{type:"application/pdf"}),r),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from saved list"}),A("Descarga iniciada correctamente.","success")}catch(t){Yg.error("Error en downloadDietPDF:",t),A(`Error en la generaci\xF3n del PDF: ${t.message||"Desconocido"}`,"error")}}var ee={MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_DELETE_BTN:"diet-delete",DIET_LOAD_BTN:"diet-load",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal"},Lt={DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",SIGNATURE_MODAL:"signature-modal",DOTACIO_MODAL:"dotacio-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal"},Go={MODAL:".modal",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},ta={DIET_ID:"data-diet-id",DIET_DATE:"data-diet-date",DIET_TYPE:"data-diet-type"},VA=L.withScope("Modals:Manager"),Pt=[],Au=null,Sl=null,yl=null,kg=new Map;function vl(){return Pt.length>0?Pt[Pt.length-1]:null}function HA(){Sl||(Sl=e=>{let t=vl();if(t&&e.target===t){let a=kg.get(t.id);a?a({reason:"backdrop"}):zt(t)}},document.addEventListener("click",Sl,!0)),yl||(yl=e=>{if(e.key!=="Escape")return;let t=vl();if(!t)return;let a=kg.get(t.id);a?a({reason:"escape"}):zt(t)},document.addEventListener("keydown",yl,!0))}function GA(){Sl&&(document.removeEventListener("click",Sl,!0),Sl=null),yl&&(document.removeEventListener("keydown",yl,!0),yl=null)}function qA(e){e.dataset.backdropTouchHandled||(e.addEventListener("touchstart",t=>{t.target===e&&(t.preventDefault(),t.stopPropagation())},{passive:!1}),e.dataset.backdropTouchHandled="true")}function Jg(e){e.style.display="block",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",e.style.setProperty("pointer-events","auto")}function $g(e){e.querySelector(Go.FOCUSABLE_ELEMENTS)?.focus()}function Tl(e){if(!e)return;let t=vl();if(t&&t!==e&&e.id!==Lt.CONFIRM_MODAL){VA.debug("S'ha ignorat l'obertura perqu\xE8 ja hi ha un modal actiu.");return}let a=Pt.includes(e);a||Pt.push(e),Pt.length===1&&!a&&(Au=document.activeElement,document.body.classList.add(ee.MODAL_OPEN_BODY),ep(),Al(!1),document.body.style.setProperty("pointer-events","none")),HA(),qA(e),Jg(e),$g(e)}function zt(e=vl()){if(!e)return;let t=Pt.lastIndexOf(e);if(t===-1){e.style.display="none",e.style.removeProperty("pointer-events");return}if(Pt.splice(t,1),e.style.display="none",e.style.removeProperty("pointer-events"),Pt.length===0){document.body.classList.remove(ee.MODAL_OPEN_BODY),Al(!0),tp(),document.body.style.removeProperty("pointer-events"),Au?.focus(),Au=null,GA();return}let a=vl();a&&(Jg(a),$g(a))}function Wg(){document.querySelectorAll(Go.MODAL_TRIGGER).forEach(t=>{if(t.dataset.modalPrepared==="true")return;let a=t.getAttribute("href")?.substring(1);if(!a)return;let n=document.getElementById(a);n&&n.matches(Go.MODAL)&&(t.addEventListener("click",i=>{i.preventDefault(),Tl(n)}),n.querySelectorAll(Go.MODAL_CLOSE_BTN).forEach(i=>{i.dataset.modalPrepared!=="true"&&(i.addEventListener("click",()=>zt(n)),i.dataset.modalPrepared="true")})),t.dataset.modalPrepared="true"})}function Cu(){return Pt.length>0}function bu(){return vl()}Ot();var Vt=L.withScope("Modals:Trash"),Mn={type:"all",date:null},Du=0;function Qi(){let e=document.getElementById("trash-modal");e&&(Tl(e),Rn())}function ap(){let e=document.getElementById("trash-modal");e&&(zt(e),Cl())}function jA(e){let t=document.getElementById("trash-item-template");if(!t)return Vt.warn("Template de paperera no trobat"),null;let a=t.content.cloneNode(!0),n=a.querySelector(".trash-item"),{ddmmaa:l,franjaText:i}=Ki(e.date,e.dietType),r=a.querySelector(".trash-item-date"),o=a.querySelector(".trash-item-type-badge");r&&(r.textContent=l),o&&(o.textContent=xo(i));let s=a.querySelector(".trash-restore-btn"),c=a.querySelector(".trash-delete-btn");s&&s.addEventListener("click",async()=>{await XA(e.id)});let d=l;return c&&c.addEventListener("click",async()=>{await KA(e.id,d)}),n}async function Rn(){let e=document.getElementById("trash-options"),t=document.getElementById("no-trash-text"),a=++Du;if(!e||!t){Vt.error("Elements del modal de paperera no trobats");return}try{let n=await No();if(a!==Du)return;n=YA(n),n.sort((r,o)=>new Date(o.deletedAt)-new Date(r.deletedAt));let l=new Set;if(n=n.filter(r=>r.id?l.has(r.id)?(Vt.warn("Dieta duplicada detectada i exclosa:",r.id),!1):(l.add(r.id),!0):(Vt.warn("Dieta sense ID trobada a la paperera:",r),!1)),e.innerHTML="",n.length===0){e.classList.add("hidden"),t.classList.remove("hidden");return}e.classList.remove("hidden"),t.classList.add("hidden");let i=document.createDocumentFragment();n.forEach(r=>{if(a!==Du)return;let o=jA(r);o&&i.appendChild(o)}),e.appendChild(i)}catch(n){Vt.error("Error mostrant dietes eliminades:",n),A("Error cargando dietas eliminadas","error")}}function YA(e){let t=[...e];return Mn.type!=="all"&&(t=t.filter(a=>String(a.dietType)===String(Mn.type))),Mn.date&&(t=t.filter(a=>a.date===Mn.date)),t}async function XA(e){try{let t=await Tg(e);A("Dieta restaurada correctamente","success",3e3),Rn(),dl()}catch(t){Vt.error("Error restaurant dieta:",t),A("Error restaurando la dieta","error")}}async function KA(e,t){if(confirm(`Vols eliminar permanentment "${t}"?

Aquesta acci\xF3 no es pot desfer.`))try{await Ag(e),A("Dieta eliminada permanentemente","success",3e3),Rn()}catch(n){Vt.error("Error eliminant dieta permanentment:",n),A("Error eliminando la dieta","error")}}async function FA(){let e=await No();if(e.length===0){A("La papelera ya est\xE1 vac\xEDa","info");return}if(confirm(`Vols buidar la paperera?

S'eliminaran ${e.length} dietes permanentment.

Aquesta acci\xF3 no es pot desfer.`))try{await bg(),A("Papelera vaciada correctamente","success",3e3),Rn()}catch(a){Vt.error("Error buidant paperera:",a),A("Error vaciando la papelera","error")}}function np(){Vt.debug("Inicialitzant modal de paperera...");let e=document.getElementById("close-trash-modal");e&&e.addEventListener("click",ap);let t=document.getElementById("trash-modal");t&&t.addEventListener("click",r=>{r.target===t&&ap()});let a=document.getElementById("empty-trash-btn");a&&a.addEventListener("click",FA);let n=document.getElementById("trash-filter-type");n&&n.addEventListener("change",r=>{Mn.type=r.target.value,Rn()});let l=document.getElementById("trash-filter-date");l&&l.addEventListener("change",r=>{Mn.date=r.target.value||null,Rn()});let i=document.getElementById("trash-clear-filters");i&&i.addEventListener("click",()=>{Mn={type:"all",date:null},n&&(n.value="all"),l&&(l.value=""),Rn()}),Vt.debug("Modal de paperera inicialitzat")}var qo=L.withScope("Modals:Diet"),Mt=null,Ae=null,Ht=null,lp=!1;function jo(){if(lp)return!0;if(Mt=document.getElementById(Lt.DIET_MODAL),Ae=document.getElementById(Lt.DIET_OPTIONS_LIST),Ht=document.getElementById(Lt.NO_DIETS_TEXT),!Mt||!Ae||!Ht)return qo.warn("No s'han trobat els elements del modal de dietes."),!1;let e=document.getElementById("open-trash-modal");e&&!e.dataset.modalPrepared&&(e.addEventListener("click",()=>{Ro(),Qi()}),e.dataset.modalPrepared="true");let t=document.getElementById("close-diet-modal");return t&&!t.dataset.modalPrepared&&(t.addEventListener("click",()=>zt(Mt)),t.dataset.modalPrepared="true"),Ae.dataset.modalPrepared||(Ae.addEventListener("click",ZA),Ae.dataset.modalPrepared="true"),lp=!0,!0}function QA(e){let t=e.id||"?????????",{ddmmaa:a,franjaText:n}=Ki(e.date,e.dietType),l=document.createElement("div");l.className=ee.DIET_ITEM;let i=document.createElement("div");i.className="diet-item-content";let r=document.createElement("span");r.className=ee.DIET_DATE;let o=a;o+=` - ${xo(n)}`,r.textContent=o;let s=document.createElement("div");s.className=ee.DIET_ICONS;let c=document.createElement("div");c.className=ee.DIET_DELETE_REVEAL,c.innerHTML=`
    <div class="delete-reveal-content">
      <img src="assets/icons/delete.svg" alt="Eliminar" class="icon">
      <span class="delete-text">Eliminar dieta</span>
    </div>
  `;let d=document.createElement("button");d.className=`${ee.LIST_ITEM_BTN} ${ee.LIST_ITEM_BTN_LOAD} ${ee.DIET_LOAD_BTN}`,d.setAttribute("aria-label",`Editar dieta ${a}`),d.innerHTML='<img src="assets/icons/ic_edit.svg" alt="" class="icon"><span class="btn-text visually-hidden">Editar</span>',d.setAttribute(ta.DIET_ID,t),d.setAttribute(ta.DIET_DATE,e.date),d.setAttribute(ta.DIET_TYPE,e.dietType);let p=document.createElement("button");return p.className=`${ee.LIST_ITEM_BTN} diet-download`,p.setAttribute("aria-label",`Descarregar PDF de la dieta ${a}`),p.innerHTML='<img src="assets/icons/download_blue.svg" alt="" class="icon"><span class="btn-text visually-hidden">PDF</span>',p.setAttribute(ta.DIET_ID,t),s.appendChild(d),s.appendChild(p),i.appendChild(r),i.appendChild(s),l.appendChild(i),l.appendChild(c),l}function ZA(e){let t=e.target,a=t.closest(`.${ee.DIET_LOAD_BTN}`),n=t.closest(".diet-download");if(a){e.stopPropagation();let l=a.getAttribute(ta.DIET_ID),i=a.getAttribute(ta.DIET_DATE),r=a.getAttribute(ta.DIET_TYPE);if(!l||!i||!r)return;let{ddmmaa:o,franjaText:s}=Ki(i,r);Ng(l).then(()=>{qo.debug(`Dieta ${o} carregada (${s}).`),zt(Mt)}).catch(c=>{qo.error("Error en carregar la dieta:",c)})}else if(n){e.stopPropagation();let l=n.getAttribute(ta.DIET_ID);l&&Zg(l)}}function _u(){if(!Ae||!Ht)return;let e=Ae.children.length>0;Ae.classList.toggle(ee.HIDDEN,!e),Ht.classList.toggle(ee.HIDDEN,e),e||(Ht.textContent="No hay dietas guardadas.")}function kA(e,t,a,n){let l=0,i=0,r=!1,o=!1;e.addEventListener("mousedown",s=>{s.target.closest("button")||s.target.closest(".diet-icons")||(l=s.clientX,i=l,r=!1)}),document.addEventListener("mousemove",s=>{i=s.clientX;let c=l-i;c>10&&!r&&(r=!0,e.classList.add(ee.DIET_ITEM_SWIPING)),r&&c>10&&(e.style.transform=`translateX(-${Math.min(c,120)}px)`,s.preventDefault())}),document.addEventListener("mouseup",async()=>{if(!r||o)return;r=!1;let s=l-i;e.classList.remove(ee.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",s>50?(o=!0,e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),_u(),await fu(t,a,n)},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function JA(e,t,a,n){let l=0,i=0,r=!1,o=!1;e.addEventListener("touchstart",s=>{s.target.closest("button")||s.target.closest(".diet-icons")||(l=s.touches[0].clientX,i=l,r=!1,s.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",s=>{i=s.touches[0].clientX;let c=l-i;c>10&&!r&&(r=!0,e.classList.add(ee.DIET_ITEM_SWIPING),Mt&&(Mt.style.overflow="hidden")),r&&c>10&&(e.style.transform=`translateX(-${Math.min(c,120)}px)`,s.preventDefault(),s.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async s=>{if(!r||o)return;r=!1;let c=l-i;e.classList.remove(ee.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",c>50?(o=!0,e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),_u(),await fu(t,a,n)},300)):(e.style.transform="translateX(0)",e.style.opacity="1",Mt&&(Mt.style.overflow="")),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),s.stopPropagation()}),kA(e,t,a,n)}function ip(){jo()}function Cl(){jo()&&(Tl(Mt),dl())}function Ro(){bu()===Mt&&zt(Mt)}async function dl(){if(jo()){Ae.innerHTML="";try{let e=await ul();if(e.length===0){Ae.classList.add(ee.HIDDEN),Ht.classList.remove(ee.HIDDEN),Ht.textContent="No hay dietas guardadas.";return}Ae.classList.remove(ee.HIDDEN),Ht.classList.add(ee.HIDDEN),e.slice().sort((t,a)=>{let n=new Date(a.date)-new Date(t.date);return n===0?new Date(a.timeStampDiet)-new Date(t.timeStampDiet):n}).forEach((t,a)=>{let n=QA(t);n.setAttribute("data-index",String(a)),Ae.appendChild(n),JA(n,t.id,t.date,t.dietType)})}catch(e){qo.error("Error al carregar les dietes:",e),Ae.classList.add(ee.HIDDEN),Ht.classList.remove(ee.HIDDEN),Ht.textContent="Error al cargar las dietas."}}}function gu(e){if(!jo())return;let t=Ae.querySelector(`[data-diet-id="${e}"]`)?.closest(".diet-item");if(!t)return;let a=`${Ae.scrollHeight}px`;Ae.style.height=a,t.remove(),requestAnimationFrame(()=>{Ae.style.height=`${Ae.scrollHeight}px`}),_u()}Ot();var Ne=L.withScope("DotacionsRepository"),Zi=Ut.DOTACIONS,aa=null;async function $A(){return new Promise((e,t)=>{let a=indexedDB.open(_o,3);a.onupgradeneeded=n=>{let l=n.target.result,i=n.oldVersion,r=n.newVersion;if(Ne.debug(`Actualitzant DB de v${i} a v${r}`),l.objectStoreNames.contains(Ut.DIETAS)||(l.createObjectStore(Ut.DIETAS,{keyPath:"id"}).createIndex(dt.DIET_DATE,"date",{unique:!1}),Ne.debug("Object store 'dietas' creat")),l.objectStoreNames.contains(Zi)||(l.createObjectStore(Zi,{keyPath:"id"}).createIndex(dt.DOTACIONS_TIMESTAMP,"timestamp",{unique:!1}),Ne.debug("Object store 'dotacions' creat")),!l.objectStoreNames.contains(Ut.DELETED_DIETS)){let o=l.createObjectStore(Ut.DELETED_DIETS,{keyPath:"id"});o.createIndex(dt.DELETED_DIETS_DELETED_AT,"deletedAt",{unique:!1}),o.createIndex(dt.DELETED_DIETS_TYPE,"dietType",{unique:!1}),o.createIndex(dt.DELETED_DIETS_DATE,"date",{unique:!1}),Ne.debug("Object store 'deleted_diets' creat")}},a.onsuccess=n=>{aa=n.target.result,aa.onclose=()=>aa=null,aa.onerror=()=>aa=null,aa.onversionchange=()=>aa.close(),e(aa)},a.onerror=n=>{Ne.error("Error obrint base de dades:",n.target.error),t(n.target.error)},a.onblocked=()=>{let n=new Error("IndexedDB bloquejat per una altra pestanya");Ne.error(n.message),t(n)}})}async function rp(e="readonly"){return(aa??await $A()).transaction(Zi,e)}function op(e,t){return new Promise((a,n)=>{e.onsuccess=l=>a(l.target.result),e.onerror=l=>{Ne.error(`${t}:`,l.target.error),n(new Error(`${t}: ${l.target.error}`))}})}function WA(e){return new Promise((t,a)=>{e.oncomplete=()=>t(),e.onerror=()=>a(e.error),e.onabort=()=>a(e.error)})}async function Ou(e){try{let t=await rp("readwrite"),a=t.objectStore(Zi),n={id:"current",data:e,timestamp:Date.now(),version:e.version||1};await op(a.put(n),"No s'han pogut guardar les dotacions"),await WA(t),Ne.debug("\u2705 Dotacions guardades a IndexedDB")}catch(t){throw Ne.error("Error guardant dotacions:",t),t}}async function sp(){try{let t=(await rp("readonly")).objectStore(Zi),a=await op(t.get("current"),"Error carregant dotacions");return a?(Ne.debug("\u2705 Dotacions carregades des d'IndexedDB"),a.data):(Ne.debug("No hi ha dotacions guardades"),null)}catch(e){return Ne.error("Error carregant dotacions:",e),null}}async function cp(){let e="dotacions_v2",t="dotacions_encrypted",a="dotacions_migrated_to_indexeddb";try{if(localStorage.getItem(a)==="true")return Ne.debug("Dotacions ja migrades anteriorment"),!1;let n=localStorage.getItem(e);if(!n)return Ne.debug("No hi ha dotacions a localStorage per migrar"),localStorage.setItem(a,"true"),!1;Ne.debug("\u{1F504} Iniciant migraci\xF3 de dotacions a IndexedDB...");let l=JSON.parse(n),i=localStorage.getItem(t)==="true";return await Ou(l),localStorage.setItem(a,"true"),Ne.debug(`\u2705 Dotacions migrades a IndexedDB (${i?"encriptades":"text pla"})`),!0}catch(n){return Ne.error("\u274C Error migrant dotacions:",n),!1}}var me=L.withScope("DotacionService"),up="dotacions_v2",e0="dotacions_encrypted",fe={MODAL:"dotacio-modal",OPTIONS_CONTAINER:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2"},Rt={MODAL_OPEN:"modal-open",INPUT_ERROR:"input-error",HIDDEN:"hidden"},bl={PERSON_INPUT_GROUP:".input-with-icon",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete"},dp={INDEX:"data-index"},t0=180,fp="\u26A0\uFE0F La encriptaci\xF3n de dotaciones no est\xE1 disponible. Las dotaciones se guardar\xE1n sin cifrar hasta que se resuelva el problema.",Nu=class{constructor(){this.savedDotacions=[],this.dotacioModalElement=null,this.optionsContainerElement=null,this.dotacioTemplateElement=null,this.noDotacioTextElement=null,this.isInitialized=!1,this.encryptionSupported=!0,this.encryptionDisabledReason="",this.hasShownEncryptionWarning=!1}async init(){if(this.isInitialized)return;this.dotacioModalElement=document.getElementById(fe.MODAL),this.optionsContainerElement=document.getElementById(fe.OPTIONS_CONTAINER),this.dotacioTemplateElement=document.getElementById(fe.TEMPLATE),this.noDotacioTextElement=document.getElementById(fe.NO_DOTACIO_TEXT);let t=document.getElementById(fe.ADD_BTN),a=document.getElementById(fe.OPEN_MODAL_BTN),n=document.getElementById(fe.CLOSE_MODAL_BTN);if(!this.dotacioModalElement||!this.optionsContainerElement||!this.dotacioTemplateElement||!t||!a||!n)return;await this.loadDotacionsFromStorage(),this.encryptionSupported||this.showEncryptionDisabledWarning(),t.addEventListener("click",this.addDotacioFromMainForm.bind(this)),a.addEventListener("click",this.openDotacioModal.bind(this)),n.addEventListener("click",this.closeDotacioModal.bind(this)),this.dotacioModalElement.addEventListener("click",i=>{i.target===this.dotacioModalElement&&this.closeDotacioModal()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&this.dotacioModalElement.style.display==="block"&&this.closeDotacioModal()}),this.optionsContainerElement.addEventListener("click",this.handleOptionsClick.bind(this)),[fe.VEHICLE_INPUT,fe.PERSON1_INPUT,fe.PERSON2_INPUT].forEach(i=>{let r=document.getElementById(i);r?.addEventListener("input",()=>{let o=r.closest(bl.PERSON_INPUT_GROUP);o?o.classList.remove(Rt.INPUT_ERROR):r.classList.remove(Rt.INPUT_ERROR)})}),this.isInitialized=!0}setEncryptionSupport(t,a=""){this.encryptionSupported=!!t,this.encryptionSupported?(this.encryptionDisabledReason="",this.hasShownEncryptionWarning=!1):this.encryptionDisabledReason=a||fp}showEncryptionDisabledWarning(){this.encryptionSupported||this.hasShownEncryptionWarning||(A(this.encryptionDisabledReason||fp,"warning",7e3),this.hasShownEncryptionWarning=!0)}loadDotacionsFromLegacyStorage(){try{let t=localStorage.getItem(up);if(!t){this.savedDotacions=[];return}let a=JSON.parse(t);this.savedDotacions=Array.isArray(a)?a:[],Array.isArray(a)||me.warn("Format de dotacions sense encriptar inv\xE0lid. S'inicia llista buida.")}catch(t){me.error("Error carregant dotacions sense encriptaci\xF3:",t),this.savedDotacions=[],A("Error cargando dotaciones sin encriptaci\xF3n. Los datos pueden no estar disponibles.","error",6e3)}finally{this.showEncryptionDisabledWarning()}}async loadDotacionsFromStorage(){if(!this.encryptionSupported){this.loadDotacionsFromLegacyStorage();return}try{await cp();let t=await sp();if(!t){this.savedDotacions=[];return}if(t.version&&t.algorithm){if(!await vn()){me.error("\u274C Sistema de claus NO inicialitzat. No es poden carregar dotacions encriptades."),A("Error de seguridad: No se pueden cargar las dotaciones. Prueba recargar la p\xE1gina.","error",5e3),this.savedDotacions=[];return}try{let n=await Ma(),l=await n0(t,n);this.savedDotacions=l,me.debug("\u{1F513} Dotacions desencriptades correctament")}catch(n){me.error("\u274C Error CR\xCDTIC desencriptant dotacions:",n),A("Dotaciones antiguas no compatibles con la actualizaci\xF3n. Vuelve a crearlas en el formulario principal.","error",7e3),this.savedDotacions=[]}}else if(me.warn("\u26A0\uFE0F Dotacions en text pla detectades (format antic insegur)"),this.savedDotacions=Array.isArray(t)?t:[],this.savedDotacions.length>0){A(`\u26A0\uFE0F Se han detectado ${this.savedDotacions.length} dotaci\xF3n(es) sin encriptar. Se encriptar\xE1n autom\xE1ticamente.`,"warning",5e3),me.debug("\u{1F4E6} Migrant dotacions a format encriptat...");try{await this.saveDotacionsToStorage(),A("\u2705 Dotaciones migradas y encriptadas a IndexedDB.","success",5e3),me.info("\u2705 Migraci\xF3 completada amb \xE8xit")}catch(n){me.error("\u274C Error migrant dotacions:",n),A("\u26A0\uFE0F No se han podido encriptar las dotaciones. Gu\xE1rdalas de nuevo para encriptarlas.","error",7e3)}}Array.isArray(this.savedDotacions)||(this.savedDotacions=[])}catch(t){me.error("Error carregant dotacions:",t),this.savedDotacions=[]}}async saveDotacionsToStorage(){if(!this.encryptionSupported){try{localStorage.setItem(up,JSON.stringify(this.savedDotacions)),localStorage.setItem(e0,"false"),this.showEncryptionDisabledWarning()}catch(t){throw me.error("Error guardant dotacions sense encriptaci\xF3:",t),A("Error guardando dotaciones sin encriptaci\xF3n. Comprueba el espacio disponible.","error",6e3),t}return}try{if(!await vn())throw me.error("\u274C Sistema de claus NO inicialitzat. NO es poden guardar dotacions."),A("Error de seguretat: Sistema d'encriptaci\xF3 no disponible. Proveu recarregar la p\xE0gina.","error",5e3),new Error("Sistema de claus no inicialitzat - guardat bloquejat per seguretat");let t=await Ma(),a=await a0(this.savedDotacions,t);await Ou(a),me.debug("\u{1F512} Dotacions guardades encriptades a IndexedDB")}catch(t){throw me.error("\u274C Error CR\xCDTIC guardant dotacions:",t),A("Error cr\xEDtico: Las dotaciones NO se han guardado por seguridad.","error",5e3),t}}openDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="block",this.dotacioModalElement.style.pointerEvents="auto",document.body.classList.add(Rt.MODAL_OPEN),document.body.style.setProperty("pointer-events","none"),this.displayDotacioOptions())}closeDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="none",this.dotacioModalElement.style.pointerEvents="",document.body.classList.remove(Rt.MODAL_OPEN),document.body.style.removeProperty("pointer-events"),document.getElementById(fe.OPEN_MODAL_BTN)?.focus())}displayDotacioOptions(){!this.optionsContainerElement||!this.dotacioTemplateElement||(this.optionsContainerElement.innerHTML="",this.savedDotacions.length===0?(this.noDotacioTextElement?.classList.remove(Rt.HIDDEN),this.optionsContainerElement.classList.add(Rt.HIDDEN)):(this.noDotacioTextElement?.classList.add(Rt.HIDDEN),this.optionsContainerElement.classList.remove(Rt.HIDDEN),this.savedDotacions.forEach((t,a)=>{let n=this.dotacioTemplateElement.content.cloneNode(!0),l=n.querySelector(bl.DOTACIO_INFO),i=n.querySelector(bl.LOAD_BTN),r=n.firstElementChild,o=`${t.numero}-${t.conductor}-${t.ajudant}`.replace(/\s/g,"");r.setAttribute("data-dotacio-id",o),l&&(l.textContent=this.formatDotacioListText(t)),i&&i.setAttribute(dp.INDEX,a),this.optionsContainerElement.appendChild(n),Xo(r,o),Yo(r,o)})))}formatDotacioListText(t){let a=t.numero||"S/N",n=gl(t.conductor||""),l=gl(t.ajudant||""),i=`${n} / ${l}`;n||l?i=` - ${i}`:i="";let r=`${a}${i}`;if(this.measureTextWidth(r)>t0){let s=t.conductor?this.shortenPersonName(t.conductor):"",c=t.ajudant?this.shortenPersonName(t.ajudant):"",d=`${s} / ${c}`;s||c?d=` - ${d}`:d="",r=`${a}${d}`}return r}shortenPersonName(t){if(!t||typeof t!="string")return"";let a=t.trim().split(/\s+/).filter(o=>o.length>0);if(a.length===0)return"";if(a.length===1)return gl(a[0]);let n=new Set(["de","la","del","el","los","las","von","van","d'","es","da","dels","i","y"]),l=a.filter(o=>!n.has(o.toLowerCase()));if(l.length===0)return gl(a[0]);let i=gl(l[0]),r=l.slice(1).map(o=>o.charAt(0).toUpperCase()+".").join(" ");return`${i} ${r}`}measureTextWidth(t){let a=document.createElement("span");a.style.visibility="hidden",a.style.whiteSpace="nowrap",a.style.fontSize=getComputedStyle(document.body).fontSize,a.style.fontFamily=getComputedStyle(document.body).fontFamily,a.textContent=t,document.body.appendChild(a);let n=a.offsetWidth;return document.body.removeChild(a),n}loadDotacionByIndex(t){if(t<0||t>=this.savedDotacions.length)return;let a=this.savedDotacions[t];this.clearDotacionInputErrors(),document.getElementById(fe.VEHICLE_INPUT).value=a.numero||"",document.getElementById(fe.PERSON1_INPUT).value=a.conductor||"",document.getElementById(fe.PERSON2_INPUT).value=a.ajudant||"",Io(a.firmaConductor||""),wo(a.firmaAjudant||""),A(`Dotaci\xF3n ${a.numero} cargada.`,"success"),this.closeDotacioModal()}async handleDeleteById(t){let a=this.savedDotacions.findIndex(i=>`${i.numero}-${i.conductor}-${i.ajudant}`.replace(/\s/g,"")===t);if(a===-1){console.warn("Se intent\xF3 eliminar una dotaci\xF3n que ya no existe:",t);return}let l={...this.savedDotacions[a],originalIndex:a};this.savedDotacions.splice(a,1),await this.saveDotacionsToStorage(),Dl(),A("Dotaci\xF3n eliminada.","success",5e3,{queueable:!1,undoCallback:async()=>{this.savedDotacions.splice(l.originalIndex,0,l),await this.saveDotacionsToStorage(),Lu(l),A("Dotaci\xF3n restaurada.","success")}})}handleOptionsClick(t){let n=t.target.closest(bl.LOAD_BTN);if(n){t.stopPropagation();let l=parseInt(n.getAttribute(dp.INDEX),10);isNaN(l)||this.loadDotacionByIndex(l)}}getDotacionInputValues(){let t=document.getElementById(fe.VEHICLE_INPUT),a=document.getElementById(fe.PERSON1_INPUT),n=document.getElementById(fe.PERSON2_INPUT);return{vehiculo:t?.value.trim()||"",conductor:a?.value.trim()||"",ayudante:n?.value.trim()||""}}findExistingDotacionIndex(t,a,n){let l=t.toLowerCase(),i=a.toLowerCase(),r=n.toLowerCase();return this.savedDotacions.findIndex(o=>o.numero.toLowerCase()===l&&o.conductor.toLowerCase()===i&&o.ajudant.toLowerCase()===r)}async addDotacioFromMainForm(){if(!$m())return;let{vehiculo:t,conductor:a,ayudante:n}=this.getDotacionInputValues(),l=Ko(),i=Fo(),r=this.findExistingDotacionIndex(t,a,n),o={numero:t,conductor:a,ajudant:n,firmaConductor:l,firmaAjudant:i};r!==-1?(this.savedDotacions[r]=o,A(`Dotaci\xF3n ${t} actualizada.`,"success")):(this.savedDotacions.push(o),A(`Dotaci\xF3n ${t} creada.`,"success")),await this.saveDotacionsToStorage()}clearDotacionInputErrors(){let t=document.getElementById(fe.VEHICLE_INPUT),a=document.getElementById(fe.PERSON1_INPUT),n=document.getElementById(fe.PERSON2_INPUT),l=a?.closest(bl.PERSON_INPUT_GROUP),i=n?.closest(bl.PERSON_INPUT_GROUP);t?.classList.remove(Rt.INPUT_ERROR),l?.classList.remove(Rt.INPUT_ERROR),i?.classList.remove(Rt.INPUT_ERROR)}};async function a0(e,t){try{let n=new TextEncoder().encode(JSON.stringify(e)),l=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:l,tagLength:128},t,n),r=mp(i),o=mp(l),s=await pp(r);return{version:1,algorithm:"AES-GCM",iv:o,data:r,checksum:s}}catch(a){throw me.error("Error encriptant dotacions:",a),a}}async function n0(e,t){try{if(!e||!e.data||!e.iv)throw new Error("Format de dades encriptades inv\xE0lid");let a=!0;e.checksum&&await pp(e.data)!==e.checksum&&(a=!1,me.error("\u26A0\uFE0F CHECKSUM MISMATCH en dotacions - Integritat compromesa"),A("\u26A0\uFE0F Advertencia: Las dotaciones pueden estar corruptas. El checksum no coincide.","warning",7e3),me.warn("Continuant amb desencriptaci\xF3 malgrat checksum inv\xE0lid"));let n=gp(e.data),l=gp(e.iv),i=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(l),tagLength:128},t,new Uint8Array(n)),o=new TextDecoder().decode(i),s=JSON.parse(o);return me.debug(`Dotacions desencriptades (checksum: ${a?"\u2705 v\xE0lid":"\u26A0\uFE0F inv\xE0lid"})`),s}catch(a){throw me.error("Error desencriptant dotacions:",a),a.name==="OperationError"?new Error("Les dotacions estan corruptes o s'ha utilitzat una clau incorrecta"):a}}function mp(e){let t=new Uint8Array(e),a="";for(let n=0;n<t.byteLength;n++)a+=String.fromCharCode(t[n]);return btoa(a)}function gp(e){let t=atob(e),a=new Uint8Array(t.length);for(let n=0;n<t.length;n++)a[n]=t.charCodeAt(n);return a.buffer}async function pp(e){try{let a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){return me.error("Error calculant checksum:",t),""}}var Ba=new Nu;var ki=L.withScope("Modals:Dotacio");function l0(e,t){let a=document.getElementById("dotacio-template");if(!a)return ki.warn("No s'ha trobat el template per a dotacions."),null;let n=a.content.cloneNode(!0),l=n.firstElementChild,i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");l.setAttribute("data-dotacio-id",i);let r=n.querySelector(".dotacio-info"),o=n.querySelector(".dotacio-load");if(r){let s=[e.conductor,e.ajudant].filter(Boolean).join(" / ");r.textContent=s?`${e.numero} - ${s}`:e.numero}return o&&o.setAttribute("data-index",String(t)),l}function Dl(){let e=document.getElementById("dotacio-options"),t=document.getElementById("no-dotacio-text");if(!e||!t)return;let a=e.children.length>0;e.classList.toggle("hidden",!a),t.classList.toggle("hidden",a),a||(t.innerHTML='No hay dotaciones, guarde abans: <img src="assets/icons/save_green.svg" alt="Guardar" class="save-icon" />')}function Yo(e,t){if(!e)return;let a=e.querySelector(".delete-reveal"),n=async()=>{await Ba.handleDeleteById(t),e.remove(),Dl()};if(typeof window>"u"||!("PointerEvent"in window)){a?.addEventListener("click",h=>{h.preventDefault(),h.stopPropagation(),n().catch(v=>{ki.error("Error eliminant dotaci\xF3 des de fallback:",v)})});return}let l=null,i=0,r=0,o=!1,s=(h=!0)=>{if(l!==null&&typeof e.releasePointerCapture=="function"&&typeof e.hasPointerCapture=="function"&&e.hasPointerCapture(l))try{e.releasePointerCapture(l)}catch(D){ki.debug("Error alliberant pointer capture:",D)}l=null,e.classList.remove("swiping"),e.style.transition=h?"transform 0.3s ease, opacity 0.3s ease":""},c=()=>{e.style.transform="translateX(0)",e.style.opacity="1",setTimeout(()=>{e.style.transition=""},300)},d=h=>{if(h.pointerType!=="touch"&&h.button===0&&!(h.target.closest("button")||h.target.closest(".button-container"))&&(l=h.pointerId,i=h.clientX,r=h.clientY,o=!1,e.style.transition="",typeof e.setPointerCapture=="function"))try{e.setPointerCapture(l)}catch(v){ki.debug("No s'ha pogut establir pointer capture:",v)}},p=h=>{if(l===null||h.pointerId!==l)return;let v=h.clientX-i,D=h.clientY-r;if(!o){if(Math.abs(v)<12||Math.abs(v)<=Math.abs(D)||v>=0)return;o=!0,e.classList.add("swiping")}if(o){let m=Math.max(Math.min(v,0),-120);e.style.transform=`translateX(${m}px)`,h.preventDefault()}},u=h=>{if(l===null||h.pointerId!==l)return;let v=h.clientX-i,D=o&&v<=-60;s(),D?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(()=>{n().catch(m=>{ki.error("Error eliminant dotaci\xF3 despr\xE9s del gest:",m),c()})},250)):c(),o=!1},g=()=>{s(),c(),o=!1};e.addEventListener("pointerdown",d),e.addEventListener("pointermove",p),e.addEventListener("pointerup",u),e.addEventListener("pointercancel",g)}function Xo(e,t){let a=0,n=0,l=!1;e.addEventListener("touchstart",i=>{i.target.closest("button")||(a=i.touches[0].clientX,n=a,l=!1,i.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",i=>{n=i.touches[0].clientX;let r=a-n;r>10&&!l&&(l=!0,e.classList.add("swiping")),l&&r>10&&(e.style.transform=`translateX(-${Math.min(r,120)}px)`,i.preventDefault(),i.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async i=>{if(!l)return;l=!1;let r=a-n;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",r>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await Ba.handleDeleteById(t),e.remove(),Dl()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),i.stopPropagation()})}function Lu(e){let t=document.getElementById("dotacio-options");if(!t){Ba.displayDotacioOptions();return}let a=e.originalIndex,n=l0(e,a);if(!n)return;n.style.opacity="0",n.style.transform="translateX(-100%)";let l=t.children[a];l?t.insertBefore(n,l):t.appendChild(n),requestAnimationFrame(()=>{n.style.transition="opacity 0.5s ease, transform 0.5s ease",n.style.opacity="1",n.style.transform="translateX(0)";let i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");Xo(n,i),Yo(n,i)}),Dl()}var gN=L.withScope("Modals:Confirm"),Ji=null,Ep=null,hp=null,Sp=null,yp=null;function i0(){if(!Ji){if(Ji=document.getElementById(Lt.CONFIRM_MODAL),!Ji)return!1;Ep=document.getElementById(Lt.CONFIRM_MESSAGE),hp=Ji.querySelector(Lt.CONFIRM_TITLE),Sp=document.getElementById(Lt.CONFIRM_YES_BTN),yp=document.getElementById(Lt.CONFIRM_NO_BTN)}return!!Ji&&!!Ep&&!!hp&&!!Sp&&!!yp}function vp(){i0()}function Tp(){vp(),ip(),Wg()}var ze={DADES:"dades",SERVEIS:"serveis"},na={TAB_DADES:`tab-${ze.DADES}`,TAB_SERVEIS:`tab-${ze.SERVEIS}`,CONTENT_DADES:`${ze.DADES}-tab-content`,CONTENT_SERVEIS:`${ze.SERVEIS}-tab-content`,MAIN_CONTENT_AREA:"main-content"},_l={ACTIVE_TAB:"active",ERROR_TAB:"error-tab"},Ap={MIN_DISTANCE:60,MAX_VERTICAL_RATIO:.5},Ol=ze.DADES,Qo=0,Mu=0,Ru=!0,xa=null,In=null;function Cp(){let e=document.getElementById(na.TAB_DADES),t=document.getElementById(na.TAB_SERVEIS);!e||!t||(e.addEventListener("click",()=>$i(ze.DADES)),t.addEventListener("click",()=>$i(ze.SERVEIS)),r0(),$i(Ol))}function Al(e){Ru=!!e}function $i(e){if(Ol===e&&document.scrollingElement.scrollTop!==0){window.scrollTo({top:0,behavior:"smooth"});return}if(Ol===e||e!==ze.DADES&&e!==ze.SERVEIS)return;window.scrollTo({top:0,behavior:"auto"}),Ol=e;let t=document.getElementById(na.TAB_DADES),a=document.getElementById(na.TAB_SERVEIS),n=document.getElementById(na.CONTENT_DADES),l=document.getElementById(na.CONTENT_SERVEIS);if(!t||!a||!n||!l)return;t.classList.remove(_l.ERROR_TAB),a.classList.remove(_l.ERROR_TAB);let i=e===ze.DADES;t.classList.toggle(_l.ACTIVE_TAB,i),a.classList.toggle(_l.ACTIVE_TAB,!i),n.classList.toggle(_l.ACTIVE_TAB,i),l.classList.toggle(_l.ACTIVE_TAB,!i),t.setAttribute("aria-selected",i?"true":"false"),a.setAttribute("aria-selected",i?"false":"true"),e===ze.SERVEIS&&typeof Kc=="function"&&Kc()}function r0(){let e=document.getElementById(na.MAIN_CONTENT_AREA);e&&(xa=bp,In=Dp,e.addEventListener("touchstart",xa,{passive:!0}),e.addEventListener("touchend",In,{passive:!0}))}function ep(){let e=document.getElementById(na.MAIN_CONTENT_AREA);!e||!xa||!In||(e.removeEventListener("touchstart",xa,{passive:!0}),e.removeEventListener("touchend",In,{passive:!0}),xa=null,In=null)}function tp(){let e=document.getElementById(na.MAIN_CONTENT_AREA);e&&(xa||(xa=bp,In=Dp,e.addEventListener("touchstart",xa,{passive:!0}),e.addEventListener("touchend",In,{passive:!0})))}function bp(e){if(!Ru||Cu())return;let t=e.touches[0];Qo=t.clientX,Mu=t.clientY}function Dp(e){if(!Ru||Qo===0||!e.changedTouches||e.changedTouches.length===0)return;let t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY,n=t-Qo,l=a-Mu;Qo=0,Mu=0,!(Math.abs(l)>Math.abs(n)*Ap.MAX_VERTICAL_RATIO)&&Math.abs(n)>Ap.MIN_DISTANCE&&(n>0?Ol===ze.SERVEIS&&$i(ze.DADES):Ol===ze.DADES&&$i(ze.SERVEIS))}var Ua={MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title"},Iu={MODAL_OPEN:"modal-open",SIGNED:"signed"},Pa={LINE_WIDTH:2,LINE_CAP:"round",STROKE_STYLE:"#000000",IMAGE_FORMAT:"image/png",DOUBLE_CLICK_TIMEOUT:300,DOUBLE_TAP_TIMEOUT:300,DOUBLE_TAP_MAX_DIST:20},_p={SIGNATURE_PENDING:"assets/icons/signature.svg",SIGNATURE_OK:"assets/icons/signature_ok.svg"},Op={PERSON1:"Firma del conductor",PERSON2:"Firma del ayudante"},wu=class{constructor(){this.signatureConductor="",this.signatureAjudant="",this.currentSignatureTarget=null,this.isDrawing=!1,this.canvasContext=null,this.signatureCanvasElement=null,this.signatureModalElement=null,this.signPerson1Button=null,this.signPerson2Button=null,this.hasUserDrawn=!1,this.lastTouchTime=0,this.lastTouchX=0,this.lastTouchY=0,this.clickCount=0,this.clickTimer=null}init(){this.signatureModalElement=document.getElementById(Ua.MODAL),this.signatureCanvasElement=document.getElementById(Ua.CANVAS);let t=document.getElementById(Ua.CANCEL_BTN),a=document.getElementById(Ua.ACCEPT_BTN);this.signPerson1Button=document.getElementById(Ua.SIGN_PERSON1_BTN),this.signPerson2Button=document.getElementById(Ua.SIGN_PERSON2_BTN),!(!this.signatureModalElement||!this.signatureCanvasElement||!t||!a||!this.signPerson1Button||!this.signPerson2Button)&&(this.resizeCanvas(),this.initCanvasEvents(),t.addEventListener("click",this.closeSignatureModal.bind(this)),a.addEventListener("click",this.acceptSignature.bind(this)),this.signPerson1Button.addEventListener("click",()=>this.openSignatureModal("person1")),this.signPerson2Button.addEventListener("click",()=>this.openSignatureModal("person2")),this.signatureModalElement.addEventListener("click",n=>{n.target===this.signatureModalElement&&this.closeSignatureModal()}),window.addEventListener("resize",this.debounce(this.resizeCanvas.bind(this),150)),document.addEventListener("keydown",n=>{n.key==="Escape"&&this.signatureModalElement.style.display==="block"&&this.closeSignatureModal()}),this.updateSignatureIcons())}debounce(t,a){let n;return(...l)=>{clearTimeout(n),n=setTimeout(()=>t.apply(this,l),a)}}resizeCanvas(){if(!this.signatureCanvasElement||!this.signatureCanvasElement.parentElement)return;let t=this.signatureCanvasElement.parentElement;this.canvasContext||(this.canvasContext=this.signatureCanvasElement.getContext("2d",{willReadFrequently:!0})),this.canvasContext&&(this.signatureCanvasElement.width=t.offsetWidth,this.signatureCanvasElement.height=t.offsetHeight,this.canvasContext.lineWidth=Pa.LINE_WIDTH,this.canvasContext.lineCap=Pa.LINE_CAP,this.canvasContext.strokeStyle=Pa.STROKE_STYLE)}clearCanvas(){!this.canvasContext||!this.signatureCanvasElement||(this.canvasContext.clearRect(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),this.hasUserDrawn=!1)}getEventCoordinates(t){if(!this.signatureCanvasElement)return{x:0,y:0};let a=this.signatureCanvasElement.getBoundingClientRect(),n,l;return t.touches&&t.touches.length>0?(n=t.touches[0].clientX,l=t.touches[0].clientY):(n=t.clientX,l=t.clientY),{x:n-a.left,y:l-a.top}}startDrawing(t){if(!this.canvasContext)return;this.isDrawing=!0,this.hasUserDrawn=!0,this.canvasContext.beginPath();let{x:a,y:n}=this.getEventCoordinates(t);this.canvasContext.moveTo(a,n)}draw(t){if(!this.isDrawing||!this.canvasContext)return;t.preventDefault();let{x:a,y:n}=this.getEventCoordinates(t);this.canvasContext.lineTo(a,n),this.canvasContext.stroke()}stopDrawing(){!this.isDrawing||!this.canvasContext||(this.isDrawing=!1)}handleCanvasClick(t){this.clickCount++,this.clickCount===1?this.clickTimer=setTimeout(()=>this.clickCount=0,Pa.DOUBLE_CLICK_TIMEOUT):this.clickCount===2&&(clearTimeout(this.clickTimer),this.clickCount=0,t.preventDefault(),this.clearCanvas())}handleCanvasTouchEnd(t){if(t.touches.length>0)return;let a=Date.now(),n=t.changedTouches[0];if(!n)return;let{x:l,y:i}=this.getEventCoordinates({clientX:n.clientX,clientY:n.clientY}),r=a-this.lastTouchTime,o=Math.abs(l-this.lastTouchX),s=Math.abs(i-this.lastTouchY);r<Pa.DOUBLE_TAP_TIMEOUT&&o<Pa.DOUBLE_TAP_MAX_DIST&&s<Pa.DOUBLE_TAP_MAX_DIST?(t.preventDefault(),this.clearCanvas(),this.lastTouchTime=0):(this.lastTouchTime=a,this.lastTouchX=l,this.lastTouchY=i)}initCanvasEvents(){this.signatureCanvasElement&&(this.signatureCanvasElement.addEventListener("mousedown",this.startDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mousemove",this.draw.bind(this)),this.signatureCanvasElement.addEventListener("mouseup",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mouseout",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("click",this.handleCanvasClick.bind(this)),this.signatureCanvasElement.addEventListener("touchstart",this.startDrawing.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchmove",this.draw.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchend",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchcancel",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchend",this.handleCanvasTouchEnd.bind(this),{passive:!1}))}openSignatureModal(t){if(!this.signatureModalElement||!this.canvasContext)return;Al(!1),this.currentSignatureTarget=t;let a=document.getElementById(Ua.TITLE);a&&(a.textContent=t==="person1"?Op.PERSON1:Op.PERSON2),this.signatureModalElement.style.display="block",document.body.classList.add(Iu.MODAL_OPEN),this.resizeCanvas(),this.clearCanvas();let n=t==="person1"?this.signatureConductor:this.signatureAjudant;n&&this.drawSignatureFromDataUrl(n),document.getElementById(Ua.ACCEPT_BTN)?.focus()}closeSignatureModal(){this.signatureModalElement&&(Al(!0),this.signatureModalElement.style.display="none",document.body.classList.remove(Iu.MODAL_OPEN),this.currentSignatureTarget=null,(this.currentSignatureTarget==="person1"?this.signPerson1Button:this.signPerson2Button)?.focus())}isCanvasEmpty(){if(!this.canvasContext||!this.signatureCanvasElement)return!0;try{return!new Uint32Array(this.canvasContext.getImageData(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height).data.buffer).some(a=>a!==0)}catch{return!1}}acceptSignature(){if(!this.canvasContext||!this.signatureCanvasElement||!this.currentSignatureTarget)return;let t=this.isCanvasEmpty(),a=t?"":this.signatureCanvasElement.toDataURL(Pa.IMAGE_FORMAT),n=null;this.currentSignatureTarget==="person1"?(this.signatureConductor=a,n=this.signPerson1Button):this.currentSignatureTarget==="person2"&&(this.signatureAjudant=a,n=this.signPerson2Button),this.updateSignatureUI(n,!t),this.closeSignatureModal(),$t()}drawSignatureFromDataUrl(t){if(!this.canvasContext||!t)return;let a=new Image;a.onload=()=>this.canvasContext.drawImage(a,0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),a.onerror=()=>{},a.src=t}updateSignatureUI(t,a){if(!t)return;let n=t.querySelector(".icon");n&&(t.classList.toggle(Iu.SIGNED,a),n.src=a?_p.SIGNATURE_OK:_p.SIGNATURE_PENDING)}updateSignatureIcons(){this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor),this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}getSignatureConductor(){return this.signatureConductor}getSignatureAjudant(){return this.signatureAjudant}setSignatureConductor(t){this.signatureConductor=t||"",this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor)}setSignatureAjudant(t){this.signatureAjudant=t||"",this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}},Wi=new wu,Np=()=>Wi.init(),Ko=()=>Wi.getSignatureConductor(),Fo=()=>Wi.getSignatureAjudant(),Io=e=>Wi.setSignatureConductor(e),wo=e=>Wi.setSignatureAjudant(e);var er=L.withScope("FormService"),o0=".service",Lp="main-content",It={DATE:"date",DIET_TYPE:"diet-type",VEHICLE:"vehicle-number",P1:"person1",P2:"person2",SERVICE_TYPE:"service-type",SAVE_BTN:"save-diet"},s0="userSelectedServiceType",c0={serviceNumber:".service-number",origin:".origin",originTime:".origin-time",destination:".destination",destinationTime:".destination-time",endTime:".end-time"},u0="chip-active",d0=800,f0=1e3,m0=300,Bu=class{constructor(){this.initialFormDataStr="",this.saveStart=0,this.debouncedAutoSave=Fi(this.triggerAutoSave.bind(this),f0),this.debouncedHandler=Fi(this.handleInputChange.bind(this),d0)}isFormReadyForSave(){try{let t=!!document.getElementById(It.DATE)?.value.trim(),a=!!document.getElementById(It.DIET_TYPE)?.value.trim(),n=document.getElementById("service-number-1")?.value.trim(),l=/^\d{9}$/.test(n);return t&&a&&l}catch(t){return console.warn("[FormService] Error validant formulari:",t),!1}}hasPendingChanges(){return JSON.stringify(this.getFormDataObject()||{})!==this.initialFormDataStr}getFormDataObject(){try{let t=de(document.getElementById(It.DATE)?.value),a=de(document.getElementById(It.VEHICLE)?.value),n=de(document.getElementById(It.P1)?.value),l=de(document.getElementById(It.P2)?.value),i=xi(a,"vehicleNumber"),r=xi(n,"personName"),o=xi(l,"personName");a&&!i.valid&&er.warn("N\xFAmero de vehicle inv\xE0lid:",i.reason),n&&!r.valid&&er.warn("Nom conductor inv\xE0lid:",r.reason),l&&!o.valid&&er.warn("Nom ajudant inv\xE0lid:",o.reason);let s={date:t,dietType:de(document.getElementById(It.DIET_TYPE)?.value||pu()),vehicleNumber:i.valid?i.sanitized:"",person1:r.valid?r.sanitized:"",person2:o.valid?o.sanitized:"",serviceType:de(document.getElementById(It.SERVICE_TYPE)?.value||"TSU"),signatureConductor:Ko(),signatureAjudant:Fo()},c=Array.from(document.querySelectorAll(o0)).map((d,p)=>{let u={};for(let[h,v]of Object.entries(c0)){if(!v){u[h]="";continue}let D=de(d.querySelector(v)?.value);if(h==="serviceNumber"&&D)jc(D)?u[h]=D:(er.warn(`N\xFAmero de servei ${p+1} inv\xE0lid:`,D),u[h]="");else if((h==="originTime"||h==="destinationTime"||h==="endTime")&&D)qc(D)?u[h]=D:(er.warn(`Hora inv\xE0lida en servei ${p+1}, camp ${h}:`,D),u[h]="");else{let m=xi(D,"text");u[h]=m.valid?m.sanitized:""}}let g=d.querySelector(`.chip.${u0}`);return u.mode=g?.dataset.mode||"3.6",u.notes=Jt[p]||"",u});return{generalData:s,servicesData:c}}catch(t){return console.error("[FormService] Error recollint dades:",t),null}}async triggerAutoSave(){if(!(!this.isFormReadyForSave()||!this.hasPendingChanges()))try{this.saveStart=Date.now(),Lo(),await du();let t=Date.now()-this.saveStart;setTimeout(Mo,Math.max(0,m0-t)),this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{})}catch(t){console.warn("[Autosave skipped]",t?.message||"Error desconegut"),Cn("Revisa dades de Serveis")}}captureInitialFormState(){this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{}),this.handleFormChange()}setSaveButtonState(t){let a=document.getElementById(It.SAVE_BTN);a&&(a.disabled=!t,a.setAttribute("aria-disabled",t?"false":"true"),a.classList.toggle("is-disabled",!t))}handleFormChange(){if(this.debouncedAutoSave.cancel(),!this.hasPendingChanges()){this.setSaveButtonState(!1),Yi();return}this.isFormReadyForSave()?(this.setSaveButtonState(!0),this.debouncedAutoSave()):(this.setSaveButtonState(!1),Yi())}handleInputChange(){this.handleFormChange()}addInputListeners(){let t=document.getElementById(Lp);if(!t)return;t.addEventListener("input",this.debouncedHandler),t.addEventListener("change",this.debouncedHandler),t.addEventListener("blur",n=>{n.target.matches("input, select, textarea")&&(this.handleFormChange(),this.isFormReadyForSave()&&this.hasPendingChanges()&&(this.debouncedAutoSave.cancel(),this.triggerAutoSave()))},!0);let a=document.getElementById(It.DATE);a?.addEventListener("change",()=>{a.blur(),this.debouncedHandler()}),window.addEventListener("beforeunload",()=>{this.debouncedAutoSave.cancel(),this.isFormReadyForSave()&&du()})}addServiceTypeListener(){let t=document.getElementById(It.SERVICE_TYPE);t&&t.addEventListener("change",a=>{let n=a.target.value.trim();ol(n);try{localStorage.setItem(s0,n)}catch(l){console.error("No s\u2019ha pogut desar tipus servei",l)}})}cancelPendingAutoSave(){this.debouncedAutoSave.cancel()}addDoneBehavior(){document.getElementById(Lp)?.addEventListener("keydown",a=>{a.key==="Enter"&&a.target.matches('input[enterkeyhint="done"]')&&(a.preventDefault(),a.target.blur())})}gatherAllData(){return this.getFormDataObject()}getInitialFormDataStr(){return this.initialFormDataStr}},za=new Bu,fl=()=>za.captureInitialFormState(),cu=e=>za.setSaveButtonState(e),$t=()=>za.handleFormChange(),Mp=()=>za.addInputListeners(),Rp=()=>za.addServiceTypeListener(),Lg=()=>za.cancelPendingAutoSave(),Ip=()=>za.addDoneBehavior(),Bo=()=>za.gatherAllData();var wp="onboardingCompleted";function Bp(){let e=document.getElementById("onboarding-container");if(!e)return;if(!JSON.parse(localStorage.getItem(wp)||"false"))e.classList.remove("hidden");else return;window.addEventListener("load",()=>{e.classList.add("onboarding-loaded")});let a=document.querySelectorAll(".onboarding-slide"),n=document.querySelectorAll(".nav-dot"),l=document.getElementById("onboarding-finish-btn"),i=document.getElementById("onboarding-skip-btn"),r=0;function o(p){a.forEach((u,g)=>{u.classList.toggle("active",g===p)}),n.forEach((u,g)=>{u.classList.toggle("active",g===p)})}function s(){r<a.length-1&&(r++,o(r),navigator.vibrate&&navigator.vibrate(10))}function c(){e.classList.add("hidden"),localStorage.setItem(wp,JSON.stringify(!0)),navigator.vibrate&&navigator.vibrate([50,50,50])}e.addEventListener("click",p=>{p.target.closest("button, a, .nav-dot")||s()});let d=0;e.addEventListener("touchstart",p=>{d=p.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",p=>{p.changedTouches[0].screenX<d-50&&s()}),l.addEventListener("click",c),i.addEventListener("click",c)}var xu={TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text"},xp={DARK_THEME:"theme-dark"},Uu="themePreference",pt={LIGHT:"light",DARK:"dark"},Up={LIGHT:"assets/icons/moon.svg",DARK:"assets/icons/sun.svg"},Pp={LIGHT:"#004aad",DARK:"#343a40"},Pu=class{constructor(){this.themeToggleButton=null,this.themeIconElement=null,this.themeTextElement=null,this.bodyElement=null,this.systemDarkMatcher=null}init(){if(this.themeToggleButton=document.getElementById(xu.TOGGLE_BTN),this.themeIconElement=document.getElementById(xu.THEME_ICON),this.themeTextElement=document.getElementById(xu.THEME_TEXT),this.bodyElement=document.body,!this.themeToggleButton||!this.themeIconElement||!this.themeTextElement||!this.bodyElement)return;let t,a=localStorage.getItem(Uu);a&&(a===pt.LIGHT||a===pt.DARK)?t=a:(this.systemDarkMatcher=window.matchMedia("(prefers-color-scheme: dark)"),t=this.systemDarkMatcher.matches?pt.DARK:pt.LIGHT,this.systemDarkMatcher.addEventListener("change",this._handleSystemThemeChange.bind(this))),this._applyTheme(t,!1),this.themeToggleButton.addEventListener("click",this._handleThemeToggle.bind(this))}_updateThemeColorMeta(t){let a=document.querySelector('meta[name="theme-color"]');a&&(a.content=t)}_applyTheme(t,a=!1){let n=t===pt.DARK;this.bodyElement.classList.toggle(xp.DARK_THEME,n),this.themeIconElement.src=n?Up.DARK:Up.LIGHT,this.themeTextElement.textContent=n?"Claro":"Oscuro",this.themeIconElement.alt=n?"Cambiar a tema claro":"Cambiar a tema oscuro",this._updateThemeColorMeta(n?Pp.DARK:Pp.LIGHT),a&&localStorage.setItem(Uu,t)}_handleThemeToggle(){let a=(this.bodyElement.classList.contains(xp.DARK_THEME)?pt.DARK:pt.LIGHT)===pt.DARK?pt.LIGHT:pt.DARK;this._applyTheme(a,!0)}_handleSystemThemeChange(t){if(!localStorage.getItem(Uu)){let a=t.matches?pt.DARK:pt.LIGHT;this._applyTheme(a,!1)}}},p0=new Pu,zp=()=>p0.init();var Zo={GENERATE_PDF:".generate-pdf",SAVE_DIET:"#save-diet",MANAGE_DIETS:"#manage-diets",TRASH_MODAL:"#open-trash-modal"};function Vp(){let e=document.querySelector(Zo.GENERATE_PDF);e&&e.addEventListener("click",Qg);let t=document.getElementById(Zo.SAVE_DIET.substring(1));t&&t.addEventListener("click",Og);let a=document.getElementById(Zo.MANAGE_DIETS.substring(1));a&&typeof Cl=="function"&&a.addEventListener("click",Cl);let n=document.getElementById(Zo.TRASH_MODAL.substring(1));n&&typeof Qi=="function"&&n.addEventListener("click",Qi)}var E0="clear-selected-service",h0=".service";function Hp(){let e=document.getElementById(E0);e&&e.addEventListener("click",()=>{let t=hn(),a=document.querySelectorAll(h0);if(t>=0&&t<a.length){let n=a[t],l=n.querySelectorAll('input:not([type="button"]):not([type="submit"]), select, textarea');l.forEach(i=>{i.value!==""&&i.classList.add("field-clearing")}),setTimeout(()=>{rg(n),Hi(n),$t(),l.forEach(i=>{i.classList.remove("field-clearing")})},600)}})}function Gp(){document.querySelectorAll('input[type="date"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}function qp(){document.querySelectorAll('input[type="time"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}Ot();var jp=Fi(A,Ym.DEBOUNCE_TOAST);function S0(e){return/^\d*$/.test(e)}function Yp(){let e=document.querySelectorAll(tl.SERVICE_NUMBER_INPUT);if(!e.length){console.warn("Restrictions: No se han encontrado inputs '.service-number'.");return}e.forEach(t=>{t.dataset.restrictionsSetup!=="true"&&(t.dataset.restrictionsSetup="true",t.addEventListener("keypress",a=>{a.key==="Enter"||a.key==="Tab"||a.ctrlKey||a.metaKey||a.altKey||a.key.length>1||/\d/.test(a.key)||(a.preventDefault(),jp(zc.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}),t.addEventListener("paste",a=>{try{let n=(a.clipboardData||window.clipboardData)?.getData("text")||"";S0(n)||(a.preventDefault(),jp(zc.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}catch(n){console.error("Error procesando 'paste':",n),a.preventDefault()}}))})}var Xp={SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel"},Nl={PANEL_VISIBLE:"visible",BUTTON_OPEN:"open"},la=null,ia=null,Kp=!1;function y0(e){e.stopPropagation();let t=ia.classList.toggle(Nl.PANEL_VISIBLE);la.classList.toggle(Nl.BUTTON_OPEN,t),la.setAttribute("aria-expanded",t),t&&ia.querySelector("button")?.focus()}function v0(e){ia.classList.contains(Nl.PANEL_VISIBLE)&&!ia.contains(e.target)&&!la.contains(e.target)&&zu()}function T0(e){e.key==="Escape"&&ia.classList.contains(Nl.PANEL_VISIBLE)&&(zu(),la.focus())}function zu(){ia.classList.remove(Nl.PANEL_VISIBLE),la.classList.remove(Nl.BUTTON_OPEN),la.setAttribute("aria-expanded","false")}function Fp(){Kp||(la=document.getElementById(Xp.SETTINGS_BTN),ia=document.getElementById(Xp.SETTINGS_PANEL),!(!la||!ia)&&(la.addEventListener("click",y0),document.addEventListener("click",v0),document.addEventListener("keydown",T0),ia.querySelectorAll("button").forEach(e=>{e.addEventListener("click",zu)}),Kp=!0))}var A0={SERVICE_BUTTONS:".service-button:not(.active-square)",OPTIONS_BTN:"#options-toggle",TABS:".tab:not(.active)"},C0="disabled-control";function Vu(e=!0){document.querySelectorAll(Object.values(A0).join(", ")).forEach(a=>{a&&(a.classList.toggle(C0,e),a.setAttribute("aria-disabled",e?"true":"false"),a.disabled=e)})}var zv=Uc(tr()),Vv=Uc(Pv());var ue=Uc(tr());function _m({imageUrl:e=null,isProcessing:t=!1,progress:a=0,status:n="idle",statusText:l="Reconociendo texto",onClose:i=null}){let r=(0,ue.useRef)(null),[o,s]=(0,ue.useState)(0),[c,d]=(0,ue.useState)("");if((0,ue.useEffect)(()=>{let h=setTimeout(()=>{s(a)},50);return()=>clearTimeout(h)},[a]),(0,ue.useEffect)(()=>{if(n!=="processing"){d("");return}d(".");let h=setInterval(()=>{d(v=>v.length>=3?".":`${v}.`)},500);return()=>clearInterval(h)},[n]),n==="error"||n==="idle"||!(!!e&&t||!!e&&(n==="done"||n==="warning")))return null;let u=l?.replace(/\s+\d{1,3}%/,"").replace(/\.{2,}$/,"").trim()||"Reconociendo texto",g=n==="processing"?`${u}${c}`:l;return ue.default.createElement("div",{className:"ocr-feedback-overlay",role:"dialog","aria-live":"polite","aria-atomic":"false","aria-label":"OCR en progreso"},ue.default.createElement("div",{className:"ocr-feedback-container",ref:r},e&&ue.default.createElement("div",{className:"ocr-image-preview fade-in"},ue.default.createElement("img",{src:e,alt:"Imagen capturada para OCR",className:"ocr-captured-image",loading:"eager"})),(t||n==="done"||n==="error"||n==="warning")&&ue.default.createElement("div",{className:"ocr-progress-section fade-in"},ue.default.createElement("div",{className:"ocr-progress-bar-container"},ue.default.createElement("div",{className:"ocr-progress-bar-track",style:{"--progress-width":`${o}%`}},ue.default.createElement("div",{className:"ocr-progress-bar-fill",role:"progressbar","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},ue.default.createElement("div",{className:"ocr-progress-shine"}))),ue.default.createElement("span",{className:"ocr-progress-percentage"},n==="error"?"":`${Math.round(o)}%`)),ue.default.createElement("div",{className:`ocr-status-line ${n}`},g?.split(`
`).map((h,v)=>ue.default.createElement("div",{key:v},h))||""))))}var Ai="Reconociendo texto",Ti={done:"\u2713 Texto reconocido correctamente",warning:"Revisa la informaci\xF3n detectada",error:"Error al escanear. Imagen no v\xE1lida"},_c=(e,t=Ai)=>e&&e.replace(/\d{1,3}%/g,"").replace(/\.\.+$/g,"").split(`
`).map(i=>i.replace(/\s+/g," ").trim()).join(`
`)||t;function Om(e="ocr-feedback-root"){let t=document.getElementById(e);t||(t=document.createElement("div"),t.id=e,document.body.appendChild(t));let a=null,n=null,l={imageUrl:null,isProcessing:!1,progress:0,status:"idle",statusText:Ai},i=()=>{a||(a=Vv.default.createRoot(t)),a.render(zv.default.createElement(_m,{imageUrl:l.imageUrl,isProcessing:l.isProcessing,progress:l.progress,status:l.status,statusText:l.statusText,onClose:()=>o.reset()}))},r=()=>{n&&(clearTimeout(n),n=null)},o={start(s){r(),l.imageUrl&&l.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(l.imageUrl),s instanceof File||s instanceof Blob?l.imageUrl=URL.createObjectURL(s):typeof s=="string"?l.imageUrl=s:l.imageUrl=null,l.isProcessing=!0,l.progress=0,l.status="processing",l.statusText=Ai,i()},update(s,c=null,d="info"){r(),l.progress=Math.min(100,Math.max(0,s));let p=c!==null?_c(c):null;if(d==="error"){l.status="error",l.statusText=p||Ti.error||Ai,l.isProcessing=!1,l.progress=Math.max(l.progress,100),i(),n=setTimeout(()=>{o.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3);return}if(d==="warning"){l.status="warning",l.statusText=p||l.statusText,l.isProcessing=!0,i();return}if(d==="success"){o.complete(p||Ti.done,"done");return}l.status="processing",p?l.statusText=p:l.statusText||(l.statusText=Ai),l.isProcessing=!0,i()},addMessage(s,c="info"){if(c==="error"){o.error(s);return}if(c==="success"){o.complete(s||Ti.done,"done");return}l.status=c==="warning"?"warning":"processing",l.statusText=_c(s),l.isProcessing=!0,i()},complete(s=null,c="done"){r(),l.progress=100;let d=["done","warning","error"].includes(c)?c:"done";l.status=d;let p=Ti[d]||Ti.done;l.statusText=_c(s,p),l.isProcessing=!1,i(),n=setTimeout(()=>{o.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"done"}}))},2500)},error(s="No se reconoci\xF3 texto"){r(),l.status="error",l.statusText=_c(s,Ti.error),l.isProcessing=!1,l.progress=100,i(),n=setTimeout(()=>{o.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3)},reset(){r(),l.imageUrl&&l.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(l.imageUrl),l.imageUrl=null,l.isProcessing=!1,l.progress=0,l.status="idle",l.statusText=Ai,i()},getState(){return{...l}},isProcessing(){return l.isProcessing}};return o}var Ci=null;function no(){return Ci||(Ci=Om()),Ci}function Hv(){Ci&&(Ci.reset(),Ci=null)}Ot();var Gv=1500,Nm=.95,Lm="image/png",pD=L.withScope("CameraOCR:ImageProcessing");function qv(e,t,a){return new Promise((n,l)=>{e.toBlob(i=>{i?n(i):l(new Error("No s'ha pogut generar el blob de la imatge."))},t,a)})}async function jv(e,{maxDimension:t=Gv,imageType:a=Lm,imageQuality:n=Nm}={}){let l=await createImageBitmap(e),{width:i,height:r}=l;if(Math.max(i,r)<=t)return l.close(),e;let o=Math.min(t/i,t/r),s=Math.round(i*o),c=Math.round(r*o),d=document.createElement("canvas");d.width=s,d.height=c;let p=d.getContext("2d");if(!p)throw l.close(),new Error("Context 2D no disponible.");return p.drawImage(l,0,0,s,c),l.close(),qv(d,a,n)}async function Yv(e,{imageType:t=Lm,imageQuality:a=Nm}={}){let n=await createImageBitmap(e),l=document.createElement("canvas");l.width=n.width,l.height=n.height;let i=l.getContext("2d");if(!i)throw n.close(),new Error("Context 2D no disponible.");try{i.drawImage(n,0,0,n.width,n.height)}catch(r){throw n.close(),r.message&&r.message.includes("detached")?new Error("Error al procesar la imagen. Int\xE9ntalo de nuevo."):r}n.close(),i.filter="grayscale(100%) contrast(180%) brightness(110%)";try{i.drawImage(l,0,0)}catch(r){pD.warn("Fallback sense filtres en el preprocessament.",r)}return qv(l,t,a)}var m1=Object.freeze({IMAGE_MAX_DIMENSION:Gv,IMAGE_QUALITY:Nm,IMAGE_TYPE:Lm});var ED="spa",hD=1,SD="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ:/-\xC0\xC9\xCD\xD3\xDA\xC8\xD2\xC0\xDC\xCF\xC7\xD1",Xv=10,yD=1e3,vD=new Set(["image/jpeg","image/png","image/webp"]),TD=[{type:"image/jpeg",bytes:[255,216,255]},{type:"image/png",bytes:[137,80,78,71,13,10,26,10]},{type:"image/webp",bytes:[82,73,70,70,null,null,null,null,87,69,66,80]}],AD=300;var CD="https://cdn.jsdelivr.net/npm/tesseract.js@6/dist/tesseract.min.js",bD="sha384-r1ru3tcf6FhnCFR4B7pIFG+BhFF9LlFtz/P1y4pblWn3AGs9y3lBx5SKLNf4+rED",DD={load_system_dawg:"0",load_freq_dawg:"0"},_D={tessedit_char_whitelist:SD,tessedit_pageseg_mode:6},bi={CAMERA_BTN:"camera-in-dropdown",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline"},gn={VISIBLE:"visible",HIDDEN:"hidden",SERVICE_COLORS:["service-1","service-2","service-3","service-4"]},OD={ORIGIN_TIME:{id:"originTime",label:"Hora movilizaci\xF3n",fieldIdSuffix:"origin-time",lineKeywordRegex:/movilizaci|mobilitzat|desplaza/i},DESTINATION_TIME:{id:"destinationTime",label:"Hora de llegada hospital",fieldIdSuffix:"destination-time",lineKeywordRegex:/arribada|hospital|aaah/i},END_TIME:{id:"endTime",label:"Hora Final",fieldIdSuffix:"end-time",valueRegex:/\d{2}\s*\/?\s*\d{2}\s*\/?\s*\d{2}\s+(\d{1,2}:\d{2}(?::\d{2})?)/i}},ct=null,pn=null,Oc=null,Mm=null,ve=null,Rm=!1,Kv=!1,Fv=!1,Qv=0,Qt=null,Di=0,Zv=0,Nc=L.withScope("CameraOCR"),kv=new Po(10,6e4,"escanejat OCR");function ND(e,t){return!e||e.length<t.length?!1:t.every((a,n)=>a===null||e[n]===a)}async function LD(e){if(!e)return!1;if(vD.has(e.type?.toLowerCase()))return!0;try{let t=new Uint8Array(await e.slice(0,12).arrayBuffer());return TD.some(a=>ND(t,a.bytes))}catch(t){return Nc.warn("No s'ha pogut validar la signatura del fitxer:",t),!1}}function MD(e){if(!e)return"";let t=e.replace(/[^\d:\-]/g,"");t=t.replace(/-/g,":");let a=t.match(/^(\d{1,2}):(\d{2})(?::\d{2})?$/);if(a){let n=parseInt(a[1],10),l=parseInt(a[2],10);if(n>=0&&n<=23&&l>=0&&l<=59)return`${String(n).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return""}function RD(){if(Date.now()-Qv<500||(Qv=Date.now(),!ct||!pn))return;document.body.classList.add("modal-open"),document.body.style.setProperty("pointer-events","none"),ct.style.setProperty("pointer-events","auto"),pn.style.setProperty("pointer-events","auto");let e=hn(),t=gn.SERVICE_COLORS[e]||"";pn.classList.remove(...gn.SERVICE_COLORS),t&&pn.classList.add(t),ct.classList.remove(gn.HIDDEN),requestAnimationFrame(()=>ct.classList.add(gn.VISIBLE)),Oc?.focus()}function _i(){ct&&(document.body.classList.remove("modal-open"),document.body.style.removeProperty("pointer-events"),ct.style.removeProperty("pointer-events"),pn&&pn.style.removeProperty("pointer-events"),ct.classList.remove(gn.VISIBLE),setTimeout(()=>ct.classList.add(gn.HIDDEN),AD))}function ID(e){ct?.classList.contains(gn.VISIBLE)&&!pn?.contains(e.target)&&_i()}function wD(){ve&&(ve.setAttribute("capture","environment"),ve.click(),_i())}function BD(){ve&&(ve.removeAttribute("capture"),ve.click(),_i())}function Jv(e){let t=Object.entries(e).filter(([l,i])=>!i.skip),a=t.filter(([l,i])=>i.detected).length,n=t.length;return`${a}/${n} campos detectados`}function ke(e,t){Qt||(Qt=no()),e>Di&&(Di=e);let a=Di>=100?t||"Texto reconocido correctamente":"Reconociendo texto...";Qt.update(Di,a)}function xD(){Di=0}function $v(e,t,a){let n=document.getElementById(e);if(n){n.value=t;let l=new Event("input",{bubbles:!0,cancelable:!0});n.dispatchEvent(l)}}function UD(e,t=null){if(!e||!e.trim())return{hasData:!1,allFieldsStatus:[]};let a=tg(e);if(!a.valid)return Nc.warn("Resultat OCR inv\xE0lid:",a.reason),A(`Error de validaci\xF3: ${a.reason}`,"error"),{hasData:!1,allFieldsStatus:[]};let n=hn(),l=ig(n)||"3.6",i=`-${n+1}`,r={},o={originTime:{label:"Hora activaci\xF3n",detected:!1},destinationTime:{label:"Hora destino",detected:!1,skip:l==="3.11"||l==="3.22"},endTime:{label:"Hora final",detected:!1}};t&&t(o);let s=e.split(`
`),c=e.toLowerCase().replace(/ +/g," ");if(Object.values(OD).forEach(p=>{if((l==="3.11"||l==="3.22")&&p.id==="destinationTime")return;let u=null;if(p.lineKeywordRegex){for(let g of s)if(p.lineKeywordRegex.test(g.toLowerCase())){let h=g.replace(/\D/g,"");if(h.length>=6){let v=h.slice(-6);u=[null,`${v.slice(0,2)}:${v.slice(2,4)}:${v.slice(4,6)}`];break}}}else p.valueRegex&&(u=c.match(p.valueRegex));if(u&&u[1]){let g=MD(u[1].trim());if(g&&!r[p.id]){let h=`${p.fieldIdSuffix}${i}`;$v(h,g,p.label),r[p.id]=p,o[p.id]&&(o[p.id].detected=!0,t&&t(o))}}}),!r.endTime&&(r.originTime||r.destinationTime)){let p=new Date,u=String(p.getHours()).padStart(2,"0"),g=String(p.getMinutes()).padStart(2,"0"),h=`${u}:${g}`,v=`end-time${i}`;$v(v,h,"Hora Final (Actual)");let D=document.getElementById(v);D&&(D.classList.add("input-warning"),D.addEventListener("focus",()=>D.classList.remove("input-warning"),{once:!0}))}let d=Object.keys(r).length;return{hasData:d>0,count:d,fields:r,allFieldsStatus:o}}function Wv(){if(Kv||(ct=document.getElementById(bi.CAMERA_MODAL),pn=ct?.querySelector(bi.MODAL_CONTENT),Oc=document.getElementById(bi.OPTION_CAMERA),Mm=document.getElementById(bi.OPTION_GALLERY),ve=document.getElementById(bi.CAMERA_INPUT),!ct||!Oc||!Mm||!ve))return;document.querySelectorAll(bi.OCR_SCAN_BTN).forEach(t=>t.addEventListener("click",RD)),Oc.addEventListener("click",wD),Mm.addEventListener("click",BD),ve.addEventListener("change",zD),document.addEventListener("click",ID),document.addEventListener("keydown",t=>{t.key==="Escape"&&ct?.classList.contains(gn.VISIBLE)&&_i()}),Kv=!0}function PD(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}async function zD(e){if(Rm)return;let t=e.target.files?.[0];if(!t)return;if(!kv.canMakeRequest()){let l=kv.getRemainingRequests();A(`Has superat el l\xEDmit d'escaneigs. Espera uns segons abans de tornar-ho a intentar. (${l} disponibles)`,"warning"),ve&&(ve.value="");return}if(Date.now()-Zv<yD){A("OCR massa freq\xFCent. Espera un segon abans de reintentar.","warning"),ve&&(ve.value="");return}if(!await LD(t)){A("Format d'imatge no suportat. Usa PNG, JPG o WEBP.","error"),ve&&(ve.value="");return}let a=Xv*1024*1024;if(t.size>a){A(`Imatge massa gran. El m\xE0xim perm\xE8s \xE9s ${Xv}MB.`,"error"),ve&&(ve.value="");return}Rm=!0,Vu(!0),Di=0,Qt||(Qt=no()),Qt.start(t),ke(0),PD(),Zv=Date.now();let n=null;try{ke(5,"Preparando imagen...");let l=await jv(t);ke(20,"Optimizando imagen..."),l=await Yv(l),ke(35,"Procesando..."),await new Promise(s=>setTimeout(s,100)),ke(45,"Preparando OCR..."),Fv||(ke(50,"Descargando recursos..."),await hl({src:CD,integrity:bD}),Fv=!0,ke(58,"Recursos descargados")),ke(60,"Iniciando esc\xE1ner..."),n=await Tesseract.createWorker(ED,hD,{logger:s=>{if(s.status==="recognizing text"){let c=Math.max(85,Math.floor(s.progress*100*.15+85));ke(c,"Reconociendo texto...")}else s.status==="loading language model"?ke(65,"Cargando recursos..."):s.status==="initializing tesseract"?ke(62,"Preparando esc\xE1ner..."):s.status==="initialized tesseract"&&ke(70,"Esc\xE1ner listo")},init:DD}),ke(75,"Ajustando configuraci\xF3n..."),await n.setParameters(_D),ke(80);let{data:{text:i}}=await n.recognize(l),o=UD(i,s=>{let c=Jv(s);Qt.update(95,c)});if(o.hasData){let s=Jv(o.allFieldsStatus);Qt.complete(s,"done")}else A("Error al escanear. Imagen no v\xE1lida","error"),Qt?.reset?.(),setTimeout(()=>_i(),1e3)}catch(l){Nc.error("Error durant el processament OCR:",l),A("Error al escanear. Imagen no v\xE1lida","error"),Qt?.reset?.(),setTimeout(()=>{Nc.debug("Tancant modal OCR despr\xE9s de timeout"),_i()},3e3)}finally{try{n&&await n.terminate()}catch{}ve&&(ve.value=""),xD(),Vu(!1),Rm=!1}}var eT="anonymousUserId";function tT(){try{let e=localStorage.getItem(eT);return e||(e=`user-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,localStorage.setItem(eT,e)),e}catch{return`temp-user-${Date.now()}`}}var aT=document.getElementById("save-pill"),Ni=document.querySelector(".tab-content-container"),Oi=0,nT=!1,VD=10,HD=150,GD=Ni&&parseInt(window.getComputedStyle(Ni).paddingBottom,10)||60;function Im(e=Oi){nT=e>HD,nT?(aT.style.bottom=`calc(${e}px + ${VD}px + env(safe-area-inset-bottom, 0px))`,Ni&&(Ni.style.paddingBottom=`${e+50}px`)):(aT.style.bottom="calc(20px + env(safe-area-inset-bottom, 0px))",Ni&&(Ni.style.paddingBottom=`${GD}px`))}if("virtualKeyboard"in navigator)navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",e=>{Oi=e.target.boundingRect.height,Im(Oi)});else{let e=window.innerHeight;window.addEventListener("resize",()=>{window.innerHeight<e?(Oi=e-window.innerHeight,Im(Oi)):(Oi=0,Im(0))})}var qD=document.querySelectorAll('input:not([type="checkbox"]), select, textarea');var jD=()=>{let e=[".top-bar",".tabs-container"],t=0;return e.forEach(a=>{let n=document.querySelector(a);if(!n)return;let l=n.getBoundingClientRect();l.bottom>t&&(t=l.bottom)}),Math.max(t,0)},wm=()=>{let e=jD();document.documentElement.style.setProperty("--fixed-headers-height",`${e}px`)},Bm=()=>{let e=document.querySelector("input.origin");if(!e)return;let t=e.closest(".form-group");if(!t)return;let a=t.querySelector("label");if(!a)return;let n=window.getComputedStyle(a),l=a.offsetHeight,i=parseFloat(n.marginBottom)||0,r=l+i+20;document.documentElement.style.setProperty("--label-space",`${r}px`)};wm();Bm();window.addEventListener("resize",()=>{wm(),Bm()});window.addEventListener("orientationchange",()=>{wm(),Bm()});var YD=e=>{e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})};function XD(e){let t=e.target;t instanceof HTMLElement&&(t.closest(".modal")||setTimeout(()=>{if(!document.body.contains(t))return;if(t.classList.contains("origin")||t.classList.contains("destination")){YD(t);return}t.scrollIntoView({behavior:"smooth",block:"center"})},250))}qD.forEach(e=>{e.addEventListener("focus",XD)});Ot();var KD="notes-selected-service",FD="notes-modal",QD="notes-title",ZD="notes-textarea",kD="notes-save",JD="notes-cancel",$D="notes-char-counter",Li,Um,re,Lc,xm,Wn,lo=null,io=null,ro=null;function lT(){let e=document.getElementById(KD);e&&(Li=document.getElementById(FD),Um=document.getElementById(QD),re=document.getElementById(ZD),Lc=document.getElementById(kD),xm=document.getElementById(JD),Wn=document.getElementById($D),!(!Li||!Um||!re||!Lc||!xm||!Wn)&&(e.addEventListener("click",()=>{let t=hn();WD(t)}),xm.addEventListener("click",Pm)))}function WD(e){if(!Li)return;Um.textContent=`S${e+1}: Observaciones`,re.value=Jt[e]||"";let t=re.maxLength,a=()=>{let n=re.value.length;Wn.textContent=`${n} / ${t}`,Wn.classList.remove("warning","limit"),re.classList.remove("input-warning","input-error"),n>=t?(Wn.classList.add("limit"),re.classList.add("input-error")):n>t*.8&&(Wn.classList.add("warning"),re.classList.add("input-warning"))};a(),io=()=>{re.value.length>t&&(re.value=re.value.slice(0,t)),a()},re.addEventListener("input",io),ro=n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),re.blur())},re.addEventListener("keydown",ro),lo=()=>{let n=re.value.trim(),l=Jt[e]||"";if(n===l){Pm();return}Jt[e]=n,n?A("Observaci\xF3n guardada.","success"):A("Observaci\xF3n eliminada.","info"),Pm(),$t()},Lc.addEventListener("click",lo),Li.style.display="block",document.body.classList.add("modal-open"),setTimeout(()=>{re.focus({preventScroll:!0}),re.setSelectionRange(re.value.length,re.value.length)},0)}function Pm(){Li&&(lo&&(Lc.removeEventListener("click",lo),lo=null),io&&(re.removeEventListener("input",io),io=null),ro&&(re.removeEventListener("keydown",ro),ro=null),Wn.classList.remove("warning","limit"),re.classList.remove("input-warning","input-error"),Li.style.display="none",document.body.classList.remove("modal-open"))}var rT="G-23SXKMLR75",e_=`https://www.googletagmanager.com/gtag/js?id=${rT}`;window.dataLayer=window.dataLayer||[];window.gtag=window.gtag||function(){window.dataLayer.push(arguments)};var t_=e=>{let a=`; ${document.cookie}`.split(`; ${e}=`);if(a.length===2)return a.pop()?.split(";").shift()},oT=(e,t,a)=>{let n=new Date;n.setTime(n.getTime()+a*24*60*60*1e3);let l=`expires=${n.toUTCString()}`;document.cookie=`${e}=${t};${l};path=/;SameSite=Lax;Secure`},Mi,zm,Vm,iT=!1;async function sT(){if(!iT){try{await hl({src:e_,referrerPolicy:"strict-origin-when-cross-origin"})}catch(e){console.error("Error carregant Google Analytics:",e);return}window.gtag("consent","update",{analytics_storage:"granted"}),window.gtag("js",new Date),window.gtag("config",rT,{anonymize_ip:!0}),iT=!0}}function a_(){sT().catch(e=>{console.error("Error carregant Google Analytics:",e)}),window.gtag("consent","update",{analytics_storage:"granted"}),oT("cookie_consent","granted",365),Mc()}function n_(){typeof window.gtag=="function"&&window.gtag("consent","update",{analytics_storage:"denied"}),oT("cookie_consent","denied",365),Mc()}function l_(){Mi&&Mi.classList.remove("hidden")}function Mc(){Mi&&Mi.classList.add("hidden")}function cT(){if(Mi=document.getElementById("cookie-consent-banner"),zm=document.getElementById("accept-cookies"),Vm=document.getElementById("decline-cookies"),!Mi||!zm||!Vm){console.warn("Elements del b\xE0ner de cookies no trobats.");return}let e=t_("cookie_consent");if(window.gtag("consent","default",{analytics_storage:"denied"}),e==="granted"){window.gtag("consent","update",{analytics_storage:"granted"}),sT().catch(t=>{console.error("Error carregant GA despr\xE9s del consentiment guardat:",t)}),Mc();return}if(e==="denied"){Mc();return}e||(l_(),zm.addEventListener("click",a_),Vm.addEventListener("click",n_))}var Rc=["Abella de la Conca","Abrera","Agramunt","Aguilar de Segarra","Agullana","Aiguafreda","Aiguam\xFArcia","Aiguaviva","Aitona","Alam\xFAs, els","Albag\xE9s, l'","Albany\xE0","Albat\xE0rrec","Albesa","Albi, l'","Albinyana","Albiol, l'","Albons","Alcanar","Alcan\xF3","Alcarr\xE0s","Alcoletge","Alcover","Aldea, l'","Aldover","Aleixar, l'","Alella","Alfara de Carles","Alfarr\xE0s","Alforja","Alf\xE9s","Algerri","Alguaire","Alins","Ali\xF3","Almacelles","Almatret","Almenar","Almoster","Alp","Alpens","Alpicat","Alt \xC0neu","Altafulla","Altres/Diversos","Al\xE0s i Cerc","Al\xF2s de Balaguer","Amer","Ametlla de Mar, l'","Ametlla del Vall\xE8s, l'","Ampolla, l'","Amposta","Anglesola","Angl\xE8s","Arbeca","Arbol\xED","Arbo\xE7, l'","Arb\xFAcies","Arenys de Mar","Arenys de Munt","Argelaguer","Argentera, l'","Argentona","Argen\xE7ola","Armentera, l'","Arnes","Arres","Ars\xE8guel","Artesa de Lleida","Artesa de Segre","Art\xE9s","Asc\xF3","Aspa","Avellanes i Santa Linya, les","Avinyonet de Puigvent\xF3s","Avinyonet del Pened\xE8s","Aviny\xF3","Avi\xE0","Badalona","Badia del Vall\xE8s","Bag\xE0","Baix Pallars","Balaguer","Baleny\xE0","Balsareny","Banyeres del Pened\xE8s","Banyoles","Barbens","Barber\xE0 de la Conca","Barber\xE0 del Vall\xE8s","Barcelona","Baronia de Rialb, la","Bassella","Batea","Bausen","Begues","Begur","Belianes","Bell-lloc d'Urgell","Bellaguarda","Bellcaire d'Empord\xE0","Bellcaire d'Urgell","Bellmunt d'Urgell","Bellmunt del Priorat","Bellprat","Bellpuig","Bellvei","Bellver de Cerdanya","Bellv\xEDs","Benavent de Segri\xE0","Benifallet","Benissanet","Berga","Besal\xFA","Bescan\xF3","Beuda","Bigues i Riells del Fai","Biosca","Bisbal d'Empord\xE0, la","Bisbal de Montsant, la","Bisbal del Pened\xE8s, la","Biure","Blancafort","Blanes","Boadella i les Escaules","Bolvir","Bonastre","Bordils","Borges Blanques, les","Borges del Camp, les","Borrass\xE0","Borred\xE0","Boss\xF2st","Bot","Botarell","Bovera","Breda","Bruc, el","Brull, el","Brunyola i Sant Mart\xED Sapresa","Br\xE0fim","B\xE0scara","B\xF2rdes, Es","Cabac\xE9s","Cabanabona","Cabanelles","Cabanes","Cabanyes, les","Cabra del Camp","Cabrera d'Anoia","Cabrera de Mar","Cabrils","Cab\xF3","Cadaqu\xE9s","Calaf","Calafell","Calders","Caldes d'Estrac","Caldes de Malavella","Caldes de Montbui","Calella","Calldetenes","Call\xFAs","Calonge de Segarra","Calonge i Sant Antoni","Camarasa","Camarles","Cambrils","Campdev\xE0nol","Campelles","Campins","Campllong","Camprodon","Cam\xF3s","Canejan","Canet d'Adri","Canet de Mar","Canonja, la","Canovelles","Cantallops","Canyelles","Capafonts","Capellades","Capmany","Capolat","Cap\xE7anes","Cardedeu","Cardona","Carme","Caseres","Casserres","Cass\xE0 de la Selva","Castell d'Aro, Platja d'Aro i s'Agar\xF3","Castell de Mur","Castell de l'Areny","Castellar de la Ribera","Castellar de n'Hug","Castellar del Riu","Castellar del Vall\xE8s","Castellbell i el Vilar","Castellbisbal","Castellcir","Castelldans","Castelldefels","Castellet i la Gornal","Castellfollit de Riubreg\xF3s","Castellfollit de la Roca","Castellfollit del Boix","Castellgal\xED","Castellnou de Bages","Castellnou de Seana","Castellol\xED","Castellser\xE0","Castellter\xE7ol","Castellvell del Camp","Castellv\xED de Rosanes","Castellv\xED de la Marca","Castell\xF3 d'Emp\xFAries","Castell\xF3 de Farfanya","Catllar, el","Cava","Cellera de Ter, la","Celr\xE0","Centelles","Cercs","Cerdanyola del Vall\xE8s","Cervell\xF3","Cervera","Cervi\xE0 de Ter","Cervi\xE0 de les Garrigues","Cistella","Ciutadilla","Clariana de Cardener","Cogul, el","Colera","Coll de Narg\xF3","Collbat\xF3","Colldejou","Collsuspina","Colomers","Coma i la Pedra, la","Conca de Dalt","Conesa","Constant\xED","Copons","Corbera d'Ebre","Corbera de Llobregat","Corbins","Cornell\xE0 de Llobregat","Cornell\xE0 del Terri","Cornudella de Montsant","Cor\xE7\xE0","Creixell","Crespi\xE0","Cru\xEFlles, Monells i Sant Sadurn\xED de l'Heura","Cubelles","Cubells","Cunit","C\xE0noves i Samal\xFAs","Darnius","Das","Deltebre","Dosrius","Duesaig\xFCes","Escala, l'","Esparreguera","Espinelves","Espluga Calba, l'","Espluga de Francol\xED, l'","Esplugues de Llobregat","Espolla","Esponell\xE0","Espot","Espunyola, l'","Esquirol, l'","Estamariu","Estany, l'","Estar\xE0s","Esterri d'\xC0neu","Esterri de Card\xF3s","Falset","Far d'Empord\xE0, el","Farrera","Fatarella, la","Febr\xF3, la","Figar\xF3-Montmany","Figuera, la","Figueres","Figuerola del Camp","Fla\xE7\xE0","Flix","Floresta, la","Fogars de Montcl\xFAs","Fogars de la Selva","Foix\xE0","Folgueroles","Fondarella","Fonollosa","Font-rub\xED","Fontanals de Cerdanya","Fontanilles","Fontcoberta","Foradada","Forallac","Fornells de la Selva","Forti\xE0","For\xE8s","Franqueses del Vall\xE8s, les","Freginals","Fuliola, la","Fulleda","F\xEDgols","F\xEDgols i Aliny\xE0","Gai\xE0","Galera, la","Gallifa","Gandesa","Garcia","Garidells, els","Garriga, la","Garrigoles","Garriguella","Garrig\xE0s","Gavet de la Conca","Gav\xE0","Gelida","Ger","Gimenells i el Pla de la Font","Ginestar","Girona","Gironella","Gisclareny","Godall","Golm\xE9s","Gombr\xE8n","Granada, la","Granadella, la","Granera","Granja d'Escarp, la","Granollers","Granyanella","Granyena de Segarra","Granyena de les Garrigues","Gratallops","Gualba","Gualta","Guardiola de Bergued\xE0","Guiamets, els","Guils de Cerdanya","Guimer\xE0","Guingueta d'\xC0neu, la","Guissona","Guixers","Gurb","G\xF3sol","Horta de Sant Joan","Hospitalet de Llobregat, l'","Hostalets de Pierola, els","Hostalric","Igualada","Isona i Conca Dell\xE0","Is\xF2vol","Ivars d'Urgell","Ivars de Noguera","Ivorra","Jafre","Jonquera, la","Jorba","Josa i Tuix\xE9n","Jui\xE0","Juncosa","Juneda","Les","Linyola","Llacuna, la","Lladorre","Lladurs","Llad\xF3","Llagosta, la","Llagostera","Llambilles","Llanars","Llan\xE7\xE0","Llardecans","Llavors\xED","Lleida","Llers","Lles de Cerdanya","Llimiana","Llinars del Vall\xE8s","Lli\xE7\xE0 d'Amunt","Lli\xE7\xE0 de Vall","Lloar, el","Llobera","Llorac","Lloren\xE7 del Pened\xE8s","Lloret de Mar","Llosses, les","Llu\xE7\xE0","Ll\xEDvia","Madremanya","Maials","Mai\xE0 de Montcal","Mald\xE0","Malgrat de Mar","Malla","Manlleu","Manresa","Margalef","Marganell","Martorell","Martorelles","Mar\xE7\xE0","Mas de Barberans","Masarac i Vilarnadal","Masdenverge","Masies de Roda, les","Masies de Voltreg\xE0, les","Maslloren\xE7","Masnou, el","Maspujols","Masquefa","Masroig, el","Massalcoreig","Massanes","Massoteres","Mas\xF3, la","Matadepera","Matar\xF3","Ma\xE7anet de Cabrenys","Ma\xE7anet de la Selva","Mediona","Men\xE0rguens","Meranges","Mieres","Mil\xE0, el","Miralcamp","Miravet","Moi\xE0","Molar, el","Molins de Rei","Mollerussa","Mollet de Peralada","Mollet del Vall\xE8s","Moll\xF3","Molsosa, la","Monistrol de Calders","Monistrol de Montserrat","Mont-ral","Mont-ras","Mont-roig del Camp","Montagut i Oix","Montblanc","Montbri\xF3 del Camp","Montcada i Reixac","Montclar","Montell\xE0 i Martinet","Montesquiu","Montferrer i Castellb\xF2","Montferri","Montgai","Montgat","Montmajor","Montmaneu","Montmell, el","Montmel\xF3","Montoliu de Lleida","Montoliu de Segarra","Montorn\xE8s de Segarra","Montorn\xE8s del Vall\xE8s","Montseny","Morell, el","Morera de Montsant, la","Muntanyola","Mura","M\xF3ra d'Ebre","M\xF3ra la Nova","Nalec","Naut Aran","Navarcles","Navata","Nav\xE0s","Nav\xE8s","No consta","Nou de Bergued\xE0, la","Nou de Gai\xE0, la","Nulles","Od\xE8n","Ogassa","Olesa de Bonesvalls","Olesa de Montserrat","Oliana","Oliola","Olius","Olivella","Olost","Olot","Oluges, les","Olvan","Ol\xE8rdola","Omellons, els","Omells de na Gaia, els","Ordis","Organy\xE0","Orist\xE0","Orp\xED","Or\xEDs","Os de Balaguer","Osor","Oss\xF3 de Si\xF3","Pacs del Pened\xE8s","Palafolls","Palafrugell","Palam\xF3s","Palau d'Anglesola, el","Palau de Santa Eul\xE0lia","Palau-sator","Palau-saverdera","Palau-solit\xE0 i Plegamans","Pallaresos, els","Pallej\xE0","Palma d'Ebre, la","Palma de Cervell\xF3, la","Palol de Revardit","Pals","Papiol, el","Pardines","Parets del Vall\xE8s","Parlav\xE0","Passanant i Belltall","Pau","Pa\xFCls","Pedret i Marz\xE0","Penelles","Pera, la","Perafita","Perafort","Peralada","Peramola","Perell\xF3, el","Piera","Piles, les","Pineda de Mar","Pinell de Brai, el","Pinell de Solson\xE8s","Pin\xF3s","Pira","Pla de Santa Maria, el","Pla del Pened\xE8s, el","Planes d'Hostoles, les","Planoles","Plans de Si\xF3, els","Poal, el","Pobla de Claramunt, la","Pobla de C\xE9rvoles, la","Pobla de Lillet, la","Pobla de Mafumet, la","Pobla de Massaluca, la","Pobla de Montorn\xE8s, la","Pobla de Segur, la","Poboleda","Poliny\xE0","Pont d'Armentera, el","Pont de Bar, el","Pont de Molins","Pont de Suert, el","Pont de Vilomara i Rocafort, el","Pontils","Pontons","Ponts","Pont\xF3s","Porqueres","Porrera","Port de la Selva, el","Portbou","Portella, la","Pradell de la Teixeta","Prades","Prat de Comte","Prat de Llobregat, el","Pratdip","Prats de Llu\xE7an\xE8s","Prats de Rei, els","Prats i Sansor","Preixana","Preixens","Premi\xE0 de Dalt","Premi\xE0 de Mar","Preses, les","Prullans","Puig-reig","Puigcerd\xE0","Puigd\xE0lber","Puiggr\xF2s","Puigpelat","Puigverd d'Agramunt","Puigverd de Lleida","Pujalt","Quar, la","Quart","Queralbs","Querol","Rab\xF3s","Rajadell","Rasquera","Regenc\xF3s","Rellinars","Renau","Reus","Rialp","Riba, la","Riba-roja d'Ebre","Ribera d'Ondara","Ribera d'Urgellet","Ribes de Freser","Riells i Viabrea","Riera de Gai\xE0, la","Riner","Ripoll","Ripollet","Riu de Cerdanya","Riudarenes","Riudaura","Riudecanyes","Riudecols","Riudellots de la Selva","Riudoms","Riumors","Roca del Vall\xE8s, la","Rocafort de Queralt","Roda de Ber\xE0","Roda de Ter","Rodony\xE0","Roquetes","Roses","Rossell\xF3","Rourell, el","Rubi\xF3","Rub\xED","Rupit i Pruit","Rupi\xE0","R\xE0pita, la","Sabadell","Sag\xE0s","Saldes","Sales de Llierca","Sallent","Salom\xF3","Salou","Salt","Sal\xE0s de Pallars","Sana\xFCja","Sant Adri\xE0 de Bes\xF2s","Sant Agust\xED de Llu\xE7an\xE8s","Sant Andreu Salou","Sant Andreu de Llavaneres","Sant Andreu de la Barca","Sant Aniol de Finestres","Sant Antoni de Vilamajor","Sant Bartomeu del Grau","Sant Boi de Llobregat","Sant Boi de Llu\xE7an\xE8s","Sant Cebri\xE0 de Vallalta","Sant Celoni","Sant Climent Sescebes","Sant Climent de Llobregat","Sant Cugat Sesgarrigues","Sant Cugat del Vall\xE8s","Sant Esteve Sesrovires","Sant Esteve de Palautordera","Sant Esteve de la Sarga","Sant Feliu Sasserra","Sant Feliu de Buixalleu","Sant Feliu de Codines","Sant Feliu de Gu\xEDxols","Sant Feliu de Llobregat","Sant Feliu de Pallerols","Sant Ferriol","Sant Fost de Campsentelles","Sant Fruit\xF3s de Bages","Sant Gregori","Sant Guim de Freixenet","Sant Guim de la Plana","Sant Hilari Sacalm","Sant Hip\xF2lit de Voltreg\xE0","Sant Iscle de Vallalta","Sant J. d'Enveja","Sant J. de Frontany\xE0","Sant J. de Llierca","Sant J. dels Domenys","Sant Joan Desp\xED","Sant Joan de Mollet","Sant Joan de Vilatorrada","Sant Joan de les Abadesses","Sant Joan les Fonts","Sant Jordi Desvalls","Sant Juli\xE0 de Cerdanyola","Sant Juli\xE0 de Ramis","Sant Juli\xE0 de Vilatorta","Sant Juli\xE0 del Llor i Bonmat\xED","Sant Just Desvern","Sant Lloren\xE7 Savall","Sant Lloren\xE7 d'Hortons","Sant Lloren\xE7 de Morunys","Sant Lloren\xE7 de la Muga","Sant Mart\xED Sarroca","Sant Mart\xED Sesgueioles","Sant Mart\xED Vell","Sant Mart\xED d'Albars","Sant Mart\xED de Centelles","Sant Mart\xED de Ll\xE9mena","Sant Mart\xED de Riucorb","Sant Mart\xED de Tous","Sant Mateu de Bages","Sant Miquel de Campmajor","Sant Miquel de Fluvi\xE0","Sant Mori","Sant Pau de Seg\xFAries","Sant Pere Pescador","Sant Pere Sallavinera","Sant Pere de Ribes","Sant Pere de Riudebitlles","Sant Pere de Torell\xF3","Sant Pere de Vilamajor","Sant Pol de Mar","Sant Quint\xED de Mediona","Sant Quirze Safaja","Sant Quirze de Besora","Sant Quirze del Vall\xE8s","Sant Ramon","Sant Sadurn\xED d'Anoia","Sant Sadurn\xED d'Osormort","Sant Salvador de Guardiola","Sant Vicen\xE7 de Castellet","Sant Vicen\xE7 de Montalt","Sant Vicen\xE7 de Torell\xF3","Sant Vicen\xE7 dels Horts","Santa B\xE0rbara","Santa Cec\xEDlia de Voltreg\xE0","Santa Coloma de Cervell\xF3","Santa Coloma de Farners","Santa Coloma de Gramenet","Santa Coloma de Queralt","Santa Cristina d'Aro","Santa Eug\xE8nia de Berga","Santa Eul\xE0lia de Riuprimer","Santa Eul\xE0lia de Ron\xE7ana","Santa Fe del Pened\xE8s","Santa Llogaia d'\xC0lguema","Santa Margarida de Montbui","Santa Margarida i els Monjos","Santa Maria d'Ol\xF3","Santa Maria de Besora","Santa Maria de Martorelles","Santa Maria de Merl\xE8s","Santa Maria de Miralles","Santa Maria de Palautordera","Santa Oliva","Santa Pau","Santa Perp\xE8tua de Mogoda","Santa Susanna","Santpedor","Sarral","Sarri\xE0 de Ter","Sarroca de Bellera","Sarroca de Lleida","Saus, Camallera i Llampaies","Savall\xE0 del Comtat","Secuita, la","Selva de Mar, la","Selva del Camp, la","Senan","Senterada","Sentiu de Si\xF3, la","Sentmenat","Seriny\xE0","Serra de Dar\xF3","Ser\xF2s","Setcases","Seu d'Urgell, la","Seva","Sidamon","Sils","Sitges","Siurana","Sobremunt","Soler\xE0s, el","Solivella","Solsona","Sora","Soriguera","Sort","Soses","Subirats","Sudanell","Sunyer","Susqueda","S\xE9nia, la","S\xFAria","Tagamanent","Talamanca","Talarn","Talavera","Tallada d'Empord\xE0, la","Taradell","Tarragona","Tarroja de Segarra","Tarr\xE9s","Tavertet","Tav\xE8rnoles","Tei\xE0","Terrades","Terrassa","Tiana","Tiurana","Tivenys","Tivissa","Tona","Tordera","Torell\xF3","Torms, els","Tornabous","Torre de Cabdella, la","Torre de Claramunt, la","Torre de Fontaubella, la","Torre de l'Espanyol, la","Torre-serona","Torrebesses","Torredembarra","Torrefarrera","Torrefeta i Florejacs","Torregrossa","Torrelameu","Torrelavit","Torrelles de Foix","Torrelles de Llobregat","Torrent","Torres de Segre","Torroella de Fluvi\xE0","Torroella de Montgr\xED","Torroja del Priorat","Tortell\xE0","Tortosa","Tor\xE0","Toses","Tossa de Mar","Tremp","T\xE0rrega","T\xE9rmens","T\xEDrvia","Ullastrell","Ullastret","Ulldecona","Ulldemolins","Ull\xE0","Ultramort","Ur\xFAs","Vacarisses","Vajol, la","Vall d'en Bas, la","Vall de Bianya, la","Vall de Bo\xED, la","Vall de Card\xF3s","Vall-llobrega","Vallbona d'Anoia","Vallbona de les Monges","Vallcebre","Vallclara","Vallfogona de Balaguer","Vallfogona de Ripoll\xE8s","Vallfogona de Riucorb","Vallgorguina","Vallirana","Vallmoll","Vallromanes","Valls","Valls d'Aguilar, les","Valls de Valira, les","Vandell\xF2s i l'Hospitalet de l'Infant","Vansa i F\xF3rnols, la","Veciana","Vendrell, el","Ventall\xF3","Verd\xFA","Verges","Vespella de Gai\xE0","Vic","Vidreres","Vidr\xE0","Vielha e Mijaran","Vila-rodona","Vila-sacra","Vila-sana","Vila-seca","Vilabella","Vilabertran","Vilablareix","Vilada","Viladamat","Viladasens","Viladecans","Viladecavalls","Vilademuls","Viladrau","Vilafant","Vilafranca del Pened\xE8s","Vilagrassa","Vilaju\xEFga","Vilalba Sasserra","Vilalba dels Arcs","Vilaller","Vilallonga de Ter","Vilallonga del Camp","Vilamacolum","Vilamalla","Vilamaniscle","Vilam\xF2s","Vilanant","Vilanova d'Escornalbou","Vilanova de Bellpuig","Vilanova de Mei\xE0","Vilanova de Prades","Vilanova de Sau","Vilanova de Segri\xE0","Vilanova de l'Aguda","Vilanova de la Barca","Vilanova del Cam\xED","Vilanova del Vall\xE8s","Vilanova i la Geltr\xFA","Vilaplana","Vilassar de Dalt","Vilassar de Mar","Vilaverd","Vila\xFCr","Vilella Alta, la","Vilella Baixa, la","Vilob\xED d'Onyar","Vilob\xED del Pened\xE8s","Vilopriu","Vilosell, el","Vimbod\xED i Poblet","Vinaixa","Vinebre","Vinyols i els Arcs","Viver i Serrateix","Xerta","\xC0ger","\xD2dena","\xD2rrius"],Ic=["CAP Adri\xE0","CAP Barceloneta","CAP Bes\xF2s","CAP Bon Pastor","CAP Casc Antic","CAP Chafarinas","CAP Ciutat Meridiana","CAP Comte Borrell","CAP Drassanes","CAP Eixample","CAP El Carmel","CAP El Clot","CAP Guineueta","CAP Horta","CAP La Marina","CAP La Pau","CAP La Sagrera","CAP Larrard","CAP Les Corts","CAP Manso","CAP Montnegre","CAP Num\xE0ncia","CAP Pare Claret","CAP Passeig de Maragall","CAP Passeig de Sant Joan","CAP Poble Sec - Les Hortes","CAP Poblenou","CAP Ramon Turr\xF3","CAP R\xEDo de Janeiro","CAP Roger de Flor","CAP Roquetes","CAP Sagrada Fam\xEDlia","CAP Sanllehy","CAP Sant Andreu","CAP Sant Gervasi","CAP Sant Mart\xED","CAP Sant Rafael","CAP Sants","CAP Sardenya","CAP Sarri\xE0","CAP Trinitat Vella","CAP Tur\xF3","CAP Vallcarca","CAP Vallvidrera","CAP Vila Ol\xEDmpica","Centre d'Urg\xE8ncies Atenci\xF3 Prim\xE0ria Pura Fern\xE0ndez","Centre Integral de Salut Cotxeres","Centre Peracamps","CUAP Horta","CAP Apenins-Montigal\xE0","CAP Bufal\xE0-Canyet","CAP Doctor Robert","CAP Gran Sol","CAP La Salut","CAP Llefi\xE0","CAP Mart\xED i Juli\xE0","CAP Morera Pomar","CAP Nova Lloreda","CAP Progr\xE8s-Raval","CAP Sant Roc","CAP Doctor Vilaseca","CAP El Fondo","CAP Llat\xED","CAP Santa Coloma de Gramenet","CAP Santa Rosa","CAP Singuerl\xEDn","CAP Amadeu Torner","CAP Bellvitge","CAP Can Serra","CAP Collblanc","CAP Florida","CAP Gornal","CAP Just Oliveras","CAP Moss\xE8n Cinto Verdaguer","CAP Ronda de la Torrassa","Centre d'Urg\xE8ncies Atenci\xF3 Prim\xE0ria Pura Fern\xE0ndez","CAP Doctor Barraquer","CAP La Mina","CAP B\xF2bila","CAP Camps Blancs","CAP Can Bou","CAP Can Moritz","CAP Cornell\xE0 de Llobregat","CAP Doctor Mart\xED i Juli\xE0","CAP Doctor Pujol i Capsada","CAP Dr. Bartomeu Fabr\xE9s Anglada - Gav\xE0 2","CAP El Castell","CAP El Pla","CAP El Serral de Sant Vicen\xE7 dels Horts","CAP Esparreguera","CAP Gav\xE0 1","CAP La Granja","CAP Les Planes","CAP Llu\xEDs Millet","CAP Maria Bernades","CAP Martorell","CAP Mas Font","CAP Mol\xED Nou","CAP Montclar","CAP Olesa de Montserrat","CAP Pallej\xE0","CAP Rambla","CAP Ramona Via","CAP Sant Andreu de la Barca","CAP Sant Esteve Sesrovires","CAP Sant Ildefons","CAP Sant Just Desvern","CAP Vallirana","CAP Verdaguer","CAP Vila Vella","CAP Vinyets","CAP 17 de setembre","CAP Abrera","CAP Corbera de Llobregat","Consultori local Can Vilalba","Consultori local Doctor Carlos Herr\xE0iz","Consultori local Santa Maria de Vilalba","CAP Arenys de Mar","CAP Cirera Molins","CAP Dr. Gon\xE7al Calvo i Queralt\xF3","CAP Dr. Guillermo Masriera i Guardiola","CAP El Masnou","CAP La Ll\xE0ntia","CAP La Riera de Matar\xF3","CAP Maresme","CAP Matar\xF3-Centre","CAP Montgat","CAP Ocata","CAP Premi\xE0 de Mar","CAP Rocafonda-Palau","CAP Ronda Cerdanya","CAP Ronda Prim","CAP Sant Andreu de Llavaneres","CAP Vilassar de Dalt","Consultori local Cabrils","CAP Ca n'Oriac","CAP Can Rull","CAP Centre","CAP Conc\xF2rdia","CAP Creu Alta","CAP Creu de Barber\xE0","CAP Gr\xE0cia","CAP La Serra","CAP Nord","CAP Sant F\xE8lix","CAP Sant Oleguer","CAP Antoni Creus - Can Parellada","CAP Rambla de Terrassa","CAP Sant Ll\xE0tzer","CAP Terrassa Est","CAP Terrassa Nord","CAP Terrassa Oest","CAP Terrassa Sud - Can Jofresa","CAP Anton de Borja","CAP Badia del Vall\xE8s","CAP Barber\xE0 del Vall\xE8s","CAP Canaletes","CAP Castellar del Vall\xE8s","CAP La Florida","CAP Matadepera","CAP Montcada i Reixac","CAP M\xFAtua Rub\xED","CAP Pinetons","CAP Poliny\xE0","CAP Ripollet","CAP Sant Cugat del Vall\xE8s","CAP Sant Gen\xEDs","CAP Sant Quirze del Vall\xE8s","CAP Santa Perp\xE8tua de Mogoda","CAP Sentmenat","CAP Serraparera","CAP Tur\xF3 de Can Matas","Consultori local Can Sant Joan","Consultori local de Viladecavalls","Consultori local Les Planes","CAP Can Borr\xE0s","CAP Can Pantiquet","CAP Canovelles","CAP Doctor Vicen\xE7 Papaceit","CAP Joan Mirambell i Folch","CAP La Cru\xEFlla","CAP La Garriga","CAP La Llagosta","CAP Les Franqueses del Vall\xE8s","CAP Llinars del Vall\xE8s","CAP Montorn\xE8s del Vall\xE8s","CAP Palaud\xE0ries","CAP Parets del Vall\xE8s","CAP Plana Lled\xF3","CAP Sant Celoni","CAP Sant Fost de Campsentelles","CAP Sant Miquel","CAP Vall\xE8s Oriental","Centre d'Urg\xE8ncies Centre de Granollers","CAP Prats de Llu\xE7an\xE8s","CAP Roda de Ter","CAP Sant Hip\xF2lit de Voltreg\xE0","CAP Sant Quirze de Besora","CAP Calella","CAP Canet de Mar","CAP Dr. Josep Torner i Fors","CAP Pineda de Mar","CAP Banyoles","CAP Campdev\xE0nol","CAP Camprodon","CAP Ripoll\xE8s","CAP Arb\xFAcies","CAP Blanes 2","CAP Blanes Centre","CAP Breda","CAP Dr. Francisco Benito Inaraja","CAP Dr. Ramon Vinyes","CAP La Selva","CAP Lloret Centre","CAP Lloret Rieral","CAP Sils","CAP Baix a Mar","CAP Cubelles","CAP Jaume I","CAP Roquetes","CAP Sant Joan","CAP Sitges","CAP Alt Pened\xE8s","CAP St. Sadurn\xED d'Anoia","Consultori local Lavern","CAP Alcover","CAP Doctor Sarr\xF3 Roset","CAP Vila-rodona","Consultori local Br\xE0fim","CAP i H. Lleuger Gimbernat","CAP Selva del Camp","CAP Borges del Camp","CAP Hospitalet de l'Infant","CAP Llibertat","CAP Mari\xE0 Fortuny","CAP Mont-roig del Camp","CAP Riudoms","CAP Sant Pere","CAP Calafell","CAP Vendrell","CAP Arbo\xE7","CAP Montblanc","CAP Cornudella","CAP Falset","CAP Bonavista","CAP Constant\xED","CAP Morell","CAP Jaume I","CAP Muralles","CAP Nou T\xE0rraco","CAP Salou","CAP Sant Pere i Sant Pau","CAP Sant Salvador","CAP Santa Tecla-Llevant","CAP Tarragon\xE8s","CAP Torredembarra","CAP Torreforta-La Granja","CAP Vila-seca","CAP Bages","CAP Cardona","CAP Dr. Agust\xED Garriga","CAP Goretti Badia","CAP Les Bases de Manresa","CAP Monistrol de Montserrat","CAP Navarcles","CAP Nav\xE0s","CAP Sagrada Fam\xEDlia","CAP Sallent","CAP Sant Andreu","CAP Sant Joan de Vilatorrada","CAP Sant Vicen\xE7 de Castellet","Consultori local Castellnou de Bages","CAP Anoia","CAP Calaf","CAP Capellades","CAP Igualada Nord","CAP Piera","CAP Santa Margarida de Montbui","CAP Vilanova del Cam\xED","Consultori local Santa Margarida de Montbui","CAP Bergued\xE0","CAP Gironella","CAP Guardiola de Bergued\xE0","CAP Santa Coloma de Queralt","Consultori local Vallfogona de Riucorb","CAP Centelles","CAP El Remei","CAP Manlleu","CAP Osona","CAP Prats de Llu\xE7an\xE8s","CAP Roda de Ter","CAP Sant Hip\xF2lit de Voltreg\xE0","CAP Sant Quirze de Besora","CAP Santa Eug\xE8nia de Berga","CAP Tona","CAP Torell\xF3","CAP Solson\xE8s","CAP Can Gibert del Pla","CAP Doctor Joan Vilaplana","CAP Dr. Jordi Nadal i F\xE0bregas","CAP G\xFCell","CAP Montilivi","CAP Santa Clara","CAP Sarri\xE0 de Ter","Consultori local St. Jordi Desvalls","CAP B\xE0scara","CAP Doctor Subir\xF3s","CAP Dr. Mois\xE8s Broggi","CAP Ernest Lluch","CAP Llan\xE7\xE0","CAP Peralada","CAP Roses","CAP Vilafant","CAP Catalina Cargol","CAP Dr. Josep Alsina i Bofill","CAP La Bisbal d'Empord\xE0","CAP Sant Feliu de Gu\xEDxols","CAP Torroella de Montgr\xED","CAP Besal\xFA","CAP Garrotxa","CAP La Vall d'en Bas","CAP Sant Joan Les Fonts","Consultori local Les Planes d'Hostoles","Consultori local Tortell\xE0","CAP Cass\xE0 de la Selva","CAP Celr\xE0","CAP Balafi\xE0-Pardinyes-Sec\xE0 de Sant Pere","CAP Bordeta-Magraners","CAP Cappont","CAP Eixample","CAP Primer de Maig","CAP Rambla de Ferran","CAP Santa Maria","CAP Alcarr\xE0s","CAP Almacelles","CAP Almenar","CAP Ser\xF2s","CAP La Granadella","CAP Les Borges Blanques","CAP Artesa de Segre","CAP Balaguer","CAP Ponts","CAP Mollerussa","CAP Cervera","CAP Agramunt","CAP Bellpuig","CAP T\xE0rrega","CAP Baix Ebre","CAP Deltebre","CAP El Temple","CAP L'Aldea","CAP L'Ametlla de Mar","CAP Amposta","CAP Sant Carles de la R\xE0pita","CAP Ulldecona","CAP Flix","CAP M\xF3ra d'Ebre","Consultori local Riba-Roja d'Ebre","CAP Gandesa","CAP La Seu d'Urgell","CAP Oliana","CAP El Pont de Suert","CAP Puigcerd\xE0","Consultori local Lles de Cerdanya","CAP Pobla de Segur","CAP Tremp","CAP Sort","Consultori local Nucli de Val\xE8ncia d'\xC0neu","CAP Vielha","CUAP Horta","CUAP Sant Mart\xED","CUAP Dos de Maig","CUAP Manso","CUAP Gr\xE0cia","CUAP Cotxeres","CUAP Peracamps ","CUAP Plat\xF3","CUAP Sagrat Cor","CUAP Badalona","CUAP Santa Coloma de Gramenet","CUAP Maresme","CUAP Cerdanyola-Ripollet","CUAP Sant F\xE8lix","CUAP Baix Vall\xE8s","CUAP Cornell\xE0","CUAP Castelldefels","CUAP Hospitalet de Llobregat","CUAP Bages","CUAP Berga","CUAP Lleida","CUAP Tarragona","CUAP Reus","CUAP Cambrils","CUAP G\xFCell","CUAP Figueres","CUAP Olot","CUAP Granollers","Espitau Val d'Aran","Fund. H. Esperit St.","Fund. Puigvert","H. Cl\xEDnic Barcelona","H. Com. M\xF3ra d'Ebre","H. Com. St. Antoni Abat","H. Com. St. Bernab\xE9","H. St. Jaume Calella","H. Com. Amposta","H. Comarcal Blanes","H. Com. Alt Pened\xE8s","H. Com. Pallars","H. Dos Maig","H. P. San. St. Joan D\xE9u","H. Gen. Granollers","H. Gen. Hospitalet","H. Munic. Badalona","H. Res. St. Camil","H. St. Joan D\xE9u Esplugues","H. St. J. D\xE9u Manresa","H. St. J. D\xE9u Martorell","H. St. P. i Sta. Tecla","H. Sta. Caterina","H. Arnau Vilanova","H. Bellvitge","H. Dr. Josep Trueta","H. Vall d'Hebron","H. Germans Trias i Pujol","H. J. 23 Tarragona","H. M\xFAtua Terrassa","H. Sta. Maria","H. Igualada","H. St. J. Reus","H. Tortosa Verge Cinta","H. Vic","H. Olot i Com. Garrotxa","H. Campdev\xE0nol","H. Figueres","H. Matar\xF3","H. Mollet","H. Palam\xF3s","H. Sabadell","H. St. Celoni","H. St. J. Desp\xED Broggi","H. Terrassa","H. Viladecans","H. Esperan\xE7a","H. Sta. Creu i St. Pau","H. Mar","H. Vendrell","ICO Badalona","ICO Girona","ICO L'Hospitalet","Inst. Guttmann","Pius H. Valls"],uT=[...Rc,...Ic],dT=new Intl.Collator("ca",{sensitivity:"base"}),w1=[...uT].sort(dT.compare),B1=[...uT].sort(dT.compare);var wc=L.withScope("LocationSuggestions"),oo={ORIGIN_SUGGESTIONS:"locationSuggestions.origin",DESTINATION_SUGGESTIONS:"locationSuggestions.destination"},fT=10,mT=4,i_=6,gT=3,el=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),r_=["Barcelona","L'Hospitalet de Llobregat","Badalona","Terrassa","Sabadell","Lleida","Girona","Tarragona","Reus","Manresa","Matar\xF3","Santa Coloma de Gramenet","Cornell\xE0 de Llobregat","Sant Boi de Llobregat","Rub\xED","Vilanova i la Geltr\xFA","Viladecans","El Prat de Llobregat","Granollers","Cerdanyola del Vall\xE8s","Mollet del Vall\xE8s","Castelldefels","Gav\xE0","Martorell","Igualada","Vic","Figueres","Olot","Blanes","Lloret de Mar","Cambrils","Salou","Sitges","Roses","Palafrugell","Sant Cugat del Vall\xE8s","Esplugues de Llobregat","Sant Adri\xE0 de Bes\xF2s","Sant Feliu de Llobregat","Sant Joan Desp\xED","Sant Just Desvern","Parets del Vall\xE8s","Pineda de Mar","Calella","Castellar del Vall\xE8s","Molins de Rei","Ripollet","Berga","La Seu d'Urgell","Puigcerd\xE0","Amposta","Balaguer","Valls","La Bisbal d'Empord\xE0","Palam\xF3s","Platja d'Aro"],pT=new Map(r_.map((e,t)=>[el(e),t])),o_=pT.size+100,s_=e=>{let t=el(e);return t=t.replace(/hospital comarcal/g,"h. com.").replace(/hospital universitari/g,"h. u.").replace(/hospital general/g,"h. gen.").replace(/hospital/g,"h.").replace(/comarcal/g,"com.").replace(/universitari/g,"u.").replace(/general/g,"gen.").replace(/sant /g,"st. ").replace(/santa /g,"sta. "),[t]},Hm=class{constructor(){this.originSuggestions=this.loadSuggestions(oo.ORIGIN_SUGGESTIONS),this.destinationSuggestions=this.loadSuggestions(oo.DESTINATION_SUGGESTIONS),this.destinationLookup=this.createDestinationLookup(),this.destinationSuggestions=this.destinationSuggestions.map(t=>this.destinationLookup.get(el(t))||null).filter(Boolean),this.saveSuggestions(oo.DESTINATION_SUGGESTIONS,this.destinationSuggestions),this.currentDropdown=null,this.currentInput=null,this.selectedIndex=-1,this.inputDebounceTimer=null,this.scrollAnimationFrame=null,this.visibilityTimeout=null,this.handleWindowScroll=()=>{!this.currentDropdown||!this.currentInput||this.scheduleDropdownReposition()},this.handleWindowResize=()=>{!this.currentDropdown||!this.currentInput||(this.scheduleDropdownReposition(),this.scheduleDropdownVisibilityCheck())},this.handleViewportShift=()=>{!this.currentDropdown||!this.currentInput||(this.scheduleDropdownReposition(),this.scheduleDropdownVisibilityCheck())}}createDestinationLookup(){let t=new Map;return Ic.forEach(a=>{t.set(el(a),a)}),t}loadSuggestions(t){try{let a=localStorage.getItem(t);return a?JSON.parse(a):[]}catch(a){return wc.warn(`Error carregant suggeriments per ${t}:`,a),[]}}saveSuggestions(t,a){try{localStorage.setItem(t,JSON.stringify(a))}catch(n){wc.warn(`Error guardant suggeriments per ${t}:`,n)}}addSuggestion(t,a){if(!a||a.trim().length<2)return;let n=a.trim(),l;if(t==="origin")l=this.originSuggestions;else if(t==="destination"){l=this.destinationSuggestions;let r=this.destinationLookup.get(el(n));if(!r){wc.warn(`Dest\xED no reconegut. Nom\xE9s s'accepten centres sanitaris p\xFAblics. Valor rebut: "${n}"`);return}n=r}else return;let i=l.indexOf(n);i>-1&&l.splice(i,1),l.unshift(n),l.length>fT&&(l=l.slice(0,fT)),t==="origin"?(this.originSuggestions=l,this.saveSuggestions(oo.ORIGIN_SUGGESTIONS,l)):(this.destinationSuggestions=l,this.saveSuggestions(oo.DESTINATION_SUGGESTIONS,l)),this.updateDatalistForType(t)}getSuggestions(t){return t==="origin"?[...this.originSuggestions]:t==="destination"?[...this.destinationSuggestions]:[]}updateDatalists(){this.updateDatalistForType("origin"),this.updateDatalistForType("destination")}getBaseLocations(t){return t==="origin"?Rc:Ic}calculateMatchScore(t,a,n,l,i){let r=pT.get(t)??o_,o=/,\s*(el|la|els|les|l')$/i.test(l)?1:0,s=l.includes("-")?1:0,c=a.length>1?0:1;if(!n.length)return{category:0,popularityRank:r,articlePenalty:o,hyphenPenalty:s,multiWordPenalty:c,prefixLengthPenalty:0};let d=u=>u?t.startsWith(u)?0:a.some(g=>g.startsWith(u))?1:2:3;return n.reduce((u,g)=>{let h=-1/0;g.forEach(E=>{h=Math.max(h,d(E))});let v=g[0]?.length??i.primaryLength??0,D=a[0]??"",m=v>0&&D.startsWith(g[0]??"")?Math.abs(D.length-v):D.length,f={category:Number.isFinite(h)?h:3,popularityRank:r,articlePenalty:o,hyphenPenalty:s,multiWordPenalty:c,prefixLengthPenalty:m};return u?this.compareScores(f,u)<0?f:u:f},null)||{category:3,popularityRank:r,articlePenalty:o,hyphenPenalty:s,multiWordPenalty:c,prefixLengthPenalty:a[0]?.length??99}}compareScores(t,a){return t.category!==a.category?t.category-a.category:t.popularityRank!==a.popularityRank?t.popularityRank-a.popularityRank:t.articlePenalty!==a.articlePenalty?t.articlePenalty-a.articlePenalty:t.hyphenPenalty!==a.hyphenPenalty?t.hyphenPenalty-a.hyphenPenalty:t.multiWordPenalty!==a.multiWordPenalty?t.multiWordPenalty-a.multiWordPenalty:t.prefixLengthPenalty!==a.prefixLengthPenalty?t.prefixLengthPenalty-a.prefixLengthPenalty:0}getSuggestionsForInput(t,a="",n={}){if(!n.onlyRecent&&a.trim().length<gT)return[];let l=s_(a).map(u=>u.split(/\s+/).map(g=>g.trim()).filter(Boolean)).filter(u=>u.length>0),i=el(a.trim()),o={primaryLength:i.split(/\s+/).map(u=>u.trim()).filter(Boolean)[0]?.length??i.length??0},s=t==="origin"?Rc:this.getBaseLocations(t),c=[],d=new Set,p=(u,g)=>{if(!u)return;let h=u.trim();if(!h)return;let v=el(h),D=v.split(/[\s,\/'.-]+/).map(E=>E.trim()).filter(Boolean);if(!(l.length===0||l.some(E=>E.every(S=>v.includes(S))))||d.has(v))return;d.add(v);let f=this.calculateMatchScore(v,D,l,h,o);c.push({value:h,score:f,index:g})};return s.forEach((u,g)=>p(u,g)),c.sort((u,g)=>{let h=this.compareScores(u.score,g.score);return h!==0?h:u.index-g.index}).slice(0,mT).map(u=>u.value)}getRecentSuggestions(t,a=i_){return(t==="origin"?this.originSuggestions:this.destinationSuggestions).slice(0,a)}updateDatalistForType(t,a="",n={}){let l=t==="origin"?"origin-datalist":"destination-datalist",i;n.onlyRecent?(i=this.getRecentSuggestions(t),i.length||(i=this.getBaseLocations(t).slice(0,mT))):i=this.getSuggestionsForInput(t,a),this.updateDatalist(l,i)}updateDatalist(t,a){let n=document.getElementById(t);n&&(n.innerHTML="",a.forEach(l=>{let i=document.createElement("option");i.value=l,n.appendChild(i)}))}calculateDropdownZIndex(){return 850}getFixedHeadersOffset(){let t=[".top-bar",".tabs-container"],a=0;return t.forEach(n=>{let l=document.querySelector(n);if(!l)return;let i=l.getBoundingClientRect();i.bottom>a&&(a=i.bottom)}),Math.max(a,0)}createCustomDropdown(t,a){if(!a||a.length===0){this.closeDropdown();return}if(this.currentDropdown&&this.currentInput===t){this.updateDropdownOptions(this.currentDropdown,a,t);return}this.closeDropdown();let n=document.createElement("div");n.className="custom-location-dropdown",n.id="custom-location-dropdown";let l=t.getBoundingClientRect();n.style.position="fixed",n.style.top=`${l.bottom}px`,n.style.left=`${l.left}px`,n.style.width=`${l.width}px`,n.style.zIndex=String(this.calculateDropdownZIndex()),t.classList.add("has-dropdown-open"),this.updateDropdownOptions(n,a,t),document.body.appendChild(n),this.currentDropdown=n,this.currentInput=t,this.selectedIndex=-1,this.ensureDropdownVisibility(n,t),this.scheduleDropdownVisibilityCheck(),setTimeout(()=>{document.addEventListener("click",this.handleOutsideClick.bind(this))},0)}updateDropdownOptions(t,a,n){t.innerHTML="",a.forEach((l,i)=>{let r=document.createElement("div");r.className="custom-dropdown-option",r.textContent=l,r.dataset.index=i,r.addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),n.value=l,n.dispatchEvent(new Event("change",{bubbles:!0})),this.closeDropdown()}),r.addEventListener("mouseenter",()=>{this.selectedIndex=i,this.updateSelectedOption(t)}),t.appendChild(r)})}scheduleDropdownReposition(){this.scrollAnimationFrame||(this.scrollAnimationFrame=window.requestAnimationFrame(()=>{if(this.scrollAnimationFrame=null,!(!this.currentDropdown||!this.currentInput)){if(!document.body.contains(this.currentInput)){this.closeDropdown();return}this.repositionDropdown()}}))}scheduleDropdownVisibilityCheck(){this.visibilityTimeout&&clearTimeout(this.visibilityTimeout),this.visibilityTimeout=setTimeout(()=>{this.visibilityTimeout=null,!(!this.currentDropdown||!this.currentInput)&&this.ensureDropdownVisibility(this.currentDropdown,this.currentInput)},160)}repositionDropdown(){if(!this.currentDropdown||!this.currentInput)return;let t=this.currentInput.getBoundingClientRect();this.currentDropdown.style.top=`${t.bottom}px`,this.currentDropdown.style.left=`${t.left}px`,this.currentDropdown.style.width=`${t.width}px`}ensureDropdownVisibility(t,a){let n=window.visualViewport,l=n?.height??window.innerHeight,i=n?.offsetTop??0,r=this.getFixedHeadersOffset(),o=t.getBoundingClientRect(),s=o.top+i,c=s+o.height,d=12,p=16,u=document.scrollingElement||document.documentElement||document.body,g=window.scrollY,h=Math.max((u?.scrollHeight??document.body.scrollHeight)-l,0),v=r+d-s;if(v>0){let C=Math.max(g-v,0);C!==g&&window.scrollTo({top:C,behavior:"smooth"});return}let D=i+l,m=c-(D-p);if(m>0){let C=Math.min(g+m,h);C!==g&&window.scrollTo({top:C,behavior:"smooth"});return}let E=a.getBoundingClientRect().top+i,S=r+d;if(E<S){let C=S-E,I=Math.max(g-C,0);I!==g&&window.scrollTo({top:I,behavior:"smooth"})}}updateSelectedOption(t){if(!t)return;t.querySelectorAll(".custom-dropdown-option").forEach((n,l)=>{l===this.selectedIndex?n.classList.add("selected"):n.classList.remove("selected")})}closeDropdown(){this.currentDropdown&&(this.currentDropdown.remove(),this.currentDropdown=null,this.scrollAnimationFrame&&(cancelAnimationFrame(this.scrollAnimationFrame),this.scrollAnimationFrame=null),this.visibilityTimeout&&(clearTimeout(this.visibilityTimeout),this.visibilityTimeout=null),this.currentInput&&this.currentInput.classList.remove("has-dropdown-open"),this.currentInput=null,this.selectedIndex=-1,document.removeEventListener("click",this.handleOutsideClick.bind(this)))}handleOutsideClick(t){this.currentDropdown&&!this.currentDropdown.contains(t.target)&&t.target!==this.currentInput&&this.closeDropdown()}handleKeyboardNavigation(t,a){if(!a)return;let n=a.querySelectorAll(".custom-dropdown-option");switch(t.key){case"ArrowDown":t.preventDefault(),this.selectedIndex=Math.min(this.selectedIndex+1,n.length-1),this.updateSelectedOption(a),n[this.selectedIndex]?.scrollIntoView({block:"nearest"});break;case"ArrowUp":t.preventDefault(),this.selectedIndex=Math.max(this.selectedIndex-1,-1),this.updateSelectedOption(a),this.selectedIndex>=0&&n[this.selectedIndex]?.scrollIntoView({block:"nearest"});break;case"Enter":if(t.preventDefault(),this.selectedIndex>=0&&n[this.selectedIndex]){let l=n[this.selectedIndex].textContent;this.currentInput.value=l,this.currentInput.dispatchEvent(new Event("change",{bubbles:!0})),this.closeDropdown()}break;case"Escape":t.preventDefault(),this.closeDropdown();break}}init(){wc.info("Inicialitzant servei de suggeriments de localitzacions"),this.createDatalists(),this.updateDatalists(),this.addInputListeners()}createDatalists(){let t=document.querySelectorAll(".origin"),a=document.querySelectorAll(".destination");t.forEach(n=>{n.setAttribute("autocomplete","off"),n.removeAttribute("list")}),a.forEach(n=>{n.setAttribute("autocomplete","off"),n.removeAttribute("list")})}addInputListeners(){document.addEventListener("focus",t=>{let a=t.target;a instanceof HTMLInputElement&&(a.classList.contains("origin")||a.classList.contains("destination"))&&this.closeDropdown()},!0),document.addEventListener("input",t=>{let a=t.target;if(!(a instanceof HTMLInputElement))return;let n=null;if(a.classList.contains("origin")?n="origin":a.classList.contains("destination")&&(n="destination"),n){let l=a.value.trim();this.inputDebounceTimer&&clearTimeout(this.inputDebounceTimer),l.length>=gT?this.inputDebounceTimer=setTimeout(()=>{let i=this.getSuggestionsForInput(n,l);this.createCustomDropdown(a,i)},300):this.closeDropdown()}}),document.addEventListener("keydown",t=>{let a=t.target;a instanceof HTMLInputElement&&(a.classList.contains("origin")||a.classList.contains("destination"))&&this.currentDropdown&&this.handleKeyboardNavigation(t,this.currentDropdown)}),window.addEventListener("scroll",this.handleWindowScroll,!0),window.addEventListener("resize",this.handleWindowResize),window.visualViewport&&(window.visualViewport.addEventListener("resize",this.handleViewportShift),window.visualViewport.addEventListener("scroll",this.handleViewportShift))}},c_=new Hm,ET=()=>c_.init();var _a=L.withScope("BackupService"),u_="diet-backups",d_=1,f_=5;async function m_(){return new Promise((e,t)=>{let a=indexedDB.open(u_,d_);a.onerror=()=>{_a.error("Error obrint base de dades de backups"),t(a.error)},a.onsuccess=()=>{e(a.result)},a.onupgradeneeded=n=>{let l=n.target.result;if(!l.objectStoreNames.contains("backups")){let i=l.createObjectStore("backups",{keyPath:"id",autoIncrement:!0});i.createIndex("timestamp","timestamp",{unique:!1}),i.createIndex("type","type",{unique:!1}),_a.debug("Object store de backups creat")}}})}async function g_(e){try{let a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){return _a.error("Error calculant checksum:",t),""}}async function p_(e=null,t="manual"){try{_a.debug(`Creant backup tipus "${t}"...`),e||(e=await ul());let a=JSON.stringify(e),n=await g_(a),l={version:"2.0.1",type:t,timestamp:Date.now(),date:new Date().toISOString(),totalDiets:e.length,data:e,checksum:n,metadata:{userAgent:navigator.userAgent,platform:navigator.platform}};return await E_(l),_a.debug(`\u2705 Backup creat: ${e.length} dietes, ${(a.length/1024).toFixed(2)} KB`),l}catch(a){throw _a.error("Error creant backup:",a),a}}async function E_(e){let t=await m_();return new Promise((a,n)=>{let i=t.transaction(["backups"],"readwrite").objectStore("backups"),r=i.add(e);r.onsuccess=async()=>{await h_(i),a()},r.onerror=()=>n(r.error)})}async function h_(e){return new Promise(t=>{let n=e.index("timestamp").openCursor(null,"prev"),l=0,i=[];n.onsuccess=r=>{let o=r.target.result;o?(l++,l>f_&&i.push(o.primaryKey),o.continue()):(i.forEach(s=>e.delete(s)),i.length>0&&_a.debug(`Netejats ${i.length} backups antics`),t())}})}async function hT(e){_a.debug("\u{1F4BE} Creant backup de seguretat abans de migraci\xF3...");let t=await p_(e,"pre-migration");return _a.debug("\u2705 Backup de seguretat creat"),t}Ot();var oe=L.withScope("DataMigration"),S_="migration-v2.0.1-encryption",y_="migration-progress",ST=3,v_=1e3,Gm=class{constructor(){this.migrationKey=S_,this.migrationStatus=null,this.isRunning=!1}async runIfNeeded(){if(this.isRunning)return oe.debug("Migraci\xF3 ja en curs, saltant..."),{alreadyRunning:!0};if(await this.isAlreadyMigrated())return oe.debug("\u2705 Migraci\xF3 ja completada anteriorment"),{alreadyMigrated:!0};oe.debug("\u{1F50D} Comprovant si cal migrar dietes...");try{this.isRunning=!0,await vn()||(oe.debug("\u{1F510} Inicialitzant sistema de claus..."),await yn());let t=await ul(),a=t.filter(l=>!To(l));return a.length===0?(oe.debug("\u2705 No hi ha dietes per migrar"),await this.markAsMigrated(),{migrated:0,total:t.length,errors:0}):(oe.debug(`\u{1F4CA} Trobades ${a.length} dietes per migrar (de ${t.length} totals)`),await this.migrate(a))}catch(t){throw oe.error("\u274C Error en runIfNeeded:",t),t}finally{this.isRunning=!1}}async migrate(t){let a=t.length,n=0,l=0,i=[];try{oe.debug("\u{1F4BE} Creant backup de seguretat..."),await hT(t),oe.debug("\u2705 Backup de seguretat creat"),this.showMigrationStartNotification(a);let r=await Ma();for(let o=0;o<t.length;o++){let s=t[o];try{let c=await this.migrateSingleDietWithRetry(s,r);c.success?n++:(l++,i.push({dietId:s.id,error:c.error,attempts:c.attempts})),(n%5===0||n===a)&&this.updateMigrationProgress(n,a)}catch(c){oe.error(`\u274C Error cr\xEDtic migrant dieta ${s.id}:`,c),l++,i.push({dietId:s.id,error:c.message,attempts:ST})}}return await this.markAsMigrated(),this.showMigrationResult(n,l,a),oe.debug(`\u2705 Migraci\xF3 completada: ${n}/${a} (${l} errors)`),{migrated:n,errors:l,total:a,errorDetails:i.length>0?i:void 0}}catch(r){throw oe.error("\u274C Error durant la migraci\xF3:",r),this.showMigrationError(r),r}}async migrateSingleDietWithRetry(t,a,n=ST){for(let l=1;l<=n;l++)try{return oe.debug(`Intent ${l}/${n} per dieta ${t.id}`),await this.migrateSingleDiet(t,a),oe.debug(`\u2705 Dieta ${t.id} migrada (intent ${l})`),{success:!0,attempts:l}}catch(i){if(oe.warn(`\u26A0\uFE0F Intent ${l}/${n} fallat per dieta ${t.id}: ${i.message}`),l===n)return oe.error(`\u274C Dieta ${t.id} no s'ha pogut migrar despr\xE9s de ${n} intents`),{success:!1,error:i.message,attempts:l};let r=v_*l;oe.debug(`\u23F3 Esperant ${r}ms abans de reintentar...`),await new Promise(o=>setTimeout(o,r))}return{success:!1,error:"Unknown error during migration",attempts:n}}async migrateSingleDiet(t,a){try{let n=await Ao(t,a),l=await Co(n,a),i=this.extractSensitiveData(t),r=this.extractSensitiveData(l),o=JSON.stringify(i),s=JSON.stringify(r);if(o!==s)throw new Error("Validation failed: data mismatch after decrypt");await Oo(t.id,n),oe.debug(`\u2705 Dieta ${t.id} migrada i validada`)}catch(n){throw oe.error(`Error migrant dieta ${t.id}:`,n),n}}extractSensitiveData(t){return{person1:t.person1||"",person2:t.person2||"",vehicleNumber:t.vehicleNumber||"",signatureConductor:t.signatureConductor||"",signatureAjudant:t.signatureAjudant||"",services:(t.services||[]).map(a=>({serviceNumber:a.serviceNumber||"",origin:a.origin||"",destination:a.destination||"",notes:a.notes||""}))}}showMigrationStartNotification(t){A(`\u{1F512} Protegint ${t} dietes...`,{duration:2e3,type:"info"})}updateMigrationProgress(t,a){let n=Math.round(t/a*100);oe.debug(`\u{1F504} Migraci\xF3: ${t}/${a} (${n}%)`),A(`\u{1F512} Protegint dades... ${t}/${a}`,{duration:1e3,id:y_,type:"info"})}showMigrationResult(t,a,n){a===0?A(`\u2705 ${t} dietes ara estan protegides`,{duration:4e3,type:"success"}):t>0&&a<n?A(`\u26A0\uFE0F ${t}/${n} dietes protegides. ${a} amb errors (es reintentaran autom\xE0ticament)`,{duration:7e3,type:"warning"}):t===0?A("\u274C No s'han pogut migrar les dietes. Proveu recarregar la p\xE0gina.",{duration:8e3,type:"error"}):A(`\u2139\uFE0F ${t} dietes migrades, ${a} amb errors`,{duration:5e3,type:"warning"})}showMigrationError(t){A(`\u274C Error en la migraci\xF3: ${t.message}`,{duration:5e3,type:"error"})}async isAlreadyMigrated(){return localStorage.getItem(this.migrationKey)==="completed"}async markAsMigrated(){localStorage.setItem(this.migrationKey,"completed"),localStorage.setItem(`${this.migrationKey}-date`,new Date().toISOString()),oe.debug("\u2705 Migraci\xF3 marcada com a completada")}async resetMigrationStatus(){localStorage.removeItem(this.migrationKey),localStorage.removeItem(`${this.migrationKey}-date`),oe.warn("\u26A0\uFE0F Estat de migraci\xF3 resetejat")}getMigrationStatus(){let t=localStorage.getItem(this.migrationKey)==="completed",a=localStorage.getItem(`${this.migrationKey}-date`);return{completed:t,date:a?new Date(a):null,isRunning:this.isRunning}}},yT=new Gm;var qm=L.withScope("KeySystemDebug");async function T_(){return qm.warn("debugKeySystem() nom\xE9s est\xE0 disponible en mode desenvolupament"),null}async function A_(){return qm.warn("fixKeySystem() nom\xE9s est\xE0 disponible en mode desenvolupament"),!1}function vT(){typeof window<"u"&&(window.debugKeySystem=T_,window.fixKeySystem=A_,qm.debug(`\u{1F6E0}\uFE0F Funcions de debug disponibles:
  - debugKeySystem() - Mostra estat del sistema
  - fixKeySystem() - Reseteja sistema de claus`))}var Be=L.withScope("Init");function C_(){let e=document.getElementById(X.DONATION_LINK_ID);if(!e)return Be.warn("No s'ha trobat l'enlla\xE7 de donaci\xF3.");let t=tT();try{let a=new URL(e.href);a.searchParams.set("custom",t),e.href=a.toString(),Be.info("Enlla\xE7 de donaci\xF3 actualitzat amb ID an\xF2nim.")}catch(a){Be.error("Error modificant l'URL de donaci\xF3:",a)}}async function TT(){try{Be.info("initializeApp() iniciant...");let e=!0;if(!Do())e=!1,Ba.setEncryptionSupport(!1,"\u26A0\uFE0F Aquest navegador no permet inicialitzar l'encriptaci\xF3 (IndexedDB o WebCrypto no disponibles). Les dotacions es guardaran sense xifrar."),Be.warn("Entorn sense suport d'encriptaci\xF3. Es continua sense xifrar dotacions.",new Error("Unsupported encryption environment"));else try{Be.debug("\u{1F510} Inicialitzant sistema de claus..."),await yn(),Be.debug("\u2705 Sistema de claus inicialitzat")}catch(a){e=!1;let n=a instanceof Wt&&a.message?`\u26A0\uFE0F ${a.message} Les dotacions es guardaran sense xifrar temporalment.`:"\u26A0\uFE0F No s'ha pogut inicialitzar l'encriptaci\xF3. Les dotacions es guardaran sense xifrar fins que es resolgui el problema.";Ba.setEncryptionSupport(!1,n),Be.warn("Error inicialitzant sistema de claus (continuant sense encriptaci\xF3):",a)}Ig(),wg(),await yg(),setTimeout(async()=>{try{Be.debug("\u{1F504} Executant migraci\xF3 autom\xE0tica...");let a=await yT.runIfNeeded();Be.debug("\u{1F4CA} Resultat migraci\xF3:",a)}catch(a){Be.error("Error en migraci\xF3 autom\xE0tica:",a)}},1e3),lg(),Np(),await Ba.init(),Wv(),ET(),Bp(),Cp(),Vp(),Hp(),lT(),Tp(),setTimeout(()=>{np()},100),Gp(),qp(),Fp(),zp(),C_(),setTimeout(async()=>{try{let a=await Cg(30);a>0&&Be.info(`Auto-cleanup: ${a} dietes antigues eliminades de la paperera`)}catch(a){Be.error("Error en auto-cleanup de paperera:",a)}},2e3),Yp(),Wm(),Mp(),Rp(),Ip();let t=document.getElementById("service-type");if(t){let a=localStorage.getItem(Km.USER_SELECTED_SERVICE_TYPE);(a==="TSU"||a==="TSNU")&&(t.value=a,Be.debug(`[LocalStorage] Carregat tipus de servei: ${a}`)),ol(t.value)}fl(),Bg(),cT(),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&(vT(),Be.debug("\u{1F6E0}\uFE0F Funcions de debug exposades (mode development)")),Be.info("initializeApp() completada.")}catch(e){Be.error("Error en la inicialitzaci\xF3 de l'app:",e)}}if(typeof console<"u"){let e=console.warn;console.warn=function(...t){let a=t[0];typeof a=="string"&&a.includes("Ignored attempt to cancel a touchmove event")||e.apply(console,t)}}window.getOCRFeedbackManager=no;window.createOCRFeedbackManager=Om;window.destroyOCRFeedbackManager=Hv;async function AT(){try{document.body.classList.add("app-ready"),document.body.classList.remove("no-js"),await TT(),Hg()}catch{window.location.reload()}}function b_(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",AT,{once:!0}):AT()}b_();
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
