(()=>{var KE=Object.create;var cc=Object.defineProperty;var qE=Object.getOwnPropertyDescriptor;var QE=Object.getOwnPropertyNames;var ZE=Object.getPrototypeOf,JE=Object.prototype.hasOwnProperty;var cn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var bE=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of QE(t))!JE.call(e,o)&&o!==n&&cc(e,o,{get:()=>t[o],enumerable:!(r=qE(t,o))||r.enumerable});return e};var dc=(e,t,n)=>(n=e!=null?KE(ZE(e)):{},bE(t||!e||!e.__esModule?cc(n,"default",{value:e,enumerable:!0}):n,e));var Sf=cn(A=>{"use strict";var ro=Symbol.for("react.element"),jg=Symbol.for("react.portal"),$g=Symbol.for("react.fragment"),Wg=Symbol.for("react.strict_mode"),Xg=Symbol.for("react.profiler"),Yg=Symbol.for("react.provider"),Kg=Symbol.for("react.context"),qg=Symbol.for("react.forward_ref"),Qg=Symbol.for("react.suspense"),Zg=Symbol.for("react.memo"),Jg=Symbol.for("react.lazy"),uf=Symbol.iterator;function bg(e){return e===null||typeof e!="object"?null:(e=uf&&e[uf]||e["@@iterator"],typeof e=="function"?e:null)}var ff={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pf=Object.assign,mf={};function sr(e,t,n){this.props=e,this.context=t,this.refs=mf,this.updater=n||ff}sr.prototype.isReactComponent={};sr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ef(){}Ef.prototype=sr.prototype;function Gs(e,t,n){this.props=e,this.context=t,this.refs=mf,this.updater=n||ff}var js=Gs.prototype=new Ef;js.constructor=Gs;pf(js,sr.prototype);js.isPureReactComponent=!0;var cf=Array.isArray,hf=Object.prototype.hasOwnProperty,$s={current:null},gf={key:!0,ref:!0,__self:!0,__source:!0};function vf(e,t,n){var r,o={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)hf.call(t,r)&&!gf.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:ro,type:e,key:i,ref:l,props:o,_owner:$s.current}}function ev(e,t){return{$$typeof:ro,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ws(e){return typeof e=="object"&&e!==null&&e.$$typeof===ro}function tv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var df=/\/+/g;function Hs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tv(""+e.key):t.toString(36)}function _i(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ro:case jg:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+Hs(l,0):r,cf(o)?(n="",e!=null&&(n=e.replace(df,"$&/")+"/"),_i(o,t,n,"",function(u){return u})):o!=null&&(Ws(o)&&(o=ev(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(df,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",cf(e))for(var s=0;s<e.length;s++){i=e[s];var a=r+Hs(i,s);l+=_i(i,t,n,a,o)}else if(a=bg(e),typeof a=="function")for(e=a.call(e),s=0;!(i=e.next()).done;)i=i.value,a=r+Hs(i,s++),l+=_i(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ti(e,t,n){if(e==null)return e;var r=[],o=0;return _i(e,r,"","",function(i){return t.call(n,i,o++)}),r}function nv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ye={current:null},Ii={transition:null},rv={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:Ii,ReactCurrentOwner:$s};function yf(){throw Error("act(...) is not supported in production builds of React.")}A.Children={map:Ti,forEach:function(e,t,n){Ti(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ti(e,function(){t++}),t},toArray:function(e){return Ti(e,function(t){return t})||[]},only:function(e){if(!Ws(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};A.Component=sr;A.Fragment=$g;A.Profiler=Xg;A.PureComponent=Gs;A.StrictMode=Wg;A.Suspense=Qg;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rv;A.act=yf;A.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pf({},e.props),o=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=$s.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)hf.call(t,a)&&!gf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:ro,type:e.type,key:o,ref:i,props:r,_owner:l}};A.createContext=function(e){return e={$$typeof:Kg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yg,_context:e},e.Consumer=e};A.createElement=vf;A.createFactory=function(e){var t=vf.bind(null,e);return t.type=e,t};A.createRef=function(){return{current:null}};A.forwardRef=function(e){return{$$typeof:qg,render:e}};A.isValidElement=Ws;A.lazy=function(e){return{$$typeof:Jg,_payload:{_status:-1,_result:e},_init:nv}};A.memo=function(e,t){return{$$typeof:Zg,type:e,compare:t===void 0?null:t}};A.startTransition=function(e){var t=Ii.transition;Ii.transition={};try{e()}finally{Ii.transition=t}};A.unstable_act=yf;A.useCallback=function(e,t){return ye.current.useCallback(e,t)};A.useContext=function(e){return ye.current.useContext(e)};A.useDebugValue=function(){};A.useDeferredValue=function(e){return ye.current.useDeferredValue(e)};A.useEffect=function(e,t){return ye.current.useEffect(e,t)};A.useId=function(){return ye.current.useId()};A.useImperativeHandle=function(e,t,n){return ye.current.useImperativeHandle(e,t,n)};A.useInsertionEffect=function(e,t){return ye.current.useInsertionEffect(e,t)};A.useLayoutEffect=function(e,t){return ye.current.useLayoutEffect(e,t)};A.useMemo=function(e,t){return ye.current.useMemo(e,t)};A.useReducer=function(e,t,n){return ye.current.useReducer(e,t,n)};A.useRef=function(e){return ye.current.useRef(e)};A.useState=function(e){return ye.current.useState(e)};A.useSyncExternalStore=function(e,t,n){return ye.current.useSyncExternalStore(e,t,n)};A.useTransition=function(){return ye.current.useTransition()};A.version="18.3.1"});var Xs=cn((gT,Tf)=>{"use strict";Tf.exports=Sf()});var Rf=cn(M=>{"use strict";function Qs(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(0<Ni(o,t))e[r]=t,e[n]=o,n=r;else break e}}function Ze(e){return e.length===0?null:e[0]}function Di(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var l=2*(r+1)-1,s=e[l],a=l+1,u=e[a];if(0>Ni(s,n))a<o&&0>Ni(u,s)?(e[r]=u,e[a]=n,r=a):(e[r]=s,e[l]=n,r=l);else if(a<o&&0>Ni(u,n))e[r]=u,e[a]=n,r=a;else break e}}return t}function Ni(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(_f=performance,M.unstable_now=function(){return _f.now()}):(Ys=Date,If=Ys.now(),M.unstable_now=function(){return Ys.now()-If});var _f,Ys,If,it=[],Gt=[],ov=1,Ve=null,ce=3,Li=!1,Tn=!1,io=!1,Df=typeof setTimeout=="function"?setTimeout:null,Lf=typeof clearTimeout=="function"?clearTimeout:null,Nf=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Zs(e){for(var t=Ze(Gt);t!==null;){if(t.callback===null)Di(Gt);else if(t.startTime<=e)Di(Gt),t.sortIndex=t.expirationTime,Qs(it,t);else break;t=Ze(Gt)}}function Js(e){if(io=!1,Zs(e),!Tn)if(Ze(it)!==null)Tn=!0,ea(bs);else{var t=Ze(Gt);t!==null&&ta(Js,t.startTime-e)}}function bs(e,t){Tn=!1,io&&(io=!1,Lf(lo),lo=-1),Li=!0;var n=ce;try{for(Zs(t),Ve=Ze(it);Ve!==null&&(!(Ve.expirationTime>t)||e&&!Of());){var r=Ve.callback;if(typeof r=="function"){Ve.callback=null,ce=Ve.priorityLevel;var o=r(Ve.expirationTime<=t);t=M.unstable_now(),typeof o=="function"?Ve.callback=o:Ve===Ze(it)&&Di(it),Zs(t)}else Di(it);Ve=Ze(it)}if(Ve!==null)var i=!0;else{var l=Ze(Gt);l!==null&&ta(Js,l.startTime-t),i=!1}return i}finally{Ve=null,ce=n,Li=!1}}var wi=!1,Ci=null,lo=-1,wf=5,Af=-1;function Of(){return!(M.unstable_now()-Af<wf)}function Ks(){if(Ci!==null){var e=M.unstable_now();Af=e;var t=!0;try{t=Ci(!0,e)}finally{t?oo():(wi=!1,Ci=null)}}else wi=!1}var oo;typeof Nf=="function"?oo=function(){Nf(Ks)}:typeof MessageChannel<"u"?(qs=new MessageChannel,Cf=qs.port2,qs.port1.onmessage=Ks,oo=function(){Cf.postMessage(null)}):oo=function(){Df(Ks,0)};var qs,Cf;function ea(e){Ci=e,wi||(wi=!0,oo())}function ta(e,t){lo=Df(function(){e(M.unstable_now())},t)}M.unstable_IdlePriority=5;M.unstable_ImmediatePriority=1;M.unstable_LowPriority=4;M.unstable_NormalPriority=3;M.unstable_Profiling=null;M.unstable_UserBlockingPriority=2;M.unstable_cancelCallback=function(e){e.callback=null};M.unstable_continueExecution=function(){Tn||Li||(Tn=!0,ea(bs))};M.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wf=0<e?Math.floor(1e3/e):5};M.unstable_getCurrentPriorityLevel=function(){return ce};M.unstable_getFirstCallbackNode=function(){return Ze(it)};M.unstable_next=function(e){switch(ce){case 1:case 2:case 3:var t=3;break;default:t=ce}var n=ce;ce=t;try{return e()}finally{ce=n}};M.unstable_pauseExecution=function(){};M.unstable_requestPaint=function(){};M.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=ce;ce=e;try{return t()}finally{ce=n}};M.unstable_scheduleCallback=function(e,t,n){var r=M.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,e={id:ov++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},n>r?(e.sortIndex=n,Qs(Gt,e),Ze(it)===null&&e===Ze(Gt)&&(io?(Lf(lo),lo=-1):io=!0,ta(Js,n-r))):(e.sortIndex=o,Qs(it,e),Tn||Li||(Tn=!0,ea(bs))),e};M.unstable_shouldYield=Of;M.unstable_wrapCallback=function(e){var t=ce;return function(){var n=ce;ce=t;try{return e.apply(this,arguments)}finally{ce=n}}}});var xf=cn((yT,Pf)=>{"use strict";Pf.exports=Rf()});var UE=cn(Me=>{"use strict";var iv=Xs(),xe=xf();function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vp=new Set,Ao={};function kn(e,t){wr(e,t),wr(e+"Capture",t)}function wr(e,t){for(Ao[e]=t,e=0;e<t.length;e++)Vp.add(t[e])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Na=Object.prototype.hasOwnProperty,lv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kf={},Mf={};function sv(e){return Na.call(Mf,e)?!0:Na.call(kf,e)?!1:lv.test(e)?Mf[e]=!0:(kf[e]=!0,!1)}function av(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uv(e,t,n,r){if(t===null||typeof t>"u"||av(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _e(e,t,n,r,o,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){se[e]=new _e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];se[t]=new _e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){se[e]=new _e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){se[e]=new _e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){se[e]=new _e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){se[e]=new _e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){se[e]=new _e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){se[e]=new _e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){se[e]=new _e(e,5,!1,e.toLowerCase(),null,!1,!1)});var hu=/[\-:]([a-z])/g;function gu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hu,gu);se[t]=new _e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hu,gu);se[t]=new _e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hu,gu);se[t]=new _e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){se[e]=new _e(e,1,!1,e.toLowerCase(),null,!1,!1)});se.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){se[e]=new _e(e,1,!1,e.toLowerCase(),null,!0,!0)});function vu(e,t,n,r){var o=se.hasOwnProperty(t)?se[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uv(t,n,o,r)&&(n=null),r||o===null?sv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rt=iv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ai=Symbol.for("react.element"),cr=Symbol.for("react.portal"),dr=Symbol.for("react.fragment"),yu=Symbol.for("react.strict_mode"),Ca=Symbol.for("react.profiler"),Hp=Symbol.for("react.provider"),Gp=Symbol.for("react.context"),Su=Symbol.for("react.forward_ref"),Da=Symbol.for("react.suspense"),La=Symbol.for("react.suspense_list"),Tu=Symbol.for("react.memo"),$t=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var jp=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Bf=Symbol.iterator;function so(e){return e===null||typeof e!="object"?null:(e=Bf&&e[Bf]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,na;function ho(e){if(na===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);na=t&&t[1]||""}return`
`+na+e}var ra=!1;function oa(e,t){if(!e||ra)return"";ra=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),l=o.length-1,s=i.length-1;1<=l&&0<=s&&o[l]!==i[s];)s--;for(;1<=l&&0<=s;l--,s--)if(o[l]!==i[s]){if(l!==1||s!==1)do if(l--,s--,0>s||o[l]!==i[s]){var a=`
`+o[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=s);break}}}finally{ra=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ho(e):""}function cv(e){switch(e.tag){case 5:return ho(e.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return e=oa(e.type,!1),e;case 11:return e=oa(e.type.render,!1),e;case 1:return e=oa(e.type,!0),e;default:return""}}function wa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dr:return"Fragment";case cr:return"Portal";case Ca:return"Profiler";case yu:return"StrictMode";case Da:return"Suspense";case La:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gp:return(e.displayName||"Context")+".Consumer";case Hp:return(e._context.displayName||"Context")+".Provider";case Su:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tu:return t=e.displayName||null,t!==null?t:wa(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return wa(e(t))}catch{}}return null}function dv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wa(t);case 8:return t===yu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function on(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $p(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fv(e){var t=$p(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oi(e){e._valueTracker||(e._valueTracker=fv(e))}function Wp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$p(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Aa(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Uf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=on(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xp(e,t){t=t.checked,t!=null&&vu(e,"checked",t,!1)}function Oa(e,t){Xp(e,t);var n=on(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ra(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ra(e,t.type,on(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ff(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ra(e,t,n){(t!=="number"||ol(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var go=Array.isArray;function _r(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+on(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Pa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(h(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(h(92));if(go(n)){if(1<n.length)throw Error(h(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:on(n)}}function Yp(e,t){var n=on(t.value),r=on(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ri,qp=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ri.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var So={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pv=["Webkit","ms","Moz","O"];Object.keys(So).forEach(function(e){pv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),So[t]=So[e]})});function Qp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||So.hasOwnProperty(e)&&So[e]?(""+t).trim():t+"px"}function Zp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Qp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var mv=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(e,t){if(t){if(mv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(h(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(h(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(h(61))}if(t.style!=null&&typeof t.style!="object")throw Error(h(62))}}function Ma(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ba=null;function _u(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,Ir=null,Nr=null;function Hf(e){if(e=Ko(e)){if(typeof Ua!="function")throw Error(h(280));var t=e.stateNode;t&&(t=Pl(t),Ua(e.stateNode,e.type,t))}}function Jp(e){Ir?Nr?Nr.push(e):Nr=[e]:Ir=e}function bp(){if(Ir){var e=Ir,t=Nr;if(Nr=Ir=null,Hf(e),t)for(e=0;e<t.length;e++)Hf(t[e])}}function em(e,t){return e(t)}function tm(){}var ia=!1;function nm(e,t,n){if(ia)return e(t,n);ia=!0;try{return em(e,t,n)}finally{ia=!1,(Ir!==null||Nr!==null)&&(tm(),bp())}}function Ro(e,t){var n=e.stateNode;if(n===null)return null;var r=Pl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(h(231,t,typeof n));return n}var Fa=!1;if(Lt)try{ar={},Object.defineProperty(ar,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{Fa=!1}var ar;function Ev(e,t,n,r,o,i,l,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var To=!1,il=null,ll=!1,za=null,hv={onError:function(e){To=!0,il=e}};function gv(e,t,n,r,o,i,l,s,a){To=!1,il=null,Ev.apply(hv,arguments)}function vv(e,t,n,r,o,i,l,s,a){if(gv.apply(this,arguments),To){if(To){var u=il;To=!1,il=null}else throw Error(h(198));ll||(ll=!0,za=u)}}function Mn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gf(e){if(Mn(e)!==e)throw Error(h(188))}function yv(e){var t=e.alternate;if(!t){if(t=Mn(e),t===null)throw Error(h(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Gf(o),e;if(i===r)return Gf(o),t;i=i.sibling}throw Error(h(188))}if(n.return!==r.return)n=o,r=i;else{for(var l=!1,s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l)throw Error(h(189))}}if(n.alternate!==r)throw Error(h(190))}if(n.tag!==3)throw Error(h(188));return n.stateNode.current===n?e:t}function om(e){return e=yv(e),e!==null?im(e):null}function im(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=im(e);if(t!==null)return t;e=e.sibling}return null}var lm=xe.unstable_scheduleCallback,jf=xe.unstable_cancelCallback,Sv=xe.unstable_shouldYield,Tv=xe.unstable_requestPaint,q=xe.unstable_now,_v=xe.unstable_getCurrentPriorityLevel,Iu=xe.unstable_ImmediatePriority,sm=xe.unstable_UserBlockingPriority,sl=xe.unstable_NormalPriority,Iv=xe.unstable_LowPriority,am=xe.unstable_IdlePriority,wl=null,ut=null;function Nv(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(wl,e,void 0,(e.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:Lv,Cv=Math.log,Dv=Math.LN2;function Lv(e){return e>>>=0,e===0?32:31-(Cv(e)/Dv|0)|0}var Pi=64,xi=4194304;function vo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function al(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var s=l&~o;s!==0?r=vo(s):(i&=l,i!==0&&(r=vo(i)))}else l=n&~o,l!==0?r=vo(l):i!==0&&(r=vo(i));if(r===0)return 0;if(t!==0&&t!==r&&(t&o)===0&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-nt(t),o=1<<n,r|=e[n],t&=~o;return r}function wv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Av(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-nt(i),s=1<<l,a=o[l];a===-1?((s&n)===0||(s&r)!==0)&&(o[l]=wv(s,t)):a<=t&&(e.expiredLanes|=s),i&=~s}}function Va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function um(){var e=Pi;return Pi<<=1,(Pi&4194240)===0&&(Pi=64),e}function la(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nt(t),e[t]=n}function Ov(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-nt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Nu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-nt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var x=0;function cm(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var dm,Cu,fm,pm,mm,Ha=!1,ki=[],Qt=null,Zt=null,Jt=null,Po=new Map,xo=new Map,Xt=[],Rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $f(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":Po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(t.pointerId)}}function ao(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Ko(t),t!==null&&Cu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Pv(e,t,n,r,o){switch(t){case"focusin":return Qt=ao(Qt,e,t,n,r,o),!0;case"dragenter":return Zt=ao(Zt,e,t,n,r,o),!0;case"mouseover":return Jt=ao(Jt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Po.set(i,ao(Po.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,xo.set(i,ao(xo.get(i)||null,e,t,n,r,o)),!0}return!1}function Em(e){var t=Nn(e.target);if(t!==null){var n=Mn(t);if(n!==null){if(t=n.tag,t===13){if(t=rm(n),t!==null){e.blockedOn=t,mm(e.priority,function(){fm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ki(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ga(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ba=r,n.target.dispatchEvent(r),Ba=null}else return t=Ko(n),t!==null&&Cu(t),e.blockedOn=n,!1;t.shift()}return!0}function Wf(e,t,n){Ki(e)&&n.delete(t)}function xv(){Ha=!1,Qt!==null&&Ki(Qt)&&(Qt=null),Zt!==null&&Ki(Zt)&&(Zt=null),Jt!==null&&Ki(Jt)&&(Jt=null),Po.forEach(Wf),xo.forEach(Wf)}function uo(e,t){e.blockedOn===t&&(e.blockedOn=null,Ha||(Ha=!0,xe.unstable_scheduleCallback(xe.unstable_NormalPriority,xv)))}function ko(e){function t(o){return uo(o,e)}if(0<ki.length){uo(ki[0],e);for(var n=1;n<ki.length;n++){var r=ki[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qt!==null&&uo(Qt,e),Zt!==null&&uo(Zt,e),Jt!==null&&uo(Jt,e),Po.forEach(t),xo.forEach(t),n=0;n<Xt.length;n++)r=Xt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)Em(n),n.blockedOn===null&&Xt.shift()}var Cr=Rt.ReactCurrentBatchConfig,ul=!0;function kv(e,t,n,r){var o=x,i=Cr.transition;Cr.transition=null;try{x=1,Du(e,t,n,r)}finally{x=o,Cr.transition=i}}function Mv(e,t,n,r){var o=x,i=Cr.transition;Cr.transition=null;try{x=4,Du(e,t,n,r)}finally{x=o,Cr.transition=i}}function Du(e,t,n,r){if(ul){var o=Ga(e,t,n,r);if(o===null)pa(e,t,r,cl,n),$f(e,r);else if(Pv(o,e,t,n,r))r.stopPropagation();else if($f(e,r),t&4&&-1<Rv.indexOf(e)){for(;o!==null;){var i=Ko(o);if(i!==null&&dm(i),i=Ga(e,t,n,r),i===null&&pa(e,t,r,cl,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else pa(e,t,r,null,n)}}var cl=null;function Ga(e,t,n,r){if(cl=null,e=_u(r),e=Nn(e),e!==null)if(t=Mn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cl=e,null}function hm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_v()){case Iu:return 1;case sm:return 4;case sl:case Iv:return 16;case am:return 536870912;default:return 16}default:return 16}}var Kt=null,Lu=null,qi=null;function gm(){if(qi)return qi;var e,t=Lu,n=t.length,r,o="value"in Kt?Kt.value:Kt.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[i-r];r++);return qi=o.slice(e,1<r?1-r:void 0)}function Qi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Xf(){return!1}function ke(e){function t(n,r,o,i,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mi:Xf,this.isPropagationStopped=Xf,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=ke(Mr),Yo=$({},Mr,{view:0,detail:0}),Bv=ke(Yo),sa,aa,co,Al=$({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==co&&(co&&e.type==="mousemove"?(sa=e.screenX-co.screenX,aa=e.screenY-co.screenY):aa=sa=0,co=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Yf=ke(Al),Uv=$({},Al,{dataTransfer:0}),Fv=ke(Uv),zv=$({},Yo,{relatedTarget:0}),ua=ke(zv),Vv=$({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hv=ke(Vv),Gv=$({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jv=ke(Gv),$v=$({},Mr,{data:0}),Kf=ke($v),Wv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yv[e])?!!t[e]:!1}function Au(){return Kv}var qv=$({},Yo,{key:function(e){if(e.key){var t=Wv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(e){return e.type==="keypress"?Qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qv=ke(qv),Zv=$({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qf=ke(Zv),Jv=$({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),bv=ke(Jv),ey=$({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ty=ke(ey),ny=$({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ry=ke(ny),oy=[9,13,27,32],Ou=Lt&&"CompositionEvent"in window,_o=null;Lt&&"documentMode"in document&&(_o=document.documentMode);var iy=Lt&&"TextEvent"in window&&!_o,vm=Lt&&(!Ou||_o&&8<_o&&11>=_o),Qf=" ",Zf=!1;function ym(e,t){switch(e){case"keyup":return oy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function ly(e,t){switch(e){case"compositionend":return Sm(t);case"keypress":return t.which!==32?null:(Zf=!0,Qf);case"textInput":return e=t.data,e===Qf&&Zf?null:e;default:return null}}function sy(e,t){if(fr)return e==="compositionend"||!Ou&&ym(e,t)?(e=gm(),qi=Lu=Kt=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vm&&t.locale!=="ko"?null:t.data;default:return null}}var ay={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ay[e.type]:t==="textarea"}function Tm(e,t,n,r){Jp(r),t=dl(t,"onChange"),0<t.length&&(n=new wu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Io=null,Mo=null;function uy(e){Pm(e,0)}function Ol(e){var t=Er(e);if(Wp(t))return e}function cy(e,t){if(e==="change")return t}var _m=!1;Lt&&(Lt?(Ui="oninput"in document,Ui||(ca=document.createElement("div"),ca.setAttribute("oninput","return;"),Ui=typeof ca.oninput=="function"),Bi=Ui):Bi=!1,_m=Bi&&(!document.documentMode||9<document.documentMode));var Bi,Ui,ca;function bf(){Io&&(Io.detachEvent("onpropertychange",Im),Mo=Io=null)}function Im(e){if(e.propertyName==="value"&&Ol(Mo)){var t=[];Tm(t,Mo,e,_u(e)),nm(uy,t)}}function dy(e,t,n){e==="focusin"?(bf(),Io=t,Mo=n,Io.attachEvent("onpropertychange",Im)):e==="focusout"&&bf()}function fy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(Mo)}function py(e,t){if(e==="click")return Ol(t)}function my(e,t){if(e==="input"||e==="change")return Ol(t)}function Ey(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ot=typeof Object.is=="function"?Object.is:Ey;function Bo(e,t){if(ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Na.call(t,o)||!ot(e[o],t[o]))return!1}return!0}function ep(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tp(e,t){var n=ep(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ep(n)}}function Nm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cm(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ol(e.document)}return t}function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hy(e){var t=Cm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Nm(n.ownerDocument.documentElement,n)){if(r!==null&&Ru(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=tp(n,i);var l=tp(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gy=Lt&&"documentMode"in document&&11>=document.documentMode,pr=null,ja=null,No=null,$a=!1;function np(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$a||pr==null||pr!==ol(r)||(r=pr,"selectionStart"in r&&Ru(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),No&&Bo(No,r)||(No=r,r=dl(ja,"onSelect"),0<r.length&&(t=new wu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function Fi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionend:Fi("Transition","TransitionEnd")},da={},Dm={};Lt&&(Dm=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Rl(e){if(da[e])return da[e];if(!mr[e])return e;var t=mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dm)return da[e]=t[n];return e}var Lm=Rl("animationend"),wm=Rl("animationiteration"),Am=Rl("animationstart"),Om=Rl("transitionend"),Rm=new Map,rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sn(e,t){Rm.set(e,t),kn(t,[e])}for(zi=0;zi<rp.length;zi++)Vi=rp[zi],op=Vi.toLowerCase(),ip=Vi[0].toUpperCase()+Vi.slice(1),sn(op,"on"+ip);var Vi,op,ip,zi;sn(Lm,"onAnimationEnd");sn(wm,"onAnimationIteration");sn(Am,"onAnimationStart");sn("dblclick","onDoubleClick");sn("focusin","onFocus");sn("focusout","onBlur");sn(Om,"onTransitionEnd");wr("onMouseEnter",["mouseout","mouseover"]);wr("onMouseLeave",["mouseout","mouseover"]);wr("onPointerEnter",["pointerout","pointerover"]);wr("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vy=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function lp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,vv(r,t,void 0,e),e.currentTarget=null}function Pm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==i&&o.isPropagationStopped())break e;lp(o,s,u),i=a}else for(l=0;l<r.length;l++){if(s=r[l],a=s.instance,u=s.currentTarget,s=s.listener,a!==i&&o.isPropagationStopped())break e;lp(o,s,u),i=a}}}if(ll)throw e=za,ll=!1,za=null,e}function U(e,t){var n=t[qa];n===void 0&&(n=t[qa]=new Set);var r=e+"__bubble";n.has(r)||(xm(t,e,2,!1),n.add(r))}function fa(e,t,n){var r=0;t&&(r|=4),xm(n,e,r,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function Uo(e){if(!e[Hi]){e[Hi]=!0,Vp.forEach(function(n){n!=="selectionchange"&&(vy.has(n)||fa(n,!1,e),fa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hi]||(t[Hi]=!0,fa("selectionchange",!1,t))}}function xm(e,t,n,r){switch(hm(t)){case 1:var o=kv;break;case 4:o=Mv;break;default:o=Du}n=o.bind(null,t,n,e),o=void 0,!Fa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function pa(e,t,n,r,o){var i=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;l=l.return}for(;s!==null;){if(l=Nn(s),l===null)return;if(a=l.tag,a===5||a===6){r=i=l;continue e}s=s.parentNode}}r=r.return}nm(function(){var u=i,p=_u(n),m=[];e:{var E=Rm.get(e);if(E!==void 0){var v=wu,S=e;switch(e){case"keypress":if(Qi(n)===0)break e;case"keydown":case"keyup":v=Qv;break;case"focusin":S="focus",v=ua;break;case"focusout":S="blur",v=ua;break;case"beforeblur":case"afterblur":v=ua;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Fv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=bv;break;case Lm:case wm:case Am:v=Hv;break;case Om:v=ty;break;case"scroll":v=Bv;break;case"wheel":v=ry;break;case"copy":case"cut":case"paste":v=jv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=qf}var T=(t&4)!==0,z=!T&&e==="scroll",d=T?E!==null?E+"Capture":null:E;T=[];for(var c=u,f;c!==null;){f=c;var g=f.stateNode;if(f.tag===5&&g!==null&&(f=g,d!==null&&(g=Ro(c,d),g!=null&&T.push(Fo(c,g,f)))),z)break;c=c.return}0<T.length&&(E=new v(E,S,null,n,p),m.push({event:E,listeners:T}))}}if((t&7)===0){e:{if(E=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",E&&n!==Ba&&(S=n.relatedTarget||n.fromElement)&&(Nn(S)||S[wt]))break e;if((v||E)&&(E=p.window===p?p:(E=p.ownerDocument)?E.defaultView||E.parentWindow:window,v?(S=n.relatedTarget||n.toElement,v=u,S=S?Nn(S):null,S!==null&&(z=Mn(S),S!==z||S.tag!==5&&S.tag!==6)&&(S=null)):(v=null,S=u),v!==S)){if(T=Yf,g="onMouseLeave",d="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(T=qf,g="onPointerLeave",d="onPointerEnter",c="pointer"),z=v==null?E:Er(v),f=S==null?E:Er(S),E=new T(g,c+"leave",v,n,p),E.target=z,E.relatedTarget=f,g=null,Nn(p)===u&&(T=new T(d,c+"enter",S,n,p),T.target=f,T.relatedTarget=z,g=T),z=g,v&&S)t:{for(T=v,d=S,c=0,f=T;f;f=ur(f))c++;for(f=0,g=d;g;g=ur(g))f++;for(;0<c-f;)T=ur(T),c--;for(;0<f-c;)d=ur(d),f--;for(;c--;){if(T===d||d!==null&&T===d.alternate)break t;T=ur(T),d=ur(d)}T=null}else T=null;v!==null&&sp(m,E,v,T,!1),S!==null&&z!==null&&sp(m,z,S,T,!0)}}e:{if(E=u?Er(u):window,v=E.nodeName&&E.nodeName.toLowerCase(),v==="select"||v==="input"&&E.type==="file")var I=cy;else if(Jf(E))if(_m)I=my;else{I=fy;var C=dy}else(v=E.nodeName)&&v.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(I=py);if(I&&(I=I(e,u))){Tm(m,I,n,p);break e}C&&C(e,E,u),e==="focusout"&&(C=E._wrapperState)&&C.controlled&&E.type==="number"&&Ra(E,"number",E.value)}switch(C=u?Er(u):window,e){case"focusin":(Jf(C)||C.contentEditable==="true")&&(pr=C,ja=u,No=null);break;case"focusout":No=ja=pr=null;break;case"mousedown":$a=!0;break;case"contextmenu":case"mouseup":case"dragend":$a=!1,np(m,n,p);break;case"selectionchange":if(gy)break;case"keydown":case"keyup":np(m,n,p)}var y;if(Ou)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else fr?ym(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(vm&&n.locale!=="ko"&&(fr||N!=="onCompositionStart"?N==="onCompositionEnd"&&fr&&(y=gm()):(Kt=p,Lu="value"in Kt?Kt.value:Kt.textContent,fr=!0)),C=dl(u,N),0<C.length&&(N=new Kf(N,e,null,n,p),m.push({event:N,listeners:C}),y?N.data=y:(y=Sm(n),y!==null&&(N.data=y)))),(y=iy?ly(e,n):sy(e,n))&&(u=dl(u,"onBeforeInput"),0<u.length&&(p=new Kf("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:u}),p.data=y))}Pm(m,t)})}function Fo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dl(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Ro(e,n),i!=null&&r.unshift(Fo(e,i,o)),i=Ro(e,t),i!=null&&r.push(Fo(e,i,o))),e=e.return}return r}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sp(e,t,n,r,o){for(var i=t._reactName,l=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,o?(a=Ro(n,i),a!=null&&l.unshift(Fo(n,a,s))):o||(a=Ro(n,i),a!=null&&l.push(Fo(n,a,s)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var yy=/\r\n?/g,Sy=/\u0000|\uFFFD/g;function ap(e){return(typeof e=="string"?e:""+e).replace(yy,`
`).replace(Sy,"")}function Gi(e,t,n){if(t=ap(t),ap(e)!==t&&n)throw Error(h(425))}function fl(){}var Wa=null,Xa=null;function Ya(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ka=typeof setTimeout=="function"?setTimeout:void 0,Ty=typeof clearTimeout=="function"?clearTimeout:void 0,up=typeof Promise=="function"?Promise:void 0,_y=typeof queueMicrotask=="function"?queueMicrotask:typeof up<"u"?function(e){return up.resolve(null).then(e).catch(Iy)}:Ka;function Iy(e){setTimeout(function(){throw e})}function ma(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ko(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ko(t)}function bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),at="__reactFiber$"+Br,zo="__reactProps$"+Br,wt="__reactContainer$"+Br,qa="__reactEvents$"+Br,Ny="__reactListeners$"+Br,Cy="__reactHandles$"+Br;function Nn(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wt]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cp(e);e!==null;){if(n=e[at])return n;e=cp(e)}return t}e=n,n=e.parentNode}return null}function Ko(e){return e=e[at]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(h(33))}function Pl(e){return e[zo]||null}var Qa=[],hr=-1;function an(e){return{current:e}}function F(e){0>hr||(e.current=Qa[hr],Qa[hr]=null,hr--)}function B(e,t){hr++,Qa[hr]=e.current,e.current=t}var ln={},me=an(ln),Ce=an(!1),An=ln;function Ar(e,t){var n=e.type.contextTypes;if(!n)return ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function De(e){return e=e.childContextTypes,e!=null}function pl(){F(Ce),F(me)}function dp(e,t,n){if(me.current!==ln)throw Error(h(168));B(me,t),B(Ce,n)}function km(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(h(108,dv(e)||"Unknown",o));return $({},n,r)}function ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,An=me.current,B(me,e),B(Ce,Ce.current),!0}function fp(e,t,n){var r=e.stateNode;if(!r)throw Error(h(169));n?(e=km(e,t,An),r.__reactInternalMemoizedMergedChildContext=e,F(Ce),F(me),B(me,e)):F(Ce),B(Ce,n)}var It=null,xl=!1,Ea=!1;function Mm(e){It===null?It=[e]:It.push(e)}function Dy(e){xl=!0,Mm(e)}function un(){if(!Ea&&It!==null){Ea=!0;var e=0,t=x;try{var n=It;for(x=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}It=null,xl=!1}catch(o){throw It!==null&&(It=It.slice(e+1)),lm(Iu,un),o}finally{x=t,Ea=!1}}return null}var gr=[],vr=0,El=null,hl=0,He=[],Ge=0,On=null,Nt=1,Ct="";function _n(e,t){gr[vr++]=hl,gr[vr++]=El,El=e,hl=t}function Bm(e,t,n){He[Ge++]=Nt,He[Ge++]=Ct,He[Ge++]=On,On=e;var r=Nt;e=Ct;var o=32-nt(r)-1;r&=~(1<<o),n+=1;var i=32-nt(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,Nt=1<<32-nt(t)+o|n<<o|r,Ct=i+e}else Nt=1<<i|n<<o|r,Ct=e}function Pu(e){e.return!==null&&(_n(e,1),Bm(e,1,0))}function xu(e){for(;e===El;)El=gr[--vr],gr[vr]=null,hl=gr[--vr],gr[vr]=null;for(;e===On;)On=He[--Ge],He[Ge]=null,Ct=He[--Ge],He[Ge]=null,Nt=He[--Ge],He[Ge]=null}var Pe=null,Re=null,H=!1,tt=null;function Um(e,t){var n=je(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pe=e,Re=bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pe=e,Re=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=On!==null?{id:Nt,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=je(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pe=e,Re=null,!0):!1;default:return!1}}function Za(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ja(e){if(H){var t=Re;if(t){var n=t;if(!pp(e,t)){if(Za(e))throw Error(h(418));t=bt(n.nextSibling);var r=Pe;t&&pp(e,t)?Um(r,n):(e.flags=e.flags&-4097|2,H=!1,Pe=e)}}else{if(Za(e))throw Error(h(418));e.flags=e.flags&-4097|2,H=!1,Pe=e}}}function mp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pe=e}function ji(e){if(e!==Pe)return!1;if(!H)return mp(e),H=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ya(e.type,e.memoizedProps)),t&&(t=Re)){if(Za(e))throw Fm(),Error(h(418));for(;t;)Um(e,t),t=bt(t.nextSibling)}if(mp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Re=bt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Re=null}}else Re=Pe?bt(e.stateNode.nextSibling):null;return!0}function Fm(){for(var e=Re;e;)e=bt(e.nextSibling)}function Or(){Re=Pe=null,H=!1}function ku(e){tt===null?tt=[e]:tt.push(e)}var Ly=Rt.ReactCurrentBatchConfig;function fo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(h(309));var r=n.stateNode}if(!r)throw Error(h(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var s=o.refs;l===null?delete s[i]:s[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(h(284));if(!n._owner)throw Error(h(290,e))}return e}function $i(e,t){throw e=Object.prototype.toString.call(t),Error(h(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ep(e){var t=e._init;return t(e._payload)}function zm(e){function t(d,c){if(e){var f=d.deletions;f===null?(d.deletions=[c],d.flags|=16):f.push(c)}}function n(d,c){if(!e)return null;for(;c!==null;)t(d,c),c=c.sibling;return null}function r(d,c){for(d=new Map;c!==null;)c.key!==null?d.set(c.key,c):d.set(c.index,c),c=c.sibling;return d}function o(d,c){return d=rn(d,c),d.index=0,d.sibling=null,d}function i(d,c,f){return d.index=f,e?(f=d.alternate,f!==null?(f=f.index,f<c?(d.flags|=2,c):f):(d.flags|=2,c)):(d.flags|=1048576,c)}function l(d){return e&&d.alternate===null&&(d.flags|=2),d}function s(d,c,f,g){return c===null||c.tag!==6?(c=_a(f,d.mode,g),c.return=d,c):(c=o(c,f),c.return=d,c)}function a(d,c,f,g){var I=f.type;return I===dr?p(d,c,f.props.children,g,f.key):c!==null&&(c.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===$t&&Ep(I)===c.type)?(g=o(c,f.props),g.ref=fo(d,c,f),g.return=d,g):(g=rl(f.type,f.key,f.props,null,d.mode,g),g.ref=fo(d,c,f),g.return=d,g)}function u(d,c,f,g){return c===null||c.tag!==4||c.stateNode.containerInfo!==f.containerInfo||c.stateNode.implementation!==f.implementation?(c=Ia(f,d.mode,g),c.return=d,c):(c=o(c,f.children||[]),c.return=d,c)}function p(d,c,f,g,I){return c===null||c.tag!==7?(c=wn(f,d.mode,g,I),c.return=d,c):(c=o(c,f),c.return=d,c)}function m(d,c,f){if(typeof c=="string"&&c!==""||typeof c=="number")return c=_a(""+c,d.mode,f),c.return=d,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Ai:return f=rl(c.type,c.key,c.props,null,d.mode,f),f.ref=fo(d,null,c),f.return=d,f;case cr:return c=Ia(c,d.mode,f),c.return=d,c;case $t:var g=c._init;return m(d,g(c._payload),f)}if(go(c)||so(c))return c=wn(c,d.mode,f,null),c.return=d,c;$i(d,c)}return null}function E(d,c,f,g){var I=c!==null?c.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return I!==null?null:s(d,c,""+f,g);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ai:return f.key===I?a(d,c,f,g):null;case cr:return f.key===I?u(d,c,f,g):null;case $t:return I=f._init,E(d,c,I(f._payload),g)}if(go(f)||so(f))return I!==null?null:p(d,c,f,g,null);$i(d,f)}return null}function v(d,c,f,g,I){if(typeof g=="string"&&g!==""||typeof g=="number")return d=d.get(f)||null,s(c,d,""+g,I);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ai:return d=d.get(g.key===null?f:g.key)||null,a(c,d,g,I);case cr:return d=d.get(g.key===null?f:g.key)||null,u(c,d,g,I);case $t:var C=g._init;return v(d,c,f,C(g._payload),I)}if(go(g)||so(g))return d=d.get(f)||null,p(c,d,g,I,null);$i(c,g)}return null}function S(d,c,f,g){for(var I=null,C=null,y=c,N=c=0,D=null;y!==null&&N<f.length;N++){y.index>N?(D=y,y=null):D=y.sibling;var L=E(d,y,f[N],g);if(L===null){y===null&&(y=D);break}e&&y&&L.alternate===null&&t(d,y),c=i(L,c,N),C===null?I=L:C.sibling=L,C=L,y=D}if(N===f.length)return n(d,y),H&&_n(d,N),I;if(y===null){for(;N<f.length;N++)y=m(d,f[N],g),y!==null&&(c=i(y,c,N),C===null?I=y:C.sibling=y,C=y);return H&&_n(d,N),I}for(y=r(d,y);N<f.length;N++)D=v(y,d,N,f[N],g),D!==null&&(e&&D.alternate!==null&&y.delete(D.key===null?N:D.key),c=i(D,c,N),C===null?I=D:C.sibling=D,C=D);return e&&y.forEach(function(Ee){return t(d,Ee)}),H&&_n(d,N),I}function T(d,c,f,g){var I=so(f);if(typeof I!="function")throw Error(h(150));if(f=I.call(f),f==null)throw Error(h(151));for(var C=I=null,y=c,N=c=0,D=null,L=f.next();y!==null&&!L.done;N++,L=f.next()){y.index>N?(D=y,y=null):D=y.sibling;var Ee=E(d,y,L.value,g);if(Ee===null){y===null&&(y=D);break}e&&y&&Ee.alternate===null&&t(d,y),c=i(Ee,c,N),C===null?I=Ee:C.sibling=Ee,C=Ee,y=D}if(L.done)return n(d,y),H&&_n(d,N),I;if(y===null){for(;!L.done;N++,L=f.next())L=m(d,L.value,g),L!==null&&(c=i(L,c,N),C===null?I=L:C.sibling=L,C=L);return H&&_n(d,N),I}for(y=r(d,y);!L.done;N++,L=f.next())L=v(y,d,N,L.value,g),L!==null&&(e&&L.alternate!==null&&y.delete(L.key===null?N:L.key),c=i(L,c,N),C===null?I=L:C.sibling=L,C=L);return e&&y.forEach(function(jl){return t(d,jl)}),H&&_n(d,N),I}function z(d,c,f,g){if(typeof f=="object"&&f!==null&&f.type===dr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Ai:e:{for(var I=f.key,C=c;C!==null;){if(C.key===I){if(I=f.type,I===dr){if(C.tag===7){n(d,C.sibling),c=o(C,f.props.children),c.return=d,d=c;break e}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===$t&&Ep(I)===C.type){n(d,C.sibling),c=o(C,f.props),c.ref=fo(d,C,f),c.return=d,d=c;break e}n(d,C);break}else t(d,C);C=C.sibling}f.type===dr?(c=wn(f.props.children,d.mode,g,f.key),c.return=d,d=c):(g=rl(f.type,f.key,f.props,null,d.mode,g),g.ref=fo(d,c,f),g.return=d,d=g)}return l(d);case cr:e:{for(C=f.key;c!==null;){if(c.key===C)if(c.tag===4&&c.stateNode.containerInfo===f.containerInfo&&c.stateNode.implementation===f.implementation){n(d,c.sibling),c=o(c,f.children||[]),c.return=d,d=c;break e}else{n(d,c);break}else t(d,c);c=c.sibling}c=Ia(f,d.mode,g),c.return=d,d=c}return l(d);case $t:return C=f._init,z(d,c,C(f._payload),g)}if(go(f))return S(d,c,f,g);if(so(f))return T(d,c,f,g);$i(d,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,c!==null&&c.tag===6?(n(d,c.sibling),c=o(c,f),c.return=d,d=c):(n(d,c),c=_a(f,d.mode,g),c.return=d,d=c),l(d)):n(d,c)}return z}var Rr=zm(!0),Vm=zm(!1),gl=an(null),vl=null,yr=null,Mu=null;function Bu(){Mu=yr=vl=null}function Uu(e){var t=gl.current;F(gl),e._currentValue=t}function ba(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Dr(e,t){vl=e,Mu=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ne=!0),e.firstContext=null)}function We(e){var t=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:t,next:null},yr===null){if(vl===null)throw Error(h(308));yr=e,vl.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return t}var Cn=null;function Fu(e){Cn===null?Cn=[e]:Cn.push(e)}function Hm(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Fu(t)):(n.next=o.next,o.next=n),t.interleaved=n,At(e,r)}function At(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wt=!1;function zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(R&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,At(e,n)}return o=r.interleaved,o===null?(t.next=t,Fu(r)):(t.next=o.next,o.next=t),r.interleaved=t,At(e,n)}function Zi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nu(e,n)}}function hp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yl(e,t,n,r){var o=e.updateQueue;Wt=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var a=s,u=a.next;a.next=null,l===null?i=u:l.next=u,l=a;var p=e.alternate;p!==null&&(p=p.updateQueue,s=p.lastBaseUpdate,s!==l&&(s===null?p.firstBaseUpdate=u:s.next=u,p.lastBaseUpdate=a))}if(i!==null){var m=o.baseState;l=0,p=u=a=null,s=i;do{var E=s.lane,v=s.eventTime;if((r&E)===E){p!==null&&(p=p.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var S=e,T=s;switch(E=t,v=n,T.tag){case 1:if(S=T.payload,typeof S=="function"){m=S.call(v,m,E);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=T.payload,E=typeof S=="function"?S.call(v,m,E):S,E==null)break e;m=$({},m,E);break e;case 2:Wt=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,E=o.effects,E===null?o.effects=[s]:E.push(s))}else v={eventTime:v,lane:E,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(u=p=v,a=m):p=p.next=v,l|=E;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;E=s,s=E.next,E.next=null,o.lastBaseUpdate=E,o.shared.pending=null}}while(!0);if(p===null&&(a=m),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=p,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Pn|=l,e.lanes=l,e.memoizedState=m}}function gp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(h(191,o));o.call(r)}}}var qo={},ct=an(qo),Vo=an(qo),Ho=an(qo);function Dn(e){if(e===qo)throw Error(h(174));return e}function Vu(e,t){switch(B(Ho,t),B(Vo,e),B(ct,qo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xa(t,e)}F(ct),B(ct,t)}function Pr(){F(ct),F(Vo),F(Ho)}function jm(e){Dn(Ho.current);var t=Dn(ct.current),n=xa(t,e.type);t!==n&&(B(Vo,e),B(ct,n))}function Hu(e){Vo.current===e&&(F(ct),F(Vo))}var G=an(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ha=[];function Gu(){for(var e=0;e<ha.length;e++)ha[e]._workInProgressVersionPrimary=null;ha.length=0}var Ji=Rt.ReactCurrentDispatcher,ga=Rt.ReactCurrentBatchConfig,Rn=0,j=null,b=null,ne=null,Tl=!1,Co=!1,Go=0,wy=0;function de(){throw Error(h(321))}function ju(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ot(e[n],t[n]))return!1;return!0}function $u(e,t,n,r,o,i){if(Rn=i,j=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ji.current=e===null||e.memoizedState===null?Py:xy,e=n(r,o),Co){i=0;do{if(Co=!1,Go=0,25<=i)throw Error(h(301));i+=1,ne=b=null,t.updateQueue=null,Ji.current=ky,e=n(r,o)}while(Co)}if(Ji.current=_l,t=b!==null&&b.next!==null,Rn=0,ne=b=j=null,Tl=!1,t)throw Error(h(300));return e}function Wu(){var e=Go!==0;return Go=0,e}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?j.memoizedState=ne=e:ne=ne.next=e,ne}function Xe(){if(b===null){var e=j.alternate;e=e!==null?e.memoizedState:null}else e=b.next;var t=ne===null?j.memoizedState:ne.next;if(t!==null)ne=t,b=e;else{if(e===null)throw Error(h(310));b=e,e={memoizedState:b.memoizedState,baseState:b.baseState,baseQueue:b.baseQueue,queue:b.queue,next:null},ne===null?j.memoizedState=ne=e:ne=ne.next=e}return ne}function jo(e,t){return typeof t=="function"?t(e):t}function va(e){var t=Xe(),n=t.queue;if(n===null)throw Error(h(311));n.lastRenderedReducer=e;var r=b,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var l=o.next;o.next=i.next,i.next=l}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var s=l=null,a=null,u=i;do{var p=u.lane;if((Rn&p)===p)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=m,l=r):a=a.next=m,j.lanes|=p,Pn|=p}u=u.next}while(u!==null&&u!==i);a===null?l=r:a.next=s,ot(r,t.memoizedState)||(Ne=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,j.lanes|=i,Pn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ya(e){var t=Xe(),n=t.queue;if(n===null)throw Error(h(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do i=e(i,l.action),l=l.next;while(l!==o);ot(i,t.memoizedState)||(Ne=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function $m(){}function Wm(e,t){var n=j,r=Xe(),o=t(),i=!ot(r.memoizedState,o);if(i&&(r.memoizedState=o,Ne=!0),r=r.queue,Xu(Km.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ne!==null&&ne.memoizedState.tag&1){if(n.flags|=2048,$o(9,Ym.bind(null,n,r,o,t),void 0,null),re===null)throw Error(h(349));(Rn&30)!==0||Xm(n,t,o)}return o}function Xm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=j.updateQueue,t===null?(t={lastEffect:null,stores:null},j.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ym(e,t,n,r){t.value=n,t.getSnapshot=r,qm(t)&&Qm(e)}function Km(e,t,n){return n(function(){qm(t)&&Qm(e)})}function qm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ot(e,n)}catch{return!0}}function Qm(e){var t=At(e,1);t!==null&&rt(t,e,1,-1)}function vp(e){var t=st();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ry.bind(null,j,e),[t.memoizedState,e]}function $o(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=j.updateQueue,t===null?(t={lastEffect:null,stores:null},j.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zm(){return Xe().memoizedState}function bi(e,t,n,r){var o=st();j.flags|=e,o.memoizedState=$o(1|t,n,void 0,r===void 0?null:r)}function kl(e,t,n,r){var o=Xe();r=r===void 0?null:r;var i=void 0;if(b!==null){var l=b.memoizedState;if(i=l.destroy,r!==null&&ju(r,l.deps)){o.memoizedState=$o(t,n,i,r);return}}j.flags|=e,o.memoizedState=$o(1|t,n,i,r)}function yp(e,t){return bi(8390656,8,e,t)}function Xu(e,t){return kl(2048,8,e,t)}function Jm(e,t){return kl(4,2,e,t)}function bm(e,t){return kl(4,4,e,t)}function eE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tE(e,t,n){return n=n!=null?n.concat([e]):null,kl(4,4,eE.bind(null,t,e),n)}function Yu(){}function nE(e,t){var n=Xe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rE(e,t){var n=Xe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function oE(e,t,n){return(Rn&21)===0?(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=n):(ot(n,t)||(n=um(),j.lanes|=n,Pn|=n,e.baseState=!0),t)}function Ay(e,t){var n=x;x=n!==0&&4>n?n:4,e(!0);var r=ga.transition;ga.transition={};try{e(!1),t()}finally{x=n,ga.transition=r}}function iE(){return Xe().memoizedState}function Oy(e,t,n){var r=nn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lE(e))sE(t,n);else if(n=Hm(e,t,n,r),n!==null){var o=Te();rt(n,e,r,o),aE(n,t,r)}}function Ry(e,t,n){var r=nn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lE(e))sE(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,s=i(l,n);if(o.hasEagerState=!0,o.eagerState=s,ot(s,l)){var a=t.interleaved;a===null?(o.next=o,Fu(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=Hm(e,t,o,r),n!==null&&(o=Te(),rt(n,e,r,o),aE(n,t,r))}}function lE(e){var t=e.alternate;return e===j||t!==null&&t===j}function sE(e,t){Co=Tl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aE(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nu(e,n)}}var _l={readContext:We,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},Py={readContext:We,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:yp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bi(4194308,4,eE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bi(4194308,4,e,t)},useInsertionEffect:function(e,t){return bi(4,2,e,t)},useMemo:function(e,t){var n=st();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=st();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Oy.bind(null,j,e),[r.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:vp,useDebugValue:Yu,useDeferredValue:function(e){return st().memoizedState=e},useTransition:function(){var e=vp(!1),t=e[0];return e=Ay.bind(null,e[1]),st().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=j,o=st();if(H){if(n===void 0)throw Error(h(407));n=n()}else{if(n=t(),re===null)throw Error(h(349));(Rn&30)!==0||Xm(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,yp(Km.bind(null,r,i,e),[e]),r.flags|=2048,$o(9,Ym.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=st(),t=re.identifierPrefix;if(H){var n=Ct,r=Nt;n=(r&~(1<<32-nt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Go++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xy={readContext:We,useCallback:nE,useContext:We,useEffect:Xu,useImperativeHandle:tE,useInsertionEffect:Jm,useLayoutEffect:bm,useMemo:rE,useReducer:va,useRef:Zm,useState:function(){return va(jo)},useDebugValue:Yu,useDeferredValue:function(e){var t=Xe();return oE(t,b.memoizedState,e)},useTransition:function(){var e=va(jo)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:$m,useSyncExternalStore:Wm,useId:iE,unstable_isNewReconciler:!1},ky={readContext:We,useCallback:nE,useContext:We,useEffect:Xu,useImperativeHandle:tE,useInsertionEffect:Jm,useLayoutEffect:bm,useMemo:rE,useReducer:ya,useRef:Zm,useState:function(){return ya(jo)},useDebugValue:Yu,useDeferredValue:function(e){var t=Xe();return b===null?t.memoizedState=e:oE(t,b.memoizedState,e)},useTransition:function(){var e=ya(jo)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:$m,useSyncExternalStore:Wm,useId:iE,unstable_isNewReconciler:!1};function be(e,t){if(e&&e.defaultProps){t=$({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function eu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ml={isMounted:function(e){return(e=e._reactInternals)?Mn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Te(),o=nn(e),i=Dt(r,o);i.payload=t,n!=null&&(i.callback=n),t=en(e,i,o),t!==null&&(rt(t,e,o,r),Zi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Te(),o=nn(e),i=Dt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=en(e,i,o),t!==null&&(rt(t,e,o,r),Zi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Te(),r=nn(e),o=Dt(n,r);o.tag=2,t!=null&&(o.callback=t),t=en(e,o,r),t!==null&&(rt(t,e,r,n),Zi(t,e,r))}};function Sp(e,t,n,r,o,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Bo(n,r)||!Bo(o,i):!0}function uE(e,t,n){var r=!1,o=ln,i=t.contextType;return typeof i=="object"&&i!==null?i=We(i):(o=De(t)?An:me.current,r=t.contextTypes,i=(r=r!=null)?Ar(e,o):ln),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ml,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Tp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ml.enqueueReplaceState(t,t.state,null)}function tu(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},zu(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=We(i):(i=De(t)?An:me.current,o.context=Ar(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(eu(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ml.enqueueReplaceState(o,o.state,null),yl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function xr(e,t){try{var n="",r=t;do n+=cv(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Sa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var My=typeof WeakMap=="function"?WeakMap:Map;function cE(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Nl||(Nl=!0,fu=r),nu(e,t)},n}function dE(e,t,n){n=Dt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){nu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nu(e,t),typeof r!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function _p(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new My;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=qy.bind(null,e,t,n),t.then(e,e))}function Ip(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Np(e,t,n,r,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,en(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var By=Rt.ReactCurrentOwner,Ne=!1;function Se(e,t,n,r){t.child=e===null?Vm(t,null,n,r):Rr(t,e.child,n,r)}function Cp(e,t,n,r,o){n=n.render;var i=t.ref;return Dr(t,o),r=$u(e,t,n,r,i,o),n=Wu(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ot(e,t,o)):(H&&n&&Pu(t),t.flags|=1,Se(e,t,r,o),t.child)}function Dp(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!tc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,fE(e,t,i,r,o)):(e=rl(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&o)===0){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bo,n(l,r)&&e.ref===t.ref)return Ot(e,t,o)}return t.flags|=1,e=rn(i,r),e.ref=t.ref,e.return=t,t.child=e}function fE(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Bo(i,r)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=r=i,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Ne=!0);else return t.lanes=e.lanes,Ot(e,t,o)}return ru(e,t,n,r,o)}function pE(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(Tr,Oe),Oe|=n;else{if((n&1073741824)===0)return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,B(Tr,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,B(Tr,Oe),Oe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,B(Tr,Oe),Oe|=r;return Se(e,t,o,n),t.child}function mE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ru(e,t,n,r,o){var i=De(n)?An:me.current;return i=Ar(t,i),Dr(t,o),n=$u(e,t,n,r,i,o),r=Wu(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ot(e,t,o)):(H&&r&&Pu(t),t.flags|=1,Se(e,t,n,o),t.child)}function Lp(e,t,n,r,o){if(De(n)){var i=!0;ml(t)}else i=!1;if(Dr(t,o),t.stateNode===null)el(e,t),uE(t,n,r),tu(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,s=t.memoizedProps;l.props=s;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=We(u):(u=De(n)?An:me.current,u=Ar(t,u));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||a!==u)&&Tp(t,l,r,u),Wt=!1;var E=t.memoizedState;l.state=E,yl(t,r,l,o),a=t.memoizedState,s!==r||E!==a||Ce.current||Wt?(typeof p=="function"&&(eu(t,n,p,r),a=t.memoizedState),(s=Wt||Sp(t,n,s,r,E,a,u))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=u,r=s):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Gm(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:be(t.type,s),l.props=u,m=t.pendingProps,E=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=We(a):(a=De(n)?An:me.current,a=Ar(t,a));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==m||E!==a)&&Tp(t,l,r,a),Wt=!1,E=t.memoizedState,l.state=E,yl(t,r,l,o);var S=t.memoizedState;s!==m||E!==S||Ce.current||Wt?(typeof v=="function"&&(eu(t,n,v,r),S=t.memoizedState),(u=Wt||Sp(t,n,u,r,E,S,a)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,S,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,S,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),l.props=r,l.state=S,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),r=!1)}return ou(e,t,n,r,i,o)}function ou(e,t,n,r,o,i){mE(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&fp(t,n,!1),Ot(e,t,i);r=t.stateNode,By.current=t;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Rr(t,e.child,null,i),t.child=Rr(t,null,s,i)):Se(e,t,s,i),t.memoizedState=r.state,o&&fp(t,n,!0),t.child}function EE(e){var t=e.stateNode;t.pendingContext?dp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dp(e,t.context,!1),Vu(e,t.containerInfo)}function wp(e,t,n,r,o){return Or(),ku(o),t.flags|=256,Se(e,t,n,r),t.child}var iu={dehydrated:null,treeContext:null,retryLane:0};function lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function hE(e,t,n){var r=t.pendingProps,o=G.current,i=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),B(G,o&1),e===null)return Ja(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},(r&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Fl(l,r,0,null),e=wn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=lu(n),t.memoizedState=iu,e):Ku(t,l));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return Uy(e,t,l,r,s,o,n);if(i){i=r.fallback,l=t.mode,o=e.child,s=o.sibling;var a={mode:"hidden",children:r.children};return(l&1)===0&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=rn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?i=rn(s,i):(i=wn(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?lu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=iu,r}return i=e.child,e=i.sibling,r=rn(i,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ku(e,t){return t=Fl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wi(e,t,n,r){return r!==null&&ku(r),Rr(t,e.child,null,n),e=Ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uy(e,t,n,r,o,i,l){if(n)return t.flags&256?(t.flags&=-257,r=Sa(Error(h(422))),Wi(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Fl({mode:"visible",children:r.children},o,0,null),i=wn(i,o,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,(t.mode&1)!==0&&Rr(t,e.child,null,l),t.child.memoizedState=lu(l),t.memoizedState=iu,i);if((t.mode&1)===0)return Wi(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(h(419)),r=Sa(i,r,void 0),Wi(e,t,l,r)}if(s=(l&e.childLanes)!==0,Ne||s){if(r=re,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(r.suspendedLanes|l))!==0?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,At(e,o),rt(r,e,o,-1))}return ec(),r=Sa(Error(h(421))),Wi(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Qy.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Re=bt(o.nextSibling),Pe=t,H=!0,tt=null,e!==null&&(He[Ge++]=Nt,He[Ge++]=Ct,He[Ge++]=On,Nt=e.id,Ct=e.overflow,On=t),t=Ku(t,r.children),t.flags|=4096,t)}function Ap(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ba(e.return,t,n)}function Ta(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function gE(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Se(e,t,r.children,n),r=G.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ap(e,n,t);else if(e.tag===19)Ap(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(B(G,r),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Sl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ta(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Sl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ta(t,!0,n,null,i);break;case"together":Ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function el(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(h(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Fy(e,t,n){switch(t.tag){case 3:EE(t),Or();break;case 5:jm(t);break;case 1:De(t.type)&&ml(t);break;case 4:Vu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;B(gl,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(B(G,G.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?hE(e,t,n):(B(G,G.current&1),e=Ot(e,t,n),e!==null?e.sibling:null);B(G,G.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return gE(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),B(G,G.current),r)break;return null;case 22:case 23:return t.lanes=0,pE(e,t,n)}return Ot(e,t,n)}var vE,su,yE,SE;vE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};su=function(){};yE=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Dn(ct.current);var i=null;switch(n){case"input":o=Aa(e,o),r=Aa(e,r),i=[];break;case"select":o=$({},o,{value:void 0}),r=$({},r,{value:void 0}),i=[];break;case"textarea":o=Pa(e,o),r=Pa(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fl)}ka(n,r);var l;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var s=o[u];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ao.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(s=o?.[u],r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(l in s)!s.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&s[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ao.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&U("scroll",e),i||s===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};SE=function(e,t,n,r){n!==r&&(t.flags|=4)};function po(e,t){if(!H)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zy(e,t,n){var r=t.pendingProps;switch(xu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(t),null;case 1:return De(t.type)&&pl(),fe(t),null;case 3:return r=t.stateNode,Pr(),F(Ce),F(me),Gu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ji(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,tt!==null&&(Eu(tt),tt=null))),su(e,t),fe(t),null;case 5:Hu(t);var o=Dn(Ho.current);if(n=t.type,e!==null&&t.stateNode!=null)yE(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(h(166));return fe(t),null}if(e=Dn(ct.current),ji(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[at]=t,r[zo]=i,e=(t.mode&1)!==0,n){case"dialog":U("cancel",r),U("close",r);break;case"iframe":case"object":case"embed":U("load",r);break;case"video":case"audio":for(o=0;o<yo.length;o++)U(yo[o],r);break;case"source":U("error",r);break;case"img":case"image":case"link":U("error",r),U("load",r);break;case"details":U("toggle",r);break;case"input":Uf(r,i),U("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},U("invalid",r);break;case"textarea":zf(r,i),U("invalid",r)}ka(n,i),o=null;for(var l in i)if(i.hasOwnProperty(l)){var s=i[l];l==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Gi(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Gi(r.textContent,s,e),o=["children",""+s]):Ao.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&U("scroll",r)}switch(n){case"input":Oi(r),Ff(r,i,!0);break;case"textarea":Oi(r),Vf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=fl)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[at]=t,e[zo]=r,vE(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ma(n,r),n){case"dialog":U("cancel",e),U("close",e),o=r;break;case"iframe":case"object":case"embed":U("load",e),o=r;break;case"video":case"audio":for(o=0;o<yo.length;o++)U(yo[o],e);o=r;break;case"source":U("error",e),o=r;break;case"img":case"image":case"link":U("error",e),U("load",e),o=r;break;case"details":U("toggle",e),o=r;break;case"input":Uf(e,r),o=Aa(e,r),U("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=$({},r,{value:void 0}),U("invalid",e);break;case"textarea":zf(e,r),o=Pa(e,r),U("invalid",e);break;default:o=r}ka(n,o),s=o;for(i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="style"?Zp(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&qp(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Oo(e,a):typeof a=="number"&&Oo(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ao.hasOwnProperty(i)?a!=null&&i==="onScroll"&&U("scroll",e):a!=null&&vu(e,i,a,l))}switch(n){case"input":Oi(e),Ff(e,r,!1);break;case"textarea":Oi(e),Vf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+on(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?_r(e,!!r.multiple,i,!1):r.defaultValue!=null&&_r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=fl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fe(t),null;case 6:if(e&&t.stateNode!=null)SE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(h(166));if(n=Dn(Ho.current),Dn(ct.current),ji(t)){if(r=t.stateNode,n=t.memoizedProps,r[at]=t,(i=r.nodeValue!==n)&&(e=Pe,e!==null))switch(e.tag){case 3:Gi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[at]=t,t.stateNode=r}return fe(t),null;case 13:if(F(G),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(H&&Re!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Fm(),Or(),t.flags|=98560,i=!1;else if(i=ji(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(h(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(h(317));i[at]=t}else Or(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;fe(t),i=!1}else tt!==null&&(Eu(tt),tt=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(G.current&1)!==0?ee===0&&(ee=3):ec())),t.updateQueue!==null&&(t.flags|=4),fe(t),null);case 4:return Pr(),su(e,t),e===null&&Uo(t.stateNode.containerInfo),fe(t),null;case 10:return Uu(t.type._context),fe(t),null;case 17:return De(t.type)&&pl(),fe(t),null;case 19:if(F(G),i=t.memoizedState,i===null)return fe(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)po(i,!1);else{if(ee!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(l=Sl(e),l!==null){for(t.flags|=128,po(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return B(G,G.current&1|2),t.child}e=e.sibling}i.tail!==null&&q()>kr&&(t.flags|=128,r=!0,po(i,!1),t.lanes=4194304)}else{if(!r)if(e=Sl(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),po(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!H)return fe(t),null}else 2*q()-i.renderingStartTime>kr&&n!==1073741824&&(t.flags|=128,r=!0,po(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=q(),t.sibling=null,n=G.current,B(G,r?n&1|2:n&1),t):(fe(t),null);case 22:case 23:return bu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Oe&1073741824)!==0&&(fe(t),t.subtreeFlags&6&&(t.flags|=8192)):fe(t),null;case 24:return null;case 25:return null}throw Error(h(156,t.tag))}function Vy(e,t){switch(xu(t),t.tag){case 1:return De(t.type)&&pl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pr(),F(Ce),F(me),Gu(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Hu(t),null;case 13:if(F(G),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(h(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return F(G),null;case 4:return Pr(),null;case 10:return Uu(t.type._context),null;case 22:case 23:return bu(),null;case 24:return null;default:return null}}var Xi=!1,pe=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,_=null;function Sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){K(e,t,r)}else n.current=null}function au(e,t,n){try{n()}catch(r){K(e,t,r)}}var Op=!1;function Gy(e,t){if(Wa=ul,e=Cm(),Ru(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,s=-1,a=-1,u=0,p=0,m=e,E=null;t:for(;;){for(var v;m!==n||o!==0&&m.nodeType!==3||(s=l+o),m!==i||r!==0&&m.nodeType!==3||(a=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(v=m.firstChild)!==null;)E=m,m=v;for(;;){if(m===e)break t;if(E===n&&++u===o&&(s=l),E===i&&++p===r&&(a=l),(v=m.nextSibling)!==null)break;m=E,E=m.parentNode}m=v}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xa={focusedElem:e,selectionRange:n},ul=!1,_=t;_!==null;)if(t=_,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_=e;else for(;_!==null;){t=_;try{var S=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,z=S.memoizedState,d=t.stateNode,c=d.getSnapshotBeforeUpdate(t.elementType===t.type?T:be(t.type,T),z);d.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(h(163))}}catch(g){K(t,t.return,g)}if(e=t.sibling,e!==null){e.return=t.return,_=e;break}_=t.return}return S=Op,Op=!1,S}function Do(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&au(t,n,i)}o=o.next}while(o!==r)}}function Bl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function TE(e){var t=e.alternate;t!==null&&(e.alternate=null,TE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[zo],delete t[qa],delete t[Ny],delete t[Cy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _E(e){return e.tag===5||e.tag===3||e.tag===4}function Rp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_E(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fl));else if(r!==4&&(e=e.child,e!==null))for(cu(e,t,n),e=e.sibling;e!==null;)cu(e,t,n),e=e.sibling}function du(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(du(e,t,n),e=e.sibling;e!==null;)du(e,t,n),e=e.sibling}var ie=null,et=!1;function jt(e,t,n){for(n=n.child;n!==null;)IE(e,t,n),n=n.sibling}function IE(e,t,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(wl,n)}catch{}switch(n.tag){case 5:pe||Sr(n,t);case 6:var r=ie,o=et;ie=null,jt(e,t,n),ie=r,et=o,ie!==null&&(et?(e=ie,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ie.removeChild(n.stateNode));break;case 18:ie!==null&&(et?(e=ie,n=n.stateNode,e.nodeType===8?ma(e.parentNode,n):e.nodeType===1&&ma(e,n),ko(e)):ma(ie,n.stateNode));break;case 4:r=ie,o=et,ie=n.stateNode.containerInfo,et=!0,jt(e,t,n),ie=r,et=o;break;case 0:case 11:case 14:case 15:if(!pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,l=i.destroy;i=i.tag,l!==void 0&&((i&2)!==0||(i&4)!==0)&&au(n,t,l),o=o.next}while(o!==r)}jt(e,t,n);break;case 1:if(!pe&&(Sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){K(n,t,s)}jt(e,t,n);break;case 21:jt(e,t,n);break;case 22:n.mode&1?(pe=(r=pe)||n.memoizedState!==null,jt(e,t,n),pe=r):jt(e,t,n);break;default:jt(e,t,n)}}function Pp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hy),t.forEach(function(r){var o=Zy.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Je(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 5:ie=s.stateNode,et=!1;break e;case 3:ie=s.stateNode.containerInfo,et=!0;break e;case 4:ie=s.stateNode.containerInfo,et=!0;break e}s=s.return}if(ie===null)throw Error(h(160));IE(i,l,o),ie=null,et=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){K(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)NE(t,e),t=t.sibling}function NE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(t,e),lt(e),r&4){try{Do(3,e,e.return),Bl(3,e)}catch(T){K(e,e.return,T)}try{Do(5,e,e.return)}catch(T){K(e,e.return,T)}}break;case 1:Je(t,e),lt(e),r&512&&n!==null&&Sr(n,n.return);break;case 5:if(Je(t,e),lt(e),r&512&&n!==null&&Sr(n,n.return),e.flags&32){var o=e.stateNode;try{Oo(o,"")}catch(T){K(e,e.return,T)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&Xp(o,i),Ma(s,l);var u=Ma(s,i);for(l=0;l<a.length;l+=2){var p=a[l],m=a[l+1];p==="style"?Zp(o,m):p==="dangerouslySetInnerHTML"?qp(o,m):p==="children"?Oo(o,m):vu(o,p,m,u)}switch(s){case"input":Oa(o,i);break;case"textarea":Yp(o,i);break;case"select":var E=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?_r(o,!!i.multiple,v,!1):E!==!!i.multiple&&(i.defaultValue!=null?_r(o,!!i.multiple,i.defaultValue,!0):_r(o,!!i.multiple,i.multiple?[]:"",!1))}o[zo]=i}catch(T){K(e,e.return,T)}}break;case 6:if(Je(t,e),lt(e),r&4){if(e.stateNode===null)throw Error(h(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(T){K(e,e.return,T)}}break;case 3:if(Je(t,e),lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ko(t.containerInfo)}catch(T){K(e,e.return,T)}break;case 4:Je(t,e),lt(e);break;case 13:Je(t,e),lt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Zu=q())),r&4&&Pp(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(pe=(u=pe)||p,Je(t,e),pe=u):Je(t,e),lt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&(e.mode&1)!==0)for(_=e,p=e.child;p!==null;){for(m=_=p;_!==null;){switch(E=_,v=E.child,E.tag){case 0:case 11:case 14:case 15:Do(4,E,E.return);break;case 1:Sr(E,E.return);var S=E.stateNode;if(typeof S.componentWillUnmount=="function"){r=E,n=E.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(T){K(r,n,T)}}break;case 5:Sr(E,E.return);break;case 22:if(E.memoizedState!==null){kp(m);continue}}v!==null?(v.return=E,_=v):kp(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{o=m.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=m.stateNode,a=m.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=Qp("display",l))}catch(T){K(e,e.return,T)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(T){K(e,e.return,T)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Je(t,e),lt(e),r&4&&Pp(e);break;case 21:break;default:Je(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_E(n)){var r=n;break e}n=n.return}throw Error(h(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Oo(o,""),r.flags&=-33);var i=Rp(e);du(e,i,o);break;case 3:case 4:var l=r.stateNode.containerInfo,s=Rp(e);cu(e,s,l);break;default:throw Error(h(161))}}catch(a){K(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jy(e,t,n){_=e,CE(e,t,n)}function CE(e,t,n){for(var r=(e.mode&1)!==0;_!==null;){var o=_,i=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||Xi;if(!l){var s=o.alternate,a=s!==null&&s.memoizedState!==null||pe;s=Xi;var u=pe;if(Xi=l,(pe=a)&&!u)for(_=o;_!==null;)l=_,a=l.child,l.tag===22&&l.memoizedState!==null?Mp(o):a!==null?(a.return=l,_=a):Mp(o);for(;i!==null;)_=i,CE(i,t,n),i=i.sibling;_=o,Xi=s,pe=u}xp(e,t,n)}else(o.subtreeFlags&8772)!==0&&i!==null?(i.return=o,_=i):xp(e,t,n)}}function xp(e){for(;_!==null;){var t=_;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:pe||Bl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:be(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gp(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gp(t,l,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&ko(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(h(163))}pe||t.flags&512&&uu(t)}catch(E){K(t,t.return,E)}}if(t===e){_=null;break}if(n=t.sibling,n!==null){n.return=t.return,_=n;break}_=t.return}}function kp(e){for(;_!==null;){var t=_;if(t===e){_=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_=n;break}_=t.return}}function Mp(e){for(;_!==null;){var t=_;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Bl(4,t)}catch(a){K(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){K(t,o,a)}}var i=t.return;try{uu(t)}catch(a){K(t,i,a)}break;case 5:var l=t.return;try{uu(t)}catch(a){K(t,l,a)}}}catch(a){K(t,t.return,a)}if(t===e){_=null;break}var s=t.sibling;if(s!==null){s.return=t.return,_=s;break}_=t.return}}var $y=Math.ceil,Il=Rt.ReactCurrentDispatcher,qu=Rt.ReactCurrentOwner,$e=Rt.ReactCurrentBatchConfig,R=0,re=null,J=null,le=0,Oe=0,Tr=an(0),ee=0,Wo=null,Pn=0,Ul=0,Qu=0,Lo=null,Ie=null,Zu=0,kr=1/0,_t=null,Nl=!1,fu=null,tn=null,Yi=!1,qt=null,Cl=0,wo=0,pu=null,tl=-1,nl=0;function Te(){return(R&6)!==0?q():tl!==-1?tl:tl=q()}function nn(e){return(e.mode&1)===0?1:(R&2)!==0&&le!==0?le&-le:Ly.transition!==null?(nl===0&&(nl=um()),nl):(e=x,e!==0||(e=window.event,e=e===void 0?16:hm(e.type)),e)}function rt(e,t,n,r){if(50<wo)throw wo=0,pu=null,Error(h(185));Xo(e,n,r),((R&2)===0||e!==re)&&(e===re&&((R&2)===0&&(Ul|=n),ee===4&&Yt(e,le)),Le(e,r),n===1&&R===0&&(t.mode&1)===0&&(kr=q()+500,xl&&un()))}function Le(e,t){var n=e.callbackNode;Av(e,t);var r=al(e,e===re?le:0);if(r===0)n!==null&&jf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&jf(n),t===1)e.tag===0?Dy(Bp.bind(null,e)):Mm(Bp.bind(null,e)),_y(function(){(R&6)===0&&un()}),n=null;else{switch(cm(r)){case 1:n=Iu;break;case 4:n=sm;break;case 16:n=sl;break;case 536870912:n=am;break;default:n=sl}n=xE(n,DE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function DE(e,t){if(tl=-1,nl=0,(R&6)!==0)throw Error(h(327));var n=e.callbackNode;if(Lr()&&e.callbackNode!==n)return null;var r=al(e,e===re?le:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Dl(e,r);else{t=r;var o=R;R|=2;var i=wE();(re!==e||le!==t)&&(_t=null,kr=q()+500,Ln(e,t));do try{Yy();break}catch(s){LE(e,s)}while(!0);Bu(),Il.current=i,R=o,J!==null?t=0:(re=null,le=0,t=ee)}if(t!==0){if(t===2&&(o=Va(e),o!==0&&(r=o,t=mu(e,o))),t===1)throw n=Wo,Ln(e,0),Yt(e,r),Le(e,q()),n;if(t===6)Yt(e,r);else{if(o=e.current.alternate,(r&30)===0&&!Wy(o)&&(t=Dl(e,r),t===2&&(i=Va(e),i!==0&&(r=i,t=mu(e,i))),t===1))throw n=Wo,Ln(e,0),Yt(e,r),Le(e,q()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(h(345));case 2:In(e,Ie,_t);break;case 3:if(Yt(e,r),(r&130023424)===r&&(t=Zu+500-q(),10<t)){if(al(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Te(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ka(In.bind(null,e,Ie,_t),t);break}In(e,Ie,_t);break;case 4:if(Yt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-nt(r);i=1<<l,l=t[l],l>o&&(o=l),r&=~i}if(r=o,r=q()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$y(r/1960))-r,10<r){e.timeoutHandle=Ka(In.bind(null,e,Ie,_t),r);break}In(e,Ie,_t);break;case 5:In(e,Ie,_t);break;default:throw Error(h(329))}}}return Le(e,q()),e.callbackNode===n?DE.bind(null,e):null}function mu(e,t){var n=Lo;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=Dl(e,t),e!==2&&(t=Ie,Ie=n,t!==null&&Eu(t)),e}function Eu(e){Ie===null?Ie=e:Ie.push.apply(Ie,e)}function Wy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ot(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yt(e,t){for(t&=~Qu,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nt(t),r=1<<n;e[n]=-1,t&=~r}}function Bp(e){if((R&6)!==0)throw Error(h(327));Lr();var t=al(e,0);if((t&1)===0)return Le(e,q()),null;var n=Dl(e,t);if(e.tag!==0&&n===2){var r=Va(e);r!==0&&(t=r,n=mu(e,r))}if(n===1)throw n=Wo,Ln(e,0),Yt(e,t),Le(e,q()),n;if(n===6)throw Error(h(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,In(e,Ie,_t),Le(e,q()),null}function Ju(e,t){var n=R;R|=1;try{return e(t)}finally{R=n,R===0&&(kr=q()+500,xl&&un())}}function xn(e){qt!==null&&qt.tag===0&&(R&6)===0&&Lr();var t=R;R|=1;var n=$e.transition,r=x;try{if($e.transition=null,x=1,e)return e()}finally{x=r,$e.transition=n,R=t,(R&6)===0&&un()}}function bu(){Oe=Tr.current,F(Tr)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ty(n)),J!==null)for(n=J.return;n!==null;){var r=n;switch(xu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pl();break;case 3:Pr(),F(Ce),F(me),Gu();break;case 5:Hu(r);break;case 4:Pr();break;case 13:F(G);break;case 19:F(G);break;case 10:Uu(r.type._context);break;case 22:case 23:bu()}n=n.return}if(re=e,J=e=rn(e.current,null),le=Oe=t,ee=0,Wo=null,Qu=Ul=Pn=0,Ie=Lo=null,Cn!==null){for(t=0;t<Cn.length;t++)if(n=Cn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=o,r.next=l}n.pending=r}Cn=null}return e}function LE(e,t){do{var n=J;try{if(Bu(),Ji.current=_l,Tl){for(var r=j.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Tl=!1}if(Rn=0,ne=b=j=null,Co=!1,Go=0,qu.current=null,n===null||n.return===null){ee=1,Wo=t,J=null;break}e:{var i=e,l=n.return,s=n,a=t;if(t=le,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,p=s,m=p.tag;if((p.mode&1)===0&&(m===0||m===11||m===15)){var E=p.alternate;E?(p.updateQueue=E.updateQueue,p.memoizedState=E.memoizedState,p.lanes=E.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=Ip(l);if(v!==null){v.flags&=-257,Np(v,l,s,i,t),v.mode&1&&_p(i,u,t),t=v,a=u;var S=t.updateQueue;if(S===null){var T=new Set;T.add(a),t.updateQueue=T}else S.add(a);break e}else{if((t&1)===0){_p(i,u,t),ec();break e}a=Error(h(426))}}else if(H&&s.mode&1){var z=Ip(l);if(z!==null){(z.flags&65536)===0&&(z.flags|=256),Np(z,l,s,i,t),ku(xr(a,s));break e}}i=a=xr(a,s),ee!==4&&(ee=2),Lo===null?Lo=[i]:Lo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var d=cE(i,a,t);hp(i,d);break e;case 1:s=a;var c=i.type,f=i.stateNode;if((i.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(tn===null||!tn.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var g=dE(i,s,t);hp(i,g);break e}}i=i.return}while(i!==null)}OE(n)}catch(I){t=I,J===n&&n!==null&&(J=n=n.return);continue}break}while(!0)}function wE(){var e=Il.current;return Il.current=_l,e===null?_l:e}function ec(){(ee===0||ee===3||ee===2)&&(ee=4),re===null||(Pn&268435455)===0&&(Ul&268435455)===0||Yt(re,le)}function Dl(e,t){var n=R;R|=2;var r=wE();(re!==e||le!==t)&&(_t=null,Ln(e,t));do try{Xy();break}catch(o){LE(e,o)}while(!0);if(Bu(),R=n,Il.current=r,J!==null)throw Error(h(261));return re=null,le=0,ee}function Xy(){for(;J!==null;)AE(J)}function Yy(){for(;J!==null&&!Sv();)AE(J)}function AE(e){var t=PE(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?OE(e):J=t,qu.current=null}function OE(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=zy(n,t,Oe),n!==null){J=n;return}}else{if(n=Vy(n,t),n!==null){n.flags&=32767,J=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ee=6,J=null;return}}if(t=t.sibling,t!==null){J=t;return}J=t=e}while(t!==null);ee===0&&(ee=5)}function In(e,t,n){var r=x,o=$e.transition;try{$e.transition=null,x=1,Ky(e,t,n,r)}finally{$e.transition=o,x=r}return null}function Ky(e,t,n,r){do Lr();while(qt!==null);if((R&6)!==0)throw Error(h(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ov(e,i),e===re&&(J=re=null,le=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Yi||(Yi=!0,xE(sl,function(){return Lr(),null})),i=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||i){i=$e.transition,$e.transition=null;var l=x;x=1;var s=R;R|=4,qu.current=null,Gy(e,n),NE(n,e),hy(Xa),ul=!!Wa,Xa=Wa=null,e.current=n,jy(n,e,o),Tv(),R=s,x=l,$e.transition=i}else e.current=n;if(Yi&&(Yi=!1,qt=e,Cl=o),i=e.pendingLanes,i===0&&(tn=null),Nv(n.stateNode,r),Le(e,q()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Nl)throw Nl=!1,e=fu,fu=null,e;return(Cl&1)!==0&&e.tag!==0&&Lr(),i=e.pendingLanes,(i&1)!==0?e===pu?wo++:(wo=0,pu=e):wo=0,un(),null}function Lr(){if(qt!==null){var e=cm(Cl),t=$e.transition,n=x;try{if($e.transition=null,x=16>e?16:e,qt===null)var r=!1;else{if(e=qt,qt=null,Cl=0,(R&6)!==0)throw Error(h(331));var o=R;for(R|=4,_=e.current;_!==null;){var i=_,l=i.child;if((_.flags&16)!==0){var s=i.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(_=u;_!==null;){var p=_;switch(p.tag){case 0:case 11:case 15:Do(8,p,i)}var m=p.child;if(m!==null)m.return=p,_=m;else for(;_!==null;){p=_;var E=p.sibling,v=p.return;if(TE(p),p===u){_=null;break}if(E!==null){E.return=v,_=E;break}_=v}}}var S=i.alternate;if(S!==null){var T=S.child;if(T!==null){S.child=null;do{var z=T.sibling;T.sibling=null,T=z}while(T!==null)}}_=i}}if((i.subtreeFlags&2064)!==0&&l!==null)l.return=i,_=l;else e:for(;_!==null;){if(i=_,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:Do(9,i,i.return)}var d=i.sibling;if(d!==null){d.return=i.return,_=d;break e}_=i.return}}var c=e.current;for(_=c;_!==null;){l=_;var f=l.child;if((l.subtreeFlags&2064)!==0&&f!==null)f.return=l,_=f;else e:for(l=c;_!==null;){if(s=_,(s.flags&2048)!==0)try{switch(s.tag){case 0:case 11:case 15:Bl(9,s)}}catch(I){K(s,s.return,I)}if(s===l){_=null;break e}var g=s.sibling;if(g!==null){g.return=s.return,_=g;break e}_=s.return}}if(R=o,un(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(wl,e)}catch{}r=!0}return r}finally{x=n,$e.transition=t}}return!1}function Up(e,t,n){t=xr(n,t),t=cE(e,t,1),e=en(e,t,1),t=Te(),e!==null&&(Xo(e,1,t),Le(e,t))}function K(e,t,n){if(e.tag===3)Up(e,e,n);else for(;t!==null;){if(t.tag===3){Up(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tn===null||!tn.has(r))){e=xr(n,e),e=dE(t,e,1),t=en(t,e,1),e=Te(),t!==null&&(Xo(t,1,e),Le(t,e));break}}t=t.return}}function qy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Te(),e.pingedLanes|=e.suspendedLanes&n,re===e&&(le&n)===n&&(ee===4||ee===3&&(le&130023424)===le&&500>q()-Zu?Ln(e,0):Qu|=n),Le(e,t)}function RE(e,t){t===0&&((e.mode&1)===0?t=1:(t=xi,xi<<=1,(xi&130023424)===0&&(xi=4194304)));var n=Te();e=At(e,t),e!==null&&(Xo(e,t,n),Le(e,n))}function Qy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),RE(e,n)}function Zy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(h(314))}r!==null&&r.delete(t),RE(e,n)}var PE;PE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ce.current)Ne=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ne=!1,Fy(e,t,n);Ne=(e.flags&131072)!==0}else Ne=!1,H&&(t.flags&1048576)!==0&&Bm(t,hl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;el(e,t),e=t.pendingProps;var o=Ar(t,me.current);Dr(t,n),o=$u(null,t,r,e,o,n);var i=Wu();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(r)?(i=!0,ml(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,zu(t),o.updater=Ml,t.stateNode=o,o._reactInternals=t,tu(t,r,e,n),t=ou(null,t,r,!0,i,n)):(t.tag=0,H&&i&&Pu(t),Se(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(el(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=by(r),e=be(r,e),o){case 0:t=ru(null,t,r,e,n);break e;case 1:t=Lp(null,t,r,e,n);break e;case 11:t=Cp(null,t,r,e,n);break e;case 14:t=Dp(null,t,r,be(r.type,e),n);break e}throw Error(h(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:be(r,o),ru(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:be(r,o),Lp(e,t,r,o,n);case 3:e:{if(EE(t),e===null)throw Error(h(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Gm(e,t),yl(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=xr(Error(h(423)),t),t=wp(e,t,r,n,o);break e}else if(r!==o){o=xr(Error(h(424)),t),t=wp(e,t,r,n,o);break e}else for(Re=bt(t.stateNode.containerInfo.firstChild),Pe=t,H=!0,tt=null,n=Vm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Or(),r===o){t=Ot(e,t,n);break e}Se(e,t,r,n)}t=t.child}return t;case 5:return jm(t),e===null&&Ja(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,l=o.children,Ya(r,o)?l=null:i!==null&&Ya(r,i)&&(t.flags|=32),mE(e,t),Se(e,t,l,n),t.child;case 6:return e===null&&Ja(t),null;case 13:return hE(e,t,n);case 4:return Vu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rr(t,null,r,n):Se(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:be(r,o),Cp(e,t,r,o,n);case 7:return Se(e,t,t.pendingProps,n),t.child;case 8:return Se(e,t,t.pendingProps.children,n),t.child;case 12:return Se(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,B(gl,r._currentValue),r._currentValue=l,i!==null)if(ot(i.value,l)){if(i.children===o.children&&!Ce.current){t=Ot(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){l=i.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Dt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),ba(i.return,n,t),s.lanes|=n;break}a=a.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(h(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),ba(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Se(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Dr(t,n),o=We(o),r=r(o),t.flags|=1,Se(e,t,r,n),t.child;case 14:return r=t.type,o=be(r,t.pendingProps),o=be(r.type,o),Dp(e,t,r,o,n);case 15:return fE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:be(r,o),el(e,t),t.tag=1,De(r)?(e=!0,ml(t)):e=!1,Dr(t,n),uE(t,r,o),tu(t,r,o,n),ou(null,t,r,!0,e,n);case 19:return gE(e,t,n);case 22:return pE(e,t,n)}throw Error(h(156,t.tag))};function xE(e,t){return lm(e,t)}function Jy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function je(e,t,n,r){return new Jy(e,t,n,r)}function tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function by(e){if(typeof e=="function")return tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Su)return 11;if(e===Tu)return 14}return 2}function rn(e,t){var n=e.alternate;return n===null?(n=je(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rl(e,t,n,r,o,i){var l=2;if(r=e,typeof e=="function")tc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case dr:return wn(n.children,o,i,t);case yu:l=8,o|=8;break;case Ca:return e=je(12,n,t,o|2),e.elementType=Ca,e.lanes=i,e;case Da:return e=je(13,n,t,o),e.elementType=Da,e.lanes=i,e;case La:return e=je(19,n,t,o),e.elementType=La,e.lanes=i,e;case jp:return Fl(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hp:l=10;break e;case Gp:l=9;break e;case Su:l=11;break e;case Tu:l=14;break e;case $t:l=16,r=null;break e}throw Error(h(130,e==null?e:typeof e,""))}return t=je(l,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function wn(e,t,n,r){return e=je(7,e,r,t),e.lanes=n,e}function Fl(e,t,n,r){return e=je(22,e,r,t),e.elementType=jp,e.lanes=n,e.stateNode={isHidden:!1},e}function _a(e,t,n){return e=je(6,e,null,t),e.lanes=n,e}function Ia(e,t,n){return t=je(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eS(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=la(0),this.expirationTimes=la(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function nc(e,t,n,r,o,i,l,s,a){return e=new eS(e,t,n,s,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=je(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zu(i),e}function tS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kE(e){if(!e)return ln;e=e._reactInternals;e:{if(Mn(e)!==e||e.tag!==1)throw Error(h(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(h(171))}if(e.tag===1){var n=e.type;if(De(n))return km(e,n,t)}return t}function ME(e,t,n,r,o,i,l,s,a){return e=nc(n,r,!0,e,o,i,l,s,a),e.context=kE(null),n=e.current,r=Te(),o=nn(n),i=Dt(r,o),i.callback=t??null,en(n,i,o),e.current.lanes=o,Xo(e,o,r),Le(e,r),e}function zl(e,t,n,r){var o=t.current,i=Te(),l=nn(o);return n=kE(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=en(o,t,l),e!==null&&(rt(e,o,l,i),Zi(e,o,l)),l}function Ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rc(e,t){Fp(e,t),(e=e.alternate)&&Fp(e,t)}function nS(){return null}var BE=typeof reportError=="function"?reportError:function(e){console.error(e)};function oc(e){this._internalRoot=e}Vl.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(h(409));zl(e,t,null,null)};Vl.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){zl(null,e,null,null)}),t[wt]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=pm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&t!==0&&t<Xt[n].priority;n++);Xt.splice(n,0,e),n===0&&Em(e)}};function ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zp(){}function rS(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Ll(l);i.call(u)}}var l=ME(t,r,e,0,null,!1,!1,"",zp);return e._reactRootContainer=l,e[wt]=l.current,Uo(e.nodeType===8?e.parentNode:e),xn(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var u=Ll(a);s.call(u)}}var a=nc(e,0,!1,null,null,!1,!1,"",zp);return e._reactRootContainer=a,e[wt]=a.current,Uo(e.nodeType===8?e.parentNode:e),xn(function(){zl(t,a,n,r)}),a}function Gl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var l=i;if(typeof o=="function"){var s=o;o=function(){var a=Ll(l);s.call(a)}}zl(t,l,e,o)}else l=rS(n,t,e,o,r);return Ll(l)}dm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vo(t.pendingLanes);n!==0&&(Nu(t,n|1),Le(t,q()),(R&6)===0&&(kr=q()+500,un()))}break;case 13:xn(function(){var r=At(e,1);if(r!==null){var o=Te();rt(r,e,1,o)}}),rc(e,1)}};Cu=function(e){if(e.tag===13){var t=At(e,134217728);if(t!==null){var n=Te();rt(t,e,134217728,n)}rc(e,134217728)}};fm=function(e){if(e.tag===13){var t=nn(e),n=At(e,t);if(n!==null){var r=Te();rt(n,e,t,r)}rc(e,t)}};pm=function(){return x};mm=function(e,t){var n=x;try{return x=e,t()}finally{x=n}};Ua=function(e,t,n){switch(t){case"input":if(Oa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Pl(r);if(!o)throw Error(h(90));Wp(r),Oa(r,o)}}}break;case"textarea":Yp(e,n);break;case"select":t=n.value,t!=null&&_r(e,!!n.multiple,t,!1)}};em=Ju;tm=xn;var oS={usingClientEntryPoint:!1,Events:[Ko,Er,Pl,Jp,bp,Ju]},mo={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iS={bundleType:mo.bundleType,version:mo.version,rendererPackageName:mo.rendererPackageName,rendererConfig:mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=om(e),e===null?null:e.stateNode},findFiberByHostInstance:mo.findFiberByHostInstance||nS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Eo=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Eo.isDisabled&&Eo.supportsFiber))try{wl=Eo.inject(iS),ut=Eo}catch{}var Eo;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oS;Me.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ic(t))throw Error(h(200));return tS(e,t,null,n)};Me.createRoot=function(e,t){if(!ic(e))throw Error(h(299));var n=!1,r="",o=BE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=nc(e,1,!1,null,null,n,!1,r,o),e[wt]=t.current,Uo(e.nodeType===8?e.parentNode:e),new oc(t)};Me.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(h(188)):(e=Object.keys(e).join(","),Error(h(268,e)));return e=om(t),e=e===null?null:e.stateNode,e};Me.flushSync=function(e){return xn(e)};Me.hydrate=function(e,t,n){if(!Hl(t))throw Error(h(200));return Gl(null,e,t,!0,n)};Me.hydrateRoot=function(e,t,n){if(!ic(e))throw Error(h(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",l=BE;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=ME(t,null,e,1,n??null,o,!1,i,l),e[wt]=t.current,Uo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Vl(t)};Me.render=function(e,t,n){if(!Hl(t))throw Error(h(200));return Gl(null,e,t,!1,n)};Me.unmountComponentAtNode=function(e){if(!Hl(e))throw Error(h(40));return e._reactRootContainer?(xn(function(){Gl(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};Me.unstable_batchedUpdates=Ju;Me.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hl(n))throw Error(h(200));if(e==null||e._reactInternals===void 0)throw Error(h(38));return Gl(e,t,n,!1,r)};Me.version="18.3.1-next-f1338f8080-20240426"});var VE=cn((TT,zE)=>{"use strict";function FE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FE)}catch(e){console.error(e)}}FE(),zE.exports=UE()});var GE=cn(lc=>{"use strict";var HE=VE();lc.createRoot=HE.createRoot,lc.hydrateRoot=HE.hydrateRoot;var _T});var P={DATE_INPUT:"date",DIET_TYPE_SELECT:"diet-type",TOP_BAR:".top-bar",FOOTER:"footer",EASTER_EGG_OVERLAY:".easter-egg-overlay",EASTER_EGG_ICON:".easter-egg-icon",SERVICE_NUMBER_PREFIX:"service-number-",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2",TAB_DADES:"tab-dades",TAB_SERVEIS:"tab-serveis",CONTENT_DADES:"dades-tab-content",CONTENT_SERVEIS:"serveis-tab-content",MAIN_CONTENT_AREA:"main-content",CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips",SIGNATURE_MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title",DOTACIO_MODAL:"dotacio-modal",OPTIONS_CONTAINER_DOT:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline",SAVE_DIET:"save-diet",NOTES_BUTTON_ID:"notes-selected-service",NOTES_MODAL_ID:"notes-modal",NOTES_TITLE_ID:"notes-title",NOTES_TEXTAREA_ID:"notes-textarea",NOTES_SAVE_ID:"notes-save",NOTES_CANCEL_ID:"notes-cancel",NOTES_COUNTER_ID:"notes-char-counter",SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel",TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text",SAVE_PILL:"save-pill",DONATION_LINK_ID:"openDonation",COOKIE_CONSENT_BANNER:"cookie-consent-banner",ACCEPT_COOKIES:"accept-cookies",DECLINE_COOKIES:"decline-cookies"},he={INPUT_ERROR:"input-error",ACTIVE_TAB:"active",ERROR_TAB:"error-tab",MODAL_OPEN:"modal-open",MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",TOP_BAR_TAPS:3,FOOTER_TAPS:2,TIMEOUT:1e3,ANIMATION_DURATION:1e3,DEFAULT_DURATION:3e3,ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1,SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",CHIP_ACTIVE:"chip-active",PANEL_VISIBLE:"visible",BUTTON_OPEN:"open",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_LOAD_BTN:"diet-load",DIET_DELETE_BTN:"diet-delete",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal",INPUT_ERROR_DOT:"input-error",IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount",PROMPT_DISMISSED_LIMIT:2,ACTION_TRIGGER_LIMIT:10,DARK_THEME:"theme-dark",VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error",SIGNED:"signed",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Bn={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group",PERSON_INPUT_GROUP:".input-with-icon",TEXT_SEL:".pill-text",SERVICE_CONTAINER_SELECTOR:".service",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete",SERVICE_NUMBER_INPUT:".service-number"},Wl={serviceNumber:".service-number",origin:".origin",destination:".destination",originTime:".origin-time",destinationTime:".destination-time",endTime:".end-time",mode:".chip-active",notes:""},dt={SERVICE_NUMBER_LENGTH:9,VEHICLE_MAX_LENGTH:6,PERSON_NAME_MAX_LENGTH:28,LOCATION_MAX_LENGTH:35,PERSON_NAME_ALLOWED_CHARS:/^[a-zA-Z\s'’áéíóúàèìòùäëïöüñçÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÑÇ]+$/u},fc={DEBOUNCE_TOAST:300,DEBOUNCE_AUTO_SAVE:1e3,DEBOUNCE_HANDLER:800};var Ur={LUNCH:"lunch",DINNER:"dinner"},pc=Bn.SERVICE_CONTAINER_SELECTOR,Xl={SERVICE_NUMBER_DIGITS_ONLY:"Solo se permiten d\xEDgitos (0-9) en el n\xFAmero de servicio.",SAVE_ERROR_DIGITAL_ONLY:"El n\xFAmero de servicio debe contener solo d\xEDgitos.",VALIDATION_FAILED:"Validaci\xF3n fallida",OCR_PROCESS_RUNNING:"Proceso OCR ya en marcha.",INVALID_IMAGE:"Selecciona una imagen.",IMAGE_TOO_BIG:"La imagen es demasiado grande (m\xE1x. 10 MB).",OCR_ERROR:"Error de escaneo",IMAGE_PROCESS_ERROR:"Error al procesar la imagen.",OCR_COMPLETE:"An\xE1lisis completado.",SAVING:"Guardando\u2026",SAVED:"Guardado",SAVE_ERROR:"No se pudo guardar",DOWNLOAD_STARTED:"Descarga iniciada correctamente.",PDF_GENERATION_ERROR:"Error en la generaci\xF3n del PDF",DOTACIO_SAVED:"Dotaci\xF3n guardada.",DOTACIO_LOADED:"Dotaci\xF3n cargada.",DOTACIO_DELETED:"Dotaci\xF3n eliminada."};var mc={DOTACIIONS:"dotacions_v2",ANONYMOUS_USER:"anonymousUserId",COOKIE_CONSENT:"cookie_consent",THEME_PREFERENCE:"themePreference",USER_SELECTED_SERVICE_TYPE:"userSelectedServiceType",ONBOARDING_COMPLETED:"onboardingCompleted"};var ae={CONTAINER_ID:"toast-container",TOAST_CLASS:"toast",DEFAULT_DURATION:3e3,DEFAULT_TYPE:"info",ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1},W={queue:[],isVisible:!1,container:null,currentTimeout:null},eh=e=>e&&typeof e=="string"?e.replace(/[<>&]/g,""):"";function th(e,t,n){if(!e||typeof e!="string"||!e.trim())throw new Error("El missatge del toast \xE9s obligatori i ha de ser una cadena no buida.");if(!ae.ALLOWED_TYPES.includes(t))throw new Error(`Tipus de toast inv\xE0lid: ${t}. Ha de ser un de: ${ae.ALLOWED_TYPES.join(", ")}`);if(!Number.isInteger(n)||n<0||n>6e4)throw new Error("La durada ha d'estar entre 0 i 60000\u202Fms.")}function nh(){return!W.container&&(W.container=document.getElementById(ae.CONTAINER_ID),!W.container)?(console.error(`[Toast] Contenidor '#${ae.CONTAINER_ID}' no trobat.`),null):W.container}function Yl(e){W.currentTimeout&&(clearTimeout(W.currentTimeout),W.currentTimeout=null),e&&(e.classList.add(ae.ANIMATION.EXIT),e.addEventListener("transitionend",()=>e.remove(),{once:!0})),W.isVisible=!1,Ec()}function rh({message:e,type:t,duration:n,options:r}){let o=nh();if(!o)return;let i=document.createElement("div");i.className=`${ae.TOAST_CLASS} ${t}`,i.setAttribute("role","alert"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),i.textContent=eh(e);let l=!0;if(r?.undoCallback instanceof Function){let s=document.createElement("button");s.type="button",s.className=ae.UNDO_BTN_CLASS,s.textContent="Deshacer",s.setAttribute("aria-label","Deshacer la acci\xF3n"),s.addEventListener("click",()=>{l=!1;try{r.undoCallback()}finally{Yl(i)}}),i.appendChild(s)}o.appendChild(i),requestAnimationFrame(()=>{i.classList.add(ae.ANIMATION.ENTER)}),W.currentTimeout=setTimeout(()=>{l&&r?.onExpire instanceof Function&&r.onExpire(),Yl(i)},n)}function Ec(){W.isVisible||W.queue.length===0||(W.isVisible=!0,W.queue.sort((e,t)=>t.priority-e.priority),rh(W.queue.shift()))}function w(e,t=ae.DEFAULT_TYPE,n=ae.DEFAULT_DURATION,r={}){th(e,t,n);let o=r.priority??ae.DEFAULT_PRIORITY,i={message:e,type:t,duration:n,priority:o,options:r};if(!(r.queueable!==!1)&&W.isVisible){if(W.container){let a=W.container.querySelector(`.${ae.TOAST_CLASS}:not(.${ae.ANIMATION.EXIT})`);a&&a.remove()}Yl()}W.queue.length>=ae.MAX_QUEUE_SIZE&&W.queue.sort((a,u)=>a.priority-u.priority).shift();let s=W.queue.findIndex(a=>a.priority<o);s===-1?W.queue.push(i):W.queue.splice(s,0,i),oh(),Ec()}function oh(){let e="toast-undo-style";if(document.getElementById(e))return;let t=document.body.getAttribute("data-csp-nonce"),n=document.createElement("style");n.id=e,t&&n.setAttribute("nonce",t),n.textContent=`
    .${ae.UNDO_BTN_CLASS} {
      margin-left: auto; 
      padding: 8px 12px; 
      background: none;
      border: none;
      border-radius: 4px; 
      cursor: pointer;     
      font-weight: 600;
      font-size: 0.875rem; 
      text-transform: uppercase; 
      letter-spacing: 0.08em; 
      color: inherit; 
      transition: background-color 0.2s ease;
    }
    .${ae.UNDO_BTN_CLASS}:hover {
      background-color: rgba(255, 255, 255, 0.15); 
    }
  `,document.head.appendChild(n)}function dn(e){e?.classList.add(he.INPUT_ERROR)}function Un(e){e?.classList.remove(he.INPUT_ERROR)}function hc(e){if(!e||e.length===0)return"";let t=e.map(n=>`S${n}`);return t.length===1?t[0]:t.length===2?t.join(" y "):`${t.slice(0,-1).join(", ")} y ${t[t.length-1]}`}function Fr(e){!e||e.dataset.errorListenerAttached||(e.addEventListener("input",()=>Un(e),{once:!0}),e.dataset.errorListenerAttached="true")}function gc(e,t,n,r){if(!e)return!0;Un(e);let o=e.value.trim(),i=!1;return o?/^\d+$/.test(o)?o.length!==dt.SERVICE_NUMBER_LENGTH&&(r.digitLength.push(t),i=!0):(r.nonNumeric.push(t),i=!0):n&&(r.emptyRequiredS1=!0,i=!0),i?(dn(e),Fr(e),!1):!0}function ih(e){let t=[];return e.nonNumeric.length>0&&t.push(`El n\xFAmero de servicio ${hc(e.nonNumeric)} debe contener solo d\xEDgitos.`),e.digitLength.length>0&&t.push(`El n\xFAmero de servicio ${hc(e.digitLength)} debe tener ${dt.SERVICE_NUMBER_LENGTH} d\xEDgitos.`),t}function Zo(){let e=!0;return[document.getElementById(P.DATE_INPUT),document.getElementById(P.DIET_TYPE_SELECT)].filter(Boolean).forEach(n=>{Un(n),n.value.trim()||(dn(n),Fr(n),e=!1)}),e}function Jo(){let e={emptyRequiredS1:!1,nonNumeric:[],digitLength:[]},t=!0,n=document.getElementById(`${P.SERVICE_NUMBER_PREFIX}1`);if(!n)return console.error("Validation: No se ha encontrado el input para el servicio S1."),!1;t=gc(n,1,!0,e)&&t;for(let o=2;o<=4;o++){let i=document.getElementById(`${P.SERVICE_NUMBER_PREFIX}${o}`);i&&(t=gc(i,o,!1,e)&&t)}if(t)return!0;let r=ih(e);return r.length>0&&w(r.join(`
`),"error"),!1}function Q(e){return typeof e!="string"?"":e.trim().replace(/[<>&"'`]/g,"").trim()}function bo(e){return e?/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/.test(e):!0}function vc(e,t,n,r){let o=e?.value.trim()||"";return o&&!dt.PERSON_NAME_ALLOWED_CHARS.test(o)?(dn(t),!1):o.length>dt.PERSON_NAME_MAX_LENGTH?(dn(t),r.push(`El nombre del ${n} no puede superar los ${dt.PERSON_NAME_MAX_LENGTH} caracteres.`),!1):!0}function yc(){let e=document.getElementById(P.VEHICLE_INPUT),t=document.getElementById(P.PERSON1_INPUT),n=document.getElementById(P.PERSON2_INPUT),r=t?.closest(Bn.PERSON_INPUT_GROUP),o=n?.closest(Bn.PERSON_INPUT_GROUP);Un(e),Un(r),Un(o);let i=e?.value.trim()||"",l=t?.value.trim()||"",s=n?.value.trim()||"",a=!0,u=[];return i||(dn(e),u.push("El campo Veh\xEDculo es obligatorio."),a=!1),a=vc(t,r,"Conductor",u)&&a,a=vc(n,o,"Ayudante",u)&&a,!l&&!s&&(dn(r),dn(o),u.push("Debe indicar al menos un Conductor o Ayudante."),a=!1),a||(Fr(e),Fr(t),Fr(n),w(u.join(`
`),"error")),a}function Sc(){let e=dt.PERSON_NAME_ALLOWED_CHARS,t=/^[^\x00-\x1F\x7F<>&"'`]*$/u;function n(u){let p=u.target.value;e.test(p)||(u.target.value=p.replace(/[^a-zA-Z\s'’áéíóúàèìòùäëïöüñçÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÑÇ.]/g,""))}function r(u){let p=u.target.value;t.test(p)||(u.target.value=p.replace(/[<>&"'`]/g,"").trim())}function o(u){u.key==="Enter"||u.key==="Tab"||u.ctrlKey||u.metaKey||u.altKey||u.key.length>1||e.test(u.key)||u.preventDefault()}function i(u){u.key==="Enter"||u.key==="Tab"||u.ctrlKey||u.metaKey||u.altKey||u.key.length>1||t.test(u.key)||u.preventDefault()}[document.getElementById(P.PERSON1_INPUT),document.getElementById(P.PERSON2_INPUT)].filter(Boolean).forEach(u=>{u.addEventListener("input",n),u.addEventListener("keypress",o)}),document.querySelectorAll(".service .origin, .service .destination").forEach(u=>{u.addEventListener("input",r),u.addEventListener("keypress",i)});let a=document.getElementById(P.VEHICLE_INPUT);a&&a.addEventListener("input",u=>{u.target.value.length>dt.VEHICLE_MAX_LENGTH&&(u.target.value=u.target.value.slice(0,dt.VEHICLE_MAX_LENGTH))})}var lh=["3.6","3.51","3.22","3.11"],Fn={CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips"},Hr={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group"},X={SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",SERVICE_COLORS:["service-1","service-2","service-3","service-4"],OPTIONS_MENU_HIDDEN:"hidden",CHIP_ACTIVE:"chip-active"},sh=[".chip-group-title",".chip-group",".btn-ocr-inline",".section-divider"],ah=[".destination",".destination-time"],Tc=!1,zn=0,te=[],Gr=[],_c=[],Kl=null,zr=null,ft=null,Vr=null,uh=null,ch=[],xt=[],pt=["","","",""];function dh(){zr&&(zr.innerHTML="",Gr=te.map((e,t)=>{let n=document.createElement("button");return n.className=`service-button ${X.SERVICE_COLORS[t]}`,n.textContent=`S${t+1}`,n.type="button",n.setAttribute("aria-label",`Mostrar servei ${t+1}`),n.addEventListener("click",()=>hh(t)),zr.appendChild(n),n}))}function fh(){!ft||!Vr||(Vr.addEventListener("click",e=>{e.stopPropagation(),ft.classList.toggle(X.OPTIONS_MENU_HIDDEN)}),document.addEventListener("click",e=>{!Vr?.contains(e.target)&&!ft?.contains(e.target)&&ft.classList.add(X.OPTIONS_MENU_HIDDEN)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&ft&&ft.classList.add(X.OPTIONS_MENU_HIDDEN)}),ft.addEventListener("click",e=>{e.target.closest("button")&&ft.classList.add(X.OPTIONS_MENU_HIDDEN)}))}function ph(e,t){let n=e.querySelector(t);return n?n.closest(Hr.FORM_GROUP):null}function ei(e,t){if(!e)return;let n=t!=="3.6";ah.forEach(o=>{ph(e,o)?.classList.toggle(X.SERVICE_HIDDEN,n)});let r=e.querySelector(".origin");r&&(n?r.setAttribute("enterkeyhint","done"):r.removeAttribute("enterkeyhint"))}function mh(e){uh&&ch.forEach(t=>t.classList.toggle(X.CHIP_ACTIVE,t.dataset.mode===e))}function ti(e,t){e.querySelectorAll(Hr.CHIP).forEach(r=>r.classList.toggle(X.CHIP_ACTIVE,r.dataset.mode===t))}function Eh(){te.forEach((e,t)=>{e.querySelectorAll(Hr.CHIP).forEach(r=>{r.addEventListener("click",()=>{let o=r.dataset.mode;if(!lh.includes(o)){console.error(`Intent de canviar a un mode inv\xE0lid: "${o}". Acci\xF3 bloquejada.`);return}if(xt[t]===o)return;xt[t]=o,ti(e,o),ei(e,o);let i=e.querySelector(".chip-group");i&&(X.SERVICE_COLORS.forEach(l=>i.classList.remove(l)),i.classList.add(X.SERVICE_COLORS[t])),mt()})})})}function ql(e){let t=X.SERVICE_COLORS[e],n=(r,o)=>{r&&(r.classList.remove(...X.SERVICE_COLORS),r.classList.add(o,t))};n(document.getElementById(Fn.CLEAR_BTN),"clear-selected-btn"),n(document.getElementById(Fn.CAMERA_BTN),"camera-btn"),n(document.getElementById("notes-selected-service"),"notes-btn"),n(Vr,"options-btn")}function Ic(){if(!Tc&&(_c=document.querySelectorAll(Hr.SERVICE_PANEL),Kl=document.getElementById(Fn.CONTAINER),zr=document.getElementById(Fn.BUTTONS_CONTAINER),ft=document.getElementById(Fn.OPTIONS_MENU),Vr=document.getElementById(Fn.OPTIONS_TOGGLE_BTN),!(!Kl||!zr)&&(te=Array.from(Kl.querySelectorAll(Hr.SERVICE_PANEL)),!!te.length))){if(xt=te.map(()=>"3.6"),dh(),fh(),Eh(),te.length>0&&Gr.length>0){te.forEach((n,r)=>n.classList.toggle(X.SERVICE_HIDDEN,r!==0)),Gr[0].classList.add(X.BUTTON_ACTIVE);let e=xt[0];ei(te[0],e),ti(te[0],e);let t=te[0].querySelector(".chip-group");t&&t.classList.add(X.SERVICE_COLORS[0]),mh(e),ql(0)}Tc=!0}}function hh(e){if(e<0||e>=te.length||e===zn)return;te[zn].classList.add(X.SERVICE_HIDDEN),te[e].classList.remove(X.SERVICE_HIDDEN),Gr[zn].classList.remove(X.BUTTON_ACTIVE),Gr[e].classList.add(X.BUTTON_ACTIVE),zn=e;let t=xt[e];ei(te[e],t),ti(te[e],t);let n=te[e].querySelector(".chip-group");n&&(X.SERVICE_COLORS.forEach(r=>n.classList.remove(r)),n.classList.add(X.SERVICE_COLORS[e])),ql(e)}var fn=()=>zn,Nc=e=>{if(e>=0&&e<xt.length)return xt[e]};function Cc(e){e&&e.querySelectorAll("input, select, textarea").forEach(t=>{t.type==="checkbox"||t.type==="radio"?t.checked=!1:t.type!=="button"&&t.type!=="submit"&&t.type!=="reset"&&(t.value=""),t.tagName==="SELECT"&&(t.selectedIndex=0)})}function Ql(){ql(zn)}function Dc(e,t){if(e<0||e>=te.length)return;xt[e]=t;let n=te[e];n&&(ti(n,t),ei(n,t),mt())}function Vn(e){let t=e==="TSNU";_c.forEach(n=>{sh.forEach(r=>{n.querySelector(r)?.classList.toggle(X.SERVICE_HIDDEN,t)})})}function jr(e){e&&e.querySelectorAll(".input-error").forEach(t=>t.classList.remove("input-error"))}var ni=class{constructor({id:t="",date:n="",dietType:r="",vehicleNumber:o="",person1:i="",person2:l="",signatureConductor:s="",signatureAjudant:a="",services:u=[],serviceType:p="TSU",timeStampDiet:m=new Date().toISOString()}={}){this.id=String(t),this.date=String(n),this.dietType=String(r),this.vehicleNumber=String(o),this.person1=String(i),this.person2=String(l),this.signatureConductor=String(s),this.signatureAjudant=String(a),this.services=Array.isArray(u)?u:[],this.serviceType=String(p),this.timeStampDiet=String(m)}};function gh(){let e="dietSalt",t=(r=16)=>Array.from({length:r},()=>Math.floor(Math.random()*256).toString(16).padStart(2,"0")).join(""),n=localStorage.getItem(e);if(!n){if(window.crypto?.getRandomValues){let r=crypto.getRandomValues(new Uint8Array(16));n=Array.from(r).map(o=>o.toString(16).padStart(2,"0")).join("")}else console.warn("[pseudoId] crypto.getRandomValues no disponible; usant Math.random() (menys segur, nom\xE9s mode desenvolupament)."),n=t(16);localStorage.setItem(e,n)}return n}async function Hn(e){if(!window.crypto?.subtle)return console.warn("[pseudoId] WebCrypto no disponible (context no segur). S\u2019usar\xE0 l\u2019ID en clar nom\xE9s en aquesta sessi\xF3."),e;let n=new TextEncoder().encode(gh()+e),r=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}var Zl=new Intl.RelativeTimeFormat("es",{numeric:"auto"});function Lc(e){if(!(e instanceof Date)||isNaN(e.getTime()))throw new Error("La data proporcionada no \xE9s v\xE0lida.");let t=Date.now()-e.getTime();if(t<0)return"en el futuro";let n=Math.round(t/1e3);if(n<45)return"hace unos segundos";if(n<90)return"hace un minuto";let r=Math.round(n/60);if(r<60)return Zl.format(-r,"minute");let o=Math.round(r/60);if(o<24)return Zl.format(-o,"hour");let i=Math.round(o/24);return Zl.format(-i,"day")}var vh="DietasDB";var Et="dietas",wc="dateIndex",Be=null;function Ac(){return new Promise((e,t)=>{let n=indexedDB.open(vh,1);n.onupgradeneeded=r=>{let o=r.target.result,i;o.objectStoreNames.contains(Et)?i=r.target.transaction.objectStore(Et):i=o.createObjectStore(Et,{keyPath:"id"}),i.indexNames.contains(wc)||i.createIndex(wc,"date",{unique:!1})},n.onsuccess=r=>{Be=r.target.result,Be.onclose=()=>Be=null,Be.onerror=()=>Be=null,Be.onversionchange=()=>Be.close(),e(Be)},n.onerror=r=>t(r.target.error),n.onblocked=()=>t(new Error("IndexedDB bloquejat per una altra pestanya"))})}async function $r(e="readonly"){return(Be??(Be=await Ac())).transaction(Et,e)}function Wr(e,t){return new Promise((n,r)=>{e.onsuccess=o=>n(o.target.result),e.onerror=o=>r(new Error(`${t}: ${o.target.error}`))})}function Jl(e){return new Promise((t,n)=>{e.oncomplete=()=>t(),e.onerror=()=>n(e.error),e.onabort=()=>n(e.error)})}async function bl(e){try{let t=await $r("readwrite");return Wr(t.objectStore(Et).add(e),"No s'ha pogut afegir"),await Jl(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function Oc(e){try{let t=await $r("readwrite");return Wr(t.objectStore(Et).put(e),"No s'ha pogut actualitzar"),await Jl(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function kt(e){if(!e)return;let t=await $r();return Wr(t.objectStore(Et).get(e),"Error obtenint dieta")}async function ri(){let e=await $r();return Wr(e.objectStore(Et).getAll(),"Error llistant dietes")}async function Rc(e){if(!e)return;let t=await $r("readwrite");Wr(t.objectStore(Et).delete(e),"Error eliminant dieta"),await Jl(t)}async function Pc(){return Be??(Be=await Ac())}var yh="save-pill",Sh=".pill-text",ht={VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error"},xc=2e3;var Mt=null,es=null,pn=null,Xr=null,Th=0,ts=!1;function kc(){if(!Mt){if(Mt=document.getElementById(yh),es=Mt?.querySelector(Sh),!Mt||!es)throw new Error("Elements de la p\xEDndola no trobats al DOM.");Mt.setAttribute("role","status"),Mt.setAttribute("aria-live","polite")}return{pillEl:Mt,textEl:es}}function ns(e,t){try{let{pillEl:n,textEl:r}=kc();n.classList.add(ht.VISIBLE),n.classList.remove(ht.HAS_CHANGES,ht.SAVING,ht.HAS_SAVED,ht.ERROR),t&&n.classList.add(t),r.textContent=e.replace(/[<>&]/g,"")}catch(n){console.warn("[saveIndicator] Error mostrant p\xEDndola:",n)}}function oi(e="Guardando\u2026"){clearTimeout(Xr),ns(e,ht.SAVING)}function ii(){clearTimeout(Xr),ts=!1,Th=Date.now(),ns("Guardado",ht.HAS_SAVED),clearTimeout(pn),pn=setTimeout(rs,xc)}function Yr(e="No se pudo guardar"){clearTimeout(Xr),ns(e,ht.ERROR),clearTimeout(pn),pn=setTimeout(rs,xc*2)}function rs(e=!1){try{if(kc(),clearTimeout(pn),ts&&!e)return;Mt?.classList.remove(ht.VISIBLE),pn=null}catch(t){console.warn("[saveIndicator] Error amagant p\xEDndola:",t)}}function Gn(){ts=!1,clearTimeout(Xr),rs(!0)}window.addEventListener("pagehide",()=>{clearTimeout(pn),clearTimeout(Xr)});var Mc={[Ur.LUNCH]:"comida",[Ur.DINNER]:"cena",DEFAULT:"dieta"},mn={TOP_BAR:he.TOP_BAR_TAPS,FOOTER:he.FOOTER_TAPS,TIMEOUT:he.TIMEOUT,ANIMATION_DURATION:he.ANIMATION_DURATION};function $n(e){if(!e)return;let t=document.body;if(!t)return;let n=t.dataset?.cspNonce||t.getAttribute("data-csp-nonce")||"";n&&!e.getAttribute("nonce")&&e.setAttribute("nonce",n)}function Bc(){let e=document.getElementById(P.DATE_INPUT);if(!e){console.warn("Utils: Input de data no trobat.");return}try{e.valueAsDate=new Date}catch(t){console.error("Error establint la data d'avui:",t)}}function Uc(e){return typeof e!="string"||!e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function Wn(e){return e?e.split(" ").map(t=>t.includes(".")?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):""}function os(){let e=new Date().getHours();return e>=6&&e<18?Ur.LUNCH:Ur.DINNER}function Fc(){let e=document.getElementById(P.DIET_TYPE_SELECT);if(!e){console.warn("Utils: Select de tipus de dieta no trobat.");return}e.value=os()}function is(e,t){let n="Data inv\xE0lida";if(e&&/^\d{4}-\d{2}-\d{2}$/.test(e))try{let o=e.split("-"),i=o[0].slice(-2);n=`${o[2]}/${o[1]}/${i}`}catch(o){console.error("Error formatant data:",o)}let r=Mc[t]||Mc.DEFAULT;return{ddmmaa:n,franjaText:r}}var oe={topBarTaps:0,footerTaps:0,tapTimeoutId:null};function jn(){oe.topBarTaps=0,oe.footerTaps=0,oe.tapTimeoutId&&(clearTimeout(oe.tapTimeoutId),oe.tapTimeoutId=null)}function _h(){if(document.querySelector(P.EASTER_EGG_OVERLAY))return;let e=document.createElement("div");e.className=P.EASTER_EGG_OVERLAY.substring(1);let t=document.createElement("div");t.className=P.EASTER_EGG_ICON.substring(1),t.innerHTML='<img src="assets/icons/egg.svg" alt="Easter Egg">',e.appendChild(t),document.body.appendChild(e);let n=r=>{r.stopPropagation(),t.classList.add("clicked"),setTimeout(()=>e.remove(),mn.ANIMATION_DURATION)};e.addEventListener("click",n)}function zc(){let e=document.querySelector(P.TOP_BAR),t=document.querySelector(P.FOOTER);if(!e||!t){console.warn("Easter Egg: No s'han trobat top bar o footer.");return}e.addEventListener("touchend",n=>{n.changedTouches.length===1?(oe.topBarTaps++,oe.tapTimeoutId&&clearTimeout(oe.tapTimeoutId),oe.tapTimeoutId=setTimeout(jn,mn.TIMEOUT),oe.topBarTaps>mn.TOP_BAR&&jn()):jn()}),t.addEventListener("touchend",n=>{oe.topBarTaps===mn.TOP_BAR&&n.changedTouches.length===1&&(oe.footerTaps++,oe.tapTimeoutId&&clearTimeout(oe.tapTimeoutId),oe.tapTimeoutId=setTimeout(jn,mn.TIMEOUT),oe.footerTaps===mn.FOOTER?(_h(),jn()):oe.footerTaps>mn.FOOTER&&jn())})}function Kr(e,t){let n,r=function(...o){clearTimeout(n),n=setTimeout(()=>e.apply(this,o),t)};return r.cancel=()=>clearTimeout(n),r}var ls=Promise.resolve(),Vc=!1;async function Ih(e,t,n){if(!e||!Array.isArray(t)||!n)throw new Error("Datos incompletos para construir la dieta.");if(!/^\d{9}$/.test(n))throw new Error("ID de dieta inv\xE1lido. Debe contener 9 d\xEDgitos.");for(let s of t)if(!bo(s.originTime)||!bo(s.destinationTime)||!bo(s.endTime))throw new Error("Formato de hora inv\xE1lido detectado. Use HH:mm.");let r=await Hn(n),o=await kt(r),i=o?o.timeStampDiet:new Date().toISOString(),l={id:r,date:Q(e.date),dietType:Q(e.dietType),vehicleNumber:Q(e.vehicleNumber),person1:Q(e.person1),person2:Q(e.person2),signatureConductor:e.signatureConductor,signatureAjudant:e.signatureAjudant,services:t.map(s=>({serviceNumber:Q(s.serviceNumber),origin:Q(s.origin),destination:Q(s.destination),originTime:s.originTime,destinationTime:s.destinationTime,endTime:s.endTime,mode:Q(s.mode),notes:Q(s.notes)||""})),serviceType:Q(e.serviceType),timeStampDiet:i};return new ni(l)}function Nh(){let e=document.getElementById(P.DADES_TAB),t=document.getElementById(P.SERVEIS_TAB);e?.classList.remove(he.ERROR_TAB),t?.classList.remove(he.ERROR_TAB);let n=Zo(),r=Jo();if(n&&r)return!0;let o="";return!n&&!r?(o="Completa los campos obligatorios en Datos y Servicios.",e?.classList.add(he.ERROR_TAB),t?.classList.add(he.ERROR_TAB)):n?(o="Completa los campos obligatorios en la pesta\xF1a Servicios.",t?.classList.add(he.ERROR_TAB)):(o="Completa los campos obligatorios en la pesta\xF1a Datos.",e?.classList.add(he.ERROR_TAB)),w(o,"error"),!1}function Ch(e){if(!e)return;let t=o=>document.getElementById(o);t(P.DATE_INPUT).value=e.date||"",t(P.DIET_TYPE_SELECT).value=e.dietType||"",t(P.VEHICLE_INPUT).value=e.vehicleNumber||"",t(P.PERSON1_INPUT).value=e.person1||"",t(P.PERSON2_INPUT).value=e.person2||"";let n=t(P.SERVICE_TYPE_SELECT);n&&(n.value=e.serviceType||"TSU",Vn(n.value)),ai(e.signatureConductor||""),ui(e.signatureAjudant||"");let r=document.querySelectorAll(pc);e.services.forEach((o,i)=>{let l=r[i];l&&(Object.entries(Wl).forEach(([s,a])=>{let u=l.querySelector(a);u&&(u.value=o[s]||"")}),Dc(i,o.mode||"3.6"),jr(l),pt[i]=o.notes||"")});for(let o=e.services.length;o<r.length;o++){let i=r[o];i&&(Object.values(Wl).forEach(l=>{let s=i.querySelector(l);s&&(s.value="")}),jr(i),pt[o]="")}}async function Hc(e){return ls=ls.then(async()=>{let{generalData:t,servicesData:n}=ci(),r=n[0]?.serviceNumber?.slice(0,9)||"";if(!r||!/^\d{9}$/.test(r)){e&&w("El primer servicio debe tener un N.\xBA de servicio v\xE1lido.","error");return}let o=await Hn(r),i=await kt(o);e&&oi(!i?"Guardando nueva dieta\u2026":"Guardando\u2026"),ss(!1);try{if(await new Promise(u=>setTimeout(u,500)),!Nh()){e&&Yr("Validaci\xF3n fallida");return}let a=await Ih(t,n,r);i?await Oc(a):(await bl(a),En(),Gn()),e&&w("Dieta guardada correctament.","success"),qr=new Date,us(),En(),ii(),e&&await si()}catch(a){console.error("Error en performSave:",a),Yr(a.message||"No se pudo guardar"),e&&w(`Error al guardar: ${a.message}`,"error")}finally{ss(!0),Vc&&(Vc=!1,setTimeout(()=>li(),100))}}),ls}async function Gc(){Xc(),await Hc(!0)}async function li(){await Hc(!1)}async function jc(e){if(!e||typeof e!="string")throw new Error("ID inv\xE0lid");let t=e.length===64?await kt(e):await kt(await Hn(e));if(!t)throw new Error(`Dieta no trobada: ${e}`);Ch(t),En(),t.timeStampDiet&&(qr=new Date(t.timeStampDiet),us()),w("Dieta cargada correctamente.","success"),cs()}async function as(e,t,n){if(e)try{let r=await kt(e);if(!r){w("Error: Dieta no trobada","error");return}let i=(await ri()).sort((l,s)=>new Date(s.timeStampDiet)-new Date(l.timeStampDiet));r.index=i.findIndex(l=>l.id===e),await Rc(e),w("Dieta eliminada","success",5e3,{priority:2,queueable:!1,undoCallback:async()=>{await bl(r),Wc(r),w("Dieta restaurada","success",3e3,{priority:0})},onExpire:()=>{$c(e)}}),En(),Gn()}catch(r){console.error("Error en deleteDietHandler:",r),w("Error al eliminar la dieta","error")}}var qr=null;function us(){let e=document.getElementById("last-saved");e&&(e.textContent=qr?Lc(qr):"")}setInterval(()=>{qr&&us()},6e4);var we={IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount"},qc=2,Yc=10,hn=null,ds=null,fs=null,gn=null,Kc=!1,ps=(e,t=0)=>parseInt(localStorage.getItem(e)||String(t),10),ms=e=>localStorage.getItem(e)==="true",vn=(e,t)=>localStorage.setItem(e,String(t));function Qc(){let e=window.matchMedia("(display-mode: standalone)").matches,t=window.navigator.standalone===!0;return e||t||ms(we.IS_INSTALLED)}function Dh(e=!1){if(console.log("[PWA] Intentant mostrar el b\xE0ner d'instal\xB7laci\xF3..."),Qc()){console.log("[PWA] Bloquejat: L'app ja est\xE0 instal\xB7lada.");return}if(ms(we.NEVER_SHOW_AGAIN)){console.log("[PWA] Bloquejat: L'usuari ha demanat no tornar a mostrar.");return}if(!hn){console.log("[PWA] Bloquejat: No hi ha cap event d'instal\xB7laci\xF3 guardat.");return}if(!gn){console.log("[PWA] Bloquejat: L'element HTML del b\xE0ner no s'ha trobat.");return}console.log("%c[PWA] Mostrant el b\xE0ner!","color: green; font-weight: bold;"),gn.classList.add("visible"),gn.classList.remove("hidden")}function Zc(){console.log("[PWA] Amagant el b\xE0ner."),gn?.classList.remove("visible"),gn?.classList.add("hidden")}function Lh(){console.log("[PWA] L'usuari ha descartat el b\xE0ner."),Zc();let e=ps(we.PROMPT_DISMISSED_COUNT);e++,vn(we.PROMPT_DISMISSED_COUNT,e),console.log(`[PWA] Comptador de descartats actualitzat a: ${e}`),e>=qc&&(vn(we.NEVER_SHOW_AGAIN,!0),console.log("%c[PWA] S'ha assolit el l\xEDmit de descartats. No es tornar\xE0 a mostrar.","color: orange;"))}async function wh(){if(console.log("[PWA] L'usuari ha fet clic a 'Instal\xB7lar'."),!hn){console.warn("[PWA] El bot\xF3 d'instal\xB7lar s'ha premut, per\xF2 no hi havia cap event guardat.");return}Zc();try{hn.prompt();let{outcome:e}=await hn.userChoice;console.log(`[PWA] Resultat de la decisi\xF3 de l'usuari: ${e}`),e==="accepted"?(vn(we.IS_INSTALLED,!0),vn(we.NEVER_SHOW_AGAIN,!0),console.log("%c[PWA] L'usuari ha acceptat la instal\xB7laci\xF3! :)","color: green; font-weight: bold;")):console.log("[PWA] L'usuari ha rebutjat la instal\xB7laci\xF3 des del di\xE0leg del navegador.")}catch(e){console.error("[PWA] Error durant el proc\xE9s de prompt d'instal\xB7laci\xF3:",e)}finally{hn=null}}function Ah(e){e.preventDefault(),hn=e,console.log("%c[PWA] Event 'beforeinstallprompt' capturat i guardat.","color: blue;")}function Jc(){Kc||(console.log("[PWA] Inicialitzant el gestor d'instal\xB7laci\xF3..."),gn=document.getElementById("install-prompt"),ds=document.getElementById("install-button"),fs=document.getElementById("dismiss-button"),gn&&ds&&fs?(ds.addEventListener("click",wh),fs.addEventListener("click",Lh),console.log("[PWA] Botons del b\xE0ner d'instal\xB7laci\xF3 configurats.")):console.warn("[PWA] No s'han trobat tots els elements del b\xE0ner d'instal\xB7laci\xF3."),window.addEventListener("beforeinstallprompt",Ah),window.matchMedia("(display-mode: standalone)").addEventListener("change",e=>{e.matches&&(console.log("[PWA] Detectat canvi a mode 'standalone'. Marcat com instal\xB7lat."),vn(we.IS_INSTALLED,!0),vn(we.NEVER_SHOW_AGAIN,!0))}),Kc=!0,console.log("[PWA] Gestor d'instal\xB7laci\xF3 inicialitzat correctament."))}function bc(){if(console.log("------------------------------------------"),console.log("[PWA] Comprovant si s'ha de mostrar el b\xE0ner despr\xE9s d'una acci\xF3..."),Qc()){console.log("[PWA Check] No es mostra: L'app ja est\xE0 instal\xB7lada.");return}if(ms(we.NEVER_SHOW_AGAIN)){console.log("[PWA Check] No es mostra: L'usuari ha demanat no tornar a veure'l.");return}if(!hn){console.log("[PWA Check] No es mostra: El navegador no ha ofert la possibilitat d'instal\xB7lar (deferredPrompt \xE9s nul).");return}let e=ps(we.ACTION_TRIGGER_COUNT);e++,vn(we.ACTION_TRIGGER_COUNT,e),console.log(`[PWA] Comptador d'accions incrementat a: ${e}`);let t=ps(we.PROMPT_DISMISSED_COUNT);console.log(`[PWA] Vegades que s'ha descartat el b\xE0ner: ${t}`);let n=e===1&&t===0||e>=Yc&&t<qc;console.log(`[PWA] Es compleixen les condicions per mostrar? ${n}`),n?(setTimeout(()=>Dh(),1500),e>=Yc):console.log("[PWA] No es mostra el b\xE0ner aquesta vegada."),console.log("------------------------------------------")}var ed=!1;async function td(){if(ed)return;let e=document.createElement("script");return $n(e),e.src="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js",new Promise((t,n)=>{e.onload=()=>{ed=!0,t()},e.onerror=n,document.head.appendChild(e)})}var Xn={OUTER_MARGIN:55,INNER_PADDING:10},di={DADES_TAB:"tab-dades",SERVEIS_TAB:"tab-serveis"},Bt={ERROR_TAB:"error-tab"},gt={TEMPLATE_URLS:{DEFAULT:"./dieta.pdf"},SERVICE_Y_OFFSET:82,SIGNATURE_WIDTH:100,SIGNATURE_HEIGHT:50,WATERMARK_TEXT:"misdietas.com",DEFAULT_FILENAME:"dieta.pdf",SERVICE_NUMBER_COLOR:"#004aad",MODE_PREFIX_TEXT_COLOR:"#8B0000",MAX_SIGNATURE_NAME_LENGTH:31},O={general:{date:{x:155,y:732,size:16,color:"#000000"},vehicleNumber:{x:441,y:732,size:16,color:"#000000"},person1:{x:65,y:368,size:16,color:"#000000"},person2:{x:310,y:368,size:16,color:"#000000"}},service:{serviceNumber:{x:130,y:715,size:16,color:"#000000"},origin:{x:232,y:698,size:16,color:"#000000"},originTime:{x:441,y:698,size:16,color:"#000000"},destination:{x:232,y:683,size:16,color:"#000000"},destinationTime:{x:441,y:681,size:16,color:"#000000"},endTimeNormal:{x:441,y:665,size:16,color:"#000000"},endTimeModeText:{x:390,y:665,size:16,color:gt.MODE_PREFIX_TEXT_COLOR},endTimeValueWhenPrefixed:{x:441,y:665,size:16,color:"#000000"}},signature:{conductor:{x:125,y:295,width:100,height:50},ayudante:{x:380,y:295,width:100,height:50}},notesSection:{title:{x:65,y:250,size:16,color:"#000000"},lineHeight:18,maxWidth:465,start:{x:65,y:230,size:16,color:"#333333"}},fixedText:{website:{x:250,y:20,size:6,color:"#EEEEEE"}}};function Oh(e){return!e||typeof e!="string"||e.trim()===""?"":e.split(/\s+/).filter(Boolean).map(t=>t.includes("-")?t.split("-").map(n=>n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():"").join("-"):t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function Rh(e){if(!e||typeof e!="string")return{r:0,g:0,b:0};let t=e.replace("#","");if(t.length!==6)return{r:0,g:0,b:0};let n=parseInt(t,16);return isNaN(n)?{r:0,g:0,b:0}:{r:n>>16&255,g:n>>8&255,b:n&255}}function Es(e){if(!e||!/^\d{4}-\d{2}-\d{2}$/.test(e))return"";let[t,n,r]=e.split("-");return`${r}/${n}/${t}`}function Ph(){return gt.TEMPLATE_URLS.DEFAULT}function xh(e,t){let n=document.getElementById(di.DADES_TAB),r=document.getElementById(di.SERVEIS_TAB);n?.classList.remove(Bt.ERROR_TAB),r?.classList.remove(Bt.ERROR_TAB);let o="";!e&&!t?(o="Completa els camps obligatoris a Dades i Serveis.",n?.classList.add(Bt.ERROR_TAB),r?.classList.add(Bt.ERROR_TAB)):e?(o="Completa els camps obligatoris a Serveis.",r?.classList.add(Bt.ERROR_TAB)):(o="Completa els camps obligatoris a Dades.",n?.classList.add(Bt.ERROR_TAB)),o&&w(o,"error")}function nd(e,t){let n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(()=>URL.revokeObjectURL(n),500)}async function rd(e,t){if(!e||!Array.isArray(t))throw new Error("Dades inv\xE0lides.");if(!window.PDFLib)throw new Error("PDFLib no carregada.");let{PDFDocument:n,StandardFonts:r,rgb:o}=window.PDFLib,i=Ph(),l=await fetch(i).then(y=>y.arrayBuffer()),s=await n.load(l),a=await s.embedFont(r.Helvetica),u=s.getPages()[0],p=y=>{let{r:N,g:D,b:L}=Rh(y);return o(N/255,D/255,L/255)};Object.entries(O.general).forEach(([y,N])=>{let D=e[y]||"";y==="date"&&(D=Es(D)),y==="vehicleNumber"&&(D=D.toUpperCase()),(y==="person1"||y==="person2")&&(D=Oh(D),D.length>gt.MAX_SIGNATURE_NAME_LENGTH&&(D=D.slice(0,gt.MAX_SIGNATURE_NAME_LENGTH-3)+"...")),u.drawText(D,{...N,font:a,color:p(N.color)})}),t.forEach((y,N)=>{let D=N*gt.SERVICE_Y_OFFSET,L=y.mode||"3.6";u.drawText(y.serviceNumber||"",{...O.service.serviceNumber,y:O.service.serviceNumber.y-D,font:a,color:p(gt.SERVICE_NUMBER_COLOR)}),u.drawText(y.origin||"",{...O.service.origin,y:O.service.origin.y-D,font:a,color:p(O.service.origin.color)}),u.drawText(y.originTime||"",{...O.service.originTime,y:O.service.originTime.y-D,font:a,color:p(O.service.originTime.color)}),L==="3.6"&&(u.drawText(y.destination||"",{...O.service.destination,y:O.service.destination.y-D,font:a,color:p(O.service.destination.color)}),u.drawText(y.destinationTime||"",{...O.service.destinationTime,y:O.service.destinationTime.y-D,font:a,color:p(O.service.destinationTime.color)}));let Ee=(y.endTime||"").trim();L!=="3.6"&&Ee?(u.drawText(L,{...O.service.endTimeModeText,y:O.service.endTimeModeText.y-D,font:a,color:p(O.service.endTimeModeText.color)}),u.drawText(Ee,{...O.service.endTimeValueWhenPrefixed,y:O.service.endTimeValueWhenPrefixed.y-D,font:a,color:p(O.service.endTimeValueWhenPrefixed.color)})):u.drawText(Ee,{...O.service.endTimeNormal,y:O.service.endTimeNormal.y-D,font:a,color:p(O.service.endTimeNormal.color)})});let m=async(y,N)=>{if(typeof y=="string"&&y.startsWith("data:image/png;base64,")&&y.length>22)try{let L=await s.embedPng(y);u.drawImage(L,{...N})}catch(L){console.warn(`No s'ha pogut incrustar una signatura. Error: ${L.message}`)}};await Promise.all([m(e.signatureConductor,O.signature.conductor),m(e.signatureAjudant,O.signature.ayudante)]);let E=u.getWidth(),v=Xn.OUTER_MARGIN+Xn.INNER_PADDING,S=E-(Xn.OUTER_MARGIN+Xn.INNER_PADDING),T=t.map(y=>({num:y.serviceNumber||"",text:(y.notes||"").trim()})).filter(y=>y.num&&y.text);if(T.length){u.drawLine({start:{x:Xn.OUTER_MARGIN,y:275},end:{x:E-Xn.OUTER_MARGIN,y:275},thickness:.5,color:o(.8,.8,.8)});let N=T.length===1?"Observaci\xF3":"Observacions";u.drawText(N,{...O.notesSection.title,font:a,color:p(O.notesSection.title.color)});let D=O.notesSection.start.y,L=O.notesSection.start.size,Ee=O.notesSection.lineHeight,jl=p(O.notesSection.start.color);T.forEach(({num:WE,text:XE})=>{if(D<40)return;let ac=`Servei ${WE}: `;u.drawText(ac,{x:v,y:D,font:a,size:L,color:p(gt.SERVICE_NUMBER_COLOR)});let YE=a.widthOfTextAtSize(ac,L),Qo=v+YE;XE.split(" ").forEach($l=>{if(!$l)return;let uc=a.widthOfTextAtSize($l+" ",L);Qo+uc>S&&(D-=Ee,Qo=v),u.drawText($l+" ",{x:Qo,y:D,font:a,size:L,color:jl}),Qo+=uc}),D-=Ee*1.5})}let z=gt.WATERMARK_TEXT,d=O.fixedText.website.size,c=a.widthOfTextAtSize(z,d);u.drawText(z,{x:(u.getWidth()-c)/2,y:O.fixedText.website.y,size:d,font:a,color:p(O.fixedText.website.color)});let f=Es(e.date)||"Dieta",I=`Dieta ${e.dietType==="lunch"?"Comida":e.dietType==="dinner"?"Cena":""} ${f}`.trim().replace(/ +/g," ");s.setTitle(I),s.setAuthor("misdietas.com"),s.setSubject("Justificante de dieta de transporte sanitario"),s.setCreator("MisDietas"),s.setKeywords(["dieta","justificante","transporte sanitario","tsu","tsnu"]);let C=new Date(e.date);return isNaN(C.getTime())||(s.setCreationDate(C),s.setModificationDate(C)),await s.save({permissions:{modifying:!1,copying:!1}})}function od(e,t){let n=Es(e).replace(/\//g,"_")||"";return n?`${t==="lunch"?"dieta_comida":t==="dinner"?"dieta_cena":"dieta"}_${n}.pdf`:gt.DEFAULT_FILENAME}async function id(){let e=Zo(),t=Jo();if(!e||!t){xh(e,t);return}document.getElementById(di.DADES_TAB)?.classList.remove(Bt.ERROR_TAB),document.getElementById(di.SERVEIS_TAB)?.classList.remove(Bt.ERROR_TAB);try{let{generalData:n,servicesData:r}=ci();if(!n||!r)throw new Error("Dades no recollides.");await td();let o=await rd(n,r),i=od(n.date,n.dietType);nd(new Blob([o],{type:"application/pdf"}),i),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from main form"}),w("Desc\xE0rrega iniciada correctament.","success"),bc()}catch(n){w(`Error en la generaci\xF3 del PDF: ${n.message||"Desconegut"}`,"error")}}async function ld(e){if(!e){w("ID de dieta inv\xE1lido.","error");return}try{let t=e.length===64?e:await Hn(e),n=await kt(t);if(!n)throw new Error("Dieta no encontrada.");let r={date:n.date||"",dietType:n.dietType||"",vehicleNumber:n.vehicleNumber||"",person1:n.person1||"",person2:n.person2||"",serviceType:n.serviceType||"TSU",signatureConductor:n.signatureConductor||"",signatureAjudant:n.signatureAjudant||""},o=n.services.map(s=>({serviceNumber:s.serviceNumber||"",origin:s.origin||"",originTime:s.originTime||"",destination:s.destination||"",destinationTime:s.destinationTime||"",endTime:s.endTime||"",mode:s.mode||"3.6",notes:s.notes||""}));await td();let i=await rd(r,o),l=od(r.date,r.dietType);nd(new Blob([i],{type:"application/pdf"}),l),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from saved list"}),w("Descarga iniciada correctamente.","success")}catch(t){console.error("Error en downloadDietPDF:",t),w(`Error en la generaci\xF3n del PDF: ${t.message||"Desconocido"}`,"error")}}var sd="dotacions_v2",Z={MODAL:"dotacio-modal",OPTIONS_CONTAINER:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2"},Ye={MODAL_OPEN:"modal-open",INPUT_ERROR:"input-error",HIDDEN:"hidden"},Yn={PERSON_INPUT_GROUP:".input-with-icon",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete"},ad={INDEX:"data-index"},kh=180,hs=class{constructor(){this.savedDotacions=[],this.dotacioModalElement=null,this.optionsContainerElement=null,this.dotacioTemplateElement=null,this.noDotacioTextElement=null,this.isInitialized=!1}init(){if(this.isInitialized)return;this.dotacioModalElement=document.getElementById(Z.MODAL),this.optionsContainerElement=document.getElementById(Z.OPTIONS_CONTAINER),this.dotacioTemplateElement=document.getElementById(Z.TEMPLATE),this.noDotacioTextElement=document.getElementById(Z.NO_DOTACIO_TEXT);let t=document.getElementById(Z.ADD_BTN),n=document.getElementById(Z.OPEN_MODAL_BTN),r=document.getElementById(Z.CLOSE_MODAL_BTN);if(!this.dotacioModalElement||!this.optionsContainerElement||!this.dotacioTemplateElement||!t||!n||!r)return;this.loadDotacionsFromStorage(),t.addEventListener("click",this.addDotacioFromMainForm.bind(this)),n.addEventListener("click",this.openDotacioModal.bind(this)),r.addEventListener("click",this.closeDotacioModal.bind(this)),this.dotacioModalElement.addEventListener("click",i=>{i.target===this.dotacioModalElement&&this.closeDotacioModal()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&this.dotacioModalElement.style.display==="block"&&this.closeDotacioModal()}),this.optionsContainerElement.addEventListener("click",this.handleOptionsClick.bind(this)),[Z.VEHICLE_INPUT,Z.PERSON1_INPUT,Z.PERSON2_INPUT].forEach(i=>{let l=document.getElementById(i);l?.addEventListener("input",()=>{let s=l.closest(Yn.PERSON_INPUT_GROUP);s?s.classList.remove(Ye.INPUT_ERROR):l.classList.remove(Ye.INPUT_ERROR)})}),this.isInitialized=!0}loadDotacionsFromStorage(){try{let t=localStorage.getItem(sd);this.savedDotacions=t?JSON.parse(t):[],Array.isArray(this.savedDotacions)||(this.savedDotacions=[])}catch{this.savedDotacions=[]}}saveDotacionsToStorage(){try{localStorage.setItem(sd,JSON.stringify(this.savedDotacions))}catch{w("No se han podido guardar las dotaciones.","error")}}openDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="block",document.body.classList.add(Ye.MODAL_OPEN),this.displayDotacioOptions())}closeDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="none",document.body.classList.remove(Ye.MODAL_OPEN),document.getElementById(Z.OPEN_MODAL_BTN)?.focus())}displayDotacioOptions(){!this.optionsContainerElement||!this.dotacioTemplateElement||(this.optionsContainerElement.innerHTML="",this.savedDotacions.length===0?(this.noDotacioTextElement?.classList.remove(Ye.HIDDEN),this.optionsContainerElement.classList.add(Ye.HIDDEN)):(this.noDotacioTextElement?.classList.add(Ye.HIDDEN),this.optionsContainerElement.classList.remove(Ye.HIDDEN),this.savedDotacions.forEach((t,n)=>{let r=this.dotacioTemplateElement.content.cloneNode(!0),o=r.querySelector(Yn.DOTACIO_INFO),i=r.querySelector(Yn.LOAD_BTN),l=r.firstElementChild,s=`${t.numero}-${t.conductor}-${t.ajudant}`.replace(/\s/g,"");l.setAttribute("data-dotacio-id",s),o&&(o.textContent=this.formatDotacioListText(t)),i&&i.setAttribute(ad.INDEX,n),this.optionsContainerElement.appendChild(r),vs(l,s),gs(l,s)})))}formatDotacioListText(t){let n=t.numero||"S/N",r=Wn(t.conductor||""),o=Wn(t.ajudant||""),i=`${r} / ${o}`;r||o?i=` - ${i}`:i="";let l=`${n}${i}`;if(this.measureTextWidth(l)>kh){let a=t.conductor?this.shortenPersonName(t.conductor):"",u=t.ajudant?this.shortenPersonName(t.ajudant):"",p=`${a} / ${u}`;a||u?p=` - ${p}`:p="",l=`${n}${p}`}return l}shortenPersonName(t){if(!t||typeof t!="string")return"";let n=t.trim().split(/\s+/).filter(s=>s.length>0);if(n.length===0)return"";if(n.length===1)return Wn(n[0]);let r=new Set(["de","la","del","el","los","las","von","van","d'","es","da","dels","i","y"]),o=n.filter(s=>!r.has(s.toLowerCase()));if(o.length===0)return Wn(n[0]);let i=Wn(o[0]),l=o.slice(1).map(s=>s.charAt(0).toUpperCase()+".").join(" ");return`${i} ${l}`}measureTextWidth(t){let n=document.createElement("span");n.style.visibility="hidden",n.style.whiteSpace="nowrap",n.style.fontSize=getComputedStyle(document.body).fontSize,n.style.fontFamily=getComputedStyle(document.body).fontFamily,n.textContent=t,document.body.appendChild(n);let r=n.offsetWidth;return document.body.removeChild(n),r}loadDotacionByIndex(t){if(t<0||t>=this.savedDotacions.length)return;let n=this.savedDotacions[t];this.clearDotacionInputErrors(),document.getElementById(Z.VEHICLE_INPUT).value=n.numero||"",document.getElementById(Z.PERSON1_INPUT).value=n.conductor||"",document.getElementById(Z.PERSON2_INPUT).value=n.ajudant||"",ai(n.firmaConductor||""),ui(n.firmaAjudant||""),w(`Dotaci\xF3n ${n.numero} cargada.`,"success"),this.closeDotacioModal()}async handleDeleteById(t){let n=this.savedDotacions.findIndex(i=>`${i.numero}-${i.conductor}-${i.ajudant}`.replace(/\s/g,"")===t);if(n===-1){console.warn("Se intent\xF3 eliminar una dotaci\xF3n que ya no existe:",t);return}let o={...this.savedDotacions[n],originalIndex:n};this.savedDotacions.splice(n,1),this.saveDotacionsToStorage(),Qr(),w("Dotaci\xF3n eliminada.","success",5e3,{queueable:!1,undoCallback:()=>{this.savedDotacions.splice(o.originalIndex,0,o),this.saveDotacionsToStorage(),ud(o),w("Dotaci\xF3n restaurada.","success")}})}handleOptionsClick(t){let r=t.target.closest(Yn.LOAD_BTN);if(r){t.stopPropagation();let o=parseInt(r.getAttribute(ad.INDEX),10);isNaN(o)||this.loadDotacionByIndex(o)}}getDotacionInputValues(){let t=document.getElementById(Z.VEHICLE_INPUT),n=document.getElementById(Z.PERSON1_INPUT),r=document.getElementById(Z.PERSON2_INPUT);return{vehiculo:t?.value.trim()||"",conductor:n?.value.trim()||"",ayudante:r?.value.trim()||""}}findExistingDotacionIndex(t,n,r){let o=t.toLowerCase(),i=n.toLowerCase(),l=r.toLowerCase();return this.savedDotacions.findIndex(s=>s.numero.toLowerCase()===o&&s.conductor.toLowerCase()===i&&s.ajudant.toLowerCase()===l)}addDotacioFromMainForm(){if(!yc())return;let{vehiculo:t,conductor:n,ayudante:r}=this.getDotacionInputValues(),o=fi(),i=pi(),l=this.findExistingDotacionIndex(t,n,r),s={numero:t,conductor:n,ajudant:r,firmaConductor:o,firmaAjudant:i};l!==-1?(this.savedDotacions[l]=s,w(`Dotaci\xF3n ${t} actualizada.`,"success")):(this.savedDotacions.push(s),w(`Dotaci\xF3n ${t} creada.`,"success")),this.saveDotacionsToStorage()}clearDotacionInputErrors(){let t=document.getElementById(Z.VEHICLE_INPUT),n=document.getElementById(Z.PERSON1_INPUT),r=document.getElementById(Z.PERSON2_INPUT),o=n?.closest(Yn.PERSON_INPUT_GROUP),i=r?.closest(Yn.PERSON_INPUT_GROUP);t?.classList.remove(Ye.INPUT_ERROR),o?.classList.remove(Ye.INPUT_ERROR),i?.classList.remove(Ye.INPUT_ERROR)}},Kn=new hs;var k={MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_DELETE_BTN:"diet-delete",DIET_LOAD_BTN:"diet-load",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal"},Ae={DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",SIGNATURE_MODAL:"signature-modal",DOTACIO_MODAL:"dotacio-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal"},mi={MODAL:".modal",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Ut={DIET_ID:"data-diet-id",DIET_DATE:"data-diet-date",DIET_TYPE:"data-diet-type"},Qn=null,V=null,Ue=null,ys=null,Mh=null,Bh=null,Uh=null,Fh=null;var qn=null,Zn=null,Jn=null,ue=null;function cd(e){if(!e||ue&&ue.id!==e.id&&e.id!==Ae.CONFIRM_MODAL)return;ue||(qn=document.activeElement),ue=e,e.style.display="block",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",document.body.classList.add(k.MODAL_OPEN_BODY),md(),bn(!1),document.body.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","auto"),e.addEventListener("touchstart",n=>{n.target===e&&(n.preventDefault(),n.stopPropagation())},{passive:!1}),Zn||(Zn=n=>{n.target===ue&&(ue.id===Ae.CONFIRM_MODAL?_handleConfirmNo():Ei())},document.addEventListener("click",Zn,!0)),Jn||(Jn=n=>{n.key==="Escape"&&ue&&(ue.id===Ae.CONFIRM_MODAL?_handleConfirmNo():Ei())},document.addEventListener("keydown",Jn,!0)),e.querySelector(mi.FOCUSABLE_ELEMENTS)?.focus()}function Ei(){if(!ue)return;Zn&&(document.removeEventListener("click",Zn,!0),Zn=null),Jn&&(document.removeEventListener("keydown",Jn,!0),Jn=null),ue.style.display="none";let e=ue.id===Ae.CONFIRM_MODAL;ue=null;let t=document.querySelector('.modal[style*="display: block"]');t||(document.body.classList.remove(k.MODAL_OPEN_BODY),bn(!0),Ed(),document.body.style.removeProperty("pointer-events")),!e&&qn?(qn.focus(),qn=null):t||(qn?.focus(),qn=null)}function zh(e){if(!e)return"";let t=new Date(e);if(isNaN(t.getTime()))return"";let n=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0");return`${n}:${r}`}function dd(e){let t=e.services&&e.services.length>0?e.services[0].serviceNumber:"?????????",{ddmmaa:n,franjaText:r}=is(e.date,e.dietType),o=zh(e.timeStampDiet),i=document.createElement("div");i.className=k.DIET_ITEM;let l=document.createElement("div");l.className="diet-item-content";let s=document.createElement("span");s.className=k.DIET_DATE;let a=n;o&&(a+=` [${o}]`),a+=` - ${Uc(r)}`,s.textContent=a;let u=document.createElement("div");u.className=k.DIET_ICONS;let p=document.createElement("div");p.className="delete-reveal",p.innerHTML='<img src="assets/icons/delete.svg" alt="Eliminar" class="icon">';let m=document.createElement("button");m.className=`${k.LIST_ITEM_BTN} ${k.LIST_ITEM_BTN_LOAD} ${k.DIET_LOAD_BTN}`,m.setAttribute("aria-label",`Editar dieta ${n}`),m.innerHTML='<img src="assets/icons/ic_edit.svg" alt="" class="icon"><span class="btn-text visually-hidden">Editar</span>',m.setAttribute(Ut.DIET_ID,t),m.setAttribute(Ut.DIET_DATE,e.date),m.setAttribute(Ut.DIET_TYPE,e.dietType);let E=document.createElement("button");return E.className=`${k.LIST_ITEM_BTN} diet-download`,E.setAttribute("aria-label",`Descarregar PDF de la dieta ${n}`),E.innerHTML='<img src="assets/icons/download_blue.svg" alt="" class="icon"><span class="btn-text visually-hidden">PDF</span>',E.setAttribute(Ut.DIET_ID,t),u.appendChild(m),u.appendChild(E),l.appendChild(s),l.appendChild(u),i.appendChild(l),i.appendChild(p),i}async function Vh(e){let t=e.target,n=t.closest(`.${k.DIET_LOAD_BTN}`),r=t.closest(".diet-download");if(n){e.stopPropagation();let o=n.getAttribute(Ut.DIET_ID),i=n.getAttribute(Ut.DIET_DATE),l=n.getAttribute(Ut.DIET_TYPE);if(!o||!i||!l)return;let{ddmmaa:s,franjaText:a}=is(i,l);try{await jc(o)}catch(u){console.error("Error en carregar la dieta:",u)}}else if(r){e.stopPropagation();let o=r.getAttribute(Ut.DIET_ID);o&&ld(o)}}function $c(e){if(!V)return;let t=V.querySelector(`[data-diet-id="${e}"]`)?.closest(".diet-item");if(!t)return;let n=V.scrollHeight+"px";V.style.height=n,t.remove(),requestAnimationFrame(()=>{V.style.height=V.scrollHeight+"px"}),hi()}function fd(){ys=document.getElementById(Ae.CONFIRM_MODAL),ys&&(Mh=document.getElementById(Ae.CONFIRM_MESSAGE),Bh=ys.querySelector(Ae.CONFIRM_TITLE),Uh=document.getElementById(Ae.CONFIRM_YES_BTN),Fh=document.getElementById(Ae.CONFIRM_NO_BTN)),document.querySelectorAll(mi.MODAL_TRIGGER).forEach(t=>{let n=t.getAttribute("href")?.substring(1);if(!n)return;let r=document.getElementById(n);r&&r.matches(mi.MODAL)&&(t.addEventListener("click",i=>{i.preventDefault(),cd(r)}),r.querySelectorAll(mi.MODAL_CLOSE_BTN).forEach(i=>{i.addEventListener("click",()=>Ei())}))})}function Ss(){if(!Qn){Qn=document.getElementById(Ae.DIET_MODAL),V=document.getElementById(Ae.DIET_OPTIONS_LIST),Ue=document.getElementById(Ae.NO_DIETS_TEXT);let e=document.getElementById("close-diet-modal");e&&e.addEventListener("click",cs),V&&V.addEventListener("click",Vh)}Qn&&(cd(Qn),si())}function cs(){ue&&ue.id===Ae.DIET_MODAL&&Ei()}async function si(){if(!(!V||!Ue)){V.innerHTML="";try{let e=await ri();e.length===0?(V.classList.add(k.HIDDEN),Ue.classList.remove(k.HIDDEN),Ue.textContent="No hay dietas guardadas."):(V.classList.remove(k.HIDDEN),Ue.classList.add(k.HIDDEN),e.sort((t,n)=>new Date(n.timeStampDiet)-new Date(t.timeStampDiet)),e.forEach((t,n)=>{let r=dd(t);r.setAttribute("data-index",n),V.appendChild(r),pd(r,t.id,t.date,t.dietType)}))}catch{V.classList.add(k.HIDDEN),Ue.classList.remove(k.HIDDEN),Ue.textContent="Error al cargar las dietas."}}}function hi(){console.log("Actualitzant visibilitat: children.length =",V.children.length),V.children.length===0?(V.classList.add(k.HIDDEN),Ue.classList.remove(k.HIDDEN),Ue.textContent="No hay dietas guardadas."):(V.classList.remove(k.HIDDEN),Ue.classList.add(k.HIDDEN))}function Hh(e,t,n,r){let o=0,i=0,l=!1;e.addEventListener("mousedown",s=>{s.target.closest("button")||s.target.closest(".diet-icons")||(o=s.clientX,i=o,l=!1)}),document.addEventListener("mousemove",s=>{i=s.clientX;let a=o-i;a>10&&!l&&(l=!0,e.classList.add(k.DIET_ITEM_SWIPING)),l&&a>10&&(e.style.transform=`translateX(-${Math.min(a,80)}px)`,s.preventDefault())}),document.addEventListener("mouseup",async s=>{if(!l)return;l=!1;let a=o-i;e.classList.remove(k.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",a>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),hi(),await as(t,n,r)},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function pd(e,t,n,r){let o=0,i=0,l=!1;e.addEventListener("touchstart",s=>{s.target.closest("button")||s.target.closest(".diet-icons")||(o=s.touches[0].clientX,i=o,l=!1,s.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",s=>{i=s.touches[0].clientX;let a=o-i;a>10&&!l&&(l=!0,e.classList.add(k.DIET_ITEM_SWIPING),Qn.style.overflow="hidden"),l&&a>10&&(e.style.transform=`translateX(-${Math.min(a,80)}px)`,s.preventDefault(),s.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async s=>{if(!l)return;l=!1;let a=o-i;e.classList.remove(k.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",a>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),hi(),await as(t,n,r)},300)):(e.style.transform="translateX(0)",e.style.opacity="1",Qn.style.overflow=""),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),s.stopPropagation()}),Hh(e,t,n,r)}function gs(e,t){let n=0,r=0,o=!1;e.addEventListener("mousedown",i=>{i.target.closest("button")||i.target.closest(".button-container")||(n=i.clientX,r=n,o=!1)}),document.addEventListener("mousemove",i=>{r=i.clientX;let l=n-r;l>10&&!o&&(o=!0,e.classList.add("swiping")),o&&l>10&&(e.style.transform=`translateX(-${Math.min(l,80)}px)`,i.preventDefault())}),document.addEventListener("mouseup",async i=>{if(!o)return;o=!1;let l=n-r;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",l>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await Kn.handleDeleteById(t),e.remove(),Qr()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function vs(e,t){let n=0,r=0,o=!1;e.addEventListener("touchstart",i=>{i.target.closest("button")||(n=i.touches[0].clientX,r=n,o=!1,i.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",i=>{r=i.touches[0].clientX;let l=n-r;l>10&&!o&&(o=!0,e.classList.add("swiping")),o&&l>10&&(e.style.transform=`translateX(-${Math.min(l,80)}px)`,i.preventDefault(),i.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async i=>{if(!o)return;o=!1;let l=n-r;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",l>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await Kn.handleDeleteById(t),e.remove(),Qr()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),i.stopPropagation()})}function Wc(e){if(!V||!Ue){si();return}let t=e.index||0,n=dd(e);n.style.opacity="0",n.style.transform="translateX(-100%)";let r=V.children[t];r?V.insertBefore(n,r):V.appendChild(n),requestAnimationFrame(()=>{n.style.transition="opacity 0.5s ease, transform 0.5s ease",n.style.opacity="1",n.style.transform="translateX(0)",pd(n,e.id,e.date,e.dietType)}),hi(),V.classList.remove(k.HIDDEN),Ue.classList.add(k.HIDDEN)}function Qr(){let e=document.getElementById("dotacio-options"),t=document.getElementById("no-dotacio-text");e.children.length===0?(e.classList.add("hidden"),t.classList.remove("hidden"),t.innerHTML='No hay dotaciones, guarde antes: <img src="assets/icons/save_green.svg" alt="Guardar" class="save-icon" />'):(e.classList.remove("hidden"),t.classList.add("hidden"))}function Gh(e,t){let n=document.getElementById("dotacio-template");if(!n)return null;let r=n.content.cloneNode(!0),o=r.firstElementChild,i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");o.setAttribute("data-dotacio-id",i);let l=r.querySelector(".dotacio-info"),s=r.querySelector(".dotacio-load");if(l){let a=[e.conductor,e.ajudant].filter(Boolean).join(" / ");l.textContent=a?`${e.numero} - ${a}`:e.numero}return s&&s.setAttribute("data-index",String(t)),o}function ud(e){let t=document.getElementById("dotacio-options");if(!t){Kn.displayDotacioOptions();return}let n=e.originalIndex,r=Gh(e,n);if(!r)return;r.style.opacity="0",r.style.transform="translateX(-100%)";let o=t.children[n];o?t.insertBefore(r,o):t.appendChild(r),requestAnimationFrame(()=>{r.style.transition="opacity 0.5s ease, transform 0.5s ease",r.style.opacity="1",r.style.transform="translateX(0)";let i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");vs(r,i),gs(r,i)}),Qr()}var ge={DADES:"dades",SERVEIS:"serveis"},vt={TAB_DADES:`tab-${ge.DADES}`,TAB_SERVEIS:`tab-${ge.SERVEIS}`,CONTENT_DADES:`${ge.DADES}-tab-content`,CONTENT_SERVEIS:`${ge.SERVEIS}-tab-content`,MAIN_CONTENT_AREA:"main-content"},er={ACTIVE_TAB:"active",ERROR_TAB:"error-tab"},hd={MIN_DISTANCE:60,MAX_VERTICAL_RATIO:.5},tr=ge.DADES,gi=0,Ts=0,_s=!0,Ft=null,yn=null;function gd(){let e=document.getElementById(vt.TAB_DADES),t=document.getElementById(vt.TAB_SERVEIS);!e||!t||(e.addEventListener("click",()=>Zr(ge.DADES)),t.addEventListener("click",()=>Zr(ge.SERVEIS)),jh(),Zr(tr))}function bn(e){_s=!!e}function Zr(e){if(tr===e&&document.scrollingElement.scrollTop!==0){window.scrollTo({top:0,behavior:"smooth"});return}if(tr===e||e!==ge.DADES&&e!==ge.SERVEIS)return;window.scrollTo({top:0,behavior:"auto"}),tr=e;let t=document.getElementById(vt.TAB_DADES),n=document.getElementById(vt.TAB_SERVEIS),r=document.getElementById(vt.CONTENT_DADES),o=document.getElementById(vt.CONTENT_SERVEIS);if(!t||!n||!r||!o)return;t.classList.remove(er.ERROR_TAB),n.classList.remove(er.ERROR_TAB);let i=e===ge.DADES;t.classList.toggle(er.ACTIVE_TAB,i),n.classList.toggle(er.ACTIVE_TAB,!i),r.classList.toggle(er.ACTIVE_TAB,i),o.classList.toggle(er.ACTIVE_TAB,!i),t.setAttribute("aria-selected",i?"true":"false"),n.setAttribute("aria-selected",i?"false":"true"),e===ge.SERVEIS&&typeof Ql=="function"&&Ql()}function jh(){let e=document.getElementById(vt.MAIN_CONTENT_AREA);e&&(Ft=vd,yn=yd,e.addEventListener("touchstart",Ft,{passive:!0}),e.addEventListener("touchend",yn,{passive:!0}))}function md(){let e=document.getElementById(vt.MAIN_CONTENT_AREA);!e||!Ft||!yn||(e.removeEventListener("touchstart",Ft,{passive:!0}),e.removeEventListener("touchend",yn,{passive:!0}),Ft=null,yn=null)}function Ed(){let e=document.getElementById(vt.MAIN_CONTENT_AREA);e&&(Ft||(Ft=vd,yn=yd,e.addEventListener("touchstart",Ft,{passive:!0}),e.addEventListener("touchend",yn,{passive:!0})))}function vd(e){if(!_s||ue)return;let t=e.touches[0];gi=t.clientX,Ts=t.clientY}function yd(e){if(!_s||gi===0||!e.changedTouches||e.changedTouches.length===0)return;let t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY,r=t-gi,o=n-Ts;gi=0,Ts=0,!(Math.abs(o)>Math.abs(r)*hd.MAX_VERTICAL_RATIO)&&Math.abs(r)>hd.MIN_DISTANCE&&(r>0?tr===ge.SERVEIS&&Zr(ge.DADES):tr===ge.DADES&&Zr(ge.SERVEIS))}var zt={MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title"},Is={MODAL_OPEN:"modal-open",SIGNED:"signed"},Vt={LINE_WIDTH:2,LINE_CAP:"round",STROKE_STYLE:"#000000",IMAGE_FORMAT:"image/png",DOUBLE_CLICK_TIMEOUT:300,DOUBLE_TAP_TIMEOUT:300,DOUBLE_TAP_MAX_DIST:20},Sd={SIGNATURE_PENDING:"assets/icons/signature.svg",SIGNATURE_OK:"assets/icons/signature_ok.svg"},Td={PERSON1:"Firma del conductor",PERSON2:"Firma del ayudante"},Ns=class{constructor(){this.signatureConductor="",this.signatureAjudant="",this.currentSignatureTarget=null,this.isDrawing=!1,this.canvasContext=null,this.signatureCanvasElement=null,this.signatureModalElement=null,this.signPerson1Button=null,this.signPerson2Button=null,this.hasUserDrawn=!1,this.lastTouchTime=0,this.lastTouchX=0,this.lastTouchY=0,this.clickCount=0,this.clickTimer=null}init(){this.signatureModalElement=document.getElementById(zt.MODAL),this.signatureCanvasElement=document.getElementById(zt.CANVAS);let t=document.getElementById(zt.CANCEL_BTN),n=document.getElementById(zt.ACCEPT_BTN);this.signPerson1Button=document.getElementById(zt.SIGN_PERSON1_BTN),this.signPerson2Button=document.getElementById(zt.SIGN_PERSON2_BTN),!(!this.signatureModalElement||!this.signatureCanvasElement||!t||!n||!this.signPerson1Button||!this.signPerson2Button)&&(this.resizeCanvas(),this.initCanvasEvents(),t.addEventListener("click",this.closeSignatureModal.bind(this)),n.addEventListener("click",this.acceptSignature.bind(this)),this.signPerson1Button.addEventListener("click",()=>this.openSignatureModal("person1")),this.signPerson2Button.addEventListener("click",()=>this.openSignatureModal("person2")),this.signatureModalElement.addEventListener("click",r=>{r.target===this.signatureModalElement&&this.closeSignatureModal()}),window.addEventListener("resize",this.debounce(this.resizeCanvas.bind(this),150)),document.addEventListener("keydown",r=>{r.key==="Escape"&&this.signatureModalElement.style.display==="block"&&this.closeSignatureModal()}),this.updateSignatureIcons())}debounce(t,n){let r;return(...o)=>{clearTimeout(r),r=setTimeout(()=>t.apply(this,o),n)}}resizeCanvas(){if(!this.signatureCanvasElement||!this.signatureCanvasElement.parentElement)return;let t=this.signatureCanvasElement.parentElement;this.canvasContext||(this.canvasContext=this.signatureCanvasElement.getContext("2d",{willReadFrequently:!0})),this.canvasContext&&(this.signatureCanvasElement.width=t.offsetWidth,this.signatureCanvasElement.height=t.offsetHeight,this.canvasContext.lineWidth=Vt.LINE_WIDTH,this.canvasContext.lineCap=Vt.LINE_CAP,this.canvasContext.strokeStyle=Vt.STROKE_STYLE)}clearCanvas(){!this.canvasContext||!this.signatureCanvasElement||(this.canvasContext.clearRect(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),this.hasUserDrawn=!1)}getEventCoordinates(t){if(!this.signatureCanvasElement)return{x:0,y:0};let n=this.signatureCanvasElement.getBoundingClientRect(),r,o;return t.touches&&t.touches.length>0?(r=t.touches[0].clientX,o=t.touches[0].clientY):(r=t.clientX,o=t.clientY),{x:r-n.left,y:o-n.top}}startDrawing(t){if(!this.canvasContext)return;this.isDrawing=!0,this.hasUserDrawn=!0,this.canvasContext.beginPath();let{x:n,y:r}=this.getEventCoordinates(t);this.canvasContext.moveTo(n,r)}draw(t){if(!this.isDrawing||!this.canvasContext)return;t.preventDefault();let{x:n,y:r}=this.getEventCoordinates(t);this.canvasContext.lineTo(n,r),this.canvasContext.stroke()}stopDrawing(){!this.isDrawing||!this.canvasContext||(this.isDrawing=!1)}handleCanvasClick(t){this.clickCount++,this.clickCount===1?this.clickTimer=setTimeout(()=>this.clickCount=0,Vt.DOUBLE_CLICK_TIMEOUT):this.clickCount===2&&(clearTimeout(this.clickTimer),this.clickCount=0,t.preventDefault(),this.clearCanvas())}handleCanvasTouchEnd(t){if(t.touches.length>0)return;let n=Date.now(),r=t.changedTouches[0];if(!r)return;let{x:o,y:i}=this.getEventCoordinates({clientX:r.clientX,clientY:r.clientY}),l=n-this.lastTouchTime,s=Math.abs(o-this.lastTouchX),a=Math.abs(i-this.lastTouchY);l<Vt.DOUBLE_TAP_TIMEOUT&&s<Vt.DOUBLE_TAP_MAX_DIST&&a<Vt.DOUBLE_TAP_MAX_DIST?(t.preventDefault(),this.clearCanvas(),this.lastTouchTime=0):(this.lastTouchTime=n,this.lastTouchX=o,this.lastTouchY=i)}initCanvasEvents(){this.signatureCanvasElement&&(this.signatureCanvasElement.addEventListener("mousedown",this.startDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mousemove",this.draw.bind(this)),this.signatureCanvasElement.addEventListener("mouseup",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mouseout",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("click",this.handleCanvasClick.bind(this)),this.signatureCanvasElement.addEventListener("touchstart",this.startDrawing.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchmove",this.draw.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchend",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchcancel",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchend",this.handleCanvasTouchEnd.bind(this),{passive:!1}))}openSignatureModal(t){if(!this.signatureModalElement||!this.canvasContext)return;bn(!1),this.currentSignatureTarget=t;let n=document.getElementById(zt.TITLE);n&&(n.textContent=t==="person1"?Td.PERSON1:Td.PERSON2),this.signatureModalElement.style.display="block",document.body.classList.add(Is.MODAL_OPEN),this.resizeCanvas(),this.clearCanvas();let r=t==="person1"?this.signatureConductor:this.signatureAjudant;r&&this.drawSignatureFromDataUrl(r),document.getElementById(zt.ACCEPT_BTN)?.focus()}closeSignatureModal(){this.signatureModalElement&&(bn(!0),this.signatureModalElement.style.display="none",document.body.classList.remove(Is.MODAL_OPEN),this.currentSignatureTarget=null,(this.currentSignatureTarget==="person1"?this.signPerson1Button:this.signPerson2Button)?.focus())}isCanvasEmpty(){if(!this.canvasContext||!this.signatureCanvasElement)return!0;try{return!new Uint32Array(this.canvasContext.getImageData(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height).data.buffer).some(n=>n!==0)}catch{return!1}}acceptSignature(){if(!this.canvasContext||!this.signatureCanvasElement||!this.currentSignatureTarget)return;let t=this.isCanvasEmpty(),n=t?"":this.signatureCanvasElement.toDataURL(Vt.IMAGE_FORMAT),r=null;this.currentSignatureTarget==="person1"?(this.signatureConductor=n,r=this.signPerson1Button):this.currentSignatureTarget==="person2"&&(this.signatureAjudant=n,r=this.signPerson2Button),this.updateSignatureUI(r,!t),this.closeSignatureModal(),mt()}drawSignatureFromDataUrl(t){if(!this.canvasContext||!t)return;let n=new Image;n.onload=()=>this.canvasContext.drawImage(n,0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),n.onerror=()=>{},n.src=t}updateSignatureUI(t,n){if(!t)return;let r=t.querySelector(".icon");r&&(t.classList.toggle(Is.SIGNED,n),r.src=n?Sd.SIGNATURE_OK:Sd.SIGNATURE_PENDING)}updateSignatureIcons(){this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor),this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}getSignatureConductor(){return this.signatureConductor}getSignatureAjudant(){return this.signatureAjudant}setSignatureConductor(t){this.signatureConductor=t||"",this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor)}setSignatureAjudant(t){this.signatureAjudant=t||"",this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}},Jr=new Ns,_d=()=>Jr.init(),fi=()=>Jr.getSignatureConductor(),pi=()=>Jr.getSignatureAjudant(),ai=e=>Jr.setSignatureConductor(e),ui=e=>Jr.setSignatureAjudant(e);var $h=".service",Id="main-content",Ke={DATE:"date",DIET_TYPE:"diet-type",VEHICLE:"vehicle-number",P1:"person1",P2:"person2",SERVICE_TYPE:"service-type",SAVE_BTN:"save-diet"},Wh="userSelectedServiceType",Xh={serviceNumber:".service-number",origin:".origin",originTime:".origin-time",destination:".destination",destinationTime:".destination-time",endTime:".end-time"},Yh="chip-active",Kh=800,qh=1e3,Qh=300,Cs=class{constructor(){this.initialFormDataStr="",this.saveStart=0,this.debouncedAutoSave=Kr(this.triggerAutoSave.bind(this),qh),this.debouncedHandler=Kr(this.handleInputChange.bind(this),Kh)}isFormReadyForSave(){try{let t=!!document.getElementById(Ke.DATE)?.value.trim(),n=!!document.getElementById(Ke.DIET_TYPE)?.value.trim(),r=document.getElementById("service-number-1")?.value.trim(),o=/^\d{9}$/.test(r);return t&&n&&o}catch(t){return console.warn("[FormService] Error validant formulari:",t),!1}}hasPendingChanges(){return JSON.stringify(this.getFormDataObject()||{})!==this.initialFormDataStr}getFormDataObject(){try{let t={date:Q(document.getElementById(Ke.DATE)?.value),dietType:Q(document.getElementById(Ke.DIET_TYPE)?.value||os()),vehicleNumber:Q(document.getElementById(Ke.VEHICLE)?.value),person1:Q(document.getElementById(Ke.P1)?.value),person2:Q(document.getElementById(Ke.P2)?.value),serviceType:Q(document.getElementById(Ke.SERVICE_TYPE)?.value||"TSU"),signatureConductor:fi(),signatureAjudant:pi()},n=Array.from(document.querySelectorAll($h)).map((r,o)=>{let i={};for(let[s,a]of Object.entries(Xh))i[s]=Q(r.querySelector(a)?.value);let l=r.querySelector(`.chip.${Yh}`);return i.mode=l?.dataset.mode||"3.6",i.notes=pt[o]||"",i});return{generalData:t,servicesData:n}}catch(t){return console.error("[FormService] Error recollint dades:",t),null}}async triggerAutoSave(){if(!(!this.isFormReadyForSave()||!this.hasPendingChanges()))try{this.saveStart=Date.now(),oi(),await li();let t=Date.now()-this.saveStart;setTimeout(ii,Math.max(0,Qh-t)),this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{})}catch(t){console.warn("[Autosave skipped]",t?.message||"Error desconegut"),Yr("Revisa dades de Serveis")}}captureInitialFormState(){this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{}),this.handleFormChange()}setSaveButtonState(t){let n=document.getElementById(Ke.SAVE_BTN);n&&(n.disabled=!t,n.setAttribute("aria-disabled",t?"false":"true"),n.classList.toggle("is-disabled",!t))}handleFormChange(){if(this.debouncedAutoSave.cancel(),!this.hasPendingChanges()){this.setSaveButtonState(!1),Gn();return}this.isFormReadyForSave()?(this.setSaveButtonState(!0),this.debouncedAutoSave()):(this.setSaveButtonState(!1),Gn())}handleInputChange(){this.handleFormChange()}addInputListeners(){let t=document.getElementById(Id);if(!t)return;t.addEventListener("input",this.debouncedHandler),t.addEventListener("change",this.debouncedHandler),t.addEventListener("blur",r=>{r.target.matches("input, select, textarea")&&(this.handleFormChange(),this.isFormReadyForSave()&&this.hasPendingChanges()&&(this.debouncedAutoSave.cancel(),this.triggerAutoSave()))},!0);let n=document.getElementById(Ke.DATE);n?.addEventListener("change",()=>{n.blur(),this.debouncedHandler()}),window.addEventListener("beforeunload",()=>{this.debouncedAutoSave.cancel(),this.isFormReadyForSave()&&li()})}addServiceTypeListener(){let t=document.getElementById(Ke.SERVICE_TYPE);t&&t.addEventListener("change",n=>{let r=n.target.value.trim();Vn(r);try{localStorage.setItem(Wh,r)}catch(o){console.error("No s\u2019ha pogut desar tipus servei",o)}})}cancelPendingAutoSave(){this.debouncedAutoSave.cancel()}addDoneBehavior(){document.getElementById(Id)?.addEventListener("keydown",n=>{n.key==="Enter"&&n.target.matches('input[enterkeyhint="done"]')&&(n.preventDefault(),n.target.blur())})}gatherAllData(){return this.getFormDataObject()}getInitialFormDataStr(){return this.initialFormDataStr}},Ht=new Cs,En=()=>Ht.captureInitialFormState(),ss=e=>Ht.setSaveButtonState(e),mt=()=>Ht.handleFormChange(),Nd=()=>Ht.addInputListeners(),Cd=()=>Ht.addServiceTypeListener(),Xc=()=>Ht.cancelPendingAutoSave(),Dd=()=>Ht.addDoneBehavior(),ci=()=>Ht.gatherAllData();var Ld="onboardingCompleted";function wd(){let e=document.getElementById("onboarding-container");if(!e)return;if(!JSON.parse(localStorage.getItem(Ld)||"false"))e.classList.remove("hidden");else return;window.addEventListener("load",()=>{e.classList.add("onboarding-loaded")});let n=document.querySelectorAll(".onboarding-slide"),r=document.querySelectorAll(".nav-dot"),o=document.getElementById("onboarding-finish-btn"),i=document.getElementById("onboarding-skip-btn"),l=0;function s(m){n.forEach((E,v)=>{E.classList.toggle("active",v===m)}),r.forEach((E,v)=>{E.classList.toggle("active",v===m)})}function a(){l<n.length-1&&(l++,s(l),navigator.vibrate&&navigator.vibrate(10))}function u(){e.classList.add("hidden"),localStorage.setItem(Ld,JSON.stringify(!0)),navigator.vibrate&&navigator.vibrate([50,50,50])}e.addEventListener("click",m=>{m.target.closest("button, a, .nav-dot")||a()});let p=0;e.addEventListener("touchstart",m=>{p=m.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",m=>{m.changedTouches[0].screenX<p-50&&a()}),o.addEventListener("click",u),i.addEventListener("click",u)}var Ds={TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text"},Ad={DARK_THEME:"theme-dark"},Ls="themePreference",Fe={LIGHT:"light",DARK:"dark"},Od={LIGHT:"assets/icons/moon.svg",DARK:"assets/icons/sun.svg"},Rd={LIGHT:"#004aad",DARK:"#343a40"},ws=class{constructor(){this.themeToggleButton=null,this.themeIconElement=null,this.themeTextElement=null,this.bodyElement=null,this.systemDarkMatcher=null}init(){if(this.themeToggleButton=document.getElementById(Ds.TOGGLE_BTN),this.themeIconElement=document.getElementById(Ds.THEME_ICON),this.themeTextElement=document.getElementById(Ds.THEME_TEXT),this.bodyElement=document.body,!this.themeToggleButton||!this.themeIconElement||!this.themeTextElement||!this.bodyElement){console.warn("Faltan elementos del DOM para el gestor de temas.");return}let t,n=localStorage.getItem(Ls);n&&(n===Fe.LIGHT||n===Fe.DARK)?t=n:(this.systemDarkMatcher=window.matchMedia("(prefers-color-scheme: dark)"),t=this.systemDarkMatcher.matches?Fe.DARK:Fe.LIGHT,this.systemDarkMatcher.addEventListener("change",this._handleSystemThemeChange.bind(this))),this._applyTheme(t,!1),this.themeToggleButton.addEventListener("click",this._handleThemeToggle.bind(this))}_updateThemeColorMeta(t){let n=document.querySelector('meta[name="theme-color"]');n&&(n.content=t)}_applyTheme(t,n=!1){let r=t===Fe.DARK;this.bodyElement.classList.toggle(Ad.DARK_THEME,r),this.themeIconElement.src=r?Od.DARK:Od.LIGHT,this.themeTextElement.textContent=r?"Claro":"Oscuro",this.themeIconElement.alt=r?"Cambiar a tema claro":"Cambiar a tema oscuro",this._updateThemeColorMeta(r?Rd.DARK:Rd.LIGHT),n&&localStorage.setItem(Ls,t)}_handleThemeToggle(){let n=(this.bodyElement.classList.contains(Ad.DARK_THEME)?Fe.DARK:Fe.LIGHT)===Fe.DARK?Fe.LIGHT:Fe.DARK;this._applyTheme(n,!0)}_handleSystemThemeChange(t){if(!localStorage.getItem(Ls)){let n=t.matches?Fe.DARK:Fe.LIGHT;this._applyTheme(n,!1)}}},Jh=new ws,Pd=()=>Jh.init();var As={GENERATE_PDF:".generate-pdf",SAVE_DIET:"#save-diet",MANAGE_DIETS:"#manage-diets"};function xd(){let e=document.querySelector(As.GENERATE_PDF);e&&e.addEventListener("click",id);let t=document.getElementById(As.SAVE_DIET.substring(1));t&&t.addEventListener("click",Gc);let n=document.getElementById(As.MANAGE_DIETS.substring(1));n&&typeof Ss=="function"&&n.addEventListener("click",Ss)}var kd="clear-selected-service",bh=".service";function Md(){let e=document.getElementById(kd);if(!e){console.warn(`Clear Service: Bot\xF3 amb ID '${kd}' no trobat.`);return}e.addEventListener("click",()=>{let t=fn(),n=document.querySelectorAll(bh);if(t>=0&&t<n.length){let r=n[t],o=r.querySelectorAll('input:not([type="button"]):not([type="submit"]), select, textarea');o.forEach(i=>{i.value!==""&&i.classList.add("field-clearing")}),setTimeout(()=>{Cc(r),jr(r),mt(),o.forEach(i=>{i.classList.remove("field-clearing")}),console.log(`Servei ${t+1} netejat amb efecte visual.`)},600)}else console.warn(`Clear Service: \xCDndex de servei inv\xE0lid (${t}) o element no trobat.`)}),console.log("Funcionalitat 'Netejar Servei Seleccionat' configurada.")}function Bd(){document.querySelectorAll('input[type="date"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}function Ud(){document.querySelectorAll('input[type="time"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}var Fd=Kr(w,fc.DEBOUNCE_TOAST);function eg(e){return/^\d*$/.test(e)}function zd(){let e=document.querySelectorAll(Bn.SERVICE_NUMBER_INPUT);if(!e.length){console.warn("Restrictions: No se han encontrado inputs '.service-number'.");return}e.forEach(t=>{t.dataset.restrictionsSetup!=="true"&&(t.dataset.restrictionsSetup="true",t.addEventListener("keypress",n=>{n.key==="Enter"||n.key==="Tab"||n.ctrlKey||n.metaKey||n.altKey||n.key.length>1||/\d/.test(n.key)||(n.preventDefault(),Fd(Xl.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}),t.addEventListener("paste",n=>{try{let r=(n.clipboardData||window.clipboardData)?.getData("text")||"";eg(r)||(n.preventDefault(),Fd(Xl.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}catch(r){console.error("Error procesando 'paste':",r),n.preventDefault()}}))})}var Vd={SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel"},nr={PANEL_VISIBLE:"visible",BUTTON_OPEN:"open"},yt=null,St=null,Hd=!1;function tg(e){e.stopPropagation();let t=St.classList.toggle(nr.PANEL_VISIBLE);yt.classList.toggle(nr.BUTTON_OPEN,t),yt.setAttribute("aria-expanded",t),t&&St.querySelector("button")?.focus()}function ng(e){St.classList.contains(nr.PANEL_VISIBLE)&&!St.contains(e.target)&&!yt.contains(e.target)&&Os()}function rg(e){e.key==="Escape"&&St.classList.contains(nr.PANEL_VISIBLE)&&(Os(),yt.focus())}function Os(){St.classList.remove(nr.PANEL_VISIBLE),yt.classList.remove(nr.BUTTON_OPEN),yt.setAttribute("aria-expanded","false")}function Gd(){Hd||(yt=document.getElementById(Vd.SETTINGS_BTN),St=document.getElementById(Vd.SETTINGS_PANEL),!(!yt||!St)&&(yt.addEventListener("click",tg),document.addEventListener("click",ng),document.addEventListener("keydown",rg),St.querySelectorAll("button").forEach(e=>{e.addEventListener("click",Os)}),Hd=!0))}var og={SERVICE_BUTTONS:".service-button:not(.active-square)",OPTIONS_BTN:"#options-toggle",TABS:".tab:not(.active)"},ig="disabled-control";function Rs(e=!0){document.querySelectorAll(Object.values(og).join(", ")).forEach(n=>{n&&(n.classList.toggle(ig,e),n.setAttribute("aria-disabled",e?"true":"false"),n.disabled=e)})}var lg="spa",sg=1,ag="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ:/-\xC0\xC9\xCD\xD3\xDA\xC8\xD2\xC0\xDC\xCF\xC7\xD1",Ps=1500,Kd=.95,qd="image/png",jd=10,ug=300,cg=1e3;var dg={tessedit_char_whitelist:ag,tessedit_pageseg_mode:6,load_system_dawg:!1,load_freq_dawg:!1},Tt={CAMERA_BTN:"camera-in-dropdown",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline"},qe={VISIBLE:"visible",HIDDEN:"hidden",SERVICE_COLORS:["service-1","service-2","service-3","service-4"]},fg={ORIGIN_TIME:{id:"originTime",label:"Hora movilizaci\xF3n",fieldIdSuffix:"origin-time",lineKeywordRegex:/movilizaci|ltat|desplaza/i},DESTINATION_TIME:{id:"destinationTime",label:"Hora de llegada hospital",fieldIdSuffix:"destination-time",lineKeywordRegex:/arribada|hospital|aaah/i},END_TIME:{id:"endTime",label:"Hora Final",fieldIdSuffix:"end-time",valueRegex:/\d{2}\s*\/?\s*\d{2}\s*\/?\s*\d{2}\s+(\d{1,2}:\d{2}(?::\d{2})?)/i}},Qe=null,br=null,vi=null,xs=null,ve=null,ks=!1,$d=!1,Wd=!1,Xd=0;function pg(e){if(!e)return"";let t=e.replace(/[^\d:\-]/g,"");t=t.replace(/-/g,":");let n=t.match(/^(\d{1,2}):(\d{2})(?::\d{2})?$/);if(n){let r=parseInt(n[1],10),o=parseInt(n[2],10);if(r>=0&&r<=23&&o>=0&&o<=59)return`${String(r).padStart(2,"0")}:${String(o).padStart(2,"0")}`}return""}function mg(){if(Date.now()-Xd<500||(Xd=Date.now(),!Qe||!br))return;document.body.classList.add("modal-open");let e=fn(),t=qe.SERVICE_COLORS[e]||"";br.classList.remove(...qe.SERVICE_COLORS),t&&br.classList.add(t),Qe.classList.remove(qe.HIDDEN),requestAnimationFrame(()=>Qe.classList.add(qe.VISIBLE)),vi?.focus()}function yi(){Qe&&(document.body.classList.remove("modal-open"),Qe.classList.remove(qe.VISIBLE),setTimeout(()=>Qe.classList.add(qe.HIDDEN),ug))}function Eg(e){Qe?.classList.contains(qe.VISIBLE)&&!br?.contains(e.target)&&yi()}function hg(){ve&&(ve.setAttribute("capture","environment"),ve.click(),yi())}function gg(){ve&&(ve.removeAttribute("capture"),ve.click(),yi())}function Qd(){return document.querySelector(".service:not(.hidden)")}function ze(e,t){let r=Qd()?.querySelector(Tt.OCR_PROGRESS_CONTAINER);if(!r)return;r.classList.contains(qe.HIDDEN)&&r.classList.remove(qe.HIDDEN);let o=r.querySelector(Tt.OCR_PROGRESS_TEXT);o&&(o.textContent=t)}function vg(){let t=Qd()?.querySelector(Tt.OCR_PROGRESS_CONTAINER);t&&setTimeout(()=>t.classList.add(qe.HIDDEN),cg)}async function yg(e){try{let t=await createImageBitmap(e),{width:n,height:r}=t;if(Math.max(n,r)<=Ps)return t.close(),e;let o=Math.min(Ps/n,Ps/r),i=Math.round(n*o),l=Math.round(r*o),s=document.createElement("canvas");s.width=i,s.height=l;let a=s.getContext("2d");if(!a)throw new Error("No contexto 2D.");return a.drawImage(t,0,0,i,l),t.close(),new Promise(u=>s.toBlob(u,qd,Kd))}catch(t){throw w("Error al procesar la imagen.","error"),t}}async function Sg(e){try{let t=await createImageBitmap(e),n=document.createElement("canvas");n.width=t.width,n.height=t.height;let r=n.getContext("2d");if(!r)throw new Error("No contexto 2D.");try{r.drawImage(t,0,0,t.width,t.height)}catch(o){throw o.message&&o.message.includes("detached")?new Error("Error al procesar la imagen. Int\xE9ntalo de nuevo."):o}t.close(),r.filter="grayscale(100%) contrast(180%) brightness(110%)";try{r.drawImage(n,0,0)}catch(o){console.warn("OCR: Fallback sense filtres:",o)}return new Promise(o=>n.toBlob(o,qd,Kd))}catch(t){throw t.message.includes("procesar la imagen")?w(t.message,"error"):t.message.includes("detached")?w("La imagen no se puede procesar. Int\xE9ntalo con otra foto.","error"):w("Error al procesar la imagen. Int\xE9ntalo de nuevo.","error"),t}}function Yd(e,t,n){let r=document.getElementById(e);if(r){r.value=t;let o=new Event("input",{bubbles:!0,cancelable:!0});r.dispatchEvent(o)}}function Tg(e){if(!e||!e.trim()){w("No se reconoci\xF3 texto.","warning");return}let t=fn(),n=Nc(t)||"3.6",r=`-${t+1}`,o={},i=e.split(`
`),l=e.toLowerCase().replace(/ +/g," ");if(Object.values(fg).forEach(a=>{if((n==="3.11"||n==="3.22")&&a.id==="destinationTime")return;let u=null;if(a.lineKeywordRegex){for(let p of i)if(a.lineKeywordRegex.test(p.toLowerCase())){let m=p.replace(/\D/g,"");if(m.length>=6){let E=m.slice(-6);u=[null,`${E.slice(0,2)}:${E.slice(2,4)}:${E.slice(4,6)}`];break}}}else a.valueRegex&&(u=l.match(a.valueRegex));if(u&&u[1]){let p=pg(u[1].trim());if(p&&!o[a.id]){let m=`${a.fieldIdSuffix}${r}`;Yd(m,p,a.label),o[a.id]=a}}}),!o.endTime&&(o.originTime||o.destinationTime)){let a=new Date,u=String(a.getHours()).padStart(2,"0"),p=String(a.getMinutes()).padStart(2,"0"),m=`${u}:${p}`,E=`end-time${r}`;Yd(E,m,"Hora Final (Actual)");let v=document.getElementById(E);v&&(v.classList.add("input-warning"),v.addEventListener("focus",()=>v.classList.remove("input-warning"),{once:!0}))}if(Object.keys(o).length>0){let a=Object.values(o).map(u=>u.label);w(`Campos actualizados: ${a.join(", ")}.`,"success")}else w("No se encontraron horas relevantes.","info")}function Zd(){if($d||(Qe=document.getElementById(Tt.CAMERA_MODAL),br=Qe?.querySelector(Tt.MODAL_CONTENT),vi=document.getElementById(Tt.OPTION_CAMERA),xs=document.getElementById(Tt.OPTION_GALLERY),ve=document.getElementById(Tt.CAMERA_INPUT),!Qe||!vi||!xs||!ve))return;document.querySelectorAll(Tt.OCR_SCAN_BTN).forEach(t=>t.addEventListener("click",mg)),vi.addEventListener("click",hg),xs.addEventListener("click",gg),ve.addEventListener("change",Ig),document.addEventListener("click",Eg),document.addEventListener("keydown",t=>{t.key==="Escape"&&Qe?.classList.contains(qe.VISIBLE)&&yi()}),$d=!0}function _g(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}async function Ig(e){if(ks){w("Proceso OCR ya en marcha.","warning");return}let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/")){w("Selecciona una imagen.","error"),ve&&(ve.value="");return}let n=jd*1024*1024;if(t.size>n){w(`La imagen es demasiado grande (m\xE1x. ${jd} MB).`,"error"),ve&&(ve.value="");return}ks=!0,Rs(!0),ze(0,"Preparando imagen..."),_g();let r=null;try{ze(2,"Analizando imagen...");let o=await yg(t);ze(15,"Eliminando metadades..."),o=await Sg(o),ze(30,"Mejorando la imagen..."),await new Promise(l=>setTimeout(l,100)),ze(40,"Cargando motor OCR..."),Wd||await new Promise((l,s)=>{let a=document.createElement("script");$n(a),a.src="https://cdn.jsdelivr.net/npm/tesseract.js@6/dist/tesseract.min.js",a.onload=()=>{Wd=!0,l()},a.onerror=s,document.head.appendChild(a)}),ze(60,"Cargando modelo de idioma..."),r=await Tesseract.createWorker(lg,sg,{logger:l=>{if(l.status==="recognizing text"){let s=Math.max(70,Math.floor(l.progress*100*.3+70));ze(s,`Reconociendo texto ${Math.floor(l.progress*100)}%...`)}else l.status==="loading language model"&&ze(70,"Cargando modelo de idioma...")}}),ze(80,"Configurando OCR..."),await r.setParameters(dg),ze(85,"Iniciando reconocimiento...");let{data:{text:i}}=await r.recognize(o);ze(100,"An\xE1lisis completado."),Tg(i)}catch(o){let i="Error al escanear. Int\xE9ntalo de nuevo.";o.message&&o.message.includes("detached")?i="Error al procesar la imagen. Int\xE9ntalo con otra foto.":o.message&&o.message.includes("recognition")&&(i="No se pudo leer el texto. Aseg\xFArate de que la imagen sea clara."),w(i,"error"),ze(0,"Error en el escaneo.")}finally{r&&await r.terminate(),ve&&(ve.value=""),vg(),Rs(!1),ks=!1}}var Jd="anonymousUserId";function bd(){try{let e=localStorage.getItem(Jd);return e||(e=`user-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,localStorage.setItem(Jd,e)),e}catch{return`temp-user-${Date.now()}`}}var ef=document.getElementById("save-pill"),or=document.querySelector(".tab-content-container"),rr=0,tf=!1,Ng=10,Cg=150,Dg=or&&parseInt(window.getComputedStyle(or).paddingBottom,10)||60;function Ms(e=rr){tf=e>Cg,tf?(ef.style.bottom=`calc(${e}px + ${Ng}px + env(safe-area-inset-bottom, 0px))`,or&&(or.style.paddingBottom=`${e+50}px`)):(ef.style.bottom="calc(20px + env(safe-area-inset-bottom, 0px))",or&&(or.style.paddingBottom=`${Dg}px`))}if("virtualKeyboard"in navigator)navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",e=>{rr=e.target.boundingRect.height,Ms(rr)});else{let e=window.innerHeight;window.addEventListener("resize",()=>{window.innerHeight<e?(rr=e-window.innerHeight,Ms(rr)):(rr=0,Ms(0))})}var Lg=document.querySelectorAll('input:not([type="checkbox"]), select, textarea');function wg(e){let t=e.target;t.closest(".modal")||setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"center"})},250)}Lg.forEach(e=>{e.addEventListener("focus",wg)});var nf="notes-selected-service",Ag="notes-modal",Og="notes-title",Rg="notes-textarea",Pg="notes-save",xg="notes-cancel",kg="notes-char-counter",ir,Us,Y,Si,Bs,Sn,eo=null,to=null,no=null;function rf(){let e=document.getElementById(nf);if(!e){console.warn(`Notes Service: Bot\xF3 amb ID '${nf}' no trobat.`);return}if(ir=document.getElementById(Ag),Us=document.getElementById(Og),Y=document.getElementById(Rg),Si=document.getElementById(Pg),Bs=document.getElementById(xg),Sn=document.getElementById(kg),!ir||!Us||!Y||!Si||!Bs||!Sn){console.error("Notes Service: Un o m\xE9s elements del modal de notes no s'han trobat.");return}e.addEventListener("click",()=>{let t=fn();Mg(t)}),Bs.addEventListener("click",Fs),console.log("Funcionalitat 'Afegir Notes' configurada.")}function Mg(e){if(!ir)return;Us.textContent=`S${e+1}: Observaciones`,Y.value=pt[e]||"";let t=Y.maxLength,n=()=>{let r=Y.value.length;Sn.textContent=`${r} / ${t}`,Sn.classList.remove("warning","limit"),Y.classList.remove("input-warning","input-error"),r>=t?(Sn.classList.add("limit"),Y.classList.add("input-error")):r>t*.8&&(Sn.classList.add("warning"),Y.classList.add("input-warning"))};n(),to=()=>{Y.value.length>t&&(Y.value=Y.value.slice(0,t)),n()},Y.addEventListener("input",to),no=r=>{r.key==="Enter"&&!r.shiftKey&&(r.preventDefault(),Y.blur())},Y.addEventListener("keydown",no),eo=()=>{let r=Y.value.trim(),o=pt[e]||"";if(r===o){Fs();return}pt[e]=r,r?w("Observaci\xF3n guardada.","success"):w("Observaci\xF3n eliminada.","info"),Fs(),mt()},Si.addEventListener("click",eo),ir.style.display="block",document.body.classList.add("modal-open"),setTimeout(()=>{Y.focus({preventScroll:!0}),Y.setSelectionRange(Y.value.length,Y.value.length)},0)}function Fs(){ir&&(eo&&(Si.removeEventListener("click",eo),eo=null),to&&(Y.removeEventListener("input",to),to=null),no&&(Y.removeEventListener("keydown",no),no=null),Sn.classList.remove("warning","limit"),Y.classList.remove("input-warning","input-error"),ir.style.display="none",document.body.classList.remove("modal-open"))}var Bg=e=>{let n=`; ${document.cookie}`.split(`; ${e}=`);if(n.length===2)return n.pop()?.split(";").shift()},of=(e,t,n)=>{let r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);let o=`expires=${r.toUTCString()}`;document.cookie=`${e}=${t};${o};path=/;SameSite=Lax;Secure`},lr,zs,Vs;function Ug(){let e=document.createElement("script");$n(e),e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-23SXKMLR75",document.head.appendChild(e),e.onload=()=>{window.gtag("js",new Date),window.gtag("config","G-23SXKMLR75")}}function Fg(){Ug(),of("cookie_consent","granted",365),lf()}function zg(){typeof window.gtag=="function"&&window.gtag("consent","update",{analytics_storage:"denied"}),of("cookie_consent","denied",365),lf()}function Vg(){lr&&lr.classList.remove("hidden")}function lf(){lr&&lr.classList.add("hidden")}function sf(){if(lr=document.getElementById("cookie-consent-banner"),zs=document.getElementById("accept-cookies"),Vs=document.getElementById("decline-cookies"),!lr||!zs||!Vs){console.warn("Elements del b\xE0ner de cookies no trobats.");return}Bg("cookie_consent")||(Vg(),zs.addEventListener("click",Fg),Vs.addEventListener("click",zg))}function Hg(){let e=document.getElementById(P.DONATION_LINK_ID);if(!e)return console.warn("No s'ha trobat l'enlla\xE7 de donaci\xF3.");let t=bd();try{let n=new URL(e.href);n.searchParams.set("custom",t),e.href=n.toString(),console.log("Enlla\xE7 de donaci\xF3 actualitzat amb ID an\xF2nim.")}catch(n){console.error("Error modificant l'URL de donaci\xF3:",n)}}function Gg(){let e=document.getElementById("offline-indicator");if(!e)return;let t=()=>{e.hidden=!navigator.onLine};t(),window.addEventListener("online",t),window.addEventListener("offline",t)}async function af(){try{console.log("initializeApp() iniciant..."),Bc(),Fc(),await Pc(),Ic(),_d(),Kn.init(),Zd(),wd(),gd(),xd(),Md(),rf(),fd(),Bd(),Ud(),Gd(),Pd(),Hg(),zd(),Sc(),Nd(),Cd(),Dd();let e=document.getElementById("service-type");if(e){let t=localStorage.getItem(mc.USER_SELECTED_SERVICE_TYPE);(t==="TSU"||t==="TSNU")&&(e.value=t,console.log(`[LocalStorage] Carregat tipus de servei: ${t}`)),Vn(e.value)}En(),zc(),sf(),Gg(),console.log("initializeApp() completada.")}catch(e){console.error("Error en la inicialitzaci\xF3 de l'app:",e)}}var Pt=dc(Xs()),sc=dc(GE());function lS(){let[e,t]=Pt.default.useState(navigator.onLine),[n,r]=Pt.default.useState(!0);return Pt.default.useEffect(()=>{let o=()=>{let i=navigator.onLine;t(i),i?setTimeout(()=>r(!1),3e3):r(!0)};return window.addEventListener("online",o),window.addEventListener("offline",o),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",o)}},[]),n?Pt.default.createElement(Pt.default.Fragment,null,Pt.default.createElement("div",{className:`connection-indicator ${e?"online":"offline"}`,onClick:e?void 0:()=>{confirm("En modo offline algunas funciones pueden estar limitadas. \xBFQuieres recargar la app?")&&window.location.reload()},title:e?void 0:"Haz clic para recargar (algunas funciones requieren conexi\xF3n)"},e?"\u{1F7E2} Online":"\u26A0\uFE0F Offline - Funciones limitadas")):null}function jE(){try{if(typeof Pt.default>"u"||typeof sc.default>"u"){console.log("React no disponible - components skip");return}let e=document.getElementById("react-connection-container");e&&!e.hasChildNodes()&&sc.default.createRoot(e).render(Pt.default.createElement(lS,null)),console.log("\u2705 React components inicialitzats (incremental - reversible)")}catch(e){console.log("\u26A0\uFE0F React component skip:",e.message)}}async function $E(){try{document.body.classList.add("app-ready"),document.body.classList.remove("no-js"),await af(),Jc(),jE()}catch(e){console.error("Critical error during app startup:",e)}}function sS(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",$E,{once:!0}):$E()}sS();})();
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
