(()=>{var lT=Object.create;var Qf=Object.defineProperty;var iT=Object.getOwnPropertyDescriptor;var oT=Object.getOwnPropertyNames;var uT=Object.getPrototypeOf,sT=Object.prototype.hasOwnProperty;var da=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var rT=(e,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of oT(t))!sT.call(e,l)&&l!==a&&Qf(e,l,{get:()=>t[l],enumerable:!(n=iT(t,l))||n.enumerable});return e};var ii=(e,t,a)=>(a=e!=null?lT(uT(e)):{},rT(t||!e||!e.__esModule?Qf(a,"default",{value:e,enumerable:!0}):a,e));var Yg=da(O=>{"use strict";var Yr=Symbol.for("react.transitional.element"),by=Symbol.for("react.portal"),Dy=Symbol.for("react.fragment"),Oy=Symbol.for("react.strict_mode"),Ny=Symbol.for("react.profiler"),Ly=Symbol.for("react.consumer"),My=Symbol.for("react.context"),Ry=Symbol.for("react.forward_ref"),By=Symbol.for("react.suspense"),Iy=Symbol.for("react.memo"),wg=Symbol.for("react.lazy"),Uy=Symbol.for("react.activity"),Ig=Symbol.iterator;function xy(e){return e===null||typeof e!="object"?null:(e=Ig&&e[Ig]||e["@@iterator"],typeof e=="function"?e:null)}var Hg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vg=Object.assign,Gg={};function tl(e,t,a){this.props=e,this.context=t,this.refs=Gg,this.updater=a||Hg}tl.prototype.isReactComponent={};tl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pg(){}Pg.prototype=tl.prototype;function jr(e,t,a){this.props=e,this.context=t,this.refs=Gg,this.updater=a||Hg}var Xr=jr.prototype=new Pg;Xr.constructor=jr;Vg(Xr,tl.prototype);Xr.isPureReactComponent=!0;var Ug=Array.isArray;function qr(){}var Z={H:null,A:null,T:null,S:null},qg=Object.prototype.hasOwnProperty;function Qr(e,t,a){var n=a.ref;return{$$typeof:Yr,type:e,key:t,ref:n!==void 0?n:null,props:a}}function zy(e,t){return Qr(e.type,t,e.props)}function Kr(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yr}function wy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var xg=/\/+/g;function Pr(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wy(""+e.key):t.toString(36)}function Hy(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(qr,qr):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function el(e,t,a,n,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Yr:case by:o=!0;break;case wg:return o=e._init,el(o(e._payload),t,a,n,l)}}if(o)return l=l(e),o=n===""?"."+Pr(e,0):n,Ug(l)?(a="",o!=null&&(a=o.replace(xg,"$&/")+"/"),el(l,t,a,"",function(r){return r})):l!=null&&(Kr(l)&&(l=zy(l,a+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(xg,"$&/")+"/")+o)),t.push(l)),1;o=0;var u=n===""?".":n+":";if(Ug(e))for(var s=0;s<e.length;s++)n=e[s],i=u+Pr(n,s),o+=el(n,t,a,i,l);else if(s=xy(e),typeof s=="function")for(e=s.call(e),s=0;!(n=e.next()).done;)n=n.value,i=u+Pr(n,s++),o+=el(n,t,a,i,l);else if(i==="object"){if(typeof e.then=="function")return el(Hy(e),t,a,n,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function su(e,t,a){if(e==null)return e;var n=[],l=0;return el(e,n,"","",function(i){return t.call(a,i,l++)}),n}function Vy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gy={map:su,forEach:function(e,t,a){su(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return su(e,function(){t++}),t},toArray:function(e){return su(e,function(t){return t})||[]},only:function(e){if(!Kr(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};O.Activity=Uy;O.Children=Gy;O.Component=tl;O.Fragment=Dy;O.Profiler=Ny;O.PureComponent=jr;O.StrictMode=Oy;O.Suspense=By;O.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z;O.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Z.H.useMemoCache(e)}};O.cache=function(e){return function(){return e.apply(null,arguments)}};O.cacheSignal=function(){return null};O.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=Vg({},e.props),l=e.key;if(t!=null)for(i in t.key!==void 0&&(l=""+t.key),t)!qg.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var o=Array(i),u=0;u<i;u++)o[u]=arguments[u+2];n.children=o}return Qr(e.type,l,n)};O.createContext=function(e){return e={$$typeof:My,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Ly,_context:e},e};O.createElement=function(e,t,a){var n,l={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)qg.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(l[n]=t[n]);var o=arguments.length-2;if(o===1)l.children=a;else if(1<o){for(var u=Array(o),s=0;s<o;s++)u[s]=arguments[s+2];l.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)l[n]===void 0&&(l[n]=o[n]);return Qr(e,i,l)};O.createRef=function(){return{current:null}};O.forwardRef=function(e){return{$$typeof:Ry,render:e}};O.isValidElement=Kr;O.lazy=function(e){return{$$typeof:wg,_payload:{_status:-1,_result:e},_init:Vy}};O.memo=function(e,t){return{$$typeof:Iy,type:e,compare:t===void 0?null:t}};O.startTransition=function(e){var t=Z.T,a={};Z.T=a;try{var n=e(),l=Z.S;l!==null&&l(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(qr,zg)}catch(i){zg(i)}finally{t!==null&&a.types!==null&&(t.types=a.types),Z.T=t}};O.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()};O.use=function(e){return Z.H.use(e)};O.useActionState=function(e,t,a){return Z.H.useActionState(e,t,a)};O.useCallback=function(e,t){return Z.H.useCallback(e,t)};O.useContext=function(e){return Z.H.useContext(e)};O.useDebugValue=function(){};O.useDeferredValue=function(e,t){return Z.H.useDeferredValue(e,t)};O.useEffect=function(e,t){return Z.H.useEffect(e,t)};O.useEffectEvent=function(e){return Z.H.useEffectEvent(e)};O.useId=function(){return Z.H.useId()};O.useImperativeHandle=function(e,t,a){return Z.H.useImperativeHandle(e,t,a)};O.useInsertionEffect=function(e,t){return Z.H.useInsertionEffect(e,t)};O.useLayoutEffect=function(e,t){return Z.H.useLayoutEffect(e,t)};O.useMemo=function(e,t){return Z.H.useMemo(e,t)};O.useOptimistic=function(e,t){return Z.H.useOptimistic(e,t)};O.useReducer=function(e,t,a){return Z.H.useReducer(e,t,a)};O.useRef=function(e){return Z.H.useRef(e)};O.useState=function(e){return Z.H.useState(e)};O.useSyncExternalStore=function(e,t,a){return Z.H.useSyncExternalStore(e,t,a)};O.useTransition=function(){return Z.H.useTransition()};O.version="19.2.0"});var al=da((mD,jg)=>{"use strict";jg.exports=Yg()});var eE=da(W=>{"use strict";function kr(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,l=e[n];if(0<ru(l,t))e[n]=t,e[a]=l,a=n;else break e}}function Dt(e){return e.length===0?null:e[0]}function du(e){if(e.length===0)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,l=e.length,i=l>>>1;n<i;){var o=2*(n+1)-1,u=e[o],s=o+1,r=e[s];if(0>ru(u,a))s<l&&0>ru(r,u)?(e[n]=r,e[s]=a,n=s):(e[n]=u,e[o]=a,n=o);else if(s<l&&0>ru(r,a))e[n]=r,e[s]=a,n=s;else break e}}return t}function ru(e,t){var a=e.sortIndex-t.sortIndex;return a!==0?a:e.id-t.id}W.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(Xg=performance,W.unstable_now=function(){return Xg.now()}):(Zr=Date,Qg=Zr.now(),W.unstable_now=function(){return Zr.now()-Qg});var Xg,Zr,Qg,jt=[],ya=[],Py=1,it=null,Me=3,$r=!1,bi=!1,Di=!1,Wr=!1,Fg=typeof setTimeout=="function"?setTimeout:null,Jg=typeof clearTimeout=="function"?clearTimeout:null,Kg=typeof setImmediate<"u"?setImmediate:null;function cu(e){for(var t=Dt(ya);t!==null;){if(t.callback===null)du(ya);else if(t.startTime<=e)du(ya),t.sortIndex=t.expirationTime,kr(jt,t);else break;t=Dt(ya)}}function ec(e){if(Di=!1,cu(e),!bi)if(Dt(jt)!==null)bi=!0,ll||(ll=!0,nl());else{var t=Dt(ya);t!==null&&tc(ec,t.startTime-e)}}var ll=!1,Oi=-1,kg=5,$g=-1;function Wg(){return Wr?!0:!(W.unstable_now()-$g<kg)}function Fr(){if(Wr=!1,ll){var e=W.unstable_now();$g=e;var t=!0;try{e:{bi=!1,Di&&(Di=!1,Jg(Oi),Oi=-1),$r=!0;var a=Me;try{t:{for(cu(e),it=Dt(jt);it!==null&&!(it.expirationTime>e&&Wg());){var n=it.callback;if(typeof n=="function"){it.callback=null,Me=it.priorityLevel;var l=n(it.expirationTime<=e);if(e=W.unstable_now(),typeof l=="function"){it.callback=l,cu(e),t=!0;break t}it===Dt(jt)&&du(jt),cu(e)}else du(jt);it=Dt(jt)}if(it!==null)t=!0;else{var i=Dt(ya);i!==null&&tc(ec,i.startTime-e),t=!1}}break e}finally{it=null,Me=a,$r=!1}t=void 0}}finally{t?nl():ll=!1}}}var nl;typeof Kg=="function"?nl=function(){Kg(Fr)}:typeof MessageChannel<"u"?(Jr=new MessageChannel,Zg=Jr.port2,Jr.port1.onmessage=Fr,nl=function(){Zg.postMessage(null)}):nl=function(){Fg(Fr,0)};var Jr,Zg;function tc(e,t){Oi=Fg(function(){e(W.unstable_now())},t)}W.unstable_IdlePriority=5;W.unstable_ImmediatePriority=1;W.unstable_LowPriority=4;W.unstable_NormalPriority=3;W.unstable_Profiling=null;W.unstable_UserBlockingPriority=2;W.unstable_cancelCallback=function(e){e.callback=null};W.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):kg=0<e?Math.floor(1e3/e):5};W.unstable_getCurrentPriorityLevel=function(){return Me};W.unstable_next=function(e){switch(Me){case 1:case 2:case 3:var t=3;break;default:t=Me}var a=Me;Me=t;try{return e()}finally{Me=a}};W.unstable_requestPaint=function(){Wr=!0};W.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=Me;Me=e;try{return t()}finally{Me=a}};W.unstable_scheduleCallback=function(e,t,a){var n=W.unstable_now();switch(typeof a=="object"&&a!==null?(a=a.delay,a=typeof a=="number"&&0<a?n+a:n):a=n,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=a+l,e={id:Py++,callback:t,priorityLevel:e,startTime:a,expirationTime:l,sortIndex:-1},a>n?(e.sortIndex=a,kr(ya,e),Dt(jt)===null&&e===Dt(ya)&&(Di?(Jg(Oi),Oi=-1):Di=!0,tc(ec,a-n))):(e.sortIndex=l,kr(jt,e),bi||$r||(bi=!0,ll||(ll=!0,nl()))),e};W.unstable_shouldYield=Wg;W.unstable_wrapCallback=function(e){var t=Me;return function(){var a=Me;Me=t;try{return e.apply(this,arguments)}finally{Me=a}}}});var aE=da((ED,tE)=>{"use strict";tE.exports=eE()});var lE=da(Ue=>{"use strict";var qy=al();function nE(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Aa(){}var Ie={d:{f:Aa,r:function(){throw Error(nE(522))},D:Aa,C:Aa,L:Aa,m:Aa,X:Aa,S:Aa,M:Aa},p:0,findDOMNode:null},Yy=Symbol.for("react.portal");function jy(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yy,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var Ni=qy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function fu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ue.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ie;Ue.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(nE(299));return jy(e,t,null,a)};Ue.flushSync=function(e){var t=Ni.T,a=Ie.p;try{if(Ni.T=null,Ie.p=2,e)return e()}finally{Ni.T=t,Ie.p=a,Ie.d.f()}};Ue.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ie.d.C(e,t))};Ue.prefetchDNS=function(e){typeof e=="string"&&Ie.d.D(e)};Ue.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=fu(a,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?Ie.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:l,fetchPriority:i}):a==="script"&&Ie.d.X(e,{crossOrigin:n,integrity:l,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ue.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=fu(t.as,t.crossOrigin);Ie.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ie.d.M(e)};Ue.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=fu(a,t.crossOrigin);Ie.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ue.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=fu(t.as,t.crossOrigin);Ie.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ie.d.m(e)};Ue.requestFormReset=function(e){Ie.d.r(e)};Ue.unstable_batchedUpdates=function(e,t){return e(t)};Ue.useFormState=function(e,t,a){return Ni.H.useFormState(e,t,a)};Ue.useFormStatus=function(){return Ni.H.useHostTransitionStatus()};Ue.version="19.2.0"});var uE=da((hD,oE)=>{"use strict";function iE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iE)}catch(e){console.error(e)}}iE(),oE.exports=lE()});var vv=da(ws=>{"use strict";var he=aE(),IS=al(),Xy=uE();function p(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function US(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Eo(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function xS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zS(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sE(e){if(Eo(e)!==e)throw Error(p(188))}function Qy(e){var t=e.alternate;if(!t){if(t=Eo(e),t===null)throw Error(p(188));return t!==e?null:e}for(var a=e,n=t;;){var l=a.return;if(l===null)break;var i=l.alternate;if(i===null){if(n=l.return,n!==null){a=n;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===a)return sE(l),e;if(i===n)return sE(l),t;i=i.sibling}throw Error(p(188))}if(a.return!==n.return)a=l,n=i;else{for(var o=!1,u=l.child;u;){if(u===a){o=!0,a=l,n=i;break}if(u===n){o=!0,n=l,a=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===a){o=!0,a=i,n=l;break}if(u===n){o=!0,n=i,a=l;break}u=u.sibling}if(!o)throw Error(p(189))}}if(a.alternate!==n)throw Error(p(190))}if(a.tag!==3)throw Error(p(188));return a.stateNode.current===a?e:t}function wS(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=wS(e),t!==null)return t;e=e.sibling}return null}var k=Object.assign,Ky=Symbol.for("react.element"),mu=Symbol.for("react.transitional.element"),zi=Symbol.for("react.portal"),cl=Symbol.for("react.fragment"),HS=Symbol.for("react.strict_mode"),xc=Symbol.for("react.profiler"),VS=Symbol.for("react.consumer"),$t=Symbol.for("react.context"),Md=Symbol.for("react.forward_ref"),zc=Symbol.for("react.suspense"),wc=Symbol.for("react.suspense_list"),Rd=Symbol.for("react.memo"),Ca=Symbol.for("react.lazy");Symbol.for("react.scope");var Hc=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var Zy=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var rE=Symbol.iterator;function Li(e){return e===null||typeof e!="object"?null:(e=rE&&e[rE]||e["@@iterator"],typeof e=="function"?e:null)}var Fy=Symbol.for("react.client.reference");function Vc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Fy?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cl:return"Fragment";case xc:return"Profiler";case HS:return"StrictMode";case zc:return"Suspense";case wc:return"SuspenseList";case Hc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case zi:return"Portal";case $t:return e.displayName||"Context";case VS:return(e._context.displayName||"Context")+".Consumer";case Md:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rd:return t=e.displayName||null,t!==null?t:Vc(e.type)||"Memo";case Ca:t=e._payload,e=e._init;try{return Vc(e(t))}catch{}}return null}var wi=Array.isArray,b=IS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Xy.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mn={pending:!1,data:null,method:null,action:null},Gc=[],dl=-1;function Rt(e){return{current:e}}function ye(e){0>dl||(e.current=Gc[dl],Gc[dl]=null,dl--)}function K(e,t){dl++,Gc[dl]=e.current,e.current=t}var Mt=Rt(null),eo=Rt(null),Ua=Rt(null),Qu=Rt(null);function Ku(e,t){switch(K(Ua,t),K(eo,e),K(Mt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?SS(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=SS(t),e=iv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ye(Mt),K(Mt,e)}function Ll(){ye(Mt),ye(eo),ye(Ua)}function Pc(e){e.memoizedState!==null&&K(Qu,e);var t=Mt.current,a=iv(t,e.type);t!==a&&(K(eo,e),K(Mt,a))}function Zu(e){eo.current===e&&(ye(Mt),ye(eo)),Qu.current===e&&(ye(Qu),fo._currentValue=mn)}var ac,cE;function rn(e){if(ac===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ac=t&&t[1]||"",cE=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ac+e+cE}var nc=!1;function lc(e,t){if(!e||nc)return"";nc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var S=function(){throw Error()};if(Object.defineProperty(S.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(S,[])}catch(g){var f=g}Reflect.construct(e,[],S)}else{try{S.call()}catch(g){f=g}e.call(S.prototype)}}else{try{throw Error()}catch(g){f=g}(S=e())&&typeof S.catch=="function"&&S.catch(function(){})}}catch(g){if(g&&f&&typeof g.stack=="string")return[g.stack,f.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],u=i[1];if(o&&u){var s=o.split(`
`),r=u.split(`
`);for(l=n=0;n<s.length&&!s[n].includes("DetermineComponentFrameRoot");)n++;for(;l<r.length&&!r[l].includes("DetermineComponentFrameRoot");)l++;if(n===s.length||l===r.length)for(n=s.length-1,l=r.length-1;1<=n&&0<=l&&s[n]!==r[l];)l--;for(;1<=n&&0<=l;n--,l--)if(s[n]!==r[l]){if(n!==1||l!==1)do if(n--,l--,0>l||s[n]!==r[l]){var c=`
`+s[n].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=n&&0<=l);break}}}finally{nc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?rn(a):""}function Jy(e,t){switch(e.tag){case 26:case 27:case 5:return rn(e.type);case 16:return rn("Lazy");case 13:return e.child!==t&&t!==null?rn("Suspense Fallback"):rn("Suspense");case 19:return rn("SuspenseList");case 0:case 15:return lc(e.type,!1);case 11:return lc(e.type.render,!1);case 1:return lc(e.type,!0);case 31:return rn("Activity");default:return""}}function dE(e){try{var t="",a=null;do t+=Jy(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var qc=Object.prototype.hasOwnProperty,Bd=he.unstable_scheduleCallback,ic=he.unstable_cancelCallback,ky=he.unstable_shouldYield,$y=he.unstable_requestPaint,Fe=he.unstable_now,Wy=he.unstable_getCurrentPriorityLevel,GS=he.unstable_ImmediatePriority,PS=he.unstable_UserBlockingPriority,Fu=he.unstable_NormalPriority,e0=he.unstable_LowPriority,qS=he.unstable_IdlePriority,t0=he.log,a0=he.unstable_setDisableYieldValue,So=null,Je=null;function La(e){if(typeof t0=="function"&&a0(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(So,e)}catch{}}var ke=Math.clz32?Math.clz32:i0,n0=Math.log,l0=Math.LN2;function i0(e){return e>>>=0,e===0?32:31-(n0(e)/l0|0)|0}var gu=256,Eu=262144,Su=4194304;function cn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ys(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var l=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var u=n&134217727;return u!==0?(n=u&~i,n!==0?l=cn(n):(o&=u,o!==0?l=cn(o):a||(a=u&~e,a!==0&&(l=cn(a))))):(u=n&~i,u!==0?l=cn(u):o!==0?l=cn(o):a||(a=n&~e,a!==0&&(l=cn(a)))),l===0?0:t!==0&&t!==l&&(t&i)===0&&(i=l&-l,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:l}function ho(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function o0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YS(){var e=Su;return Su<<=1,(Su&62914560)===0&&(Su=4194304),e}function oc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function po(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function u0(e,t,a,n,l,i){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var u=e.entanglements,s=e.expirationTimes,r=e.hiddenUpdates;for(a=o&~a;0<a;){var c=31-ke(a),S=1<<c;u[c]=0,s[c]=-1;var f=r[c];if(f!==null)for(r[c]=null,c=0;c<f.length;c++){var g=f[c];g!==null&&(g.lane&=-536870913)}a&=~S}n!==0&&jS(e,n,0),i!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function jS(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ke(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function XS(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-ke(a),l=1<<n;l&t|e[n]&t&&(e[n]|=t),a&=~l}}function QS(e,t){var a=t&-t;return a=(a&42)!==0?1:Id(a),(a&(e.suspendedLanes|t))!==0?0:a}function Id(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ud(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function KS(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:Sv(e.type))}function fE(e,t){var a=V.p;try{return V.p=e,t()}finally{V.p=a}}var Ka=Math.random().toString(36).slice(2),_e="__reactFiber$"+Ka,qe="__reactProps$"+Ka,Gl="__reactContainer$"+Ka,Yc="__reactEvents$"+Ka,s0="__reactListeners$"+Ka,r0="__reactHandles$"+Ka,mE="__reactResources$"+Ka,vo="__reactMarker$"+Ka;function xd(e){delete e[_e],delete e[qe],delete e[Yc],delete e[s0],delete e[r0]}function fl(e){var t=e[_e];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Gl]||a[_e]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=yS(e);e!==null;){if(a=e[_e])return a;e=yS(e)}return t}e=a,a=e.parentNode}return null}function Pl(e){if(e=e[_e]||e[Gl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Hi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(p(33))}function Al(e){var t=e[mE];return t||(t=e[mE]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Te(e){e[vo]=!0}var ZS=new Set,FS={};function Cn(e,t){Ml(e,t),Ml(e+"Capture",t)}function Ml(e,t){for(FS[e]=t,e=0;e<t.length;e++)ZS.add(t[e])}var c0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gE={},EE={};function d0(e){return qc.call(EE,e)?!0:qc.call(gE,e)?!1:c0.test(e)?EE[e]=!0:(gE[e]=!0,!1)}function Ru(e,t,a){if(d0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function hu(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Xt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function JS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function f0(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jc(e){if(!e._valueTracker){var t=JS(e)?"checked":"value";e._valueTracker=f0(e,t,""+e[t])}}function kS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=JS(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Ju(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var m0=/[\n"\\]/g;function ct(e){return e.replace(m0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xc(e,t,a,n,l,i,o,u){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Qc(e,o,ut(t)):a!=null?Qc(e,o,ut(a)):n!=null&&e.removeAttribute("value"),l==null&&i!=null&&(e.defaultChecked=!!i),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+ut(u):e.removeAttribute("name")}function $S(e,t,a,n,l,i,o,u){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){jc(e);return}a=a!=null?""+ut(a):"",t=t!=null?""+ut(t):a,u||t===e.value||(e.value=t),e.defaultValue=t}n=n??l,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=u?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),jc(e)}function Qc(e,t,a){t==="number"&&Ju(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Cl(e,t,a,n){if(e=e.options,t){t={};for(var l=0;l<a.length;l++)t["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=t.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&n&&(e[a].defaultSelected=!0)}else{for(a=""+ut(a),t=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function WS(e,t,a){if(t!=null&&(t=""+ut(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ut(a):""}function eh(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(p(92));if(wi(n)){if(1<n.length)throw Error(p(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=ut(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),jc(e)}function Rl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var g0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function SE(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||g0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function th(e,t,a){if(t!=null&&typeof t!="object")throw Error(p(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var l in t)n=t[l],t.hasOwnProperty(l)&&a[l]!==n&&SE(e,l,n)}else for(var i in t)t.hasOwnProperty(i)&&SE(e,i,t[i])}function zd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),S0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bu(e){return S0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wt(){}var Kc=null;function wd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ml=null,_l=null;function hE(e){var t=Pl(e);if(t&&(e=t.stateNode)){var a=e[qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ct(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var l=n[qe]||null;if(!l)throw Error(p(90));Xc(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&kS(n)}break e;case"textarea":WS(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Cl(e,!!a.multiple,t,!1)}}}var uc=!1;function ah(e,t,a){if(uc)return e(t,a);uc=!0;try{var n=e(t);return n}finally{if(uc=!1,(ml!==null||_l!==null)&&(Is(),ml&&(t=ml,e=_l,_l=ml=null,hE(t),e)))for(t=0;t<e.length;t++)hE(e[t])}}function to(e,t){var a=e.stateNode;if(a===null)return null;var n=a[qe]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(p(231,t,typeof a));return a}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zc=!1;if(la)try{il={},Object.defineProperty(il,"passive",{get:function(){Zc=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{Zc=!1}var il,Ma=null,Hd=null,Iu=null;function nh(){if(Iu)return Iu;var e,t=Hd,a=t.length,n,l="value"in Ma?Ma.value:Ma.textContent,i=l.length;for(e=0;e<a&&t[e]===l[e];e++);var o=a-e;for(n=1;n<=o&&t[a-n]===l[i-n];n++);return Iu=l.slice(e,1<n?1-n:void 0)}function Uu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pu(){return!0}function pE(){return!1}function Ye(e){function t(a,n,l,i,o){this._reactName=a,this._targetInst=l,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(a=e[u],this[u]=a?a(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pu:pE,this.isPropagationStopped=pE,this}return k(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),t}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},As=Ye(_n),To=k({},_n,{view:0,detail:0}),h0=Ye(To),sc,rc,Mi,Cs=k({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(sc=e.screenX-Mi.screenX,rc=e.screenY-Mi.screenY):rc=sc=0,Mi=e),sc)},movementY:function(e){return"movementY"in e?e.movementY:rc}}),vE=Ye(Cs),p0=k({},Cs,{dataTransfer:0}),v0=Ye(p0),T0=k({},To,{relatedTarget:0}),cc=Ye(T0),y0=k({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),A0=Ye(y0),C0=k({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_0=Ye(C0),b0=k({},_n,{data:0}),TE=Ye(b0),D0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=N0[e])?!!t[e]:!1}function Vd(){return L0}var M0=k({},To,{key:function(e){if(e.key){var t=D0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Uu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?O0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vd,charCode:function(e){return e.type==="keypress"?Uu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Uu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),R0=Ye(M0),B0=k({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yE=Ye(B0),I0=k({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vd}),U0=Ye(I0),x0=k({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),z0=Ye(x0),w0=k({},Cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H0=Ye(w0),V0=k({},_n,{newState:0,oldState:0}),G0=Ye(V0),P0=[9,13,27,32],Gd=la&&"CompositionEvent"in window,Pi=null;la&&"documentMode"in document&&(Pi=document.documentMode);var q0=la&&"TextEvent"in window&&!Pi,lh=la&&(!Gd||Pi&&8<Pi&&11>=Pi),AE=" ",CE=!1;function ih(e,t){switch(e){case"keyup":return P0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gl=!1;function Y0(e,t){switch(e){case"compositionend":return oh(t);case"keypress":return t.which!==32?null:(CE=!0,AE);case"textInput":return e=t.data,e===AE&&CE?null:e;default:return null}}function j0(e,t){if(gl)return e==="compositionend"||!Gd&&ih(e,t)?(e=nh(),Iu=Hd=Ma=null,gl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lh&&t.locale!=="ko"?null:t.data;default:return null}}var X0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _E(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!X0[e.type]:t==="textarea"}function uh(e,t,a,n){ml?_l?_l.push(n):_l=[n]:ml=n,t=gs(t,"onChange"),0<t.length&&(a=new As("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var qi=null,ao=null;function Q0(e){av(e,0)}function _s(e){var t=Hi(e);if(kS(t))return e}function bE(e,t){if(e==="change")return t}var sh=!1;la&&(la?(Tu="oninput"in document,Tu||(dc=document.createElement("div"),dc.setAttribute("oninput","return;"),Tu=typeof dc.oninput=="function"),vu=Tu):vu=!1,sh=vu&&(!document.documentMode||9<document.documentMode));var vu,Tu,dc;function DE(){qi&&(qi.detachEvent("onpropertychange",rh),ao=qi=null)}function rh(e){if(e.propertyName==="value"&&_s(ao)){var t=[];uh(t,ao,e,wd(e)),ah(Q0,t)}}function K0(e,t,a){e==="focusin"?(DE(),qi=t,ao=a,qi.attachEvent("onpropertychange",rh)):e==="focusout"&&DE()}function Z0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _s(ao)}function F0(e,t){if(e==="click")return _s(t)}function J0(e,t){if(e==="input"||e==="change")return _s(t)}function k0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var We=typeof Object.is=="function"?Object.is:k0;function no(e,t){if(We(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var l=a[n];if(!qc.call(t,l)||!We(e[l],t[l]))return!1}return!0}function OE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function NE(e,t){var a=OE(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=OE(a)}}function ch(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ch(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ju(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ju(e.document)}return t}function Pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var $0=la&&"documentMode"in document&&11>=document.documentMode,El=null,Fc=null,Yi=null,Jc=!1;function LE(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jc||El==null||El!==Ju(n)||(n=El,"selectionStart"in n&&Pd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yi&&no(Yi,n)||(Yi=n,n=gs(Fc,"onSelect"),0<n.length&&(t=new As("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=El)))}function sn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Sl={animationend:sn("Animation","AnimationEnd"),animationiteration:sn("Animation","AnimationIteration"),animationstart:sn("Animation","AnimationStart"),transitionrun:sn("Transition","TransitionRun"),transitionstart:sn("Transition","TransitionStart"),transitioncancel:sn("Transition","TransitionCancel"),transitionend:sn("Transition","TransitionEnd")},fc={},fh={};la&&(fh=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function bn(e){if(fc[e])return fc[e];if(!Sl[e])return e;var t=Sl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in fh)return fc[e]=t[a];return e}var mh=bn("animationend"),gh=bn("animationiteration"),Eh=bn("animationstart"),W0=bn("transitionrun"),eA=bn("transitionstart"),tA=bn("transitioncancel"),Sh=bn("transitionend"),hh=new Map,kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kc.push("scrollEnd");function Ct(e,t){hh.set(e,t),Cn(t,[e])}var ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ot=[],hl=0,qd=0;function bs(){for(var e=hl,t=qd=hl=0;t<e;){var a=ot[t];ot[t++]=null;var n=ot[t];ot[t++]=null;var l=ot[t];ot[t++]=null;var i=ot[t];if(ot[t++]=null,n!==null&&l!==null){var o=n.pending;o===null?l.next=l:(l.next=o.next,o.next=l),n.pending=l}i!==0&&ph(a,l,i)}}function Ds(e,t,a,n){ot[hl++]=e,ot[hl++]=t,ot[hl++]=a,ot[hl++]=n,qd|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Yd(e,t,a,n){return Ds(e,t,a,n),$u(e)}function Dn(e,t){return Ds(e,null,null,t),$u(e)}function ph(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var l=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(l=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,l&&t!==null&&(l=31-ke(a),e=i.hiddenUpdates,n=e[l],n===null?e[l]=[t]:n.push(t),t.lane=a|536870912),i):null}function $u(e){if(50<$i)throw $i=0,pd=null,Error(p(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pl={};function aA(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,a,n){return new aA(e,t,a,n)}function jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ta(e,t){var a=e.alternate;return a===null?(a=Ke(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function vh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function xu(e,t,a,n,l,i){var o=0;if(n=e,typeof e=="function")jd(e)&&(o=1);else if(typeof e=="string")o=iC(e,a,Mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Hc:return e=Ke(31,a,t,l),e.elementType=Hc,e.lanes=i,e;case cl:return gn(a.children,l,i,t);case HS:o=8,l|=24;break;case xc:return e=Ke(12,a,t,l|2),e.elementType=xc,e.lanes=i,e;case zc:return e=Ke(13,a,t,l),e.elementType=zc,e.lanes=i,e;case wc:return e=Ke(19,a,t,l),e.elementType=wc,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $t:o=10;break e;case VS:o=9;break e;case Md:o=11;break e;case Rd:o=14;break e;case Ca:o=16,n=null;break e}o=29,a=Error(p(130,e===null?"null":typeof e,"")),n=null}return t=Ke(o,a,t,l),t.elementType=e,t.type=n,t.lanes=i,t}function gn(e,t,a,n){return e=Ke(7,e,n,t),e.lanes=a,e}function mc(e,t,a){return e=Ke(6,e,null,t),e.lanes=a,e}function Th(e){var t=Ke(18,null,null,0);return t.stateNode=e,t}function gc(e,t,a){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ME=new WeakMap;function dt(e,t){if(typeof e=="object"&&e!==null){var a=ME.get(e);return a!==void 0?a:(t={value:e,source:t,stack:dE(t)},ME.set(e,t),t)}return{value:e,source:t,stack:dE(t)}}var vl=[],Tl=0,Wu=null,lo=0,st=[],rt=0,Ya=null,Ot=1,Nt="";function Jt(e,t){vl[Tl++]=lo,vl[Tl++]=Wu,Wu=e,lo=t}function yh(e,t,a){st[rt++]=Ot,st[rt++]=Nt,st[rt++]=Ya,Ya=e;var n=Ot;e=Nt;var l=32-ke(n)-1;n&=~(1<<l),a+=1;var i=32-ke(t)+l;if(30<i){var o=l-l%5;i=(n&(1<<o)-1).toString(32),n>>=o,l-=o,Ot=1<<32-ke(t)+l|a<<l|n,Nt=i+e}else Ot=1<<i|a<<l|n,Nt=e}function Xd(e){e.return!==null&&(Jt(e,1),yh(e,1,0))}function Qd(e){for(;e===Wu;)Wu=vl[--Tl],vl[Tl]=null,lo=vl[--Tl],vl[Tl]=null;for(;e===Ya;)Ya=st[--rt],st[rt]=null,Nt=st[--rt],st[rt]=null,Ot=st[--rt],st[rt]=null}function Ah(e,t){st[rt++]=Ot,st[rt++]=Nt,st[rt++]=Ya,Ot=t.id,Nt=t.overflow,Ya=e}var be=null,J=null,z=!1,xa=null,ft=!1,$c=Error(p(519));function ja(e){var t=Error(p(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw io(dt(t,e)),$c}function RE(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[_e]=e,t[qe]=n,a){case"dialog":I("cancel",t),I("close",t);break;case"iframe":case"object":case"embed":I("load",t);break;case"video":case"audio":for(a=0;a<ro.length;a++)I(ro[a],t);break;case"source":I("error",t);break;case"img":case"image":case"link":I("error",t),I("load",t);break;case"details":I("toggle",t);break;case"input":I("invalid",t),$S(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":I("invalid",t);break;case"textarea":I("invalid",t),eh(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||lv(t.textContent,a)?(n.popover!=null&&(I("beforetoggle",t),I("toggle",t)),n.onScroll!=null&&I("scroll",t),n.onScrollEnd!=null&&I("scrollend",t),n.onClick!=null&&(t.onclick=Wt),t=!0):t=!1,t||ja(e,!0)}function BE(e){for(be=e.return;be;)switch(be.tag){case 5:case 31:case 13:ft=!1;return;case 27:case 3:ft=!0;return;default:be=be.return}}function ol(e){if(e!==be)return!1;if(!z)return BE(e),z=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Cd(e.type,e.memoizedProps)),a=!a),a&&J&&ja(e),BE(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));J=TS(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));J=TS(e)}else t===27?(t=J,Za(e.type)?(e=Od,Od=null,J=e):J=t):J=be?gt(e.stateNode.nextSibling):null;return!0}function pn(){J=be=null,z=!1}function Ec(){var e=xa;return e!==null&&(Ge===null?Ge=e:Ge.push.apply(Ge,e),xa=null),e}function io(e){xa===null?xa=[e]:xa.push(e)}var Wc=Rt(null),On=null,ea=null;function ba(e,t,a){K(Wc,t._currentValue),t._currentValue=a}function aa(e){e._currentValue=Wc.current,ye(Wc)}function ed(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function td(e,t,a,n){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var i=l.dependencies;if(i!==null){var o=l.child;i=i.firstContext;e:for(;i!==null;){var u=i;i=l;for(var s=0;s<t.length;s++)if(u.context===t[s]){i.lanes|=a,u=i.alternate,u!==null&&(u.lanes|=a),ed(i.return,a,e),n||(o=null);break e}i=u.next}}else if(l.tag===18){if(o=l.return,o===null)throw Error(p(341));o.lanes|=a,i=o.alternate,i!==null&&(i.lanes|=a),ed(o,a,e),o=null}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===e){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}}function ql(e,t,a,n){e=null;for(var l=t,i=!1;l!==null;){if(!i){if((l.flags&524288)!==0)i=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var o=l.alternate;if(o===null)throw Error(p(387));if(o=o.memoizedProps,o!==null){var u=l.type;We(l.pendingProps.value,o.value)||(e!==null?e.push(u):e=[u])}}else if(l===Qu.current){if(o=l.alternate,o===null)throw Error(p(387));o.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(fo):e=[fo])}l=l.return}e!==null&&td(t,e,a,n),t.flags|=262144}function es(e){for(e=e.firstContext;e!==null;){if(!We(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vn(e){On=e,ea=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function De(e){return Ch(On,e)}function yu(e,t){return On===null&&vn(e),Ch(e,t)}function Ch(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ea===null){if(e===null)throw Error(p(308));ea=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ea=ea.next=t;return a}var nA=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},lA=he.unstable_scheduleCallback,iA=he.unstable_NormalPriority,ge={$$typeof:$t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new nA,data:new Map,refCount:0}}function yo(e){e.refCount--,e.refCount===0&&lA(iA,function(){e.controller.abort()})}var ji=null,ad=0,Bl=0,bl=null;function oA(e,t){if(ji===null){var a=ji=[];ad=0,Bl=vf(),bl={status:"pending",value:void 0,then:function(n){a.push(n)}}}return ad++,t.then(IE,IE),t}function IE(){if(--ad===0&&ji!==null){bl!==null&&(bl.status="fulfilled");var e=ji;ji=null,Bl=0,bl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function uA(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var l=0;l<a.length;l++)(0,a[l])(t)},function(l){for(n.status="rejected",n.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),n}var UE=b.S;b.S=function(e,t){wp=Fe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&oA(e,t),UE!==null&&UE(e,t)};var En=Rt(null);function Zd(){var e=En.current;return e!==null?e:X.pooledCache}function zu(e,t){t===null?K(En,En.current):K(En,t.pool)}function _h(){var e=Zd();return e===null?null:{parent:ge._currentValue,pool:e}}var Yl=Error(p(460)),Fd=Error(p(474)),Os=Error(p(542)),ts={then:function(){}};function xE(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Wt,Wt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wE(e),e;default:if(typeof t.status=="string")t.then(Wt,Wt);else{if(e=X,e!==null&&100<e.shellSuspendCounter)throw Error(p(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=n}},function(n){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wE(e),e}throw Sn=t,Yl}}function dn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Sn=a,Yl):a}}var Sn=null;function zE(){if(Sn===null)throw Error(p(459));var e=Sn;return Sn=null,e}function wE(e){if(e===Yl||e===Os)throw Error(p(483))}var Dl=null,oo=0;function Au(e){var t=oo;return oo+=1,Dl===null&&(Dl=[]),bh(Dl,e,t)}function Ri(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Cu(e,t){throw t.$$typeof===Ky?Error(p(525)):(e=Object.prototype.toString.call(t),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Dh(e){function t(m,d){if(e){var E=m.deletions;E===null?(m.deletions=[d],m.flags|=16):E.push(d)}}function a(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function n(m){for(var d=new Map;m!==null;)m.key!==null?d.set(m.key,m):d.set(m.index,m),m=m.sibling;return d}function l(m,d){return m=ta(m,d),m.index=0,m.sibling=null,m}function i(m,d,E){return m.index=E,e?(E=m.alternate,E!==null?(E=E.index,E<d?(m.flags|=67108866,d):E):(m.flags|=67108866,d)):(m.flags|=1048576,d)}function o(m){return e&&m.alternate===null&&(m.flags|=67108866),m}function u(m,d,E,h){return d===null||d.tag!==6?(d=mc(E,m.mode,h),d.return=m,d):(d=l(d,E),d.return=m,d)}function s(m,d,E,h){var A=E.type;return A===cl?c(m,d,E.props.children,h,E.key):d!==null&&(d.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ca&&dn(A)===d.type)?(d=l(d,E.props),Ri(d,E),d.return=m,d):(d=xu(E.type,E.key,E.props,null,m.mode,h),Ri(d,E),d.return=m,d)}function r(m,d,E,h){return d===null||d.tag!==4||d.stateNode.containerInfo!==E.containerInfo||d.stateNode.implementation!==E.implementation?(d=gc(E,m.mode,h),d.return=m,d):(d=l(d,E.children||[]),d.return=m,d)}function c(m,d,E,h,A){return d===null||d.tag!==7?(d=gn(E,m.mode,h,A),d.return=m,d):(d=l(d,E),d.return=m,d)}function S(m,d,E){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=mc(""+d,m.mode,E),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case mu:return E=xu(d.type,d.key,d.props,null,m.mode,E),Ri(E,d),E.return=m,E;case zi:return d=gc(d,m.mode,E),d.return=m,d;case Ca:return d=dn(d),S(m,d,E)}if(wi(d)||Li(d))return d=gn(d,m.mode,E,null),d.return=m,d;if(typeof d.then=="function")return S(m,Au(d),E);if(d.$$typeof===$t)return S(m,yu(m,d),E);Cu(m,d)}return null}function f(m,d,E,h){var A=d!==null?d.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return A!==null?null:u(m,d,""+E,h);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case mu:return E.key===A?s(m,d,E,h):null;case zi:return E.key===A?r(m,d,E,h):null;case Ca:return E=dn(E),f(m,d,E,h)}if(wi(E)||Li(E))return A!==null?null:c(m,d,E,h,null);if(typeof E.then=="function")return f(m,d,Au(E),h);if(E.$$typeof===$t)return f(m,d,yu(m,E),h);Cu(m,E)}return null}function g(m,d,E,h,A){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return m=m.get(E)||null,u(d,m,""+h,A);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case mu:return m=m.get(h.key===null?E:h.key)||null,s(d,m,h,A);case zi:return m=m.get(h.key===null?E:h.key)||null,r(d,m,h,A);case Ca:return h=dn(h),g(m,d,E,h,A)}if(wi(h)||Li(h))return m=m.get(E)||null,c(d,m,h,A,null);if(typeof h.then=="function")return g(m,d,E,Au(h),A);if(h.$$typeof===$t)return g(m,d,E,yu(d,h),A);Cu(d,h)}return null}function v(m,d,E,h){for(var A=null,M=null,T=d,_=d=0,C=null;T!==null&&_<E.length;_++){T.index>_?(C=T,T=null):C=T.sibling;var D=f(m,T,E[_],h);if(D===null){T===null&&(T=C);break}e&&T&&D.alternate===null&&t(m,T),d=i(D,d,_),M===null?A=D:M.sibling=D,M=D,T=C}if(_===E.length)return a(m,T),z&&Jt(m,_),A;if(T===null){for(;_<E.length;_++)T=S(m,E[_],h),T!==null&&(d=i(T,d,_),M===null?A=T:M.sibling=T,M=T);return z&&Jt(m,_),A}for(T=n(T);_<E.length;_++)C=g(T,m,_,E[_],h),C!==null&&(e&&C.alternate!==null&&T.delete(C.key===null?_:C.key),d=i(C,d,_),M===null?A=C:M.sibling=C,M=C);return e&&T.forEach(function(ze){return t(m,ze)}),z&&Jt(m,_),A}function y(m,d,E,h){if(E==null)throw Error(p(151));for(var A=null,M=null,T=d,_=d=0,C=null,D=E.next();T!==null&&!D.done;_++,D=E.next()){T.index>_?(C=T,T=null):C=T.sibling;var ze=f(m,T,D.value,h);if(ze===null){T===null&&(T=C);break}e&&T&&ze.alternate===null&&t(m,T),d=i(ze,d,_),M===null?A=ze:M.sibling=ze,M=ze,T=C}if(D.done)return a(m,T),z&&Jt(m,_),A;if(T===null){for(;!D.done;_++,D=E.next())D=S(m,D.value,h),D!==null&&(d=i(D,d,_),M===null?A=D:M.sibling=D,M=D);return z&&Jt(m,_),A}for(T=n(T);!D.done;_++,D=E.next())D=g(T,m,_,D.value,h),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?_:D.key),d=i(D,d,_),M===null?A=D:M.sibling=D,M=D);return e&&T.forEach(function(ni){return t(m,ni)}),z&&Jt(m,_),A}function L(m,d,E,h){if(typeof E=="object"&&E!==null&&E.type===cl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case mu:e:{for(var A=E.key;d!==null;){if(d.key===A){if(A=E.type,A===cl){if(d.tag===7){a(m,d.sibling),h=l(d,E.props.children),h.return=m,m=h;break e}}else if(d.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ca&&dn(A)===d.type){a(m,d.sibling),h=l(d,E.props),Ri(h,E),h.return=m,m=h;break e}a(m,d);break}else t(m,d);d=d.sibling}E.type===cl?(h=gn(E.props.children,m.mode,h,E.key),h.return=m,m=h):(h=xu(E.type,E.key,E.props,null,m.mode,h),Ri(h,E),h.return=m,m=h)}return o(m);case zi:e:{for(A=E.key;d!==null;){if(d.key===A)if(d.tag===4&&d.stateNode.containerInfo===E.containerInfo&&d.stateNode.implementation===E.implementation){a(m,d.sibling),h=l(d,E.children||[]),h.return=m,m=h;break e}else{a(m,d);break}else t(m,d);d=d.sibling}h=gc(E,m.mode,h),h.return=m,m=h}return o(m);case Ca:return E=dn(E),L(m,d,E,h)}if(wi(E))return v(m,d,E,h);if(Li(E)){if(A=Li(E),typeof A!="function")throw Error(p(150));return E=A.call(E),y(m,d,E,h)}if(typeof E.then=="function")return L(m,d,Au(E),h);if(E.$$typeof===$t)return L(m,d,yu(m,E),h);Cu(m,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,d!==null&&d.tag===6?(a(m,d.sibling),h=l(d,E),h.return=m,m=h):(a(m,d),h=mc(E,m.mode,h),h.return=m,m=h),o(m)):a(m,d)}return function(m,d,E,h){try{oo=0;var A=L(m,d,E,h);return Dl=null,A}catch(T){if(T===Yl||T===Os)throw T;var M=Ke(29,T,null,m.mode);return M.lanes=h,M.return=m,M}finally{}}}var Tn=Dh(!0),Oh=Dh(!1),_a=!1;function Jd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wa(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(H&2)!==0){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,t=$u(e),ph(e,null,a),t}return Ds(e,n,t,a),$u(e)}function Xi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,XS(e,a)}}function Sc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var l=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?l=i=o:i=i.next=o,a=a.next}while(a!==null);i===null?l=i=t:i=i.next=t}else l=i=t;a={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var ld=!1;function Qi(){if(ld){var e=bl;if(e!==null)throw e}}function Ki(e,t,a,n){ld=!1;var l=e.updateQueue;_a=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var s=u,r=s.next;s.next=null,o===null?i=r:o.next=r,o=s;var c=e.alternate;c!==null&&(c=c.updateQueue,u=c.lastBaseUpdate,u!==o&&(u===null?c.firstBaseUpdate=r:u.next=r,c.lastBaseUpdate=s))}if(i!==null){var S=l.baseState;o=0,c=r=s=null,u=i;do{var f=u.lane&-536870913,g=f!==u.lane;if(g?(x&f)===f:(n&f)===f){f!==0&&f===Bl&&(ld=!0),c!==null&&(c=c.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var v=e,y=u;f=t;var L=a;switch(y.tag){case 1:if(v=y.payload,typeof v=="function"){S=v.call(L,S,f);break e}S=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(L,S,f):v,f==null)break e;S=k({},S,f);break e;case 2:_a=!0}}f=u.callback,f!==null&&(e.flags|=64,g&&(e.flags|=8192),g=l.callbacks,g===null?l.callbacks=[f]:g.push(f))}else g={lane:f,tag:u.tag,payload:u.payload,callback:u.callback,next:null},c===null?(r=c=g,s=S):c=c.next=g,o|=f;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;g=u,u=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);c===null&&(s=S),l.baseState=s,l.firstBaseUpdate=r,l.lastBaseUpdate=c,i===null&&(l.shared.lanes=0),Qa|=o,e.lanes=o,e.memoizedState=S}}function Nh(e,t){if(typeof e!="function")throw Error(p(191,e));e.call(t)}function Lh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Nh(a[e],t)}var Il=Rt(null),as=Rt(0);function HE(e,t){e=sa,K(as,e),K(Il,t),sa=e|t.baseLanes}function id(){K(as,sa),K(Il,Il.current)}function kd(){sa=as.current,ye(Il),ye(as)}var et=Rt(null),mt=null;function Da(e){var t=e.alternate;K(ue,ue.current&1),K(et,e),mt===null&&(t===null||Il.current!==null||t.memoizedState!==null)&&(mt=e)}function od(e){K(ue,ue.current),K(et,e),mt===null&&(mt=e)}function Mh(e){e.tag===22?(K(ue,ue.current),K(et,e),mt===null&&(mt=e)):Oa(e)}function Oa(){K(ue,ue.current),K(et,et.current)}function Qe(e){ye(et),mt===e&&(mt=null),ye(ue)}var ue=Rt(0);function ns(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bd(a)||Dd(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ia=0,N=null,j=null,fe=null,ls=!1,Ol=!1,yn=!1,is=0,uo=0,Nl=null,sA=0;function le(){throw Error(p(321))}function $d(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!We(e[a],t[a]))return!1;return!0}function Wd(e,t,a,n,l,i){return ia=i,N=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,b.H=e===null||e.memoizedState===null?up:df,yn=!1,i=a(n,l),yn=!1,Ol&&(i=Bh(t,a,n,l)),Rh(e),i}function Rh(e){b.H=so;var t=j!==null&&j.next!==null;if(ia=0,fe=j=N=null,ls=!1,uo=0,Nl=null,t)throw Error(p(300));e===null||Ee||(e=e.dependencies,e!==null&&es(e)&&(Ee=!0))}function Bh(e,t,a,n){N=e;var l=0;do{if(Ol&&(Nl=null),uo=0,Ol=!1,25<=l)throw Error(p(301));if(l+=1,fe=j=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}b.H=sp,i=t(a,n)}while(Ol);return i}function rA(){var e=b.H,t=e.useState()[0];return t=typeof t.then=="function"?Ao(t):t,e=e.useState()[0],(j!==null?j.memoizedState:null)!==e&&(N.flags|=1024),t}function ef(){var e=is!==0;return is=0,e}function tf(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function af(e){if(ls){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ls=!1}ia=0,fe=j=N=null,Ol=!1,uo=is=0,Nl=null}function xe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?N.memoizedState=fe=e:fe=fe.next=e,fe}function se(){if(j===null){var e=N.alternate;e=e!==null?e.memoizedState:null}else e=j.next;var t=fe===null?N.memoizedState:fe.next;if(t!==null)fe=t,j=e;else{if(e===null)throw N.alternate===null?Error(p(467)):Error(p(310));j=e,e={memoizedState:j.memoizedState,baseState:j.baseState,baseQueue:j.baseQueue,queue:j.queue,next:null},fe===null?N.memoizedState=fe=e:fe=fe.next=e}return fe}function Ns(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ao(e){var t=uo;return uo+=1,Nl===null&&(Nl=[]),e=bh(Nl,e,t),t=N,(fe===null?t.memoizedState:fe.next)===null&&(t=t.alternate,b.H=t===null||t.memoizedState===null?up:df),e}function Ls(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ao(e);if(e.$$typeof===$t)return De(e)}throw Error(p(438,String(e)))}function nf(e){var t=null,a=N.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=N.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ns(),N.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Zy;return t.index++,a}function oa(e,t){return typeof t=="function"?t(e):t}function wu(e){var t=se();return lf(t,j,e)}function lf(e,t,a){var n=e.queue;if(n===null)throw Error(p(311));n.lastRenderedReducer=a;var l=e.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}t.baseQueue=l=i,n.pending=null}if(i=e.baseState,l===null)e.memoizedState=i;else{t=l.next;var u=o=null,s=null,r=t,c=!1;do{var S=r.lane&-536870913;if(S!==r.lane?(x&S)===S:(ia&S)===S){var f=r.revertLane;if(f===0)s!==null&&(s=s.next={lane:0,revertLane:0,gesture:null,action:r.action,hasEagerState:r.hasEagerState,eagerState:r.eagerState,next:null}),S===Bl&&(c=!0);else if((ia&f)===f){r=r.next,f===Bl&&(c=!0);continue}else S={lane:0,revertLane:r.revertLane,gesture:null,action:r.action,hasEagerState:r.hasEagerState,eagerState:r.eagerState,next:null},s===null?(u=s=S,o=i):s=s.next=S,N.lanes|=f,Qa|=f;S=r.action,yn&&a(i,S),i=r.hasEagerState?r.eagerState:a(i,S)}else f={lane:S,revertLane:r.revertLane,gesture:r.gesture,action:r.action,hasEagerState:r.hasEagerState,eagerState:r.eagerState,next:null},s===null?(u=s=f,o=i):s=s.next=f,N.lanes|=S,Qa|=S;r=r.next}while(r!==null&&r!==t);if(s===null?o=i:s.next=u,!We(i,e.memoizedState)&&(Ee=!0,c&&(a=bl,a!==null)))throw a;e.memoizedState=i,e.baseState=o,e.baseQueue=s,n.lastRenderedState=i}return l===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function hc(e){var t=se(),a=t.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=e;var n=a.dispatch,l=a.pending,i=t.memoizedState;if(l!==null){a.pending=null;var o=l=l.next;do i=e(i,o.action),o=o.next;while(o!==l);We(i,t.memoizedState)||(Ee=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function Ih(e,t,a){var n=N,l=se(),i=z;if(i){if(a===void 0)throw Error(p(407));a=a()}else a=t();var o=!We((j||l).memoizedState,a);if(o&&(l.memoizedState=a,Ee=!0),l=l.queue,of(zh.bind(null,n,l,e),[e]),l.getSnapshot!==t||o||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,Ul(9,{destroy:void 0},xh.bind(null,n,l,a,t),null),X===null)throw Error(p(349));i||(ia&127)!==0||Uh(n,t,a)}return a}function Uh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=N.updateQueue,t===null?(t=Ns(),N.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function xh(e,t,a,n){t.value=a,t.getSnapshot=n,wh(t)&&Hh(e)}function zh(e,t,a){return a(function(){wh(t)&&Hh(e)})}function wh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!We(e,a)}catch{return!0}}function Hh(e){var t=Dn(e,2);t!==null&&Pe(t,e,2)}function ud(e){var t=xe();if(typeof e=="function"){var a=e;if(e=a(),yn){La(!0);try{a()}finally{La(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e},t}function Vh(e,t,a,n){return e.baseState=a,lf(e,j,typeof n=="function"?n:oa)}function cA(e,t,a,n,l){if(Rs(e))throw Error(p(485));if(e=t.action,e!==null){var i={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};b.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,Gh(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Gh(e,t){var a=t.action,n=t.payload,l=e.state;if(t.isTransition){var i=b.T,o={};b.T=o;try{var u=a(l,n),s=b.S;s!==null&&s(o,u),VE(e,t,u)}catch(r){sd(e,t,r)}finally{i!==null&&o.types!==null&&(i.types=o.types),b.T=i}}else try{i=a(l,n),VE(e,t,i)}catch(r){sd(e,t,r)}}function VE(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){GE(e,t,n)},function(n){return sd(e,t,n)}):GE(e,t,a)}function GE(e,t,a){t.status="fulfilled",t.value=a,Ph(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Gh(e,a)))}function sd(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Ph(t),t=t.next;while(t!==n)}e.action=null}function Ph(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function qh(e,t){return t}function PE(e,t){if(z){var a=X.formState;if(a!==null){e:{var n=N;if(z){if(J){t:{for(var l=J,i=ft;l.nodeType!==8;){if(!i){l=null;break t}if(l=gt(l.nextSibling),l===null){l=null;break t}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){J=gt(l.nextSibling),n=l.data==="F!";break e}}ja(n)}n=!1}n&&(t=a[0])}}return a=xe(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qh,lastRenderedState:t},a.queue=n,a=lp.bind(null,N,n),n.dispatch=a,n=ud(!1),i=cf.bind(null,N,!1,n.queue),n=xe(),l={state:t,dispatch:null,action:e,pending:null},n.queue=l,a=cA.bind(null,N,l,i,a),l.dispatch=a,n.memoizedState=e,[t,a,!1]}function qE(e){var t=se();return Yh(t,j,e)}function Yh(e,t,a){if(t=lf(e,t,qh)[0],e=wu(oa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Ao(t)}catch(o){throw o===Yl?Os:o}else n=t;t=se();var l=t.queue,i=l.dispatch;return a!==t.memoizedState&&(N.flags|=2048,Ul(9,{destroy:void 0},dA.bind(null,l,a),null)),[n,i,e]}function dA(e,t){e.action=t}function YE(e){var t=se(),a=j;if(a!==null)return Yh(t,a,e);se(),t=t.memoizedState,a=se();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Ul(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=N.updateQueue,t===null&&(t=Ns(),N.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function jh(){return se().memoizedState}function Hu(e,t,a,n){var l=xe();N.flags|=e,l.memoizedState=Ul(1|t,{destroy:void 0},a,n===void 0?null:n)}function Ms(e,t,a,n){var l=se();n=n===void 0?null:n;var i=l.memoizedState.inst;j!==null&&n!==null&&$d(n,j.memoizedState.deps)?l.memoizedState=Ul(t,i,a,n):(N.flags|=e,l.memoizedState=Ul(1|t,i,a,n))}function jE(e,t){Hu(8390656,8,e,t)}function of(e,t){Ms(2048,8,e,t)}function fA(e){N.flags|=4;var t=N.updateQueue;if(t===null)t=Ns(),N.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Xh(e){var t=se().memoizedState;return fA({ref:t,nextImpl:e}),function(){if((H&2)!==0)throw Error(p(440));return t.impl.apply(void 0,arguments)}}function Qh(e,t){return Ms(4,2,e,t)}function Kh(e,t){return Ms(4,4,e,t)}function Zh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fh(e,t,a){a=a!=null?a.concat([e]):null,Ms(4,4,Zh.bind(null,t,e),a)}function uf(){}function Jh(e,t){var a=se();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&$d(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function kh(e,t){var a=se();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&$d(t,n[1]))return n[0];if(n=e(),yn){La(!0);try{e()}finally{La(!1)}}return a.memoizedState=[n,t],n}function sf(e,t,a){return a===void 0||(ia&1073741824)!==0&&(x&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Vp(),N.lanes|=e,Qa|=e,a)}function $h(e,t,a,n){return We(a,t)?a:Il.current!==null?(e=sf(e,a,n),We(e,t)||(Ee=!0),e):(ia&42)===0||(ia&1073741824)!==0&&(x&261930)===0?(Ee=!0,e.memoizedState=a):(e=Vp(),N.lanes|=e,Qa|=e,t)}function Wh(e,t,a,n,l){var i=V.p;V.p=i!==0&&8>i?i:8;var o=b.T,u={};b.T=u,cf(e,!1,t,a);try{var s=l(),r=b.S;if(r!==null&&r(u,s),s!==null&&typeof s=="object"&&typeof s.then=="function"){var c=uA(s,n);Zi(e,t,c,$e(e))}else Zi(e,t,n,$e(e))}catch(S){Zi(e,t,{then:function(){},status:"rejected",reason:S},$e())}finally{V.p=i,o!==null&&u.types!==null&&(o.types=u.types),b.T=o}}function mA(){}function rd(e,t,a,n){if(e.tag!==5)throw Error(p(476));var l=ep(e).queue;Wh(e,l,t,mn,a===null?mA:function(){return tp(e),a(n)})}function ep(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:mn,baseState:mn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:mn},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function tp(e){var t=ep(e);t.next===null&&(t=e.alternate.memoizedState),Zi(e,t.next.queue,{},$e())}function rf(){return De(fo)}function ap(){return se().memoizedState}function np(){return se().memoizedState}function gA(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=$e();e=za(a);var n=wa(t,e,a);n!==null&&(Pe(n,t,a),Xi(n,t,a)),t={cache:Kd()},e.payload=t;return}t=t.return}}function EA(e,t,a){var n=$e();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Rs(e)?ip(t,a):(a=Yd(e,t,a,n),a!==null&&(Pe(a,e,n),op(a,t,n)))}function lp(e,t,a){var n=$e();Zi(e,t,a,n)}function Zi(e,t,a,n){var l={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rs(e))ip(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,u=i(o,a);if(l.hasEagerState=!0,l.eagerState=u,We(u,o))return Ds(e,t,l,0),X===null&&bs(),!1}catch{}finally{}if(a=Yd(e,t,l,n),a!==null)return Pe(a,e,n),op(a,t,n),!0}return!1}function cf(e,t,a,n){if(n={lane:2,revertLane:vf(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Rs(e)){if(t)throw Error(p(479))}else t=Yd(e,a,n,2),t!==null&&Pe(t,e,2)}function Rs(e){var t=e.alternate;return e===N||t!==null&&t===N}function ip(e,t){Ol=ls=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function op(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,XS(e,a)}}var so={readContext:De,use:Ls,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};so.useEffectEvent=le;var up={readContext:De,use:Ls,useCallback:function(e,t){return xe().memoizedState=[e,t===void 0?null:t],e},useContext:De,useEffect:jE,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Hu(4194308,4,Zh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Hu(4194308,4,e,t)},useInsertionEffect:function(e,t){Hu(4,2,e,t)},useMemo:function(e,t){var a=xe();t=t===void 0?null:t;var n=e();if(yn){La(!0);try{e()}finally{La(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=xe();if(a!==void 0){var l=a(t);if(yn){La(!0);try{a(t)}finally{La(!1)}}}else l=t;return n.memoizedState=n.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},n.queue=e,e=e.dispatch=EA.bind(null,N,e),[n.memoizedState,e]},useRef:function(e){var t=xe();return e={current:e},t.memoizedState=e},useState:function(e){e=ud(e);var t=e.queue,a=lp.bind(null,N,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:uf,useDeferredValue:function(e,t){var a=xe();return sf(a,e,t)},useTransition:function(){var e=ud(!1);return e=Wh.bind(null,N,e.queue,!0,!1),xe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=N,l=xe();if(z){if(a===void 0)throw Error(p(407));a=a()}else{if(a=t(),X===null)throw Error(p(349));(x&127)!==0||Uh(n,t,a)}l.memoizedState=a;var i={value:a,getSnapshot:t};return l.queue=i,jE(zh.bind(null,n,i,e),[e]),n.flags|=2048,Ul(9,{destroy:void 0},xh.bind(null,n,i,a,t),null),a},useId:function(){var e=xe(),t=X.identifierPrefix;if(z){var a=Nt,n=Ot;a=(n&~(1<<32-ke(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=is++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=sA++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rf,useFormState:PE,useActionState:PE,useOptimistic:function(e){var t=xe();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=cf.bind(null,N,!0,a),a.dispatch=t,[e,t]},useMemoCache:nf,useCacheRefresh:function(){return xe().memoizedState=gA.bind(null,N)},useEffectEvent:function(e){var t=xe(),a={impl:e};return t.memoizedState=a,function(){if((H&2)!==0)throw Error(p(440));return a.impl.apply(void 0,arguments)}}},df={readContext:De,use:Ls,useCallback:Jh,useContext:De,useEffect:of,useImperativeHandle:Fh,useInsertionEffect:Qh,useLayoutEffect:Kh,useMemo:kh,useReducer:wu,useRef:jh,useState:function(){return wu(oa)},useDebugValue:uf,useDeferredValue:function(e,t){var a=se();return $h(a,j.memoizedState,e,t)},useTransition:function(){var e=wu(oa)[0],t=se().memoizedState;return[typeof e=="boolean"?e:Ao(e),t]},useSyncExternalStore:Ih,useId:ap,useHostTransitionStatus:rf,useFormState:qE,useActionState:qE,useOptimistic:function(e,t){var a=se();return Vh(a,j,e,t)},useMemoCache:nf,useCacheRefresh:np};df.useEffectEvent=Xh;var sp={readContext:De,use:Ls,useCallback:Jh,useContext:De,useEffect:of,useImperativeHandle:Fh,useInsertionEffect:Qh,useLayoutEffect:Kh,useMemo:kh,useReducer:hc,useRef:jh,useState:function(){return hc(oa)},useDebugValue:uf,useDeferredValue:function(e,t){var a=se();return j===null?sf(a,e,t):$h(a,j.memoizedState,e,t)},useTransition:function(){var e=hc(oa)[0],t=se().memoizedState;return[typeof e=="boolean"?e:Ao(e),t]},useSyncExternalStore:Ih,useId:ap,useHostTransitionStatus:rf,useFormState:YE,useActionState:YE,useOptimistic:function(e,t){var a=se();return j!==null?Vh(a,j,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:nf,useCacheRefresh:np};sp.useEffectEvent=Xh;function pc(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:k({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var cd={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=$e(),l=za(n);l.payload=t,a!=null&&(l.callback=a),t=wa(e,l,n),t!==null&&(Pe(t,e,n),Xi(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=$e(),l=za(n);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=wa(e,l,n),t!==null&&(Pe(t,e,n),Xi(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=$e(),n=za(a);n.tag=2,t!=null&&(n.callback=t),t=wa(e,n,a),t!==null&&(Pe(t,e,a),Xi(t,e,a))}};function XE(e,t,a,n,l,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!no(a,n)||!no(l,i):!0}function QE(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&cd.enqueueReplaceState(t,t.state,null)}function An(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=k({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}function rp(e){ku(e)}function cp(e){console.error(e)}function dp(e){ku(e)}function os(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function KE(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function dd(e,t,a){return a=za(a),a.tag=3,a.payload={element:null},a.callback=function(){os(e,t)},a}function fp(e){return e=za(e),e.tag=3,e}function mp(e,t,a,n){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var i=n.value;e.payload=function(){return l(i)},e.callback=function(){KE(t,a,n)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){KE(t,a,n),typeof l!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var u=n.stack;this.componentDidCatch(n.value,{componentStack:u!==null?u:""})})}function SA(e,t,a,n,l){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&ql(t,a,l,!0),a=et.current,a!==null){switch(a.tag){case 31:case 13:return mt===null?ds():a.alternate===null&&ie===0&&(ie=3),a.flags&=-257,a.flags|=65536,a.lanes=l,n===ts?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Lc(e,n,l)),!1;case 22:return a.flags|=65536,n===ts?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Lc(e,n,l)),!1}throw Error(p(435,a.tag))}return Lc(e,n,l),ds(),!1}if(z)return t=et.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,n!==$c&&(e=Error(p(422),{cause:n}),io(dt(e,a)))):(n!==$c&&(t=Error(p(423),{cause:n}),io(dt(t,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,n=dt(n,a),l=dd(e.stateNode,n,l),Sc(e,l),ie!==4&&(ie=2)),!1;var i=Error(p(520),{cause:n});if(i=dt(i,a),ki===null?ki=[i]:ki.push(i),ie!==4&&(ie=2),t===null)return!0;n=dt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=dd(a.stateNode,n,e),Sc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ha===null||!Ha.has(i))))return a.flags|=65536,l&=-l,a.lanes|=l,l=fp(l),mp(l,e,a,n),Sc(a,l),!1}a=a.return}while(a!==null);return!1}var ff=Error(p(461)),Ee=!1;function Ce(e,t,a,n){t.child=e===null?Oh(t,null,a,n):Tn(t,e.child,a,n)}function ZE(e,t,a,n,l){a=a.render;var i=t.ref;if("ref"in n){var o={};for(var u in n)u!=="ref"&&(o[u]=n[u])}else o=n;return vn(t),n=Wd(e,t,a,o,i,l),u=ef(),e!==null&&!Ee?(tf(e,t,l),ua(e,t,l)):(z&&u&&Xd(t),t.flags|=1,Ce(e,t,n,l),t.child)}function FE(e,t,a,n,l){if(e===null){var i=a.type;return typeof i=="function"&&!jd(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,gp(e,t,i,n,l)):(e=xu(a.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!mf(e,l)){var o=i.memoizedProps;if(a=a.compare,a=a!==null?a:no,a(o,n)&&e.ref===t.ref)return ua(e,t,l)}return t.flags|=1,e=ta(i,n),e.ref=t.ref,e.return=t,t.child=e}function gp(e,t,a,n,l){if(e!==null){var i=e.memoizedProps;if(no(i,n)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=n=i,mf(e,l))(e.flags&131072)!==0&&(Ee=!0);else return t.lanes=e.lanes,ua(e,t,l)}return fd(e,t,a,n,l)}function Ep(e,t,a,n){var l=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;n=l&~i}else n=0,t.child=null;return JE(e,t,i,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&zu(t,i!==null?i.cachePool:null),i!==null?HE(t,i):id(),Mh(t);else return n=t.lanes=536870912,JE(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(zu(t,i.cachePool),HE(t,i),Oa(t),t.memoizedState=null):(e!==null&&zu(t,null),id(),Oa(t));return Ce(e,t,l,a),t.child}function Vi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function JE(e,t,a,n,l){var i=Zd();return i=i===null?null:{parent:ge._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&zu(t,null),id(),Mh(t),e!==null&&ql(e,t,n,!0),t.childLanes=l,null}function Vu(e,t){return t=us({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function kE(e,t,a){return Tn(t,e.child,null,a),e=Vu(t,t.pendingProps),e.flags|=2,Qe(t),t.memoizedState=null,e}function hA(e,t,a){var n=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(z){if(n.mode==="hidden")return e=Vu(t,n),t.lanes=536870912,Vi(null,e);if(od(t),(e=J)?(e=uv(e,ft),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ya!==null?{id:Ot,overflow:Nt}:null,retryLane:536870912,hydrationErrors:null},a=Th(e),a.return=t,t.child=a,be=t,J=null)):e=null,e===null)throw ja(t);return t.lanes=536870912,null}return Vu(t,n)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(od(t),l)if(t.flags&256)t.flags&=-257,t=kE(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(p(558));else if(Ee||ql(e,t,a,!1),l=(a&e.childLanes)!==0,Ee||l){if(n=X,n!==null&&(o=QS(n,a),o!==0&&o!==i.retryLane))throw i.retryLane=o,Dn(e,o),Pe(n,e,o),ff;ds(),t=kE(e,t,a)}else e=i.treeContext,J=gt(o.nextSibling),be=t,z=!0,xa=null,ft=!1,e!==null&&Ah(t,e),t=Vu(t,n),t.flags|=4096;return t}return e=ta(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Gu(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(p(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function fd(e,t,a,n,l){return vn(t),a=Wd(e,t,a,n,void 0,l),n=ef(),e!==null&&!Ee?(tf(e,t,l),ua(e,t,l)):(z&&n&&Xd(t),t.flags|=1,Ce(e,t,a,l),t.child)}function $E(e,t,a,n,l,i){return vn(t),t.updateQueue=null,a=Bh(t,n,a,l),Rh(e),n=ef(),e!==null&&!Ee?(tf(e,t,i),ua(e,t,i)):(z&&n&&Xd(t),t.flags|=1,Ce(e,t,a,i),t.child)}function WE(e,t,a,n,l){if(vn(t),t.stateNode===null){var i=pl,o=a.contextType;typeof o=="object"&&o!==null&&(i=De(o)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=cd,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},Jd(t),o=a.contextType,i.context=typeof o=="object"&&o!==null?De(o):pl,i.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(pc(t,a,o,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&cd.enqueueReplaceState(i,i.state,null),Ki(t,n,i,l),Qi(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var u=t.memoizedProps,s=An(a,u);i.props=s;var r=i.context,c=a.contextType;o=pl,typeof c=="object"&&c!==null&&(o=De(c));var S=a.getDerivedStateFromProps;c=typeof S=="function"||typeof i.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,c||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u||r!==o)&&QE(t,i,n,o),_a=!1;var f=t.memoizedState;i.state=f,Ki(t,n,i,l),Qi(),r=t.memoizedState,u||f!==r||_a?(typeof S=="function"&&(pc(t,a,S,n),r=t.memoizedState),(s=_a||XE(t,a,s,n,f,r,o))?(c||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=r),i.props=n,i.state=r,i.context=o,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,nd(e,t),o=t.memoizedProps,c=An(a,o),i.props=c,S=t.pendingProps,f=i.context,r=a.contextType,s=pl,typeof r=="object"&&r!==null&&(s=De(r)),u=a.getDerivedStateFromProps,(r=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==S||f!==s)&&QE(t,i,n,s),_a=!1,f=t.memoizedState,i.state=f,Ki(t,n,i,l),Qi();var g=t.memoizedState;o!==S||f!==g||_a||e!==null&&e.dependencies!==null&&es(e.dependencies)?(typeof u=="function"&&(pc(t,a,u,n),g=t.memoizedState),(c=_a||XE(t,a,c,n,f,g,s)||e!==null&&e.dependencies!==null&&es(e.dependencies))?(r||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=s,n=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Gu(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=Tn(t,e.child,null,l),t.child=Tn(t,null,a,l)):Ce(e,t,a,l),t.memoizedState=i.state,e=t.child):e=ua(e,t,l),e}function eS(e,t,a,n){return pn(),t.flags|=256,Ce(e,t,a,n),t.child}var vc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tc(e){return{baseLanes:e,cachePool:_h()}}function yc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ze),e}function Sp(e,t,a){var n=t.pendingProps,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(ue.current&2)!==0),o&&(l=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(z){if(l?Da(t):Oa(t),(e=J)?(e=uv(e,ft),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ya!==null?{id:Ot,overflow:Nt}:null,retryLane:536870912,hydrationErrors:null},a=Th(e),a.return=t,t.child=a,be=t,J=null)):e=null,e===null)throw ja(t);return Dd(e)?t.lanes=32:t.lanes=536870912,null}var u=n.children;return n=n.fallback,l?(Oa(t),l=t.mode,u=us({mode:"hidden",children:u},l),n=gn(n,l,a,null),u.return=t,n.return=t,u.sibling=n,t.child=u,n=t.child,n.memoizedState=Tc(a),n.childLanes=yc(e,o,a),t.memoizedState=vc,Vi(null,n)):(Da(t),md(t,u))}var s=e.memoizedState;if(s!==null&&(u=s.dehydrated,u!==null)){if(i)t.flags&256?(Da(t),t.flags&=-257,t=Ac(e,t,a)):t.memoizedState!==null?(Oa(t),t.child=e.child,t.flags|=128,t=null):(Oa(t),u=n.fallback,l=t.mode,n=us({mode:"visible",children:n.children},l),u=gn(u,l,a,null),u.flags|=2,n.return=t,u.return=t,n.sibling=u,t.child=n,Tn(t,e.child,null,a),n=t.child,n.memoizedState=Tc(a),n.childLanes=yc(e,o,a),t.memoizedState=vc,t=Vi(null,n));else if(Da(t),Dd(u)){if(o=u.nextSibling&&u.nextSibling.dataset,o)var r=o.dgst;o=r,n=Error(p(419)),n.stack="",n.digest=o,io({value:n,source:null,stack:null}),t=Ac(e,t,a)}else if(Ee||ql(e,t,a,!1),o=(a&e.childLanes)!==0,Ee||o){if(o=X,o!==null&&(n=QS(o,a),n!==0&&n!==s.retryLane))throw s.retryLane=n,Dn(e,n),Pe(o,e,n),ff;bd(u)||ds(),t=Ac(e,t,a)}else bd(u)?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,J=gt(u.nextSibling),be=t,z=!0,xa=null,ft=!1,e!==null&&Ah(t,e),t=md(t,n.children),t.flags|=4096);return t}return l?(Oa(t),u=n.fallback,l=t.mode,s=e.child,r=s.sibling,n=ta(s,{mode:"hidden",children:n.children}),n.subtreeFlags=s.subtreeFlags&65011712,r!==null?u=ta(r,u):(u=gn(u,l,a,null),u.flags|=2),u.return=t,n.return=t,n.sibling=u,t.child=n,Vi(null,n),n=t.child,u=e.child.memoizedState,u===null?u=Tc(a):(l=u.cachePool,l!==null?(s=ge._currentValue,l=l.parent!==s?{parent:s,pool:s}:l):l=_h(),u={baseLanes:u.baseLanes|a,cachePool:l}),n.memoizedState=u,n.childLanes=yc(e,o,a),t.memoizedState=vc,Vi(e.child,n)):(Da(t),a=e.child,e=a.sibling,a=ta(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function md(e,t){return t=us({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function us(e,t){return e=Ke(22,e,null,t),e.lanes=0,e}function Ac(e,t,a){return Tn(t,e.child,null,a),e=md(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tS(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ed(e.return,t,a)}function Cc(e,t,a,n,l,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:l,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=a,o.tailMode=l,o.treeForkCount=i)}function hp(e,t,a){var n=t.pendingProps,l=n.revealOrder,i=n.tail;n=n.children;var o=ue.current,u=(o&2)!==0;if(u?(o=o&1|2,t.flags|=128):o&=1,K(ue,o),Ce(e,t,n,a),n=z?lo:0,!u&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tS(e,a,t);else if(e.tag===19)tS(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(a=t.child,l=null;a!==null;)e=a.alternate,e!==null&&ns(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=t.child,t.child=null):(l=a.sibling,a.sibling=null),Cc(t,!1,l,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ns(e)===null){t.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}Cc(t,!0,a,null,i,n);break;case"together":Cc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function ua(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Qa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ql(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(p(153));if(t.child!==null){for(e=t.child,a=ta(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ta(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function mf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&es(e)))}function pA(e,t,a){switch(t.tag){case 3:Ku(t,t.stateNode.containerInfo),ba(t,ge,e.memoizedState.cache),pn();break;case 27:case 5:Pc(t);break;case 4:Ku(t,t.stateNode.containerInfo);break;case 10:ba(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,od(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Da(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Sp(e,t,a):(Da(t),e=ua(e,t,a),e!==null?e.sibling:null);Da(t);break;case 19:var l=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(ql(e,t,a,!1),n=(a&t.childLanes)!==0),l){if(n)return hp(e,t,a);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),K(ue,ue.current),n)break;return null;case 22:return t.lanes=0,Ep(e,t,a,t.pendingProps);case 24:ba(t,ge,e.memoizedState.cache)}return ua(e,t,a)}function pp(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ee=!0;else{if(!mf(e,a)&&(t.flags&128)===0)return Ee=!1,pA(e,t,a);Ee=(e.flags&131072)!==0}else Ee=!1,z&&(t.flags&1048576)!==0&&yh(t,lo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=dn(t.elementType),t.type=e,typeof e=="function")jd(e)?(n=An(e,n),t.tag=1,t=WE(null,t,e,n,a)):(t.tag=0,t=fd(null,t,e,n,a));else{if(e!=null){var l=e.$$typeof;if(l===Md){t.tag=11,t=ZE(null,t,e,n,a);break e}else if(l===Rd){t.tag=14,t=FE(null,t,e,n,a);break e}}throw t=Vc(e)||e,Error(p(306,t,""))}}return t;case 0:return fd(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,l=An(n,t.pendingProps),WE(e,t,n,l,a);case 3:e:{if(Ku(t,t.stateNode.containerInfo),e===null)throw Error(p(387));n=t.pendingProps;var i=t.memoizedState;l=i.element,nd(e,t),Ki(t,n,null,a);var o=t.memoizedState;if(n=o.cache,ba(t,ge,n),n!==i.cache&&td(t,[ge],a,!0),Qi(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=eS(e,t,n,a);break e}else if(n!==l){l=dt(Error(p(424)),t),io(l),t=eS(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(J=gt(e.firstChild),be=t,z=!0,xa=null,ft=!0,a=Oh(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pn(),n===l){t=ua(e,t,a);break e}Ce(e,t,n,a)}t=t.child}return t;case 26:return Gu(e,t),e===null?(a=CS(t.type,null,t.pendingProps,null))?t.memoizedState=a:z||(a=t.type,e=t.pendingProps,n=Es(Ua.current).createElement(a),n[_e]=t,n[qe]=e,Oe(n,a,e),Te(n),t.stateNode=n):t.memoizedState=CS(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Pc(t),e===null&&z&&(n=t.stateNode=sv(t.type,t.pendingProps,Ua.current),be=t,ft=!0,l=J,Za(t.type)?(Od=l,J=gt(n.firstChild)):J=l),Ce(e,t,t.pendingProps.children,a),Gu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&z&&((l=n=J)&&(n=QA(n,t.type,t.pendingProps,ft),n!==null?(t.stateNode=n,be=t,J=gt(n.firstChild),ft=!1,l=!0):l=!1),l||ja(t)),Pc(t),l=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,n=i.children,Cd(l,i)?n=null:o!==null&&Cd(l,o)&&(t.flags|=32),t.memoizedState!==null&&(l=Wd(e,t,rA,null,null,a),fo._currentValue=l),Gu(e,t),Ce(e,t,n,a),t.child;case 6:return e===null&&z&&((e=a=J)&&(a=KA(a,t.pendingProps,ft),a!==null?(t.stateNode=a,be=t,J=null,e=!0):e=!1),e||ja(t)),null;case 13:return Sp(e,t,a);case 4:return Ku(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Tn(t,null,n,a):Ce(e,t,n,a),t.child;case 11:return ZE(e,t,t.type,t.pendingProps,a);case 7:return Ce(e,t,t.pendingProps,a),t.child;case 8:return Ce(e,t,t.pendingProps.children,a),t.child;case 12:return Ce(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,ba(t,t.type,n.value),Ce(e,t,n.children,a),t.child;case 9:return l=t.type._context,n=t.pendingProps.children,vn(t),l=De(l),n=n(l),t.flags|=1,Ce(e,t,n,a),t.child;case 14:return FE(e,t,t.type,t.pendingProps,a);case 15:return gp(e,t,t.type,t.pendingProps,a);case 19:return hp(e,t,a);case 31:return hA(e,t,a);case 22:return Ep(e,t,a,t.pendingProps);case 24:return vn(t),n=De(ge),e===null?(l=Zd(),l===null&&(l=X,i=Kd(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=a),l=i),t.memoizedState={parent:n,cache:l},Jd(t),ba(t,ge,l)):((e.lanes&a)!==0&&(nd(e,t),Ki(t,null,null,a),Qi()),l=e.memoizedState,i=t.memoizedState,l.parent!==n?(l={parent:n,cache:n},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),ba(t,ge,n)):(n=i.cache,ba(t,ge,n),n!==l.cache&&td(t,[ge],a,!0))),Ce(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(p(156,t.tag))}function Qt(e){e.flags|=4}function _c(e,t,a,n,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(qp())e.flags|=8192;else throw Sn=ts,Fd}else e.flags&=-16777217}function aS(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dv(t))if(qp())e.flags|=8192;else throw Sn=ts,Fd}function _u(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?YS():536870912,e.lanes|=t,xl|=t)}function Bi(e,t){if(!z)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function F(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags&65011712,n|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function vA(e,t,a){var n=t.pendingProps;switch(Qd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return F(t),null;case 1:return F(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),aa(ge),Ll(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ol(t)?Qt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ec())),F(t),null;case 26:var l=t.type,i=t.memoizedState;return e===null?(Qt(t),i!==null?(F(t),aS(t,i)):(F(t),_c(t,l,null,n,a))):i?i!==e.memoizedState?(Qt(t),F(t),aS(t,i)):(F(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Qt(t),F(t),_c(t,l,e,n,a)),null;case 27:if(Zu(t),a=Ua.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Qt(t);else{if(!n){if(t.stateNode===null)throw Error(p(166));return F(t),null}e=Mt.current,ol(t)?RE(t,e):(e=sv(l,n,a),t.stateNode=e,Qt(t))}return F(t),null;case 5:if(Zu(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Qt(t);else{if(!n){if(t.stateNode===null)throw Error(p(166));return F(t),null}if(i=Mt.current,ol(t))RE(t,i);else{var o=Es(Ua.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(l,{is:n.is}):o.createElement(l)}}i[_e]=t,i[qe]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Oe(i,l,n),l){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Qt(t)}}return F(t),_c(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Qt(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(p(166));if(e=Ua.current,ol(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,l=be,l!==null)switch(l.tag){case 27:case 5:n=l.memoizedProps}e[_e]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||lv(e.nodeValue,a)),e||ja(t,!0)}else e=Es(e).createTextNode(n),e[_e]=t,t.stateNode=e}return F(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=ol(t),a!==null){if(e===null){if(!n)throw Error(p(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(557));e[_e]=t}else pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;F(t),e=!1}else a=Ec(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Qe(t),t):(Qe(t),null);if((t.flags&128)!==0)throw Error(p(558))}return F(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=ol(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(p(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(p(317));l[_e]=t}else pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;F(t),l=!1}else l=Ec(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(Qe(t),t):(Qe(t),null)}return Qe(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,l=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(l=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==l&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),_u(t,t.updateQueue),F(t),null);case 4:return Ll(),e===null&&Tf(t.stateNode.containerInfo),F(t),null;case 10:return aa(t.type),F(t),null;case 19:if(ye(ue),n=t.memoizedState,n===null)return F(t),null;if(l=(t.flags&128)!==0,i=n.rendering,i===null)if(l)Bi(n,!1);else{if(ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=ns(e),i!==null){for(t.flags|=128,Bi(n,!1),e=i.updateQueue,t.updateQueue=e,_u(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)vh(a,e),a=a.sibling;return K(ue,ue.current&1|2),z&&Jt(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Fe()>rs&&(t.flags|=128,l=!0,Bi(n,!1),t.lanes=4194304)}else{if(!l)if(e=ns(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,_u(t,e),Bi(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!z)return F(t),null}else 2*Fe()-n.renderingStartTime>rs&&a!==536870912&&(t.flags|=128,l=!0,Bi(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Fe(),e.sibling=null,a=ue.current,K(ue,l?a&1|2:a&1),z&&Jt(t,n.treeForkCount),e):(F(t),null);case 22:case 23:return Qe(t),kd(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(F(t),t.subtreeFlags&6&&(t.flags|=8192)):F(t),a=t.updateQueue,a!==null&&_u(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&ye(En),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),aa(ge),F(t),null;case 25:return null;case 30:return null}throw Error(p(156,t.tag))}function TA(e,t){switch(Qd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return aa(ge),Ll(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Zu(t),null;case 31:if(t.memoizedState!==null){if(Qe(t),t.alternate===null)throw Error(p(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Qe(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(p(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(ue),null;case 4:return Ll(),null;case 10:return aa(t.type),null;case 22:case 23:return Qe(t),kd(),e!==null&&ye(En),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return aa(ge),null;case 25:return null;default:return null}}function vp(e,t){switch(Qd(t),t.tag){case 3:aa(ge),Ll();break;case 26:case 27:case 5:Zu(t);break;case 4:Ll();break;case 31:t.memoizedState!==null&&Qe(t);break;case 13:Qe(t);break;case 19:ye(ue);break;case 10:aa(t.type);break;case 22:case 23:Qe(t),kd(),e!==null&&ye(En);break;case 24:aa(ge)}}function Co(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var l=n.next;a=l;do{if((a.tag&e)===e){n=void 0;var i=a.create,o=a.inst;n=i(),o.destroy=n}a=a.next}while(a!==l)}}catch(u){q(t,t.return,u)}}function Xa(e,t,a){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var i=l.next;n=i;do{if((n.tag&e)===e){var o=n.inst,u=o.destroy;if(u!==void 0){o.destroy=void 0,l=t;var s=a,r=u;try{r()}catch(c){q(l,s,c)}}}n=n.next}while(n!==i)}}catch(c){q(t,t.return,c)}}function Tp(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Lh(t,a)}catch(n){q(e,e.return,n)}}}function yp(e,t,a){a.props=An(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){q(e,t,n)}}function Fi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(l){q(e,t,l)}}function Lt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(l){q(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){q(e,t,l)}else a.current=null}function Ap(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(l){q(e,e.return,l)}}function bc(e,t,a){try{var n=e.stateNode;GA(n,e.type,a,t),n[qe]=t}catch(l){q(e,e.return,l)}}function Cp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Za(e.type)||e.tag===4}function Dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Za(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gd(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Wt));else if(n!==4&&(n===27&&Za(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(gd(e,t,a),e=e.sibling;e!==null;)gd(e,t,a),e=e.sibling}function ss(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Za(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ss(e,t,a),e=e.sibling;e!==null;)ss(e,t,a),e=e.sibling}function _p(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Oe(t,n,a),t[_e]=e,t[qe]=a}catch(i){q(e,e.return,i)}}var kt=!1,me=!1,Oc=!1,nS=typeof WeakSet=="function"?WeakSet:Set,ve=null;function yA(e,t){if(e=e.containerInfo,yd=vs,e=dh(e),Pd(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var l=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var o=0,u=-1,s=-1,r=0,c=0,S=e,f=null;t:for(;;){for(var g;S!==a||l!==0&&S.nodeType!==3||(u=o+l),S!==i||n!==0&&S.nodeType!==3||(s=o+n),S.nodeType===3&&(o+=S.nodeValue.length),(g=S.firstChild)!==null;)f=S,S=g;for(;;){if(S===e)break t;if(f===a&&++r===l&&(u=o),f===i&&++c===n&&(s=o),(g=S.nextSibling)!==null)break;S=f,f=S.parentNode}S=g}a=u===-1||s===-1?null:{start:u,end:s}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ad={focusedElem:e,selectionRange:a},vs=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){switch(t=ve,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)l=e[a],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,l=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var v=An(a.type,l);e=n.getSnapshotBeforeUpdate(v,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(y){q(a,a.return,y)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)_d(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(p(163))}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}}function bp(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Zt(e,a),n&4&&Co(5,a);break;case 1:if(Zt(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){q(a,a.return,o)}else{var l=An(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){q(a,a.return,o)}}n&64&&Tp(a),n&512&&Fi(a,a.return);break;case 3:if(Zt(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Lh(e,t)}catch(o){q(a,a.return,o)}}break;case 27:t===null&&n&4&&_p(a);case 26:case 5:Zt(e,a),t===null&&n&4&&Ap(a),n&512&&Fi(a,a.return);break;case 12:Zt(e,a);break;case 31:Zt(e,a),n&4&&Np(e,a);break;case 13:Zt(e,a),n&4&&Lp(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=MA.bind(null,a),ZA(e,a))));break;case 22:if(n=a.memoizedState!==null||kt,!n){t=t!==null&&t.memoizedState!==null||me,l=kt;var i=me;kt=n,(me=t)&&!i?Ft(e,a,(a.subtreeFlags&8772)!==0):Zt(e,a),kt=l,me=i}break;case 30:break;default:Zt(e,a)}}function Dp(e){var t=e.alternate;t!==null&&(e.alternate=null,Dp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,Ve=!1;function Kt(e,t,a){for(a=a.child;a!==null;)Op(e,t,a),a=a.sibling}function Op(e,t,a){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(So,a)}catch{}switch(a.tag){case 26:me||Lt(a,t),Kt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||Lt(a,t);var n=ee,l=Ve;Za(a.type)&&(ee=a.stateNode,Ve=!1),Kt(e,t,a),Wi(a.stateNode),ee=n,Ve=l;break;case 5:me||Lt(a,t);case 6:if(n=ee,l=Ve,ee=null,Kt(e,t,a),ee=n,Ve=l,ee!==null)if(Ve)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(i){q(a,t,i)}else try{ee.removeChild(a.stateNode)}catch(i){q(a,t,i)}break;case 18:ee!==null&&(Ve?(e=ee,pS(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Vl(e)):pS(ee,a.stateNode));break;case 4:n=ee,l=Ve,ee=a.stateNode.containerInfo,Ve=!0,Kt(e,t,a),ee=n,Ve=l;break;case 0:case 11:case 14:case 15:Xa(2,a,t),me||Xa(4,a,t),Kt(e,t,a);break;case 1:me||(Lt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&yp(a,t,n)),Kt(e,t,a);break;case 21:Kt(e,t,a);break;case 22:me=(n=me)||a.memoizedState!==null,Kt(e,t,a),me=n;break;default:Kt(e,t,a)}}function Np(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Vl(e)}catch(a){q(t,t.return,a)}}}function Lp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vl(e)}catch(a){q(t,t.return,a)}}function AA(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new nS),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new nS),t;default:throw Error(p(435,e.tag))}}function bu(e,t){var a=AA(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var l=RA.bind(null,e,n);n.then(l,l)}})}function we(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var l=a[n],i=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 27:if(Za(u.type)){ee=u.stateNode,Ve=!1;break e}break;case 5:ee=u.stateNode,Ve=!1;break e;case 3:case 4:ee=u.stateNode.containerInfo,Ve=!0;break e}u=u.return}if(ee===null)throw Error(p(160));Op(i,o,l),ee=null,Ve=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Mp(t,e),t=t.sibling}var At=null;function Mp(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:we(t,e),He(e),n&4&&(Xa(3,e,e.return),Co(3,e),Xa(5,e,e.return));break;case 1:we(t,e),He(e),n&512&&(me||a===null||Lt(a,a.return)),n&64&&kt&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var l=At;if(we(t,e),He(e),n&512&&(me||a===null||Lt(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(n){case"title":i=l.getElementsByTagName("title")[0],(!i||i[vo]||i[_e]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(n),l.head.insertBefore(i,l.querySelector("head > title"))),Oe(i,n,a),i[_e]=e,Te(i),n=i;break e;case"link":var o=bS("link","href",l).get(n+(a.href||""));if(o){for(var u=0;u<o.length;u++)if(i=o[u],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(u,1);break t}}i=l.createElement(n),Oe(i,n,a),l.head.appendChild(i);break;case"meta":if(o=bS("meta","content",l).get(n+(a.content||""))){for(u=0;u<o.length;u++)if(i=o[u],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(u,1);break t}}i=l.createElement(n),Oe(i,n,a),l.head.appendChild(i);break;default:throw Error(p(468,n))}i[_e]=e,Te(i),n=i}e.stateNode=n}else DS(l,e.type,e.stateNode);else e.stateNode=_S(l,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?DS(l,e.type,e.stateNode):_S(l,n,e.memoizedProps)):n===null&&e.stateNode!==null&&bc(e,e.memoizedProps,a.memoizedProps)}break;case 27:we(t,e),He(e),n&512&&(me||a===null||Lt(a,a.return)),a!==null&&n&4&&bc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(we(t,e),He(e),n&512&&(me||a===null||Lt(a,a.return)),e.flags&32){l=e.stateNode;try{Rl(l,"")}catch(v){q(e,e.return,v)}}n&4&&e.stateNode!=null&&(l=e.memoizedProps,bc(e,l,a!==null?a.memoizedProps:l)),n&1024&&(Oc=!0);break;case 6:if(we(t,e),He(e),n&4){if(e.stateNode===null)throw Error(p(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(v){q(e,e.return,v)}}break;case 3:if(Yu=null,l=At,At=Ss(t.containerInfo),we(t,e),At=l,He(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Vl(t.containerInfo)}catch(v){q(e,e.return,v)}Oc&&(Oc=!1,Rp(e));break;case 4:n=At,At=Ss(e.stateNode.containerInfo),we(t,e),He(e),At=n;break;case 12:we(t,e),He(e);break;case 31:we(t,e),He(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,bu(e,n)));break;case 13:we(t,e),He(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bs=Fe()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,bu(e,n)));break;case 22:l=e.memoizedState!==null;var s=a!==null&&a.memoizedState!==null,r=kt,c=me;if(kt=r||l,me=c||s,we(t,e),me=c,kt=r,He(e),n&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(a===null||s||kt||me||fn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){s=a=t;try{if(i=s.stateNode,l)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{u=s.stateNode;var S=s.memoizedProps.style,f=S!=null&&S.hasOwnProperty("display")?S.display:null;u.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(v){q(s,s.return,v)}}}else if(t.tag===6){if(a===null){s=t;try{s.stateNode.nodeValue=l?"":s.memoizedProps}catch(v){q(s,s.return,v)}}}else if(t.tag===18){if(a===null){s=t;try{var g=s.stateNode;l?vS(g,!0):vS(s.stateNode,!1)}catch(v){q(s,s.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,bu(e,a))));break;case 19:we(t,e),He(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,bu(e,n)));break;case 30:break;case 21:break;default:we(t,e),He(e)}}function He(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Cp(n)){a=n;break}n=n.return}if(a==null)throw Error(p(160));switch(a.tag){case 27:var l=a.stateNode,i=Dc(e);ss(e,i,l);break;case 5:var o=a.stateNode;a.flags&32&&(Rl(o,""),a.flags&=-33);var u=Dc(e);ss(e,u,o);break;case 3:case 4:var s=a.stateNode.containerInfo,r=Dc(e);gd(e,r,s);break;default:throw Error(p(161))}}catch(c){q(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Rp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Zt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)bp(e,t.alternate,t),t=t.sibling}function fn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Xa(4,t,t.return),fn(t);break;case 1:Lt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&yp(t,t.return,a),fn(t);break;case 27:Wi(t.stateNode);case 26:case 5:Lt(t,t.return),fn(t);break;case 22:t.memoizedState===null&&fn(t);break;case 30:fn(t);break;default:fn(t)}e=e.sibling}}function Ft(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,l=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Ft(l,i,a),Co(4,i);break;case 1:if(Ft(l,i,a),n=i,l=n.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(r){q(n,n.return,r)}if(n=i,l=n.updateQueue,l!==null){var u=n.stateNode;try{var s=l.shared.hiddenCallbacks;if(s!==null)for(l.shared.hiddenCallbacks=null,l=0;l<s.length;l++)Nh(s[l],u)}catch(r){q(n,n.return,r)}}a&&o&64&&Tp(i),Fi(i,i.return);break;case 27:_p(i);case 26:case 5:Ft(l,i,a),a&&n===null&&o&4&&Ap(i),Fi(i,i.return);break;case 12:Ft(l,i,a);break;case 31:Ft(l,i,a),a&&o&4&&Np(l,i);break;case 13:Ft(l,i,a),a&&o&4&&Lp(l,i);break;case 22:i.memoizedState===null&&Ft(l,i,a),Fi(i,i.return);break;case 30:break;default:Ft(l,i,a)}t=t.sibling}}function gf(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&yo(a))}function Ef(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yo(e))}function yt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bp(e,t,a,n),t=t.sibling}function Bp(e,t,a,n){var l=t.flags;switch(t.tag){case 0:case 11:case 15:yt(e,t,a,n),l&2048&&Co(9,t);break;case 1:yt(e,t,a,n);break;case 3:yt(e,t,a,n),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yo(e)));break;case 12:if(l&2048){yt(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,u=i.onPostCommit;typeof u=="function"&&u(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(s){q(t,t.return,s)}}else yt(e,t,a,n);break;case 31:yt(e,t,a,n);break;case 13:yt(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?yt(e,t,a,n):Ji(e,t):i._visibility&2?yt(e,t,a,n):(i._visibility|=2,sl(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),l&2048&&gf(o,t);break;case 24:yt(e,t,a,n),l&2048&&Ef(t.alternate,t);break;default:yt(e,t,a,n)}}function sl(e,t,a,n,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,u=a,s=n,r=o.flags;switch(o.tag){case 0:case 11:case 15:sl(i,o,u,s,l),Co(8,o);break;case 23:break;case 22:var c=o.stateNode;o.memoizedState!==null?c._visibility&2?sl(i,o,u,s,l):Ji(i,o):(c._visibility|=2,sl(i,o,u,s,l)),l&&r&2048&&gf(o.alternate,o);break;case 24:sl(i,o,u,s,l),l&&r&2048&&Ef(o.alternate,o);break;default:sl(i,o,u,s,l)}t=t.sibling}}function Ji(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,l=n.flags;switch(n.tag){case 22:Ji(a,n),l&2048&&gf(n.alternate,n);break;case 24:Ji(a,n),l&2048&&Ef(n.alternate,n);break;default:Ji(a,n)}t=t.sibling}}var Gi=8192;function ul(e,t,a){if(e.subtreeFlags&Gi)for(e=e.child;e!==null;)Ip(e,t,a),e=e.sibling}function Ip(e,t,a){switch(e.tag){case 26:ul(e,t,a),e.flags&Gi&&e.memoizedState!==null&&oC(a,At,e.memoizedState,e.memoizedProps);break;case 5:ul(e,t,a);break;case 3:case 4:var n=At;At=Ss(e.stateNode.containerInfo),ul(e,t,a),At=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Gi,Gi=16777216,ul(e,t,a),Gi=n):ul(e,t,a));break;default:ul(e,t,a)}}function Up(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ii(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ve=n,zp(n,e)}Up(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xp(e),e=e.sibling}function xp(e){switch(e.tag){case 0:case 11:case 15:Ii(e),e.flags&2048&&Xa(9,e,e.return);break;case 3:Ii(e);break;case 12:Ii(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Pu(e)):Ii(e);break;default:Ii(e)}}function Pu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ve=n,zp(n,e)}Up(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Xa(8,t,t.return),Pu(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Pu(t));break;default:Pu(t)}e=e.sibling}}function zp(e,t){for(;ve!==null;){var a=ve;switch(a.tag){case 0:case 11:case 15:Xa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:yo(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,ve=n;else e:for(a=e;ve!==null;){n=ve;var l=n.sibling,i=n.return;if(Dp(n),n===a){ve=null;break e}if(l!==null){l.return=i,ve=l;break e}ve=i}}}var CA={getCacheForType:function(e){var t=De(ge),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return De(ge).controller.signal}},_A=typeof WeakMap=="function"?WeakMap:Map,H=0,X=null,U=null,x=0,P=0,Xe=null,Ra=!1,jl=!1,Sf=!1,sa=0,ie=0,Qa=0,hn=0,hf=0,Ze=0,xl=0,ki=null,Ge=null,Ed=!1,Bs=0,wp=0,rs=1/0,cs=null,Ha=null,Se=0,Va=null,zl=null,na=0,Sd=0,hd=null,Hp=null,$i=0,pd=null;function $e(){return(H&2)!==0&&x!==0?x&-x:b.T!==null?vf():KS()}function Vp(){if(Ze===0)if((x&536870912)===0||z){var e=Eu;Eu<<=1,(Eu&3932160)===0&&(Eu=262144),Ze=e}else Ze=536870912;return e=et.current,e!==null&&(e.flags|=32),Ze}function Pe(e,t,a){(e===X&&(P===2||P===9)||e.cancelPendingCommit!==null)&&(wl(e,0),Ba(e,x,Ze,!1)),po(e,a),((H&2)===0||e!==X)&&(e===X&&((H&2)===0&&(hn|=a),ie===4&&Ba(e,x,Ze,!1)),Bt(e))}function Gp(e,t,a){if((H&6)!==0)throw Error(p(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||ho(e,t),l=n?OA(e,t):Nc(e,t,!0),i=n;do{if(l===0){jl&&!n&&Ba(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!bA(a)){l=Nc(e,t,!1),i=!1;continue}if(l===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var u=e;l=ki;var s=u.current.memoizedState.isDehydrated;if(s&&(wl(u,o).flags|=256),o=Nc(u,o,!1),o!==2){if(Sf&&!s){u.errorRecoveryDisabledLanes|=i,hn|=i,l=4;break e}i=Ge,Ge=l,i!==null&&(Ge===null?Ge=i:Ge.push.apply(Ge,i))}l=o}if(i=!1,l!==2)continue}}if(l===1){wl(e,0),Ba(e,t,0,!0);break}e:{switch(n=e,i=l,i){case 0:case 1:throw Error(p(345));case 4:if((t&4194048)!==t)break;case 6:Ba(n,t,Ze,!Ra);break e;case 2:Ge=null;break;case 3:case 5:break;default:throw Error(p(329))}if((t&62914560)===t&&(l=Bs+300-Fe(),10<l)){if(Ba(n,t,Ze,!Ra),ys(n,0,!0)!==0)break e;na=t,n.timeoutHandle=ov(lS.bind(null,n,a,Ge,cs,Ed,t,Ze,hn,xl,Ra,i,"Throttled",-0,0),l);break e}lS(n,a,Ge,cs,Ed,t,Ze,hn,xl,Ra,i,null,-0,0)}}break}while(!0);Bt(e)}function lS(e,t,a,n,l,i,o,u,s,r,c,S,f,g){if(e.timeoutHandle=-1,S=t.subtreeFlags,S&8192||(S&16785408)===16785408){S={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wt},Ip(t,i,S);var v=(i&62914560)===i?Bs-Fe():(i&4194048)===i?wp-Fe():0;if(v=uC(S,v),v!==null){na=i,e.cancelPendingCommit=v(oS.bind(null,e,t,i,a,n,l,o,u,s,c,S,null,f,g)),Ba(e,i,o,!r);return}}oS(e,t,i,a,n,l,o,u,s)}function bA(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var l=a[n],i=l.getSnapshot;l=l.value;try{if(!We(i(),l))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ba(e,t,a,n){t&=~hf,t&=~hn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var l=t;0<l;){var i=31-ke(l),o=1<<i;n[i]=-1,l&=~o}a!==0&&jS(e,a,t)}function Is(){return(H&6)===0?(_o(0,!1),!1):!0}function pf(){if(U!==null){if(P===0)var e=U.return;else e=U,ea=On=null,af(e),Dl=null,oo=0,e=U;for(;e!==null;)vp(e.alternate,e),e=e.return;U=null}}function wl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,YA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),na=0,pf(),X=e,U=a=ta(e.current,null),x=t,P=0,Xe=null,Ra=!1,jl=ho(e,t),Sf=!1,xl=Ze=hf=hn=Qa=ie=0,Ge=ki=null,Ed=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var l=31-ke(n),i=1<<l;t|=e[l],n&=~i}return sa=t,bs(),a}function Pp(e,t){N=null,b.H=so,t===Yl||t===Os?(t=zE(),P=3):t===Fd?(t=zE(),P=4):P=t===ff?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Xe=t,U===null&&(ie=1,os(e,dt(t,e.current)))}function qp(){var e=et.current;return e===null?!0:(x&4194048)===x?mt===null:(x&62914560)===x||(x&536870912)!==0?e===mt:!1}function Yp(){var e=b.H;return b.H=so,e===null?so:e}function jp(){var e=b.A;return b.A=CA,e}function ds(){ie=4,Ra||(x&4194048)!==x&&et.current!==null||(jl=!0),(Qa&134217727)===0&&(hn&134217727)===0||X===null||Ba(X,x,Ze,!1)}function Nc(e,t,a){var n=H;H|=2;var l=Yp(),i=jp();(X!==e||x!==t)&&(cs=null,wl(e,t)),t=!1;var o=ie;e:do try{if(P!==0&&U!==null){var u=U,s=Xe;switch(P){case 8:pf(),o=6;break e;case 3:case 2:case 9:case 6:et.current===null&&(t=!0);var r=P;if(P=0,Xe=null,yl(e,u,s,r),a&&jl){o=0;break e}break;default:r=P,P=0,Xe=null,yl(e,u,s,r)}}DA(),o=ie;break}catch(c){Pp(e,c)}while(!0);return t&&e.shellSuspendCounter++,ea=On=null,H=n,b.H=l,b.A=i,U===null&&(X=null,x=0,bs()),o}function DA(){for(;U!==null;)Xp(U)}function OA(e,t){var a=H;H|=2;var n=Yp(),l=jp();X!==e||x!==t?(cs=null,rs=Fe()+500,wl(e,t)):jl=ho(e,t);e:do try{if(P!==0&&U!==null){t=U;var i=Xe;t:switch(P){case 1:P=0,Xe=null,yl(e,t,i,1);break;case 2:case 9:if(xE(i)){P=0,Xe=null,iS(t);break}t=function(){P!==2&&P!==9||X!==e||(P=7),Bt(e)},i.then(t,t);break e;case 3:P=7;break e;case 4:P=5;break e;case 7:xE(i)?(P=0,Xe=null,iS(t)):(P=0,Xe=null,yl(e,t,i,7));break;case 5:var o=null;switch(U.tag){case 26:o=U.memoizedState;case 5:case 27:var u=U;if(o?dv(o):u.stateNode.complete){P=0,Xe=null;var s=u.sibling;if(s!==null)U=s;else{var r=u.return;r!==null?(U=r,Us(r)):U=null}break t}}P=0,Xe=null,yl(e,t,i,5);break;case 6:P=0,Xe=null,yl(e,t,i,6);break;case 8:pf(),ie=6;break e;default:throw Error(p(462))}}NA();break}catch(c){Pp(e,c)}while(!0);return ea=On=null,b.H=n,b.A=l,H=a,U!==null?0:(X=null,x=0,bs(),ie)}function NA(){for(;U!==null&&!ky();)Xp(U)}function Xp(e){var t=pp(e.alternate,e,sa);e.memoizedProps=e.pendingProps,t===null?Us(e):U=t}function iS(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=$E(a,t,t.pendingProps,t.type,void 0,x);break;case 11:t=$E(a,t,t.pendingProps,t.type.render,t.ref,x);break;case 5:af(t);default:vp(a,t),t=U=vh(t,sa),t=pp(a,t,sa)}e.memoizedProps=e.pendingProps,t===null?Us(e):U=t}function yl(e,t,a,n){ea=On=null,af(t),Dl=null,oo=0;var l=t.return;try{if(SA(e,l,t,a,x)){ie=1,os(e,dt(a,e.current)),U=null;return}}catch(i){if(l!==null)throw U=l,i;ie=1,os(e,dt(a,e.current)),U=null;return}t.flags&32768?(z||n===1?e=!0:jl||(x&536870912)!==0?e=!1:(Ra=e=!0,(n===2||n===9||n===3||n===6)&&(n=et.current,n!==null&&n.tag===13&&(n.flags|=16384))),Qp(t,e)):Us(t)}function Us(e){var t=e;do{if((t.flags&32768)!==0){Qp(t,Ra);return}e=t.return;var a=vA(t.alternate,t,sa);if(a!==null){U=a;return}if(t=t.sibling,t!==null){U=t;return}U=t=e}while(t!==null);ie===0&&(ie=5)}function Qp(e,t){do{var a=TA(e.alternate,e);if(a!==null){a.flags&=32767,U=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){U=e;return}U=e=a}while(e!==null);ie=6,U=null}function oS(e,t,a,n,l,i,o,u,s){e.cancelPendingCommit=null;do xs();while(Se!==0);if((H&6)!==0)throw Error(p(327));if(t!==null){if(t===e.current)throw Error(p(177));if(i=t.lanes|t.childLanes,i|=qd,u0(e,a,i,o,u,s),e===X&&(U=X=null,x=0),zl=t,Va=e,na=a,Sd=i,hd=l,Hp=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,BA(Fu,function(){return kp(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=b.T,b.T=null,l=V.p,V.p=2,o=H,H|=4;try{yA(e,t,a)}finally{H=o,V.p=l,b.T=n}}Se=1,Kp(),Zp(),Fp()}}function Kp(){if(Se===1){Se=0;var e=Va,t=zl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=b.T,b.T=null;var n=V.p;V.p=2;var l=H;H|=4;try{Mp(t,e);var i=Ad,o=dh(e.containerInfo),u=i.focusedElem,s=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&ch(u.ownerDocument.documentElement,u)){if(s!==null&&Pd(u)){var r=s.start,c=s.end;if(c===void 0&&(c=r),"selectionStart"in u)u.selectionStart=r,u.selectionEnd=Math.min(c,u.value.length);else{var S=u.ownerDocument||document,f=S&&S.defaultView||window;if(f.getSelection){var g=f.getSelection(),v=u.textContent.length,y=Math.min(s.start,v),L=s.end===void 0?y:Math.min(s.end,v);!g.extend&&y>L&&(o=L,L=y,y=o);var m=NE(u,y),d=NE(u,L);if(m&&d&&(g.rangeCount!==1||g.anchorNode!==m.node||g.anchorOffset!==m.offset||g.focusNode!==d.node||g.focusOffset!==d.offset)){var E=S.createRange();E.setStart(m.node,m.offset),g.removeAllRanges(),y>L?(g.addRange(E),g.extend(d.node,d.offset)):(E.setEnd(d.node,d.offset),g.addRange(E))}}}}for(S=[],g=u;g=g.parentNode;)g.nodeType===1&&S.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<S.length;u++){var h=S[u];h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}vs=!!yd,Ad=yd=null}finally{H=l,V.p=n,b.T=a}}e.current=t,Se=2}}function Zp(){if(Se===2){Se=0;var e=Va,t=zl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=b.T,b.T=null;var n=V.p;V.p=2;var l=H;H|=4;try{bp(e,t.alternate,t)}finally{H=l,V.p=n,b.T=a}}Se=3}}function Fp(){if(Se===4||Se===3){Se=0,$y();var e=Va,t=zl,a=na,n=Hp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Se=5:(Se=0,zl=Va=null,Jp(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Ha=null),Ud(a),t=t.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(So,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=b.T,l=V.p,V.p=2,b.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var u=n[o];i(u.value,{componentStack:u.stack})}}finally{b.T=t,V.p=l}}(na&3)!==0&&xs(),Bt(e),l=e.pendingLanes,(a&261930)!==0&&(l&42)!==0?e===pd?$i++:($i=0,pd=e):$i=0,_o(0,!1)}}function Jp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,yo(t)))}function xs(){return Kp(),Zp(),Fp(),kp()}function kp(){if(Se!==5)return!1;var e=Va,t=Sd;Sd=0;var a=Ud(na),n=b.T,l=V.p;try{V.p=32>a?32:a,b.T=null,a=hd,hd=null;var i=Va,o=na;if(Se=0,zl=Va=null,na=0,(H&6)!==0)throw Error(p(331));var u=H;if(H|=4,xp(i.current),Bp(i,i.current,o,a),H=u,_o(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(So,i)}catch{}return!0}finally{V.p=l,b.T=n,Jp(e,t)}}function uS(e,t,a){t=dt(a,t),t=dd(e.stateNode,t,2),e=wa(e,t,2),e!==null&&(po(e,2),Bt(e))}function q(e,t,a){if(e.tag===3)uS(e,e,a);else for(;t!==null;){if(t.tag===3){uS(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ha===null||!Ha.has(n))){e=dt(a,e),a=fp(2),n=wa(t,a,2),n!==null&&(mp(a,n,t,e),po(n,2),Bt(n));break}}t=t.return}}function Lc(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new _A;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(a)||(Sf=!0,l.add(a),e=LA.bind(null,e,t,a),t.then(e,e))}function LA(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,X===e&&(x&a)===a&&(ie===4||ie===3&&(x&62914560)===x&&300>Fe()-Bs?(H&2)===0&&wl(e,0):hf|=a,xl===x&&(xl=0)),Bt(e)}function $p(e,t){t===0&&(t=YS()),e=Dn(e,t),e!==null&&(po(e,t),Bt(e))}function MA(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),$p(e,a)}function RA(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(p(314))}n!==null&&n.delete(t),$p(e,a)}function BA(e,t){return Bd(e,t)}var fs=null,rl=null,vd=!1,ms=!1,Mc=!1,Ia=0;function Bt(e){e!==rl&&e.next===null&&(rl===null?fs=rl=e:rl=rl.next=e),ms=!0,vd||(vd=!0,UA())}function _o(e,t){if(!Mc&&ms){Mc=!0;do for(var a=!1,n=fs;n!==null;){if(!t)if(e!==0){var l=n.pendingLanes;if(l===0)var i=0;else{var o=n.suspendedLanes,u=n.pingedLanes;i=(1<<31-ke(42|e)+1)-1,i&=l&~(o&~u),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,sS(n,i))}else i=x,i=ys(n,n===X?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||ho(n,i)||(a=!0,sS(n,i));n=n.next}while(a);Mc=!1}}function IA(){Wp()}function Wp(){ms=vd=!1;var e=0;Ia!==0&&qA()&&(e=Ia);for(var t=Fe(),a=null,n=fs;n!==null;){var l=n.next,i=ev(n,t);i===0?(n.next=null,a===null?fs=l:a.next=l,l===null&&(rl=a)):(a=n,(e!==0||(i&3)!==0)&&(ms=!0)),n=l}Se!==0&&Se!==5||_o(e,!1),Ia!==0&&(Ia=0)}function ev(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-ke(i),u=1<<o,s=l[o];s===-1?((u&a)===0||(u&n)!==0)&&(l[o]=o0(u,t)):s<=t&&(e.expiredLanes|=u),i&=~u}if(t=X,a=x,a=ys(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(P===2||P===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&ic(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ho(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&ic(n),Ud(a)){case 2:case 8:a=PS;break;case 32:a=Fu;break;case 268435456:a=qS;break;default:a=Fu}return n=tv.bind(null,e),a=Bd(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&ic(n),e.callbackPriority=2,e.callbackNode=null,2}function tv(e,t){if(Se!==0&&Se!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(xs()&&e.callbackNode!==a)return null;var n=x;return n=ys(e,e===X?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Gp(e,n,t),ev(e,Fe()),e.callbackNode!=null&&e.callbackNode===a?tv.bind(null,e):null)}function sS(e,t){if(xs())return null;Gp(e,t,!0)}function UA(){jA(function(){(H&6)!==0?Bd(GS,IA):Wp()})}function vf(){if(Ia===0){var e=Bl;e===0&&(e=gu,gu<<=1,(gu&261888)===0&&(gu=256)),Ia=e}return Ia}function rS(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Bu(""+e)}function cS(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function xA(e,t,a,n,l){if(t==="submit"&&a&&a.stateNode===l){var i=rS((l[qe]||null).action),o=n.submitter;o&&(t=(t=o[qe]||null)?rS(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var u=new As("action","action",null,n,l);e.push({event:u,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ia!==0){var s=o?cS(l,o):new FormData(l);rd(a,{pending:!0,data:s,method:l.method,action:i},null,s)}}else typeof i=="function"&&(u.preventDefault(),s=o?cS(l,o):new FormData(l),rd(a,{pending:!0,data:s,method:l.method,action:i},i,s))},currentTarget:l}]})}}for(Du=0;Du<kc.length;Du++)Ou=kc[Du],dS=Ou.toLowerCase(),fS=Ou[0].toUpperCase()+Ou.slice(1),Ct(dS,"on"+fS);var Ou,dS,fS,Du;Ct(mh,"onAnimationEnd");Ct(gh,"onAnimationIteration");Ct(Eh,"onAnimationStart");Ct("dblclick","onDoubleClick");Ct("focusin","onFocus");Ct("focusout","onBlur");Ct(W0,"onTransitionRun");Ct(eA,"onTransitionStart");Ct(tA,"onTransitionCancel");Ct(Sh,"onTransitionEnd");Ml("onMouseEnter",["mouseout","mouseover"]);Ml("onMouseLeave",["mouseout","mouseover"]);Ml("onPointerEnter",["pointerout","pointerover"]);Ml("onPointerLeave",["pointerout","pointerover"]);Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function av(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],l=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var u=n[o],s=u.instance,r=u.currentTarget;if(u=u.listener,s!==i&&l.isPropagationStopped())break e;i=u,l.currentTarget=r;try{i(l)}catch(c){ku(c)}l.currentTarget=null,i=s}else for(o=0;o<n.length;o++){if(u=n[o],s=u.instance,r=u.currentTarget,u=u.listener,s!==i&&l.isPropagationStopped())break e;i=u,l.currentTarget=r;try{i(l)}catch(c){ku(c)}l.currentTarget=null,i=s}}}}function I(e,t){var a=t[Yc];a===void 0&&(a=t[Yc]=new Set);var n=e+"__bubble";a.has(n)||(nv(t,e,2,!1),a.add(n))}function Rc(e,t,a){var n=0;t&&(n|=4),nv(a,e,n,t)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Tf(e){if(!e[Nu]){e[Nu]=!0,ZS.forEach(function(a){a!=="selectionchange"&&(zA.has(a)||Rc(a,!1,e),Rc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nu]||(t[Nu]=!0,Rc("selectionchange",!1,t))}}function nv(e,t,a,n){switch(Sv(t)){case 2:var l=cC;break;case 8:l=dC;break;default:l=_f}a=l.bind(null,t,a,e),l=void 0,!Zc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,a,{capture:!0,passive:l}):e.addEventListener(t,a,!0):l!==void 0?e.addEventListener(t,a,{passive:l}):e.addEventListener(t,a,!1)}function Bc(e,t,a,n,l){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===l)break;if(o===4)for(o=n.return;o!==null;){var s=o.tag;if((s===3||s===4)&&o.stateNode.containerInfo===l)return;o=o.return}for(;u!==null;){if(o=fl(u),o===null)return;if(s=o.tag,s===5||s===6||s===26||s===27){n=i=o;continue e}u=u.parentNode}}n=n.return}ah(function(){var r=i,c=wd(a),S=[];e:{var f=hh.get(e);if(f!==void 0){var g=As,v=e;switch(e){case"keypress":if(Uu(a)===0)break e;case"keydown":case"keyup":g=R0;break;case"focusin":v="focus",g=cc;break;case"focusout":v="blur",g=cc;break;case"beforeblur":case"afterblur":g=cc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=vE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=v0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=U0;break;case mh:case gh:case Eh:g=A0;break;case Sh:g=z0;break;case"scroll":case"scrollend":g=h0;break;case"wheel":g=H0;break;case"copy":case"cut":case"paste":g=_0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=yE;break;case"toggle":case"beforetoggle":g=G0}var y=(t&4)!==0,L=!y&&(e==="scroll"||e==="scrollend"),m=y?f!==null?f+"Capture":null:f;y=[];for(var d=r,E;d!==null;){var h=d;if(E=h.stateNode,h=h.tag,h!==5&&h!==26&&h!==27||E===null||m===null||(h=to(d,m),h!=null&&y.push(co(d,h,E))),L)break;d=d.return}0<y.length&&(f=new g(f,v,null,a,c),S.push({event:f,listeners:y}))}}if((t&7)===0){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&a!==Kc&&(v=a.relatedTarget||a.fromElement)&&(fl(v)||v[Gl]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=a.relatedTarget||a.toElement,g=r,v=v?fl(v):null,v!==null&&(L=Eo(v),y=v.tag,v!==L||y!==5&&y!==27&&y!==6)&&(v=null)):(g=null,v=r),g!==v)){if(y=vE,h="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(y=yE,h="onPointerLeave",m="onPointerEnter",d="pointer"),L=g==null?f:Hi(g),E=v==null?f:Hi(v),f=new y(h,d+"leave",g,a,c),f.target=L,f.relatedTarget=E,h=null,fl(c)===r&&(y=new y(m,d+"enter",v,a,c),y.target=E,y.relatedTarget=L,h=y),L=h,g&&v)t:{for(y=wA,m=g,d=v,E=0,h=m;h;h=y(h))E++;h=0;for(var A=d;A;A=y(A))h++;for(;0<E-h;)m=y(m),E--;for(;0<h-E;)d=y(d),h--;for(;E--;){if(m===d||d!==null&&m===d.alternate){y=m;break t}m=y(m),d=y(d)}y=null}else y=null;g!==null&&mS(S,f,g,y,!1),v!==null&&L!==null&&mS(S,L,v,y,!0)}}e:{if(f=r?Hi(r):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var M=bE;else if(_E(f))if(sh)M=J0;else{M=Z0;var T=K0}else g=f.nodeName,!g||g.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?r&&zd(r.elementType)&&(M=bE):M=F0;if(M&&(M=M(e,r))){uh(S,M,a,c);break e}T&&T(e,f,r),e==="focusout"&&r&&f.type==="number"&&r.memoizedProps.value!=null&&Qc(f,"number",f.value)}switch(T=r?Hi(r):window,e){case"focusin":(_E(T)||T.contentEditable==="true")&&(El=T,Fc=r,Yi=null);break;case"focusout":Yi=Fc=El=null;break;case"mousedown":Jc=!0;break;case"contextmenu":case"mouseup":case"dragend":Jc=!1,LE(S,a,c);break;case"selectionchange":if($0)break;case"keydown":case"keyup":LE(S,a,c)}var _;if(Gd)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else gl?ih(e,a)&&(C="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(C="onCompositionStart");C&&(lh&&a.locale!=="ko"&&(gl||C!=="onCompositionStart"?C==="onCompositionEnd"&&gl&&(_=nh()):(Ma=c,Hd="value"in Ma?Ma.value:Ma.textContent,gl=!0)),T=gs(r,C),0<T.length&&(C=new TE(C,e,null,a,c),S.push({event:C,listeners:T}),_?C.data=_:(_=oh(a),_!==null&&(C.data=_)))),(_=q0?Y0(e,a):j0(e,a))&&(C=gs(r,"onBeforeInput"),0<C.length&&(T=new TE("onBeforeInput","beforeinput",null,a,c),S.push({event:T,listeners:C}),T.data=_)),xA(S,e,r,a,c)}av(S,t)})}function co(e,t,a){return{instance:e,listener:t,currentTarget:a}}function gs(e,t){for(var a=t+"Capture",n=[];e!==null;){var l=e,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=to(e,a),l!=null&&n.unshift(co(e,l,i)),l=to(e,t),l!=null&&n.push(co(e,l,i))),e.tag===3)return n;e=e.return}return[]}function wA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mS(e,t,a,n,l){for(var i=t._reactName,o=[];a!==null&&a!==n;){var u=a,s=u.alternate,r=u.stateNode;if(u=u.tag,s!==null&&s===n)break;u!==5&&u!==26&&u!==27||r===null||(s=r,l?(r=to(a,i),r!=null&&o.unshift(co(a,r,s))):l||(r=to(a,i),r!=null&&o.push(co(a,r,s)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var HA=/\r\n?/g,VA=/\u0000|\uFFFD/g;function gS(e){return(typeof e=="string"?e:""+e).replace(HA,`
`).replace(VA,"")}function lv(e,t){return t=gS(t),gS(e)===t}function Y(e,t,a,n,l,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Rl(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Rl(e,""+n);break;case"className":hu(e,"class",n);break;case"tabIndex":hu(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":hu(e,a,n);break;case"style":th(e,n,i);break;case"data":if(t!=="object"){hu(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Bu(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&Y(e,t,"name",l.name,l,null),Y(e,t,"formEncType",l.formEncType,l,null),Y(e,t,"formMethod",l.formMethod,l,null),Y(e,t,"formTarget",l.formTarget,l,null)):(Y(e,t,"encType",l.encType,l,null),Y(e,t,"method",l.method,l,null),Y(e,t,"target",l.target,l,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Bu(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Wt);break;case"onScroll":n!=null&&I("scroll",e);break;case"onScrollEnd":n!=null&&I("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(p(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(p(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Bu(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":I("beforetoggle",e),I("toggle",e),Ru(e,"popover",n);break;case"xlinkActuate":Xt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Xt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Xt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Xt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Xt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Xt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Xt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Xt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Xt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ru(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=E0.get(a)||a,Ru(e,a,n))}}function Td(e,t,a,n,l,i){switch(a){case"style":th(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(p(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(p(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Rl(e,n):(typeof n=="number"||typeof n=="bigint")&&Rl(e,""+n);break;case"onScroll":n!=null&&I("scroll",e);break;case"onScrollEnd":n!=null&&I("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Wt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!FS.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),t=a.slice(2,l?a.length-7:void 0),i=e[qe]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,l),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,l);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Ru(e,a,n)}}}function Oe(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":I("error",e),I("load",e);var n=!1,l=!1,i;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(p(137,t));default:Y(e,t,i,o,a,null)}}l&&Y(e,t,"srcSet",a.srcSet,a,null),n&&Y(e,t,"src",a.src,a,null);return;case"input":I("invalid",e);var u=i=o=l=null,s=null,r=null;for(n in a)if(a.hasOwnProperty(n)){var c=a[n];if(c!=null)switch(n){case"name":l=c;break;case"type":o=c;break;case"checked":s=c;break;case"defaultChecked":r=c;break;case"value":i=c;break;case"defaultValue":u=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(p(137,t));break;default:Y(e,t,n,c,a,null)}}$S(e,i,u,s,r,o,l,!1);return;case"select":I("invalid",e),n=o=i=null;for(l in a)if(a.hasOwnProperty(l)&&(u=a[l],u!=null))switch(l){case"value":i=u;break;case"defaultValue":o=u;break;case"multiple":n=u;default:Y(e,t,l,u,a,null)}t=i,a=o,e.multiple=!!n,t!=null?Cl(e,!!n,t,!1):a!=null&&Cl(e,!!n,a,!0);return;case"textarea":I("invalid",e),i=l=n=null;for(o in a)if(a.hasOwnProperty(o)&&(u=a[o],u!=null))switch(o){case"value":n=u;break;case"defaultValue":l=u;break;case"children":i=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(p(91));break;default:Y(e,t,o,u,a,null)}eh(e,n,l,i);return;case"option":for(s in a)if(a.hasOwnProperty(s)&&(n=a[s],n!=null))switch(s){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Y(e,t,s,n,a,null)}return;case"dialog":I("beforetoggle",e),I("toggle",e),I("cancel",e),I("close",e);break;case"iframe":case"object":I("load",e);break;case"video":case"audio":for(n=0;n<ro.length;n++)I(ro[n],e);break;case"image":I("error",e),I("load",e);break;case"details":I("toggle",e);break;case"embed":case"source":case"link":I("error",e),I("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(r in a)if(a.hasOwnProperty(r)&&(n=a[r],n!=null))switch(r){case"children":case"dangerouslySetInnerHTML":throw Error(p(137,t));default:Y(e,t,r,n,a,null)}return;default:if(zd(t)){for(c in a)a.hasOwnProperty(c)&&(n=a[c],n!==void 0&&Td(e,t,c,n,a,void 0));return}}for(u in a)a.hasOwnProperty(u)&&(n=a[u],n!=null&&Y(e,t,u,n,a,null))}function GA(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,o=null,u=null,s=null,r=null,c=null;for(g in a){var S=a[g];if(a.hasOwnProperty(g)&&S!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":s=S;default:n.hasOwnProperty(g)||Y(e,t,g,null,n,S)}}for(var f in n){var g=n[f];if(S=a[f],n.hasOwnProperty(f)&&(g!=null||S!=null))switch(f){case"type":i=g;break;case"name":l=g;break;case"checked":r=g;break;case"defaultChecked":c=g;break;case"value":o=g;break;case"defaultValue":u=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(p(137,t));break;default:g!==S&&Y(e,t,f,g,n,S)}}Xc(e,o,u,s,r,c,i,l);return;case"select":g=o=u=f=null;for(i in a)if(s=a[i],a.hasOwnProperty(i)&&s!=null)switch(i){case"value":break;case"multiple":g=s;default:n.hasOwnProperty(i)||Y(e,t,i,null,n,s)}for(l in n)if(i=n[l],s=a[l],n.hasOwnProperty(l)&&(i!=null||s!=null))switch(l){case"value":f=i;break;case"defaultValue":u=i;break;case"multiple":o=i;default:i!==s&&Y(e,t,l,i,n,s)}t=u,a=o,n=g,f!=null?Cl(e,!!a,f,!1):!!n!=!!a&&(t!=null?Cl(e,!!a,t,!0):Cl(e,!!a,a?[]:"",!1));return;case"textarea":g=f=null;for(u in a)if(l=a[u],a.hasOwnProperty(u)&&l!=null&&!n.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:Y(e,t,u,null,n,l)}for(o in n)if(l=n[o],i=a[o],n.hasOwnProperty(o)&&(l!=null||i!=null))switch(o){case"value":f=l;break;case"defaultValue":g=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(p(91));break;default:l!==i&&Y(e,t,o,l,n,i)}WS(e,f,g);return;case"option":for(var v in a)if(f=a[v],a.hasOwnProperty(v)&&f!=null&&!n.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:Y(e,t,v,null,n,f)}for(s in n)if(f=n[s],g=a[s],n.hasOwnProperty(s)&&f!==g&&(f!=null||g!=null))switch(s){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Y(e,t,s,f,n,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in a)f=a[y],a.hasOwnProperty(y)&&f!=null&&!n.hasOwnProperty(y)&&Y(e,t,y,null,n,f);for(r in n)if(f=n[r],g=a[r],n.hasOwnProperty(r)&&f!==g&&(f!=null||g!=null))switch(r){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(p(137,t));break;default:Y(e,t,r,f,n,g)}return;default:if(zd(t)){for(var L in a)f=a[L],a.hasOwnProperty(L)&&f!==void 0&&!n.hasOwnProperty(L)&&Td(e,t,L,void 0,n,f);for(c in n)f=n[c],g=a[c],!n.hasOwnProperty(c)||f===g||f===void 0&&g===void 0||Td(e,t,c,f,n,g);return}}for(var m in a)f=a[m],a.hasOwnProperty(m)&&f!=null&&!n.hasOwnProperty(m)&&Y(e,t,m,null,n,f);for(S in n)f=n[S],g=a[S],!n.hasOwnProperty(S)||f===g||f==null&&g==null||Y(e,t,S,f,n,g)}function ES(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var l=a[n],i=l.transferSize,o=l.initiatorType,u=l.duration;if(i&&u&&ES(o)){for(o=0,u=l.responseEnd,n+=1;n<a.length;n++){var s=a[n],r=s.startTime;if(r>u)break;var c=s.transferSize,S=s.initiatorType;c&&ES(S)&&(s=s.responseEnd,o+=c*(s<u?1:(u-r)/(s-r)))}if(--n,t+=8*(i+o)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yd=null,Ad=null;function Es(e){return e.nodeType===9?e:e.ownerDocument}function SS(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Cd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ic=null;function qA(){var e=window.event;return e&&e.type==="popstate"?e===Ic?!1:(Ic=e,!0):(Ic=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,YA=typeof clearTimeout=="function"?clearTimeout:void 0,hS=typeof Promise=="function"?Promise:void 0,jA=typeof queueMicrotask=="function"?queueMicrotask:typeof hS<"u"?function(e){return hS.resolve(null).then(e).catch(XA)}:ov;function XA(e){setTimeout(function(){throw e})}function Za(e){return e==="head"}function pS(e,t){var a=t,n=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(l),Vl(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Wi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Wi(a);for(var i=a.firstChild;i;){var o=i.nextSibling,u=i.nodeName;i[vo]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=o}}else a==="body"&&Wi(e.ownerDocument.body);a=l}while(a);Vl(t)}function vS(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function _d(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_d(a),xd(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function QA(e,t,a,n){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[vo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=gt(e.nextSibling),e===null)break}return null}function KA(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=gt(e.nextSibling),e===null))return null;return e}function uv(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=gt(e.nextSibling),e===null))return null;return e}function bd(e){return e.data==="$?"||e.data==="$~"}function Dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ZA(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Od=null;function TS(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return gt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function yS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function sv(e,t,a){switch(t=Es(a),e){case"html":if(e=t.documentElement,!e)throw Error(p(452));return e;case"head":if(e=t.head,!e)throw Error(p(453));return e;case"body":if(e=t.body,!e)throw Error(p(454));return e;default:throw Error(p(451))}}function Wi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);xd(e)}var Et=new Map,AS=new Set;function Ss(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ra=V.d;V.d={f:FA,r:JA,D:kA,C:$A,L:WA,m:eC,X:aC,S:tC,M:nC};function FA(){var e=ra.f(),t=Is();return e||t}function JA(e){var t=Pl(e);t!==null&&t.tag===5&&t.type==="form"?tp(t):ra.r(e)}var Xl=typeof document>"u"?null:document;function rv(e,t,a){var n=Xl;if(n&&typeof t=="string"&&t){var l=ct(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),AS.has(l)||(AS.add(l),e={rel:e,crossOrigin:a,href:t},n.querySelector(l)===null&&(t=n.createElement("link"),Oe(t,"link",e),Te(t),n.head.appendChild(t)))}}function kA(e){ra.D(e),rv("dns-prefetch",e,null)}function $A(e,t){ra.C(e,t),rv("preconnect",e,t)}function WA(e,t,a){ra.L(e,t,a);var n=Xl;if(n&&e&&t){var l='link[rel="preload"][as="'+ct(t)+'"]';t==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+ct(a.imageSizes)+'"]')):l+='[href="'+ct(e)+'"]';var i=l;switch(t){case"style":i=Hl(e);break;case"script":i=Ql(e)}Et.has(i)||(e=k({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Et.set(i,e),n.querySelector(l)!==null||t==="style"&&n.querySelector(bo(i))||t==="script"&&n.querySelector(Do(i))||(t=n.createElement("link"),Oe(t,"link",e),Te(t),n.head.appendChild(t)))}}function eC(e,t){ra.m(e,t);var a=Xl;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+ct(n)+'"][href="'+ct(e)+'"]',i=l;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ql(e)}if(!Et.has(i)&&(e=k({rel:"modulepreload",href:e},t),Et.set(i,e),a.querySelector(l)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Do(i)))return}n=a.createElement("link"),Oe(n,"link",e),Te(n),a.head.appendChild(n)}}}function tC(e,t,a){ra.S(e,t,a);var n=Xl;if(n&&e){var l=Al(n).hoistableStyles,i=Hl(e);t=t||"default";var o=l.get(i);if(!o){var u={loading:0,preload:null};if(o=n.querySelector(bo(i)))u.loading=5;else{e=k({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Et.get(i))&&yf(e,a);var s=o=n.createElement("link");Te(s),Oe(s,"link",e),s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),s.addEventListener("load",function(){u.loading|=1}),s.addEventListener("error",function(){u.loading|=2}),u.loading|=4,qu(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:u},l.set(i,o)}}}function aC(e,t){ra.X(e,t);var a=Xl;if(a&&e){var n=Al(a).hoistableScripts,l=Ql(e),i=n.get(l);i||(i=a.querySelector(Do(l)),i||(e=k({src:e,async:!0},t),(t=Et.get(l))&&Af(e,t),i=a.createElement("script"),Te(i),Oe(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function nC(e,t){ra.M(e,t);var a=Xl;if(a&&e){var n=Al(a).hoistableScripts,l=Ql(e),i=n.get(l);i||(i=a.querySelector(Do(l)),i||(e=k({src:e,async:!0,type:"module"},t),(t=Et.get(l))&&Af(e,t),i=a.createElement("script"),Te(i),Oe(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function CS(e,t,a,n){var l=(l=Ua.current)?Ss(l):null;if(!l)throw Error(p(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Hl(a.href),a=Al(l).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Hl(a.href);var i=Al(l).hoistableStyles,o=i.get(e);if(o||(l=l.ownerDocument||l,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=l.querySelector(bo(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Et.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Et.set(e,a),i||lC(l,e,a,o.state))),t&&n===null)throw Error(p(528,""));return o}if(t&&n!==null)throw Error(p(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ql(a),a=Al(l).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(p(444,e))}}function Hl(e){return'href="'+ct(e)+'"'}function bo(e){return'link[rel="stylesheet"]['+e+"]"}function cv(e){return k({},e,{"data-precedence":e.precedence,precedence:null})}function lC(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Oe(t,"link",a),Te(t),e.head.appendChild(t))}function Ql(e){return'[src="'+ct(e)+'"]'}function Do(e){return"script[async]"+e}function _S(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+ct(a.href)+'"]');if(n)return t.instance=n,Te(n),n;var l=k({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Te(n),Oe(n,"style",l),qu(n,a.precedence,e),t.instance=n;case"stylesheet":l=Hl(a.href);var i=e.querySelector(bo(l));if(i)return t.state.loading|=4,t.instance=i,Te(i),i;n=cv(a),(l=Et.get(l))&&yf(n,l),i=(e.ownerDocument||e).createElement("link"),Te(i);var o=i;return o._p=new Promise(function(u,s){o.onload=u,o.onerror=s}),Oe(i,"link",n),t.state.loading|=4,qu(i,a.precedence,e),t.instance=i;case"script":return i=Ql(a.src),(l=e.querySelector(Do(i)))?(t.instance=l,Te(l),l):(n=a,(l=Et.get(i))&&(n=k({},a),Af(n,l)),e=e.ownerDocument||e,l=e.createElement("script"),Te(l),Oe(l,"link",n),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(p(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,qu(n,a.precedence,e));return t.instance}function qu(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=n.length?n[n.length-1]:null,i=l,o=0;o<n.length;o++){var u=n[o];if(u.dataset.precedence===t)i=u;else if(i!==l)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function yf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Af(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yu=null;function bS(e,t,a){if(Yu===null){var n=new Map,l=Yu=new Map;l.set(a,n)}else l=Yu,n=l.get(a),n||(n=new Map,l.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var i=a[l];if(!(i[vo]||i[_e]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var u=n.get(o);u?u.push(i):n.set(o,[i])}}return n}function DS(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function iC(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function oC(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var l=Hl(n.href),i=t.querySelector(bo(l));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=hs.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Te(i);return}i=t.ownerDocument||t,n=cv(n),(l=Et.get(l))&&yf(n,l),i=i.createElement("link"),Te(i);var o=i;o._p=new Promise(function(u,s){o.onload=u,o.onerror=s}),Oe(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=hs.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Uc=0;function uC(e,t){return e.stylesheets&&e.count===0&&ju(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&ju(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Uc===0&&(Uc=62500*PA());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ju(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Uc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(l)}}:null}function hs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ju(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ps=null;function ju(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ps=new Map,t.forEach(sC,e),ps=null,hs.call(e))}function sC(e,t){if(!(t.state.loading&4)){var a=ps.get(e);if(a)var n=a.get(null);else{a=new Map,ps.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var o=l[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),n=o)}n&&a.set(null,n)}l=t.instance,o=l.getAttribute("data-precedence"),i=a.get(o)||n,i===n&&a.set(null,l),a.set(o,l),this.count++,n=hs.bind(this),l.addEventListener("load",n),l.addEventListener("error",n),i?i.parentNode.insertBefore(l,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var fo={$$typeof:$t,Provider:null,Consumer:null,_currentValue:mn,_currentValue2:mn,_threadCount:0};function rC(e,t,a,n,l,i,o,u,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.hiddenUpdates=oc(null),this.identifierPrefix=n,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function fv(e,t,a,n,l,i,o,u,s,r,c,S){return e=new rC(e,t,a,o,s,r,c,S,u),t=1,i===!0&&(t|=24),i=Ke(3,null,null,t),e.current=i,i.stateNode=e,t=Kd(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},Jd(i),e}function mv(e){return e?(e=pl,e):pl}function gv(e,t,a,n,l,i){l=mv(l),n.context===null?n.context=l:n.pendingContext=l,n=za(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=wa(e,n,t),a!==null&&(Pe(a,e,t),Xi(a,e,t))}function OS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Cf(e,t){OS(e,t),(e=e.alternate)&&OS(e,t)}function Ev(e){if(e.tag===13||e.tag===31){var t=Dn(e,67108864);t!==null&&Pe(t,e,67108864),Cf(e,67108864)}}function NS(e){if(e.tag===13||e.tag===31){var t=$e();t=Id(t);var a=Dn(e,t);a!==null&&Pe(a,e,t),Cf(e,t)}}var vs=!0;function cC(e,t,a,n){var l=b.T;b.T=null;var i=V.p;try{V.p=2,_f(e,t,a,n)}finally{V.p=i,b.T=l}}function dC(e,t,a,n){var l=b.T;b.T=null;var i=V.p;try{V.p=8,_f(e,t,a,n)}finally{V.p=i,b.T=l}}function _f(e,t,a,n){if(vs){var l=Nd(n);if(l===null)Bc(e,t,n,Ts,a),LS(e,n);else if(mC(l,e,t,a,n))n.stopPropagation();else if(LS(e,n),t&4&&-1<fC.indexOf(e)){for(;l!==null;){var i=Pl(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=cn(i.pendingLanes);if(o!==0){var u=i;for(u.pendingLanes|=2,u.entangledLanes|=2;o;){var s=1<<31-ke(o);u.entanglements[1]|=s,o&=~s}Bt(i),(H&6)===0&&(rs=Fe()+500,_o(0,!1))}}break;case 31:case 13:u=Dn(i,2),u!==null&&Pe(u,i,2),Is(),Cf(i,2)}if(i=Nd(n),i===null&&Bc(e,t,n,Ts,a),i===l)break;l=i}l!==null&&n.stopPropagation()}else Bc(e,t,n,null,a)}}function Nd(e){return e=wd(e),bf(e)}var Ts=null;function bf(e){if(Ts=null,e=fl(e),e!==null){var t=Eo(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=xS(t),e!==null)return e;e=null}else if(a===31){if(e=zS(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ts=e,null}function Sv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wy()){case GS:return 2;case PS:return 8;case Fu:case e0:return 32;case qS:return 268435456;default:return 32}default:return 32}}var Ld=!1,Ga=null,Pa=null,qa=null,mo=new Map,go=new Map,Na=[],fC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LS(e,t){switch(e){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(t.pointerId)}}function Ui(e,t,a,n,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Pl(t),t!==null&&Ev(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function mC(e,t,a,n,l){switch(t){case"focusin":return Ga=Ui(Ga,e,t,a,n,l),!0;case"dragenter":return Pa=Ui(Pa,e,t,a,n,l),!0;case"mouseover":return qa=Ui(qa,e,t,a,n,l),!0;case"pointerover":var i=l.pointerId;return mo.set(i,Ui(mo.get(i)||null,e,t,a,n,l)),!0;case"gotpointercapture":return i=l.pointerId,go.set(i,Ui(go.get(i)||null,e,t,a,n,l)),!0}return!1}function hv(e){var t=fl(e.target);if(t!==null){var a=Eo(t);if(a!==null){if(t=a.tag,t===13){if(t=xS(a),t!==null){e.blockedOn=t,fE(e.priority,function(){NS(a)});return}}else if(t===31){if(t=zS(a),t!==null){e.blockedOn=t,fE(e.priority,function(){NS(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Nd(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Kc=n,a.target.dispatchEvent(n),Kc=null}else return t=Pl(a),t!==null&&Ev(t),e.blockedOn=a,!1;t.shift()}return!0}function MS(e,t,a){Xu(e)&&a.delete(t)}function gC(){Ld=!1,Ga!==null&&Xu(Ga)&&(Ga=null),Pa!==null&&Xu(Pa)&&(Pa=null),qa!==null&&Xu(qa)&&(qa=null),mo.forEach(MS),go.forEach(MS)}function Lu(e,t){e.blockedOn===t&&(e.blockedOn=null,Ld||(Ld=!0,he.unstable_scheduleCallback(he.unstable_NormalPriority,gC)))}var Mu=null;function RS(e){Mu!==e&&(Mu=e,he.unstable_scheduleCallback(he.unstable_NormalPriority,function(){Mu===e&&(Mu=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],l=e[t+2];if(typeof n!="function"){if(bf(n||a)===null)continue;break}var i=Pl(a);i!==null&&(e.splice(t,3),t-=3,rd(i,{pending:!0,data:l,method:a.method,action:n},n,l))}}))}function Vl(e){function t(s){return Lu(s,e)}Ga!==null&&Lu(Ga,e),Pa!==null&&Lu(Pa,e),qa!==null&&Lu(qa,e),mo.forEach(t),go.forEach(t);for(var a=0;a<Na.length;a++){var n=Na[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Na.length&&(a=Na[0],a.blockedOn===null);)hv(a),a.blockedOn===null&&Na.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var l=a[n],i=a[n+1],o=l[qe]||null;if(typeof i=="function")o||RS(a);else if(o){var u=null;if(i&&i.hasAttribute("formAction")){if(l=i,o=i[qe]||null)u=o.formAction;else if(bf(l)!==null)continue}else u=o.action;typeof u=="function"?a[n+1]=u:(a.splice(n,3),n-=3),RS(a)}}}function pv(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return l=o})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function Df(e){this._internalRoot=e}zs.prototype.render=Df.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(p(409));var a=t.current,n=$e();gv(a,n,e,t,null,null)};zs.prototype.unmount=Df.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gv(e.current,2,null,e,null,null),Is(),t[Gl]=null}};function zs(e){this._internalRoot=e}zs.prototype.unstable_scheduleHydration=function(e){if(e){var t=KS();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Na.length&&t!==0&&t<Na[a].priority;a++);Na.splice(a,0,e),a===0&&hv(e)}};var BS=IS.version;if(BS!=="19.2.0")throw Error(p(527,BS,"19.2.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Qy(t),e=e!==null?wS(e):null,e=e===null?null:e.stateNode,e};var EC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(xi=__REACT_DEVTOOLS_GLOBAL_HOOK__,!xi.isDisabled&&xi.supportsFiber))try{So=xi.inject(EC),Je=xi}catch{}var xi;ws.createRoot=function(e,t){if(!US(e))throw Error(p(299));var a=!1,n="",l=rp,i=cp,o=dp;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=fv(e,1,!1,null,null,a,n,null,l,i,o,pv),e[Gl]=t.current,Tf(e),new Df(t)};ws.hydrateRoot=function(e,t,a){if(!US(e))throw Error(p(299));var n=!1,l="",i=rp,o=cp,u=dp,s=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(u=a.onRecoverableError),a.formState!==void 0&&(s=a.formState)),t=fv(e,1,!0,t,a??null,n,l,s,i,o,u,pv),t.context=mv(null),a=t.current,n=$e(),n=Id(n),l=za(n),l.callback=null,wa(a,l,n),a=n,t.current.lanes=a,po(t,a),Bt(t),e[Gl]=t.current,Tf(e),new zs(t)};ws.version="19.2.0"});var Of=da((vD,yv)=>{"use strict";function Tv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tv)}catch(e){console.error(e)}}Tv(),yv.exports=vv()});var G={DATE_INPUT:"date",DIET_TYPE_SELECT:"diet-type",TOP_BAR:".top-bar",FOOTER:"footer",EASTER_EGG_OVERLAY:".easter-egg-overlay",EASTER_EGG_ICON:".easter-egg-icon",SERVICE_NUMBER_PREFIX:"service-number-",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2",TAB_DADES:"tab-dades",TAB_SERVEIS:"tab-serveis",CONTENT_DADES:"dades-tab-content",CONTENT_SERVEIS:"serveis-tab-content",MAIN_CONTENT_AREA:"main-content",CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips",SIGNATURE_MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title",DOTACIO_MODAL:"dotacio-modal",OPTIONS_CONTAINER_DOT:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline",SAVE_DIET:"save-diet",NOTES_BUTTON_ID:"notes-selected-service",NOTES_MODAL_ID:"notes-modal",NOTES_TITLE_ID:"notes-title",NOTES_TEXTAREA_ID:"notes-textarea",NOTES_SAVE_ID:"notes-save",NOTES_CANCEL_ID:"notes-cancel",NOTES_COUNTER_ID:"notes-char-counter",SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel",TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text",SAVE_PILL:"save-pill",DONATION_LINK_ID:"openDonation",COOKIE_CONSENT_BANNER:"cookie-consent-banner",ACCEPT_COOKIES:"accept-cookies",DECLINE_COOKIES:"decline-cookies"},Re={INPUT_ERROR:"input-error",ACTIVE_TAB:"active",ERROR_TAB:"error-tab",MODAL_OPEN:"modal-open",MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",TOP_BAR_TAPS:3,FOOTER_TAPS:2,TIMEOUT:1e3,ANIMATION_DURATION:1e3,DEFAULT_DURATION:3e3,ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1,SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",CHIP_ACTIVE:"chip-active",PANEL_VISIBLE:"visible",BUTTON_OPEN:"open",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_LOAD_BTN:"diet-load",DIET_DELETE_BTN:"diet-delete",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal",INPUT_ERROR_DOT:"input-error",IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount",PROMPT_DISMISSED_LIMIT:2,ACTION_TRIGGER_LIMIT:10,DARK_THEME:"theme-dark",VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error",SIGNED:"signed",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Rn={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group",PERSON_INPUT_GROUP:".input-with-icon",TEXT_SEL:".pill-text",SERVICE_CONTAINER_SELECTOR:".service",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete",SERVICE_NUMBER_INPUT:".service-number"},Qs={serviceNumber:".service-number",origin:".origin",destination:".destination",originTime:".origin-time",destinationTime:".destination-time",endTime:".end-time",mode:".chip-active",notes:""},Ut={SERVICE_NUMBER_LENGTH:9,VEHICLE_MAX_LENGTH:6,PERSON_NAME_MAX_LENGTH:28,LOCATION_MAX_LENGTH:35,PERSON_NAME_ALLOWED_CHARS:/^[a-zA-Z\s'’áéíóúàèìòùäëïöüñçÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÑÇ]+$/u},Kf={DEBOUNCE_TOAST:300,DEBOUNCE_AUTO_SAVE:1e3,DEBOUNCE_HANDLER:800};var oi={LUNCH:"lunch",DINNER:"dinner"},Zf=Rn.SERVICE_CONTAINER_SELECTOR,Ks={SERVICE_NUMBER_DIGITS_ONLY:"Solo se permiten d\xEDgitos (0-9) en el n\xFAmero de servicio.",SAVE_ERROR_DIGITAL_ONLY:"El n\xFAmero de servicio debe contener solo d\xEDgitos.",VALIDATION_FAILED:"Validaci\xF3n fallida",OCR_PROCESS_RUNNING:"Proceso OCR ya en marcha.",INVALID_IMAGE:"Selecciona una imagen.",IMAGE_TOO_BIG:"La imagen es demasiado grande (m\xE1x. 10 MB).",OCR_ERROR:"Error de escaneo",IMAGE_PROCESS_ERROR:"Error al procesar la imagen.",OCR_COMPLETE:"An\xE1lisis completado.",SAVING:"Guardando\u2026",SAVED:"Guardado",SAVE_ERROR:"No se pudo guardar",DOWNLOAD_STARTED:"Descarga iniciada correctamente.",PDF_GENERATION_ERROR:"Error en la generaci\xF3n del PDF",DOTACIO_SAVED:"Dotaci\xF3n guardada.",DOTACIO_LOADED:"Dotaci\xF3n cargada.",DOTACIO_DELETED:"Dotaci\xF3n eliminada."};var Ff={DOTACIIONS:"dotacions_v2",ANONYMOUS_USER:"anonymousUserId",COOKIE_CONSENT:"cookie_consent",THEME_PREFERENCE:"themePreference",USER_SELECTED_SERVICE_TYPE:"userSelectedServiceType",ONBOARDING_COMPLETED:"onboardingCompleted"};var Le={CONTAINER_ID:"toast-container",TOAST_CLASS:"toast",DEFAULT_DURATION:3e3,DEFAULT_TYPE:"info",ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1},te={queue:[],isVisible:!1,container:null,currentTimeout:null},cT=e=>e&&typeof e=="string"?e.replace(/[<>&]/g,""):"";function dT(e){if(window.__muteToasts===!0)return!0;let t=window.__toastBlocklist;if(!t||!Array.isArray(t)||t.length===0)return!1;for(let a of t)if(a instanceof RegExp&&typeof e=="string"){if(a.test(e))return!0}else if(typeof a=="string"&&String(e)===a)return!0;return!1}function fT(e,t,a){if(!e||typeof e!="string"||!e.trim())throw new Error("El missatge del toast \xE9s obligatori i ha de ser una cadena no buida.");if(!Le.ALLOWED_TYPES.includes(t))throw new Error(`Tipus de toast inv\xE0lid: ${t}. Ha de ser un de: ${Le.ALLOWED_TYPES.join(", ")}`);if(!Number.isInteger(a)||a<0||a>6e4)throw new Error("La durada ha d'estar entre 0 i 60000 ms.")}function mT(){return!te.container&&(te.container=document.getElementById(Le.CONTAINER_ID),!te.container)?(console.error(`[Toast] Contenidor '#${Le.CONTAINER_ID}' no trobat.`),null):te.container}function Zs(e){te.currentTimeout&&(clearTimeout(te.currentTimeout),te.currentTimeout=null),e&&(e.classList.add(Le.ANIMATION.EXIT),e.addEventListener("transitionend",()=>e.remove(),{once:!0})),te.isVisible=!1,Jf()}function gT({message:e,type:t,duration:a,options:n}){let l=mT();if(!l)return;let i=document.createElement("div");i.className=`${Le.TOAST_CLASS} ${t}`,i.setAttribute("role","alert"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),i.textContent=cT(e);let o=!0;if(n?.undoCallback instanceof Function){let u=document.createElement("button");u.type="button",u.className=Le.UNDO_BTN_CLASS,u.textContent="Deshacer",u.setAttribute("aria-label","Deshacer la acci\xF3n"),u.addEventListener("click",()=>{o=!1;try{n.undoCallback()}finally{Zs(i)}}),i.appendChild(u)}l.appendChild(i),requestAnimationFrame(()=>{i.classList.add(Le.ANIMATION.ENTER)}),te.currentTimeout=setTimeout(()=>{o&&n?.onExpire instanceof Function&&n.onExpire(),Zs(i)},a)}function Jf(){te.isVisible||te.queue.length===0||(te.isVisible=!0,te.queue.sort((e,t)=>t.priority-e.priority),gT(te.queue.shift()))}function R(e,t=Le.DEFAULT_TYPE,a=Le.DEFAULT_DURATION,n={}){if(dT(e))return;fT(e,t,a);let l=n.priority??Le.DEFAULT_PRIORITY,i={message:e,type:t,duration:a,priority:l,options:n};if(!(n.queueable!==!1)&&te.isVisible){if(te.container){let s=te.container.querySelector(`.${Le.TOAST_CLASS}:not(.${Le.ANIMATION.EXIT})`);s&&s.remove()}Zs()}te.queue.length>=Le.MAX_QUEUE_SIZE&&te.queue.sort((s,r)=>s.priority-r.priority).shift();let u=te.queue.findIndex(s=>s.priority<l);u===-1?te.queue.push(i):te.queue.splice(u,0,i),ET(),Jf()}function ET(){let e="toast-undo-style";if(document.getElementById(e))return;let t=document.body.getAttribute("data-csp-nonce"),a=document.createElement("style");a.id=e,t&&a.setAttribute("nonce",t),a.textContent=`
    .${Le.UNDO_BTN_CLASS} {
      margin-left: auto; 
      padding: 8px 12px; 
      background: none;
      border: none;
      border-radius: 4px; 
      cursor: pointer;     
      font-weight: 600;
      font-size: 0.875rem; 
      text-transform: uppercase; 
      letter-spacing: 0.08em; 
      color: inherit; 
      transition: background-color 0.2s ease;
    }
    .${Le.UNDO_BTN_CLASS}:hover {
      background-color: rgba(255, 255, 255, 0.15); 
    }
  `,document.head.appendChild(a)}function ka(e){e?.classList.add(Re.INPUT_ERROR)}function Bn(e){e?.classList.remove(Re.INPUT_ERROR)}function kf(e){if(!e||e.length===0)return"";let t=e.map(a=>`S${a}`);return t.length===1?t[0]:t.length===2?t.join(" y "):`${t.slice(0,-1).join(", ")} y ${t[t.length-1]}`}function ui(e){!e||e.dataset.errorListenerAttached||(e.addEventListener("input",()=>Bn(e),{once:!0}),e.dataset.errorListenerAttached="true")}function $f(e,t,a,n){if(!e)return!0;Bn(e);let l=e.value.trim(),i=!1;return l?/^\d+$/.test(l)?l.length!==Ut.SERVICE_NUMBER_LENGTH&&(n.digitLength.push(t),i=!0):(n.nonNumeric.push(t),i=!0):a&&(n.emptyRequiredS1=!0,i=!0),i?(ka(e),ui(e),!1):!0}function ST(e){let t=[];return e.nonNumeric.length>0&&t.push(`El n\xFAmero de servicio ${kf(e.nonNumeric)} debe contener solo d\xEDgitos.`),e.digitLength.length>0&&t.push(`El n\xFAmero de servicio ${kf(e.digitLength)} debe tener ${Ut.SERVICE_NUMBER_LENGTH} d\xEDgitos.`),t}function xo(){let e=!0;return[document.getElementById(G.DATE_INPUT),document.getElementById(G.DIET_TYPE_SELECT)].filter(Boolean).forEach(a=>{Bn(a),a.value.trim()||(ka(a),ui(a),e=!1)}),e}function zo(){let e={emptyRequiredS1:!1,nonNumeric:[],digitLength:[]},t=!0,a=document.getElementById(`${G.SERVICE_NUMBER_PREFIX}1`);if(!a)return console.error("Validation: No se ha encontrado el input para el servicio S1."),!1;t=$f(a,1,!0,e)&&t;for(let l=2;l<=4;l++){let i=document.getElementById(`${G.SERVICE_NUMBER_PREFIX}${l}`);i&&(t=$f(i,l,!1,e)&&t)}if(t)return!0;let n=ST(e);return n.length>0&&R(n.join(`
`),"error"),!1}function ce(e){return typeof e!="string"?"":e.trim().replace(/[<>&"'`]/g,"").trim()}function wo(e){return e?/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/.test(e):!0}function Wf(e,t,a,n){let l=e?.value.trim()||"";return l&&!Ut.PERSON_NAME_ALLOWED_CHARS.test(l)?(ka(t),!1):l.length>Ut.PERSON_NAME_MAX_LENGTH?(ka(t),n.push(`El nombre del ${a} no puede superar los ${Ut.PERSON_NAME_MAX_LENGTH} caracteres.`),!1):!0}function em(){let e=document.getElementById(G.VEHICLE_INPUT),t=document.getElementById(G.PERSON1_INPUT),a=document.getElementById(G.PERSON2_INPUT),n=t?.closest(Rn.PERSON_INPUT_GROUP),l=a?.closest(Rn.PERSON_INPUT_GROUP);Bn(e),Bn(n),Bn(l);let i=e?.value.trim()||"",o=t?.value.trim()||"",u=a?.value.trim()||"",s=!0,r=[];return i||(ka(e),r.push("El campo Veh\xEDculo es obligatorio."),s=!1),s=Wf(t,n,"Conductor",r)&&s,s=Wf(a,l,"Ayudante",r)&&s,!o&&!u&&(ka(n),ka(l),r.push("Debe indicar al menos un Conductor o Ayudante."),s=!1),s||(ui(e),ui(t),ui(a),R(r.join(`
`),"error")),s}function tm(){let e=Ut.PERSON_NAME_ALLOWED_CHARS,t=/^[^\x00-\x1F\x7F<>&"'`]*$/u;function a(r){let c=r.target.value;e.test(c)||(r.target.value=c.replace(/[^a-zA-Z\s'’áéíóúàèìòùäëïöüñçÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÑÇ.]/g,""))}function n(r){let c=r.target.value;t.test(c)||(r.target.value=c.replace(/[<>&"'`]/g,"").trim())}function l(r){r.key==="Enter"||r.key==="Tab"||r.ctrlKey||r.metaKey||r.altKey||r.key.length>1||e.test(r.key)||r.preventDefault()}function i(r){r.key==="Enter"||r.key==="Tab"||r.ctrlKey||r.metaKey||r.altKey||r.key.length>1||t.test(r.key)||r.preventDefault()}[document.getElementById(G.PERSON1_INPUT),document.getElementById(G.PERSON2_INPUT)].filter(Boolean).forEach(r=>{r.addEventListener("input",a),r.addEventListener("keypress",l)}),document.querySelectorAll(".service .origin, .service .destination").forEach(r=>{r.addEventListener("input",n),r.addEventListener("keypress",i)});let s=document.getElementById(G.VEHICLE_INPUT);s&&s.addEventListener("input",r=>{r.target.value.length>Ut.VEHICLE_MAX_LENGTH&&(r.target.value=r.target.value.slice(0,Ut.VEHICLE_MAX_LENGTH))})}var hT=["3.6","3.51","3.22","3.11"],In={CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips"},ci={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group"},ae={SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",SERVICE_COLORS:["service-1","service-2","service-3","service-4"],OPTIONS_MENU_HIDDEN:"hidden",CHIP_ACTIVE:"chip-active"},pT=[".chip-group-title",".chip-group",".btn-ocr-inline",".section-divider"],vT=[".destination",".destination-time"],am=!1,Un=0,pe=[],di=[],nm=[],Fs=null,si=null,xt=null,ri=null,TT=null,yT=[],fa=[],zt=["","","",""];function AT(){si&&(si.innerHTML="",di=pe.map((e,t)=>{let a=document.createElement("button");return a.className=`service-button ${ae.SERVICE_COLORS[t]}`,a.textContent=`S${t+1}`,a.type="button",a.setAttribute("aria-label",`Mostrar servei ${t+1}`),a.addEventListener("click",()=>OT(t)),si.appendChild(a),a}))}function CT(){!xt||!ri||(ri.addEventListener("click",e=>{e.stopPropagation(),xt.classList.toggle(ae.OPTIONS_MENU_HIDDEN)}),document.addEventListener("click",e=>{!ri?.contains(e.target)&&!xt?.contains(e.target)&&xt.classList.add(ae.OPTIONS_MENU_HIDDEN)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&xt&&xt.classList.add(ae.OPTIONS_MENU_HIDDEN)}),xt.addEventListener("click",e=>{e.target.closest("button")&&xt.classList.add(ae.OPTIONS_MENU_HIDDEN)}))}function _T(e,t){let a=e.querySelector(t);return a?a.closest(ci.FORM_GROUP):null}function Ho(e,t){if(!e)return;let a=t!=="3.6";vT.forEach(l=>{_T(e,l)?.classList.toggle(ae.SERVICE_HIDDEN,a)});let n=e.querySelector(".origin");n&&(a?n.setAttribute("enterkeyhint","done"):n.removeAttribute("enterkeyhint"))}function bT(e){TT&&yT.forEach(t=>t.classList.toggle(ae.CHIP_ACTIVE,t.dataset.mode===e))}function Vo(e,t){e.querySelectorAll(ci.CHIP).forEach(n=>n.classList.toggle(ae.CHIP_ACTIVE,n.dataset.mode===t))}function DT(){pe.forEach((e,t)=>{e.querySelectorAll(ci.CHIP).forEach(n=>{n.addEventListener("click",()=>{let l=n.dataset.mode;if(!hT.includes(l)){console.error(`Intent de canviar a un mode inv\xE0lid: "${l}". Acci\xF3 bloquejada.`);return}if(fa[t]===l)return;fa[t]=l,Vo(e,l),Ho(e,l);let i=e.querySelector(".chip-group");i&&(ae.SERVICE_COLORS.forEach(o=>i.classList.remove(o)),i.classList.add(ae.SERVICE_COLORS[t])),wt()})})})}function Js(e){let t=ae.SERVICE_COLORS[e],a=(n,l)=>{n&&(n.classList.remove(...ae.SERVICE_COLORS),n.classList.add(l,t))};a(document.getElementById(In.CLEAR_BTN),"clear-selected-btn"),a(document.getElementById(In.CAMERA_BTN),"camera-btn"),a(document.getElementById("notes-selected-service"),"notes-btn"),a(ri,"options-btn")}function lm(){if(!am&&(nm=document.querySelectorAll(ci.SERVICE_PANEL),Fs=document.getElementById(In.CONTAINER),si=document.getElementById(In.BUTTONS_CONTAINER),xt=document.getElementById(In.OPTIONS_MENU),ri=document.getElementById(In.OPTIONS_TOGGLE_BTN),!(!Fs||!si)&&(pe=Array.from(Fs.querySelectorAll(ci.SERVICE_PANEL)),!!pe.length))){if(fa=pe.map(()=>"3.6"),AT(),CT(),DT(),pe.length>0&&di.length>0){pe.forEach((a,n)=>a.classList.toggle(ae.SERVICE_HIDDEN,n!==0)),di[0].classList.add(ae.BUTTON_ACTIVE);let e=fa[0];Ho(pe[0],e),Vo(pe[0],e);let t=pe[0].querySelector(".chip-group");t&&t.classList.add(ae.SERVICE_COLORS[0]),bT(e),Js(0)}am=!0}}function OT(e){if(e<0||e>=pe.length||e===Un)return;pe[Un].classList.add(ae.SERVICE_HIDDEN),pe[e].classList.remove(ae.SERVICE_HIDDEN),di[Un].classList.remove(ae.BUTTON_ACTIVE),di[e].classList.add(ae.BUTTON_ACTIVE),Un=e;let t=fa[e];Ho(pe[e],t),Vo(pe[e],t);let a=pe[e].querySelector(".chip-group");a&&(ae.SERVICE_COLORS.forEach(n=>a.classList.remove(n)),a.classList.add(ae.SERVICE_COLORS[e])),Js(e)}var $a=()=>Un,im=e=>{if(e>=0&&e<fa.length)return fa[e]};function om(e){e&&e.querySelectorAll("input, select, textarea").forEach(t=>{t.type==="checkbox"||t.type==="radio"?t.checked=!1:t.type!=="button"&&t.type!=="submit"&&t.type!=="reset"&&(t.value=""),t.tagName==="SELECT"&&(t.selectedIndex=0)})}function ks(){Js(Un)}function um(e,t){if(e<0||e>=pe.length)return;fa[e]=t;let a=pe[e];a&&(Vo(a,t),Ho(a,t),wt())}function xn(e){let t=e==="TSNU";nm.forEach(a=>{pT.forEach(n=>{a.querySelector(n)?.classList.toggle(ae.SERVICE_HIDDEN,t)})})}function fi(e){e&&e.querySelectorAll(".input-error").forEach(t=>t.classList.remove("input-error"))}var Go=class{constructor({id:t="",date:a="",dietType:n="",vehicleNumber:l="",person1:i="",person2:o="",signatureConductor:u="",signatureAjudant:s="",services:r=[],serviceType:c="TSU",timeStampDiet:S=new Date().toISOString()}={}){this.id=String(t),this.date=String(a),this.dietType=String(n),this.vehicleNumber=String(l),this.person1=String(i),this.person2=String(o),this.signatureConductor=String(u),this.signatureAjudant=String(s),this.services=Array.isArray(r)?r:[],this.serviceType=String(c),this.timeStampDiet=String(S)}};function NT(){let e="dietSalt",t=(n=16)=>Array.from({length:n},()=>Math.floor(Math.random()*256).toString(16).padStart(2,"0")).join(""),a=localStorage.getItem(e);if(!a){if(window.crypto?.getRandomValues){let n=crypto.getRandomValues(new Uint8Array(16));a=Array.from(n).map(l=>l.toString(16).padStart(2,"0")).join("")}else console.warn("[pseudoId] crypto.getRandomValues no disponible; usant Math.random() (menys segur, nom\xE9s mode desenvolupament)."),a=t(16);localStorage.setItem(e,a)}return a}async function zn(e){if(!window.crypto?.subtle)return console.warn("[pseudoId] WebCrypto no disponible (context no segur). S\u2019usar\xE0 l\u2019ID en clar nom\xE9s en aquesta sessi\xF3."),e;let a=new TextEncoder().encode(NT()+e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(l=>l.toString(16).padStart(2,"0")).join("")}var $s=new Intl.RelativeTimeFormat("es",{numeric:"auto"});function sm(e){if(!(e instanceof Date)||isNaN(e.getTime()))throw new Error("La data proporcionada no \xE9s v\xE0lida.");let t=Date.now()-e.getTime();if(t<0)return"en el futuro";let a=Math.round(t/1e3);if(a<45)return"hace unos segundos";if(a<90)return"hace un minuto";let n=Math.round(a/60);if(n<60)return $s.format(-n,"minute");let l=Math.round(n/60);if(l<24)return $s.format(-l,"hour");let i=Math.round(l/24);return $s.format(-i,"day")}var wn={},ma={debug:10,info:20,warn:30,error:40,silent:50};function LT(){if(typeof wn<"u"&&wn.env){if(typeof wn.env.MODE=="string")return wn.env.MODE;if(typeof wn.env.NODE_ENV=="string")return wn.env.NODE_ENV}return typeof process<"u"&&process.env?"production":typeof window<"u"&&typeof window.__APP_ENV__=="string"?window.__APP_ENV__:"development"}var qo=LT()==="production"?ma.warn:ma.debug,Ws=new Set;function MT(e){for(let t of Ws)try{t(e)}catch{}}function RT(e){return typeof console>"u"?null:e==="debug"&&typeof console.debug=="function"?console.debug.bind(console):e==="info"&&typeof console.info=="function"?console.info.bind(console):e==="warn"&&typeof console.warn=="function"?console.warn.bind(console):e==="error"&&typeof console.error=="function"?console.error.bind(console):console.log?console.log.bind(console):null}function BT(e,t){let a=new Date().toISOString();return t?[`[${a}] [${t}] [${e.toUpperCase()}]`]:[`[${a}] [${e.toUpperCase()}]`]}function rm(e){return ma[e]>=qo&&qo<ma.silent}function Po(e,t,a){if(!rm(e))return;let n=RT(e);n&&n(...BT(e,t),...a)}function er(e){let t=e;return{debug:(...a)=>Po("debug",t,a),info:(...a)=>Po("info",t,a),warn:(...a)=>Po("warn",t,a),error:(...a)=>Po("error",t,a),isEnabled(a="debug"){return rm(a)},withScope(a){let n=t?`${t}:${a}`:a;return er(n)}}}var $={...er("App"),setLevel(e){if(!ma[e])throw new Error(`Nivell de log desconegut: ${e}`);qo=ma[e],MT(e)},getLevel(){let e=Object.entries(ma).find(([,t])=>t===qo);return e?e[0]:"debug"},subscribe(e){return Ws.add(e),()=>Ws.delete(e)},withScope(e){return er(e)}},b_=Object.freeze({...ma});var IT="DietasDB";var Ht="dietas",cm="dateIndex",at=null;function dm(){return new Promise((e,t)=>{let a=indexedDB.open(IT,1);a.onupgradeneeded=n=>{let l=n.target.result,i;l.objectStoreNames.contains(Ht)?i=n.target.transaction.objectStore(Ht):i=l.createObjectStore(Ht,{keyPath:"id"}),i.indexNames.contains(cm)||i.createIndex(cm,"date",{unique:!1})},a.onsuccess=n=>{at=n.target.result,at.onclose=()=>at=null,at.onerror=()=>at=null,at.onversionchange=()=>at.close(),e(at)},a.onerror=n=>t(n.target.error),a.onblocked=()=>t(new Error("IndexedDB bloquejat per una altra pestanya"))})}async function mi(e="readonly"){return(at??(at=await dm())).transaction(Ht,e)}function gi(e,t){return new Promise((a,n)=>{e.onsuccess=l=>a(l.target.result),e.onerror=l=>n(new Error(`${t}: ${l.target.error}`))})}function tr(e){return new Promise((t,a)=>{e.oncomplete=()=>t(),e.onerror=()=>a(e.error),e.onabort=()=>a(e.error)})}async function ar(e){try{let t=await mi("readwrite");return gi(t.objectStore(Ht).add(e),"No s'ha pogut afegir"),await tr(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function fm(e){try{let t=await mi("readwrite");return gi(t.objectStore(Ht).put(e),"No s'ha pogut actualitzar"),await tr(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function Wa(e){if(!e)return;let t=await mi();return gi(t.objectStore(Ht).get(e),"Error obtenint dieta")}async function Yo(){let e=await mi();return gi(e.objectStore(Ht).getAll(),"Error llistant dietes")}async function mm(e){if(!e)return;let t=await mi("readwrite");gi(t.objectStore(Ht).delete(e),"Error eliminant dieta"),await tr(t)}async function gm(){return at??(at=await dm())}var UT="save-pill",xT=".pill-text",Vt={VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error"},Em=2e3;var ga=null,nr=null,en=null,Ei=null,lr=!1;function Sm(){if(!ga){if(ga=document.getElementById(UT),nr=ga?.querySelector(xT),!ga||!nr)throw new Error("Elements de la p\xEDndola no trobats al DOM.");ga.setAttribute("role","status"),ga.setAttribute("aria-live","polite")}return{pillEl:ga,textEl:nr}}function ir(e,t){try{let{pillEl:a,textEl:n}=Sm();a.classList.add(Vt.VISIBLE),a.classList.remove(Vt.HAS_CHANGES,Vt.SAVING,Vt.HAS_SAVED,Vt.ERROR),t&&a.classList.add(t),n.textContent=e.replace(/[<>&]/g,"")}catch(a){console.warn("[saveIndicator] Error mostrant p\xEDndola:",a)}}function jo(e="Guardando\u2026"){clearTimeout(Ei),ir(e,Vt.SAVING)}function Xo(){clearTimeout(Ei),lr=!1,ir("Guardado",Vt.HAS_SAVED),clearTimeout(en),en=setTimeout(or,Em)}function Si(e="No se pudo guardar"){clearTimeout(Ei),ir(e,Vt.ERROR),clearTimeout(en),en=setTimeout(or,Em*2)}function or(e=!1){try{if(Sm(),clearTimeout(en),lr&&!e)return;ga?.classList.remove(Vt.VISIBLE),en=null}catch(t){console.warn("[saveIndicator] Error amagant p\xEDndola:",t)}}function hi(){lr=!1,clearTimeout(Ei),or(!0)}window.addEventListener("pagehide",()=>{clearTimeout(en),clearTimeout(Ei)});var ur=Promise.resolve(),sr=!1,rr=!1,tn=!1,hm=$.withScope("DietService");async function zT(e,t,a){if(!e||!Array.isArray(t)||!a)throw new Error("Datos incompletos para construir la dieta.");if(!/^\d{9}$/.test(a))throw new Error("ID de dieta inv\xE1lido. Debe contener 9 d\xEDgitos.");for(let o of t)if(!wo(o.originTime)||!wo(o.destinationTime)||!wo(o.endTime))throw new Error("Formato de hora inv\xE1lido detectado. Use HH:mm.");let n=await zn(a),l=new Date().toISOString(),i={id:n,date:ce(e.date),dietType:ce(e.dietType),vehicleNumber:ce(e.vehicleNumber),person1:ce(e.person1),person2:ce(e.person2),signatureConductor:e.signatureConductor,signatureAjudant:e.signatureAjudant,services:t.map(o=>({serviceNumber:ce(o.serviceNumber),origin:ce(o.origin),destination:ce(o.destination),originTime:o.originTime,destinationTime:o.destinationTime,endTime:o.endTime,mode:ce(o.mode),notes:ce(o.notes)||""})),serviceType:ce(e.serviceType),timeStampDiet:l};return new Go(i)}function wT(){let e=document.getElementById(G.DADES_TAB),t=document.getElementById(G.SERVEIS_TAB);e?.classList.remove(Re.ERROR_TAB),t?.classList.remove(Re.ERROR_TAB);let a=xo(),n=zo();if(a&&n)return!0;let l="";return!a&&!n?(l="Completa los campos obligatorios en Datos y Servicios.",e?.classList.add(Re.ERROR_TAB),t?.classList.add(Re.ERROR_TAB)):a?(l="Completa los campos obligatorios en la pesta\xF1a Servicios.",t?.classList.add(Re.ERROR_TAB)):(l="Completa los campos obligatorios en la pesta\xF1a Datos.",e?.classList.add(Re.ERROR_TAB)),R(l,"error"),!1}function HT(e){if(!e)return;let t=l=>document.getElementById(l);t(G.DATE_INPUT).value=e.date||"",t(G.DIET_TYPE_SELECT).value=e.dietType||"",t(G.VEHICLE_INPUT).value=e.vehicleNumber||"",t(G.PERSON1_INPUT).value=e.person1||"",t(G.PERSON2_INPUT).value=e.person2||"";let a=t(G.SERVICE_TYPE_SELECT);a&&(a.value=e.serviceType||"TSU",xn(a.value)),Qo(e.signatureConductor||""),Ko(e.signatureAjudant||"");let n=document.querySelectorAll(Zf);e.services.forEach((l,i)=>{let o=n[i];o&&(Object.entries(Qs).forEach(([u,s])=>{if(!s)return;let r=o.querySelector(s);r&&(r.value=l[u]||"")}),um(i,l.mode||"3.6"),fi(o),zt[i]=l.notes||"")});for(let l=e.services.length;l<n.length;l++){let i=n[l];i&&(Object.values(Qs).forEach(o=>{if(!o)return;let u=i.querySelector(o);u&&(u.value="")}),fi(i),zt[l]="")}}async function dr(e){if(tn=tn||e,sr)return rr=!0,ur;sr=!0;let t=tn;tn=!1;let a=(async()=>{let{generalData:n,servicesData:l}=Zo(),i=l[0]?.serviceNumber?.slice(0,9)||"";if(!i||!/^\d{9}$/.test(i)){t&&R("El primer servicio debe tener un N.\xBA de servicio v\xE1lido.","error");return}let o=await zn(i),u=await Wa(o);t&&jo(!u?"Guardando nueva dieta\u2026":"Guardando\u2026"),cr(!1);try{if(await new Promise(S=>setTimeout(S,500)),!wT()){t&&Si("Validaci\xF3n fallida");return}let c=await zT(n,l,i);u?await fm(c):await ar(c),pi=new Date,gr(),t&&R("Dieta guardada correctament.","success"),Hn(),Xo(),t&&await vi()}catch(c){hm.error("Error en performSave:",c),Si(c.message||"No se pudo guardar"),t&&R(`Error al guardar: ${c.message}`,"error")}finally{cr(!0)}})();ur=a;try{await a}finally{if(sr=!1,rr||tn){let n=tn;return tn=!1,rr=!1,dr(n)}}return ur}async function pm(){Tm(),await dr(!0)}async function fr(){await dr(!1)}async function vm(e){if(!e||typeof e!="string")throw new Error("ID inv\xE0lid");let t=e.length===64?await Wa(e):await Wa(await zn(e));if(!t)throw new Error(`Dieta no trobada: ${e}`);HT(t),Hn(),t.timeStampDiet&&(pi=new Date(t.timeStampDiet),gr()),R("Dieta cargada correctamente.","success"),Er()}async function mr(e,t,a){if(e)try{let n=await Wa(e);if(!n){R("Error: Dieta no trobada","error");return}let i=(await Yo()).sort((o,u)=>new Date(u.timeStampDiet)-new Date(o.timeStampDiet));n.index=i.findIndex(o=>o.id===e),await mm(e),R("Dieta eliminada","success",5e3,{priority:2,queueable:!1,undoCallback:async()=>{await ar(n),hr(n),R("Dieta restaurada","success",3e3,{priority:0})},onExpire:()=>{Sr(e)}}),Hn(),hi()}catch(n){hm.error("Error en deleteDietHandler:",n),R("Error al eliminar la dieta","error")}}var pi=null;function gr(){let e=document.getElementById("last-saved");e&&(e.textContent=pi?sm(pi):"")}setInterval(()=>{pi&&gr()},6e4);var ym={[oi.LUNCH]:"comida",[oi.DINNER]:"cena",DEFAULT:"dieta"},an={TOP_BAR:Re.TOP_BAR_TAPS,FOOTER:Re.FOOTER_TAPS,TIMEOUT:Re.TIMEOUT,ANIMATION_DURATION:Re.ANIMATION_DURATION};function Am(e){if(!e)return;let t=document.body;if(!t)return;let a=t.dataset?.cspNonce||t.getAttribute("data-csp-nonce")||"";a&&!e.getAttribute("nonce")&&e.setAttribute("nonce",a)}function Cm(){let e=document.getElementById(G.DATE_INPUT);if(!e){console.warn("Utils: Input de data no trobat.");return}try{e.valueAsDate=new Date}catch(t){console.error("Error establint la data d'avui:",t)}}function _m(e){return typeof e!="string"||!e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function Gn(e){return e?e.split(" ").map(t=>t.includes(".")?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):""}function pr(){let e=new Date().getHours();return e>=6&&e<18?oi.LUNCH:oi.DINNER}function bm(){let e=document.getElementById(G.DIET_TYPE_SELECT);if(!e){console.warn("Utils: Select de tipus de dieta no trobat.");return}e.value=pr()}function vr(e,t){let a="Data inv\xE0lida";if(e&&/^\d{4}-\d{2}-\d{2}$/.test(e))try{let l=e.split("-"),i=l[0].slice(-2);a=`${l[2]}/${l[1]}/${i}`}catch(l){console.error("Error formatant data:",l)}let n=ym[t]||ym.DEFAULT;return{ddmmaa:a,franjaText:n}}var Ae={topBarTaps:0,footerTaps:0,tapTimeoutId:null};function Vn(){Ae.topBarTaps=0,Ae.footerTaps=0,Ae.tapTimeoutId&&(clearTimeout(Ae.tapTimeoutId),Ae.tapTimeoutId=null)}function VT(){if(document.querySelector(G.EASTER_EGG_OVERLAY))return;let e=document.createElement("div");e.className=G.EASTER_EGG_OVERLAY.substring(1);let t=document.createElement("div");t.className=G.EASTER_EGG_ICON.substring(1),t.innerHTML='<img src="assets/icons/egg.svg" alt="Easter Egg">',e.appendChild(t),document.body.appendChild(e);let a=n=>{n.stopPropagation(),t.classList.add("clicked"),setTimeout(()=>e.remove(),an.ANIMATION_DURATION)};e.addEventListener("click",a)}function Dm(){let e=document.querySelector(G.TOP_BAR),t=document.querySelector(G.FOOTER);if(!e||!t){console.warn("Easter Egg: No s'han trobat top bar o footer.");return}e.addEventListener("touchend",a=>{a.changedTouches.length===1?(Ae.topBarTaps++,Ae.tapTimeoutId&&clearTimeout(Ae.tapTimeoutId),Ae.tapTimeoutId=setTimeout(Vn,an.TIMEOUT),Ae.topBarTaps>an.TOP_BAR&&Vn()):Vn()}),t.addEventListener("touchend",a=>{Ae.topBarTaps===an.TOP_BAR&&a.changedTouches.length===1&&(Ae.footerTaps++,Ae.tapTimeoutId&&clearTimeout(Ae.tapTimeoutId),Ae.tapTimeoutId=setTimeout(Vn,an.TIMEOUT),Ae.footerTaps===an.FOOTER?(VT(),Vn()):Ae.footerTaps>an.FOOTER&&Vn())})}function Ti(e,t){let a,n=function(...l){clearTimeout(a),a=setTimeout(()=>e.apply(this,l),t)};return n.cancel=()=>clearTimeout(a),n}var je={IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount"},Lm=2,Om=10,nn=null,Tr=null,yr=null,ln=null,Nm=!1,w=$.withScope("PWA"),Ar=(e,t=0)=>parseInt(localStorage.getItem(e)||String(t),10),Cr=e=>localStorage.getItem(e)==="true",on=(e,t)=>localStorage.setItem(e,String(t));function Mm(){let e=window.matchMedia("(display-mode: standalone)").matches,t=window.navigator.standalone===!0;return e||t||Cr(je.IS_INSTALLED)}function GT(e=!1){if(w.debug("Intentant mostrar el b\xE0ner d'instal\xB7laci\xF3..."),Mm()){w.debug("Bloquejat: L'app ja est\xE0 instal\xB7lada.");return}if(Cr(je.NEVER_SHOW_AGAIN)){w.debug("Bloquejat: L'usuari ha demanat no tornar a mostrar.");return}if(!nn){w.debug("Bloquejat: No hi ha cap event d'instal\xB7laci\xF3 guardat.");return}if(!ln){w.debug("Bloquejat: L'element HTML del b\xE0ner no s'ha trobat.");return}w.info("Mostrant el b\xE0ner!"),ln.classList.add("visible"),ln.classList.remove("hidden")}function Rm(){w.debug("Amagant el b\xE0ner."),ln?.classList.remove("visible"),ln?.classList.add("hidden")}function PT(){w.info("L'usuari ha descartat el b\xE0ner."),Rm();let e=Ar(je.PROMPT_DISMISSED_COUNT);e++,on(je.PROMPT_DISMISSED_COUNT,e),w.debug(`Comptador de descartats actualitzat a: ${e}`),e>=Lm&&(on(je.NEVER_SHOW_AGAIN,!0),w.info("S'ha assolit el l\xEDmit de descartats. No es tornar\xE0 a mostrar."))}async function qT(){if(w.info("L'usuari ha fet clic a 'Instal\xB7lar'."),!nn){w.warn("El bot\xF3 d'instal\xB7lar s'ha premut, per\xF2 no hi havia cap event guardat.");return}Rm();try{nn.prompt();let{outcome:e}=await nn.userChoice;w.info(`Resultat de la decisi\xF3 de l'usuari: ${e}`),e==="accepted"?(on(je.IS_INSTALLED,!0),on(je.NEVER_SHOW_AGAIN,!0),w.info("L'usuari ha acceptat la instal\xB7laci\xF3! :)")):w.info("L'usuari ha rebutjat la instal\xB7laci\xF3 des del di\xE0leg del navegador.")}catch(e){w.error("Error durant el proc\xE9s de prompt d'instal\xB7laci\xF3:",e)}finally{nn=null}}function YT(e){e.preventDefault(),nn=e,w.debug("Event 'beforeinstallprompt' capturat i guardat.")}function Bm(){Nm||(w.debug("Inicialitzant el gestor d'instal\xB7laci\xF3..."),ln=document.getElementById("install-prompt"),Tr=document.getElementById("install-button"),yr=document.getElementById("dismiss-button"),ln&&Tr&&yr?(Tr.addEventListener("click",qT),yr.addEventListener("click",PT),w.debug("Botons del b\xE0ner d'instal\xB7laci\xF3 configurats.")):w.warn("No s'han trobat tots els elements del b\xE0ner d'instal\xB7laci\xF3."),window.addEventListener("beforeinstallprompt",YT),window.matchMedia("(display-mode: standalone)").addEventListener("change",e=>{e.matches&&(w.info("Detectat canvi a mode 'standalone'. Marcat com instal\xB7lat."),on(je.IS_INSTALLED,!0),on(je.NEVER_SHOW_AGAIN,!0))}),Nm=!0,w.debug("Gestor d'instal\xB7laci\xF3 inicialitzat correctament."))}function Im(){if(w.debug("------------------------------------------"),w.debug("Comprovant si s'ha de mostrar el b\xE0ner despr\xE9s d'una acci\xF3..."),Mm()){w.debug("[Check] No es mostra: L'app ja est\xE0 instal\xB7lada.");return}if(Cr(je.NEVER_SHOW_AGAIN)){w.debug("[Check] No es mostra: L'usuari ha demanat no tornar a veure'l.");return}if(!nn){w.debug("[Check] No es mostra: El navegador no ha ofert la possibilitat d'instal\xB7lar (deferredPrompt \xE9s nul).");return}let e=Ar(je.ACTION_TRIGGER_COUNT);e++,on(je.ACTION_TRIGGER_COUNT,e),w.debug(`Comptador d'accions incrementat a: ${e}`);let t=Ar(je.PROMPT_DISMISSED_COUNT);w.debug(`Vegades que s'ha descartat el b\xE0ner: ${t}`);let a=e===1&&t===0||e>=Om&&t<Lm;w.debug(`Es compleixen les condicions per mostrar? ${a}`),a?(setTimeout(()=>GT(),1500),e>=Om):w.debug("No es mostra el b\xE0ner aquesta vegada."),w.debug("------------------------------------------")}var Pn={OUTER_MARGIN:55,INNER_PADDING:10},nt={TEMPLATE_URLS:{DEFAULT:"./dieta.pdf"},SERVICE_Y_OFFSET:82,SIGNATURE_WIDTH:100,SIGNATURE_HEIGHT:50,WATERMARK_TEXT:"misdietas.com",DEFAULT_FILENAME:"dieta.pdf",SERVICE_NUMBER_COLOR:"#004aad",MODE_PREFIX_TEXT_COLOR:"#8B0000",MAX_SIGNATURE_NAME_LENGTH:31,MAX_ORIGIN_LENGTH:30,MAX_DESTINATION_LENGTH:30},B={general:{date:{x:155,y:732,size:16,color:"#000000"},vehicleNumber:{x:441,y:732,size:16,color:"#000000"},person1:{x:65,y:368,size:16,color:"#000000"},person2:{x:310,y:368,size:16,color:"#000000"}},service:{serviceNumber:{x:130,y:715,size:16,color:"#000000"},origin:{x:229,y:698,size:14,color:"#000000"},originTime:{x:441,y:698,size:16,color:"#000000"},destination:{x:229,y:683,size:14,color:"#000000"},destinationTime:{x:441,y:681,size:16,color:"#000000"},endTimeNormal:{x:441,y:665,size:16,color:"#000000"},endTimeModeText:{x:390,y:665,size:16,color:nt.MODE_PREFIX_TEXT_COLOR},endTimeValueWhenPrefixed:{x:441,y:665,size:16,color:"#000000"}},signature:{conductor:{x:125,y:295,width:100,height:50},ayudante:{x:380,y:295,width:100,height:50}},notesSection:{title:{x:65,y:250,size:16,color:"#000000"},lineHeight:18,maxWidth:465,start:{x:65,y:230,size:16,color:"#333333"}},fixedText:{website:{x:250,y:20,size:6,color:"#EEEEEE"}}},jT=$.withScope("PdfTemplate");function XT(e){return!e||typeof e!="string"||e.trim()===""?"":e.split(/\s+/).filter(Boolean).map(t=>t.includes("-")?t.split("-").map(a=>a?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():"").join("-"):t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function QT(e){if(!e||typeof e!="string")return{r:0,g:0,b:0};let t=e.replace("#","");if(t.length!==6)return{r:0,g:0,b:0};let a=parseInt(t,16);return Number.isNaN(a)?{r:0,g:0,b:0}:{r:a>>16&255,g:a>>8&255,b:a&255}}function Um(e,t){return!e||e.length<=t?e:e.substring(0,t-3)+"..."}function Fo(e){if(!e||!/^\d{4}-\d{2}-\d{2}$/.test(e))return"";let[t,a,n]=e.split("-");return`${n}/${a}/${t}`}function KT(){return nt.TEMPLATE_URLS.DEFAULT}async function _r(e,t){if(!e||!Array.isArray(t))throw new Error("Dades inv\xE0lides.");if(!window.PDFLib)throw new Error("PDFLib no carregada.");let{PDFDocument:a,StandardFonts:n,rgb:l}=window.PDFLib,i=KT(),o=await fetch(i).then(T=>T.arrayBuffer()),u=await a.load(o),s=await u.embedFont(n.Helvetica),r=u.getPages()[0],c=T=>{let{r:_,g:C,b:D}=QT(T);return l(_/255,C/255,D/255)};Object.entries(B.general).forEach(([T,_])=>{let C=e[T]||"";T==="date"&&(C=Fo(C)),T==="vehicleNumber"&&(C=C.toUpperCase()),(T==="person1"||T==="person2")&&(C=XT(C),C.length>nt.MAX_SIGNATURE_NAME_LENGTH&&(C=C.slice(0,nt.MAX_SIGNATURE_NAME_LENGTH-3)+"...")),r.drawText(C,{..._,font:s,color:c(_.color)})}),t.forEach((T,_)=>{let C=_*nt.SERVICE_Y_OFFSET,D=T.mode||"3.6";r.drawText(T.serviceNumber||"",{...B.service.serviceNumber,y:B.service.serviceNumber.y-C,font:s,color:c(nt.SERVICE_NUMBER_COLOR)});let ze=Um(T.origin||"",nt.MAX_ORIGIN_LENGTH),ni=ze.length>23?13:B.service.origin.size;if(r.drawText(ze,{...B.service.origin,y:B.service.origin.y-C,size:ni,font:s,color:c(B.service.origin.color)}),r.drawText(T.originTime||"",{...B.service.originTime,y:B.service.originTime.y-C,font:s,color:c(B.service.originTime.color)}),D==="3.6"){let Bo=Um(T.destination||"",nt.MAX_DESTINATION_LENGTH),Io=Bo.length>23?13:B.service.destination.size;r.drawText(Bo,{...B.service.destination,y:B.service.destination.y-C,size:Io,font:s,color:c(B.service.destination.color)}),r.drawText(T.destinationTime||"",{...B.service.destinationTime,y:B.service.destinationTime.y-C,font:s,color:c(B.service.destinationTime.color)})}let li=(T.endTime||"").trim();D!=="3.6"&&li?(r.drawText(D,{...B.service.endTimeModeText,y:B.service.endTimeModeText.y-C,font:s,color:c(B.service.endTimeModeText.color)}),r.drawText(li,{...B.service.endTimeValueWhenPrefixed,y:B.service.endTimeValueWhenPrefixed.y-C,font:s,color:c(B.service.endTimeValueWhenPrefixed.color)})):r.drawText(li,{...B.service.endTimeNormal,y:B.service.endTimeNormal.y-C,font:s,color:c(B.service.endTimeNormal.color)})});let S=async(T,_)=>{if(typeof T=="string"&&T.startsWith("data:image/png;base64,")&&T.length>22)try{let D=await u.embedPng(T);r.drawImage(D,{..._})}catch(D){jT.warn("No s'ha pogut incrustar una signatura.",D)}};await Promise.all([S(e.signatureConductor,B.signature.conductor),S(e.signatureAjudant,B.signature.ayudante)]);let f=r.getWidth(),g=Pn.OUTER_MARGIN+Pn.INNER_PADDING,v=f-(Pn.OUTER_MARGIN+Pn.INNER_PADDING),y=t.map(T=>({num:T.serviceNumber||"",text:(T.notes||"").trim()})).filter(T=>T.num&&T.text);if(y.length){r.drawLine({start:{x:Pn.OUTER_MARGIN,y:275},end:{x:f-Pn.OUTER_MARGIN,y:275},thickness:.5,color:l(.8,.8,.8)});let _=y.length===1?"Observaci\xF3":"Observacions";r.drawText(_,{...B.notesSection.title,font:s,color:c(B.notesSection.title.color)});let C=B.notesSection.start.y,D=B.notesSection.start.size,ze=B.notesSection.lineHeight,ni=c(B.notesSection.start.color);y.forEach(({num:li,text:Bo})=>{if(C<40)return;let Io=`Servei ${li}: `;r.drawText(Io,{x:g,y:C,font:s,size:D,color:c(nt.SERVICE_NUMBER_COLOR)});let nT=s.widthOfTextAtSize(Io,D),Uo=g+nT;Bo.split(" ").forEach(Xs=>{if(!Xs)return;let Xf=s.widthOfTextAtSize(`${Xs} `,D);Uo+Xf>v&&(C-=ze,Uo=g),r.drawText(`${Xs} `,{x:Uo,y:C,font:s,size:D,color:ni}),Uo+=Xf}),C-=ze*1.5})}let L=nt.WATERMARK_TEXT,m=B.fixedText.website.size,d=s.widthOfTextAtSize(L,m);r.drawText(L,{x:(r.getWidth()-d)/2,y:B.fixedText.website.y,size:m,font:s,color:c(B.fixedText.website.color)});let E=Fo(e.date)||"Dieta",A=`Dieta ${e.dietType==="lunch"?"Comida":e.dietType==="dinner"?"Cena":""} ${E}`.trim().replace(/ +/g," ");u.setTitle(A),u.setAuthor("misdietas.com"),u.setSubject("Justificante de dieta de transporte sanitario"),u.setCreator("MisDietas"),u.setKeywords(["dieta","justificante","transporte sanitario","tsu","tsnu"]);let M=new Date(e.date);return Number.isNaN(M.getTime())||(u.setCreationDate(M),u.setModificationDate(M)),await u.save({permissions:{modifying:!1,copying:!1}})}var qn=new Map;function Yn({src:e,integrity:t,crossOrigin:a="anonymous",referrerPolicy:n="no-referrer",timeoutMs:l=15e3}={}){if(!e||typeof e!="string")return Promise.reject(new Error("loadExternalScript: src inv\xE0lid."));if(qn.has(e))return qn.get(e);let i=document.querySelector(`script[src="${e}"]`);if(i?.dataset?.secureLoaded==="true"){let s=Promise.resolve();return qn.set(e,s),s}let o=i??document.createElement("script");Am(o),o.src=e,o.async=!0,o.crossOrigin=a,o.referrerPolicy=n,t&&(o.integrity=t);let u=new Promise((s,r)=>{let c=null,S=()=>{o.removeEventListener("load",f),o.removeEventListener("error",g),c&&(clearTimeout(c),c=null)},f=()=>{S(),o.dataset.secureLoaded="true",s()},g=()=>{S(),!i&&o.parentNode&&o.parentNode.removeChild(o),qn.delete(e),r(new Error(`Error carregant script: ${e}`))};o.addEventListener("load",f),o.addEventListener("error",g),c=window.setTimeout(()=>{S(),qn.delete(e),!i&&o.parentNode&&o.parentNode.removeChild(o),r(new Error(`Timeout carregant script: ${e}`))},l)});return qn.set(e,u),i||document.head.appendChild(o),u}var xm=!1,Jo=null,zm=$.withScope("PdfService"),ZT="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js",FT="sha384-weMABwrltA6jWR8DDe9Jp5blk+tZQh7ugpCsF3JwSA53WZM9/14PjS5LAJNHNjAI";async function wm(){xm&&window.PDFLib||(Jo||(Jo=Yn({src:ZT,integrity:FT}).then(()=>{if(!window.PDFLib)throw new Error("PDF-Lib no disponible despr\xE9s de carregar script.");xm=!0}).catch(e=>{throw Jo=null,e})),await Jo)}var ko={DADES_TAB:"tab-dades",SERVEIS_TAB:"tab-serveis"},Ea={ERROR_TAB:"error-tab"};function JT(e,t){let a=document.getElementById(ko.DADES_TAB),n=document.getElementById(ko.SERVEIS_TAB);a?.classList.remove(Ea.ERROR_TAB),n?.classList.remove(Ea.ERROR_TAB);let l="";!e&&!t?(l="Completa els camps obligatoris a Dades i Serveis.",a?.classList.add(Ea.ERROR_TAB),n?.classList.add(Ea.ERROR_TAB)):e?(l="Completa els camps obligatoris a Serveis.",n?.classList.add(Ea.ERROR_TAB)):(l="Completa els camps obligatoris a Dades.",a?.classList.add(Ea.ERROR_TAB)),l&&R(l,"error")}function Hm(e,t){let a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>URL.revokeObjectURL(a),500)}function Vm(e,t){let a=Fo(e).replace(/\//g,"_")||"";return a?`${t==="lunch"?"dieta_comida":t==="dinner"?"dieta_cena":"dieta"}_${a}.pdf`:nt.DEFAULT_FILENAME}async function Gm(){let e=xo(),t=zo();if(!e||!t){JT(e,t);return}document.getElementById(ko.DADES_TAB)?.classList.remove(Ea.ERROR_TAB),document.getElementById(ko.SERVEIS_TAB)?.classList.remove(Ea.ERROR_TAB);try{let{generalData:a,servicesData:n}=Zo();if(!a||!n)throw new Error("Dades no recollides.");await wm();let l=await _r(a,n),i=Vm(a.date,a.dietType);Hm(new Blob([l],{type:"application/pdf"}),i),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from main form"}),R("Desc\xE0rrega iniciada correctament.","success"),Im()}catch(a){zm.error("Error generant PDF des del formulari principal:",a),R(`Error en la generaci\xF3 del PDF: ${a.message||"Desconegut"}`,"error")}}async function Pm(e){if(!e){R("ID de dieta inv\xE1lido.","error");return}try{let t=e.length===64?e:await zn(e),a=await Wa(t);if(!a)throw new Error("Dieta no encontrada.");let n={date:a.date||"",dietType:a.dietType||"",vehicleNumber:a.vehicleNumber||"",person1:a.person1||"",person2:a.person2||"",serviceType:a.serviceType||"TSU",signatureConductor:a.signatureConductor||"",signatureAjudant:a.signatureAjudant||""},l=a.services.map(u=>({serviceNumber:u.serviceNumber||"",origin:u.origin||"",originTime:u.originTime||"",destination:u.destination||"",destinationTime:u.destinationTime||"",endTime:u.endTime||"",mode:u.mode||"3.6",notes:u.notes||""}));await wm();let i=await _r(n,l),o=Vm(n.date,n.dietType);Hm(new Blob([i],{type:"application/pdf"}),o),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from saved list"}),R("Descarga iniciada correctamente.","success")}catch(t){zm.error("Error en downloadDietPDF:",t),R(`Error en la generaci\xF3n del PDF: ${t.message||"Desconocido"}`,"error")}}var Q={MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_DELETE_BTN:"diet-delete",DIET_LOAD_BTN:"diet-load",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal"},St={DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",SIGNATURE_MODAL:"signature-modal",DOTACIO_MODAL:"dotacio-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal"},$o={MODAL:".modal",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Gt={DIET_ID:"data-diet-id",DIET_DATE:"data-diet-date",DIET_TYPE:"data-diet-type"},kT=$.withScope("Modals:Manager"),bt=[],br=null,jn=null,Xn=null,qm=new Map;function Qn(){return bt.length>0?bt[bt.length-1]:null}function $T(){jn||(jn=e=>{let t=Qn();if(t&&e.target===t){let a=qm.get(t.id);a?a({reason:"backdrop"}):Sa(t)}},document.addEventListener("click",jn,!0)),Xn||(Xn=e=>{if(e.key!=="Escape")return;let t=Qn();if(!t)return;let a=qm.get(t.id);a?a({reason:"escape"}):Sa(t)},document.addEventListener("keydown",Xn,!0))}function WT(){jn&&(document.removeEventListener("click",jn,!0),jn=null),Xn&&(document.removeEventListener("keydown",Xn,!0),Xn=null)}function ey(e){e.dataset.backdropTouchHandled||(e.addEventListener("touchstart",t=>{t.target===e&&(t.preventDefault(),t.stopPropagation())},{passive:!1}),e.dataset.backdropTouchHandled="true")}function Ym(e){e.style.display="block",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",e.style.setProperty("pointer-events","auto")}function jm(e){e.querySelector($o.FOCUSABLE_ELEMENTS)?.focus()}function Wo(e){if(!e)return;let t=Qn();if(t&&t!==e&&e.id!==St.CONFIRM_MODAL){kT.debug("S'ha ignorat l'obertura perqu\xE8 ja hi ha un modal actiu.");return}let a=bt.includes(e);a||bt.push(e),bt.length===1&&!a&&(br=document.activeElement,document.body.classList.add(Q.MODAL_OPEN_BODY),Qm(),Kn(!1),document.body.style.setProperty("pointer-events","none")),$T(),ey(e),Ym(e),jm(e)}function Sa(e=Qn()){if(!e)return;let t=bt.lastIndexOf(e);if(t===-1){e.style.display="none",e.style.removeProperty("pointer-events");return}if(bt.splice(t,1),e.style.display="none",e.style.removeProperty("pointer-events"),bt.length===0){document.body.classList.remove(Q.MODAL_OPEN_BODY),Kn(!0),Km(),document.body.style.removeProperty("pointer-events"),br?.focus(),br=null,WT();return}let a=Qn();a&&(Ym(a),jm(a))}function Xm(){document.querySelectorAll($o.MODAL_TRIGGER).forEach(t=>{if(t.dataset.modalPrepared==="true")return;let a=t.getAttribute("href")?.substring(1);if(!a)return;let n=document.getElementById(a);n&&n.matches($o.MODAL)&&(t.addEventListener("click",i=>{i.preventDefault(),Wo(n)}),n.querySelectorAll($o.MODAL_CLOSE_BTN).forEach(i=>{i.dataset.modalPrepared!=="true"&&(i.addEventListener("click",()=>Sa(n)),i.dataset.modalPrepared="true")})),t.dataset.modalPrepared="true"})}function Dr(){return bt.length>0}function Or(){return Qn()}var eu=$.withScope("Modals:Diet"),pt=null,ne=null,ht=null,Zm=!1;function yi(){if(Zm)return!0;if(pt=document.getElementById(St.DIET_MODAL),ne=document.getElementById(St.DIET_OPTIONS_LIST),ht=document.getElementById(St.NO_DIETS_TEXT),!pt||!ne||!ht)return eu.warn("No s'han trobat els elements del modal de dietes."),!1;let e=document.getElementById("close-diet-modal");return e&&!e.dataset.modalPrepared&&(e.addEventListener("click",()=>Sa(pt)),e.dataset.modalPrepared="true"),ne.dataset.modalPrepared||(ne.addEventListener("click",ay),ne.dataset.modalPrepared="true"),Zm=!0,!0}function ty(e){if(!e)return"";let t=new Date(e);if(Number.isNaN(t.getTime()))return"";let a=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0");return`${a}:${n}`}function Fm(e){let t=e.services&&e.services.length>0?e.services[0].serviceNumber:"?????????",{ddmmaa:a,franjaText:n}=vr(e.date,e.dietType),l=ty(e.timeStampDiet),i=document.createElement("div");i.className=Q.DIET_ITEM;let o=document.createElement("div");o.className="diet-item-content";let u=document.createElement("span");u.className=Q.DIET_DATE;let s=a;l&&(s+=` [${l}]`),s+=` - ${_m(n)}`,u.textContent=s;let r=document.createElement("div");r.className=Q.DIET_ICONS;let c=document.createElement("div");c.className=Q.DIET_DELETE_REVEAL,c.innerHTML='<img src="assets/icons/delete.svg" alt="Eliminar" class="icon">';let S=document.createElement("button");S.className=`${Q.LIST_ITEM_BTN} ${Q.LIST_ITEM_BTN_LOAD} ${Q.DIET_LOAD_BTN}`,S.setAttribute("aria-label",`Editar dieta ${a}`),S.innerHTML='<img src="assets/icons/ic_edit.svg" alt="" class="icon"><span class="btn-text visually-hidden">Editar</span>',S.setAttribute(Gt.DIET_ID,t),S.setAttribute(Gt.DIET_DATE,e.date),S.setAttribute(Gt.DIET_TYPE,e.dietType);let f=document.createElement("button");return f.className=`${Q.LIST_ITEM_BTN} diet-download`,f.setAttribute("aria-label",`Descarregar PDF de la dieta ${a}`),f.innerHTML='<img src="assets/icons/download_blue.svg" alt="" class="icon"><span class="btn-text visually-hidden">PDF</span>',f.setAttribute(Gt.DIET_ID,t),r.appendChild(S),r.appendChild(f),o.appendChild(u),o.appendChild(r),i.appendChild(o),i.appendChild(c),i}function ay(e){let t=e.target,a=t.closest(`.${Q.DIET_LOAD_BTN}`),n=t.closest(".diet-download");if(a){e.stopPropagation();let l=a.getAttribute(Gt.DIET_ID),i=a.getAttribute(Gt.DIET_DATE),o=a.getAttribute(Gt.DIET_TYPE);if(!l||!i||!o)return;let{ddmmaa:u,franjaText:s}=vr(i,o);vm(l).then(()=>{eu.debug(`Dieta ${u} carregada (${s}).`),Sa(pt)}).catch(r=>{eu.error("Error en carregar la dieta:",r)})}else if(n){e.stopPropagation();let l=n.getAttribute(Gt.DIET_ID);l&&Pm(l)}}function tu(){if(!ne||!ht)return;let e=ne.children.length>0;ne.classList.toggle(Q.HIDDEN,!e),ht.classList.toggle(Q.HIDDEN,e),e||(ht.textContent="No hay dietas guardadas.")}function ny(e,t,a,n){let l=0,i=0,o=!1;e.addEventListener("mousedown",u=>{u.target.closest("button")||u.target.closest(".diet-icons")||(l=u.clientX,i=l,o=!1)}),document.addEventListener("mousemove",u=>{i=u.clientX;let s=l-i;s>10&&!o&&(o=!0,e.classList.add(Q.DIET_ITEM_SWIPING)),o&&s>10&&(e.style.transform=`translateX(-${Math.min(s,80)}px)`,u.preventDefault())}),document.addEventListener("mouseup",async()=>{if(!o)return;o=!1;let u=l-i;e.classList.remove(Q.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",u>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),tu(),await mr(t,a,n)},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function Jm(e,t,a,n){let l=0,i=0,o=!1;e.addEventListener("touchstart",u=>{u.target.closest("button")||u.target.closest(".diet-icons")||(l=u.touches[0].clientX,i=l,o=!1,u.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",u=>{i=u.touches[0].clientX;let s=l-i;s>10&&!o&&(o=!0,e.classList.add(Q.DIET_ITEM_SWIPING),pt&&(pt.style.overflow="hidden")),o&&s>10&&(e.style.transform=`translateX(-${Math.min(s,80)}px)`,u.preventDefault(),u.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async u=>{if(!o)return;o=!1;let s=l-i;e.classList.remove(Q.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",s>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),tu(),await mr(t,a,n)},300)):(e.style.transform="translateX(0)",e.style.opacity="1",pt&&(pt.style.overflow="")),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),u.stopPropagation()}),ny(e,t,a,n)}function km(){yi()}function au(){yi()&&(Wo(pt),vi())}function Er(){Or()===pt&&Sa(pt)}async function vi(){if(yi()){ne.innerHTML="";try{let e=await Yo();if(e.length===0){ne.classList.add(Q.HIDDEN),ht.classList.remove(Q.HIDDEN),ht.textContent="No hay dietas guardadas.";return}ne.classList.remove(Q.HIDDEN),ht.classList.add(Q.HIDDEN),e.slice().sort((t,a)=>new Date(a.timeStampDiet)-new Date(t.timeStampDiet)).forEach((t,a)=>{let n=Fm(t);n.setAttribute("data-index",String(a)),ne.appendChild(n),Jm(n,t.id,t.date,t.dietType)})}catch(e){eu.error("Error al carregar les dietes:",e),ne.classList.add(Q.HIDDEN),ht.classList.remove(Q.HIDDEN),ht.textContent="Error al cargar las dietas."}}}function Sr(e){if(!yi())return;let t=ne.querySelector(`[data-diet-id="${e}"]`)?.closest(".diet-item");if(!t)return;let a=`${ne.scrollHeight}px`;ne.style.height=a,t.remove(),requestAnimationFrame(()=>{ne.style.height=`${ne.scrollHeight}px`}),tu()}function hr(e){if(!yi()){vi();return}let t=e.index||0,a=Fm(e);a.style.opacity="0",a.style.transform="translateX(-100%)";let n=ne.children[t];n?ne.insertBefore(a,n):ne.appendChild(a),requestAnimationFrame(()=>{a.style.transition="opacity 0.5s ease, transform 0.5s ease",a.style.opacity="1",a.style.transform="translateX(0)",Jm(a,e.id,e.date,e.dietType)}),tu(),ne.classList.remove(Q.HIDDEN),ht.classList.add(Q.HIDDEN)}var $m="dotacions_v2",de={MODAL:"dotacio-modal",OPTIONS_CONTAINER:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2"},vt={MODAL_OPEN:"modal-open",INPUT_ERROR:"input-error",HIDDEN:"hidden"},Zn={PERSON_INPUT_GROUP:".input-with-icon",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete"},Wm={INDEX:"data-index"},ly=180,Nr=class{constructor(){this.savedDotacions=[],this.dotacioModalElement=null,this.optionsContainerElement=null,this.dotacioTemplateElement=null,this.noDotacioTextElement=null,this.isInitialized=!1}init(){if(this.isInitialized)return;this.dotacioModalElement=document.getElementById(de.MODAL),this.optionsContainerElement=document.getElementById(de.OPTIONS_CONTAINER),this.dotacioTemplateElement=document.getElementById(de.TEMPLATE),this.noDotacioTextElement=document.getElementById(de.NO_DOTACIO_TEXT);let t=document.getElementById(de.ADD_BTN),a=document.getElementById(de.OPEN_MODAL_BTN),n=document.getElementById(de.CLOSE_MODAL_BTN);if(!this.dotacioModalElement||!this.optionsContainerElement||!this.dotacioTemplateElement||!t||!a||!n)return;this.loadDotacionsFromStorage(),t.addEventListener("click",this.addDotacioFromMainForm.bind(this)),a.addEventListener("click",this.openDotacioModal.bind(this)),n.addEventListener("click",this.closeDotacioModal.bind(this)),this.dotacioModalElement.addEventListener("click",i=>{i.target===this.dotacioModalElement&&this.closeDotacioModal()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&this.dotacioModalElement.style.display==="block"&&this.closeDotacioModal()}),this.optionsContainerElement.addEventListener("click",this.handleOptionsClick.bind(this)),[de.VEHICLE_INPUT,de.PERSON1_INPUT,de.PERSON2_INPUT].forEach(i=>{let o=document.getElementById(i);o?.addEventListener("input",()=>{let u=o.closest(Zn.PERSON_INPUT_GROUP);u?u.classList.remove(vt.INPUT_ERROR):o.classList.remove(vt.INPUT_ERROR)})}),this.isInitialized=!0}loadDotacionsFromStorage(){try{let t=localStorage.getItem($m);this.savedDotacions=t?JSON.parse(t):[],Array.isArray(this.savedDotacions)||(this.savedDotacions=[])}catch{this.savedDotacions=[]}}saveDotacionsToStorage(){try{localStorage.setItem($m,JSON.stringify(this.savedDotacions))}catch{R("No se han podido guardar las dotaciones.","error")}}openDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="block",this.dotacioModalElement.style.pointerEvents="auto",document.body.classList.add(vt.MODAL_OPEN),document.body.style.setProperty("pointer-events","none"),this.displayDotacioOptions())}closeDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="none",this.dotacioModalElement.style.pointerEvents="",document.body.classList.remove(vt.MODAL_OPEN),document.body.style.removeProperty("pointer-events"),document.getElementById(de.OPEN_MODAL_BTN)?.focus())}displayDotacioOptions(){!this.optionsContainerElement||!this.dotacioTemplateElement||(this.optionsContainerElement.innerHTML="",this.savedDotacions.length===0?(this.noDotacioTextElement?.classList.remove(vt.HIDDEN),this.optionsContainerElement.classList.add(vt.HIDDEN)):(this.noDotacioTextElement?.classList.add(vt.HIDDEN),this.optionsContainerElement.classList.remove(vt.HIDDEN),this.savedDotacions.forEach((t,a)=>{let n=this.dotacioTemplateElement.content.cloneNode(!0),l=n.querySelector(Zn.DOTACIO_INFO),i=n.querySelector(Zn.LOAD_BTN),o=n.firstElementChild,u=`${t.numero}-${t.conductor}-${t.ajudant}`.replace(/\s/g,"");o.setAttribute("data-dotacio-id",u),l&&(l.textContent=this.formatDotacioListText(t)),i&&i.setAttribute(Wm.INDEX,a),this.optionsContainerElement.appendChild(n),lu(o,u),nu(o,u)})))}formatDotacioListText(t){let a=t.numero||"S/N",n=Gn(t.conductor||""),l=Gn(t.ajudant||""),i=`${n} / ${l}`;n||l?i=` - ${i}`:i="";let o=`${a}${i}`;if(this.measureTextWidth(o)>ly){let s=t.conductor?this.shortenPersonName(t.conductor):"",r=t.ajudant?this.shortenPersonName(t.ajudant):"",c=`${s} / ${r}`;s||r?c=` - ${c}`:c="",o=`${a}${c}`}return o}shortenPersonName(t){if(!t||typeof t!="string")return"";let a=t.trim().split(/\s+/).filter(u=>u.length>0);if(a.length===0)return"";if(a.length===1)return Gn(a[0]);let n=new Set(["de","la","del","el","los","las","von","van","d'","es","da","dels","i","y"]),l=a.filter(u=>!n.has(u.toLowerCase()));if(l.length===0)return Gn(a[0]);let i=Gn(l[0]),o=l.slice(1).map(u=>u.charAt(0).toUpperCase()+".").join(" ");return`${i} ${o}`}measureTextWidth(t){let a=document.createElement("span");a.style.visibility="hidden",a.style.whiteSpace="nowrap",a.style.fontSize=getComputedStyle(document.body).fontSize,a.style.fontFamily=getComputedStyle(document.body).fontFamily,a.textContent=t,document.body.appendChild(a);let n=a.offsetWidth;return document.body.removeChild(a),n}loadDotacionByIndex(t){if(t<0||t>=this.savedDotacions.length)return;let a=this.savedDotacions[t];this.clearDotacionInputErrors(),document.getElementById(de.VEHICLE_INPUT).value=a.numero||"",document.getElementById(de.PERSON1_INPUT).value=a.conductor||"",document.getElementById(de.PERSON2_INPUT).value=a.ajudant||"",Qo(a.firmaConductor||""),Ko(a.firmaAjudant||""),R(`Dotaci\xF3n ${a.numero} cargada.`,"success"),this.closeDotacioModal()}async handleDeleteById(t){let a=this.savedDotacions.findIndex(i=>`${i.numero}-${i.conductor}-${i.ajudant}`.replace(/\s/g,"")===t);if(a===-1){console.warn("Se intent\xF3 eliminar una dotaci\xF3n que ya no existe:",t);return}let l={...this.savedDotacions[a],originalIndex:a};this.savedDotacions.splice(a,1),this.saveDotacionsToStorage(),Jn(),R("Dotaci\xF3n eliminada.","success",5e3,{queueable:!1,undoCallback:()=>{this.savedDotacions.splice(l.originalIndex,0,l),this.saveDotacionsToStorage(),Lr(l),R("Dotaci\xF3n restaurada.","success")}})}handleOptionsClick(t){let n=t.target.closest(Zn.LOAD_BTN);if(n){t.stopPropagation();let l=parseInt(n.getAttribute(Wm.INDEX),10);isNaN(l)||this.loadDotacionByIndex(l)}}getDotacionInputValues(){let t=document.getElementById(de.VEHICLE_INPUT),a=document.getElementById(de.PERSON1_INPUT),n=document.getElementById(de.PERSON2_INPUT);return{vehiculo:t?.value.trim()||"",conductor:a?.value.trim()||"",ayudante:n?.value.trim()||""}}findExistingDotacionIndex(t,a,n){let l=t.toLowerCase(),i=a.toLowerCase(),o=n.toLowerCase();return this.savedDotacions.findIndex(u=>u.numero.toLowerCase()===l&&u.conductor.toLowerCase()===i&&u.ajudant.toLowerCase()===o)}addDotacioFromMainForm(){if(!em())return;let{vehiculo:t,conductor:a,ayudante:n}=this.getDotacionInputValues(),l=iu(),i=ou(),o=this.findExistingDotacionIndex(t,a,n),u={numero:t,conductor:a,ajudant:n,firmaConductor:l,firmaAjudant:i};o!==-1?(this.savedDotacions[o]=u,R(`Dotaci\xF3n ${t} actualizada.`,"success")):(this.savedDotacions.push(u),R(`Dotaci\xF3n ${t} creada.`,"success")),this.saveDotacionsToStorage()}clearDotacionInputErrors(){let t=document.getElementById(de.VEHICLE_INPUT),a=document.getElementById(de.PERSON1_INPUT),n=document.getElementById(de.PERSON2_INPUT),l=a?.closest(Zn.PERSON_INPUT_GROUP),i=n?.closest(Zn.PERSON_INPUT_GROUP);t?.classList.remove(vt.INPUT_ERROR),l?.classList.remove(vt.INPUT_ERROR),i?.classList.remove(vt.INPUT_ERROR)}},Fn=new Nr;var iy=$.withScope("Modals:Dotacio");function oy(e,t){let a=document.getElementById("dotacio-template");if(!a)return iy.warn("No s'ha trobat el template per a dotacions."),null;let n=a.content.cloneNode(!0),l=n.firstElementChild,i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");l.setAttribute("data-dotacio-id",i);let o=n.querySelector(".dotacio-info"),u=n.querySelector(".dotacio-load");if(o){let s=[e.conductor,e.ajudant].filter(Boolean).join(" / ");o.textContent=s?`${e.numero} - ${s}`:e.numero}return u&&u.setAttribute("data-index",String(t)),l}function Jn(){let e=document.getElementById("dotacio-options"),t=document.getElementById("no-dotacio-text");if(!e||!t)return;let a=e.children.length>0;e.classList.toggle("hidden",!a),t.classList.toggle("hidden",a),a||(t.innerHTML='No hay dotaciones, guarde abans: <img src="assets/icons/save_green.svg" alt="Guardar" class="save-icon" />')}function nu(e,t){let a=0,n=0,l=!1;e.addEventListener("mousedown",i=>{i.target.closest("button")||i.target.closest(".button-container")||(a=i.clientX,n=a,l=!1)}),document.addEventListener("mousemove",i=>{n=i.clientX;let o=a-n;o>10&&!l&&(l=!0,e.classList.add("swiping")),l&&o>10&&(e.style.transform=`translateX(-${Math.min(o,80)}px)`,i.preventDefault())}),document.addEventListener("mouseup",async()=>{if(!l)return;l=!1;let i=a-n;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",i>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await Fn.handleDeleteById(t),e.remove(),Jn()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function lu(e,t){let a=0,n=0,l=!1;e.addEventListener("touchstart",i=>{i.target.closest("button")||(a=i.touches[0].clientX,n=a,l=!1,i.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",i=>{n=i.touches[0].clientX;let o=a-n;o>10&&!l&&(l=!0,e.classList.add("swiping")),l&&o>10&&(e.style.transform=`translateX(-${Math.min(o,80)}px)`,i.preventDefault(),i.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async i=>{if(!l)return;l=!1;let o=a-n;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",o>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await Fn.handleDeleteById(t),e.remove(),Jn()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),i.stopPropagation()})}function Lr(e){let t=document.getElementById("dotacio-options");if(!t){Fn.displayDotacioOptions();return}let a=e.originalIndex,n=oy(e,a);if(!n)return;n.style.opacity="0",n.style.transform="translateX(-100%)";let l=t.children[a];l?t.insertBefore(n,l):t.appendChild(n),requestAnimationFrame(()=>{n.style.transition="opacity 0.5s ease, transform 0.5s ease",n.style.opacity="1",n.style.transform="translateX(0)";let i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");lu(n,i),nu(n,i)}),Jn()}var Lb=$.withScope("Modals:Confirm"),Ai=null,eg=null,tg=null,ag=null,ng=null;function uy(){if(!Ai){if(Ai=document.getElementById(St.CONFIRM_MODAL),!Ai)return!1;eg=document.getElementById(St.CONFIRM_MESSAGE),tg=Ai.querySelector(St.CONFIRM_TITLE),ag=document.getElementById(St.CONFIRM_YES_BTN),ng=document.getElementById(St.CONFIRM_NO_BTN)}return!!Ai&&!!eg&&!!tg&&!!ag&&!!ng}function lg(){uy()}function ig(){lg(),km(),Xm()}var Be={DADES:"dades",SERVEIS:"serveis"},Pt={TAB_DADES:`tab-${Be.DADES}`,TAB_SERVEIS:`tab-${Be.SERVEIS}`,CONTENT_DADES:`${Be.DADES}-tab-content`,CONTENT_SERVEIS:`${Be.SERVEIS}-tab-content`,MAIN_CONTENT_AREA:"main-content"},kn={ACTIVE_TAB:"active",ERROR_TAB:"error-tab"},og={MIN_DISTANCE:60,MAX_VERTICAL_RATIO:.5},$n=Be.DADES,uu=0,Mr=0,Rr=!0,ha=null,un=null;function ug(){let e=document.getElementById(Pt.TAB_DADES),t=document.getElementById(Pt.TAB_SERVEIS);!e||!t||(e.addEventListener("click",()=>Ci(Be.DADES)),t.addEventListener("click",()=>Ci(Be.SERVEIS)),sy(),Ci($n))}function Kn(e){Rr=!!e}function Ci(e){if($n===e&&document.scrollingElement.scrollTop!==0){window.scrollTo({top:0,behavior:"smooth"});return}if($n===e||e!==Be.DADES&&e!==Be.SERVEIS)return;window.scrollTo({top:0,behavior:"auto"}),$n=e;let t=document.getElementById(Pt.TAB_DADES),a=document.getElementById(Pt.TAB_SERVEIS),n=document.getElementById(Pt.CONTENT_DADES),l=document.getElementById(Pt.CONTENT_SERVEIS);if(!t||!a||!n||!l)return;t.classList.remove(kn.ERROR_TAB),a.classList.remove(kn.ERROR_TAB);let i=e===Be.DADES;t.classList.toggle(kn.ACTIVE_TAB,i),a.classList.toggle(kn.ACTIVE_TAB,!i),n.classList.toggle(kn.ACTIVE_TAB,i),l.classList.toggle(kn.ACTIVE_TAB,!i),t.setAttribute("aria-selected",i?"true":"false"),a.setAttribute("aria-selected",i?"false":"true"),e===Be.SERVEIS&&typeof ks=="function"&&ks()}function sy(){let e=document.getElementById(Pt.MAIN_CONTENT_AREA);e&&(ha=sg,un=rg,e.addEventListener("touchstart",ha,{passive:!0}),e.addEventListener("touchend",un,{passive:!0}))}function Qm(){let e=document.getElementById(Pt.MAIN_CONTENT_AREA);!e||!ha||!un||(e.removeEventListener("touchstart",ha,{passive:!0}),e.removeEventListener("touchend",un,{passive:!0}),ha=null,un=null)}function Km(){let e=document.getElementById(Pt.MAIN_CONTENT_AREA);e&&(ha||(ha=sg,un=rg,e.addEventListener("touchstart",ha,{passive:!0}),e.addEventListener("touchend",un,{passive:!0})))}function sg(e){if(!Rr||Dr())return;let t=e.touches[0];uu=t.clientX,Mr=t.clientY}function rg(e){if(!Rr||uu===0||!e.changedTouches||e.changedTouches.length===0)return;let t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY,n=t-uu,l=a-Mr;uu=0,Mr=0,!(Math.abs(l)>Math.abs(n)*og.MAX_VERTICAL_RATIO)&&Math.abs(n)>og.MIN_DISTANCE&&(n>0?$n===Be.SERVEIS&&Ci(Be.DADES):$n===Be.DADES&&Ci(Be.SERVEIS))}var pa={MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title"},Br={MODAL_OPEN:"modal-open",SIGNED:"signed"},va={LINE_WIDTH:2,LINE_CAP:"round",STROKE_STYLE:"#000000",IMAGE_FORMAT:"image/png",DOUBLE_CLICK_TIMEOUT:300,DOUBLE_TAP_TIMEOUT:300,DOUBLE_TAP_MAX_DIST:20},cg={SIGNATURE_PENDING:"assets/icons/signature.svg",SIGNATURE_OK:"assets/icons/signature_ok.svg"},dg={PERSON1:"Firma del conductor",PERSON2:"Firma del ayudante"},Ir=class{constructor(){this.signatureConductor="",this.signatureAjudant="",this.currentSignatureTarget=null,this.isDrawing=!1,this.canvasContext=null,this.signatureCanvasElement=null,this.signatureModalElement=null,this.signPerson1Button=null,this.signPerson2Button=null,this.hasUserDrawn=!1,this.lastTouchTime=0,this.lastTouchX=0,this.lastTouchY=0,this.clickCount=0,this.clickTimer=null}init(){this.signatureModalElement=document.getElementById(pa.MODAL),this.signatureCanvasElement=document.getElementById(pa.CANVAS);let t=document.getElementById(pa.CANCEL_BTN),a=document.getElementById(pa.ACCEPT_BTN);this.signPerson1Button=document.getElementById(pa.SIGN_PERSON1_BTN),this.signPerson2Button=document.getElementById(pa.SIGN_PERSON2_BTN),!(!this.signatureModalElement||!this.signatureCanvasElement||!t||!a||!this.signPerson1Button||!this.signPerson2Button)&&(this.resizeCanvas(),this.initCanvasEvents(),t.addEventListener("click",this.closeSignatureModal.bind(this)),a.addEventListener("click",this.acceptSignature.bind(this)),this.signPerson1Button.addEventListener("click",()=>this.openSignatureModal("person1")),this.signPerson2Button.addEventListener("click",()=>this.openSignatureModal("person2")),this.signatureModalElement.addEventListener("click",n=>{n.target===this.signatureModalElement&&this.closeSignatureModal()}),window.addEventListener("resize",this.debounce(this.resizeCanvas.bind(this),150)),document.addEventListener("keydown",n=>{n.key==="Escape"&&this.signatureModalElement.style.display==="block"&&this.closeSignatureModal()}),this.updateSignatureIcons())}debounce(t,a){let n;return(...l)=>{clearTimeout(n),n=setTimeout(()=>t.apply(this,l),a)}}resizeCanvas(){if(!this.signatureCanvasElement||!this.signatureCanvasElement.parentElement)return;let t=this.signatureCanvasElement.parentElement;this.canvasContext||(this.canvasContext=this.signatureCanvasElement.getContext("2d",{willReadFrequently:!0})),this.canvasContext&&(this.signatureCanvasElement.width=t.offsetWidth,this.signatureCanvasElement.height=t.offsetHeight,this.canvasContext.lineWidth=va.LINE_WIDTH,this.canvasContext.lineCap=va.LINE_CAP,this.canvasContext.strokeStyle=va.STROKE_STYLE)}clearCanvas(){!this.canvasContext||!this.signatureCanvasElement||(this.canvasContext.clearRect(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),this.hasUserDrawn=!1)}getEventCoordinates(t){if(!this.signatureCanvasElement)return{x:0,y:0};let a=this.signatureCanvasElement.getBoundingClientRect(),n,l;return t.touches&&t.touches.length>0?(n=t.touches[0].clientX,l=t.touches[0].clientY):(n=t.clientX,l=t.clientY),{x:n-a.left,y:l-a.top}}startDrawing(t){if(!this.canvasContext)return;this.isDrawing=!0,this.hasUserDrawn=!0,this.canvasContext.beginPath();let{x:a,y:n}=this.getEventCoordinates(t);this.canvasContext.moveTo(a,n)}draw(t){if(!this.isDrawing||!this.canvasContext)return;t.preventDefault();let{x:a,y:n}=this.getEventCoordinates(t);this.canvasContext.lineTo(a,n),this.canvasContext.stroke()}stopDrawing(){!this.isDrawing||!this.canvasContext||(this.isDrawing=!1)}handleCanvasClick(t){this.clickCount++,this.clickCount===1?this.clickTimer=setTimeout(()=>this.clickCount=0,va.DOUBLE_CLICK_TIMEOUT):this.clickCount===2&&(clearTimeout(this.clickTimer),this.clickCount=0,t.preventDefault(),this.clearCanvas())}handleCanvasTouchEnd(t){if(t.touches.length>0)return;let a=Date.now(),n=t.changedTouches[0];if(!n)return;let{x:l,y:i}=this.getEventCoordinates({clientX:n.clientX,clientY:n.clientY}),o=a-this.lastTouchTime,u=Math.abs(l-this.lastTouchX),s=Math.abs(i-this.lastTouchY);o<va.DOUBLE_TAP_TIMEOUT&&u<va.DOUBLE_TAP_MAX_DIST&&s<va.DOUBLE_TAP_MAX_DIST?(t.preventDefault(),this.clearCanvas(),this.lastTouchTime=0):(this.lastTouchTime=a,this.lastTouchX=l,this.lastTouchY=i)}initCanvasEvents(){this.signatureCanvasElement&&(this.signatureCanvasElement.addEventListener("mousedown",this.startDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mousemove",this.draw.bind(this)),this.signatureCanvasElement.addEventListener("mouseup",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mouseout",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("click",this.handleCanvasClick.bind(this)),this.signatureCanvasElement.addEventListener("touchstart",this.startDrawing.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchmove",this.draw.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchend",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchcancel",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchend",this.handleCanvasTouchEnd.bind(this),{passive:!1}))}openSignatureModal(t){if(!this.signatureModalElement||!this.canvasContext)return;Kn(!1),this.currentSignatureTarget=t;let a=document.getElementById(pa.TITLE);a&&(a.textContent=t==="person1"?dg.PERSON1:dg.PERSON2),this.signatureModalElement.style.display="block",document.body.classList.add(Br.MODAL_OPEN),this.resizeCanvas(),this.clearCanvas();let n=t==="person1"?this.signatureConductor:this.signatureAjudant;n&&this.drawSignatureFromDataUrl(n),document.getElementById(pa.ACCEPT_BTN)?.focus()}closeSignatureModal(){this.signatureModalElement&&(Kn(!0),this.signatureModalElement.style.display="none",document.body.classList.remove(Br.MODAL_OPEN),this.currentSignatureTarget=null,(this.currentSignatureTarget==="person1"?this.signPerson1Button:this.signPerson2Button)?.focus())}isCanvasEmpty(){if(!this.canvasContext||!this.signatureCanvasElement)return!0;try{return!new Uint32Array(this.canvasContext.getImageData(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height).data.buffer).some(a=>a!==0)}catch{return!1}}acceptSignature(){if(!this.canvasContext||!this.signatureCanvasElement||!this.currentSignatureTarget)return;let t=this.isCanvasEmpty(),a=t?"":this.signatureCanvasElement.toDataURL(va.IMAGE_FORMAT),n=null;this.currentSignatureTarget==="person1"?(this.signatureConductor=a,n=this.signPerson1Button):this.currentSignatureTarget==="person2"&&(this.signatureAjudant=a,n=this.signPerson2Button),this.updateSignatureUI(n,!t),this.closeSignatureModal(),wt()}drawSignatureFromDataUrl(t){if(!this.canvasContext||!t)return;let a=new Image;a.onload=()=>this.canvasContext.drawImage(a,0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),a.onerror=()=>{},a.src=t}updateSignatureUI(t,a){if(!t)return;let n=t.querySelector(".icon");n&&(t.classList.toggle(Br.SIGNED,a),n.src=a?cg.SIGNATURE_OK:cg.SIGNATURE_PENDING)}updateSignatureIcons(){this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor),this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}getSignatureConductor(){return this.signatureConductor}getSignatureAjudant(){return this.signatureAjudant}setSignatureConductor(t){this.signatureConductor=t||"",this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor)}setSignatureAjudant(t){this.signatureAjudant=t||"",this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}},_i=new Ir,fg=()=>_i.init(),iu=()=>_i.getSignatureConductor(),ou=()=>_i.getSignatureAjudant(),Qo=e=>_i.setSignatureConductor(e),Ko=e=>_i.setSignatureAjudant(e);var ry=".service",mg="main-content",Tt={DATE:"date",DIET_TYPE:"diet-type",VEHICLE:"vehicle-number",P1:"person1",P2:"person2",SERVICE_TYPE:"service-type",SAVE_BTN:"save-diet"},cy="userSelectedServiceType",dy={serviceNumber:".service-number",origin:".origin",originTime:".origin-time",destination:".destination",destinationTime:".destination-time",endTime:".end-time"},fy="chip-active",my=800,gy=1e3,Ey=300,Ur=class{constructor(){this.initialFormDataStr="",this.saveStart=0,this.debouncedAutoSave=Ti(this.triggerAutoSave.bind(this),gy),this.debouncedHandler=Ti(this.handleInputChange.bind(this),my)}isFormReadyForSave(){try{let t=!!document.getElementById(Tt.DATE)?.value.trim(),a=!!document.getElementById(Tt.DIET_TYPE)?.value.trim(),n=document.getElementById("service-number-1")?.value.trim(),l=/^\d{9}$/.test(n);return t&&a&&l}catch(t){return console.warn("[FormService] Error validant formulari:",t),!1}}hasPendingChanges(){return JSON.stringify(this.getFormDataObject()||{})!==this.initialFormDataStr}getFormDataObject(){try{let t={date:ce(document.getElementById(Tt.DATE)?.value),dietType:ce(document.getElementById(Tt.DIET_TYPE)?.value||pr()),vehicleNumber:ce(document.getElementById(Tt.VEHICLE)?.value),person1:ce(document.getElementById(Tt.P1)?.value),person2:ce(document.getElementById(Tt.P2)?.value),serviceType:ce(document.getElementById(Tt.SERVICE_TYPE)?.value||"TSU"),signatureConductor:iu(),signatureAjudant:ou()},a=Array.from(document.querySelectorAll(ry)).map((n,l)=>{let i={};for(let[u,s]of Object.entries(dy)){if(!s){i[u]="";continue}i[u]=ce(n.querySelector(s)?.value)}let o=n.querySelector(`.chip.${fy}`);return i.mode=o?.dataset.mode||"3.6",i.notes=zt[l]||"",i});return{generalData:t,servicesData:a}}catch(t){return console.error("[FormService] Error recollint dades:",t),null}}async triggerAutoSave(){if(!(!this.isFormReadyForSave()||!this.hasPendingChanges()))try{this.saveStart=Date.now(),jo(),await fr();let t=Date.now()-this.saveStart;setTimeout(Xo,Math.max(0,Ey-t)),this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{})}catch(t){console.warn("[Autosave skipped]",t?.message||"Error desconegut"),Si("Revisa dades de Serveis")}}captureInitialFormState(){this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{}),this.handleFormChange()}setSaveButtonState(t){let a=document.getElementById(Tt.SAVE_BTN);a&&(a.disabled=!t,a.setAttribute("aria-disabled",t?"false":"true"),a.classList.toggle("is-disabled",!t))}handleFormChange(){if(this.debouncedAutoSave.cancel(),!this.hasPendingChanges()){this.setSaveButtonState(!1),hi();return}this.isFormReadyForSave()?(this.setSaveButtonState(!0),this.debouncedAutoSave()):(this.setSaveButtonState(!1),hi())}handleInputChange(){this.handleFormChange()}addInputListeners(){let t=document.getElementById(mg);if(!t)return;t.addEventListener("input",this.debouncedHandler),t.addEventListener("change",this.debouncedHandler),t.addEventListener("blur",n=>{n.target.matches("input, select, textarea")&&(this.handleFormChange(),this.isFormReadyForSave()&&this.hasPendingChanges()&&(this.debouncedAutoSave.cancel(),this.triggerAutoSave()))},!0);let a=document.getElementById(Tt.DATE);a?.addEventListener("change",()=>{a.blur(),this.debouncedHandler()}),window.addEventListener("beforeunload",()=>{this.debouncedAutoSave.cancel(),this.isFormReadyForSave()&&fr()})}addServiceTypeListener(){let t=document.getElementById(Tt.SERVICE_TYPE);t&&t.addEventListener("change",a=>{let n=a.target.value.trim();xn(n);try{localStorage.setItem(cy,n)}catch(l){console.error("No s\u2019ha pogut desar tipus servei",l)}})}cancelPendingAutoSave(){this.debouncedAutoSave.cancel()}addDoneBehavior(){document.getElementById(mg)?.addEventListener("keydown",a=>{a.key==="Enter"&&a.target.matches('input[enterkeyhint="done"]')&&(a.preventDefault(),a.target.blur())})}gatherAllData(){return this.getFormDataObject()}getInitialFormDataStr(){return this.initialFormDataStr}},Ta=new Ur,Hn=()=>Ta.captureInitialFormState(),cr=e=>Ta.setSaveButtonState(e),wt=()=>Ta.handleFormChange(),gg=()=>Ta.addInputListeners(),Eg=()=>Ta.addServiceTypeListener(),Tm=()=>Ta.cancelPendingAutoSave(),Sg=()=>Ta.addDoneBehavior(),Zo=()=>Ta.gatherAllData();var hg="onboardingCompleted";function pg(){let e=document.getElementById("onboarding-container");if(!e)return;if(!JSON.parse(localStorage.getItem(hg)||"false"))e.classList.remove("hidden");else return;window.addEventListener("load",()=>{e.classList.add("onboarding-loaded")});let a=document.querySelectorAll(".onboarding-slide"),n=document.querySelectorAll(".nav-dot"),l=document.getElementById("onboarding-finish-btn"),i=document.getElementById("onboarding-skip-btn"),o=0;function u(S){a.forEach((f,g)=>{f.classList.toggle("active",g===S)}),n.forEach((f,g)=>{f.classList.toggle("active",g===S)})}function s(){o<a.length-1&&(o++,u(o),navigator.vibrate&&navigator.vibrate(10))}function r(){e.classList.add("hidden"),localStorage.setItem(hg,JSON.stringify(!0)),navigator.vibrate&&navigator.vibrate([50,50,50])}e.addEventListener("click",S=>{S.target.closest("button, a, .nav-dot")||s()});let c=0;e.addEventListener("touchstart",S=>{c=S.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",S=>{S.changedTouches[0].screenX<c-50&&s()}),l.addEventListener("click",r),i.addEventListener("click",r)}var xr={TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text"},vg={DARK_THEME:"theme-dark"},zr="themePreference",lt={LIGHT:"light",DARK:"dark"},Tg={LIGHT:"assets/icons/moon.svg",DARK:"assets/icons/sun.svg"},yg={LIGHT:"#004aad",DARK:"#343a40"},wr=class{constructor(){this.themeToggleButton=null,this.themeIconElement=null,this.themeTextElement=null,this.bodyElement=null,this.systemDarkMatcher=null}init(){if(this.themeToggleButton=document.getElementById(xr.TOGGLE_BTN),this.themeIconElement=document.getElementById(xr.THEME_ICON),this.themeTextElement=document.getElementById(xr.THEME_TEXT),this.bodyElement=document.body,!this.themeToggleButton||!this.themeIconElement||!this.themeTextElement||!this.bodyElement){console.warn("Faltan elementos del DOM para el gestor de temas.");return}let t,a=localStorage.getItem(zr);a&&(a===lt.LIGHT||a===lt.DARK)?t=a:(this.systemDarkMatcher=window.matchMedia("(prefers-color-scheme: dark)"),t=this.systemDarkMatcher.matches?lt.DARK:lt.LIGHT,this.systemDarkMatcher.addEventListener("change",this._handleSystemThemeChange.bind(this))),this._applyTheme(t,!1),this.themeToggleButton.addEventListener("click",this._handleThemeToggle.bind(this))}_updateThemeColorMeta(t){let a=document.querySelector('meta[name="theme-color"]');a&&(a.content=t)}_applyTheme(t,a=!1){let n=t===lt.DARK;this.bodyElement.classList.toggle(vg.DARK_THEME,n),this.themeIconElement.src=n?Tg.DARK:Tg.LIGHT,this.themeTextElement.textContent=n?"Claro":"Oscuro",this.themeIconElement.alt=n?"Cambiar a tema claro":"Cambiar a tema oscuro",this._updateThemeColorMeta(n?yg.DARK:yg.LIGHT),a&&localStorage.setItem(zr,t)}_handleThemeToggle(){let a=(this.bodyElement.classList.contains(vg.DARK_THEME)?lt.DARK:lt.LIGHT)===lt.DARK?lt.LIGHT:lt.DARK;this._applyTheme(a,!0)}_handleSystemThemeChange(t){if(!localStorage.getItem(zr)){let a=t.matches?lt.DARK:lt.LIGHT;this._applyTheme(a,!1)}}},hy=new wr,Ag=()=>hy.init();var Hr={GENERATE_PDF:".generate-pdf",SAVE_DIET:"#save-diet",MANAGE_DIETS:"#manage-diets"};function Cg(){let e=document.querySelector(Hr.GENERATE_PDF);e&&e.addEventListener("click",Gm);let t=document.getElementById(Hr.SAVE_DIET.substring(1));t&&t.addEventListener("click",pm);let a=document.getElementById(Hr.MANAGE_DIETS.substring(1));a&&typeof au=="function"&&a.addEventListener("click",au)}var _g="clear-selected-service",py=".service";function bg(){let e=document.getElementById(_g);if(!e){console.warn(`Clear Service: Bot\xF3 amb ID '${_g}' no trobat.`);return}e.addEventListener("click",()=>{let t=$a(),a=document.querySelectorAll(py);if(t>=0&&t<a.length){let n=a[t],l=n.querySelectorAll('input:not([type="button"]):not([type="submit"]), select, textarea');l.forEach(i=>{i.value!==""&&i.classList.add("field-clearing")}),setTimeout(()=>{om(n),fi(n),wt(),l.forEach(i=>{i.classList.remove("field-clearing")}),console.log(`Servei ${t+1} netejat amb efecte visual.`)},600)}else console.warn(`Clear Service: \xCDndex de servei inv\xE0lid (${t}) o element no trobat.`)}),console.log("Funcionalitat 'Netejar Servei Seleccionat' configurada.")}function Dg(){document.querySelectorAll('input[type="date"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}function Og(){document.querySelectorAll('input[type="time"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}var Ng=Ti(R,Kf.DEBOUNCE_TOAST);function vy(e){return/^\d*$/.test(e)}function Lg(){let e=document.querySelectorAll(Rn.SERVICE_NUMBER_INPUT);if(!e.length){console.warn("Restrictions: No se han encontrado inputs '.service-number'.");return}e.forEach(t=>{t.dataset.restrictionsSetup!=="true"&&(t.dataset.restrictionsSetup="true",t.addEventListener("keypress",a=>{a.key==="Enter"||a.key==="Tab"||a.ctrlKey||a.metaKey||a.altKey||a.key.length>1||/\d/.test(a.key)||(a.preventDefault(),Ng(Ks.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}),t.addEventListener("paste",a=>{try{let n=(a.clipboardData||window.clipboardData)?.getData("text")||"";vy(n)||(a.preventDefault(),Ng(Ks.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}catch(n){console.error("Error procesando 'paste':",n),a.preventDefault()}}))})}var Mg={SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel"},Wn={PANEL_VISIBLE:"visible",BUTTON_OPEN:"open"},qt=null,Yt=null,Rg=!1;function Ty(e){e.stopPropagation();let t=Yt.classList.toggle(Wn.PANEL_VISIBLE);qt.classList.toggle(Wn.BUTTON_OPEN,t),qt.setAttribute("aria-expanded",t),t&&Yt.querySelector("button")?.focus()}function yy(e){Yt.classList.contains(Wn.PANEL_VISIBLE)&&!Yt.contains(e.target)&&!qt.contains(e.target)&&Vr()}function Ay(e){e.key==="Escape"&&Yt.classList.contains(Wn.PANEL_VISIBLE)&&(Vr(),qt.focus())}function Vr(){Yt.classList.remove(Wn.PANEL_VISIBLE),qt.classList.remove(Wn.BUTTON_OPEN),qt.setAttribute("aria-expanded","false")}function Bg(){Rg||(qt=document.getElementById(Mg.SETTINGS_BTN),Yt=document.getElementById(Mg.SETTINGS_PANEL),!(!qt||!Yt)&&(qt.addEventListener("click",Ty),document.addEventListener("click",yy),document.addEventListener("keydown",Ay),Yt.querySelectorAll("button").forEach(e=>{e.addEventListener("click",Vr)}),Rg=!0))}var Cy={SERVICE_BUTTONS:".service-button:not(.active-square)",OPTIONS_BTN:"#options-toggle",TABS:".tab:not(.active)"},_y="disabled-control";function Gr(e=!0){document.querySelectorAll(Object.values(Cy).join(", ")).forEach(a=>{a&&(a.classList.toggle(_y,e),a.setAttribute("aria-disabled",e?"true":"false"),a.disabled=e)})}var Av=ii(al()),Cv=ii(Of());var re=ii(al());function Nf({imageUrl:e=null,isProcessing:t=!1,progress:a=0,status:n="idle",statusText:l="Reconociendo texto",onClose:i=null}){let o=(0,re.useRef)(null),[u,s]=(0,re.useState)(0),[r,c]=(0,re.useState)("");if((0,re.useEffect)(()=>{let v=setTimeout(()=>{s(a)},50);return()=>clearTimeout(v)},[a]),(0,re.useEffect)(()=>{if(n!=="processing"){c("");return}c(".");let v=setInterval(()=>{c(y=>y.length>=3?".":`${y}.`)},500);return()=>clearInterval(v)},[n]),console.log("\u{1F50D} OCR State:",{status:n,imageUrl:!!e,isProcessing:t,progress:a}),n==="error"||n==="idle")return console.log("\u{1F6AB} Component NO renderitza - status:",n),null;if(!(!!e&&t||!!e&&(n==="done"||n==="warning")))return null;let f=l?.replace(/\s+\d{1,3}%/,"").replace(/\.{2,}$/,"").trim()||"Reconociendo texto",g=n==="processing"?`${f}${r}`:l;return re.default.createElement("div",{className:"ocr-feedback-overlay",role:"dialog","aria-live":"polite","aria-atomic":"false","aria-label":"OCR en progreso"},re.default.createElement("div",{className:"ocr-feedback-container",ref:o},e&&re.default.createElement("div",{className:"ocr-image-preview fade-in"},re.default.createElement("img",{src:e,alt:"Imagen capturada para OCR",className:"ocr-captured-image",loading:"eager"})),(t||n==="done"||n==="error"||n==="warning")&&re.default.createElement("div",{className:"ocr-progress-section fade-in"},re.default.createElement("div",{className:"ocr-progress-bar-container"},re.default.createElement("div",{className:"ocr-progress-bar-track"},re.default.createElement("div",{className:"ocr-progress-bar-fill",style:{width:`${u}%`},role:"progressbar","aria-valuenow":u,"aria-valuemin":"0","aria-valuemax":"100"},re.default.createElement("div",{className:"ocr-progress-shine"}))),re.default.createElement("span",{className:"ocr-progress-percentage"},n==="error"?"":`${Math.round(u)}%`)),re.default.createElement("div",{className:`ocr-status-line ${n}`},g?.split(`
`).map((v,y)=>re.default.createElement("div",{key:y},v))||""))))}var Zl="Reconociendo texto",Kl={done:"\u2713 Texto reconocido correctamente",warning:"Revisa la informaci\xF3n detectada",error:"Error al escanear. Imagen no v\xE1lida"},Hs=(e,t=Zl)=>e&&e.replace(/\d{1,3}%/g,"").replace(/\.\.+$/g,"").split(`
`).map(i=>i.replace(/\s+/g," ").trim()).join(`
`)||t;function Lf(e="ocr-feedback-root"){let t=document.getElementById(e);t||(t=document.createElement("div"),t.id=e,document.body.appendChild(t));let a=null,n=null,l={imageUrl:null,isProcessing:!1,progress:0,status:"idle",statusText:Zl},i=()=>{a||(a=Cv.default.createRoot(t)),a.render(Av.default.createElement(Nf,{imageUrl:l.imageUrl,isProcessing:l.isProcessing,progress:l.progress,status:l.status,statusText:l.statusText,onClose:()=>u.reset()}))},o=()=>{n&&(clearTimeout(n),n=null)},u={start(s){o(),l.imageUrl&&l.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(l.imageUrl),s instanceof File||s instanceof Blob?l.imageUrl=URL.createObjectURL(s):typeof s=="string"?l.imageUrl=s:l.imageUrl=null,l.isProcessing=!0,l.progress=0,l.status="processing",l.statusText=Zl,i()},update(s,r=null,c="info"){o(),l.progress=Math.min(100,Math.max(0,s));let S=r!==null?Hs(r):null;if(c==="error"){l.status="error",l.statusText=S||Kl.error||Zl,l.isProcessing=!1,l.progress=Math.max(l.progress,100),i(),n=setTimeout(()=>{u.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3);return}if(c==="warning"){l.status="warning",l.statusText=S||l.statusText,l.isProcessing=!0,i();return}if(c==="success"){u.complete(S||Kl.done,"done");return}l.status="processing",S?l.statusText=S:l.statusText||(l.statusText=Zl),l.isProcessing=!0,i()},addMessage(s,r="info"){if(r==="error"){u.error(s);return}if(r==="success"){u.complete(s||Kl.done,"done");return}l.status=r==="warning"?"warning":"processing",l.statusText=Hs(s),l.isProcessing=!0,i()},complete(s=null,r="done"){o(),l.progress=100;let c=["done","warning","error"].includes(r)?r:"done";l.status=c;let S=Kl[c]||Kl.done;l.statusText=Hs(s,S),l.isProcessing=!1,i(),n=setTimeout(()=>{u.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"done"}}))},2500)},error(s="No se reconoci\xF3 texto"){o(),l.status="error",l.statusText=Hs(s,Kl.error),l.isProcessing=!1,l.progress=100,i(),n=setTimeout(()=>{u.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3)},reset(){o(),l.imageUrl&&l.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(l.imageUrl),l.imageUrl=null,l.isProcessing=!1,l.progress=0,l.status="idle",l.statusText=Zl,i()},getState(){return{...l}},isProcessing(){return l.isProcessing}};return u}var Fl=null;function Oo(){return Fl||(Fl=Lf()),Fl}function _v(){Fl&&(Fl.reset(),Fl=null)}var bv=1500,Mf=.95,Rf="image/png",SC=$.withScope("CameraOCR:ImageProcessing");function Dv(e,t,a){return new Promise((n,l)=>{e.toBlob(i=>{i?n(i):l(new Error("No s'ha pogut generar el blob de la imatge."))},t,a)})}async function Ov(e,{maxDimension:t=bv,imageType:a=Rf,imageQuality:n=Mf}={}){let l=await createImageBitmap(e),{width:i,height:o}=l;if(Math.max(i,o)<=t)return l.close(),e;let u=Math.min(t/i,t/o),s=Math.round(i*u),r=Math.round(o*u),c=document.createElement("canvas");c.width=s,c.height=r;let S=c.getContext("2d");if(!S)throw l.close(),new Error("Context 2D no disponible.");return S.drawImage(l,0,0,s,r),l.close(),Dv(c,a,n)}async function Nv(e,{imageType:t=Rf,imageQuality:a=Mf}={}){let n=await createImageBitmap(e),l=document.createElement("canvas");l.width=n.width,l.height=n.height;let i=l.getContext("2d");if(!i)throw n.close(),new Error("Context 2D no disponible.");try{i.drawImage(n,0,0,n.width,n.height)}catch(o){throw n.close(),o.message&&o.message.includes("detached")?new Error("Error al procesar la imagen. Int\xE9ntalo de nuevo."):o}n.close(),i.filter="grayscale(100%) contrast(180%) brightness(110%)";try{i.drawImage(l,0,0)}catch(o){SC.warn("Fallback sense filtres en el preprocessament.",o)}return Dv(l,t,a)}var _D=Object.freeze({IMAGE_MAX_DIMENSION:bv,IMAGE_QUALITY:Mf,IMAGE_TYPE:Rf});var hC="spa",pC=1,vC="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ:/-\xC0\xC9\xCD\xD3\xDA\xC8\xD2\xC0\xDC\xCF\xC7\xD1",Lv=10,TC=1e3,yC=new Set(["image/jpeg","image/png","image/webp"]),AC=[{type:"image/jpeg",bytes:[255,216,255]},{type:"image/png",bytes:[137,80,78,71,13,10,26,10]},{type:"image/webp",bytes:[82,73,70,70,null,null,null,null,87,69,66,80]}],CC=300;var _C="https://cdn.jsdelivr.net/npm/tesseract.js@6/dist/tesseract.min.js",bC="sha384-r1ru3tcf6FhnCFR4B7pIFG+BhFF9LlFtz/P1y4pblWn3AGs9y3lBx5SKLNf4+rED",DC={load_system_dawg:"0",load_freq_dawg:"0"},OC={tessedit_char_whitelist:vC,tessedit_pageseg_mode:6},Jl={CAMERA_BTN:"camera-in-dropdown",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline"},Fa={VISIBLE:"visible",HIDDEN:"hidden",SERVICE_COLORS:["service-1","service-2","service-3","service-4"]},NC={ORIGIN_TIME:{id:"originTime",label:"Hora movilizaci\xF3n",fieldIdSuffix:"origin-time",lineKeywordRegex:/movilizaci|mobilitzat|desplaza/i},DESTINATION_TIME:{id:"destinationTime",label:"Hora de llegada hospital",fieldIdSuffix:"destination-time",lineKeywordRegex:/arribada|hospital|aaah/i},END_TIME:{id:"endTime",label:"Hora Final",fieldIdSuffix:"end-time",valueRegex:/\d{2}\s*\/?\s*\d{2}\s*\/?\s*\d{2}\s+(\d{1,2}:\d{2}(?::\d{2})?)/i}},tt=null,Ja=null,Vs=null,Bf=null,Ne=null,If=!1,Mv=!1,Rv=!1,Bv=0,It=null,kl=0,Iv=0,Uf=$.withScope("CameraOCR");function LC(e,t){return!e||e.length<t.length?!1:t.every((a,n)=>a===null||e[n]===a)}async function MC(e){if(!e)return!1;if(yC.has(e.type?.toLowerCase()))return!0;try{let t=new Uint8Array(await e.slice(0,12).arrayBuffer());return AC.some(a=>LC(t,a.bytes))}catch(t){return Uf.warn("No s'ha pogut validar la signatura del fitxer:",t),!1}}function RC(e){if(!e)return"";let t=e.replace(/[^\d:\-]/g,"");t=t.replace(/-/g,":");let a=t.match(/^(\d{1,2}):(\d{2})(?::\d{2})?$/);if(a){let n=parseInt(a[1],10),l=parseInt(a[2],10);if(n>=0&&n<=23&&l>=0&&l<=59)return`${String(n).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return""}function BC(){if(Date.now()-Bv<500||(Bv=Date.now(),!tt||!Ja))return;document.body.classList.add("modal-open"),document.body.style.setProperty("pointer-events","none"),tt.style.setProperty("pointer-events","auto"),Ja.style.setProperty("pointer-events","auto");let e=$a(),t=Fa.SERVICE_COLORS[e]||"";Ja.classList.remove(...Fa.SERVICE_COLORS),t&&Ja.classList.add(t),tt.classList.remove(Fa.HIDDEN),requestAnimationFrame(()=>tt.classList.add(Fa.VISIBLE)),Vs?.focus()}function $l(){tt&&(document.body.classList.remove("modal-open"),document.body.style.removeProperty("pointer-events"),tt.style.removeProperty("pointer-events"),Ja&&Ja.style.removeProperty("pointer-events"),tt.classList.remove(Fa.VISIBLE),setTimeout(()=>tt.classList.add(Fa.HIDDEN),CC))}function IC(e){tt?.classList.contains(Fa.VISIBLE)&&!Ja?.contains(e.target)&&$l()}function UC(){Ne&&(Ne.setAttribute("capture","environment"),Ne.click(),$l())}function xC(){Ne&&(Ne.removeAttribute("capture"),Ne.click(),$l())}function Uv(e){let t=Object.entries(e).filter(([l,i])=>!i.skip),a=t.filter(([l,i])=>i.detected).length,n=t.length;return`${a}/${n} campos detectados`}function _t(e,t){It||(It=Oo()),e>kl&&(kl=e);let a=kl>=100?t||"Texto reconocido correctamente":"Reconociendo texto...";It.update(kl,a)}function zC(){kl=0}function xv(e,t,a){let n=document.getElementById(e);if(n){n.value=t;let l=new Event("input",{bubbles:!0,cancelable:!0});n.dispatchEvent(l)}}function wC(e,t=null){if(!e||!e.trim())return{hasData:!1,allFieldsStatus:[]};let a=$a(),n=im(a)||"3.6",l=`-${a+1}`,i={},o={originTime:{label:"Hora activaci\xF3n",detected:!1},destinationTime:{label:"Hora destino",detected:!1,skip:n==="3.11"||n==="3.22"},endTime:{label:"Hora final",detected:!1}};t&&t(o);let u=e.split(`
`),s=e.toLowerCase().replace(/ +/g," ");if(Object.values(NC).forEach(c=>{if((n==="3.11"||n==="3.22")&&c.id==="destinationTime")return;let S=null;if(c.lineKeywordRegex){for(let f of u)if(c.lineKeywordRegex.test(f.toLowerCase())){let g=f.replace(/\D/g,"");if(g.length>=6){let v=g.slice(-6);S=[null,`${v.slice(0,2)}:${v.slice(2,4)}:${v.slice(4,6)}`];break}}}else c.valueRegex&&(S=s.match(c.valueRegex));if(S&&S[1]){let f=RC(S[1].trim());if(f&&!i[c.id]){let g=`${c.fieldIdSuffix}${l}`;xv(g,f,c.label),i[c.id]=c,o[c.id]&&(o[c.id].detected=!0,t&&t(o))}}}),!i.endTime&&(i.originTime||i.destinationTime)){let c=new Date,S=String(c.getHours()).padStart(2,"0"),f=String(c.getMinutes()).padStart(2,"0"),g=`${S}:${f}`,v=`end-time${l}`;xv(v,g,"Hora Final (Actual)");let y=document.getElementById(v);y&&(y.classList.add("input-warning"),y.addEventListener("focus",()=>y.classList.remove("input-warning"),{once:!0}))}let r=Object.keys(i).length;return{hasData:r>0,count:r,fields:i,allFieldsStatus:o}}function zv(){if(Mv||(tt=document.getElementById(Jl.CAMERA_MODAL),Ja=tt?.querySelector(Jl.MODAL_CONTENT),Vs=document.getElementById(Jl.OPTION_CAMERA),Bf=document.getElementById(Jl.OPTION_GALLERY),Ne=document.getElementById(Jl.CAMERA_INPUT),!tt||!Vs||!Bf||!Ne))return;document.querySelectorAll(Jl.OCR_SCAN_BTN).forEach(t=>t.addEventListener("click",BC)),Vs.addEventListener("click",UC),Bf.addEventListener("click",xC),Ne.addEventListener("change",VC),document.addEventListener("click",IC),document.addEventListener("keydown",t=>{t.key==="Escape"&&tt?.classList.contains(Fa.VISIBLE)&&$l()}),Mv=!0}function HC(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}async function VC(e){if(If)return;let t=e.target.files?.[0];if(!t)return;if(Date.now()-Iv<TC){R("OCR massa freq\xFCent. Espera un segon abans de reintentar.","warning"),Ne&&(Ne.value="");return}if(!await MC(t)){R("Format d'imatge no suportat. Usa PNG, JPG o WEBP.","error"),Ne&&(Ne.value="");return}let a=Lv*1024*1024;if(t.size>a){R(`Imatge massa gran. El m\xE0xim perm\xE8s \xE9s ${Lv}MB.`,"error"),Ne&&(Ne.value="");return}If=!0,Gr(!0),kl=0,It||(It=Oo()),It.start(t),_t(0),HC(),Iv=Date.now();let n=null;try{_t(5);let l=await Ov(t);_t(20),l=await Nv(l),_t(35),await new Promise(s=>setTimeout(s,100)),_t(45),Rv||(_t(50),await Yn({src:_C,integrity:bC}),Rv=!0),_t(60),n=await Tesseract.createWorker(hC,pC,{logger:s=>{if(s.status==="recognizing text"){let r=Math.max(85,Math.floor(s.progress*100*.15+85));_t(r)}else s.status==="loading language model"&&_t(65)},init:DC}),_t(75),await n.setParameters(OC),_t(80);let{data:{text:i}}=await n.recognize(l),u=wC(i,s=>{let r=Uv(s);It.update(95,r)});if(u.hasData){let s=Uv(u.allFieldsStatus);It.complete(s,"done")}else R("Error al escanear. Imagen no v\xE1lida","error"),It?.reset?.(),setTimeout(()=>$l(),1e3)}catch(l){Uf.error("Error durant el processament OCR:",l),R("Error al escanear. Imagen no v\xE1lida","error"),It?.reset?.(),setTimeout(()=>{Uf.debug("Tancant modal OCR despr\xE9s de timeout"),$l()},3e3)}finally{try{n&&await n.terminate()}catch{}Ne&&(Ne.value=""),zC(),Gr(!1),If=!1}}var wv="anonymousUserId";function Hv(){try{let e=localStorage.getItem(wv);return e||(e=`user-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,localStorage.setItem(wv,e)),e}catch{return`temp-user-${Date.now()}`}}var Vv=document.getElementById("save-pill"),ei=document.querySelector(".tab-content-container"),Wl=0,Gv=!1,GC=10,PC=150,qC=ei&&parseInt(window.getComputedStyle(ei).paddingBottom,10)||60;function xf(e=Wl){Gv=e>PC,Gv?(Vv.style.bottom=`calc(${e}px + ${GC}px + env(safe-area-inset-bottom, 0px))`,ei&&(ei.style.paddingBottom=`${e+50}px`)):(Vv.style.bottom="calc(20px + env(safe-area-inset-bottom, 0px))",ei&&(ei.style.paddingBottom=`${qC}px`))}if("virtualKeyboard"in navigator)navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",e=>{Wl=e.target.boundingRect.height,xf(Wl)});else{let e=window.innerHeight;window.addEventListener("resize",()=>{window.innerHeight<e?(Wl=e-window.innerHeight,xf(Wl)):(Wl=0,xf(0))})}var YC=document.querySelectorAll('input:not([type="checkbox"]), select, textarea');var jC=()=>{let e=[".top-bar",".tabs-container"],t=0;return e.forEach(a=>{let n=document.querySelector(a);if(!n)return;let l=n.getBoundingClientRect();l.bottom>t&&(t=l.bottom)}),Math.max(t,0)},zf=()=>{let e=jC();document.documentElement.style.setProperty("--fixed-headers-height",`${e}px`)},wf=()=>{let e=document.querySelector("input.origin");if(!e)return;let t=e.closest(".form-group");if(!t)return;let a=t.querySelector("label");if(!a)return;let n=window.getComputedStyle(a),l=a.offsetHeight,i=parseFloat(n.marginBottom)||0,o=l+i+20;document.documentElement.style.setProperty("--label-space",`${o}px`)};zf();wf();window.addEventListener("resize",()=>{zf(),wf()});window.addEventListener("orientationchange",()=>{zf(),wf()});var XC=e=>{e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})};function QC(e){let t=e.target;t instanceof HTMLElement&&(t.closest(".modal")||setTimeout(()=>{if(!document.body.contains(t))return;if(t.classList.contains("origin")||t.classList.contains("destination")){XC(t);return}t.scrollIntoView({behavior:"smooth",block:"center"})},250))}YC.forEach(e=>{e.addEventListener("focus",QC)});var Pv="notes-selected-service",KC="notes-modal",ZC="notes-title",FC="notes-textarea",JC="notes-save",kC="notes-cancel",$C="notes-char-counter",ti,Vf,oe,Gs,Hf,Nn,No=null,Lo=null,Mo=null;function qv(){let e=document.getElementById(Pv);if(!e){console.warn(`Notes Service: Bot\xF3 amb ID '${Pv}' no trobat.`);return}if(ti=document.getElementById(KC),Vf=document.getElementById(ZC),oe=document.getElementById(FC),Gs=document.getElementById(JC),Hf=document.getElementById(kC),Nn=document.getElementById($C),!ti||!Vf||!oe||!Gs||!Hf||!Nn){console.error("Notes Service: Un o m\xE9s elements del modal de notes no s'han trobat.");return}e.addEventListener("click",()=>{let t=$a();WC(t)}),Hf.addEventListener("click",Gf),console.log("Funcionalitat 'Afegir Notes' configurada.")}function WC(e){if(!ti)return;Vf.textContent=`S${e+1}: Observaciones`,oe.value=zt[e]||"";let t=oe.maxLength,a=()=>{let n=oe.value.length;Nn.textContent=`${n} / ${t}`,Nn.classList.remove("warning","limit"),oe.classList.remove("input-warning","input-error"),n>=t?(Nn.classList.add("limit"),oe.classList.add("input-error")):n>t*.8&&(Nn.classList.add("warning"),oe.classList.add("input-warning"))};a(),Lo=()=>{oe.value.length>t&&(oe.value=oe.value.slice(0,t)),a()},oe.addEventListener("input",Lo),Mo=n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),oe.blur())},oe.addEventListener("keydown",Mo),No=()=>{let n=oe.value.trim(),l=zt[e]||"";if(n===l){Gf();return}zt[e]=n,n?R("Observaci\xF3n guardada.","success"):R("Observaci\xF3n eliminada.","info"),Gf(),wt()},Gs.addEventListener("click",No),ti.style.display="block",document.body.classList.add("modal-open"),setTimeout(()=>{oe.focus({preventScroll:!0}),oe.setSelectionRange(oe.value.length,oe.value.length)},0)}function Gf(){ti&&(No&&(Gs.removeEventListener("click",No),No=null),Lo&&(oe.removeEventListener("input",Lo),Lo=null),Mo&&(oe.removeEventListener("keydown",Mo),Mo=null),Nn.classList.remove("warning","limit"),oe.classList.remove("input-warning","input-error"),ti.style.display="none",document.body.classList.remove("modal-open"))}var e_="https://www.googletagmanager.com/gtag/js?id=G-23SXKMLR75",t_="sha384-npdF2r0gS4VTDBOUWQ32Igb6Tr6PDv4p0eoQI5oJUSutnNpdFb8JFJ7Y8dbvECv7";window.dataLayer=window.dataLayer||[];window.gtag=window.gtag||function(){window.dataLayer.push(arguments)};var a_=e=>{let a=`; ${document.cookie}`.split(`; ${e}=`);if(a.length===2)return a.pop()?.split(";").shift()},jv=(e,t,a)=>{let n=new Date;n.setTime(n.getTime()+a*24*60*60*1e3);let l=`expires=${n.toUTCString()}`;document.cookie=`${e}=${t};${l};path=/;SameSite=Lax;Secure`},ai,Pf,qf,Yv=!1;async function Xv(){Yv||(await Yn({src:e_,integrity:t_,referrerPolicy:"strict-origin-when-cross-origin"}),window.gtag("js",new Date),window.gtag("config","G-23SXKMLR75"),Yv=!0)}function n_(){Xv().catch(e=>{console.error("Error carregant Google Analytics:",e)}),jv("cookie_consent","granted",365),Ps()}function l_(){typeof window.gtag=="function"&&window.gtag("consent","update",{analytics_storage:"denied"}),jv("cookie_consent","denied",365),Ps()}function i_(){ai&&ai.classList.remove("hidden")}function Ps(){ai&&ai.classList.add("hidden")}function Qv(){if(ai=document.getElementById("cookie-consent-banner"),Pf=document.getElementById("accept-cookies"),qf=document.getElementById("decline-cookies"),!ai||!Pf||!qf){console.warn("Elements del b\xE0ner de cookies no trobats.");return}let e=a_("cookie_consent");if(window.gtag("consent","default",{analytics_storage:"denied"}),e==="granted"){Xv().catch(t=>{console.error("Error carregant GA despr\xE9s del consentiment guardat:",t)}),Ps();return}if(e==="denied"){Ps();return}e||(i_(),Pf.addEventListener("click",n_),qf.addEventListener("click",l_))}var qs=["Abella de la Conca","Abrera","Agramunt","Aguilar de Segarra","Agullana","Aiguafreda","Aiguam\xFArcia","Aiguaviva","Aitona","Alam\xFAs, els","Albag\xE9s, l'","Albany\xE0","Albat\xE0rrec","Albesa","Albi, l'","Albinyana","Albiol, l'","Albons","Alcanar","Alcan\xF3","Alcarr\xE0s","Alcoletge","Alcover","Aldea, l'","Aldover","Aleixar, l'","Alella","Alfara de Carles","Alfarr\xE0s","Alforja","Alf\xE9s","Algerri","Alguaire","Alins","Ali\xF3","Almacelles","Almatret","Almenar","Almoster","Alp","Alpens","Alpicat","Alt \xC0neu","Altafulla","Altres/Diversos","Al\xE0s i Cerc","Al\xF2s de Balaguer","Amer","Ametlla de Mar, l'","Ametlla del Vall\xE8s, l'","Ampolla, l'","Amposta","Anglesola","Angl\xE8s","Arbeca","Arbol\xED","Arbo\xE7, l'","Arb\xFAcies","Arenys de Mar","Arenys de Munt","Argelaguer","Argentera, l'","Argentona","Argen\xE7ola","Armentera, l'","Arnes","Arres","Ars\xE8guel","Artesa de Lleida","Artesa de Segre","Art\xE9s","Asc\xF3","Aspa","Avellanes i Santa Linya, les","Avinyonet de Puigvent\xF3s","Avinyonet del Pened\xE8s","Aviny\xF3","Avi\xE0","Badalona","Badia del Vall\xE8s","Bag\xE0","Baix Pallars","Balaguer","Baleny\xE0","Balsareny","Banyeres del Pened\xE8s","Banyoles","Barbens","Barber\xE0 de la Conca","Barber\xE0 del Vall\xE8s","Barcelona","Baronia de Rialb, la","Bassella","Batea","Bausen","Begues","Begur","Belianes","Bell-lloc d'Urgell","Bellaguarda","Bellcaire d'Empord\xE0","Bellcaire d'Urgell","Bellmunt d'Urgell","Bellmunt del Priorat","Bellprat","Bellpuig","Bellvei","Bellver de Cerdanya","Bellv\xEDs","Benavent de Segri\xE0","Benifallet","Benissanet","Berga","Besal\xFA","Bescan\xF3","Beuda","Bigues i Riells del Fai","Biosca","Bisbal d'Empord\xE0, la","Bisbal de Montsant, la","Bisbal del Pened\xE8s, la","Biure","Blancafort","Blanes","Boadella i les Escaules","Bolvir","Bonastre","Bordils","Borges Blanques, les","Borges del Camp, les","Borrass\xE0","Borred\xE0","Boss\xF2st","Bot","Botarell","Bovera","Breda","Bruc, el","Brull, el","Brunyola i Sant Mart\xED Sapresa","Br\xE0fim","B\xE0scara","B\xF2rdes, Es","Cabac\xE9s","Cabanabona","Cabanelles","Cabanes","Cabanyes, les","Cabra del Camp","Cabrera d'Anoia","Cabrera de Mar","Cabrils","Cab\xF3","Cadaqu\xE9s","Calaf","Calafell","Calders","Caldes d'Estrac","Caldes de Malavella","Caldes de Montbui","Calella","Calldetenes","Call\xFAs","Calonge de Segarra","Calonge i Sant Antoni","Camarasa","Camarles","Cambrils","Campdev\xE0nol","Campelles","Campins","Campllong","Camprodon","Cam\xF3s","Canejan","Canet d'Adri","Canet de Mar","Canonja, la","Canovelles","Cantallops","Canyelles","Capafonts","Capellades","Capmany","Capolat","Cap\xE7anes","Cardedeu","Cardona","Carme","Caseres","Casserres","Cass\xE0 de la Selva","Castell d'Aro, Platja d'Aro i s'Agar\xF3","Castell de Mur","Castell de l'Areny","Castellar de la Ribera","Castellar de n'Hug","Castellar del Riu","Castellar del Vall\xE8s","Castellbell i el Vilar","Castellbisbal","Castellcir","Castelldans","Castelldefels","Castellet i la Gornal","Castellfollit de Riubreg\xF3s","Castellfollit de la Roca","Castellfollit del Boix","Castellgal\xED","Castellnou de Bages","Castellnou de Seana","Castellol\xED","Castellser\xE0","Castellter\xE7ol","Castellvell del Camp","Castellv\xED de Rosanes","Castellv\xED de la Marca","Castell\xF3 d'Emp\xFAries","Castell\xF3 de Farfanya","Catllar, el","Cava","Cellera de Ter, la","Celr\xE0","Centelles","Cercs","Cerdanyola del Vall\xE8s","Cervell\xF3","Cervera","Cervi\xE0 de Ter","Cervi\xE0 de les Garrigues","Cistella","Ciutadilla","Clariana de Cardener","Cogul, el","Colera","Coll de Narg\xF3","Collbat\xF3","Colldejou","Collsuspina","Colomers","Coma i la Pedra, la","Conca de Dalt","Conesa","Constant\xED","Copons","Corbera d'Ebre","Corbera de Llobregat","Corbins","Cornell\xE0 de Llobregat","Cornell\xE0 del Terri","Cornudella de Montsant","Cor\xE7\xE0","Creixell","Crespi\xE0","Cru\xEFlles, Monells i Sant Sadurn\xED de l'Heura","Cubelles","Cubells","Cunit","C\xE0noves i Samal\xFAs","Darnius","Das","Deltebre","Dosrius","Duesaig\xFCes","Escala, l'","Esparreguera","Espinelves","Espluga Calba, l'","Espluga de Francol\xED, l'","Esplugues de Llobregat","Espolla","Esponell\xE0","Espot","Espunyola, l'","Esquirol, l'","Estamariu","Estany, l'","Estar\xE0s","Esterri d'\xC0neu","Esterri de Card\xF3s","Falset","Far d'Empord\xE0, el","Farrera","Fatarella, la","Febr\xF3, la","Figar\xF3-Montmany","Figuera, la","Figueres","Figuerola del Camp","Fla\xE7\xE0","Flix","Floresta, la","Fogars de Montcl\xFAs","Fogars de la Selva","Foix\xE0","Folgueroles","Fondarella","Fonollosa","Font-rub\xED","Fontanals de Cerdanya","Fontanilles","Fontcoberta","Foradada","Forallac","Fornells de la Selva","Forti\xE0","For\xE8s","Franqueses del Vall\xE8s, les","Freginals","Fuliola, la","Fulleda","F\xEDgols","F\xEDgols i Aliny\xE0","Gai\xE0","Galera, la","Gallifa","Gandesa","Garcia","Garidells, els","Garriga, la","Garrigoles","Garriguella","Garrig\xE0s","Gavet de la Conca","Gav\xE0","Gelida","Ger","Gimenells i el Pla de la Font","Ginestar","Girona","Gironella","Gisclareny","Godall","Golm\xE9s","Gombr\xE8n","Granada, la","Granadella, la","Granera","Granja d'Escarp, la","Granollers","Granyanella","Granyena de Segarra","Granyena de les Garrigues","Gratallops","Gualba","Gualta","Guardiola de Bergued\xE0","Guiamets, els","Guils de Cerdanya","Guimer\xE0","Guingueta d'\xC0neu, la","Guissona","Guixers","Gurb","G\xF3sol","Horta de Sant Joan","Hospitalet de Llobregat, l'","Hostalets de Pierola, els","Hostalric","Igualada","Isona i Conca Dell\xE0","Is\xF2vol","Ivars d'Urgell","Ivars de Noguera","Ivorra","Jafre","Jonquera, la","Jorba","Josa i Tuix\xE9n","Jui\xE0","Juncosa","Juneda","Les","Linyola","Llacuna, la","Lladorre","Lladurs","Llad\xF3","Llagosta, la","Llagostera","Llambilles","Llanars","Llan\xE7\xE0","Llardecans","Llavors\xED","Lleida","Llers","Lles de Cerdanya","Llimiana","Llinars del Vall\xE8s","Lli\xE7\xE0 d'Amunt","Lli\xE7\xE0 de Vall","Lloar, el","Llobera","Llorac","Lloren\xE7 del Pened\xE8s","Lloret de Mar","Llosses, les","Llu\xE7\xE0","Ll\xEDvia","Madremanya","Maials","Mai\xE0 de Montcal","Mald\xE0","Malgrat de Mar","Malla","Manlleu","Manresa","Margalef","Marganell","Martorell","Martorelles","Mar\xE7\xE0","Mas de Barberans","Masarac i Vilarnadal","Masdenverge","Masies de Roda, les","Masies de Voltreg\xE0, les","Maslloren\xE7","Masnou, el","Maspujols","Masquefa","Masroig, el","Massalcoreig","Massanes","Massoteres","Mas\xF3, la","Matadepera","Matar\xF3","Ma\xE7anet de Cabrenys","Ma\xE7anet de la Selva","Mediona","Men\xE0rguens","Meranges","Mieres","Mil\xE0, el","Miralcamp","Miravet","Moi\xE0","Molar, el","Molins de Rei","Mollerussa","Mollet de Peralada","Mollet del Vall\xE8s","Moll\xF3","Molsosa, la","Monistrol de Calders","Monistrol de Montserrat","Mont-ral","Mont-ras","Mont-roig del Camp","Montagut i Oix","Montblanc","Montbri\xF3 del Camp","Montcada i Reixac","Montclar","Montell\xE0 i Martinet","Montesquiu","Montferrer i Castellb\xF2","Montferri","Montgai","Montgat","Montmajor","Montmaneu","Montmell, el","Montmel\xF3","Montoliu de Lleida","Montoliu de Segarra","Montorn\xE8s de Segarra","Montorn\xE8s del Vall\xE8s","Montseny","Morell, el","Morera de Montsant, la","Muntanyola","Mura","M\xF3ra d'Ebre","M\xF3ra la Nova","Nalec","Naut Aran","Navarcles","Navata","Nav\xE0s","Nav\xE8s","No consta","Nou de Bergued\xE0, la","Nou de Gai\xE0, la","Nulles","Od\xE8n","Ogassa","Olesa de Bonesvalls","Olesa de Montserrat","Oliana","Oliola","Olius","Olivella","Olost","Olot","Oluges, les","Olvan","Ol\xE8rdola","Omellons, els","Omells de na Gaia, els","Ordis","Organy\xE0","Orist\xE0","Orp\xED","Or\xEDs","Os de Balaguer","Osor","Oss\xF3 de Si\xF3","Pacs del Pened\xE8s","Palafolls","Palafrugell","Palam\xF3s","Palau d'Anglesola, el","Palau de Santa Eul\xE0lia","Palau-sator","Palau-saverdera","Palau-solit\xE0 i Plegamans","Pallaresos, els","Pallej\xE0","Palma d'Ebre, la","Palma de Cervell\xF3, la","Palol de Revardit","Pals","Papiol, el","Pardines","Parets del Vall\xE8s","Parlav\xE0","Passanant i Belltall","Pau","Pa\xFCls","Pedret i Marz\xE0","Penelles","Pera, la","Perafita","Perafort","Peralada","Peramola","Perell\xF3, el","Piera","Piles, les","Pineda de Mar","Pinell de Brai, el","Pinell de Solson\xE8s","Pin\xF3s","Pira","Pla de Santa Maria, el","Pla del Pened\xE8s, el","Planes d'Hostoles, les","Planoles","Plans de Si\xF3, els","Poal, el","Pobla de Claramunt, la","Pobla de C\xE9rvoles, la","Pobla de Lillet, la","Pobla de Mafumet, la","Pobla de Massaluca, la","Pobla de Montorn\xE8s, la","Pobla de Segur, la","Poboleda","Poliny\xE0","Pont d'Armentera, el","Pont de Bar, el","Pont de Molins","Pont de Suert, el","Pont de Vilomara i Rocafort, el","Pontils","Pontons","Ponts","Pont\xF3s","Porqueres","Porrera","Port de la Selva, el","Portbou","Portella, la","Pradell de la Teixeta","Prades","Prat de Comte","Prat de Llobregat, el","Pratdip","Prats de Llu\xE7an\xE8s","Prats de Rei, els","Prats i Sansor","Preixana","Preixens","Premi\xE0 de Dalt","Premi\xE0 de Mar","Preses, les","Prullans","Puig-reig","Puigcerd\xE0","Puigd\xE0lber","Puiggr\xF2s","Puigpelat","Puigverd d'Agramunt","Puigverd de Lleida","Pujalt","Quar, la","Quart","Queralbs","Querol","Rab\xF3s","Rajadell","Rasquera","Regenc\xF3s","Rellinars","Renau","Reus","Rialp","Riba, la","Riba-roja d'Ebre","Ribera d'Ondara","Ribera d'Urgellet","Ribes de Freser","Riells i Viabrea","Riera de Gai\xE0, la","Riner","Ripoll","Ripollet","Riu de Cerdanya","Riudarenes","Riudaura","Riudecanyes","Riudecols","Riudellots de la Selva","Riudoms","Riumors","Roca del Vall\xE8s, la","Rocafort de Queralt","Roda de Ber\xE0","Roda de Ter","Rodony\xE0","Roquetes","Roses","Rossell\xF3","Rourell, el","Rubi\xF3","Rub\xED","Rupit i Pruit","Rupi\xE0","R\xE0pita, la","Sabadell","Sag\xE0s","Saldes","Sales de Llierca","Sallent","Salom\xF3","Salou","Salt","Sal\xE0s de Pallars","Sana\xFCja","Sant Adri\xE0 de Bes\xF2s","Sant Agust\xED de Llu\xE7an\xE8s","Sant Andreu Salou","Sant Andreu de Llavaneres","Sant Andreu de la Barca","Sant Aniol de Finestres","Sant Antoni de Vilamajor","Sant Bartomeu del Grau","Sant Boi de Llobregat","Sant Boi de Llu\xE7an\xE8s","Sant Cebri\xE0 de Vallalta","Sant Celoni","Sant Climent Sescebes","Sant Climent de Llobregat","Sant Cugat Sesgarrigues","Sant Cugat del Vall\xE8s","Sant Esteve Sesrovires","Sant Esteve de Palautordera","Sant Esteve de la Sarga","Sant Feliu Sasserra","Sant Feliu de Buixalleu","Sant Feliu de Codines","Sant Feliu de Gu\xEDxols","Sant Feliu de Llobregat","Sant Feliu de Pallerols","Sant Ferriol","Sant Fost de Campsentelles","Sant Fruit\xF3s de Bages","Sant Gregori","Sant Guim de Freixenet","Sant Guim de la Plana","Sant Hilari Sacalm","Sant Hip\xF2lit de Voltreg\xE0","Sant Iscle de Vallalta","Sant J. d'Enveja","Sant J. de Frontany\xE0","Sant J. de Llierca","Sant J. dels Domenys","Sant Joan Desp\xED","Sant Joan de Mollet","Sant Joan de Vilatorrada","Sant Joan de les Abadesses","Sant Joan les Fonts","Sant Jordi Desvalls","Sant Juli\xE0 de Cerdanyola","Sant Juli\xE0 de Ramis","Sant Juli\xE0 de Vilatorta","Sant Juli\xE0 del Llor i Bonmat\xED","Sant Just Desvern","Sant Lloren\xE7 Savall","Sant Lloren\xE7 d'Hortons","Sant Lloren\xE7 de Morunys","Sant Lloren\xE7 de la Muga","Sant Mart\xED Sarroca","Sant Mart\xED Sesgueioles","Sant Mart\xED Vell","Sant Mart\xED d'Albars","Sant Mart\xED de Centelles","Sant Mart\xED de Ll\xE9mena","Sant Mart\xED de Riucorb","Sant Mart\xED de Tous","Sant Mateu de Bages","Sant Miquel de Campmajor","Sant Miquel de Fluvi\xE0","Sant Mori","Sant Pau de Seg\xFAries","Sant Pere Pescador","Sant Pere Sallavinera","Sant Pere de Ribes","Sant Pere de Riudebitlles","Sant Pere de Torell\xF3","Sant Pere de Vilamajor","Sant Pol de Mar","Sant Quint\xED de Mediona","Sant Quirze Safaja","Sant Quirze de Besora","Sant Quirze del Vall\xE8s","Sant Ramon","Sant Sadurn\xED d'Anoia","Sant Sadurn\xED d'Osormort","Sant Salvador de Guardiola","Sant Vicen\xE7 de Castellet","Sant Vicen\xE7 de Montalt","Sant Vicen\xE7 de Torell\xF3","Sant Vicen\xE7 dels Horts","Santa B\xE0rbara","Santa Cec\xEDlia de Voltreg\xE0","Santa Coloma de Cervell\xF3","Santa Coloma de Farners","Santa Coloma de Gramenet","Santa Coloma de Queralt","Santa Cristina d'Aro","Santa Eug\xE8nia de Berga","Santa Eul\xE0lia de Riuprimer","Santa Eul\xE0lia de Ron\xE7ana","Santa Fe del Pened\xE8s","Santa Llogaia d'\xC0lguema","Santa Margarida de Montbui","Santa Margarida i els Monjos","Santa Maria d'Ol\xF3","Santa Maria de Besora","Santa Maria de Martorelles","Santa Maria de Merl\xE8s","Santa Maria de Miralles","Santa Maria de Palautordera","Santa Oliva","Santa Pau","Santa Perp\xE8tua de Mogoda","Santa Susanna","Santpedor","Sarral","Sarri\xE0 de Ter","Sarroca de Bellera","Sarroca de Lleida","Saus, Camallera i Llampaies","Savall\xE0 del Comtat","Secuita, la","Selva de Mar, la","Selva del Camp, la","Senan","Senterada","Sentiu de Si\xF3, la","Sentmenat","Seriny\xE0","Serra de Dar\xF3","Ser\xF2s","Setcases","Seu d'Urgell, la","Seva","Sidamon","Sils","Sitges","Siurana","Sobremunt","Soler\xE0s, el","Solivella","Solsona","Sora","Soriguera","Sort","Soses","Subirats","Sudanell","Sunyer","Susqueda","S\xE9nia, la","S\xFAria","Tagamanent","Talamanca","Talarn","Talavera","Tallada d'Empord\xE0, la","Taradell","Tarragona","Tarroja de Segarra","Tarr\xE9s","Tavertet","Tav\xE8rnoles","Tei\xE0","Terrades","Terrassa","Tiana","Tiurana","Tivenys","Tivissa","Tona","Tordera","Torell\xF3","Torms, els","Tornabous","Torre de Cabdella, la","Torre de Claramunt, la","Torre de Fontaubella, la","Torre de l'Espanyol, la","Torre-serona","Torrebesses","Torredembarra","Torrefarrera","Torrefeta i Florejacs","Torregrossa","Torrelameu","Torrelavit","Torrelles de Foix","Torrelles de Llobregat","Torrent","Torres de Segre","Torroella de Fluvi\xE0","Torroella de Montgr\xED","Torroja del Priorat","Tortell\xE0","Tortosa","Tor\xE0","Toses","Tossa de Mar","Tremp","T\xE0rrega","T\xE9rmens","T\xEDrvia","Ullastrell","Ullastret","Ulldecona","Ulldemolins","Ull\xE0","Ultramort","Ur\xFAs","Vacarisses","Vajol, la","Vall d'en Bas, la","Vall de Bianya, la","Vall de Bo\xED, la","Vall de Card\xF3s","Vall-llobrega","Vallbona d'Anoia","Vallbona de les Monges","Vallcebre","Vallclara","Vallfogona de Balaguer","Vallfogona de Ripoll\xE8s","Vallfogona de Riucorb","Vallgorguina","Vallirana","Vallmoll","Vallromanes","Valls","Valls d'Aguilar, les","Valls de Valira, les","Vandell\xF2s i l'Hospitalet de l'Infant","Vansa i F\xF3rnols, la","Veciana","Vendrell, el","Ventall\xF3","Verd\xFA","Verges","Vespella de Gai\xE0","Vic","Vidreres","Vidr\xE0","Vielha e Mijaran","Vila-rodona","Vila-sacra","Vila-sana","Vila-seca","Vilabella","Vilabertran","Vilablareix","Vilada","Viladamat","Viladasens","Viladecans","Viladecavalls","Vilademuls","Viladrau","Vilafant","Vilafranca del Pened\xE8s","Vilagrassa","Vilaju\xEFga","Vilalba Sasserra","Vilalba dels Arcs","Vilaller","Vilallonga de Ter","Vilallonga del Camp","Vilamacolum","Vilamalla","Vilamaniscle","Vilam\xF2s","Vilanant","Vilanova d'Escornalbou","Vilanova de Bellpuig","Vilanova de Mei\xE0","Vilanova de Prades","Vilanova de Sau","Vilanova de Segri\xE0","Vilanova de l'Aguda","Vilanova de la Barca","Vilanova del Cam\xED","Vilanova del Vall\xE8s","Vilanova i la Geltr\xFA","Vilaplana","Vilassar de Dalt","Vilassar de Mar","Vilaverd","Vila\xFCr","Vilella Alta, la","Vilella Baixa, la","Vilob\xED d'Onyar","Vilob\xED del Pened\xE8s","Vilopriu","Vilosell, el","Vimbod\xED i Poblet","Vinaixa","Vinebre","Vinyols i els Arcs","Viver i Serrateix","Xerta","\xC0ger","\xD2dena","\xD2rrius"],Ys=["CAP Les Corts","CAP La Sagrada Fam\xEDlia","CAP El Clot","CAP La Pau","CAP Sant Andreu","CAP Sant Mart\xED","CAP Horta-Guinard\xF3","CAP Nou Barris","CAP Sants-Montju\xEFc","CAP Gr\xE0cia","CAP Sarri\xE0-Sant Gervasi","CAP Badalona Centre","CAP Badalona Pomar","CAP Sta. Coloma Gramenet Nord","CAP Sta. Coloma Gramenet Sud","CAP Montcada i Reixac","CAP Ripollet","CAP Cerdanyola Vall\xE8s","CAP Barber\xE0 Vall\xE8s","CAP Sabadell Centre","CAP Sabadell Nord","CAP Sabadell Sud","CAP Terrassa Nord","CAP Terrassa Sud","CAP Rub\xED","CAP Castellbisbal","CAP Martorell","CAP Abrera","CAP Olesa Montserrat","CAP Esparreguera","CAP Pallej\xE0","CAP Corbera Llobregat","CAP Cervell\xF3","CAP Vallirana","CAP Sant Andreu Barca","CAP Sant Boi Llobregat","CAP Sant Climent Llobregat","CAP Sant Joan Desp\xED","CAP Sant Vicen\xE7 Horts","CAP Cornell\xE0 Llobregat","CAP L'Hospitalet Llobregat Nord","CAP L'Hospitalet Llobregat Sud","CAP Esplugues Llobregat","CAP Viladecans","CAP Gav\xE0","CAP Castelldefels","CAP El Prat Llobregat","CAP Begues","CAP Sitges","CAP Vilanova Geltr\xFA","CAP Cubelles","CAP Cunit","CAP Calafell","CAP El Vendrell","CAP Vilafranca Pened\xE8s","CAP Sant Sadurn\xED Anoia","CAP Igualada","CAP Piera","CAP Capellades","CAP Martorelles","CAP Lli\xE7\xE0 Vall","CAP Granollers Nord","CAP Granollers Sud","CAP Canovelles","CAP Les Franqueses Vall\xE8s","CAP La Garriga","CAP Cardedeu","CAP L'Ametlla Vall\xE8s","CAP Sant Antoni Vilamajor","CAP Sant Celoni","CAP Sant Esteve Palautordera","CAP Sant Pere Vilamajor","CAP Vilalba Sasserra","CAP Matar\xF3 Centre","CAP Matar\xF3 Nord","CAP Matar\xF3 Sud","CAP Argentona","CAP Cabrera Mar","CAP Dosrius","CAP Vilassar Mar","CAP Premi\xE0 Mar","CAP El Masnou","CAP Tei\xE0","CAP Alella","CAP Tiana","CAP Montgat","CAP Tordera","CAP Malgrat Mar","CAP Palafolls","CAP Blanes","CAP Lloret Mar","CAP Tossa Mar","CAP Calella","CAP Pineda Mar","CAP Sta. Susanna","CAP Arenys Mar","CAP Canet Adri","CAP Sant Feliu Llobregat","CAP Molins Rei","CAP Sant Joan Desp\xED","CAP Sant Vicen\xE7 Horts","CAP Cornell\xE0 Llobregat","CAP L'Hospitalet Llobregat","CAP Esplugues Llobregat","CAP Viladecans","CAP Gav\xE0","CAP Castelldefels","CAP El Prat Llobregat","CAP Manresa","CAP Sant Joan Vilatorrada","CAP Sant Fruit\xF3s Bages","CAP Sallent","CAP S\xFAria","CAP Cardona","CAP Solsona","CAP Berga","CAP Puigcerd\xE0","CAP La Seu Urgell","CAP Sort","CAP Vic","CAP Centelles","CAP Torell\xF3","CAP Taradell","CAP Sta. Eug\xE8nia Berga","CAP Moi\xE0","CAP Prats Llu\xE7an\xE8s","CAP Olost","CAP Sta. Maria Ol\xF3","CAP Llu\xE7\xE0","CAP Santpedor","CAP Sant Mateu Bages","CAP Art\xE9s","CAP Aviny\xF3","CAP Castellfollit Boix","CAP Jorba","CAP Sant Mart\xED Sesgueioles","CAP Copons","CAP Sant Sadurn\xED Osormort","CAP Masquefa","CAP Sant Lloren\xE7 Savall","CAP Gallifa","CAP Sant Feliu Sasserra","CAP Sant Quirze Besora","CAP Sant Vicen\xE7 Torell\xF3","CAP Les Masies Voltreg\xE0","CAP Or\xEDs","CAP Sant Boi Llu\xE7an\xE8s","CAP Prats Rei","CAP Girona Centre","CAP Girona Nord","CAP Girona Sud","CAP Salt","CAP Sarri\xE0 Ter","CAP Banyoles","CAP Porqueres","CAP Besal\xFA","CAP Olot","CAP Sta. Pau","CAP Camprodon","CAP Ripoll","CAP Sant Joan Abadesses","CAP Figueres","CAP Llan\xE7\xE0","CAP Castell\xF3 Emp\xFAries","CAP Roses","CAP Cadaqu\xE9s","CAP La Jonquera","CAP Agullana","CAP Ma\xE7anet Selva","CAP Sta. Coloma Farners","CAP Arb\xFAcies","CAP Breda","CAP Riudarenes","CAP Sils","CAP Angl\xE8s","CAP La Cellera Ter","CAP Amer","CAP Sant Hilari Sacalm","CAP Osor","CAP Vidreres","CAP Lloret Mar","CAP Blanes","CAP Tossa Mar","CAP Calonge","CAP Palam\xF3s","CAP Platja Aro","CAP Sta. Cristina Aro","CAP Lleida Centre","CAP Lleida Nord","CAP Lleida Sud","CAP Balaguer","CAP La Seu Urgell","CAP Vielha","CAP Tremp","CAP Sort","CAP Puigcerd\xE0","CAP T\xE0rrega","CAP Cervera","CAP Mollerussa","CAP Artesa Segre","CAP Ponts","CAP Almacelles","CAP Aitona","CAP Ser\xF2s","CAP Torres Segre","CAP Juneda","CAP Les Borges Blanques","CAP Miralcamp","CAP Preixens","CAP Oliana","CAP Organy\xE0","CAP Sant Lloren\xE7 Cardoner","CAP Sant Ramon","CAP Castellbell Vilar","CAP Sant Vicen\xE7 Castellet","CAP Monistrol Montserrat","CAP Marganell","CAP El Bruc","CAP Sant Salvador Guardiola","CAP Nav\xE0s","CAP S\xFAria","CAP Sallent","CAP Cardona","CAP Sant Joan Vilatorrada","CAP Manresa Nord","CAP Manresa Sud","CAP Tarragona Centre","CAP Tarragona Nord","CAP Tarragona Sud","CAP Reus","CAP Constant\xED","CAP Riudoms","CAP Cambrils","CAP Salou","CAP Vila-seca","CAP Torredembarra","CAP Altafulla","CAP Creixell","CAP Roda Ber\xE0","CAP Valls","CAP Nulles","CAP El Pla Pened\xE8s","CAP La Bisbal Pened\xE8s","CAP Sant Jaume Domenys","CAP El Vendrell","CAP Calafell","CAP Cunit","CAP Cubelles","CAP Vilanova Geltr\xFA","CAP Sitges","CAP Sant Pere Ribes","CAP Vilafranca Pened\xE8s","CAP Sant Sadurn\xED Anoia","CAP Subirats","CAP Sant Mart\xED Sarroca","CAP La Granada","CAP Montblanc","CAP La Riba","CAP Falset","CAP M\xF3ra Nova","CAP Gandesa","CAP Tortosa","CAP Amposta","CAP Sant Carles N\xE0utica","CAP Deltebre","CAP Roquetes","CAP Alcanar","CAP Vinar\xF2s","CAP Benicarl\xF3","CAP Pen\xEDscola","CUAP Matar\xF3","CUAP Granollers","CUAP Vic","CUAP Manresa","CUAP Igualada","CUAP Vilafranca Pened\xE8s","CUAP Vilanova Geltr\xFA","CUAP El Vendrell","CUAP Reus","CUAP Tarragona","CUAP Lleida","CUAP Girona","CUAP Figueres","CUAP Blanes","CUAP Olot","CUAP Berga","CUAP Solsona","CUAP Tremp","CUAP La Seu Urgell","CUAP Puigcerd\xE0","AECT H. Cerdanya","CAP Abrera","CAP Alcanar","CAP Amposta","CAP Badalona","CAP Banyoles","CAP Barber\xE0 Vall\xE8s","CAP Barcelona","CAP Bellvitge","CAP Berga","CAP Blanes","CAP Calella","CAP Cambrils","CAP Cerdanyola Vall\xE8s","CAP Cornell\xE0 Llobregat","CAP El Prat Llobregat","CAP El Vendrell","CAP Esplugues Llobregat","CAP Figueres","CAP Gav\xE0","CAP Girona","CAP Granollers","CAP Igualada","CAP L'Hospitalet Llobregat","CAP Lleida","CAP Manresa","CAP Martorell","CAP Matar\xF3","CAP Mollet Vall\xE8s","CAP Montcada i Reixac","CAP Olot","CAP Reus","CAP Ripollet","CAP Rub\xED","CAP Sabadell","CAP Salt","CAP St. Adri\xE0 Bes\xF2s","CAP St. Andreu Barca","CAP St. Boi Llobregat","CAP St. Celoni","CAP St. Cugat Vall\xE8s","CAP St. Feliu Llobregat","CAP St. J. Desp\xED","CAP St. Vicen\xE7 Horts","CAP Sta. Coloma Gramenet","CAP Tarragona","CAP Terrassa","CAP Tortosa","CAP Vic","CAP Viladecans","CAP Vilafranca Pened\xE8s","CAP Vilanova i Geltr\xFA","Espitau Val d'Aran","Fund. H. Esperit St.","Fund. Puigvert","H. Cl\xEDnic Barcelona","H. Com. M\xF3ra d'Ebre","H. Com. St. Antoni Abat","H. Com. St. Bernab\xE9","H. St. Jaume Calella","H. Com. Amposta","H. Comarcal Blanes","H. Com. Alt Pened\xE8s","H. Com. Pallars","H. Dos Maig","H. P. San. St. Joan D\xE9u","H. Gen. Granollers","H. Gen. Hospitalet","H. Munic. Badalona","H. Res. St. Camil","H. St. Joan D\xE9u Esplugues","H. St. J. D\xE9u Manresa","H. St. J. D\xE9u Martorell","H. St. P. i Sta. Tecla","H. Sta. Caterina","H. Arnau Vilanova","H. Bellvitge","H. Dr. Josep Trueta","H. Vall d'Hebron","H. Germans Trias i Pujol","H. J. 23 Tarragona","H. M\xFAtua Terrassa","H. Sta. Maria","H. Igualada","H. St. J. Reus","H. Tortosa Verge Cinta","H. Vic","H. Olot i Com. Garrotxa","H. Campdev\xE0nol","H. Figueres","H. Matar\xF3","H. Mollet","H. Palam\xF3s","H. Sabadell","H. St. Celoni","H. St. J. Desp\xED Broggi","H. Terrassa","H. Viladecans","H. Esperan\xE7a","H. Sta. Creu i St. Pau","H. Mar","H. Vendrell","ICO Badalona","ICO Girona","ICO L'Hospitalet","Inst. Guttmann","Pius H. Valls"],Kv=[...qs,...Ys],Zv=new Intl.Collator("ca",{sensitivity:"base"}),qD=[...Kv].sort(Zv.compare),YD=[...Kv].sort(Zv.compare);var js=$.withScope("LocationSuggestions"),Ro={ORIGIN_SUGGESTIONS:"locationSuggestions.origin",DESTINATION_SUGGESTIONS:"locationSuggestions.destination"},Fv=10,Jv=4,o_=6,kv=4,Ln=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),u_=["Barcelona","L'Hospitalet de Llobregat","Badalona","Terrassa","Sabadell","Lleida","Girona","Tarragona","Reus","Manresa","Matar\xF3","Santa Coloma de Gramenet","Cornell\xE0 de Llobregat","Sant Boi de Llobregat","Rub\xED","Vilanova i la Geltr\xFA","Viladecans","El Prat de Llobregat","Granollers","Cerdanyola del Vall\xE8s","Mollet del Vall\xE8s","Castelldefels","Gav\xE0","Martorell","Igualada","Vic","Figueres","Olot","Blanes","Lloret de Mar","Cambrils","Salou","Sitges","Roses","Palafrugell","Sant Cugat del Vall\xE8s","Esplugues de Llobregat","Sant Adri\xE0 de Bes\xF2s","Sant Feliu de Llobregat","Sant Joan Desp\xED","Sant Just Desvern","Parets del Vall\xE8s","Pineda de Mar","Calella","Castellar del Vall\xE8s","Molins de Rei","Ripollet","Berga","La Seu d'Urgell","Puigcerd\xE0","Amposta","Balaguer","Valls","La Bisbal d'Empord\xE0","Palam\xF3s","Platja d'Aro"],$v=new Map(u_.map((e,t)=>[Ln(e),t])),s_=$v.size+100,r_=e=>{let t=Ln(e);return t=t.replace(/hospital comarcal/g,"h. com.").replace(/hospital universitari/g,"h. u.").replace(/hospital general/g,"h. gen.").replace(/hospital/g,"h.").replace(/comarcal/g,"com.").replace(/universitari/g,"u.").replace(/general/g,"gen.").replace(/sant /g,"st. ").replace(/santa /g,"sta. "),[t]},Yf=class{constructor(){this.originSuggestions=this.loadSuggestions(Ro.ORIGIN_SUGGESTIONS),this.destinationSuggestions=this.loadSuggestions(Ro.DESTINATION_SUGGESTIONS),this.destinationLookup=this.createDestinationLookup(),this.destinationSuggestions=this.destinationSuggestions.map(t=>this.destinationLookup.get(Ln(t))||null).filter(Boolean),this.saveSuggestions(Ro.DESTINATION_SUGGESTIONS,this.destinationSuggestions),this.currentDropdown=null,this.currentInput=null,this.selectedIndex=-1,this.inputDebounceTimer=null,this.scrollAnimationFrame=null,this.visibilityTimeout=null,this.handleWindowScroll=()=>{!this.currentDropdown||!this.currentInput||this.scheduleDropdownReposition()},this.handleWindowResize=()=>{!this.currentDropdown||!this.currentInput||(this.scheduleDropdownReposition(),this.scheduleDropdownVisibilityCheck())},this.handleViewportShift=()=>{!this.currentDropdown||!this.currentInput||(this.scheduleDropdownReposition(),this.scheduleDropdownVisibilityCheck())}}createDestinationLookup(){let t=new Map;return Ys.forEach(a=>{t.set(Ln(a),a)}),t}loadSuggestions(t){try{let a=localStorage.getItem(t);return a?JSON.parse(a):[]}catch(a){return js.warn(`Error carregant suggeriments per ${t}:`,a),[]}}saveSuggestions(t,a){try{localStorage.setItem(t,JSON.stringify(a))}catch(n){js.warn(`Error guardant suggeriments per ${t}:`,n)}}addSuggestion(t,a){if(!a||a.trim().length<2)return;let n=a.trim(),l;if(t==="origin")l=this.originSuggestions;else if(t==="destination"){l=this.destinationSuggestions;let o=this.destinationLookup.get(Ln(n));if(!o){js.warn(`Dest\xED no reconegut. Nom\xE9s s'accepten centres sanitaris p\xFAblics. Valor rebut: "${n}"`);return}n=o}else return;let i=l.indexOf(n);i>-1&&l.splice(i,1),l.unshift(n),l.length>Fv&&(l=l.slice(0,Fv)),t==="origin"?(this.originSuggestions=l,this.saveSuggestions(Ro.ORIGIN_SUGGESTIONS,l)):(this.destinationSuggestions=l,this.saveSuggestions(Ro.DESTINATION_SUGGESTIONS,l)),this.updateDatalistForType(t)}getSuggestions(t){return t==="origin"?[...this.originSuggestions]:t==="destination"?[...this.destinationSuggestions]:[]}updateDatalists(){this.updateDatalistForType("origin"),this.updateDatalistForType("destination")}getBaseLocations(t){return t==="origin"?qs:Ys}calculateMatchScore(t,a,n,l,i){let o=$v.get(t)??s_,u=/,\s*(el|la|els|les|l')$/i.test(l)?1:0,s=l.includes("-")?1:0,r=a.length>1?0:1;if(!n.length)return{category:0,popularityRank:o,articlePenalty:u,hyphenPenalty:s,multiWordPenalty:r,prefixLengthPenalty:0};let c=f=>f?t.startsWith(f)?0:a.some(g=>g.startsWith(f))?1:2:3;return n.reduce((f,g)=>{let v=-1/0;g.forEach(E=>{v=Math.max(v,c(E))});let y=g[0]?.length??i.primaryLength??0,L=a[0]??"",m=y>0&&L.startsWith(g[0]??"")?Math.abs(L.length-y):L.length,d={category:Number.isFinite(v)?v:3,popularityRank:o,articlePenalty:u,hyphenPenalty:s,multiWordPenalty:r,prefixLengthPenalty:m};return f?this.compareScores(d,f)<0?d:f:d},null)||{category:3,popularityRank:o,articlePenalty:u,hyphenPenalty:s,multiWordPenalty:r,prefixLengthPenalty:a[0]?.length??99}}compareScores(t,a){return t.category!==a.category?t.category-a.category:t.popularityRank!==a.popularityRank?t.popularityRank-a.popularityRank:t.articlePenalty!==a.articlePenalty?t.articlePenalty-a.articlePenalty:t.hyphenPenalty!==a.hyphenPenalty?t.hyphenPenalty-a.hyphenPenalty:t.multiWordPenalty!==a.multiWordPenalty?t.multiWordPenalty-a.multiWordPenalty:t.prefixLengthPenalty!==a.prefixLengthPenalty?t.prefixLengthPenalty-a.prefixLengthPenalty:0}getSuggestionsForInput(t,a="",n={}){if(!n.onlyRecent&&a.trim().length<kv)return[];let l=r_(a).map(f=>f.split(/\s+/).map(g=>g.trim()).filter(Boolean)).filter(f=>f.length>0),i=Ln(a.trim()),u={primaryLength:i.split(/\s+/).map(f=>f.trim()).filter(Boolean)[0]?.length??i.length??0},s=t==="origin"?qs:this.getBaseLocations(t),r=[],c=new Set,S=(f,g)=>{if(!f)return;let v=f.trim();if(!v)return;let y=Ln(v),L=y.split(/[\s,\/'.-]+/).map(E=>E.trim()).filter(Boolean);if(!(l.length===0||l.some(E=>E.every(h=>y.includes(h))))||c.has(y))return;c.add(y);let d=this.calculateMatchScore(y,L,l,v,u);r.push({value:v,score:d,index:g})};return s.forEach((f,g)=>S(f,g)),r.sort((f,g)=>{let v=this.compareScores(f.score,g.score);return v!==0?v:f.index-g.index}).slice(0,Jv).map(f=>f.value)}getRecentSuggestions(t,a=o_){return(t==="origin"?this.originSuggestions:this.destinationSuggestions).slice(0,a)}updateDatalistForType(t,a="",n={}){let l=t==="origin"?"origin-datalist":"destination-datalist",i;n.onlyRecent?(i=this.getRecentSuggestions(t),i.length||(i=this.getBaseLocations(t).slice(0,Jv))):i=this.getSuggestionsForInput(t,a),this.updateDatalist(l,i)}updateDatalist(t,a){let n=document.getElementById(t);n&&(n.innerHTML="",a.forEach(l=>{let i=document.createElement("option");i.value=l,n.appendChild(i)}))}calculateDropdownZIndex(){return 850}getFixedHeadersOffset(){let t=[".top-bar",".tabs-container"],a=0;return t.forEach(n=>{let l=document.querySelector(n);if(!l)return;let i=l.getBoundingClientRect();i.bottom>a&&(a=i.bottom)}),Math.max(a,0)}createCustomDropdown(t,a){if(!a||a.length===0){this.closeDropdown();return}if(this.currentDropdown&&this.currentInput===t){this.updateDropdownOptions(this.currentDropdown,a,t);return}this.closeDropdown();let n=document.createElement("div");n.className="custom-location-dropdown",n.id="custom-location-dropdown";let l=t.getBoundingClientRect();n.style.position="fixed",n.style.top=`${l.bottom}px`,n.style.left=`${l.left}px`,n.style.width=`${l.width}px`,n.style.zIndex=String(this.calculateDropdownZIndex()),t.classList.add("has-dropdown-open"),this.updateDropdownOptions(n,a,t),document.body.appendChild(n),this.currentDropdown=n,this.currentInput=t,this.selectedIndex=-1,this.ensureDropdownVisibility(n,t),this.scheduleDropdownVisibilityCheck(),setTimeout(()=>{document.addEventListener("click",this.handleOutsideClick.bind(this))},0)}updateDropdownOptions(t,a,n){t.innerHTML="",a.forEach((l,i)=>{let o=document.createElement("div");o.className="custom-dropdown-option",o.textContent=l,o.dataset.index=i,o.addEventListener("click",u=>{u.preventDefault(),u.stopPropagation(),n.value=l,n.dispatchEvent(new Event("change",{bubbles:!0})),this.closeDropdown()}),o.addEventListener("mouseenter",()=>{this.selectedIndex=i,this.updateSelectedOption(t)}),t.appendChild(o)})}scheduleDropdownReposition(){this.scrollAnimationFrame||(this.scrollAnimationFrame=window.requestAnimationFrame(()=>{if(this.scrollAnimationFrame=null,!(!this.currentDropdown||!this.currentInput)){if(!document.body.contains(this.currentInput)){this.closeDropdown();return}this.repositionDropdown()}}))}scheduleDropdownVisibilityCheck(){this.visibilityTimeout&&clearTimeout(this.visibilityTimeout),this.visibilityTimeout=setTimeout(()=>{this.visibilityTimeout=null,!(!this.currentDropdown||!this.currentInput)&&this.ensureDropdownVisibility(this.currentDropdown,this.currentInput)},160)}repositionDropdown(){if(!this.currentDropdown||!this.currentInput)return;let t=this.currentInput.getBoundingClientRect();this.currentDropdown.style.top=`${t.bottom}px`,this.currentDropdown.style.left=`${t.left}px`,this.currentDropdown.style.width=`${t.width}px`}ensureDropdownVisibility(t,a){let n=window.visualViewport,l=n?.height??window.innerHeight,i=n?.offsetTop??0,o=this.getFixedHeadersOffset(),u=t.getBoundingClientRect(),s=u.top+i,r=s+u.height,c=12,S=16,f=document.scrollingElement||document.documentElement||document.body,g=window.scrollY,v=Math.max((f?.scrollHeight??document.body.scrollHeight)-l,0),y=o+c-s;if(y>0){let A=Math.max(g-y,0);A!==g&&window.scrollTo({top:A,behavior:"smooth"});return}let L=i+l,m=r-(L-S);if(m>0){let A=Math.min(g+m,v);A!==g&&window.scrollTo({top:A,behavior:"smooth"});return}let E=a.getBoundingClientRect().top+i,h=o+c;if(E<h){let A=h-E,M=Math.max(g-A,0);M!==g&&window.scrollTo({top:M,behavior:"smooth"})}}updateSelectedOption(t){if(!t)return;t.querySelectorAll(".custom-dropdown-option").forEach((n,l)=>{l===this.selectedIndex?n.classList.add("selected"):n.classList.remove("selected")})}closeDropdown(){this.currentDropdown&&(this.currentDropdown.remove(),this.currentDropdown=null,this.scrollAnimationFrame&&(cancelAnimationFrame(this.scrollAnimationFrame),this.scrollAnimationFrame=null),this.visibilityTimeout&&(clearTimeout(this.visibilityTimeout),this.visibilityTimeout=null),this.currentInput&&this.currentInput.classList.remove("has-dropdown-open"),this.currentInput=null,this.selectedIndex=-1,document.removeEventListener("click",this.handleOutsideClick.bind(this)))}handleOutsideClick(t){this.currentDropdown&&!this.currentDropdown.contains(t.target)&&t.target!==this.currentInput&&this.closeDropdown()}handleKeyboardNavigation(t,a){if(!a)return;let n=a.querySelectorAll(".custom-dropdown-option");switch(t.key){case"ArrowDown":t.preventDefault(),this.selectedIndex=Math.min(this.selectedIndex+1,n.length-1),this.updateSelectedOption(a),n[this.selectedIndex]?.scrollIntoView({block:"nearest"});break;case"ArrowUp":t.preventDefault(),this.selectedIndex=Math.max(this.selectedIndex-1,-1),this.updateSelectedOption(a),this.selectedIndex>=0&&n[this.selectedIndex]?.scrollIntoView({block:"nearest"});break;case"Enter":if(t.preventDefault(),this.selectedIndex>=0&&n[this.selectedIndex]){let l=n[this.selectedIndex].textContent;this.currentInput.value=l,this.currentInput.dispatchEvent(new Event("change",{bubbles:!0})),this.closeDropdown()}break;case"Escape":t.preventDefault(),this.closeDropdown();break}}init(){js.info("Inicialitzant servei de suggeriments de localitzacions"),this.createDatalists(),this.updateDatalists(),this.addInputListeners()}createDatalists(){let t=document.querySelectorAll(".origin"),a=document.querySelectorAll(".destination");t.forEach(n=>{n.setAttribute("autocomplete","off"),n.removeAttribute("list")}),a.forEach(n=>{n.setAttribute("autocomplete","off"),n.removeAttribute("list")})}addInputListeners(){document.addEventListener("focus",t=>{let a=t.target;a instanceof HTMLInputElement&&(a.classList.contains("origin")||a.classList.contains("destination"))&&this.closeDropdown()},!0),document.addEventListener("input",t=>{let a=t.target;if(!(a instanceof HTMLInputElement))return;let n=null;if(a.classList.contains("origin")?n="origin":a.classList.contains("destination")&&(n="destination"),n){let l=a.value.trim();this.inputDebounceTimer&&clearTimeout(this.inputDebounceTimer),l.length>=kv?this.inputDebounceTimer=setTimeout(()=>{let i=this.getSuggestionsForInput(n,l);this.createCustomDropdown(a,i)},300):this.closeDropdown()}}),document.addEventListener("keydown",t=>{let a=t.target;a instanceof HTMLInputElement&&(a.classList.contains("origin")||a.classList.contains("destination"))&&this.currentDropdown&&this.handleKeyboardNavigation(t,this.currentDropdown)}),window.addEventListener("scroll",this.handleWindowScroll,!0),window.addEventListener("resize",this.handleWindowResize),window.visualViewport&&(window.visualViewport.addEventListener("resize",this.handleViewportShift),window.visualViewport.addEventListener("scroll",this.handleViewportShift))}},c_=new Yf,Wv=()=>c_.init();var Mn=$.withScope("Init");function d_(){let e=document.getElementById(G.DONATION_LINK_ID);if(!e)return Mn.warn("No s'ha trobat l'enlla\xE7 de donaci\xF3.");let t=Hv();try{let a=new URL(e.href);a.searchParams.set("custom",t),e.href=a.toString(),Mn.info("Enlla\xE7 de donaci\xF3 actualitzat amb ID an\xF2nim.")}catch(a){Mn.error("Error modificant l'URL de donaci\xF3:",a)}}async function eT(){try{Mn.info("initializeApp() iniciant..."),Cm(),bm(),await gm(),lm(),fg(),Fn.init(),zv(),Wv(),pg(),ug(),Cg(),bg(),qv(),ig(),Dg(),Og(),Bg(),Ag(),d_(),Lg(),tm(),gg(),Eg(),Sg();let e=document.getElementById("service-type");if(e){let t=localStorage.getItem(Ff.USER_SELECTED_SERVICE_TYPE);(t==="TSU"||t==="TSNU")&&(e.value=t,Mn.debug(`[LocalStorage] Carregat tipus de servei: ${t}`)),xn(e.value)}Hn(),Dm(),Qv(),Mn.info("initializeApp() completada.")}catch(e){Mn.error("Error en la inicialitzaci\xF3 de l'app:",e)}}var ca=ii(al()),jf=ii(Of());function f_(){let[e,t]=ca.default.useState(navigator.onLine),[a,n]=ca.default.useState(!0);return ca.default.useEffect(()=>{let l=null,i=()=>{let o=navigator.onLine;t(o),o?(l&&clearTimeout(l),l=window.setTimeout(()=>n(!1),3e3)):(l&&(clearTimeout(l),l=null),n(!0))};return window.addEventListener("online",i),window.addEventListener("offline",i),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",i),l&&clearTimeout(l)}},[]),a?ca.default.createElement(ca.default.Fragment,null,ca.default.createElement("div",{className:`connection-indicator ${e?"online":"offline"}`,onClick:e?void 0:()=>{confirm("En modo offline algunas funciones pueden estar limitadas. \xBFQuieres recargar la app?")&&window.location.reload()},title:e?void 0:"Haz clic para recargar (algunas funciones requieren conexi\xF3n)"},e?"\u{1F7E2} Online":"\u26A0\uFE0F Offline - Funciones limitadas")):null}function tT(){try{if(typeof ca.default>"u"||typeof jf.default>"u"){console.log("React no disponible - components skip");return}let e=document.getElementById("react-connection-container");e&&!e.hasChildNodes()&&jf.default.createRoot(e).render(ca.default.createElement(f_,null)),console.log("\u2705 React components inicialitzats (incremental - reversible)")}catch(e){console.log("\u26A0\uFE0F React component skip:",e.message)}}window.getOCRFeedbackManager=Oo;window.createOCRFeedbackManager=Lf;window.destroyOCRFeedbackManager=_v;async function aT(){try{document.body.classList.add("app-ready"),document.body.classList.remove("no-js"),await eT(),Bm(),tT()}catch(e){console.error("Critical error during app startup:",e)}}function m_(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",aT,{once:!0}):aT()}m_();})();
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
