(()=>{var Yh=Object.create;var uc=Object.defineProperty;var Kh=Object.getOwnPropertyDescriptor;var qh=Object.getOwnPropertyNames;var Qh=Object.getPrototypeOf,bh=Object.prototype.hasOwnProperty;var cn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Zh=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qh(t))!bh.call(e,o)&&o!==n&&uc(e,o,{get:()=>t[o],enumerable:!(r=Kh(t,o))||r.enumerable});return e};var cc=(e,t,n)=>(n=e!=null?Yh(Qh(e)):{},Zh(t||!e||!e.__esModule?uc(n,"default",{value:e,enumerable:!0}):n,e));var yf=cn(A=>{"use strict";var ro=Symbol.for("react.element"),Gg=Symbol.for("react.portal"),jg=Symbol.for("react.fragment"),$g=Symbol.for("react.strict_mode"),Wg=Symbol.for("react.profiler"),Xg=Symbol.for("react.provider"),Yg=Symbol.for("react.context"),Kg=Symbol.for("react.forward_ref"),qg=Symbol.for("react.suspense"),Qg=Symbol.for("react.memo"),bg=Symbol.for("react.lazy"),af=Symbol.iterator;function Zg(e){return e===null||typeof e!="object"?null:(e=af&&e[af]||e["@@iterator"],typeof e=="function"?e:null)}var df={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ff=Object.assign,pf={};function sr(e,t,n){this.props=e,this.context=t,this.refs=pf,this.updater=n||df}sr.prototype.isReactComponent={};sr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mf(){}mf.prototype=sr.prototype;function Gs(e,t,n){this.props=e,this.context=t,this.refs=pf,this.updater=n||df}var js=Gs.prototype=new mf;js.constructor=Gs;ff(js,sr.prototype);js.isPureReactComponent=!0;var uf=Array.isArray,hf=Object.prototype.hasOwnProperty,$s={current:null},Ef={key:!0,ref:!0,__self:!0,__source:!0};function gf(e,t,n){var r,o={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)hf.call(t,r)&&!Ef.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:ro,type:e,key:i,ref:l,props:o,_owner:$s.current}}function Jg(e,t){return{$$typeof:ro,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ws(e){return typeof e=="object"&&e!==null&&e.$$typeof===ro}function ev(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var cf=/\/+/g;function Hs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ev(""+e.key):t.toString(36)}function _i(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ro:case Gg:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+Hs(l,0):r,uf(o)?(n="",e!=null&&(n=e.replace(cf,"$&/")+"/"),_i(o,t,n,"",function(u){return u})):o!=null&&(Ws(o)&&(o=Jg(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(cf,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",uf(e))for(var s=0;s<e.length;s++){i=e[s];var a=r+Hs(i,s);l+=_i(i,t,n,a,o)}else if(a=Zg(e),typeof a=="function")for(e=a.call(e),s=0;!(i=e.next()).done;)i=i.value,a=r+Hs(i,s++),l+=_i(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ti(e,t,n){if(e==null)return e;var r=[],o=0;return _i(e,r,"","",function(i){return t.call(n,i,o++)}),r}function tv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Se={current:null},Ii={transition:null},nv={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:Ii,ReactCurrentOwner:$s};function vf(){throw Error("act(...) is not supported in production builds of React.")}A.Children={map:Ti,forEach:function(e,t,n){Ti(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ti(e,function(){t++}),t},toArray:function(e){return Ti(e,function(t){return t})||[]},only:function(e){if(!Ws(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};A.Component=sr;A.Fragment=jg;A.Profiler=Wg;A.PureComponent=Gs;A.StrictMode=$g;A.Suspense=qg;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nv;A.act=vf;A.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ff({},e.props),o=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=$s.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)hf.call(t,a)&&!Ef.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:ro,type:e.type,key:o,ref:i,props:r,_owner:l}};A.createContext=function(e){return e={$$typeof:Yg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xg,_context:e},e.Consumer=e};A.createElement=gf;A.createFactory=function(e){var t=gf.bind(null,e);return t.type=e,t};A.createRef=function(){return{current:null}};A.forwardRef=function(e){return{$$typeof:Kg,render:e}};A.isValidElement=Ws;A.lazy=function(e){return{$$typeof:bg,_payload:{_status:-1,_result:e},_init:tv}};A.memo=function(e,t){return{$$typeof:Qg,type:e,compare:t===void 0?null:t}};A.startTransition=function(e){var t=Ii.transition;Ii.transition={};try{e()}finally{Ii.transition=t}};A.unstable_act=vf;A.useCallback=function(e,t){return Se.current.useCallback(e,t)};A.useContext=function(e){return Se.current.useContext(e)};A.useDebugValue=function(){};A.useDeferredValue=function(e){return Se.current.useDeferredValue(e)};A.useEffect=function(e,t){return Se.current.useEffect(e,t)};A.useId=function(){return Se.current.useId()};A.useImperativeHandle=function(e,t,n){return Se.current.useImperativeHandle(e,t,n)};A.useInsertionEffect=function(e,t){return Se.current.useInsertionEffect(e,t)};A.useLayoutEffect=function(e,t){return Se.current.useLayoutEffect(e,t)};A.useMemo=function(e,t){return Se.current.useMemo(e,t)};A.useReducer=function(e,t,n){return Se.current.useReducer(e,t,n)};A.useRef=function(e){return Se.current.useRef(e)};A.useState=function(e){return Se.current.useState(e)};A.useSyncExternalStore=function(e,t,n){return Se.current.useSyncExternalStore(e,t,n)};A.useTransition=function(){return Se.current.useTransition()};A.version="18.3.1"});var Xs=cn((ET,Sf)=>{"use strict";Sf.exports=yf()});var Of=cn(B=>{"use strict";function Qs(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(0<Ni(o,t))e[r]=t,e[n]=o,n=r;else break e}}function Ze(e){return e.length===0?null:e[0]}function Di(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var l=2*(r+1)-1,s=e[l],a=l+1,u=e[a];if(0>Ni(s,n))a<o&&0>Ni(u,s)?(e[r]=u,e[a]=n,r=a):(e[r]=s,e[l]=n,r=l);else if(a<o&&0>Ni(u,n))e[r]=u,e[a]=n,r=a;else break e}}return t}function Ni(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(Tf=performance,B.unstable_now=function(){return Tf.now()}):(Ys=Date,_f=Ys.now(),B.unstable_now=function(){return Ys.now()-_f});var Tf,Ys,_f,lt=[],Gt=[],rv=1,He=null,de=3,Li=!1,Tn=!1,io=!1,Cf=typeof setTimeout=="function"?setTimeout:null,Df=typeof clearTimeout=="function"?clearTimeout:null,If=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function bs(e){for(var t=Ze(Gt);t!==null;){if(t.callback===null)Di(Gt);else if(t.startTime<=e)Di(Gt),t.sortIndex=t.expirationTime,Qs(lt,t);else break;t=Ze(Gt)}}function Zs(e){if(io=!1,bs(e),!Tn)if(Ze(lt)!==null)Tn=!0,ea(Js);else{var t=Ze(Gt);t!==null&&ta(Zs,t.startTime-e)}}function Js(e,t){Tn=!1,io&&(io=!1,Df(lo),lo=-1),Li=!0;var n=de;try{for(bs(t),He=Ze(lt);He!==null&&(!(He.expirationTime>t)||e&&!Af());){var r=He.callback;if(typeof r=="function"){He.callback=null,de=He.priorityLevel;var o=r(He.expirationTime<=t);t=B.unstable_now(),typeof o=="function"?He.callback=o:He===Ze(lt)&&Di(lt),bs(t)}else Di(lt);He=Ze(lt)}if(He!==null)var i=!0;else{var l=Ze(Gt);l!==null&&ta(Zs,l.startTime-t),i=!1}return i}finally{He=null,de=n,Li=!1}}var wi=!1,Ci=null,lo=-1,Lf=5,wf=-1;function Af(){return!(B.unstable_now()-wf<Lf)}function Ks(){if(Ci!==null){var e=B.unstable_now();wf=e;var t=!0;try{t=Ci(!0,e)}finally{t?oo():(wi=!1,Ci=null)}}else wi=!1}var oo;typeof If=="function"?oo=function(){If(Ks)}:typeof MessageChannel<"u"?(qs=new MessageChannel,Nf=qs.port2,qs.port1.onmessage=Ks,oo=function(){Nf.postMessage(null)}):oo=function(){Cf(Ks,0)};var qs,Nf;function ea(e){Ci=e,wi||(wi=!0,oo())}function ta(e,t){lo=Cf(function(){e(B.unstable_now())},t)}B.unstable_IdlePriority=5;B.unstable_ImmediatePriority=1;B.unstable_LowPriority=4;B.unstable_NormalPriority=3;B.unstable_Profiling=null;B.unstable_UserBlockingPriority=2;B.unstable_cancelCallback=function(e){e.callback=null};B.unstable_continueExecution=function(){Tn||Li||(Tn=!0,ea(Js))};B.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Lf=0<e?Math.floor(1e3/e):5};B.unstable_getCurrentPriorityLevel=function(){return de};B.unstable_getFirstCallbackNode=function(){return Ze(lt)};B.unstable_next=function(e){switch(de){case 1:case 2:case 3:var t=3;break;default:t=de}var n=de;de=t;try{return e()}finally{de=n}};B.unstable_pauseExecution=function(){};B.unstable_requestPaint=function(){};B.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=de;de=e;try{return t()}finally{de=n}};B.unstable_scheduleCallback=function(e,t,n){var r=B.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,e={id:rv++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},n>r?(e.sortIndex=n,Qs(Gt,e),Ze(lt)===null&&e===Ze(Gt)&&(io?(Df(lo),lo=-1):io=!0,ta(Zs,n-r))):(e.sortIndex=o,Qs(lt,e),Tn||Li||(Tn=!0,ea(Js))),e};B.unstable_shouldYield=Af;B.unstable_wrapCallback=function(e){var t=de;return function(){var n=de;de=t;try{return e.apply(this,arguments)}finally{de=n}}}});var xf=cn((vT,Rf)=>{"use strict";Rf.exports=Of()});var Bh=cn(Be=>{"use strict";var ov=Xs(),ke=xf();function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zp=new Set,Ao={};function kn(e,t){wr(e,t),wr(e+"Capture",t)}function wr(e,t){for(Ao[e]=t,e=0;e<t.length;e++)zp.add(t[e])}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Na=Object.prototype.hasOwnProperty,iv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pf={},kf={};function lv(e){return Na.call(kf,e)?!0:Na.call(Pf,e)?!1:iv.test(e)?kf[e]=!0:(Pf[e]=!0,!1)}function sv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function av(e,t,n,r){if(t===null||typeof t>"u"||sv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,n,r,o,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ae[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ae[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ae[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ae[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ae[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ae[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ae[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ae[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ae[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var Eu=/[\-:]([a-z])/g;function gu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Eu,gu);ae[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Eu,gu);ae[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Eu,gu);ae[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ae[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});ae.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ae[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function vu(e,t,n,r){var o=ae.hasOwnProperty(t)?ae[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(av(t,n,o,r)&&(n=null),r||o===null?lv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xt=ov.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ai=Symbol.for("react.element"),cr=Symbol.for("react.portal"),dr=Symbol.for("react.fragment"),yu=Symbol.for("react.strict_mode"),Ca=Symbol.for("react.profiler"),Vp=Symbol.for("react.provider"),Hp=Symbol.for("react.context"),Su=Symbol.for("react.forward_ref"),Da=Symbol.for("react.suspense"),La=Symbol.for("react.suspense_list"),Tu=Symbol.for("react.memo"),$t=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var Gp=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Mf=Symbol.iterator;function so(e){return e===null||typeof e!="object"?null:(e=Mf&&e[Mf]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,na;function Eo(e){if(na===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);na=t&&t[1]||""}return`
`+na+e}var ra=!1;function oa(e,t){if(!e||ra)return"";ra=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),l=o.length-1,s=i.length-1;1<=l&&0<=s&&o[l]!==i[s];)s--;for(;1<=l&&0<=s;l--,s--)if(o[l]!==i[s]){if(l!==1||s!==1)do if(l--,s--,0>s||o[l]!==i[s]){var a=`
`+o[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=s);break}}}finally{ra=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Eo(e):""}function uv(e){switch(e.tag){case 5:return Eo(e.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 2:case 15:return e=oa(e.type,!1),e;case 11:return e=oa(e.type.render,!1),e;case 1:return e=oa(e.type,!0),e;default:return""}}function wa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dr:return"Fragment";case cr:return"Portal";case Ca:return"Profiler";case yu:return"StrictMode";case Da:return"Suspense";case La:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hp:return(e.displayName||"Context")+".Consumer";case Vp:return(e._context.displayName||"Context")+".Provider";case Su:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tu:return t=e.displayName||null,t!==null?t:wa(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return wa(e(t))}catch{}}return null}function cv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wa(t);case 8:return t===yu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function on(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dv(e){var t=jp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oi(e){e._valueTracker||(e._valueTracker=dv(e))}function $p(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=jp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Aa(e,t){var n=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=on(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wp(e,t){t=t.checked,t!=null&&vu(e,"checked",t,!1)}function Oa(e,t){Wp(e,t);var n=on(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ra(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ra(e,t.type,on(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ra(e,t,n){(t!=="number"||ol(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var go=Array.isArray;function _r(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+on(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function xa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ff(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(go(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:on(n)}}function Xp(e,t){var n=on(t.value),r=on(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ri,Kp=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ri.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var So={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fv=["Webkit","ms","Moz","O"];Object.keys(So).forEach(function(e){fv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),So[t]=So[e]})});function qp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||So.hasOwnProperty(e)&&So[e]?(""+t).trim():t+"px"}function Qp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=qp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var pv=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(e,t){if(t){if(pv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Ma(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ba=null;function _u(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,Ir=null,Nr=null;function Vf(e){if(e=Ko(e)){if(typeof Ua!="function")throw Error(E(280));var t=e.stateNode;t&&(t=xl(t),Ua(e.stateNode,e.type,t))}}function bp(e){Ir?Nr?Nr.push(e):Nr=[e]:Ir=e}function Zp(){if(Ir){var e=Ir,t=Nr;if(Nr=Ir=null,Vf(e),t)for(e=0;e<t.length;e++)Vf(t[e])}}function Jp(e,t){return e(t)}function em(){}var ia=!1;function tm(e,t,n){if(ia)return e(t,n);ia=!0;try{return Jp(e,t,n)}finally{ia=!1,(Ir!==null||Nr!==null)&&(em(),Zp())}}function Ro(e,t){var n=e.stateNode;if(n===null)return null;var r=xl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var Fa=!1;if(wt)try{ar={},Object.defineProperty(ar,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{Fa=!1}var ar;function mv(e,t,n,r,o,i,l,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var To=!1,il=null,ll=!1,za=null,hv={onError:function(e){To=!0,il=e}};function Ev(e,t,n,r,o,i,l,s,a){To=!1,il=null,mv.apply(hv,arguments)}function gv(e,t,n,r,o,i,l,s,a){if(Ev.apply(this,arguments),To){if(To){var u=il;To=!1,il=null}else throw Error(E(198));ll||(ll=!0,za=u)}}function Mn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hf(e){if(Mn(e)!==e)throw Error(E(188))}function vv(e){var t=e.alternate;if(!t){if(t=Mn(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Hf(o),e;if(i===r)return Hf(o),t;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=o,r=i;else{for(var l=!1,s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function rm(e){return e=vv(e),e!==null?om(e):null}function om(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=om(e);if(t!==null)return t;e=e.sibling}return null}var im=ke.unstable_scheduleCallback,Gf=ke.unstable_cancelCallback,yv=ke.unstable_shouldYield,Sv=ke.unstable_requestPaint,Q=ke.unstable_now,Tv=ke.unstable_getCurrentPriorityLevel,Iu=ke.unstable_ImmediatePriority,lm=ke.unstable_UserBlockingPriority,sl=ke.unstable_NormalPriority,_v=ke.unstable_LowPriority,sm=ke.unstable_IdlePriority,wl=null,ct=null;function Iv(e){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(wl,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:Dv,Nv=Math.log,Cv=Math.LN2;function Dv(e){return e>>>=0,e===0?32:31-(Nv(e)/Cv|0)|0}var xi=64,Pi=4194304;function vo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function al(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var s=l&~o;s!==0?r=vo(s):(i&=l,i!==0&&(r=vo(i)))}else l=n&~o,l!==0?r=vo(l):i!==0&&(r=vo(i));if(r===0)return 0;if(t!==0&&t!==r&&(t&o)===0&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rt(t),o=1<<n,r|=e[n],t&=~o;return r}function Lv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-rt(i),s=1<<l,a=o[l];a===-1?((s&n)===0||(s&r)!==0)&&(o[l]=Lv(s,t)):a<=t&&(e.expiredLanes|=s),i&=~s}}function Va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function am(){var e=xi;return xi<<=1,(xi&4194240)===0&&(xi=64),e}function la(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=n}function Av(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-rt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Nu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var P=0;function um(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var cm,Cu,dm,fm,pm,Ha=!1,ki=[],Qt=null,bt=null,Zt=null,xo=new Map,Po=new Map,Xt=[],Ov="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jf(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(t.pointerId)}}function ao(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Ko(t),t!==null&&Cu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Rv(e,t,n,r,o){switch(t){case"focusin":return Qt=ao(Qt,e,t,n,r,o),!0;case"dragenter":return bt=ao(bt,e,t,n,r,o),!0;case"mouseover":return Zt=ao(Zt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return xo.set(i,ao(xo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Po.set(i,ao(Po.get(i)||null,e,t,n,r,o)),!0}return!1}function mm(e){var t=Nn(e.target);if(t!==null){var n=Mn(t);if(n!==null){if(t=n.tag,t===13){if(t=nm(n),t!==null){e.blockedOn=t,pm(e.priority,function(){dm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ki(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ga(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ba=r,n.target.dispatchEvent(r),Ba=null}else return t=Ko(n),t!==null&&Cu(t),e.blockedOn=n,!1;t.shift()}return!0}function $f(e,t,n){Ki(e)&&n.delete(t)}function xv(){Ha=!1,Qt!==null&&Ki(Qt)&&(Qt=null),bt!==null&&Ki(bt)&&(bt=null),Zt!==null&&Ki(Zt)&&(Zt=null),xo.forEach($f),Po.forEach($f)}function uo(e,t){e.blockedOn===t&&(e.blockedOn=null,Ha||(Ha=!0,ke.unstable_scheduleCallback(ke.unstable_NormalPriority,xv)))}function ko(e){function t(o){return uo(o,e)}if(0<ki.length){uo(ki[0],e);for(var n=1;n<ki.length;n++){var r=ki[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qt!==null&&uo(Qt,e),bt!==null&&uo(bt,e),Zt!==null&&uo(Zt,e),xo.forEach(t),Po.forEach(t),n=0;n<Xt.length;n++)r=Xt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)mm(n),n.blockedOn===null&&Xt.shift()}var Cr=xt.ReactCurrentBatchConfig,ul=!0;function Pv(e,t,n,r){var o=P,i=Cr.transition;Cr.transition=null;try{P=1,Du(e,t,n,r)}finally{P=o,Cr.transition=i}}function kv(e,t,n,r){var o=P,i=Cr.transition;Cr.transition=null;try{P=4,Du(e,t,n,r)}finally{P=o,Cr.transition=i}}function Du(e,t,n,r){if(ul){var o=Ga(e,t,n,r);if(o===null)pa(e,t,r,cl,n),jf(e,r);else if(Rv(o,e,t,n,r))r.stopPropagation();else if(jf(e,r),t&4&&-1<Ov.indexOf(e)){for(;o!==null;){var i=Ko(o);if(i!==null&&cm(i),i=Ga(e,t,n,r),i===null&&pa(e,t,r,cl,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else pa(e,t,r,null,n)}}var cl=null;function Ga(e,t,n,r){if(cl=null,e=_u(r),e=Nn(e),e!==null)if(t=Mn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cl=e,null}function hm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tv()){case Iu:return 1;case lm:return 4;case sl:case _v:return 16;case sm:return 536870912;default:return 16}default:return 16}}var Kt=null,Lu=null,qi=null;function Em(){if(qi)return qi;var e,t=Lu,n=t.length,r,o="value"in Kt?Kt.value:Kt.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[i-r];r++);return qi=o.slice(e,1<r?1-r:void 0)}function Qi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Wf(){return!1}function Me(e){function t(n,r,o,i,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mi:Wf,this.isPropagationStopped=Wf,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=Me(Mr),Yo=W({},Mr,{view:0,detail:0}),Mv=Me(Yo),sa,aa,co,Al=W({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==co&&(co&&e.type==="mousemove"?(sa=e.screenX-co.screenX,aa=e.screenY-co.screenY):aa=sa=0,co=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Xf=Me(Al),Bv=W({},Al,{dataTransfer:0}),Uv=Me(Bv),Fv=W({},Yo,{relatedTarget:0}),ua=Me(Fv),zv=W({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Vv=Me(zv),Hv=W({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gv=Me(Hv),jv=W({},Mr,{data:0}),Yf=Me(jv),$v={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xv[e])?!!t[e]:!1}function Au(){return Yv}var Kv=W({},Yo,{key:function(e){if(e.key){var t=$v[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(e){return e.type==="keypress"?Qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qv=Me(Kv),Qv=W({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kf=Me(Qv),bv=W({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),Zv=Me(bv),Jv=W({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ey=Me(Jv),ty=W({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ny=Me(ty),ry=[9,13,27,32],Ou=wt&&"CompositionEvent"in window,_o=null;wt&&"documentMode"in document&&(_o=document.documentMode);var oy=wt&&"TextEvent"in window&&!_o,gm=wt&&(!Ou||_o&&8<_o&&11>=_o),qf=" ",Qf=!1;function vm(e,t){switch(e){case"keyup":return ry.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function iy(e,t){switch(e){case"compositionend":return ym(t);case"keypress":return t.which!==32?null:(Qf=!0,qf);case"textInput":return e=t.data,e===qf&&Qf?null:e;default:return null}}function ly(e,t){if(fr)return e==="compositionend"||!Ou&&vm(e,t)?(e=Em(),qi=Lu=Kt=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gm&&t.locale!=="ko"?null:t.data;default:return null}}var sy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sy[e.type]:t==="textarea"}function Sm(e,t,n,r){bp(r),t=dl(t,"onChange"),0<t.length&&(n=new wu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Io=null,Mo=null;function ay(e){Rm(e,0)}function Ol(e){var t=hr(e);if($p(t))return e}function uy(e,t){if(e==="change")return t}var Tm=!1;wt&&(wt?(Ui="oninput"in document,Ui||(ca=document.createElement("div"),ca.setAttribute("oninput","return;"),Ui=typeof ca.oninput=="function"),Bi=Ui):Bi=!1,Tm=Bi&&(!document.documentMode||9<document.documentMode));var Bi,Ui,ca;function Zf(){Io&&(Io.detachEvent("onpropertychange",_m),Mo=Io=null)}function _m(e){if(e.propertyName==="value"&&Ol(Mo)){var t=[];Sm(t,Mo,e,_u(e)),tm(ay,t)}}function cy(e,t,n){e==="focusin"?(Zf(),Io=t,Mo=n,Io.attachEvent("onpropertychange",_m)):e==="focusout"&&Zf()}function dy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(Mo)}function fy(e,t){if(e==="click")return Ol(t)}function py(e,t){if(e==="input"||e==="change")return Ol(t)}function my(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var it=typeof Object.is=="function"?Object.is:my;function Bo(e,t){if(it(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Na.call(t,o)||!it(e[o],t[o]))return!1}return!0}function Jf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ep(e,t){var n=Jf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jf(n)}}function Im(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Im(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nm(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ol(e.document)}return t}function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hy(e){var t=Nm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Im(n.ownerDocument.documentElement,n)){if(r!==null&&Ru(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ep(n,i);var l=ep(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ey=wt&&"documentMode"in document&&11>=document.documentMode,pr=null,ja=null,No=null,$a=!1;function tp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$a||pr==null||pr!==ol(r)||(r=pr,"selectionStart"in r&&Ru(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),No&&Bo(No,r)||(No=r,r=dl(ja,"onSelect"),0<r.length&&(t=new wu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function Fi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionend:Fi("Transition","TransitionEnd")},da={},Cm={};wt&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Rl(e){if(da[e])return da[e];if(!mr[e])return e;var t=mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cm)return da[e]=t[n];return e}var Dm=Rl("animationend"),Lm=Rl("animationiteration"),wm=Rl("animationstart"),Am=Rl("transitionend"),Om=new Map,np="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sn(e,t){Om.set(e,t),kn(t,[e])}for(zi=0;zi<np.length;zi++)Vi=np[zi],rp=Vi.toLowerCase(),op=Vi[0].toUpperCase()+Vi.slice(1),sn(rp,"on"+op);var Vi,rp,op,zi;sn(Dm,"onAnimationEnd");sn(Lm,"onAnimationIteration");sn(wm,"onAnimationStart");sn("dblclick","onDoubleClick");sn("focusin","onFocus");sn("focusout","onBlur");sn(Am,"onTransitionEnd");wr("onMouseEnter",["mouseout","mouseover"]);wr("onMouseLeave",["mouseout","mouseover"]);wr("onPointerEnter",["pointerout","pointerover"]);wr("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gy=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function ip(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gv(r,t,void 0,e),e.currentTarget=null}function Rm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==i&&o.isPropagationStopped())break e;ip(o,s,u),i=a}else for(l=0;l<r.length;l++){if(s=r[l],a=s.instance,u=s.currentTarget,s=s.listener,a!==i&&o.isPropagationStopped())break e;ip(o,s,u),i=a}}}if(ll)throw e=za,ll=!1,za=null,e}function F(e,t){var n=t[qa];n===void 0&&(n=t[qa]=new Set);var r=e+"__bubble";n.has(r)||(xm(t,e,2,!1),n.add(r))}function fa(e,t,n){var r=0;t&&(r|=4),xm(n,e,r,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function Uo(e){if(!e[Hi]){e[Hi]=!0,zp.forEach(function(n){n!=="selectionchange"&&(gy.has(n)||fa(n,!1,e),fa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hi]||(t[Hi]=!0,fa("selectionchange",!1,t))}}function xm(e,t,n,r){switch(hm(t)){case 1:var o=Pv;break;case 4:o=kv;break;default:o=Du}n=o.bind(null,t,n,e),o=void 0,!Fa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function pa(e,t,n,r,o){var i=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;l=l.return}for(;s!==null;){if(l=Nn(s),l===null)return;if(a=l.tag,a===5||a===6){r=i=l;continue e}s=s.parentNode}}r=r.return}tm(function(){var u=i,p=_u(n),m=[];e:{var h=Om.get(e);if(h!==void 0){var v=wu,S=e;switch(e){case"keypress":if(Qi(n)===0)break e;case"keydown":case"keyup":v=qv;break;case"focusin":S="focus",v=ua;break;case"focusout":S="blur",v=ua;break;case"beforeblur":case"afterblur":v=ua;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Uv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Zv;break;case Dm:case Lm:case wm:v=Vv;break;case Am:v=ey;break;case"scroll":v=Mv;break;case"wheel":v=ny;break;case"copy":case"cut":case"paste":v=Gv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Kf}var T=(t&4)!==0,V=!T&&e==="scroll",d=T?h!==null?h+"Capture":null:h;T=[];for(var c=u,f;c!==null;){f=c;var g=f.stateNode;if(f.tag===5&&g!==null&&(f=g,d!==null&&(g=Ro(c,d),g!=null&&T.push(Fo(c,g,f)))),V)break;c=c.return}0<T.length&&(h=new v(h,S,null,n,p),m.push({event:h,listeners:T}))}}if((t&7)===0){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==Ba&&(S=n.relatedTarget||n.fromElement)&&(Nn(S)||S[At]))break e;if((v||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,v?(S=n.relatedTarget||n.toElement,v=u,S=S?Nn(S):null,S!==null&&(V=Mn(S),S!==V||S.tag!==5&&S.tag!==6)&&(S=null)):(v=null,S=u),v!==S)){if(T=Xf,g="onMouseLeave",d="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(T=Kf,g="onPointerLeave",d="onPointerEnter",c="pointer"),V=v==null?h:hr(v),f=S==null?h:hr(S),h=new T(g,c+"leave",v,n,p),h.target=V,h.relatedTarget=f,g=null,Nn(p)===u&&(T=new T(d,c+"enter",S,n,p),T.target=f,T.relatedTarget=V,g=T),V=g,v&&S)t:{for(T=v,d=S,c=0,f=T;f;f=ur(f))c++;for(f=0,g=d;g;g=ur(g))f++;for(;0<c-f;)T=ur(T),c--;for(;0<f-c;)d=ur(d),f--;for(;c--;){if(T===d||d!==null&&T===d.alternate)break t;T=ur(T),d=ur(d)}T=null}else T=null;v!==null&&lp(m,h,v,T,!1),S!==null&&V!==null&&lp(m,V,S,T,!0)}}e:{if(h=u?hr(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var I=uy;else if(bf(h))if(Tm)I=py;else{I=dy;var C=cy}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=fy);if(I&&(I=I(e,u))){Sm(m,I,n,p);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Ra(h,"number",h.value)}switch(C=u?hr(u):window,e){case"focusin":(bf(C)||C.contentEditable==="true")&&(pr=C,ja=u,No=null);break;case"focusout":No=ja=pr=null;break;case"mousedown":$a=!0;break;case"contextmenu":case"mouseup":case"dragend":$a=!1,tp(m,n,p);break;case"selectionchange":if(Ey)break;case"keydown":case"keyup":tp(m,n,p)}var y;if(Ou)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else fr?vm(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(gm&&n.locale!=="ko"&&(fr||N!=="onCompositionStart"?N==="onCompositionEnd"&&fr&&(y=Em()):(Kt=p,Lu="value"in Kt?Kt.value:Kt.textContent,fr=!0)),C=dl(u,N),0<C.length&&(N=new Yf(N,e,null,n,p),m.push({event:N,listeners:C}),y?N.data=y:(y=ym(n),y!==null&&(N.data=y)))),(y=oy?iy(e,n):ly(e,n))&&(u=dl(u,"onBeforeInput"),0<u.length&&(p=new Yf("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:u}),p.data=y))}Rm(m,t)})}function Fo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dl(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Ro(e,n),i!=null&&r.unshift(Fo(e,i,o)),i=Ro(e,t),i!=null&&r.push(Fo(e,i,o))),e=e.return}return r}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lp(e,t,n,r,o){for(var i=t._reactName,l=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,o?(a=Ro(n,i),a!=null&&l.unshift(Fo(n,a,s))):o||(a=Ro(n,i),a!=null&&l.push(Fo(n,a,s)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var vy=/\r\n?/g,yy=/\u0000|\uFFFD/g;function sp(e){return(typeof e=="string"?e:""+e).replace(vy,`
`).replace(yy,"")}function Gi(e,t,n){if(t=sp(t),sp(e)!==t&&n)throw Error(E(425))}function fl(){}var Wa=null,Xa=null;function Ya(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ka=typeof setTimeout=="function"?setTimeout:void 0,Sy=typeof clearTimeout=="function"?clearTimeout:void 0,ap=typeof Promise=="function"?Promise:void 0,Ty=typeof queueMicrotask=="function"?queueMicrotask:typeof ap<"u"?function(e){return ap.resolve(null).then(e).catch(_y)}:Ka;function _y(e){setTimeout(function(){throw e})}function ma(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ko(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ko(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function up(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),ut="__reactFiber$"+Br,zo="__reactProps$"+Br,At="__reactContainer$"+Br,qa="__reactEvents$"+Br,Iy="__reactListeners$"+Br,Ny="__reactHandles$"+Br;function Nn(e){var t=e[ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[At]||n[ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=up(e);e!==null;){if(n=e[ut])return n;e=up(e)}return t}e=n,n=e.parentNode}return null}function Ko(e){return e=e[ut]||e[At],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function xl(e){return e[zo]||null}var Qa=[],Er=-1;function an(e){return{current:e}}function z(e){0>Er||(e.current=Qa[Er],Qa[Er]=null,Er--)}function U(e,t){Er++,Qa[Er]=e.current,e.current=t}var ln={},he=an(ln),De=an(!1),An=ln;function Ar(e,t){var n=e.type.contextTypes;if(!n)return ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Le(e){return e=e.childContextTypes,e!=null}function pl(){z(De),z(he)}function cp(e,t,n){if(he.current!==ln)throw Error(E(168));U(he,t),U(De,n)}function Pm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(E(108,cv(e)||"Unknown",o));return W({},n,r)}function ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,An=he.current,U(he,e),U(De,De.current),!0}function dp(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=Pm(e,t,An),r.__reactInternalMemoizedMergedChildContext=e,z(De),z(he),U(he,e)):z(De),U(De,n)}var Nt=null,Pl=!1,ha=!1;function km(e){Nt===null?Nt=[e]:Nt.push(e)}function Cy(e){Pl=!0,km(e)}function un(){if(!ha&&Nt!==null){ha=!0;var e=0,t=P;try{var n=Nt;for(P=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nt=null,Pl=!1}catch(o){throw Nt!==null&&(Nt=Nt.slice(e+1)),im(Iu,un),o}finally{P=t,ha=!1}}return null}var gr=[],vr=0,hl=null,El=0,Ge=[],je=0,On=null,Ct=1,Dt="";function _n(e,t){gr[vr++]=El,gr[vr++]=hl,hl=e,El=t}function Mm(e,t,n){Ge[je++]=Ct,Ge[je++]=Dt,Ge[je++]=On,On=e;var r=Ct;e=Dt;var o=32-rt(r)-1;r&=~(1<<o),n+=1;var i=32-rt(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,Ct=1<<32-rt(t)+o|n<<o|r,Dt=i+e}else Ct=1<<i|n<<o|r,Dt=e}function xu(e){e.return!==null&&(_n(e,1),Mm(e,1,0))}function Pu(e){for(;e===hl;)hl=gr[--vr],gr[vr]=null,El=gr[--vr],gr[vr]=null;for(;e===On;)On=Ge[--je],Ge[je]=null,Dt=Ge[--je],Ge[je]=null,Ct=Ge[--je],Ge[je]=null}var Pe=null,xe=null,G=!1,nt=null;function Bm(e,t){var n=$e(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pe=e,xe=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pe=e,xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=On!==null?{id:Ct,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$e(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pe=e,xe=null,!0):!1;default:return!1}}function ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Za(e){if(G){var t=xe;if(t){var n=t;if(!fp(e,t)){if(ba(e))throw Error(E(418));t=Jt(n.nextSibling);var r=Pe;t&&fp(e,t)?Bm(r,n):(e.flags=e.flags&-4097|2,G=!1,Pe=e)}}else{if(ba(e))throw Error(E(418));e.flags=e.flags&-4097|2,G=!1,Pe=e}}}function pp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pe=e}function ji(e){if(e!==Pe)return!1;if(!G)return pp(e),G=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ya(e.type,e.memoizedProps)),t&&(t=xe)){if(ba(e))throw Um(),Error(E(418));for(;t;)Bm(e,t),t=Jt(t.nextSibling)}if(pp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xe=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xe=null}}else xe=Pe?Jt(e.stateNode.nextSibling):null;return!0}function Um(){for(var e=xe;e;)e=Jt(e.nextSibling)}function Or(){xe=Pe=null,G=!1}function ku(e){nt===null?nt=[e]:nt.push(e)}var Dy=xt.ReactCurrentBatchConfig;function fo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var s=o.refs;l===null?delete s[i]:s[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function $i(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mp(e){var t=e._init;return t(e._payload)}function Fm(e){function t(d,c){if(e){var f=d.deletions;f===null?(d.deletions=[c],d.flags|=16):f.push(c)}}function n(d,c){if(!e)return null;for(;c!==null;)t(d,c),c=c.sibling;return null}function r(d,c){for(d=new Map;c!==null;)c.key!==null?d.set(c.key,c):d.set(c.index,c),c=c.sibling;return d}function o(d,c){return d=rn(d,c),d.index=0,d.sibling=null,d}function i(d,c,f){return d.index=f,e?(f=d.alternate,f!==null?(f=f.index,f<c?(d.flags|=2,c):f):(d.flags|=2,c)):(d.flags|=1048576,c)}function l(d){return e&&d.alternate===null&&(d.flags|=2),d}function s(d,c,f,g){return c===null||c.tag!==6?(c=_a(f,d.mode,g),c.return=d,c):(c=o(c,f),c.return=d,c)}function a(d,c,f,g){var I=f.type;return I===dr?p(d,c,f.props.children,g,f.key):c!==null&&(c.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===$t&&mp(I)===c.type)?(g=o(c,f.props),g.ref=fo(d,c,f),g.return=d,g):(g=rl(f.type,f.key,f.props,null,d.mode,g),g.ref=fo(d,c,f),g.return=d,g)}function u(d,c,f,g){return c===null||c.tag!==4||c.stateNode.containerInfo!==f.containerInfo||c.stateNode.implementation!==f.implementation?(c=Ia(f,d.mode,g),c.return=d,c):(c=o(c,f.children||[]),c.return=d,c)}function p(d,c,f,g,I){return c===null||c.tag!==7?(c=wn(f,d.mode,g,I),c.return=d,c):(c=o(c,f),c.return=d,c)}function m(d,c,f){if(typeof c=="string"&&c!==""||typeof c=="number")return c=_a(""+c,d.mode,f),c.return=d,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Ai:return f=rl(c.type,c.key,c.props,null,d.mode,f),f.ref=fo(d,null,c),f.return=d,f;case cr:return c=Ia(c,d.mode,f),c.return=d,c;case $t:var g=c._init;return m(d,g(c._payload),f)}if(go(c)||so(c))return c=wn(c,d.mode,f,null),c.return=d,c;$i(d,c)}return null}function h(d,c,f,g){var I=c!==null?c.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return I!==null?null:s(d,c,""+f,g);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ai:return f.key===I?a(d,c,f,g):null;case cr:return f.key===I?u(d,c,f,g):null;case $t:return I=f._init,h(d,c,I(f._payload),g)}if(go(f)||so(f))return I!==null?null:p(d,c,f,g,null);$i(d,f)}return null}function v(d,c,f,g,I){if(typeof g=="string"&&g!==""||typeof g=="number")return d=d.get(f)||null,s(c,d,""+g,I);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ai:return d=d.get(g.key===null?f:g.key)||null,a(c,d,g,I);case cr:return d=d.get(g.key===null?f:g.key)||null,u(c,d,g,I);case $t:var C=g._init;return v(d,c,f,C(g._payload),I)}if(go(g)||so(g))return d=d.get(f)||null,p(c,d,g,I,null);$i(c,g)}return null}function S(d,c,f,g){for(var I=null,C=null,y=c,N=c=0,D=null;y!==null&&N<f.length;N++){y.index>N?(D=y,y=null):D=y.sibling;var L=h(d,y,f[N],g);if(L===null){y===null&&(y=D);break}e&&y&&L.alternate===null&&t(d,y),c=i(L,c,N),C===null?I=L:C.sibling=L,C=L,y=D}if(N===f.length)return n(d,y),G&&_n(d,N),I;if(y===null){for(;N<f.length;N++)y=m(d,f[N],g),y!==null&&(c=i(y,c,N),C===null?I=y:C.sibling=y,C=y);return G&&_n(d,N),I}for(y=r(d,y);N<f.length;N++)D=v(y,d,N,f[N],g),D!==null&&(e&&D.alternate!==null&&y.delete(D.key===null?N:D.key),c=i(D,c,N),C===null?I=D:C.sibling=D,C=D);return e&&y.forEach(function(Ee){return t(d,Ee)}),G&&_n(d,N),I}function T(d,c,f,g){var I=so(f);if(typeof I!="function")throw Error(E(150));if(f=I.call(f),f==null)throw Error(E(151));for(var C=I=null,y=c,N=c=0,D=null,L=f.next();y!==null&&!L.done;N++,L=f.next()){y.index>N?(D=y,y=null):D=y.sibling;var Ee=h(d,y,L.value,g);if(Ee===null){y===null&&(y=D);break}e&&y&&Ee.alternate===null&&t(d,y),c=i(Ee,c,N),C===null?I=Ee:C.sibling=Ee,C=Ee,y=D}if(L.done)return n(d,y),G&&_n(d,N),I;if(y===null){for(;!L.done;N++,L=f.next())L=m(d,L.value,g),L!==null&&(c=i(L,c,N),C===null?I=L:C.sibling=L,C=L);return G&&_n(d,N),I}for(y=r(d,y);!L.done;N++,L=f.next())L=v(y,d,N,L.value,g),L!==null&&(e&&L.alternate!==null&&y.delete(L.key===null?N:L.key),c=i(L,c,N),C===null?I=L:C.sibling=L,C=L);return e&&y.forEach(function(jl){return t(d,jl)}),G&&_n(d,N),I}function V(d,c,f,g){if(typeof f=="object"&&f!==null&&f.type===dr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Ai:e:{for(var I=f.key,C=c;C!==null;){if(C.key===I){if(I=f.type,I===dr){if(C.tag===7){n(d,C.sibling),c=o(C,f.props.children),c.return=d,d=c;break e}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===$t&&mp(I)===C.type){n(d,C.sibling),c=o(C,f.props),c.ref=fo(d,C,f),c.return=d,d=c;break e}n(d,C);break}else t(d,C);C=C.sibling}f.type===dr?(c=wn(f.props.children,d.mode,g,f.key),c.return=d,d=c):(g=rl(f.type,f.key,f.props,null,d.mode,g),g.ref=fo(d,c,f),g.return=d,d=g)}return l(d);case cr:e:{for(C=f.key;c!==null;){if(c.key===C)if(c.tag===4&&c.stateNode.containerInfo===f.containerInfo&&c.stateNode.implementation===f.implementation){n(d,c.sibling),c=o(c,f.children||[]),c.return=d,d=c;break e}else{n(d,c);break}else t(d,c);c=c.sibling}c=Ia(f,d.mode,g),c.return=d,d=c}return l(d);case $t:return C=f._init,V(d,c,C(f._payload),g)}if(go(f))return S(d,c,f,g);if(so(f))return T(d,c,f,g);$i(d,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,c!==null&&c.tag===6?(n(d,c.sibling),c=o(c,f),c.return=d,d=c):(n(d,c),c=_a(f,d.mode,g),c.return=d,d=c),l(d)):n(d,c)}return V}var Rr=Fm(!0),zm=Fm(!1),gl=an(null),vl=null,yr=null,Mu=null;function Bu(){Mu=yr=vl=null}function Uu(e){var t=gl.current;z(gl),e._currentValue=t}function Ja(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Dr(e,t){vl=e,Mu=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ce=!0),e.firstContext=null)}function Xe(e){var t=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:t,next:null},yr===null){if(vl===null)throw Error(E(308));yr=e,vl.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return t}var Cn=null;function Fu(e){Cn===null?Cn=[e]:Cn.push(e)}function Vm(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Fu(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ot(e,r)}function Ot(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wt=!1;function zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(R&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ot(e,n)}return o=r.interleaved,o===null?(t.next=t,Fu(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ot(e,n)}function bi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nu(e,n)}}function hp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yl(e,t,n,r){var o=e.updateQueue;Wt=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var a=s,u=a.next;a.next=null,l===null?i=u:l.next=u,l=a;var p=e.alternate;p!==null&&(p=p.updateQueue,s=p.lastBaseUpdate,s!==l&&(s===null?p.firstBaseUpdate=u:s.next=u,p.lastBaseUpdate=a))}if(i!==null){var m=o.baseState;l=0,p=u=a=null,s=i;do{var h=s.lane,v=s.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var S=e,T=s;switch(h=t,v=n,T.tag){case 1:if(S=T.payload,typeof S=="function"){m=S.call(v,m,h);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=T.payload,h=typeof S=="function"?S.call(v,m,h):S,h==null)break e;m=W({},m,h);break e;case 2:Wt=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[s]:h.push(s))}else v={eventTime:v,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(u=p=v,a=m):p=p.next=v,l|=h;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;h=s,s=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(p===null&&(a=m),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=p,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);xn|=l,e.lanes=l,e.memoizedState=m}}function Ep(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(E(191,o));o.call(r)}}}var qo={},dt=an(qo),Vo=an(qo),Ho=an(qo);function Dn(e){if(e===qo)throw Error(E(174));return e}function Vu(e,t){switch(U(Ho,t),U(Vo,e),U(dt,qo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pa(t,e)}z(dt),U(dt,t)}function xr(){z(dt),z(Vo),z(Ho)}function Gm(e){Dn(Ho.current);var t=Dn(dt.current),n=Pa(t,e.type);t!==n&&(U(Vo,e),U(dt,n))}function Hu(e){Vo.current===e&&(z(dt),z(Vo))}var j=an(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ea=[];function Gu(){for(var e=0;e<Ea.length;e++)Ea[e]._workInProgressVersionPrimary=null;Ea.length=0}var Zi=xt.ReactCurrentDispatcher,ga=xt.ReactCurrentBatchConfig,Rn=0,$=null,ee=null,re=null,Tl=!1,Co=!1,Go=0,Ly=0;function fe(){throw Error(E(321))}function ju(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!it(e[n],t[n]))return!1;return!0}function $u(e,t,n,r,o,i){if(Rn=i,$=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zi.current=e===null||e.memoizedState===null?Ry:xy,e=n(r,o),Co){i=0;do{if(Co=!1,Go=0,25<=i)throw Error(E(301));i+=1,re=ee=null,t.updateQueue=null,Zi.current=Py,e=n(r,o)}while(Co)}if(Zi.current=_l,t=ee!==null&&ee.next!==null,Rn=0,re=ee=$=null,Tl=!1,t)throw Error(E(300));return e}function Wu(){var e=Go!==0;return Go=0,e}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return re===null?$.memoizedState=re=e:re=re.next=e,re}function Ye(){if(ee===null){var e=$.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var t=re===null?$.memoizedState:re.next;if(t!==null)re=t,ee=e;else{if(e===null)throw Error(E(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},re===null?$.memoizedState=re=e:re=re.next=e}return re}function jo(e,t){return typeof t=="function"?t(e):t}function va(e){var t=Ye(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=ee,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var l=o.next;o.next=i.next,i.next=l}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var s=l=null,a=null,u=i;do{var p=u.lane;if((Rn&p)===p)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=m,l=r):a=a.next=m,$.lanes|=p,xn|=p}u=u.next}while(u!==null&&u!==i);a===null?l=r:a.next=s,it(r,t.memoizedState)||(Ce=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,$.lanes|=i,xn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ya(e){var t=Ye(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do i=e(i,l.action),l=l.next;while(l!==o);it(i,t.memoizedState)||(Ce=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function jm(){}function $m(e,t){var n=$,r=Ye(),o=t(),i=!it(r.memoizedState,o);if(i&&(r.memoizedState=o,Ce=!0),r=r.queue,Xu(Ym.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||re!==null&&re.memoizedState.tag&1){if(n.flags|=2048,$o(9,Xm.bind(null,n,r,o,t),void 0,null),oe===null)throw Error(E(349));(Rn&30)!==0||Wm(n,t,o)}return o}function Wm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$.updateQueue,t===null?(t={lastEffect:null,stores:null},$.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xm(e,t,n,r){t.value=n,t.getSnapshot=r,Km(t)&&qm(e)}function Ym(e,t,n){return n(function(){Km(t)&&qm(e)})}function Km(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!it(e,n)}catch{return!0}}function qm(e){var t=Ot(e,1);t!==null&&ot(t,e,1,-1)}function gp(e){var t=at();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},t.queue=e,e=e.dispatch=Oy.bind(null,$,e),[t.memoizedState,e]}function $o(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$.updateQueue,t===null?(t={lastEffect:null,stores:null},$.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qm(){return Ye().memoizedState}function Ji(e,t,n,r){var o=at();$.flags|=e,o.memoizedState=$o(1|t,n,void 0,r===void 0?null:r)}function kl(e,t,n,r){var o=Ye();r=r===void 0?null:r;var i=void 0;if(ee!==null){var l=ee.memoizedState;if(i=l.destroy,r!==null&&ju(r,l.deps)){o.memoizedState=$o(t,n,i,r);return}}$.flags|=e,o.memoizedState=$o(1|t,n,i,r)}function vp(e,t){return Ji(8390656,8,e,t)}function Xu(e,t){return kl(2048,8,e,t)}function bm(e,t){return kl(4,2,e,t)}function Zm(e,t){return kl(4,4,e,t)}function Jm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eh(e,t,n){return n=n!=null?n.concat([e]):null,kl(4,4,Jm.bind(null,t,e),n)}function Yu(){}function th(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function nh(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rh(e,t,n){return(Rn&21)===0?(e.baseState&&(e.baseState=!1,Ce=!0),e.memoizedState=n):(it(n,t)||(n=am(),$.lanes|=n,xn|=n,e.baseState=!0),t)}function wy(e,t){var n=P;P=n!==0&&4>n?n:4,e(!0);var r=ga.transition;ga.transition={};try{e(!1),t()}finally{P=n,ga.transition=r}}function oh(){return Ye().memoizedState}function Ay(e,t,n){var r=nn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ih(e))lh(t,n);else if(n=Vm(e,t,n,r),n!==null){var o=_e();ot(n,e,r,o),sh(n,t,r)}}function Oy(e,t,n){var r=nn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ih(e))lh(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,s=i(l,n);if(o.hasEagerState=!0,o.eagerState=s,it(s,l)){var a=t.interleaved;a===null?(o.next=o,Fu(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=Vm(e,t,o,r),n!==null&&(o=_e(),ot(n,e,r,o),sh(n,t,r))}}function ih(e){var t=e.alternate;return e===$||t!==null&&t===$}function lh(e,t){Co=Tl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sh(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nu(e,n)}}var _l={readContext:Xe,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},Ry={readContext:Xe,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:Xe,useEffect:vp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ji(4194308,4,Jm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ji(4,2,e,t)},useMemo:function(e,t){var n=at();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=at();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ay.bind(null,$,e),[r.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:gp,useDebugValue:Yu,useDeferredValue:function(e){return at().memoizedState=e},useTransition:function(){var e=gp(!1),t=e[0];return e=wy.bind(null,e[1]),at().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$,o=at();if(G){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),oe===null)throw Error(E(349));(Rn&30)!==0||Wm(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,vp(Ym.bind(null,r,i,e),[e]),r.flags|=2048,$o(9,Xm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=at(),t=oe.identifierPrefix;if(G){var n=Dt,r=Ct;n=(r&~(1<<32-rt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Go++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ly++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xy={readContext:Xe,useCallback:th,useContext:Xe,useEffect:Xu,useImperativeHandle:eh,useInsertionEffect:bm,useLayoutEffect:Zm,useMemo:nh,useReducer:va,useRef:Qm,useState:function(){return va(jo)},useDebugValue:Yu,useDeferredValue:function(e){var t=Ye();return rh(t,ee.memoizedState,e)},useTransition:function(){var e=va(jo)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:jm,useSyncExternalStore:$m,useId:oh,unstable_isNewReconciler:!1},Py={readContext:Xe,useCallback:th,useContext:Xe,useEffect:Xu,useImperativeHandle:eh,useInsertionEffect:bm,useLayoutEffect:Zm,useMemo:nh,useReducer:ya,useRef:Qm,useState:function(){return ya(jo)},useDebugValue:Yu,useDeferredValue:function(e){var t=Ye();return ee===null?t.memoizedState=e:rh(t,ee.memoizedState,e)},useTransition:function(){var e=ya(jo)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:jm,useSyncExternalStore:$m,useId:oh,unstable_isNewReconciler:!1};function et(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function eu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:W({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ml={isMounted:function(e){return(e=e._reactInternals)?Mn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_e(),o=nn(e),i=Lt(r,o);i.payload=t,n!=null&&(i.callback=n),t=en(e,i,o),t!==null&&(ot(t,e,o,r),bi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_e(),o=nn(e),i=Lt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=en(e,i,o),t!==null&&(ot(t,e,o,r),bi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_e(),r=nn(e),o=Lt(n,r);o.tag=2,t!=null&&(o.callback=t),t=en(e,o,r),t!==null&&(ot(t,e,r,n),bi(t,e,r))}};function yp(e,t,n,r,o,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Bo(n,r)||!Bo(o,i):!0}function ah(e,t,n){var r=!1,o=ln,i=t.contextType;return typeof i=="object"&&i!==null?i=Xe(i):(o=Le(t)?An:he.current,r=t.contextTypes,i=(r=r!=null)?Ar(e,o):ln),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ml,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Sp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ml.enqueueReplaceState(t,t.state,null)}function tu(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},zu(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Xe(i):(i=Le(t)?An:he.current,o.context=Ar(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(eu(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ml.enqueueReplaceState(o,o.state,null),yl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Pr(e,t){try{var n="",r=t;do n+=uv(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Sa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ky=typeof WeakMap=="function"?WeakMap:Map;function uh(e,t,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Nl||(Nl=!0,fu=r),nu(e,t)},n}function ch(e,t,n){n=Lt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){nu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nu(e,t),typeof r!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Tp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ky;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ky.bind(null,e,t,n),t.then(e,e))}function _p(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ip(e,t,n,r,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lt(-1,1),t.tag=2,en(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var My=xt.ReactCurrentOwner,Ce=!1;function Te(e,t,n,r){t.child=e===null?zm(t,null,n,r):Rr(t,e.child,n,r)}function Np(e,t,n,r,o){n=n.render;var i=t.ref;return Dr(t,o),r=$u(e,t,n,r,i,o),n=Wu(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Rt(e,t,o)):(G&&n&&xu(t),t.flags|=1,Te(e,t,r,o),t.child)}function Cp(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!tc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,dh(e,t,i,r,o)):(e=rl(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&o)===0){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bo,n(l,r)&&e.ref===t.ref)return Rt(e,t,o)}return t.flags|=1,e=rn(i,r),e.ref=t.ref,e.return=t,t.child=e}function dh(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Bo(i,r)&&e.ref===t.ref)if(Ce=!1,t.pendingProps=r=i,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Ce=!0);else return t.lanes=e.lanes,Rt(e,t,o)}return ru(e,t,n,r,o)}function fh(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},U(Tr,Re),Re|=n;else{if((n&1073741824)===0)return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,U(Tr,Re),Re|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,U(Tr,Re),Re|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,U(Tr,Re),Re|=r;return Te(e,t,o,n),t.child}function ph(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ru(e,t,n,r,o){var i=Le(n)?An:he.current;return i=Ar(t,i),Dr(t,o),n=$u(e,t,n,r,i,o),r=Wu(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Rt(e,t,o)):(G&&r&&xu(t),t.flags|=1,Te(e,t,n,o),t.child)}function Dp(e,t,n,r,o){if(Le(n)){var i=!0;ml(t)}else i=!1;if(Dr(t,o),t.stateNode===null)el(e,t),ah(t,n,r),tu(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,s=t.memoizedProps;l.props=s;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xe(u):(u=Le(n)?An:he.current,u=Ar(t,u));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||a!==u)&&Sp(t,l,r,u),Wt=!1;var h=t.memoizedState;l.state=h,yl(t,r,l,o),a=t.memoizedState,s!==r||h!==a||De.current||Wt?(typeof p=="function"&&(eu(t,n,p,r),a=t.memoizedState),(s=Wt||yp(t,n,s,r,h,a,u))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=u,r=s):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Hm(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:et(t.type,s),l.props=u,m=t.pendingProps,h=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=Xe(a):(a=Le(n)?An:he.current,a=Ar(t,a));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==m||h!==a)&&Sp(t,l,r,a),Wt=!1,h=t.memoizedState,l.state=h,yl(t,r,l,o);var S=t.memoizedState;s!==m||h!==S||De.current||Wt?(typeof v=="function"&&(eu(t,n,v,r),S=t.memoizedState),(u=Wt||yp(t,n,u,r,h,S,a)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,S,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,S,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),l.props=r,l.state=S,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ou(e,t,n,r,i,o)}function ou(e,t,n,r,o,i){ph(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&dp(t,n,!1),Rt(e,t,i);r=t.stateNode,My.current=t;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Rr(t,e.child,null,i),t.child=Rr(t,null,s,i)):Te(e,t,s,i),t.memoizedState=r.state,o&&dp(t,n,!0),t.child}function mh(e){var t=e.stateNode;t.pendingContext?cp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cp(e,t.context,!1),Vu(e,t.containerInfo)}function Lp(e,t,n,r,o){return Or(),ku(o),t.flags|=256,Te(e,t,n,r),t.child}var iu={dehydrated:null,treeContext:null,retryLane:0};function lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function hh(e,t,n){var r=t.pendingProps,o=j.current,i=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),U(j,o&1),e===null)return Za(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},(r&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Fl(l,r,0,null),e=wn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=lu(n),t.memoizedState=iu,e):Ku(t,l));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return By(e,t,l,r,s,o,n);if(i){i=r.fallback,l=t.mode,o=e.child,s=o.sibling;var a={mode:"hidden",children:r.children};return(l&1)===0&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=rn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?i=rn(s,i):(i=wn(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?lu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=iu,r}return i=e.child,e=i.sibling,r=rn(i,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ku(e,t){return t=Fl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wi(e,t,n,r){return r!==null&&ku(r),Rr(t,e.child,null,n),e=Ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function By(e,t,n,r,o,i,l){if(n)return t.flags&256?(t.flags&=-257,r=Sa(Error(E(422))),Wi(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Fl({mode:"visible",children:r.children},o,0,null),i=wn(i,o,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,(t.mode&1)!==0&&Rr(t,e.child,null,l),t.child.memoizedState=lu(l),t.memoizedState=iu,i);if((t.mode&1)===0)return Wi(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(E(419)),r=Sa(i,r,void 0),Wi(e,t,l,r)}if(s=(l&e.childLanes)!==0,Ce||s){if(r=oe,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(r.suspendedLanes|l))!==0?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ot(e,o),ot(r,e,o,-1))}return ec(),r=Sa(Error(E(421))),Wi(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=qy.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,xe=Jt(o.nextSibling),Pe=t,G=!0,nt=null,e!==null&&(Ge[je++]=Ct,Ge[je++]=Dt,Ge[je++]=On,Ct=e.id,Dt=e.overflow,On=t),t=Ku(t,r.children),t.flags|=4096,t)}function wp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ja(e.return,t,n)}function Ta(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Eh(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Te(e,t,r.children,n),r=j.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wp(e,n,t);else if(e.tag===19)wp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(U(j,r),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Sl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ta(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Sl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ta(t,!0,n,null,i);break;case"together":Ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function el(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Uy(e,t,n){switch(t.tag){case 3:mh(t),Or();break;case 5:Gm(t);break;case 1:Le(t.type)&&ml(t);break;case 4:Vu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;U(gl,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(U(j,j.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?hh(e,t,n):(U(j,j.current&1),e=Rt(e,t,n),e!==null?e.sibling:null);U(j,j.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return Eh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),U(j,j.current),r)break;return null;case 22:case 23:return t.lanes=0,fh(e,t,n)}return Rt(e,t,n)}var gh,su,vh,yh;gh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};su=function(){};vh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Dn(dt.current);var i=null;switch(n){case"input":o=Aa(e,o),r=Aa(e,r),i=[];break;case"select":o=W({},o,{value:void 0}),r=W({},r,{value:void 0}),i=[];break;case"textarea":o=xa(e,o),r=xa(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fl)}ka(n,r);var l;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var s=o[u];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ao.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(s=o?.[u],r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(l in s)!s.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&s[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ao.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&F("scroll",e),i||s===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};yh=function(e,t,n,r){n!==r&&(t.flags|=4)};function po(e,t){if(!G)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fy(e,t,n){var r=t.pendingProps;switch(Pu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(t),null;case 1:return Le(t.type)&&pl(),pe(t),null;case 3:return r=t.stateNode,xr(),z(De),z(he),Gu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ji(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,nt!==null&&(hu(nt),nt=null))),su(e,t),pe(t),null;case 5:Hu(t);var o=Dn(Ho.current);if(n=t.type,e!==null&&t.stateNode!=null)vh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return pe(t),null}if(e=Dn(dt.current),ji(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ut]=t,r[zo]=i,e=(t.mode&1)!==0,n){case"dialog":F("cancel",r),F("close",r);break;case"iframe":case"object":case"embed":F("load",r);break;case"video":case"audio":for(o=0;o<yo.length;o++)F(yo[o],r);break;case"source":F("error",r);break;case"img":case"image":case"link":F("error",r),F("load",r);break;case"details":F("toggle",r);break;case"input":Bf(r,i),F("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},F("invalid",r);break;case"textarea":Ff(r,i),F("invalid",r)}ka(n,i),o=null;for(var l in i)if(i.hasOwnProperty(l)){var s=i[l];l==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Gi(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Gi(r.textContent,s,e),o=["children",""+s]):Ao.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&F("scroll",r)}switch(n){case"input":Oi(r),Uf(r,i,!0);break;case"textarea":Oi(r),zf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=fl)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ut]=t,e[zo]=r,gh(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ma(n,r),n){case"dialog":F("cancel",e),F("close",e),o=r;break;case"iframe":case"object":case"embed":F("load",e),o=r;break;case"video":case"audio":for(o=0;o<yo.length;o++)F(yo[o],e);o=r;break;case"source":F("error",e),o=r;break;case"img":case"image":case"link":F("error",e),F("load",e),o=r;break;case"details":F("toggle",e),o=r;break;case"input":Bf(e,r),o=Aa(e,r),F("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=W({},r,{value:void 0}),F("invalid",e);break;case"textarea":Ff(e,r),o=xa(e,r),F("invalid",e);break;default:o=r}ka(n,o),s=o;for(i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="style"?Qp(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Kp(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Oo(e,a):typeof a=="number"&&Oo(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ao.hasOwnProperty(i)?a!=null&&i==="onScroll"&&F("scroll",e):a!=null&&vu(e,i,a,l))}switch(n){case"input":Oi(e),Uf(e,r,!1);break;case"textarea":Oi(e),zf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+on(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?_r(e,!!r.multiple,i,!1):r.defaultValue!=null&&_r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=fl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pe(t),null;case 6:if(e&&t.stateNode!=null)yh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=Dn(Ho.current),Dn(dt.current),ji(t)){if(r=t.stateNode,n=t.memoizedProps,r[ut]=t,(i=r.nodeValue!==n)&&(e=Pe,e!==null))switch(e.tag){case 3:Gi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ut]=t,t.stateNode=r}return pe(t),null;case 13:if(z(j),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(G&&xe!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Um(),Or(),t.flags|=98560,i=!1;else if(i=ji(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[ut]=t}else Or(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;pe(t),i=!1}else nt!==null&&(hu(nt),nt=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(j.current&1)!==0?te===0&&(te=3):ec())),t.updateQueue!==null&&(t.flags|=4),pe(t),null);case 4:return xr(),su(e,t),e===null&&Uo(t.stateNode.containerInfo),pe(t),null;case 10:return Uu(t.type._context),pe(t),null;case 17:return Le(t.type)&&pl(),pe(t),null;case 19:if(z(j),i=t.memoizedState,i===null)return pe(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)po(i,!1);else{if(te!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(l=Sl(e),l!==null){for(t.flags|=128,po(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return U(j,j.current&1|2),t.child}e=e.sibling}i.tail!==null&&Q()>kr&&(t.flags|=128,r=!0,po(i,!1),t.lanes=4194304)}else{if(!r)if(e=Sl(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),po(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!G)return pe(t),null}else 2*Q()-i.renderingStartTime>kr&&n!==1073741824&&(t.flags|=128,r=!0,po(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Q(),t.sibling=null,n=j.current,U(j,r?n&1|2:n&1),t):(pe(t),null);case 22:case 23:return Ju(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Re&1073741824)!==0&&(pe(t),t.subtreeFlags&6&&(t.flags|=8192)):pe(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function zy(e,t){switch(Pu(t),t.tag){case 1:return Le(t.type)&&pl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xr(),z(De),z(he),Gu(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Hu(t),null;case 13:if(z(j),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(j),null;case 4:return xr(),null;case 10:return Uu(t.type._context),null;case 22:case 23:return Ju(),null;case 24:return null;default:return null}}var Xi=!1,me=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,_=null;function Sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){q(e,t,r)}else n.current=null}function au(e,t,n){try{n()}catch(r){q(e,t,r)}}var Ap=!1;function Hy(e,t){if(Wa=ul,e=Nm(),Ru(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,s=-1,a=-1,u=0,p=0,m=e,h=null;t:for(;;){for(var v;m!==n||o!==0&&m.nodeType!==3||(s=l+o),m!==i||r!==0&&m.nodeType!==3||(a=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(v=m.firstChild)!==null;)h=m,m=v;for(;;){if(m===e)break t;if(h===n&&++u===o&&(s=l),h===i&&++p===r&&(a=l),(v=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=v}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xa={focusedElem:e,selectionRange:n},ul=!1,_=t;_!==null;)if(t=_,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_=e;else for(;_!==null;){t=_;try{var S=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,V=S.memoizedState,d=t.stateNode,c=d.getSnapshotBeforeUpdate(t.elementType===t.type?T:et(t.type,T),V);d.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(g){q(t,t.return,g)}if(e=t.sibling,e!==null){e.return=t.return,_=e;break}_=t.return}return S=Ap,Ap=!1,S}function Do(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&au(t,n,i)}o=o.next}while(o!==r)}}function Bl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sh(e){var t=e.alternate;t!==null&&(e.alternate=null,Sh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ut],delete t[zo],delete t[qa],delete t[Iy],delete t[Ny])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Th(e){return e.tag===5||e.tag===3||e.tag===4}function Op(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fl));else if(r!==4&&(e=e.child,e!==null))for(cu(e,t,n),e=e.sibling;e!==null;)cu(e,t,n),e=e.sibling}function du(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(du(e,t,n),e=e.sibling;e!==null;)du(e,t,n),e=e.sibling}var le=null,tt=!1;function jt(e,t,n){for(n=n.child;n!==null;)_h(e,t,n),n=n.sibling}function _h(e,t,n){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(wl,n)}catch{}switch(n.tag){case 5:me||Sr(n,t);case 6:var r=le,o=tt;le=null,jt(e,t,n),le=r,tt=o,le!==null&&(tt?(e=le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):le.removeChild(n.stateNode));break;case 18:le!==null&&(tt?(e=le,n=n.stateNode,e.nodeType===8?ma(e.parentNode,n):e.nodeType===1&&ma(e,n),ko(e)):ma(le,n.stateNode));break;case 4:r=le,o=tt,le=n.stateNode.containerInfo,tt=!0,jt(e,t,n),le=r,tt=o;break;case 0:case 11:case 14:case 15:if(!me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,l=i.destroy;i=i.tag,l!==void 0&&((i&2)!==0||(i&4)!==0)&&au(n,t,l),o=o.next}while(o!==r)}jt(e,t,n);break;case 1:if(!me&&(Sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){q(n,t,s)}jt(e,t,n);break;case 21:jt(e,t,n);break;case 22:n.mode&1?(me=(r=me)||n.memoizedState!==null,jt(e,t,n),me=r):jt(e,t,n);break;default:jt(e,t,n)}}function Rp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Vy),t.forEach(function(r){var o=Qy.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Je(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 5:le=s.stateNode,tt=!1;break e;case 3:le=s.stateNode.containerInfo,tt=!0;break e;case 4:le=s.stateNode.containerInfo,tt=!0;break e}s=s.return}if(le===null)throw Error(E(160));_h(i,l,o),le=null,tt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){q(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ih(t,e),t=t.sibling}function Ih(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(t,e),st(e),r&4){try{Do(3,e,e.return),Bl(3,e)}catch(T){q(e,e.return,T)}try{Do(5,e,e.return)}catch(T){q(e,e.return,T)}}break;case 1:Je(t,e),st(e),r&512&&n!==null&&Sr(n,n.return);break;case 5:if(Je(t,e),st(e),r&512&&n!==null&&Sr(n,n.return),e.flags&32){var o=e.stateNode;try{Oo(o,"")}catch(T){q(e,e.return,T)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&Wp(o,i),Ma(s,l);var u=Ma(s,i);for(l=0;l<a.length;l+=2){var p=a[l],m=a[l+1];p==="style"?Qp(o,m):p==="dangerouslySetInnerHTML"?Kp(o,m):p==="children"?Oo(o,m):vu(o,p,m,u)}switch(s){case"input":Oa(o,i);break;case"textarea":Xp(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?_r(o,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?_r(o,!!i.multiple,i.defaultValue,!0):_r(o,!!i.multiple,i.multiple?[]:"",!1))}o[zo]=i}catch(T){q(e,e.return,T)}}break;case 6:if(Je(t,e),st(e),r&4){if(e.stateNode===null)throw Error(E(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(T){q(e,e.return,T)}}break;case 3:if(Je(t,e),st(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ko(t.containerInfo)}catch(T){q(e,e.return,T)}break;case 4:Je(t,e),st(e);break;case 13:Je(t,e),st(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(bu=Q())),r&4&&Rp(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(me=(u=me)||p,Je(t,e),me=u):Je(t,e),st(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&(e.mode&1)!==0)for(_=e,p=e.child;p!==null;){for(m=_=p;_!==null;){switch(h=_,v=h.child,h.tag){case 0:case 11:case 14:case 15:Do(4,h,h.return);break;case 1:Sr(h,h.return);var S=h.stateNode;if(typeof S.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(T){q(r,n,T)}}break;case 5:Sr(h,h.return);break;case 22:if(h.memoizedState!==null){Pp(m);continue}}v!==null?(v.return=h,_=v):Pp(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{o=m.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=m.stateNode,a=m.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=qp("display",l))}catch(T){q(e,e.return,T)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(T){q(e,e.return,T)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Je(t,e),st(e),r&4&&Rp(e);break;case 21:break;default:Je(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Th(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Oo(o,""),r.flags&=-33);var i=Op(e);du(e,i,o);break;case 3:case 4:var l=r.stateNode.containerInfo,s=Op(e);cu(e,s,l);break;default:throw Error(E(161))}}catch(a){q(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gy(e,t,n){_=e,Nh(e,t,n)}function Nh(e,t,n){for(var r=(e.mode&1)!==0;_!==null;){var o=_,i=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||Xi;if(!l){var s=o.alternate,a=s!==null&&s.memoizedState!==null||me;s=Xi;var u=me;if(Xi=l,(me=a)&&!u)for(_=o;_!==null;)l=_,a=l.child,l.tag===22&&l.memoizedState!==null?kp(o):a!==null?(a.return=l,_=a):kp(o);for(;i!==null;)_=i,Nh(i,t,n),i=i.sibling;_=o,Xi=s,me=u}xp(e,t,n)}else(o.subtreeFlags&8772)!==0&&i!==null?(i.return=o,_=i):xp(e,t,n)}}function xp(e){for(;_!==null;){var t=_;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:me||Bl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!me)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:et(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ep(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ep(t,l,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&ko(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}me||t.flags&512&&uu(t)}catch(h){q(t,t.return,h)}}if(t===e){_=null;break}if(n=t.sibling,n!==null){n.return=t.return,_=n;break}_=t.return}}function Pp(e){for(;_!==null;){var t=_;if(t===e){_=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_=n;break}_=t.return}}function kp(e){for(;_!==null;){var t=_;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Bl(4,t)}catch(a){q(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){q(t,o,a)}}var i=t.return;try{uu(t)}catch(a){q(t,i,a)}break;case 5:var l=t.return;try{uu(t)}catch(a){q(t,l,a)}}}catch(a){q(t,t.return,a)}if(t===e){_=null;break}var s=t.sibling;if(s!==null){s.return=t.return,_=s;break}_=t.return}}var jy=Math.ceil,Il=xt.ReactCurrentDispatcher,qu=xt.ReactCurrentOwner,We=xt.ReactCurrentBatchConfig,R=0,oe=null,J=null,se=0,Re=0,Tr=an(0),te=0,Wo=null,xn=0,Ul=0,Qu=0,Lo=null,Ne=null,bu=0,kr=1/0,It=null,Nl=!1,fu=null,tn=null,Yi=!1,qt=null,Cl=0,wo=0,pu=null,tl=-1,nl=0;function _e(){return(R&6)!==0?Q():tl!==-1?tl:tl=Q()}function nn(e){return(e.mode&1)===0?1:(R&2)!==0&&se!==0?se&-se:Dy.transition!==null?(nl===0&&(nl=am()),nl):(e=P,e!==0||(e=window.event,e=e===void 0?16:hm(e.type)),e)}function ot(e,t,n,r){if(50<wo)throw wo=0,pu=null,Error(E(185));Xo(e,n,r),((R&2)===0||e!==oe)&&(e===oe&&((R&2)===0&&(Ul|=n),te===4&&Yt(e,se)),we(e,r),n===1&&R===0&&(t.mode&1)===0&&(kr=Q()+500,Pl&&un()))}function we(e,t){var n=e.callbackNode;wv(e,t);var r=al(e,e===oe?se:0);if(r===0)n!==null&&Gf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Gf(n),t===1)e.tag===0?Cy(Mp.bind(null,e)):km(Mp.bind(null,e)),Ty(function(){(R&6)===0&&un()}),n=null;else{switch(um(r)){case 1:n=Iu;break;case 4:n=lm;break;case 16:n=sl;break;case 536870912:n=sm;break;default:n=sl}n=xh(n,Ch.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ch(e,t){if(tl=-1,nl=0,(R&6)!==0)throw Error(E(327));var n=e.callbackNode;if(Lr()&&e.callbackNode!==n)return null;var r=al(e,e===oe?se:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Dl(e,r);else{t=r;var o=R;R|=2;var i=Lh();(oe!==e||se!==t)&&(It=null,kr=Q()+500,Ln(e,t));do try{Xy();break}catch(s){Dh(e,s)}while(!0);Bu(),Il.current=i,R=o,J!==null?t=0:(oe=null,se=0,t=te)}if(t!==0){if(t===2&&(o=Va(e),o!==0&&(r=o,t=mu(e,o))),t===1)throw n=Wo,Ln(e,0),Yt(e,r),we(e,Q()),n;if(t===6)Yt(e,r);else{if(o=e.current.alternate,(r&30)===0&&!$y(o)&&(t=Dl(e,r),t===2&&(i=Va(e),i!==0&&(r=i,t=mu(e,i))),t===1))throw n=Wo,Ln(e,0),Yt(e,r),we(e,Q()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:In(e,Ne,It);break;case 3:if(Yt(e,r),(r&130023424)===r&&(t=bu+500-Q(),10<t)){if(al(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){_e(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ka(In.bind(null,e,Ne,It),t);break}In(e,Ne,It);break;case 4:if(Yt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-rt(r);i=1<<l,l=t[l],l>o&&(o=l),r&=~i}if(r=o,r=Q()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jy(r/1960))-r,10<r){e.timeoutHandle=Ka(In.bind(null,e,Ne,It),r);break}In(e,Ne,It);break;case 5:In(e,Ne,It);break;default:throw Error(E(329))}}}return we(e,Q()),e.callbackNode===n?Ch.bind(null,e):null}function mu(e,t){var n=Lo;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=Dl(e,t),e!==2&&(t=Ne,Ne=n,t!==null&&hu(t)),e}function hu(e){Ne===null?Ne=e:Ne.push.apply(Ne,e)}function $y(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!it(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yt(e,t){for(t&=~Qu,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function Mp(e){if((R&6)!==0)throw Error(E(327));Lr();var t=al(e,0);if((t&1)===0)return we(e,Q()),null;var n=Dl(e,t);if(e.tag!==0&&n===2){var r=Va(e);r!==0&&(t=r,n=mu(e,r))}if(n===1)throw n=Wo,Ln(e,0),Yt(e,t),we(e,Q()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,In(e,Ne,It),we(e,Q()),null}function Zu(e,t){var n=R;R|=1;try{return e(t)}finally{R=n,R===0&&(kr=Q()+500,Pl&&un())}}function Pn(e){qt!==null&&qt.tag===0&&(R&6)===0&&Lr();var t=R;R|=1;var n=We.transition,r=P;try{if(We.transition=null,P=1,e)return e()}finally{P=r,We.transition=n,R=t,(R&6)===0&&un()}}function Ju(){Re=Tr.current,z(Tr)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sy(n)),J!==null)for(n=J.return;n!==null;){var r=n;switch(Pu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pl();break;case 3:xr(),z(De),z(he),Gu();break;case 5:Hu(r);break;case 4:xr();break;case 13:z(j);break;case 19:z(j);break;case 10:Uu(r.type._context);break;case 22:case 23:Ju()}n=n.return}if(oe=e,J=e=rn(e.current,null),se=Re=t,te=0,Wo=null,Qu=Ul=xn=0,Ne=Lo=null,Cn!==null){for(t=0;t<Cn.length;t++)if(n=Cn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=o,r.next=l}n.pending=r}Cn=null}return e}function Dh(e,t){do{var n=J;try{if(Bu(),Zi.current=_l,Tl){for(var r=$.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Tl=!1}if(Rn=0,re=ee=$=null,Co=!1,Go=0,qu.current=null,n===null||n.return===null){te=1,Wo=t,J=null;break}e:{var i=e,l=n.return,s=n,a=t;if(t=se,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,p=s,m=p.tag;if((p.mode&1)===0&&(m===0||m===11||m===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=_p(l);if(v!==null){v.flags&=-257,Ip(v,l,s,i,t),v.mode&1&&Tp(i,u,t),t=v,a=u;var S=t.updateQueue;if(S===null){var T=new Set;T.add(a),t.updateQueue=T}else S.add(a);break e}else{if((t&1)===0){Tp(i,u,t),ec();break e}a=Error(E(426))}}else if(G&&s.mode&1){var V=_p(l);if(V!==null){(V.flags&65536)===0&&(V.flags|=256),Ip(V,l,s,i,t),ku(Pr(a,s));break e}}i=a=Pr(a,s),te!==4&&(te=2),Lo===null?Lo=[i]:Lo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var d=uh(i,a,t);hp(i,d);break e;case 1:s=a;var c=i.type,f=i.stateNode;if((i.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(tn===null||!tn.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var g=ch(i,s,t);hp(i,g);break e}}i=i.return}while(i!==null)}Ah(n)}catch(I){t=I,J===n&&n!==null&&(J=n=n.return);continue}break}while(!0)}function Lh(){var e=Il.current;return Il.current=_l,e===null?_l:e}function ec(){(te===0||te===3||te===2)&&(te=4),oe===null||(xn&268435455)===0&&(Ul&268435455)===0||Yt(oe,se)}function Dl(e,t){var n=R;R|=2;var r=Lh();(oe!==e||se!==t)&&(It=null,Ln(e,t));do try{Wy();break}catch(o){Dh(e,o)}while(!0);if(Bu(),R=n,Il.current=r,J!==null)throw Error(E(261));return oe=null,se=0,te}function Wy(){for(;J!==null;)wh(J)}function Xy(){for(;J!==null&&!yv();)wh(J)}function wh(e){var t=Rh(e.alternate,e,Re);e.memoizedProps=e.pendingProps,t===null?Ah(e):J=t,qu.current=null}function Ah(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Fy(n,t,Re),n!==null){J=n;return}}else{if(n=zy(n,t),n!==null){n.flags&=32767,J=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{te=6,J=null;return}}if(t=t.sibling,t!==null){J=t;return}J=t=e}while(t!==null);te===0&&(te=5)}function In(e,t,n){var r=P,o=We.transition;try{We.transition=null,P=1,Yy(e,t,n,r)}finally{We.transition=o,P=r}return null}function Yy(e,t,n,r){do Lr();while(qt!==null);if((R&6)!==0)throw Error(E(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Av(e,i),e===oe&&(J=oe=null,se=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Yi||(Yi=!0,xh(sl,function(){return Lr(),null})),i=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||i){i=We.transition,We.transition=null;var l=P;P=1;var s=R;R|=4,qu.current=null,Hy(e,n),Ih(n,e),hy(Xa),ul=!!Wa,Xa=Wa=null,e.current=n,Gy(n,e,o),Sv(),R=s,P=l,We.transition=i}else e.current=n;if(Yi&&(Yi=!1,qt=e,Cl=o),i=e.pendingLanes,i===0&&(tn=null),Iv(n.stateNode,r),we(e,Q()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Nl)throw Nl=!1,e=fu,fu=null,e;return(Cl&1)!==0&&e.tag!==0&&Lr(),i=e.pendingLanes,(i&1)!==0?e===pu?wo++:(wo=0,pu=e):wo=0,un(),null}function Lr(){if(qt!==null){var e=um(Cl),t=We.transition,n=P;try{if(We.transition=null,P=16>e?16:e,qt===null)var r=!1;else{if(e=qt,qt=null,Cl=0,(R&6)!==0)throw Error(E(331));var o=R;for(R|=4,_=e.current;_!==null;){var i=_,l=i.child;if((_.flags&16)!==0){var s=i.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(_=u;_!==null;){var p=_;switch(p.tag){case 0:case 11:case 15:Do(8,p,i)}var m=p.child;if(m!==null)m.return=p,_=m;else for(;_!==null;){p=_;var h=p.sibling,v=p.return;if(Sh(p),p===u){_=null;break}if(h!==null){h.return=v,_=h;break}_=v}}}var S=i.alternate;if(S!==null){var T=S.child;if(T!==null){S.child=null;do{var V=T.sibling;T.sibling=null,T=V}while(T!==null)}}_=i}}if((i.subtreeFlags&2064)!==0&&l!==null)l.return=i,_=l;else e:for(;_!==null;){if(i=_,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:Do(9,i,i.return)}var d=i.sibling;if(d!==null){d.return=i.return,_=d;break e}_=i.return}}var c=e.current;for(_=c;_!==null;){l=_;var f=l.child;if((l.subtreeFlags&2064)!==0&&f!==null)f.return=l,_=f;else e:for(l=c;_!==null;){if(s=_,(s.flags&2048)!==0)try{switch(s.tag){case 0:case 11:case 15:Bl(9,s)}}catch(I){q(s,s.return,I)}if(s===l){_=null;break e}var g=s.sibling;if(g!==null){g.return=s.return,_=g;break e}_=s.return}}if(R=o,un(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(wl,e)}catch{}r=!0}return r}finally{P=n,We.transition=t}}return!1}function Bp(e,t,n){t=Pr(n,t),t=uh(e,t,1),e=en(e,t,1),t=_e(),e!==null&&(Xo(e,1,t),we(e,t))}function q(e,t,n){if(e.tag===3)Bp(e,e,n);else for(;t!==null;){if(t.tag===3){Bp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tn===null||!tn.has(r))){e=Pr(n,e),e=ch(t,e,1),t=en(t,e,1),e=_e(),t!==null&&(Xo(t,1,e),we(t,e));break}}t=t.return}}function Ky(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_e(),e.pingedLanes|=e.suspendedLanes&n,oe===e&&(se&n)===n&&(te===4||te===3&&(se&130023424)===se&&500>Q()-bu?Ln(e,0):Qu|=n),we(e,t)}function Oh(e,t){t===0&&((e.mode&1)===0?t=1:(t=Pi,Pi<<=1,(Pi&130023424)===0&&(Pi=4194304)));var n=_e();e=Ot(e,t),e!==null&&(Xo(e,t,n),we(e,n))}function qy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Oh(e,n)}function Qy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),Oh(e,n)}var Rh;Rh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)Ce=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ce=!1,Uy(e,t,n);Ce=(e.flags&131072)!==0}else Ce=!1,G&&(t.flags&1048576)!==0&&Mm(t,El,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;el(e,t),e=t.pendingProps;var o=Ar(t,he.current);Dr(t,n),o=$u(null,t,r,e,o,n);var i=Wu();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(r)?(i=!0,ml(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,zu(t),o.updater=Ml,t.stateNode=o,o._reactInternals=t,tu(t,r,e,n),t=ou(null,t,r,!0,i,n)):(t.tag=0,G&&i&&xu(t),Te(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(el(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Zy(r),e=et(r,e),o){case 0:t=ru(null,t,r,e,n);break e;case 1:t=Dp(null,t,r,e,n);break e;case 11:t=Np(null,t,r,e,n);break e;case 14:t=Cp(null,t,r,et(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:et(r,o),ru(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:et(r,o),Dp(e,t,r,o,n);case 3:e:{if(mh(t),e===null)throw Error(E(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Hm(e,t),yl(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Pr(Error(E(423)),t),t=Lp(e,t,r,n,o);break e}else if(r!==o){o=Pr(Error(E(424)),t),t=Lp(e,t,r,n,o);break e}else for(xe=Jt(t.stateNode.containerInfo.firstChild),Pe=t,G=!0,nt=null,n=zm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Or(),r===o){t=Rt(e,t,n);break e}Te(e,t,r,n)}t=t.child}return t;case 5:return Gm(t),e===null&&Za(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,l=o.children,Ya(r,o)?l=null:i!==null&&Ya(r,i)&&(t.flags|=32),ph(e,t),Te(e,t,l,n),t.child;case 6:return e===null&&Za(t),null;case 13:return hh(e,t,n);case 4:return Vu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rr(t,null,r,n):Te(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:et(r,o),Np(e,t,r,o,n);case 7:return Te(e,t,t.pendingProps,n),t.child;case 8:return Te(e,t,t.pendingProps.children,n),t.child;case 12:return Te(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,U(gl,r._currentValue),r._currentValue=l,i!==null)if(it(i.value,l)){if(i.children===o.children&&!De.current){t=Rt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){l=i.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Lt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ja(i.return,n,t),s.lanes|=n;break}a=a.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(E(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),Ja(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Te(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Dr(t,n),o=Xe(o),r=r(o),t.flags|=1,Te(e,t,r,n),t.child;case 14:return r=t.type,o=et(r,t.pendingProps),o=et(r.type,o),Cp(e,t,r,o,n);case 15:return dh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:et(r,o),el(e,t),t.tag=1,Le(r)?(e=!0,ml(t)):e=!1,Dr(t,n),ah(t,r,o),tu(t,r,o,n),ou(null,t,r,!0,e,n);case 19:return Eh(e,t,n);case 22:return fh(e,t,n)}throw Error(E(156,t.tag))};function xh(e,t){return im(e,t)}function by(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(e,t,n,r){return new by(e,t,n,r)}function tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zy(e){if(typeof e=="function")return tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Su)return 11;if(e===Tu)return 14}return 2}function rn(e,t){var n=e.alternate;return n===null?(n=$e(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rl(e,t,n,r,o,i){var l=2;if(r=e,typeof e=="function")tc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case dr:return wn(n.children,o,i,t);case yu:l=8,o|=8;break;case Ca:return e=$e(12,n,t,o|2),e.elementType=Ca,e.lanes=i,e;case Da:return e=$e(13,n,t,o),e.elementType=Da,e.lanes=i,e;case La:return e=$e(19,n,t,o),e.elementType=La,e.lanes=i,e;case Gp:return Fl(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vp:l=10;break e;case Hp:l=9;break e;case Su:l=11;break e;case Tu:l=14;break e;case $t:l=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=$e(l,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function wn(e,t,n,r){return e=$e(7,e,r,t),e.lanes=n,e}function Fl(e,t,n,r){return e=$e(22,e,r,t),e.elementType=Gp,e.lanes=n,e.stateNode={isHidden:!1},e}function _a(e,t,n){return e=$e(6,e,null,t),e.lanes=n,e}function Ia(e,t,n){return t=$e(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jy(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=la(0),this.expirationTimes=la(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function nc(e,t,n,r,o,i,l,s,a){return e=new Jy(e,t,n,s,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$e(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zu(i),e}function eS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ph(e){if(!e)return ln;e=e._reactInternals;e:{if(Mn(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(Le(n))return Pm(e,n,t)}return t}function kh(e,t,n,r,o,i,l,s,a){return e=nc(n,r,!0,e,o,i,l,s,a),e.context=Ph(null),n=e.current,r=_e(),o=nn(n),i=Lt(r,o),i.callback=t??null,en(n,i,o),e.current.lanes=o,Xo(e,o,r),we(e,r),e}function zl(e,t,n,r){var o=t.current,i=_e(),l=nn(o);return n=Ph(n),t.context===null?t.context=n:t.pendingContext=n,t=Lt(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=en(o,t,l),e!==null&&(ot(e,o,l,i),bi(e,o,l)),l}function Ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Up(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rc(e,t){Up(e,t),(e=e.alternate)&&Up(e,t)}function tS(){return null}var Mh=typeof reportError=="function"?reportError:function(e){console.error(e)};function oc(e){this._internalRoot=e}Vl.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));zl(e,t,null,null)};Vl.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pn(function(){zl(null,e,null,null)}),t[At]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=fm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&t!==0&&t<Xt[n].priority;n++);Xt.splice(n,0,e),n===0&&mm(e)}};function ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fp(){}function nS(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Ll(l);i.call(u)}}var l=kh(t,r,e,0,null,!1,!1,"",Fp);return e._reactRootContainer=l,e[At]=l.current,Uo(e.nodeType===8?e.parentNode:e),Pn(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var u=Ll(a);s.call(u)}}var a=nc(e,0,!1,null,null,!1,!1,"",Fp);return e._reactRootContainer=a,e[At]=a.current,Uo(e.nodeType===8?e.parentNode:e),Pn(function(){zl(t,a,n,r)}),a}function Gl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var l=i;if(typeof o=="function"){var s=o;o=function(){var a=Ll(l);s.call(a)}}zl(t,l,e,o)}else l=nS(n,t,e,o,r);return Ll(l)}cm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vo(t.pendingLanes);n!==0&&(Nu(t,n|1),we(t,Q()),(R&6)===0&&(kr=Q()+500,un()))}break;case 13:Pn(function(){var r=Ot(e,1);if(r!==null){var o=_e();ot(r,e,1,o)}}),rc(e,1)}};Cu=function(e){if(e.tag===13){var t=Ot(e,134217728);if(t!==null){var n=_e();ot(t,e,134217728,n)}rc(e,134217728)}};dm=function(e){if(e.tag===13){var t=nn(e),n=Ot(e,t);if(n!==null){var r=_e();ot(n,e,t,r)}rc(e,t)}};fm=function(){return P};pm=function(e,t){var n=P;try{return P=e,t()}finally{P=n}};Ua=function(e,t,n){switch(t){case"input":if(Oa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=xl(r);if(!o)throw Error(E(90));$p(r),Oa(r,o)}}}break;case"textarea":Xp(e,n);break;case"select":t=n.value,t!=null&&_r(e,!!n.multiple,t,!1)}};Jp=Zu;em=Pn;var rS={usingClientEntryPoint:!1,Events:[Ko,hr,xl,bp,Zp,Zu]},mo={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oS={bundleType:mo.bundleType,version:mo.version,rendererPackageName:mo.rendererPackageName,rendererConfig:mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rm(e),e===null?null:e.stateNode},findFiberByHostInstance:mo.findFiberByHostInstance||tS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(ho=__REACT_DEVTOOLS_GLOBAL_HOOK__,!ho.isDisabled&&ho.supportsFiber))try{wl=ho.inject(oS),ct=ho}catch{}var ho;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rS;Be.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ic(t))throw Error(E(200));return eS(e,t,null,n)};Be.createRoot=function(e,t){if(!ic(e))throw Error(E(299));var n=!1,r="",o=Mh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=nc(e,1,!1,null,null,n,!1,r,o),e[At]=t.current,Uo(e.nodeType===8?e.parentNode:e),new oc(t)};Be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=rm(t),e=e===null?null:e.stateNode,e};Be.flushSync=function(e){return Pn(e)};Be.hydrate=function(e,t,n){if(!Hl(t))throw Error(E(200));return Gl(null,e,t,!0,n)};Be.hydrateRoot=function(e,t,n){if(!ic(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",l=Mh;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=kh(t,null,e,1,n??null,o,!1,i,l),e[At]=t.current,Uo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Vl(t)};Be.render=function(e,t,n){if(!Hl(t))throw Error(E(200));return Gl(null,e,t,!1,n)};Be.unmountComponentAtNode=function(e){if(!Hl(e))throw Error(E(40));return e._reactRootContainer?(Pn(function(){Gl(null,null,e,!1,function(){e._reactRootContainer=null,e[At]=null})}),!0):!1};Be.unstable_batchedUpdates=Zu;Be.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hl(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Gl(e,t,n,!1,r)};Be.version="18.3.1-next-f1338f8080-20240426"});var zh=cn((ST,Fh)=>{"use strict";function Uh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uh)}catch(e){console.error(e)}}Uh(),Fh.exports=Bh()});var Hh=cn(lc=>{"use strict";var Vh=zh();lc.createRoot=Vh.createRoot,lc.hydrateRoot=Vh.hydrateRoot;var TT});var x={DATE_INPUT:"date",DIET_TYPE_SELECT:"diet-type",TOP_BAR:".top-bar",FOOTER:"footer",EASTER_EGG_OVERLAY:".easter-egg-overlay",EASTER_EGG_ICON:".easter-egg-icon",SERVICE_NUMBER_PREFIX:"service-number-",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2",TAB_DADES:"tab-dades",TAB_SERVEIS:"tab-serveis",CONTENT_DADES:"dades-tab-content",CONTENT_SERVEIS:"serveis-tab-content",MAIN_CONTENT_AREA:"main-content",CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips",SIGNATURE_MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title",DOTACIO_MODAL:"dotacio-modal",OPTIONS_CONTAINER_DOT:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline",SAVE_DIET:"save-diet",NOTES_BUTTON_ID:"notes-selected-service",NOTES_MODAL_ID:"notes-modal",NOTES_TITLE_ID:"notes-title",NOTES_TEXTAREA_ID:"notes-textarea",NOTES_SAVE_ID:"notes-save",NOTES_CANCEL_ID:"notes-cancel",NOTES_COUNTER_ID:"notes-char-counter",SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel",TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text",SAVE_PILL:"save-pill",DONATION_LINK_ID:"openDonation",COOKIE_CONSENT_BANNER:"cookie-consent-banner",ACCEPT_COOKIES:"accept-cookies",DECLINE_COOKIES:"decline-cookies"},ge={INPUT_ERROR:"input-error",ACTIVE_TAB:"active",ERROR_TAB:"error-tab",MODAL_OPEN:"modal-open",MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",TOP_BAR_TAPS:3,FOOTER_TAPS:2,TIMEOUT:1e3,ANIMATION_DURATION:1e3,DEFAULT_DURATION:3e3,ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1,SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",CHIP_ACTIVE:"chip-active",PANEL_VISIBLE:"visible",BUTTON_OPEN:"open",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_LOAD_BTN:"diet-load",DIET_DELETE_BTN:"diet-delete",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal",INPUT_ERROR_DOT:"input-error",IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount",PROMPT_DISMISSED_LIMIT:2,ACTION_TRIGGER_LIMIT:10,DARK_THEME:"theme-dark",VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error",SIGNED:"signed",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Bn={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group",PERSON_INPUT_GROUP:".input-with-icon",TEXT_SEL:".pill-text",SERVICE_CONTAINER_SELECTOR:".service",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete",SERVICE_NUMBER_INPUT:".service-number"},Wl={serviceNumber:".service-number",origin:".origin",destination:".destination",originTime:".origin-time",destinationTime:".destination-time",endTime:".end-time",mode:".chip-active",notes:""},ft={SERVICE_NUMBER_LENGTH:9,VEHICLE_MAX_LENGTH:6,PERSON_NAME_MAX_LENGTH:28,LOCATION_MAX_LENGTH:35,PERSON_NAME_ALLOWED_CHARS:/^[a-zA-Z\s'’áéíóúàèìòùäëïöüñçÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÑÇ]+$/u},dc={DEBOUNCE_TOAST:300,DEBOUNCE_AUTO_SAVE:1e3,DEBOUNCE_HANDLER:800};var Ur={LUNCH:"lunch",DINNER:"dinner"},fc=Bn.SERVICE_CONTAINER_SELECTOR,Xl={SERVICE_NUMBER_DIGITS_ONLY:"Solo se permiten d\xEDgitos (0-9) en el n\xFAmero de servicio.",SAVE_ERROR_DIGITAL_ONLY:"El n\xFAmero de servicio debe contener solo d\xEDgitos.",VALIDATION_FAILED:"Validaci\xF3n fallida",OCR_PROCESS_RUNNING:"Proceso OCR ya en marcha.",INVALID_IMAGE:"Selecciona una imagen.",IMAGE_TOO_BIG:"La imagen es demasiado grande (m\xE1x. 10 MB).",OCR_ERROR:"Error de escaneo",IMAGE_PROCESS_ERROR:"Error al procesar la imagen.",OCR_COMPLETE:"An\xE1lisis completado.",SAVING:"Guardando\u2026",SAVED:"Guardado",SAVE_ERROR:"No se pudo guardar",DOWNLOAD_STARTED:"Descarga iniciada correctamente.",PDF_GENERATION_ERROR:"Error en la generaci\xF3n del PDF",DOTACIO_SAVED:"Dotaci\xF3n guardada.",DOTACIO_LOADED:"Dotaci\xF3n cargada.",DOTACIO_DELETED:"Dotaci\xF3n eliminada."};var pc={DOTACIIONS:"dotacions_v2",ANONYMOUS_USER:"anonymousUserId",COOKIE_CONSENT:"cookie_consent",THEME_PREFERENCE:"themePreference",USER_SELECTED_SERVICE_TYPE:"userSelectedServiceType",ONBOARDING_COMPLETED:"onboardingCompleted"};var ue={CONTAINER_ID:"toast-container",TOAST_CLASS:"toast",DEFAULT_DURATION:3e3,DEFAULT_TYPE:"info",ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1},X={queue:[],isVisible:!1,container:null,currentTimeout:null},Jh=e=>e&&typeof e=="string"?e.replace(/[<>&]/g,""):"";function eE(e,t,n){if(!e||typeof e!="string"||!e.trim())throw new Error("El missatge del toast \xE9s obligatori i ha de ser una cadena no buida.");if(!ue.ALLOWED_TYPES.includes(t))throw new Error(`Tipus de toast inv\xE0lid: ${t}. Ha de ser un de: ${ue.ALLOWED_TYPES.join(", ")}`);if(!Number.isInteger(n)||n<0||n>6e4)throw new Error("La durada ha d'estar entre 0 i 60000\u202Fms.")}function tE(){return!X.container&&(X.container=document.getElementById(ue.CONTAINER_ID),!X.container)?(console.error(`[Toast] Contenidor '#${ue.CONTAINER_ID}' no trobat.`),null):X.container}function Yl(e){X.currentTimeout&&(clearTimeout(X.currentTimeout),X.currentTimeout=null),e&&(e.classList.add(ue.ANIMATION.EXIT),e.addEventListener("transitionend",()=>e.remove(),{once:!0})),X.isVisible=!1,mc()}function nE({message:e,type:t,duration:n,options:r}){let o=tE();if(!o)return;let i=document.createElement("div");i.className=`${ue.TOAST_CLASS} ${t}`,i.setAttribute("role","alert"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),i.textContent=Jh(e);let l=!0;if(r?.undoCallback instanceof Function){let s=document.createElement("button");s.type="button",s.className=ue.UNDO_BTN_CLASS,s.textContent="Deshacer",s.setAttribute("aria-label","Deshacer la acci\xF3n"),s.addEventListener("click",()=>{l=!1;try{r.undoCallback()}finally{Yl(i)}}),i.appendChild(s)}o.appendChild(i),requestAnimationFrame(()=>{i.classList.add(ue.ANIMATION.ENTER)}),X.currentTimeout=setTimeout(()=>{l&&r?.onExpire instanceof Function&&r.onExpire(),Yl(i)},n)}function mc(){X.isVisible||X.queue.length===0||(X.isVisible=!0,X.queue.sort((e,t)=>t.priority-e.priority),nE(X.queue.shift()))}function w(e,t=ue.DEFAULT_TYPE,n=ue.DEFAULT_DURATION,r={}){eE(e,t,n);let o=r.priority??ue.DEFAULT_PRIORITY,i={message:e,type:t,duration:n,priority:o,options:r};if(!(r.queueable!==!1)&&X.isVisible){if(X.container){let a=X.container.querySelector(`.${ue.TOAST_CLASS}:not(.${ue.ANIMATION.EXIT})`);a&&a.remove()}Yl()}X.queue.length>=ue.MAX_QUEUE_SIZE&&X.queue.sort((a,u)=>a.priority-u.priority).shift();let s=X.queue.findIndex(a=>a.priority<o);s===-1?X.queue.push(i):X.queue.splice(s,0,i),rE(),mc()}function rE(){let e="toast-undo-style";if(document.getElementById(e))return;let t=document.body.getAttribute("data-csp-nonce"),n=document.createElement("style");n.id=e,t&&n.setAttribute("nonce",t),n.textContent=`
    .${ue.UNDO_BTN_CLASS} {
      margin-left: auto; 
      padding: 8px 12px; 
      background: none;
      border: none;
      border-radius: 4px; 
      cursor: pointer;     
      font-weight: 600;
      font-size: 0.875rem; 
      text-transform: uppercase; 
      letter-spacing: 0.08em; 
      color: inherit; 
      transition: background-color 0.2s ease;
    }
    .${ue.UNDO_BTN_CLASS}:hover {
      background-color: rgba(255, 255, 255, 0.15); 
    }
  `,document.head.appendChild(n)}function dn(e){e?.classList.add(ge.INPUT_ERROR)}function Un(e){e?.classList.remove(ge.INPUT_ERROR)}function hc(e){if(!e||e.length===0)return"";let t=e.map(n=>`S${n}`);return t.length===1?t[0]:t.length===2?t.join(" y "):`${t.slice(0,-1).join(", ")} y ${t[t.length-1]}`}function Fr(e){!e||e.dataset.errorListenerAttached||(e.addEventListener("input",()=>Un(e),{once:!0}),e.dataset.errorListenerAttached="true")}function Ec(e,t,n,r){if(!e)return!0;Un(e);let o=e.value.trim(),i=!1;return o?/^\d+$/.test(o)?o.length!==ft.SERVICE_NUMBER_LENGTH&&(r.digitLength.push(t),i=!0):(r.nonNumeric.push(t),i=!0):n&&(r.emptyRequiredS1=!0,i=!0),i?(dn(e),Fr(e),!1):!0}function oE(e){let t=[];return e.nonNumeric.length>0&&t.push(`El n\xFAmero de servicio ${hc(e.nonNumeric)} debe contener solo d\xEDgitos.`),e.digitLength.length>0&&t.push(`El n\xFAmero de servicio ${hc(e.digitLength)} debe tener ${ft.SERVICE_NUMBER_LENGTH} d\xEDgitos.`),t}function Zo(){let e=!0;return[document.getElementById(x.DATE_INPUT),document.getElementById(x.DIET_TYPE_SELECT)].filter(Boolean).forEach(n=>{Un(n),n.value.trim()||(dn(n),Fr(n),e=!1)}),e}function Jo(){let e={emptyRequiredS1:!1,nonNumeric:[],digitLength:[]},t=!0,n=document.getElementById(`${x.SERVICE_NUMBER_PREFIX}1`);if(!n)return console.error("Validation: No se ha encontrado el input para el servicio S1."),!1;t=Ec(n,1,!0,e)&&t;for(let o=2;o<=4;o++){let i=document.getElementById(`${x.SERVICE_NUMBER_PREFIX}${o}`);i&&(t=Ec(i,o,!1,e)&&t)}if(t)return!0;let r=oE(e);return r.length>0&&w(r.join(`
`),"error"),!1}function b(e){return typeof e!="string"?"":e.trim().replace(/[<>&"'`]/g,"").trim()}function ei(e){return e?/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/.test(e):!0}function gc(e,t,n,r){let o=e?.value.trim()||"";return o&&!ft.PERSON_NAME_ALLOWED_CHARS.test(o)?(dn(t),!1):o.length>ft.PERSON_NAME_MAX_LENGTH?(dn(t),r.push(`El nombre del ${n} no puede superar los ${ft.PERSON_NAME_MAX_LENGTH} caracteres.`),!1):!0}function vc(){let e=document.getElementById(x.VEHICLE_INPUT),t=document.getElementById(x.PERSON1_INPUT),n=document.getElementById(x.PERSON2_INPUT),r=t?.closest(Bn.PERSON_INPUT_GROUP),o=n?.closest(Bn.PERSON_INPUT_GROUP);Un(e),Un(r),Un(o);let i=e?.value.trim()||"",l=t?.value.trim()||"",s=n?.value.trim()||"",a=!0,u=[];return i||(dn(e),u.push("El campo Veh\xEDculo es obligatorio."),a=!1),a=gc(t,r,"Conductor",u)&&a,a=gc(n,o,"Ayudante",u)&&a,!l&&!s&&(dn(r),dn(o),u.push("Debe indicar al menos un Conductor o Ayudante."),a=!1),a||(Fr(e),Fr(t),Fr(n),w(u.join(`
`),"error")),a}function yc(){let e=ft.PERSON_NAME_ALLOWED_CHARS,t=/^[^\x00-\x1F\x7F<>&"'`]*$/u;function n(u){let p=u.target.value;e.test(p)||(u.target.value=p.replace(/[^a-zA-Z\s'’áéíóúàèìòùäëïöüñçÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÑÇ.]/g,""))}function r(u){let p=u.target.value;t.test(p)||(u.target.value=p.replace(/[<>&"'`]/g,"").trim())}function o(u){u.key==="Enter"||u.key==="Tab"||u.ctrlKey||u.metaKey||u.altKey||u.key.length>1||e.test(u.key)||u.preventDefault()}function i(u){u.key==="Enter"||u.key==="Tab"||u.ctrlKey||u.metaKey||u.altKey||u.key.length>1||t.test(u.key)||u.preventDefault()}[document.getElementById(x.PERSON1_INPUT),document.getElementById(x.PERSON2_INPUT)].filter(Boolean).forEach(u=>{u.addEventListener("input",n),u.addEventListener("keypress",o)}),document.querySelectorAll(".service .origin, .service .destination").forEach(u=>{u.addEventListener("input",r),u.addEventListener("keypress",i)});let a=document.getElementById(x.VEHICLE_INPUT);a&&a.addEventListener("input",u=>{u.target.value.length>ft.VEHICLE_MAX_LENGTH&&(u.target.value=u.target.value.slice(0,ft.VEHICLE_MAX_LENGTH))})}var iE=["3.6","3.51","3.22","3.11"],Fn={CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips"},Hr={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group"},Y={SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",SERVICE_COLORS:["service-1","service-2","service-3","service-4"],OPTIONS_MENU_HIDDEN:"hidden",CHIP_ACTIVE:"chip-active"},lE=[".chip-group-title",".chip-group",".btn-ocr-inline",".section-divider"],sE=[".destination",".destination-time"],Sc=!1,zn=0,ne=[],Gr=[],Tc=[],Kl=null,zr=null,pt=null,Vr=null,aE=null,uE=[],Pt=[],mt=["","","",""];function cE(){zr&&(zr.innerHTML="",Gr=ne.map((e,t)=>{let n=document.createElement("button");return n.className=`service-button ${Y.SERVICE_COLORS[t]}`,n.textContent=`S${t+1}`,n.type="button",n.setAttribute("aria-label",`Mostrar servei ${t+1}`),n.addEventListener("click",()=>hE(t)),zr.appendChild(n),n}))}function dE(){!pt||!Vr||(Vr.addEventListener("click",e=>{e.stopPropagation(),pt.classList.toggle(Y.OPTIONS_MENU_HIDDEN)}),document.addEventListener("click",e=>{!Vr?.contains(e.target)&&!pt?.contains(e.target)&&pt.classList.add(Y.OPTIONS_MENU_HIDDEN)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&pt&&pt.classList.add(Y.OPTIONS_MENU_HIDDEN)}),pt.addEventListener("click",e=>{e.target.closest("button")&&pt.classList.add(Y.OPTIONS_MENU_HIDDEN)}))}function fE(e,t){let n=e.querySelector(t);return n?n.closest(Hr.FORM_GROUP):null}function ti(e,t){if(!e)return;let n=t!=="3.6";sE.forEach(o=>{fE(e,o)?.classList.toggle(Y.SERVICE_HIDDEN,n)});let r=e.querySelector(".origin");r&&(n?r.setAttribute("enterkeyhint","done"):r.removeAttribute("enterkeyhint"))}function pE(e){aE&&uE.forEach(t=>t.classList.toggle(Y.CHIP_ACTIVE,t.dataset.mode===e))}function ni(e,t){e.querySelectorAll(Hr.CHIP).forEach(r=>r.classList.toggle(Y.CHIP_ACTIVE,r.dataset.mode===t))}function mE(){ne.forEach((e,t)=>{e.querySelectorAll(Hr.CHIP).forEach(r=>{r.addEventListener("click",()=>{let o=r.dataset.mode;if(!iE.includes(o)){console.error(`Intent de canviar a un mode inv\xE0lid: "${o}". Acci\xF3 bloquejada.`);return}if(Pt[t]===o)return;Pt[t]=o,ni(e,o),ti(e,o);let i=e.querySelector(".chip-group");i&&(Y.SERVICE_COLORS.forEach(l=>i.classList.remove(l)),i.classList.add(Y.SERVICE_COLORS[t])),ht()})})})}function ql(e){let t=Y.SERVICE_COLORS[e],n=(r,o)=>{r&&(r.classList.remove(...Y.SERVICE_COLORS),r.classList.add(o,t))};n(document.getElementById(Fn.CLEAR_BTN),"clear-selected-btn"),n(document.getElementById(Fn.CAMERA_BTN),"camera-btn"),n(document.getElementById("notes-selected-service"),"notes-btn"),n(Vr,"options-btn")}function _c(){if(!Sc&&(Tc=document.querySelectorAll(Hr.SERVICE_PANEL),Kl=document.getElementById(Fn.CONTAINER),zr=document.getElementById(Fn.BUTTONS_CONTAINER),pt=document.getElementById(Fn.OPTIONS_MENU),Vr=document.getElementById(Fn.OPTIONS_TOGGLE_BTN),!(!Kl||!zr)&&(ne=Array.from(Kl.querySelectorAll(Hr.SERVICE_PANEL)),!!ne.length))){if(Pt=ne.map(()=>"3.6"),cE(),dE(),mE(),ne.length>0&&Gr.length>0){ne.forEach((n,r)=>n.classList.toggle(Y.SERVICE_HIDDEN,r!==0)),Gr[0].classList.add(Y.BUTTON_ACTIVE);let e=Pt[0];ti(ne[0],e),ni(ne[0],e);let t=ne[0].querySelector(".chip-group");t&&t.classList.add(Y.SERVICE_COLORS[0]),pE(e),ql(0)}Sc=!0}}function hE(e){if(e<0||e>=ne.length||e===zn)return;ne[zn].classList.add(Y.SERVICE_HIDDEN),ne[e].classList.remove(Y.SERVICE_HIDDEN),Gr[zn].classList.remove(Y.BUTTON_ACTIVE),Gr[e].classList.add(Y.BUTTON_ACTIVE),zn=e;let t=Pt[e];ti(ne[e],t),ni(ne[e],t);let n=ne[e].querySelector(".chip-group");n&&(Y.SERVICE_COLORS.forEach(r=>n.classList.remove(r)),n.classList.add(Y.SERVICE_COLORS[e])),ql(e)}var fn=()=>zn,Ic=e=>{if(e>=0&&e<Pt.length)return Pt[e]};function Nc(e){e&&e.querySelectorAll("input, select, textarea").forEach(t=>{t.type==="checkbox"||t.type==="radio"?t.checked=!1:t.type!=="button"&&t.type!=="submit"&&t.type!=="reset"&&(t.value=""),t.tagName==="SELECT"&&(t.selectedIndex=0)})}function Ql(){ql(zn)}function Cc(e,t){if(e<0||e>=ne.length)return;Pt[e]=t;let n=ne[e];n&&(ni(n,t),ti(n,t),ht())}function Vn(e){let t=e==="TSNU";Tc.forEach(n=>{lE.forEach(r=>{n.querySelector(r)?.classList.toggle(Y.SERVICE_HIDDEN,t)})})}function jr(e){e&&e.querySelectorAll(".input-error").forEach(t=>t.classList.remove("input-error"))}function EE(){let e="dietSalt",t=(r=16)=>Array.from({length:r},()=>Math.floor(Math.random()*256).toString(16).padStart(2,"0")).join(""),n=localStorage.getItem(e);if(!n){if(window.crypto?.getRandomValues){let r=crypto.getRandomValues(new Uint8Array(16));n=Array.from(r).map(o=>o.toString(16).padStart(2,"0")).join("")}else console.warn("[pseudoId] crypto.getRandomValues no disponible; usant Math.random() (menys segur, nom\xE9s mode desenvolupament)."),n=t(16);localStorage.setItem(e,n)}return n}async function Hn(e){if(!window.crypto?.subtle)return console.warn("[pseudoId] WebCrypto no disponible (context no segur). S\u2019usar\xE0 l\u2019ID en clar nom\xE9s en aquesta sessi\xF3."),e;let n=new TextEncoder().encode(EE()+e),r=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}var bl=new Intl.RelativeTimeFormat("es",{numeric:"auto"});function Dc(e){if(!(e instanceof Date)||isNaN(e.getTime()))throw new Error("La data proporcionada no \xE9s v\xE0lida.");let t=Date.now()-e.getTime();if(t<0)return"en el futuro";let n=Math.round(t/1e3);if(n<45)return"hace unos segundos";if(n<90)return"hace un minuto";let r=Math.round(n/60);if(r<60)return bl.format(-r,"minute");let o=Math.round(r/60);if(o<24)return bl.format(-o,"hour");let i=Math.round(o/24);return bl.format(-i,"day")}var gE="DietasDB";var Et="dietas",Lc="dateIndex",Ue=null;function wc(){return new Promise((e,t)=>{let n=indexedDB.open(gE,1);n.onupgradeneeded=r=>{let o=r.target.result,i;o.objectStoreNames.contains(Et)?i=r.target.transaction.objectStore(Et):i=o.createObjectStore(Et,{keyPath:"id"}),i.indexNames.contains(Lc)||i.createIndex(Lc,"date",{unique:!1})},n.onsuccess=r=>{Ue=r.target.result,Ue.onclose=()=>Ue=null,Ue.onerror=()=>Ue=null,Ue.onversionchange=()=>Ue.close(),e(Ue)},n.onerror=r=>t(r.target.error),n.onblocked=()=>t(new Error("IndexedDB bloquejat per una altra pestanya"))})}async function $r(e="readonly"){return(Ue??(Ue=await wc())).transaction(Et,e)}function Wr(e,t){return new Promise((n,r)=>{e.onsuccess=o=>n(o.target.result),e.onerror=o=>r(new Error(`${t}: ${o.target.error}`))})}function Zl(e){return new Promise((t,n)=>{e.oncomplete=()=>t(),e.onerror=()=>n(e.error),e.onabort=()=>n(e.error)})}async function Jl(e){try{let t=await $r("readwrite");return Wr(t.objectStore(Et).add(e),"No s'ha pogut afegir"),await Zl(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function Ac(e){try{let t=await $r("readwrite");return Wr(t.objectStore(Et).put(e),"No s'ha pogut actualitzar"),await Zl(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function kt(e){if(!e)return;let t=await $r();return Wr(t.objectStore(Et).get(e),"Error obtenint dieta")}async function ri(){let e=await $r();return Wr(e.objectStore(Et).getAll(),"Error llistant dietes")}async function Oc(e){if(!e)return;let t=await $r("readwrite");Wr(t.objectStore(Et).delete(e),"Error eliminant dieta"),await Zl(t)}async function Rc(){return Ue??(Ue=await wc())}var vE="save-pill",yE=".pill-text",gt={VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error"},xc=2e3;var Mt=null,es=null,pn=null,Xr=null,SE=0,ts=!1;function Pc(){if(!Mt){if(Mt=document.getElementById(vE),es=Mt?.querySelector(yE),!Mt||!es)throw new Error("Elements de la p\xEDndola no trobats al DOM.");Mt.setAttribute("role","status"),Mt.setAttribute("aria-live","polite")}return{pillEl:Mt,textEl:es}}function ns(e,t){try{let{pillEl:n,textEl:r}=Pc();n.classList.add(gt.VISIBLE),n.classList.remove(gt.HAS_CHANGES,gt.SAVING,gt.HAS_SAVED,gt.ERROR),t&&n.classList.add(t),r.textContent=e.replace(/[<>&]/g,"")}catch(n){console.warn("[saveIndicator] Error mostrant p\xEDndola:",n)}}function oi(e="Guardando\u2026"){clearTimeout(Xr),ns(e,gt.SAVING)}function ii(){clearTimeout(Xr),ts=!1,SE=Date.now(),ns("Guardado",gt.HAS_SAVED),clearTimeout(pn),pn=setTimeout(rs,xc)}function Yr(e="No se pudo guardar"){clearTimeout(Xr),ns(e,gt.ERROR),clearTimeout(pn),pn=setTimeout(rs,xc*2)}function rs(e=!1){try{if(Pc(),clearTimeout(pn),ts&&!e)return;Mt?.classList.remove(gt.VISIBLE),pn=null}catch(t){console.warn("[saveIndicator] Error amagant p\xEDndola:",t)}}function Gn(){ts=!1,clearTimeout(Xr),rs(!0)}window.addEventListener("pagehide",()=>{clearTimeout(pn),clearTimeout(Xr)});var kc={[Ur.LUNCH]:"comida",[Ur.DINNER]:"cena",DEFAULT:"dieta"},mn={TOP_BAR:ge.TOP_BAR_TAPS,FOOTER:ge.FOOTER_TAPS,TIMEOUT:ge.TIMEOUT,ANIMATION_DURATION:ge.ANIMATION_DURATION};function $n(e){if(!e)return;let t=document.body;if(!t)return;let n=t.dataset?.cspNonce||t.getAttribute("data-csp-nonce")||"";n&&!e.getAttribute("nonce")&&e.setAttribute("nonce",n)}function Mc(){let e=document.getElementById(x.DATE_INPUT);if(!e){console.warn("Utils: Input de data no trobat.");return}try{e.valueAsDate=new Date}catch(t){console.error("Error establint la data d'avui:",t)}}function Bc(e){return typeof e!="string"||!e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function Wn(e){return e?e.split(" ").map(t=>t.includes(".")?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):""}function os(){let e=new Date().getHours();return e>=6&&e<18?Ur.LUNCH:Ur.DINNER}function Uc(){let e=document.getElementById(x.DIET_TYPE_SELECT);if(!e){console.warn("Utils: Select de tipus de dieta no trobat.");return}e.value=os()}function is(e,t){let n="Data inv\xE0lida";if(e&&/^\d{4}-\d{2}-\d{2}$/.test(e))try{let o=e.split("-"),i=o[0].slice(-2);n=`${o[2]}/${o[1]}/${i}`}catch(o){console.error("Error formatant data:",o)}let r=kc[t]||kc.DEFAULT;return{ddmmaa:n,franjaText:r}}var ie={topBarTaps:0,footerTaps:0,tapTimeoutId:null};function jn(){ie.topBarTaps=0,ie.footerTaps=0,ie.tapTimeoutId&&(clearTimeout(ie.tapTimeoutId),ie.tapTimeoutId=null)}function TE(){if(document.querySelector(x.EASTER_EGG_OVERLAY))return;let e=document.createElement("div");e.className=x.EASTER_EGG_OVERLAY.substring(1);let t=document.createElement("div");t.className=x.EASTER_EGG_ICON.substring(1),t.innerHTML='<img src="assets/icons/egg.svg" alt="Easter Egg">',e.appendChild(t),document.body.appendChild(e);let n=r=>{r.stopPropagation(),t.classList.add("clicked"),setTimeout(()=>e.remove(),mn.ANIMATION_DURATION)};e.addEventListener("click",n)}function Fc(){let e=document.querySelector(x.TOP_BAR),t=document.querySelector(x.FOOTER);if(!e||!t){console.warn("Easter Egg: No s'han trobat top bar o footer.");return}e.addEventListener("touchend",n=>{n.changedTouches.length===1?(ie.topBarTaps++,ie.tapTimeoutId&&clearTimeout(ie.tapTimeoutId),ie.tapTimeoutId=setTimeout(jn,mn.TIMEOUT),ie.topBarTaps>mn.TOP_BAR&&jn()):jn()}),t.addEventListener("touchend",n=>{ie.topBarTaps===mn.TOP_BAR&&n.changedTouches.length===1&&(ie.footerTaps++,ie.tapTimeoutId&&clearTimeout(ie.tapTimeoutId),ie.tapTimeoutId=setTimeout(jn,mn.TIMEOUT),ie.footerTaps===mn.FOOTER?(TE(),jn()):ie.footerTaps>mn.FOOTER&&jn())})}function Kr(e,t){let n,r=function(...o){clearTimeout(n),n=setTimeout(()=>e.apply(this,o),t)};return r.cancel=()=>clearTimeout(n),r}var ls=Promise.resolve(),zc=!1;async function _E(e,t,n){if(!e||!Array.isArray(t)||!n)throw new Error("Datos incompletos para construir la dieta.");if(!/^\d{9}$/.test(n))throw new Error("ID de dieta inv\xE1lido. Debe contener 9 d\xEDgitos.");for(let s of t)if(!ei(s.originTime)||!ei(s.destinationTime)||!ei(s.endTime))throw new Error("Formato de hora inv\xE1lido detectado. Use HH:mm.");let r=await Hn(n),o=await kt(r),i=o?o.timeStampDiet:new Date().toISOString(),l={id:r,date:b(e.date),dietType:b(e.dietType),vehicleNumber:b(e.vehicleNumber),person1:b(e.person1),person2:b(e.person2),signatureConductor:e.signatureConductor,signatureAjudant:e.signatureAjudant,services:t.map(s=>({serviceNumber:b(s.serviceNumber),origin:b(s.origin),destination:b(s.destination),originTime:s.originTime,destinationTime:s.destinationTime,endTime:s.endTime,mode:b(s.mode),notes:b(s.notes)||""})),serviceType:b(e.serviceType),timeStampDiet:i};return new Diet(l)}function IE(){let e=document.getElementById(x.DADES_TAB),t=document.getElementById(x.SERVEIS_TAB);e?.classList.remove(ge.ERROR_TAB),t?.classList.remove(ge.ERROR_TAB);let n=Zo(),r=Jo();if(n&&r)return!0;let o="";return!n&&!r?(o="Completa los campos obligatorios en Datos y Servicios.",e?.classList.add(ge.ERROR_TAB),t?.classList.add(ge.ERROR_TAB)):n?(o="Completa los campos obligatorios en la pesta\xF1a Servicios.",t?.classList.add(ge.ERROR_TAB)):(o="Completa los campos obligatorios en la pesta\xF1a Datos.",e?.classList.add(ge.ERROR_TAB)),w(o,"error"),!1}function NE(e){if(!e)return;let t=o=>document.getElementById(o);t(x.DATE_INPUT).value=e.date||"",t(x.DIET_TYPE_SELECT).value=e.dietType||"",t(x.VEHICLE_INPUT).value=e.vehicleNumber||"",t(x.PERSON1_INPUT).value=e.person1||"",t(x.PERSON2_INPUT).value=e.person2||"";let n=t(x.SERVICE_TYPE_SELECT);n&&(n.value=e.serviceType||"TSU",Vn(n.value)),ai(e.signatureConductor||""),ui(e.signatureAjudant||"");let r=document.querySelectorAll(fc);e.services.forEach((o,i)=>{let l=r[i];l&&(Object.entries(Wl).forEach(([s,a])=>{let u=l.querySelector(a);u&&(u.value=o[s]||"")}),Cc(i,o.mode||"3.6"),jr(l),mt[i]=o.notes||"")});for(let o=e.services.length;o<r.length;o++){let i=r[o];i&&(Object.values(Wl).forEach(l=>{let s=i.querySelector(l);s&&(s.value="")}),jr(i),mt[o]="")}}async function Vc(e){return ls=ls.then(async()=>{let{generalData:t,servicesData:n}=ci(),r=n[0]?.serviceNumber?.slice(0,9)||"";if(!r||!/^\d{9}$/.test(r)){e&&w("El primer servicio debe tener un N.\xBA de servicio v\xE1lido.","error");return}let o=await Hn(r),i=await kt(o);e&&oi(!i?"Guardando nueva dieta\u2026":"Guardando\u2026"),ss(!1);try{if(await new Promise(u=>setTimeout(u,500)),!IE()){e&&Yr("Validaci\xF3n fallida");return}let a=await _E(t,n,r);i?await Ac(a):(await Jl(a),hn(),Gn()),e&&w("Dieta guardada correctament.","success"),qr=new Date,us(),hn(),ii(),e&&await si()}catch(a){console.error("Error en performSave:",a),Yr(a.message||"No se pudo guardar"),e&&w(`Error al guardar: ${a.message}`,"error")}finally{ss(!0),zc&&(zc=!1,setTimeout(()=>li(),100))}}),ls}async function Hc(){Wc(),await Vc(!0)}async function li(){await Vc(!1)}async function Gc(e){if(!e||typeof e!="string")throw new Error("ID inv\xE0lid");let t=e.length===64?await kt(e):await kt(await Hn(e));if(!t)throw new Error(`Dieta no trobada: ${e}`);NE(t),hn(),t.timeStampDiet&&(qr=new Date(t.timeStampDiet),us()),w("Dieta cargada correctamente.","success"),cs()}async function as(e,t,n){if(e)try{let r=await kt(e);if(!r){w("Error: Dieta no trobada","error");return}let i=(await ri()).sort((l,s)=>new Date(s.timeStampDiet)-new Date(l.timeStampDiet));r.index=i.findIndex(l=>l.id===e),await Oc(e),w("Dieta eliminada","success",5e3,{priority:2,queueable:!1,undoCallback:async()=>{await Jl(r),$c(r),w("Dieta restaurada","success",3e3,{priority:0})},onExpire:()=>{jc(e)}}),hn(),Gn()}catch(r){console.error("Error en deleteDietHandler:",r),w("Error al eliminar la dieta","error")}}var qr=null;function us(){let e=document.getElementById("last-saved");e&&(e.textContent=qr?Dc(qr):"")}setInterval(()=>{qr&&us()},6e4);var Ae={IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount"},Kc=2,Xc=10,En=null,ds=null,fs=null,gn=null,Yc=!1,ps=(e,t=0)=>parseInt(localStorage.getItem(e)||String(t),10),ms=e=>localStorage.getItem(e)==="true",vn=(e,t)=>localStorage.setItem(e,String(t));function qc(){let e=window.matchMedia("(display-mode: standalone)").matches,t=window.navigator.standalone===!0;return e||t||ms(Ae.IS_INSTALLED)}function CE(e=!1){if(console.log("[PWA] Intentant mostrar el b\xE0ner d'instal\xB7laci\xF3..."),qc()){console.log("[PWA] Bloquejat: L'app ja est\xE0 instal\xB7lada.");return}if(ms(Ae.NEVER_SHOW_AGAIN)){console.log("[PWA] Bloquejat: L'usuari ha demanat no tornar a mostrar.");return}if(!En){console.log("[PWA] Bloquejat: No hi ha cap event d'instal\xB7laci\xF3 guardat.");return}if(!gn){console.log("[PWA] Bloquejat: L'element HTML del b\xE0ner no s'ha trobat.");return}console.log("%c[PWA] Mostrant el b\xE0ner!","color: green; font-weight: bold;"),gn.classList.add("visible"),gn.classList.remove("hidden")}function Qc(){console.log("[PWA] Amagant el b\xE0ner."),gn?.classList.remove("visible"),gn?.classList.add("hidden")}function DE(){console.log("[PWA] L'usuari ha descartat el b\xE0ner."),Qc();let e=ps(Ae.PROMPT_DISMISSED_COUNT);e++,vn(Ae.PROMPT_DISMISSED_COUNT,e),console.log(`[PWA] Comptador de descartats actualitzat a: ${e}`),e>=Kc&&(vn(Ae.NEVER_SHOW_AGAIN,!0),console.log("%c[PWA] S'ha assolit el l\xEDmit de descartats. No es tornar\xE0 a mostrar.","color: orange;"))}async function LE(){if(console.log("[PWA] L'usuari ha fet clic a 'Instal\xB7lar'."),!En){console.warn("[PWA] El bot\xF3 d'instal\xB7lar s'ha premut, per\xF2 no hi havia cap event guardat.");return}Qc();try{En.prompt();let{outcome:e}=await En.userChoice;console.log(`[PWA] Resultat de la decisi\xF3 de l'usuari: ${e}`),e==="accepted"?(vn(Ae.IS_INSTALLED,!0),vn(Ae.NEVER_SHOW_AGAIN,!0),console.log("%c[PWA] L'usuari ha acceptat la instal\xB7laci\xF3! :)","color: green; font-weight: bold;")):console.log("[PWA] L'usuari ha rebutjat la instal\xB7laci\xF3 des del di\xE0leg del navegador.")}catch(e){console.error("[PWA] Error durant el proc\xE9s de prompt d'instal\xB7laci\xF3:",e)}finally{En=null}}function wE(e){e.preventDefault(),En=e,console.log("%c[PWA] Event 'beforeinstallprompt' capturat i guardat.","color: blue;")}function bc(){Yc||(console.log("[PWA] Inicialitzant el gestor d'instal\xB7laci\xF3..."),gn=document.getElementById("install-prompt"),ds=document.getElementById("install-button"),fs=document.getElementById("dismiss-button"),gn&&ds&&fs?(ds.addEventListener("click",LE),fs.addEventListener("click",DE),console.log("[PWA] Botons del b\xE0ner d'instal\xB7laci\xF3 configurats.")):console.warn("[PWA] No s'han trobat tots els elements del b\xE0ner d'instal\xB7laci\xF3."),window.addEventListener("beforeinstallprompt",wE),window.matchMedia("(display-mode: standalone)").addEventListener("change",e=>{e.matches&&(console.log("[PWA] Detectat canvi a mode 'standalone'. Marcat com instal\xB7lat."),vn(Ae.IS_INSTALLED,!0),vn(Ae.NEVER_SHOW_AGAIN,!0))}),Yc=!0,console.log("[PWA] Gestor d'instal\xB7laci\xF3 inicialitzat correctament."))}function Zc(){if(console.log("------------------------------------------"),console.log("[PWA] Comprovant si s'ha de mostrar el b\xE0ner despr\xE9s d'una acci\xF3..."),qc()){console.log("[PWA Check] No es mostra: L'app ja est\xE0 instal\xB7lada.");return}if(ms(Ae.NEVER_SHOW_AGAIN)){console.log("[PWA Check] No es mostra: L'usuari ha demanat no tornar a veure'l.");return}if(!En){console.log("[PWA Check] No es mostra: El navegador no ha ofert la possibilitat d'instal\xB7lar (deferredPrompt \xE9s nul).");return}let e=ps(Ae.ACTION_TRIGGER_COUNT);e++,vn(Ae.ACTION_TRIGGER_COUNT,e),console.log(`[PWA] Comptador d'accions incrementat a: ${e}`);let t=ps(Ae.PROMPT_DISMISSED_COUNT);console.log(`[PWA] Vegades que s'ha descartat el b\xE0ner: ${t}`);let n=e===1&&t===0||e>=Xc&&t<Kc;console.log(`[PWA] Es compleixen les condicions per mostrar? ${n}`),n?(setTimeout(()=>CE(),1500),e>=Xc):console.log("[PWA] No es mostra el b\xE0ner aquesta vegada."),console.log("------------------------------------------")}var Jc=!1;async function ed(){if(Jc)return;let e=document.createElement("script");return $n(e),e.src="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js",new Promise((t,n)=>{e.onload=()=>{Jc=!0,t()},e.onerror=n,document.head.appendChild(e)})}var Xn={OUTER_MARGIN:55,INNER_PADDING:10},di={DADES_TAB:"tab-dades",SERVEIS_TAB:"tab-serveis"},Bt={ERROR_TAB:"error-tab"},vt={TEMPLATE_URLS:{DEFAULT:"./dieta.pdf"},SERVICE_Y_OFFSET:82,SIGNATURE_WIDTH:100,SIGNATURE_HEIGHT:50,WATERMARK_TEXT:"misdietas.com",DEFAULT_FILENAME:"dieta.pdf",SERVICE_NUMBER_COLOR:"#004aad",MODE_PREFIX_TEXT_COLOR:"#8B0000",MAX_SIGNATURE_NAME_LENGTH:31},O={general:{date:{x:155,y:732,size:16,color:"#000000"},vehicleNumber:{x:441,y:732,size:16,color:"#000000"},person1:{x:65,y:368,size:16,color:"#000000"},person2:{x:310,y:368,size:16,color:"#000000"}},service:{serviceNumber:{x:130,y:715,size:16,color:"#000000"},origin:{x:232,y:698,size:16,color:"#000000"},originTime:{x:441,y:698,size:16,color:"#000000"},destination:{x:232,y:683,size:16,color:"#000000"},destinationTime:{x:441,y:681,size:16,color:"#000000"},endTimeNormal:{x:441,y:665,size:16,color:"#000000"},endTimeModeText:{x:390,y:665,size:16,color:vt.MODE_PREFIX_TEXT_COLOR},endTimeValueWhenPrefixed:{x:441,y:665,size:16,color:"#000000"}},signature:{conductor:{x:125,y:295,width:100,height:50},ayudante:{x:380,y:295,width:100,height:50}},notesSection:{title:{x:65,y:250,size:16,color:"#000000"},lineHeight:18,maxWidth:465,start:{x:65,y:230,size:16,color:"#333333"}},fixedText:{website:{x:250,y:20,size:6,color:"#EEEEEE"}}};function AE(e){return!e||typeof e!="string"||e.trim()===""?"":e.split(/\s+/).filter(Boolean).map(t=>t.includes("-")?t.split("-").map(n=>n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():"").join("-"):t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function OE(e){if(!e||typeof e!="string")return{r:0,g:0,b:0};let t=e.replace("#","");if(t.length!==6)return{r:0,g:0,b:0};let n=parseInt(t,16);return isNaN(n)?{r:0,g:0,b:0}:{r:n>>16&255,g:n>>8&255,b:n&255}}function hs(e){if(!e||!/^\d{4}-\d{2}-\d{2}$/.test(e))return"";let[t,n,r]=e.split("-");return`${r}/${n}/${t}`}function RE(){return vt.TEMPLATE_URLS.DEFAULT}function xE(e,t){let n=document.getElementById(di.DADES_TAB),r=document.getElementById(di.SERVEIS_TAB);n?.classList.remove(Bt.ERROR_TAB),r?.classList.remove(Bt.ERROR_TAB);let o="";!e&&!t?(o="Completa els camps obligatoris a Dades i Serveis.",n?.classList.add(Bt.ERROR_TAB),r?.classList.add(Bt.ERROR_TAB)):e?(o="Completa els camps obligatoris a Serveis.",r?.classList.add(Bt.ERROR_TAB)):(o="Completa els camps obligatoris a Dades.",n?.classList.add(Bt.ERROR_TAB)),o&&w(o,"error")}function td(e,t){let n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(()=>URL.revokeObjectURL(n),500)}async function nd(e,t){if(!e||!Array.isArray(t))throw new Error("Dades inv\xE0lides.");if(!window.PDFLib)throw new Error("PDFLib no carregada.");let{PDFDocument:n,StandardFonts:r,rgb:o}=window.PDFLib,i=RE(),l=await fetch(i).then(y=>y.arrayBuffer()),s=await n.load(l),a=await s.embedFont(r.Helvetica),u=s.getPages()[0],p=y=>{let{r:N,g:D,b:L}=OE(y);return o(N/255,D/255,L/255)};Object.entries(O.general).forEach(([y,N])=>{let D=e[y]||"";y==="date"&&(D=hs(D)),y==="vehicleNumber"&&(D=D.toUpperCase()),(y==="person1"||y==="person2")&&(D=AE(D),D.length>vt.MAX_SIGNATURE_NAME_LENGTH&&(D=D.slice(0,vt.MAX_SIGNATURE_NAME_LENGTH-3)+"...")),u.drawText(D,{...N,font:a,color:p(N.color)})}),t.forEach((y,N)=>{let D=N*vt.SERVICE_Y_OFFSET,L=y.mode||"3.6";u.drawText(y.serviceNumber||"",{...O.service.serviceNumber,y:O.service.serviceNumber.y-D,font:a,color:p(vt.SERVICE_NUMBER_COLOR)}),u.drawText(y.origin||"",{...O.service.origin,y:O.service.origin.y-D,font:a,color:p(O.service.origin.color)}),u.drawText(y.originTime||"",{...O.service.originTime,y:O.service.originTime.y-D,font:a,color:p(O.service.originTime.color)}),L==="3.6"&&(u.drawText(y.destination||"",{...O.service.destination,y:O.service.destination.y-D,font:a,color:p(O.service.destination.color)}),u.drawText(y.destinationTime||"",{...O.service.destinationTime,y:O.service.destinationTime.y-D,font:a,color:p(O.service.destinationTime.color)}));let Ee=(y.endTime||"").trim();L!=="3.6"&&Ee?(u.drawText(L,{...O.service.endTimeModeText,y:O.service.endTimeModeText.y-D,font:a,color:p(O.service.endTimeModeText.color)}),u.drawText(Ee,{...O.service.endTimeValueWhenPrefixed,y:O.service.endTimeValueWhenPrefixed.y-D,font:a,color:p(O.service.endTimeValueWhenPrefixed.color)})):u.drawText(Ee,{...O.service.endTimeNormal,y:O.service.endTimeNormal.y-D,font:a,color:p(O.service.endTimeNormal.color)})});let m=async(y,N)=>{if(typeof y=="string"&&y.startsWith("data:image/png;base64,")&&y.length>22)try{let L=await s.embedPng(y);u.drawImage(L,{...N})}catch(L){console.warn(`No s'ha pogut incrustar una signatura. Error: ${L.message}`)}};await Promise.all([m(e.signatureConductor,O.signature.conductor),m(e.signatureAjudant,O.signature.ayudante)]);let h=u.getWidth(),v=Xn.OUTER_MARGIN+Xn.INNER_PADDING,S=h-(Xn.OUTER_MARGIN+Xn.INNER_PADDING),T=t.map(y=>({num:y.serviceNumber||"",text:(y.notes||"").trim()})).filter(y=>y.num&&y.text);if(T.length){u.drawLine({start:{x:Xn.OUTER_MARGIN,y:275},end:{x:h-Xn.OUTER_MARGIN,y:275},thickness:.5,color:o(.8,.8,.8)});let N=T.length===1?"Observaci\xF3":"Observacions";u.drawText(N,{...O.notesSection.title,font:a,color:p(O.notesSection.title.color)});let D=O.notesSection.start.y,L=O.notesSection.start.size,Ee=O.notesSection.lineHeight,jl=p(O.notesSection.start.color);T.forEach(({num:$h,text:Wh})=>{if(D<40)return;let sc=`Servei ${$h}: `;u.drawText(sc,{x:v,y:D,font:a,size:L,color:p(vt.SERVICE_NUMBER_COLOR)});let Xh=a.widthOfTextAtSize(sc,L),bo=v+Xh;Wh.split(" ").forEach($l=>{if(!$l)return;let ac=a.widthOfTextAtSize($l+" ",L);bo+ac>S&&(D-=Ee,bo=v),u.drawText($l+" ",{x:bo,y:D,font:a,size:L,color:jl}),bo+=ac}),D-=Ee*1.5})}let V=vt.WATERMARK_TEXT,d=O.fixedText.website.size,c=a.widthOfTextAtSize(V,d);u.drawText(V,{x:(u.getWidth()-c)/2,y:O.fixedText.website.y,size:d,font:a,color:p(O.fixedText.website.color)});let f=hs(e.date)||"Dieta",I=`Dieta ${e.dietType==="lunch"?"Comida":e.dietType==="dinner"?"Cena":""} ${f}`.trim().replace(/ +/g," ");s.setTitle(I),s.setAuthor("misdietas.com"),s.setSubject("Justificante de dieta de transporte sanitario"),s.setCreator("MisDietas"),s.setKeywords(["dieta","justificante","transporte sanitario","tsu","tsnu"]);let C=new Date(e.date);return isNaN(C.getTime())||(s.setCreationDate(C),s.setModificationDate(C)),await s.save({permissions:{modifying:!1,copying:!1}})}function rd(e,t){let n=hs(e).replace(/\//g,"_")||"";return n?`${t==="lunch"?"dieta_comida":t==="dinner"?"dieta_cena":"dieta"}_${n}.pdf`:vt.DEFAULT_FILENAME}async function od(){let e=Zo(),t=Jo();if(!e||!t){xE(e,t);return}document.getElementById(di.DADES_TAB)?.classList.remove(Bt.ERROR_TAB),document.getElementById(di.SERVEIS_TAB)?.classList.remove(Bt.ERROR_TAB);try{let{generalData:n,servicesData:r}=ci();if(!n||!r)throw new Error("Dades no recollides.");await ed();let o=await nd(n,r),i=rd(n.date,n.dietType);td(new Blob([o],{type:"application/pdf"}),i),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from main form"}),w("Desc\xE0rrega iniciada correctament.","success"),Zc()}catch(n){w(`Error en la generaci\xF3 del PDF: ${n.message||"Desconegut"}`,"error")}}async function id(e){if(!e){w("ID de dieta inv\xE1lido.","error");return}try{let t=e.length===64?e:await Hn(e),n=await kt(t);if(!n)throw new Error("Dieta no encontrada.");let r={date:n.date||"",dietType:n.dietType||"",vehicleNumber:n.vehicleNumber||"",person1:n.person1||"",person2:n.person2||"",serviceType:n.serviceType||"TSU",signatureConductor:n.signatureConductor||"",signatureAjudant:n.signatureAjudant||""},o=n.services.map(s=>({serviceNumber:s.serviceNumber||"",origin:s.origin||"",originTime:s.originTime||"",destination:s.destination||"",destinationTime:s.destinationTime||"",endTime:s.endTime||"",mode:s.mode||"3.6",notes:s.notes||""}));await ed();let i=await nd(r,o),l=rd(r.date,r.dietType);td(new Blob([i],{type:"application/pdf"}),l),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from saved list"}),w("Descarga iniciada correctamente.","success")}catch(t){console.error("Error en downloadDietPDF:",t),w(`Error en la generaci\xF3n del PDF: ${t.message||"Desconocido"}`,"error")}}var ld="dotacions_v2",Z={MODAL:"dotacio-modal",OPTIONS_CONTAINER:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2"},Ke={MODAL_OPEN:"modal-open",INPUT_ERROR:"input-error",HIDDEN:"hidden"},Yn={PERSON_INPUT_GROUP:".input-with-icon",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete"},sd={INDEX:"data-index"},PE=180,Es=class{constructor(){this.savedDotacions=[],this.dotacioModalElement=null,this.optionsContainerElement=null,this.dotacioTemplateElement=null,this.noDotacioTextElement=null,this.isInitialized=!1}init(){if(this.isInitialized)return;this.dotacioModalElement=document.getElementById(Z.MODAL),this.optionsContainerElement=document.getElementById(Z.OPTIONS_CONTAINER),this.dotacioTemplateElement=document.getElementById(Z.TEMPLATE),this.noDotacioTextElement=document.getElementById(Z.NO_DOTACIO_TEXT);let t=document.getElementById(Z.ADD_BTN),n=document.getElementById(Z.OPEN_MODAL_BTN),r=document.getElementById(Z.CLOSE_MODAL_BTN);if(!this.dotacioModalElement||!this.optionsContainerElement||!this.dotacioTemplateElement||!t||!n||!r)return;this.loadDotacionsFromStorage(),t.addEventListener("click",this.addDotacioFromMainForm.bind(this)),n.addEventListener("click",this.openDotacioModal.bind(this)),r.addEventListener("click",this.closeDotacioModal.bind(this)),this.dotacioModalElement.addEventListener("click",i=>{i.target===this.dotacioModalElement&&this.closeDotacioModal()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&this.dotacioModalElement.style.display==="block"&&this.closeDotacioModal()}),this.optionsContainerElement.addEventListener("click",this.handleOptionsClick.bind(this)),[Z.VEHICLE_INPUT,Z.PERSON1_INPUT,Z.PERSON2_INPUT].forEach(i=>{let l=document.getElementById(i);l?.addEventListener("input",()=>{let s=l.closest(Yn.PERSON_INPUT_GROUP);s?s.classList.remove(Ke.INPUT_ERROR):l.classList.remove(Ke.INPUT_ERROR)})}),this.isInitialized=!0}loadDotacionsFromStorage(){try{let t=localStorage.getItem(ld);this.savedDotacions=t?JSON.parse(t):[],Array.isArray(this.savedDotacions)||(this.savedDotacions=[])}catch{this.savedDotacions=[]}}saveDotacionsToStorage(){try{localStorage.setItem(ld,JSON.stringify(this.savedDotacions))}catch{w("No se han podido guardar las dotaciones.","error")}}openDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="block",document.body.classList.add(Ke.MODAL_OPEN),this.displayDotacioOptions())}closeDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="none",document.body.classList.remove(Ke.MODAL_OPEN),document.getElementById(Z.OPEN_MODAL_BTN)?.focus())}displayDotacioOptions(){!this.optionsContainerElement||!this.dotacioTemplateElement||(this.optionsContainerElement.innerHTML="",this.savedDotacions.length===0?(this.noDotacioTextElement?.classList.remove(Ke.HIDDEN),this.optionsContainerElement.classList.add(Ke.HIDDEN)):(this.noDotacioTextElement?.classList.add(Ke.HIDDEN),this.optionsContainerElement.classList.remove(Ke.HIDDEN),this.savedDotacions.forEach((t,n)=>{let r=this.dotacioTemplateElement.content.cloneNode(!0),o=r.querySelector(Yn.DOTACIO_INFO),i=r.querySelector(Yn.LOAD_BTN),l=r.firstElementChild,s=`${t.numero}-${t.conductor}-${t.ajudant}`.replace(/\s/g,"");l.setAttribute("data-dotacio-id",s),o&&(o.textContent=this.formatDotacioListText(t)),i&&i.setAttribute(sd.INDEX,n),this.optionsContainerElement.appendChild(r),vs(l,s),gs(l,s)})))}formatDotacioListText(t){let n=t.numero||"S/N",r=Wn(t.conductor||""),o=Wn(t.ajudant||""),i=`${r} / ${o}`;r||o?i=` - ${i}`:i="";let l=`${n}${i}`;if(this.measureTextWidth(l)>PE){let a=t.conductor?this.shortenPersonName(t.conductor):"",u=t.ajudant?this.shortenPersonName(t.ajudant):"",p=`${a} / ${u}`;a||u?p=` - ${p}`:p="",l=`${n}${p}`}return l}shortenPersonName(t){if(!t||typeof t!="string")return"";let n=t.trim().split(/\s+/).filter(s=>s.length>0);if(n.length===0)return"";if(n.length===1)return Wn(n[0]);let r=new Set(["de","la","del","el","los","las","von","van","d'","es","da","dels","i","y"]),o=n.filter(s=>!r.has(s.toLowerCase()));if(o.length===0)return Wn(n[0]);let i=Wn(o[0]),l=o.slice(1).map(s=>s.charAt(0).toUpperCase()+".").join(" ");return`${i} ${l}`}measureTextWidth(t){let n=document.createElement("span");n.style.visibility="hidden",n.style.whiteSpace="nowrap",n.style.fontSize=getComputedStyle(document.body).fontSize,n.style.fontFamily=getComputedStyle(document.body).fontFamily,n.textContent=t,document.body.appendChild(n);let r=n.offsetWidth;return document.body.removeChild(n),r}loadDotacionByIndex(t){if(t<0||t>=this.savedDotacions.length)return;let n=this.savedDotacions[t];this.clearDotacionInputErrors(),document.getElementById(Z.VEHICLE_INPUT).value=n.numero||"",document.getElementById(Z.PERSON1_INPUT).value=n.conductor||"",document.getElementById(Z.PERSON2_INPUT).value=n.ajudant||"",ai(n.firmaConductor||""),ui(n.firmaAjudant||""),w(`Dotaci\xF3n ${n.numero} cargada.`,"success"),this.closeDotacioModal()}async handleDeleteById(t){let n=this.savedDotacions.findIndex(i=>`${i.numero}-${i.conductor}-${i.ajudant}`.replace(/\s/g,"")===t);if(n===-1){console.warn("Se intent\xF3 eliminar una dotaci\xF3n que ya no existe:",t);return}let o={...this.savedDotacions[n],originalIndex:n};this.savedDotacions.splice(n,1),this.saveDotacionsToStorage(),Qr(),w("Dotaci\xF3n eliminada.","success",5e3,{queueable:!1,undoCallback:()=>{this.savedDotacions.splice(o.originalIndex,0,o),this.saveDotacionsToStorage(),ad(o),w("Dotaci\xF3n restaurada.","success")}})}handleOptionsClick(t){let r=t.target.closest(Yn.LOAD_BTN);if(r){t.stopPropagation();let o=parseInt(r.getAttribute(sd.INDEX),10);isNaN(o)||this.loadDotacionByIndex(o)}}getDotacionInputValues(){let t=document.getElementById(Z.VEHICLE_INPUT),n=document.getElementById(Z.PERSON1_INPUT),r=document.getElementById(Z.PERSON2_INPUT);return{vehiculo:t?.value.trim()||"",conductor:n?.value.trim()||"",ayudante:r?.value.trim()||""}}findExistingDotacionIndex(t,n,r){let o=t.toLowerCase(),i=n.toLowerCase(),l=r.toLowerCase();return this.savedDotacions.findIndex(s=>s.numero.toLowerCase()===o&&s.conductor.toLowerCase()===i&&s.ajudant.toLowerCase()===l)}addDotacioFromMainForm(){if(!vc())return;let{vehiculo:t,conductor:n,ayudante:r}=this.getDotacionInputValues(),o=fi(),i=pi(),l=this.findExistingDotacionIndex(t,n,r),s={numero:t,conductor:n,ajudant:r,firmaConductor:o,firmaAjudant:i};l!==-1?(this.savedDotacions[l]=s,w(`Dotaci\xF3n ${t} actualizada.`,"success")):(this.savedDotacions.push(s),w(`Dotaci\xF3n ${t} creada.`,"success")),this.saveDotacionsToStorage()}clearDotacionInputErrors(){let t=document.getElementById(Z.VEHICLE_INPUT),n=document.getElementById(Z.PERSON1_INPUT),r=document.getElementById(Z.PERSON2_INPUT),o=n?.closest(Yn.PERSON_INPUT_GROUP),i=r?.closest(Yn.PERSON_INPUT_GROUP);t?.classList.remove(Ke.INPUT_ERROR),o?.classList.remove(Ke.INPUT_ERROR),i?.classList.remove(Ke.INPUT_ERROR)}},Kn=new Es;var M={MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_DELETE_BTN:"diet-delete",DIET_LOAD_BTN:"diet-load",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal"},Oe={DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",SIGNATURE_MODAL:"signature-modal",DOTACIO_MODAL:"dotacio-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal"},mi={MODAL:".modal",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Ut={DIET_ID:"data-diet-id",DIET_DATE:"data-diet-date",DIET_TYPE:"data-diet-type"},Qn=null,H=null,Fe=null,ys=null,kE=null,ME=null,BE=null,UE=null;var qn=null,bn=null,Zn=null,ce=null;function ud(e){if(!e||ce&&ce.id!==e.id&&e.id!==Oe.CONFIRM_MODAL)return;ce||(qn=document.activeElement),ce=e,e.style.display="block",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",document.body.classList.add(M.MODAL_OPEN_BODY),pd(),Jn(!1),document.body.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","auto"),e.addEventListener("touchstart",n=>{n.target===e&&(n.preventDefault(),n.stopPropagation())},{passive:!1}),bn||(bn=n=>{n.target===ce&&(ce.id===Oe.CONFIRM_MODAL?_handleConfirmNo():hi())},document.addEventListener("click",bn,!0)),Zn||(Zn=n=>{n.key==="Escape"&&ce&&(ce.id===Oe.CONFIRM_MODAL?_handleConfirmNo():hi())},document.addEventListener("keydown",Zn,!0)),e.querySelector(mi.FOCUSABLE_ELEMENTS)?.focus()}function hi(){if(!ce)return;bn&&(document.removeEventListener("click",bn,!0),bn=null),Zn&&(document.removeEventListener("keydown",Zn,!0),Zn=null),ce.style.display="none";let e=ce.id===Oe.CONFIRM_MODAL;ce=null;let t=document.querySelector('.modal[style*="display: block"]');t||(document.body.classList.remove(M.MODAL_OPEN_BODY),Jn(!0),md(),document.body.style.removeProperty("pointer-events")),!e&&qn?(qn.focus(),qn=null):t||(qn?.focus(),qn=null)}function FE(e){if(!e)return"";let t=new Date(e);if(isNaN(t.getTime()))return"";let n=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0");return`${n}:${r}`}function cd(e){let t=e.services&&e.services.length>0?e.services[0].serviceNumber:"?????????",{ddmmaa:n,franjaText:r}=is(e.date,e.dietType),o=FE(e.timeStampDiet),i=document.createElement("div");i.className=M.DIET_ITEM;let l=document.createElement("div");l.className="diet-item-content";let s=document.createElement("span");s.className=M.DIET_DATE;let a=n;o&&(a+=` [${o}]`),a+=` - ${Bc(r)}`,s.textContent=a;let u=document.createElement("div");u.className=M.DIET_ICONS;let p=document.createElement("div");p.className="delete-reveal",p.innerHTML='<img src="assets/icons/delete.svg" alt="Eliminar" class="icon">';let m=document.createElement("button");m.className=`${M.LIST_ITEM_BTN} ${M.LIST_ITEM_BTN_LOAD} ${M.DIET_LOAD_BTN}`,m.setAttribute("aria-label",`Editar dieta ${n}`),m.innerHTML='<img src="assets/icons/ic_edit.svg" alt="" class="icon"><span class="btn-text visually-hidden">Editar</span>',m.setAttribute(Ut.DIET_ID,t),m.setAttribute(Ut.DIET_DATE,e.date),m.setAttribute(Ut.DIET_TYPE,e.dietType);let h=document.createElement("button");return h.className=`${M.LIST_ITEM_BTN} diet-download`,h.setAttribute("aria-label",`Descarregar PDF de la dieta ${n}`),h.innerHTML='<img src="assets/icons/download_blue.svg" alt="" class="icon"><span class="btn-text visually-hidden">PDF</span>',h.setAttribute(Ut.DIET_ID,t),u.appendChild(m),u.appendChild(h),l.appendChild(s),l.appendChild(u),i.appendChild(l),i.appendChild(p),i}async function zE(e){let t=e.target,n=t.closest(`.${M.DIET_LOAD_BTN}`),r=t.closest(".diet-download");if(n){e.stopPropagation();let o=n.getAttribute(Ut.DIET_ID),i=n.getAttribute(Ut.DIET_DATE),l=n.getAttribute(Ut.DIET_TYPE);if(!o||!i||!l)return;let{ddmmaa:s,franjaText:a}=is(i,l);try{await Gc(o)}catch(u){console.error("Error en carregar la dieta:",u)}}else if(r){e.stopPropagation();let o=r.getAttribute(Ut.DIET_ID);o&&id(o)}}function jc(e){if(!H)return;let t=H.querySelector(`[data-diet-id="${e}"]`)?.closest(".diet-item");if(!t)return;let n=H.scrollHeight+"px";H.style.height=n,t.remove(),requestAnimationFrame(()=>{H.style.height=H.scrollHeight+"px"}),Ei()}function dd(){ys=document.getElementById(Oe.CONFIRM_MODAL),ys&&(kE=document.getElementById(Oe.CONFIRM_MESSAGE),ME=ys.querySelector(Oe.CONFIRM_TITLE),BE=document.getElementById(Oe.CONFIRM_YES_BTN),UE=document.getElementById(Oe.CONFIRM_NO_BTN)),document.querySelectorAll(mi.MODAL_TRIGGER).forEach(t=>{let n=t.getAttribute("href")?.substring(1);if(!n)return;let r=document.getElementById(n);r&&r.matches(mi.MODAL)&&(t.addEventListener("click",i=>{i.preventDefault(),ud(r)}),r.querySelectorAll(mi.MODAL_CLOSE_BTN).forEach(i=>{i.addEventListener("click",()=>hi())}))})}function Ss(){if(!Qn){Qn=document.getElementById(Oe.DIET_MODAL),H=document.getElementById(Oe.DIET_OPTIONS_LIST),Fe=document.getElementById(Oe.NO_DIETS_TEXT);let e=document.getElementById("close-diet-modal");e&&e.addEventListener("click",cs),H&&H.addEventListener("click",zE)}Qn&&(ud(Qn),si())}function cs(){ce&&ce.id===Oe.DIET_MODAL&&hi()}async function si(){if(!(!H||!Fe)){H.innerHTML="";try{let e=await ri();e.length===0?(H.classList.add(M.HIDDEN),Fe.classList.remove(M.HIDDEN),Fe.textContent="No hay dietas guardadas."):(H.classList.remove(M.HIDDEN),Fe.classList.add(M.HIDDEN),e.sort((t,n)=>new Date(n.timeStampDiet)-new Date(t.timeStampDiet)),e.forEach((t,n)=>{let r=cd(t);r.setAttribute("data-index",n),H.appendChild(r),fd(r,t.id,t.date,t.dietType)}))}catch{H.classList.add(M.HIDDEN),Fe.classList.remove(M.HIDDEN),Fe.textContent="Error al cargar las dietas."}}}function Ei(){console.log("Actualitzant visibilitat: children.length =",H.children.length),H.children.length===0?(H.classList.add(M.HIDDEN),Fe.classList.remove(M.HIDDEN),Fe.textContent="No hay dietas guardadas."):(H.classList.remove(M.HIDDEN),Fe.classList.add(M.HIDDEN))}function VE(e,t,n,r){let o=0,i=0,l=!1;e.addEventListener("mousedown",s=>{s.target.closest("button")||s.target.closest(".diet-icons")||(o=s.clientX,i=o,l=!1)}),document.addEventListener("mousemove",s=>{i=s.clientX;let a=o-i;a>10&&!l&&(l=!0,e.classList.add(M.DIET_ITEM_SWIPING)),l&&a>10&&(e.style.transform=`translateX(-${Math.min(a,80)}px)`,s.preventDefault())}),document.addEventListener("mouseup",async s=>{if(!l)return;l=!1;let a=o-i;e.classList.remove(M.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",a>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),Ei(),await as(t,n,r)},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function fd(e,t,n,r){let o=0,i=0,l=!1;e.addEventListener("touchstart",s=>{s.target.closest("button")||s.target.closest(".diet-icons")||(o=s.touches[0].clientX,i=o,l=!1,s.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",s=>{i=s.touches[0].clientX;let a=o-i;a>10&&!l&&(l=!0,e.classList.add(M.DIET_ITEM_SWIPING),Qn.style.overflow="hidden"),l&&a>10&&(e.style.transform=`translateX(-${Math.min(a,80)}px)`,s.preventDefault(),s.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async s=>{if(!l)return;l=!1;let a=o-i;e.classList.remove(M.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",a>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),Ei(),await as(t,n,r)},300)):(e.style.transform="translateX(0)",e.style.opacity="1",Qn.style.overflow=""),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),s.stopPropagation()}),VE(e,t,n,r)}function gs(e,t){let n=0,r=0,o=!1;e.addEventListener("mousedown",i=>{i.target.closest("button")||i.target.closest(".button-container")||(n=i.clientX,r=n,o=!1)}),document.addEventListener("mousemove",i=>{r=i.clientX;let l=n-r;l>10&&!o&&(o=!0,e.classList.add("swiping")),o&&l>10&&(e.style.transform=`translateX(-${Math.min(l,80)}px)`,i.preventDefault())}),document.addEventListener("mouseup",async i=>{if(!o)return;o=!1;let l=n-r;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",l>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await Kn.handleDeleteById(t),e.remove(),Qr()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function vs(e,t){let n=0,r=0,o=!1;e.addEventListener("touchstart",i=>{i.target.closest("button")||(n=i.touches[0].clientX,r=n,o=!1,i.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",i=>{r=i.touches[0].clientX;let l=n-r;l>10&&!o&&(o=!0,e.classList.add("swiping")),o&&l>10&&(e.style.transform=`translateX(-${Math.min(l,80)}px)`,i.preventDefault(),i.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async i=>{if(!o)return;o=!1;let l=n-r;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",l>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await Kn.handleDeleteById(t),e.remove(),Qr()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),i.stopPropagation()})}function $c(e){if(!H||!Fe){si();return}let t=e.index||0,n=cd(e);n.style.opacity="0",n.style.transform="translateX(-100%)";let r=H.children[t];r?H.insertBefore(n,r):H.appendChild(n),requestAnimationFrame(()=>{n.style.transition="opacity 0.5s ease, transform 0.5s ease",n.style.opacity="1",n.style.transform="translateX(0)",fd(n,e.id,e.date,e.dietType)}),Ei(),H.classList.remove(M.HIDDEN),Fe.classList.add(M.HIDDEN)}function Qr(){let e=document.getElementById("dotacio-options"),t=document.getElementById("no-dotacio-text");e.children.length===0?(e.classList.add("hidden"),t.classList.remove("hidden"),t.innerHTML='No hay dotaciones, guarde antes: <img src="assets/icons/save_green.svg" alt="Guardar" class="save-icon" />'):(e.classList.remove("hidden"),t.classList.add("hidden"))}function HE(e,t){let n=document.getElementById("dotacio-template");if(!n)return null;let r=n.content.cloneNode(!0),o=r.firstElementChild,i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");o.setAttribute("data-dotacio-id",i);let l=r.querySelector(".dotacio-info"),s=r.querySelector(".dotacio-load");if(l){let a=[e.conductor,e.ajudant].filter(Boolean).join(" / ");l.textContent=a?`${e.numero} - ${a}`:e.numero}return s&&s.setAttribute("data-index",String(t)),o}function ad(e){let t=document.getElementById("dotacio-options");if(!t){Kn.displayDotacioOptions();return}let n=e.originalIndex,r=HE(e,n);if(!r)return;r.style.opacity="0",r.style.transform="translateX(-100%)";let o=t.children[n];o?t.insertBefore(r,o):t.appendChild(r),requestAnimationFrame(()=>{r.style.transition="opacity 0.5s ease, transform 0.5s ease",r.style.opacity="1",r.style.transform="translateX(0)";let i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");vs(r,i),gs(r,i)}),Qr()}var ve={DADES:"dades",SERVEIS:"serveis"},yt={TAB_DADES:`tab-${ve.DADES}`,TAB_SERVEIS:`tab-${ve.SERVEIS}`,CONTENT_DADES:`${ve.DADES}-tab-content`,CONTENT_SERVEIS:`${ve.SERVEIS}-tab-content`,MAIN_CONTENT_AREA:"main-content"},er={ACTIVE_TAB:"active",ERROR_TAB:"error-tab"},hd={MIN_DISTANCE:60,MAX_VERTICAL_RATIO:.5},tr=ve.DADES,gi=0,Ts=0,_s=!0,Ft=null,yn=null;function Ed(){let e=document.getElementById(yt.TAB_DADES),t=document.getElementById(yt.TAB_SERVEIS);!e||!t||(e.addEventListener("click",()=>br(ve.DADES)),t.addEventListener("click",()=>br(ve.SERVEIS)),GE(),br(tr))}function Jn(e){_s=!!e}function br(e){if(tr===e&&document.scrollingElement.scrollTop!==0){window.scrollTo({top:0,behavior:"smooth"});return}if(tr===e||e!==ve.DADES&&e!==ve.SERVEIS)return;window.scrollTo({top:0,behavior:"auto"}),tr=e;let t=document.getElementById(yt.TAB_DADES),n=document.getElementById(yt.TAB_SERVEIS),r=document.getElementById(yt.CONTENT_DADES),o=document.getElementById(yt.CONTENT_SERVEIS);if(!t||!n||!r||!o)return;t.classList.remove(er.ERROR_TAB),n.classList.remove(er.ERROR_TAB);let i=e===ve.DADES;t.classList.toggle(er.ACTIVE_TAB,i),n.classList.toggle(er.ACTIVE_TAB,!i),r.classList.toggle(er.ACTIVE_TAB,i),o.classList.toggle(er.ACTIVE_TAB,!i),t.setAttribute("aria-selected",i?"true":"false"),n.setAttribute("aria-selected",i?"false":"true"),e===ve.SERVEIS&&typeof Ql=="function"&&Ql()}function GE(){let e=document.getElementById(yt.MAIN_CONTENT_AREA);e&&(Ft=gd,yn=vd,e.addEventListener("touchstart",Ft,{passive:!0}),e.addEventListener("touchend",yn,{passive:!0}))}function pd(){let e=document.getElementById(yt.MAIN_CONTENT_AREA);!e||!Ft||!yn||(e.removeEventListener("touchstart",Ft,{passive:!0}),e.removeEventListener("touchend",yn,{passive:!0}),Ft=null,yn=null)}function md(){let e=document.getElementById(yt.MAIN_CONTENT_AREA);e&&(Ft||(Ft=gd,yn=vd,e.addEventListener("touchstart",Ft,{passive:!0}),e.addEventListener("touchend",yn,{passive:!0})))}function gd(e){if(!_s||ce)return;let t=e.touches[0];gi=t.clientX,Ts=t.clientY}function vd(e){if(!_s||gi===0||!e.changedTouches||e.changedTouches.length===0)return;let t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY,r=t-gi,o=n-Ts;gi=0,Ts=0,!(Math.abs(o)>Math.abs(r)*hd.MAX_VERTICAL_RATIO)&&Math.abs(r)>hd.MIN_DISTANCE&&(r>0?tr===ve.SERVEIS&&br(ve.DADES):tr===ve.DADES&&br(ve.SERVEIS))}var zt={MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title"},Is={MODAL_OPEN:"modal-open",SIGNED:"signed"},Vt={LINE_WIDTH:2,LINE_CAP:"round",STROKE_STYLE:"#000000",IMAGE_FORMAT:"image/png",DOUBLE_CLICK_TIMEOUT:300,DOUBLE_TAP_TIMEOUT:300,DOUBLE_TAP_MAX_DIST:20},yd={SIGNATURE_PENDING:"assets/icons/signature.svg",SIGNATURE_OK:"assets/icons/signature_ok.svg"},Sd={PERSON1:"Firma del conductor",PERSON2:"Firma del ayudante"},Ns=class{constructor(){this.signatureConductor="",this.signatureAjudant="",this.currentSignatureTarget=null,this.isDrawing=!1,this.canvasContext=null,this.signatureCanvasElement=null,this.signatureModalElement=null,this.signPerson1Button=null,this.signPerson2Button=null,this.hasUserDrawn=!1,this.lastTouchTime=0,this.lastTouchX=0,this.lastTouchY=0,this.clickCount=0,this.clickTimer=null}init(){this.signatureModalElement=document.getElementById(zt.MODAL),this.signatureCanvasElement=document.getElementById(zt.CANVAS);let t=document.getElementById(zt.CANCEL_BTN),n=document.getElementById(zt.ACCEPT_BTN);this.signPerson1Button=document.getElementById(zt.SIGN_PERSON1_BTN),this.signPerson2Button=document.getElementById(zt.SIGN_PERSON2_BTN),!(!this.signatureModalElement||!this.signatureCanvasElement||!t||!n||!this.signPerson1Button||!this.signPerson2Button)&&(this.resizeCanvas(),this.initCanvasEvents(),t.addEventListener("click",this.closeSignatureModal.bind(this)),n.addEventListener("click",this.acceptSignature.bind(this)),this.signPerson1Button.addEventListener("click",()=>this.openSignatureModal("person1")),this.signPerson2Button.addEventListener("click",()=>this.openSignatureModal("person2")),this.signatureModalElement.addEventListener("click",r=>{r.target===this.signatureModalElement&&this.closeSignatureModal()}),window.addEventListener("resize",this.debounce(this.resizeCanvas.bind(this),150)),document.addEventListener("keydown",r=>{r.key==="Escape"&&this.signatureModalElement.style.display==="block"&&this.closeSignatureModal()}),this.updateSignatureIcons())}debounce(t,n){let r;return(...o)=>{clearTimeout(r),r=setTimeout(()=>t.apply(this,o),n)}}resizeCanvas(){if(!this.signatureCanvasElement||!this.signatureCanvasElement.parentElement)return;let t=this.signatureCanvasElement.parentElement;this.canvasContext||(this.canvasContext=this.signatureCanvasElement.getContext("2d",{willReadFrequently:!0})),this.canvasContext&&(this.signatureCanvasElement.width=t.offsetWidth,this.signatureCanvasElement.height=t.offsetHeight,this.canvasContext.lineWidth=Vt.LINE_WIDTH,this.canvasContext.lineCap=Vt.LINE_CAP,this.canvasContext.strokeStyle=Vt.STROKE_STYLE)}clearCanvas(){!this.canvasContext||!this.signatureCanvasElement||(this.canvasContext.clearRect(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),this.hasUserDrawn=!1)}getEventCoordinates(t){if(!this.signatureCanvasElement)return{x:0,y:0};let n=this.signatureCanvasElement.getBoundingClientRect(),r,o;return t.touches&&t.touches.length>0?(r=t.touches[0].clientX,o=t.touches[0].clientY):(r=t.clientX,o=t.clientY),{x:r-n.left,y:o-n.top}}startDrawing(t){if(!this.canvasContext)return;this.isDrawing=!0,this.hasUserDrawn=!0,this.canvasContext.beginPath();let{x:n,y:r}=this.getEventCoordinates(t);this.canvasContext.moveTo(n,r)}draw(t){if(!this.isDrawing||!this.canvasContext)return;t.preventDefault();let{x:n,y:r}=this.getEventCoordinates(t);this.canvasContext.lineTo(n,r),this.canvasContext.stroke()}stopDrawing(){!this.isDrawing||!this.canvasContext||(this.isDrawing=!1)}handleCanvasClick(t){this.clickCount++,this.clickCount===1?this.clickTimer=setTimeout(()=>this.clickCount=0,Vt.DOUBLE_CLICK_TIMEOUT):this.clickCount===2&&(clearTimeout(this.clickTimer),this.clickCount=0,t.preventDefault(),this.clearCanvas())}handleCanvasTouchEnd(t){if(t.touches.length>0)return;let n=Date.now(),r=t.changedTouches[0];if(!r)return;let{x:o,y:i}=this.getEventCoordinates({clientX:r.clientX,clientY:r.clientY}),l=n-this.lastTouchTime,s=Math.abs(o-this.lastTouchX),a=Math.abs(i-this.lastTouchY);l<Vt.DOUBLE_TAP_TIMEOUT&&s<Vt.DOUBLE_TAP_MAX_DIST&&a<Vt.DOUBLE_TAP_MAX_DIST?(t.preventDefault(),this.clearCanvas(),this.lastTouchTime=0):(this.lastTouchTime=n,this.lastTouchX=o,this.lastTouchY=i)}initCanvasEvents(){this.signatureCanvasElement&&(this.signatureCanvasElement.addEventListener("mousedown",this.startDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mousemove",this.draw.bind(this)),this.signatureCanvasElement.addEventListener("mouseup",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mouseout",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("click",this.handleCanvasClick.bind(this)),this.signatureCanvasElement.addEventListener("touchstart",this.startDrawing.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchmove",this.draw.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchend",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchcancel",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchend",this.handleCanvasTouchEnd.bind(this),{passive:!1}))}openSignatureModal(t){if(!this.signatureModalElement||!this.canvasContext)return;Jn(!1),this.currentSignatureTarget=t;let n=document.getElementById(zt.TITLE);n&&(n.textContent=t==="person1"?Sd.PERSON1:Sd.PERSON2),this.signatureModalElement.style.display="block",document.body.classList.add(Is.MODAL_OPEN),this.resizeCanvas(),this.clearCanvas();let r=t==="person1"?this.signatureConductor:this.signatureAjudant;r&&this.drawSignatureFromDataUrl(r),document.getElementById(zt.ACCEPT_BTN)?.focus()}closeSignatureModal(){this.signatureModalElement&&(Jn(!0),this.signatureModalElement.style.display="none",document.body.classList.remove(Is.MODAL_OPEN),this.currentSignatureTarget=null,(this.currentSignatureTarget==="person1"?this.signPerson1Button:this.signPerson2Button)?.focus())}isCanvasEmpty(){if(!this.canvasContext||!this.signatureCanvasElement)return!0;try{return!new Uint32Array(this.canvasContext.getImageData(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height).data.buffer).some(n=>n!==0)}catch{return!1}}acceptSignature(){if(!this.canvasContext||!this.signatureCanvasElement||!this.currentSignatureTarget)return;let t=this.isCanvasEmpty(),n=t?"":this.signatureCanvasElement.toDataURL(Vt.IMAGE_FORMAT),r=null;this.currentSignatureTarget==="person1"?(this.signatureConductor=n,r=this.signPerson1Button):this.currentSignatureTarget==="person2"&&(this.signatureAjudant=n,r=this.signPerson2Button),this.updateSignatureUI(r,!t),this.closeSignatureModal(),ht()}drawSignatureFromDataUrl(t){if(!this.canvasContext||!t)return;let n=new Image;n.onload=()=>this.canvasContext.drawImage(n,0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),n.onerror=()=>{},n.src=t}updateSignatureUI(t,n){if(!t)return;let r=t.querySelector(".icon");r&&(t.classList.toggle(Is.SIGNED,n),r.src=n?yd.SIGNATURE_OK:yd.SIGNATURE_PENDING)}updateSignatureIcons(){this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor),this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}getSignatureConductor(){return this.signatureConductor}getSignatureAjudant(){return this.signatureAjudant}setSignatureConductor(t){this.signatureConductor=t||"",this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor)}setSignatureAjudant(t){this.signatureAjudant=t||"",this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}},Zr=new Ns,Td=()=>Zr.init(),fi=()=>Zr.getSignatureConductor(),pi=()=>Zr.getSignatureAjudant(),ai=e=>Zr.setSignatureConductor(e),ui=e=>Zr.setSignatureAjudant(e);var jE=".service",_d="main-content",qe={DATE:"date",DIET_TYPE:"diet-type",VEHICLE:"vehicle-number",P1:"person1",P2:"person2",SERVICE_TYPE:"service-type",SAVE_BTN:"save-diet"},$E="userSelectedServiceType",WE={serviceNumber:".service-number",origin:".origin",originTime:".origin-time",destination:".destination",destinationTime:".destination-time",endTime:".end-time"},XE="chip-active",YE=800,KE=1e3,qE=300,Cs=class{constructor(){this.initialFormDataStr="",this.saveStart=0,this.debouncedAutoSave=Kr(this.triggerAutoSave.bind(this),KE),this.debouncedHandler=Kr(this.handleInputChange.bind(this),YE)}isFormReadyForSave(){try{let t=!!document.getElementById(qe.DATE)?.value.trim(),n=!!document.getElementById(qe.DIET_TYPE)?.value.trim(),r=document.getElementById("service-number-1")?.value.trim(),o=/^\d{9}$/.test(r);return t&&n&&o}catch(t){return console.warn("[FormService] Error validant formulari:",t),!1}}hasPendingChanges(){return JSON.stringify(this.getFormDataObject()||{})!==this.initialFormDataStr}getFormDataObject(){try{let t={date:b(document.getElementById(qe.DATE)?.value),dietType:b(document.getElementById(qe.DIET_TYPE)?.value||os()),vehicleNumber:b(document.getElementById(qe.VEHICLE)?.value),person1:b(document.getElementById(qe.P1)?.value),person2:b(document.getElementById(qe.P2)?.value),serviceType:b(document.getElementById(qe.SERVICE_TYPE)?.value||"TSU"),signatureConductor:fi(),signatureAjudant:pi()},n=Array.from(document.querySelectorAll(jE)).map((r,o)=>{let i={};for(let[s,a]of Object.entries(WE))i[s]=b(r.querySelector(a)?.value);let l=r.querySelector(`.chip.${XE}`);return i.mode=l?.dataset.mode||"3.6",i.notes=mt[o]||"",i});return{generalData:t,servicesData:n}}catch(t){return console.error("[FormService] Error recollint dades:",t),null}}async triggerAutoSave(){if(!(!this.isFormReadyForSave()||!this.hasPendingChanges()))try{this.saveStart=Date.now(),oi(),await li();let t=Date.now()-this.saveStart;setTimeout(ii,Math.max(0,qE-t)),this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{})}catch(t){console.warn("[Autosave skipped]",t?.message||"Error desconegut"),Yr("Revisa dades de Serveis")}}captureInitialFormState(){this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{}),this.handleFormChange()}setSaveButtonState(t){let n=document.getElementById(qe.SAVE_BTN);n&&(n.disabled=!t,n.setAttribute("aria-disabled",t?"false":"true"),n.classList.toggle("is-disabled",!t))}handleFormChange(){if(this.debouncedAutoSave.cancel(),!this.hasPendingChanges()){this.setSaveButtonState(!1),Gn();return}this.isFormReadyForSave()?(this.setSaveButtonState(!0),this.debouncedAutoSave()):(this.setSaveButtonState(!1),Gn())}handleInputChange(){this.handleFormChange()}addInputListeners(){let t=document.getElementById(_d);if(!t)return;t.addEventListener("input",this.debouncedHandler),t.addEventListener("change",this.debouncedHandler),t.addEventListener("blur",r=>{r.target.matches("input, select, textarea")&&(this.handleFormChange(),this.isFormReadyForSave()&&this.hasPendingChanges()&&(this.debouncedAutoSave.cancel(),this.triggerAutoSave()))},!0);let n=document.getElementById(qe.DATE);n?.addEventListener("change",()=>{n.blur(),this.debouncedHandler()}),window.addEventListener("beforeunload",()=>{this.debouncedAutoSave.cancel(),this.isFormReadyForSave()&&li()})}addServiceTypeListener(){let t=document.getElementById(qe.SERVICE_TYPE);t&&t.addEventListener("change",n=>{let r=n.target.value.trim();Vn(r);try{localStorage.setItem($E,r)}catch(o){console.error("No s\u2019ha pogut desar tipus servei",o)}})}cancelPendingAutoSave(){this.debouncedAutoSave.cancel()}addDoneBehavior(){document.getElementById(_d)?.addEventListener("keydown",n=>{n.key==="Enter"&&n.target.matches('input[enterkeyhint="done"]')&&(n.preventDefault(),n.target.blur())})}gatherAllData(){return this.getFormDataObject()}getInitialFormDataStr(){return this.initialFormDataStr}},Ht=new Cs,hn=()=>Ht.captureInitialFormState(),ss=e=>Ht.setSaveButtonState(e),ht=()=>Ht.handleFormChange(),Id=()=>Ht.addInputListeners(),Nd=()=>Ht.addServiceTypeListener(),Wc=()=>Ht.cancelPendingAutoSave(),Cd=()=>Ht.addDoneBehavior(),ci=()=>Ht.gatherAllData();var Dd="onboardingCompleted";function Ld(){let e=document.getElementById("onboarding-container");if(!e)return;if(!JSON.parse(localStorage.getItem(Dd)||"false"))e.classList.remove("hidden");else return;window.addEventListener("load",()=>{e.classList.add("onboarding-loaded")});let n=document.querySelectorAll(".onboarding-slide"),r=document.querySelectorAll(".nav-dot"),o=document.getElementById("onboarding-finish-btn"),i=document.getElementById("onboarding-skip-btn"),l=0;function s(m){n.forEach((h,v)=>{h.classList.toggle("active",v===m)}),r.forEach((h,v)=>{h.classList.toggle("active",v===m)})}function a(){l<n.length-1&&(l++,s(l),navigator.vibrate&&navigator.vibrate(10))}function u(){e.classList.add("hidden"),localStorage.setItem(Dd,JSON.stringify(!0)),navigator.vibrate&&navigator.vibrate([50,50,50])}e.addEventListener("click",m=>{m.target.closest("button, a, .nav-dot")||a()});let p=0;e.addEventListener("touchstart",m=>{p=m.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",m=>{m.changedTouches[0].screenX<p-50&&a()}),o.addEventListener("click",u),i.addEventListener("click",u)}var Ds={TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text"},wd={DARK_THEME:"theme-dark"},Ls="themePreference",ze={LIGHT:"light",DARK:"dark"},Ad={LIGHT:"assets/icons/moon.svg",DARK:"assets/icons/sun.svg"},Od={LIGHT:"#004aad",DARK:"#343a40"},ws=class{constructor(){this.themeToggleButton=null,this.themeIconElement=null,this.themeTextElement=null,this.bodyElement=null,this.systemDarkMatcher=null}init(){if(this.themeToggleButton=document.getElementById(Ds.TOGGLE_BTN),this.themeIconElement=document.getElementById(Ds.THEME_ICON),this.themeTextElement=document.getElementById(Ds.THEME_TEXT),this.bodyElement=document.body,!this.themeToggleButton||!this.themeIconElement||!this.themeTextElement||!this.bodyElement){console.warn("Faltan elementos del DOM para el gestor de temas.");return}let t,n=localStorage.getItem(Ls);n&&(n===ze.LIGHT||n===ze.DARK)?t=n:(this.systemDarkMatcher=window.matchMedia("(prefers-color-scheme: dark)"),t=this.systemDarkMatcher.matches?ze.DARK:ze.LIGHT,this.systemDarkMatcher.addEventListener("change",this._handleSystemThemeChange.bind(this))),this._applyTheme(t,!1),this.themeToggleButton.addEventListener("click",this._handleThemeToggle.bind(this))}_updateThemeColorMeta(t){let n=document.querySelector('meta[name="theme-color"]');n&&(n.content=t)}_applyTheme(t,n=!1){let r=t===ze.DARK;this.bodyElement.classList.toggle(wd.DARK_THEME,r),this.themeIconElement.src=r?Ad.DARK:Ad.LIGHT,this.themeTextElement.textContent=r?"Claro":"Oscuro",this.themeIconElement.alt=r?"Cambiar a tema claro":"Cambiar a tema oscuro",this._updateThemeColorMeta(r?Od.DARK:Od.LIGHT),n&&localStorage.setItem(Ls,t)}_handleThemeToggle(){let n=(this.bodyElement.classList.contains(wd.DARK_THEME)?ze.DARK:ze.LIGHT)===ze.DARK?ze.LIGHT:ze.DARK;this._applyTheme(n,!0)}_handleSystemThemeChange(t){if(!localStorage.getItem(Ls)){let n=t.matches?ze.DARK:ze.LIGHT;this._applyTheme(n,!1)}}},bE=new ws,Rd=()=>bE.init();var As={GENERATE_PDF:".generate-pdf",SAVE_DIET:"#save-diet",MANAGE_DIETS:"#manage-diets"};function xd(){let e=document.querySelector(As.GENERATE_PDF);e&&e.addEventListener("click",od);let t=document.getElementById(As.SAVE_DIET.substring(1));t&&t.addEventListener("click",Hc);let n=document.getElementById(As.MANAGE_DIETS.substring(1));n&&typeof Ss=="function"&&n.addEventListener("click",Ss)}var Pd="clear-selected-service",ZE=".service";function kd(){let e=document.getElementById(Pd);if(!e){console.warn(`Clear Service: Bot\xF3 amb ID '${Pd}' no trobat.`);return}e.addEventListener("click",()=>{let t=fn(),n=document.querySelectorAll(ZE);if(t>=0&&t<n.length){let r=n[t],o=r.querySelectorAll('input:not([type="button"]):not([type="submit"]), select, textarea');o.forEach(i=>{i.value!==""&&i.classList.add("field-clearing")}),setTimeout(()=>{Nc(r),jr(r),ht(),o.forEach(i=>{i.classList.remove("field-clearing")}),console.log(`Servei ${t+1} netejat amb efecte visual.`)},600)}else console.warn(`Clear Service: \xCDndex de servei inv\xE0lid (${t}) o element no trobat.`)}),console.log("Funcionalitat 'Netejar Servei Seleccionat' configurada.")}function Md(){document.querySelectorAll('input[type="date"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}function Bd(){document.querySelectorAll('input[type="time"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}var Ud=Kr(w,dc.DEBOUNCE_TOAST);function JE(e){return/^\d*$/.test(e)}function Fd(){let e=document.querySelectorAll(Bn.SERVICE_NUMBER_INPUT);if(!e.length){console.warn("Restrictions: No se han encontrado inputs '.service-number'.");return}e.forEach(t=>{t.dataset.restrictionsSetup!=="true"&&(t.dataset.restrictionsSetup="true",t.addEventListener("keypress",n=>{n.key==="Enter"||n.key==="Tab"||n.ctrlKey||n.metaKey||n.altKey||n.key.length>1||/\d/.test(n.key)||(n.preventDefault(),Ud(Xl.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}),t.addEventListener("paste",n=>{try{let r=(n.clipboardData||window.clipboardData)?.getData("text")||"";JE(r)||(n.preventDefault(),Ud(Xl.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}catch(r){console.error("Error procesando 'paste':",r),n.preventDefault()}}))})}var zd={SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel"},nr={PANEL_VISIBLE:"visible",BUTTON_OPEN:"open"},St=null,Tt=null,Vd=!1;function eg(e){e.stopPropagation();let t=Tt.classList.toggle(nr.PANEL_VISIBLE);St.classList.toggle(nr.BUTTON_OPEN,t),St.setAttribute("aria-expanded",t),t&&Tt.querySelector("button")?.focus()}function tg(e){Tt.classList.contains(nr.PANEL_VISIBLE)&&!Tt.contains(e.target)&&!St.contains(e.target)&&Os()}function ng(e){e.key==="Escape"&&Tt.classList.contains(nr.PANEL_VISIBLE)&&(Os(),St.focus())}function Os(){Tt.classList.remove(nr.PANEL_VISIBLE),St.classList.remove(nr.BUTTON_OPEN),St.setAttribute("aria-expanded","false")}function Hd(){Vd||(St=document.getElementById(zd.SETTINGS_BTN),Tt=document.getElementById(zd.SETTINGS_PANEL),!(!St||!Tt)&&(St.addEventListener("click",eg),document.addEventListener("click",tg),document.addEventListener("keydown",ng),Tt.querySelectorAll("button").forEach(e=>{e.addEventListener("click",Os)}),Vd=!0))}var rg={SERVICE_BUTTONS:".service-button:not(.active-square)",OPTIONS_BTN:"#options-toggle",TABS:".tab:not(.active)"},og="disabled-control";function Rs(e=!0){document.querySelectorAll(Object.values(rg).join(", ")).forEach(n=>{n&&(n.classList.toggle(og,e),n.setAttribute("aria-disabled",e?"true":"false"),n.disabled=e)})}var ig="spa",lg=1,sg="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ:/-\xC0\xC9\xCD\xD3\xDA\xC8\xD2\xC0\xDC\xCF\xC7\xD1",xs=1500,Yd=.95,Kd="image/png",Gd=10,ag=300,ug=1e3;var cg={tessedit_char_whitelist:sg,tessedit_pageseg_mode:6,load_system_dawg:!1,load_freq_dawg:!1},_t={CAMERA_BTN:"camera-in-dropdown",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline"},Qe={VISIBLE:"visible",HIDDEN:"hidden",SERVICE_COLORS:["service-1","service-2","service-3","service-4"]},dg={ORIGIN_TIME:{id:"originTime",label:"Hora movilizaci\xF3n",fieldIdSuffix:"origin-time",lineKeywordRegex:/movilizaci|ltat|desplaza/i},DESTINATION_TIME:{id:"destinationTime",label:"Hora de llegada hospital",fieldIdSuffix:"destination-time",lineKeywordRegex:/arribada|hospital|aaah/i},END_TIME:{id:"endTime",label:"Hora Final",fieldIdSuffix:"end-time",valueRegex:/\d{2}\s*\/?\s*\d{2}\s*\/?\s*\d{2}\s+(\d{1,2}:\d{2}(?::\d{2})?)/i}},be=null,Jr=null,vi=null,Ps=null,ye=null,ks=!1,jd=!1,$d=!1,Wd=0;function fg(e){if(!e)return"";let t=e.replace(/[^\d:\-]/g,"");t=t.replace(/-/g,":");let n=t.match(/^(\d{1,2}):(\d{2})(?::\d{2})?$/);if(n){let r=parseInt(n[1],10),o=parseInt(n[2],10);if(r>=0&&r<=23&&o>=0&&o<=59)return`${String(r).padStart(2,"0")}:${String(o).padStart(2,"0")}`}return""}function pg(){if(Date.now()-Wd<500||(Wd=Date.now(),!be||!Jr))return;document.body.classList.add("modal-open");let e=fn(),t=Qe.SERVICE_COLORS[e]||"";Jr.classList.remove(...Qe.SERVICE_COLORS),t&&Jr.classList.add(t),be.classList.remove(Qe.HIDDEN),requestAnimationFrame(()=>be.classList.add(Qe.VISIBLE)),vi?.focus()}function yi(){be&&(document.body.classList.remove("modal-open"),be.classList.remove(Qe.VISIBLE),setTimeout(()=>be.classList.add(Qe.HIDDEN),ag))}function mg(e){be?.classList.contains(Qe.VISIBLE)&&!Jr?.contains(e.target)&&yi()}function hg(){ye&&(ye.setAttribute("capture","environment"),ye.click(),yi())}function Eg(){ye&&(ye.removeAttribute("capture"),ye.click(),yi())}function qd(){return document.querySelector(".service:not(.hidden)")}function Ve(e,t){let r=qd()?.querySelector(_t.OCR_PROGRESS_CONTAINER);if(!r)return;r.classList.contains(Qe.HIDDEN)&&r.classList.remove(Qe.HIDDEN);let o=r.querySelector(_t.OCR_PROGRESS_TEXT);o&&(o.textContent=t)}function gg(){let t=qd()?.querySelector(_t.OCR_PROGRESS_CONTAINER);t&&setTimeout(()=>t.classList.add(Qe.HIDDEN),ug)}async function vg(e){try{let t=await createImageBitmap(e),{width:n,height:r}=t;if(Math.max(n,r)<=xs)return t.close(),e;let o=Math.min(xs/n,xs/r),i=Math.round(n*o),l=Math.round(r*o),s=document.createElement("canvas");s.width=i,s.height=l;let a=s.getContext("2d");if(!a)throw new Error("No contexto 2D.");return a.drawImage(t,0,0,i,l),t.close(),new Promise(u=>s.toBlob(u,Kd,Yd))}catch(t){throw w("Error al procesar la imagen.","error"),t}}async function yg(e){try{let t=await createImageBitmap(e),n=document.createElement("canvas");n.width=t.width,n.height=t.height;let r=n.getContext("2d");if(!r)throw new Error("No contexto 2D.");try{r.drawImage(t,0,0,t.width,t.height)}catch(o){throw o.message&&o.message.includes("detached")?new Error("Error al procesar la imagen. Int\xE9ntalo de nuevo."):o}t.close(),r.filter="grayscale(100%) contrast(180%) brightness(110%)";try{r.drawImage(n,0,0)}catch(o){console.warn("OCR: Fallback sense filtres:",o)}return new Promise(o=>n.toBlob(o,Kd,Yd))}catch(t){throw t.message.includes("procesar la imagen")?w(t.message,"error"):t.message.includes("detached")?w("La imagen no se puede procesar. Int\xE9ntalo con otra foto.","error"):w("Error al procesar la imagen. Int\xE9ntalo de nuevo.","error"),t}}function Xd(e,t,n){let r=document.getElementById(e);if(r){r.value=t;let o=new Event("input",{bubbles:!0,cancelable:!0});r.dispatchEvent(o)}}function Sg(e){if(!e||!e.trim()){w("No se reconoci\xF3 texto.","warning");return}let t=fn(),n=Ic(t)||"3.6",r=`-${t+1}`,o={},i=e.split(`
`),l=e.toLowerCase().replace(/ +/g," ");if(Object.values(dg).forEach(a=>{if((n==="3.11"||n==="3.22")&&a.id==="destinationTime")return;let u=null;if(a.lineKeywordRegex){for(let p of i)if(a.lineKeywordRegex.test(p.toLowerCase())){let m=p.replace(/\D/g,"");if(m.length>=6){let h=m.slice(-6);u=[null,`${h.slice(0,2)}:${h.slice(2,4)}:${h.slice(4,6)}`];break}}}else a.valueRegex&&(u=l.match(a.valueRegex));if(u&&u[1]){let p=fg(u[1].trim());if(p&&!o[a.id]){let m=`${a.fieldIdSuffix}${r}`;Xd(m,p,a.label),o[a.id]=a}}}),!o.endTime&&(o.originTime||o.destinationTime)){let a=new Date,u=String(a.getHours()).padStart(2,"0"),p=String(a.getMinutes()).padStart(2,"0"),m=`${u}:${p}`,h=`end-time${r}`;Xd(h,m,"Hora Final (Actual)");let v=document.getElementById(h);v&&(v.classList.add("input-warning"),v.addEventListener("focus",()=>v.classList.remove("input-warning"),{once:!0}))}if(Object.keys(o).length>0){let a=Object.values(o).map(u=>u.label);w(`Campos actualizados: ${a.join(", ")}.`,"success")}else w("No se encontraron horas relevantes.","info")}function Qd(){if(jd||(be=document.getElementById(_t.CAMERA_MODAL),Jr=be?.querySelector(_t.MODAL_CONTENT),vi=document.getElementById(_t.OPTION_CAMERA),Ps=document.getElementById(_t.OPTION_GALLERY),ye=document.getElementById(_t.CAMERA_INPUT),!be||!vi||!Ps||!ye))return;document.querySelectorAll(_t.OCR_SCAN_BTN).forEach(t=>t.addEventListener("click",pg)),vi.addEventListener("click",hg),Ps.addEventListener("click",Eg),ye.addEventListener("change",_g),document.addEventListener("click",mg),document.addEventListener("keydown",t=>{t.key==="Escape"&&be?.classList.contains(Qe.VISIBLE)&&yi()}),jd=!0}function Tg(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}async function _g(e){if(ks){w("Proceso OCR ya en marcha.","warning");return}let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/")){w("Selecciona una imagen.","error"),ye&&(ye.value="");return}let n=Gd*1024*1024;if(t.size>n){w(`La imagen es demasiado grande (m\xE1x. ${Gd} MB).`,"error"),ye&&(ye.value="");return}ks=!0,Rs(!0),Ve(0,"Preparando imagen..."),Tg();let r=null;try{Ve(2,"Analizando imagen...");let o=await vg(t);Ve(15,"Eliminando metadades..."),o=await yg(o),Ve(30,"Mejorando la imagen..."),await new Promise(l=>setTimeout(l,100)),Ve(40,"Cargando motor OCR..."),$d||await new Promise((l,s)=>{let a=document.createElement("script");$n(a),a.src="https://cdn.jsdelivr.net/npm/tesseract.js@6/dist/tesseract.min.js",a.onload=()=>{$d=!0,l()},a.onerror=s,document.head.appendChild(a)}),Ve(60,"Cargando modelo de idioma..."),r=await Tesseract.createWorker(ig,lg,{logger:l=>{if(l.status==="recognizing text"){let s=Math.max(70,Math.floor(l.progress*100*.3+70));Ve(s,`Reconociendo texto ${Math.floor(l.progress*100)}%...`)}else l.status==="loading language model"&&Ve(70,"Cargando modelo de idioma...")}}),Ve(80,"Configurando OCR..."),await r.setParameters(cg),Ve(85,"Iniciando reconocimiento...");let{data:{text:i}}=await r.recognize(o);Ve(100,"An\xE1lisis completado."),Sg(i)}catch(o){let i="Error al escanear. Int\xE9ntalo de nuevo.";o.message&&o.message.includes("detached")?i="Error al procesar la imagen. Int\xE9ntalo con otra foto.":o.message&&o.message.includes("recognition")&&(i="No se pudo leer el texto. Aseg\xFArate de que la imagen sea clara."),w(i,"error"),Ve(0,"Error en el escaneo.")}finally{r&&await r.terminate(),ye&&(ye.value=""),gg(),Rs(!1),ks=!1}}var bd="anonymousUserId";function Zd(){try{let e=localStorage.getItem(bd);return e||(e=`user-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,localStorage.setItem(bd,e)),e}catch{return`temp-user-${Date.now()}`}}var Jd=document.getElementById("save-pill"),or=document.querySelector(".tab-content-container"),rr=0,ef=!1,Ig=10,Ng=150,Cg=or&&parseInt(window.getComputedStyle(or).paddingBottom,10)||60;function Ms(e=rr){ef=e>Ng,ef?(Jd.style.bottom=`calc(${e}px + ${Ig}px + env(safe-area-inset-bottom, 0px))`,or&&(or.style.paddingBottom=`${e+50}px`)):(Jd.style.bottom="calc(20px + env(safe-area-inset-bottom, 0px))",or&&(or.style.paddingBottom=`${Cg}px`))}if("virtualKeyboard"in navigator)navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",e=>{rr=e.target.boundingRect.height,Ms(rr)});else{let e=window.innerHeight;window.addEventListener("resize",()=>{window.innerHeight<e?(rr=e-window.innerHeight,Ms(rr)):(rr=0,Ms(0))})}var Dg=document.querySelectorAll('input:not([type="checkbox"]), select, textarea');function Lg(e){let t=e.target;t.closest(".modal")||setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"center"})},250)}Dg.forEach(e=>{e.addEventListener("focus",Lg)});var tf="notes-selected-service",wg="notes-modal",Ag="notes-title",Og="notes-textarea",Rg="notes-save",xg="notes-cancel",Pg="notes-char-counter",ir,Us,K,Si,Bs,Sn,eo=null,to=null,no=null;function nf(){let e=document.getElementById(tf);if(!e){console.warn(`Notes Service: Bot\xF3 amb ID '${tf}' no trobat.`);return}if(ir=document.getElementById(wg),Us=document.getElementById(Ag),K=document.getElementById(Og),Si=document.getElementById(Rg),Bs=document.getElementById(xg),Sn=document.getElementById(Pg),!ir||!Us||!K||!Si||!Bs||!Sn){console.error("Notes Service: Un o m\xE9s elements del modal de notes no s'han trobat.");return}e.addEventListener("click",()=>{let t=fn();kg(t)}),Bs.addEventListener("click",Fs),console.log("Funcionalitat 'Afegir Notes' configurada.")}function kg(e){if(!ir)return;Us.textContent=`S${e+1}: Observaciones`,K.value=mt[e]||"";let t=K.maxLength,n=()=>{let r=K.value.length;Sn.textContent=`${r} / ${t}`,Sn.classList.remove("warning","limit"),K.classList.remove("input-warning","input-error"),r>=t?(Sn.classList.add("limit"),K.classList.add("input-error")):r>t*.8&&(Sn.classList.add("warning"),K.classList.add("input-warning"))};n(),to=()=>{K.value.length>t&&(K.value=K.value.slice(0,t)),n()},K.addEventListener("input",to),no=r=>{r.key==="Enter"&&!r.shiftKey&&(r.preventDefault(),K.blur())},K.addEventListener("keydown",no),eo=()=>{let r=K.value.trim(),o=mt[e]||"";if(r===o){Fs();return}mt[e]=r,r?w("Observaci\xF3n guardada.","success"):w("Observaci\xF3n eliminada.","info"),Fs(),ht()},Si.addEventListener("click",eo),ir.style.display="block",document.body.classList.add("modal-open"),setTimeout(()=>{K.focus({preventScroll:!0}),K.setSelectionRange(K.value.length,K.value.length)},0)}function Fs(){ir&&(eo&&(Si.removeEventListener("click",eo),eo=null),to&&(K.removeEventListener("input",to),to=null),no&&(K.removeEventListener("keydown",no),no=null),Sn.classList.remove("warning","limit"),K.classList.remove("input-warning","input-error"),ir.style.display="none",document.body.classList.remove("modal-open"))}var Mg=e=>{let n=`; ${document.cookie}`.split(`; ${e}=`);if(n.length===2)return n.pop()?.split(";").shift()},rf=(e,t,n)=>{let r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);let o=`expires=${r.toUTCString()}`;document.cookie=`${e}=${t};${o};path=/;SameSite=Lax;Secure`},lr,zs,Vs;function Bg(){let e=document.createElement("script");$n(e),e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-23SXKMLR75",document.head.appendChild(e),e.onload=()=>{window.gtag("js",new Date),window.gtag("config","G-23SXKMLR75")}}function Ug(){Bg(),rf("cookie_consent","granted",365),of()}function Fg(){typeof window.gtag=="function"&&window.gtag("consent","update",{analytics_storage:"denied"}),rf("cookie_consent","denied",365),of()}function zg(){lr&&lr.classList.remove("hidden")}function of(){lr&&lr.classList.add("hidden")}function lf(){if(lr=document.getElementById("cookie-consent-banner"),zs=document.getElementById("accept-cookies"),Vs=document.getElementById("decline-cookies"),!lr||!zs||!Vs){console.warn("Elements del b\xE0ner de cookies no trobats.");return}Mg("cookie_consent")||(zg(),zs.addEventListener("click",Ug),Vs.addEventListener("click",Fg))}function Vg(){let e=document.getElementById(x.DONATION_LINK_ID);if(!e)return console.warn("No s'ha trobat l'enlla\xE7 de donaci\xF3.");let t=Zd();try{let n=new URL(e.href);n.searchParams.set("custom",t),e.href=n.toString(),console.log("Enlla\xE7 de donaci\xF3 actualitzat amb ID an\xF2nim.")}catch(n){console.error("Error modificant l'URL de donaci\xF3:",n)}}function Hg(){let e=document.getElementById("offline-indicator");if(!e)return;let t=()=>{e.hidden=!navigator.onLine};t(),window.addEventListener("online",t),window.addEventListener("offline",t)}async function sf(){try{console.log("initializeApp() iniciant..."),Mc(),Uc(),await Rc(),_c(),Td(),Kn.init(),Qd(),Ld(),Ed(),xd(),kd(),nf(),dd(),Md(),Bd(),Hd(),Rd(),Vg(),Fd(),yc(),Id(),Nd(),Cd();let e=document.getElementById("service-type");if(e){let t=localStorage.getItem(pc.USER_SELECTED_SERVICE_TYPE);(t==="TSU"||t==="TSNU")&&(e.value=t,console.log(`[LocalStorage] Carregat tipus de servei: ${t}`)),Vn(e.value)}hn(),Fc(),lf(),Hg(),console.log("initializeApp() completada.")}catch(e){console.error("Error en la inicialitzaci\xF3 de l'app:",e)}}var k=cc(Xs()),Qo=cc(Hh());function iS(){let[e,t]=(0,k.useState)(0),[n,r]=(0,k.useState)(0);return(0,k.useEffect)(()=>{let o=()=>{try{let l=window.currentActiveService||0,s=document.querySelectorAll(".service:not(.hidden)").length||0;t(l),r(s)}catch(l){console.log("React component sync skipped:",l.message)}};o();let i=setInterval(o,1e3);return()=>clearInterval(i)},[]),n===0?null:k.default.createElement("div",{className:"react-service-summary",style:{position:"fixed",bottom:"100px",right:"20px",background:"rgba(0, 74, 173, 0.95)",color:"white",padding:"8px 12px",borderRadius:"8px",fontSize:"12px",zIndex:1e3,backdropFilter:"blur(10px)",boxShadow:"0 2px 10px rgba(0,0,0,0.2)",display:"flex",alignItems:"center",gap:"8px"}},k.default.createElement("span",{style:{fontSize:"16px"}},"\u{1F4CA}"),k.default.createElement("span",null,"Servei actiu: S",e+1," / Total: ",n),k.default.createElement("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#4CAF50",animation:"pulse 2s infinite"}}),k.default.createElement("style",null,`
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.5; }
        }
      `))}function lS(){let[e,t]=k.default.useState(0);return k.default.useEffect(()=>{let n=()=>{try{let o=0,i=0;["date","diet-type","service-type"].forEach(p=>{let m=document.getElementById(p);m&&(o++,m.value&&i++)}),["vehicle-number","person1","person2"].forEach(p=>{let m=document.getElementById(p);m&&(o++,m.value&&m.value.trim()&&i++)}),document.querySelectorAll(".service:not(.hidden)").forEach(p=>{p.querySelectorAll('input:not([type="button"]):not([type="time"]), select, textarea').forEach(h=>{h.disabled||(o++,h.value&&h.value.trim()&&i++)})});let u=o>0?i/o*100:0;t(u)}catch(o){console.log("Progress calculation skipped:",o.message),t(0)}};n();let r=setInterval(n,2e3);return()=>clearInterval(r)},[]),e===0?null:k.default.createElement("div",{style:{position:"fixed",top:"125px",left:"50%",transform:"translateX(-50%)",width:"min(90vw, 400px)",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",borderRadius:"8px",padding:"12px 16px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",border:"1px solid rgba(0,74,173,0.2)",zIndex:1e3,fontSize:"12px",fontFamily:"Roboto Serif, serif",color:"#333"}},k.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},k.default.createElement("span",null,"\u{1F4C8}"),k.default.createElement("span",{style:{flex:1}},"Progr\xE9s del formulari"),k.default.createElement("span",{style:{fontWeight:"bold",color:"#004aad"}},Math.round(e),"%")),k.default.createElement("div",{style:{width:"100%",height:"4px",background:"rgba(0,74,173,0.1)",borderRadius:"2px",margin:"8px 0",overflow:"hidden"}},k.default.createElement("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #004aad, #0a96e7)",borderRadius:"2px",transition:"width 0.5s ease-out"}})))}function sS(){let[e,t]=k.default.useState(navigator.onLine),[n,r]=k.default.useState(!0);if(k.default.useEffect(()=>{let i=()=>{let l=navigator.onLine;t(l),l?setTimeout(()=>r(!1),3e3):r(!0)};return window.addEventListener("online",i),window.addEventListener("offline",i),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",i)}},[]),!n)return null;let o={position:"fixed",top:"50px",right:"20px",padding:e?"4px 8px":"8px 12px",borderRadius:"20px",fontSize:e?"10px":"12px",fontWeight:"bold",backdropFilter:"blur(10px)",boxShadow:"0 2px 10px rgba(0,0,0,0.15)",zIndex:1e3,transition:"all 0.3s ease",cursor:e?"none":"pointer"};return e?k.default.createElement("div",{style:{...o,background:"rgba(76,175,80,0.95)",color:"white"}},"\u{1F7E2} Online"):k.default.createElement("div",{style:{...o,background:"rgba(255,87,34,0.95)",color:"white"},onClick:()=>{confirm("En modo offline algunas funciones pueden estar limitadas. \xBFQuieres recargar la app?")&&window.location.reload()},title:"Haz clic para recargar (algunas funciones requieren conexi\xF3n)"},"\u26A0\uFE0F Offline - Funciones limitadas")}function Gh(){try{if(typeof k.default>"u"||typeof Qo.default>"u"){console.log("React no disponible - components skip");return}let e=document.getElementById("react-summary-container");e&&!e.hasChildNodes()&&Qo.default.createRoot(e).render(k.default.createElement(iS,null));let t=document.getElementById("react-progress-container");t&&!t.hasChildNodes()&&Qo.default.createRoot(t).render(k.default.createElement(lS,null));let n=document.getElementById("react-connection-container");n&&!n.hasChildNodes()&&Qo.default.createRoot(n).render(k.default.createElement(sS,null)),console.log("\u2705 React components inicialitzats (incremental - reversible)")}catch(e){console.log("\u26A0\uFE0F React component skip:",e.message)}}async function jh(){try{document.body.classList.add("app-ready"),document.body.classList.remove("no-js"),await sf(),bc(),Gh()}catch(e){console.error("Critical error during app startup:",e)}}function aS(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",jh,{once:!0}):jh()}aS();})();
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
