(()=>{var sh=Object.create;var Ic=Object.defineProperty;var ah=Object.getOwnPropertyDescriptor;var uh=Object.getOwnPropertyNames;var ch=Object.getPrototypeOf,dh=Object.prototype.hasOwnProperty;var dn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var fh=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of uh(t))!dh.call(e,o)&&o!==n&&Ic(e,o,{get:()=>t[o],enumerable:!(r=ah(t,o))||r.enumerable});return e};var Hr=(e,t,n)=>(n=e!=null?sh(ch(e)):{},fh(t||!e||!e.__esModule?Ic(n,"default",{value:e,enumerable:!0}):n,e));var pf=dn(A=>{"use strict";var oo=Symbol.for("react.element"),yE=Symbol.for("react.portal"),SE=Symbol.for("react.fragment"),TE=Symbol.for("react.strict_mode"),_E=Symbol.for("react.profiler"),IE=Symbol.for("react.provider"),NE=Symbol.for("react.context"),CE=Symbol.for("react.forward_ref"),LE=Symbol.for("react.suspense"),DE=Symbol.for("react.memo"),wE=Symbol.for("react.lazy"),tf=Symbol.iterator;function AE(e){return e===null||typeof e!="object"?null:(e=tf&&e[tf]||e["@@iterator"],typeof e=="function"?e:null)}var of={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lf=Object.assign,sf={};function or(e,t,n){this.props=e,this.context=t,this.refs=sf,this.updater=n||of}or.prototype.isReactComponent={};or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function af(){}af.prototype=or.prototype;function Gs(e,t,n){this.props=e,this.context=t,this.refs=sf,this.updater=n||of}var js=Gs.prototype=new af;js.constructor=Gs;lf(js,or.prototype);js.isPureReactComponent=!0;var nf=Array.isArray,uf=Object.prototype.hasOwnProperty,$s={current:null},cf={key:!0,ref:!0,__self:!0,__source:!0};function df(e,t,n){var r,o={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)uf.call(t,r)&&!cf.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:oo,type:e,key:i,ref:l,props:o,_owner:$s.current}}function OE(e,t){return{$$typeof:oo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ws(e){return typeof e=="object"&&e!==null&&e.$$typeof===oo}function RE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rf=/\/+/g;function Hs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RE(""+e.key):t.toString(36)}function wi(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case oo:case yE:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+Hs(l,0):r,nf(o)?(n="",e!=null&&(n=e.replace(rf,"$&/")+"/"),wi(o,t,n,"",function(u){return u})):o!=null&&(Ws(o)&&(o=OE(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(rf,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",nf(e))for(var s=0;s<e.length;s++){i=e[s];var a=r+Hs(i,s);l+=wi(i,t,n,a,o)}else if(a=AE(e),typeof a=="function")for(e=a.call(e),s=0;!(i=e.next()).done;)i=i.value,a=r+Hs(i,s++),l+=wi(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Di(e,t,n){if(e==null)return e;var r=[],o=0;return wi(e,r,"","",function(i){return t.call(n,i,o++)}),r}function PE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ye={current:null},Ai={transition:null},xE={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:Ai,ReactCurrentOwner:$s};function ff(){throw Error("act(...) is not supported in production builds of React.")}A.Children={map:Di,forEach:function(e,t,n){Di(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Di(e,function(){t++}),t},toArray:function(e){return Di(e,function(t){return t})||[]},only:function(e){if(!Ws(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};A.Component=or;A.Fragment=SE;A.Profiler=_E;A.PureComponent=Gs;A.StrictMode=TE;A.Suspense=LE;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xE;A.act=ff;A.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lf({},e.props),o=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=$s.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)uf.call(t,a)&&!cf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:oo,type:e.type,key:o,ref:i,props:r,_owner:l}};A.createContext=function(e){return e={$$typeof:NE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:IE,_context:e},e.Consumer=e};A.createElement=df;A.createFactory=function(e){var t=df.bind(null,e);return t.type=e,t};A.createRef=function(){return{current:null}};A.forwardRef=function(e){return{$$typeof:CE,render:e}};A.isValidElement=Ws;A.lazy=function(e){return{$$typeof:wE,_payload:{_status:-1,_result:e},_init:PE}};A.memo=function(e,t){return{$$typeof:DE,type:e,compare:t===void 0?null:t}};A.startTransition=function(e){var t=Ai.transition;Ai.transition={};try{e()}finally{Ai.transition=t}};A.unstable_act=ff;A.useCallback=function(e,t){return ye.current.useCallback(e,t)};A.useContext=function(e){return ye.current.useContext(e)};A.useDebugValue=function(){};A.useDeferredValue=function(e){return ye.current.useDeferredValue(e)};A.useEffect=function(e,t){return ye.current.useEffect(e,t)};A.useId=function(){return ye.current.useId()};A.useImperativeHandle=function(e,t,n){return ye.current.useImperativeHandle(e,t,n)};A.useInsertionEffect=function(e,t){return ye.current.useInsertionEffect(e,t)};A.useLayoutEffect=function(e,t){return ye.current.useLayoutEffect(e,t)};A.useMemo=function(e,t){return ye.current.useMemo(e,t)};A.useReducer=function(e,t,n){return ye.current.useReducer(e,t,n)};A.useRef=function(e){return ye.current.useRef(e)};A.useState=function(e){return ye.current.useState(e)};A.useSyncExternalStore=function(e,t,n){return ye.current.useSyncExternalStore(e,t,n)};A.useTransition=function(){return ye.current.useTransition()};A.version="18.3.1"});var io=dn((Y0,mf)=>{"use strict";mf.exports=pf()});var Nf=dn(M=>{"use strict";function qs(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(0<Oi(o,t))e[r]=t,e[n]=o,n=r;else break e}}function qe(e){return e.length===0?null:e[0]}function Pi(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var l=2*(r+1)-1,s=e[l],a=l+1,u=e[a];if(0>Oi(s,n))a<o&&0>Oi(u,s)?(e[r]=u,e[a]=n,r=a):(e[r]=s,e[l]=n,r=l);else if(a<o&&0>Oi(u,n))e[r]=u,e[a]=n,r=a;else break e}}return t}function Oi(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(gf=performance,M.unstable_now=function(){return gf.now()}):(Xs=Date,hf=Xs.now(),M.unstable_now=function(){return Xs.now()-hf});var gf,Xs,hf,it=[],Gt=[],kE=1,Ve=null,de=3,xi=!1,Tn=!1,so=!1,yf=typeof setTimeout=="function"?setTimeout:null,Sf=typeof clearTimeout=="function"?clearTimeout:null,Ef=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Qs(e){for(var t=qe(Gt);t!==null;){if(t.callback===null)Pi(Gt);else if(t.startTime<=e)Pi(Gt),t.sortIndex=t.expirationTime,qs(it,t);else break;t=qe(Gt)}}function bs(e){if(so=!1,Qs(e),!Tn)if(qe(it)!==null)Tn=!0,Js(Zs);else{var t=qe(Gt);t!==null&&ea(bs,t.startTime-e)}}function Zs(e,t){Tn=!1,so&&(so=!1,Sf(ao),ao=-1),xi=!0;var n=de;try{for(Qs(t),Ve=qe(it);Ve!==null&&(!(Ve.expirationTime>t)||e&&!If());){var r=Ve.callback;if(typeof r=="function"){Ve.callback=null,de=Ve.priorityLevel;var o=r(Ve.expirationTime<=t);t=M.unstable_now(),typeof o=="function"?Ve.callback=o:Ve===qe(it)&&Pi(it),Qs(t)}else Pi(it);Ve=qe(it)}if(Ve!==null)var i=!0;else{var l=qe(Gt);l!==null&&ea(bs,l.startTime-t),i=!1}return i}finally{Ve=null,de=n,xi=!1}}var ki=!1,Ri=null,ao=-1,Tf=5,_f=-1;function If(){return!(M.unstable_now()-_f<Tf)}function Ys(){if(Ri!==null){var e=M.unstable_now();_f=e;var t=!0;try{t=Ri(!0,e)}finally{t?lo():(ki=!1,Ri=null)}}else ki=!1}var lo;typeof Ef=="function"?lo=function(){Ef(Ys)}:typeof MessageChannel<"u"?(Ks=new MessageChannel,vf=Ks.port2,Ks.port1.onmessage=Ys,lo=function(){vf.postMessage(null)}):lo=function(){yf(Ys,0)};var Ks,vf;function Js(e){Ri=e,ki||(ki=!0,lo())}function ea(e,t){ao=yf(function(){e(M.unstable_now())},t)}M.unstable_IdlePriority=5;M.unstable_ImmediatePriority=1;M.unstable_LowPriority=4;M.unstable_NormalPriority=3;M.unstable_Profiling=null;M.unstable_UserBlockingPriority=2;M.unstable_cancelCallback=function(e){e.callback=null};M.unstable_continueExecution=function(){Tn||xi||(Tn=!0,Js(Zs))};M.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Tf=0<e?Math.floor(1e3/e):5};M.unstable_getCurrentPriorityLevel=function(){return de};M.unstable_getFirstCallbackNode=function(){return qe(it)};M.unstable_next=function(e){switch(de){case 1:case 2:case 3:var t=3;break;default:t=de}var n=de;de=t;try{return e()}finally{de=n}};M.unstable_pauseExecution=function(){};M.unstable_requestPaint=function(){};M.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=de;de=e;try{return t()}finally{de=n}};M.unstable_scheduleCallback=function(e,t,n){var r=M.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,e={id:kE++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},n>r?(e.sortIndex=n,qs(Gt,e),qe(it)===null&&e===qe(Gt)&&(so?(Sf(ao),ao=-1):so=!0,ea(bs,n-r))):(e.sortIndex=o,qs(it,e),Tn||xi||(Tn=!0,Js(Zs))),e};M.unstable_shouldYield=If;M.unstable_wrapCallback=function(e){var t=de;return function(){var n=de;de=t;try{return e.apply(this,arguments)}finally{de=n}}}});var Lf=dn((q0,Cf)=>{"use strict";Cf.exports=Nf()});var Og=dn(Be=>{"use strict";var ME=io(),ke=Lf();function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xp=new Set,Ro={};function kn(e,t){Cr(e,t),Cr(e+"Capture",t)}function Cr(e,t){for(Ro[e]=t,e=0;e<t.length;e++)xp.add(t[e])}var Dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=Object.prototype.hasOwnProperty,BE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Df={},wf={};function UE(e){return Ia.call(wf,e)?!0:Ia.call(Df,e)?!1:BE.test(e)?wf[e]=!0:(Df[e]=!0,!1)}function FE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zE(e,t,n,r){if(t===null||typeof t>"u"||FE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _e(e,t,n,r,o,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ae[e]=new _e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ae[t]=new _e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ae[e]=new _e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ae[e]=new _e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ae[e]=new _e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ae[e]=new _e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ae[e]=new _e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ae[e]=new _e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ae[e]=new _e(e,5,!1,e.toLowerCase(),null,!1,!1)});var gu=/[\-:]([a-z])/g;function hu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gu,hu);ae[t]=new _e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gu,hu);ae[t]=new _e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gu,hu);ae[t]=new _e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ae[e]=new _e(e,1,!1,e.toLowerCase(),null,!1,!1)});ae.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ae[e]=new _e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Eu(e,t,n,r){var o=ae.hasOwnProperty(t)?ae[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zE(t,n,o,r)&&(n=null),r||o===null?UE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rt=ME.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mi=Symbol.for("react.element"),sr=Symbol.for("react.portal"),ar=Symbol.for("react.fragment"),vu=Symbol.for("react.strict_mode"),Na=Symbol.for("react.profiler"),kp=Symbol.for("react.provider"),Mp=Symbol.for("react.context"),yu=Symbol.for("react.forward_ref"),Ca=Symbol.for("react.suspense"),La=Symbol.for("react.suspense_list"),Su=Symbol.for("react.memo"),$t=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var Bp=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Af=Symbol.iterator;function uo(e){return e===null||typeof e!="object"?null:(e=Af&&e[Af]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,ta;function vo(e){if(ta===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ta=t&&t[1]||""}return`
`+ta+e}var na=!1;function ra(e,t){if(!e||na)return"";na=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),l=o.length-1,s=i.length-1;1<=l&&0<=s&&o[l]!==i[s];)s--;for(;1<=l&&0<=s;l--,s--)if(o[l]!==i[s]){if(l!==1||s!==1)do if(l--,s--,0>s||o[l]!==i[s]){var a=`
`+o[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=s);break}}}finally{na=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vo(e):""}function VE(e){switch(e.tag){case 5:return vo(e.type);case 16:return vo("Lazy");case 13:return vo("Suspense");case 19:return vo("SuspenseList");case 0:case 2:case 15:return e=ra(e.type,!1),e;case 11:return e=ra(e.type.render,!1),e;case 1:return e=ra(e.type,!0),e;default:return""}}function Da(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ar:return"Fragment";case sr:return"Portal";case Na:return"Profiler";case vu:return"StrictMode";case Ca:return"Suspense";case La:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mp:return(e.displayName||"Context")+".Consumer";case kp:return(e._context.displayName||"Context")+".Provider";case yu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Su:return t=e.displayName||null,t!==null?t:Da(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return Da(e(t))}catch{}}return null}function HE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Da(t);case 8:return t===vu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function on(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Up(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GE(e){var t=Up(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bi(e){e._valueTracker||(e._valueTracker=GE(e))}function Fp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Up(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wa(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Of(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=on(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zp(e,t){t=t.checked,t!=null&&Eu(e,"checked",t,!1)}function Aa(e,t){zp(e,t);var n=on(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Oa(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oa(e,t.type,on(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Oa(e,t,n){(t!=="number"||cl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yo=Array.isArray;function yr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+on(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ra(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(h(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(h(92));if(yo(n)){if(1<n.length)throw Error(h(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:on(n)}}function Vp(e,t){var n=on(t.value),r=on(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ui,Gp=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ui=Ui||document.createElement("div"),Ui.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ui.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Po(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _o={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jE=["Webkit","ms","Moz","O"];Object.keys(_o).forEach(function(e){jE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_o[t]=_o[e]})});function jp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_o.hasOwnProperty(e)&&_o[e]?(""+t).trim():t+"px"}function $p(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=jp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var $E=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(e,t){if(t){if($E[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(h(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(h(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(h(61))}if(t.style!=null&&typeof t.style!="object")throw Error(h(62))}}function ka(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ma=null;function Tu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,Sr=null,Tr=null;function kf(e){if(e=Qo(e)){if(typeof Ba!="function")throw Error(h(280));var t=e.stateNode;t&&(t=Fl(t),Ba(e.stateNode,e.type,t))}}function Wp(e){Sr?Tr?Tr.push(e):Tr=[e]:Sr=e}function Xp(){if(Sr){var e=Sr,t=Tr;if(Tr=Sr=null,kf(e),t)for(e=0;e<t.length;e++)kf(t[e])}}function Yp(e,t){return e(t)}function Kp(){}var oa=!1;function qp(e,t,n){if(oa)return e(t,n);oa=!0;try{return Yp(e,t,n)}finally{oa=!1,(Sr!==null||Tr!==null)&&(Kp(),Xp())}}function xo(e,t){var n=e.stateNode;if(n===null)return null;var r=Fl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(h(231,t,typeof n));return n}var Ua=!1;if(Dt)try{ir={},Object.defineProperty(ir,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{Ua=!1}var ir;function WE(e,t,n,r,o,i,l,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Io=!1,dl=null,fl=!1,Fa=null,XE={onError:function(e){Io=!0,dl=e}};function YE(e,t,n,r,o,i,l,s,a){Io=!1,dl=null,WE.apply(XE,arguments)}function KE(e,t,n,r,o,i,l,s,a){if(YE.apply(this,arguments),Io){if(Io){var u=dl;Io=!1,dl=null}else throw Error(h(198));fl||(fl=!0,Fa=u)}}function Mn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mf(e){if(Mn(e)!==e)throw Error(h(188))}function qE(e){var t=e.alternate;if(!t){if(t=Mn(e),t===null)throw Error(h(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Mf(o),e;if(i===r)return Mf(o),t;i=i.sibling}throw Error(h(188))}if(n.return!==r.return)n=o,r=i;else{for(var l=!1,s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l)throw Error(h(189))}}if(n.alternate!==r)throw Error(h(190))}if(n.tag!==3)throw Error(h(188));return n.stateNode.current===n?e:t}function bp(e){return e=qE(e),e!==null?Zp(e):null}function Zp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zp(e);if(t!==null)return t;e=e.sibling}return null}var Jp=ke.unstable_scheduleCallback,Bf=ke.unstable_cancelCallback,QE=ke.unstable_shouldYield,bE=ke.unstable_requestPaint,q=ke.unstable_now,ZE=ke.unstable_getCurrentPriorityLevel,_u=ke.unstable_ImmediatePriority,em=ke.unstable_UserBlockingPriority,pl=ke.unstable_NormalPriority,JE=ke.unstable_LowPriority,tm=ke.unstable_IdlePriority,kl=null,ut=null;function ev(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(kl,e,void 0,(e.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:rv,tv=Math.log,nv=Math.LN2;function rv(e){return e>>>=0,e===0?32:31-(tv(e)/nv|0)|0}var Fi=64,zi=4194304;function So(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ml(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var s=l&~o;s!==0?r=So(s):(i&=l,i!==0&&(r=So(i)))}else l=n&~o,l!==0?r=So(l):i!==0&&(r=So(i));if(r===0)return 0;if(t!==0&&t!==r&&(t&o)===0&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-et(t),o=1<<n,r|=e[n],t&=~o;return r}function ov(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-et(i),s=1<<l,a=o[l];a===-1?((s&n)===0||(s&r)!==0)&&(o[l]=ov(s,t)):a<=t&&(e.expiredLanes|=s),i&=~s}}function za(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nm(){var e=Fi;return Fi<<=1,(Fi&4194240)===0&&(Fi=64),e}function ia(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ko(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-et(t),e[t]=n}function lv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-et(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Iu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-et(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var x=0;function rm(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var om,Nu,im,lm,sm,Va=!1,Vi=[],Qt=null,bt=null,Zt=null,ko=new Map,Mo=new Map,Xt=[],sv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uf(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":ko.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(t.pointerId)}}function co(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Qo(t),t!==null&&Nu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function av(e,t,n,r,o){switch(t){case"focusin":return Qt=co(Qt,e,t,n,r,o),!0;case"dragenter":return bt=co(bt,e,t,n,r,o),!0;case"mouseover":return Zt=co(Zt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return ko.set(i,co(ko.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Mo.set(i,co(Mo.get(i)||null,e,t,n,r,o)),!0}return!1}function am(e){var t=Nn(e.target);if(t!==null){var n=Mn(t);if(n!==null){if(t=n.tag,t===13){if(t=Qp(n),t!==null){e.blockedOn=t,sm(e.priority,function(){im(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ha(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ma=r,n.target.dispatchEvent(r),Ma=null}else return t=Qo(n),t!==null&&Nu(t),e.blockedOn=n,!1;t.shift()}return!0}function Ff(e,t,n){el(e)&&n.delete(t)}function uv(){Va=!1,Qt!==null&&el(Qt)&&(Qt=null),bt!==null&&el(bt)&&(bt=null),Zt!==null&&el(Zt)&&(Zt=null),ko.forEach(Ff),Mo.forEach(Ff)}function fo(e,t){e.blockedOn===t&&(e.blockedOn=null,Va||(Va=!0,ke.unstable_scheduleCallback(ke.unstable_NormalPriority,uv)))}function Bo(e){function t(o){return fo(o,e)}if(0<Vi.length){fo(Vi[0],e);for(var n=1;n<Vi.length;n++){var r=Vi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qt!==null&&fo(Qt,e),bt!==null&&fo(bt,e),Zt!==null&&fo(Zt,e),ko.forEach(t),Mo.forEach(t),n=0;n<Xt.length;n++)r=Xt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)am(n),n.blockedOn===null&&Xt.shift()}var _r=Rt.ReactCurrentBatchConfig,gl=!0;function cv(e,t,n,r){var o=x,i=_r.transition;_r.transition=null;try{x=1,Cu(e,t,n,r)}finally{x=o,_r.transition=i}}function dv(e,t,n,r){var o=x,i=_r.transition;_r.transition=null;try{x=4,Cu(e,t,n,r)}finally{x=o,_r.transition=i}}function Cu(e,t,n,r){if(gl){var o=Ha(e,t,n,r);if(o===null)fa(e,t,r,hl,n),Uf(e,r);else if(av(o,e,t,n,r))r.stopPropagation();else if(Uf(e,r),t&4&&-1<sv.indexOf(e)){for(;o!==null;){var i=Qo(o);if(i!==null&&om(i),i=Ha(e,t,n,r),i===null&&fa(e,t,r,hl,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else fa(e,t,r,null,n)}}var hl=null;function Ha(e,t,n,r){if(hl=null,e=Tu(r),e=Nn(e),e!==null)if(t=Mn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hl=e,null}function um(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZE()){case _u:return 1;case em:return 4;case pl:case JE:return 16;case tm:return 536870912;default:return 16}default:return 16}}var Kt=null,Lu=null,tl=null;function cm(){if(tl)return tl;var e,t=Lu,n=t.length,r,o="value"in Kt?Kt.value:Kt.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[i-r];r++);return tl=o.slice(e,1<r?1-r:void 0)}function nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function zf(){return!1}function Me(e){function t(n,r,o,i,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hi:zf,this.isPropagationStopped=zf,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),t}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=Me(Pr),qo=$({},Pr,{view:0,detail:0}),fv=Me(qo),la,sa,po,Ml=$({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==po&&(po&&e.type==="mousemove"?(la=e.screenX-po.screenX,sa=e.screenY-po.screenY):sa=la=0,po=e),la)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Vf=Me(Ml),pv=$({},Ml,{dataTransfer:0}),mv=Me(pv),gv=$({},qo,{relatedTarget:0}),aa=Me(gv),hv=$({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ev=Me(hv),vv=$({},Pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yv=Me(vv),Sv=$({},Pr,{data:0}),Hf=Me(Sv),Tv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_v={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Iv[e])?!!t[e]:!1}function wu(){return Nv}var Cv=$({},qo,{key:function(e){if(e.key){var t=Tv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_v[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wu,charCode:function(e){return e.type==="keypress"?nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lv=Me(Cv),Dv=$({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=Me(Dv),wv=$({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wu}),Av=Me(wv),Ov=$({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rv=Me(Ov),Pv=$({},Ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xv=Me(Pv),kv=[9,13,27,32],Au=Dt&&"CompositionEvent"in window,No=null;Dt&&"documentMode"in document&&(No=document.documentMode);var Mv=Dt&&"TextEvent"in window&&!No,dm=Dt&&(!Au||No&&8<No&&11>=No),jf=" ",$f=!1;function fm(e,t){switch(e){case"keyup":return kv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ur=!1;function Bv(e,t){switch(e){case"compositionend":return pm(t);case"keypress":return t.which!==32?null:($f=!0,jf);case"textInput":return e=t.data,e===jf&&$f?null:e;default:return null}}function Uv(e,t){if(ur)return e==="compositionend"||!Au&&fm(e,t)?(e=cm(),tl=Lu=Kt=null,ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dm&&t.locale!=="ko"?null:t.data;default:return null}}var Fv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fv[e.type]:t==="textarea"}function mm(e,t,n,r){Wp(r),t=El(t,"onChange"),0<t.length&&(n=new Du("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Co=null,Uo=null;function zv(e){Cm(e,0)}function Bl(e){var t=fr(e);if(Fp(t))return e}function Vv(e,t){if(e==="change")return t}var gm=!1;Dt&&(Dt?(ji="oninput"in document,ji||(ua=document.createElement("div"),ua.setAttribute("oninput","return;"),ji=typeof ua.oninput=="function"),Gi=ji):Gi=!1,gm=Gi&&(!document.documentMode||9<document.documentMode));var Gi,ji,ua;function Xf(){Co&&(Co.detachEvent("onpropertychange",hm),Uo=Co=null)}function hm(e){if(e.propertyName==="value"&&Bl(Uo)){var t=[];mm(t,Uo,e,Tu(e)),qp(zv,t)}}function Hv(e,t,n){e==="focusin"?(Xf(),Co=t,Uo=n,Co.attachEvent("onpropertychange",hm)):e==="focusout"&&Xf()}function Gv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bl(Uo)}function jv(e,t){if(e==="click")return Bl(t)}function $v(e,t){if(e==="input"||e==="change")return Bl(t)}function Wv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:Wv;function Fo(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ia.call(t,o)||!nt(e[o],t[o]))return!1}return!0}function Yf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kf(e,t){var n=Yf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yf(n)}}function Em(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Em(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vm(){for(var e=window,t=cl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cl(e.document)}return t}function Ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xv(e){var t=vm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Em(n.ownerDocument.documentElement,n)){if(r!==null&&Ou(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Kf(n,i);var l=Kf(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yv=Dt&&"documentMode"in document&&11>=document.documentMode,cr=null,Ga=null,Lo=null,ja=!1;function qf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ja||cr==null||cr!==cl(r)||(r=cr,"selectionStart"in r&&Ou(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lo&&Fo(Lo,r)||(Lo=r,r=El(Ga,"onSelect"),0<r.length&&(t=new Du("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cr)))}function $i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionend:$i("Transition","TransitionEnd")},ca={},ym={};Dt&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function Ul(e){if(ca[e])return ca[e];if(!dr[e])return e;var t=dr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ym)return ca[e]=t[n];return e}var Sm=Ul("animationend"),Tm=Ul("animationiteration"),_m=Ul("animationstart"),Im=Ul("transitionend"),Nm=new Map,Qf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sn(e,t){Nm.set(e,t),kn(t,[e])}for(Wi=0;Wi<Qf.length;Wi++)Xi=Qf[Wi],bf=Xi.toLowerCase(),Zf=Xi[0].toUpperCase()+Xi.slice(1),sn(bf,"on"+Zf);var Xi,bf,Zf,Wi;sn(Sm,"onAnimationEnd");sn(Tm,"onAnimationIteration");sn(_m,"onAnimationStart");sn("dblclick","onDoubleClick");sn("focusin","onFocus");sn("focusout","onBlur");sn(Im,"onTransitionEnd");Cr("onMouseEnter",["mouseout","mouseover"]);Cr("onMouseLeave",["mouseout","mouseover"]);Cr("onPointerEnter",["pointerout","pointerover"]);Cr("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kv=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function Jf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,KE(r,t,void 0,e),e.currentTarget=null}function Cm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==i&&o.isPropagationStopped())break e;Jf(o,s,u),i=a}else for(l=0;l<r.length;l++){if(s=r[l],a=s.instance,u=s.currentTarget,s=s.listener,a!==i&&o.isPropagationStopped())break e;Jf(o,s,u),i=a}}}if(fl)throw e=Fa,fl=!1,Fa=null,e}function U(e,t){var n=t[Ka];n===void 0&&(n=t[Ka]=new Set);var r=e+"__bubble";n.has(r)||(Lm(t,e,2,!1),n.add(r))}function da(e,t,n){var r=0;t&&(r|=4),Lm(n,e,r,t)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function zo(e){if(!e[Yi]){e[Yi]=!0,xp.forEach(function(n){n!=="selectionchange"&&(Kv.has(n)||da(n,!1,e),da(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yi]||(t[Yi]=!0,da("selectionchange",!1,t))}}function Lm(e,t,n,r){switch(um(t)){case 1:var o=cv;break;case 4:o=dv;break;default:o=Cu}n=o.bind(null,t,n,e),o=void 0,!Ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function fa(e,t,n,r,o){var i=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;l=l.return}for(;s!==null;){if(l=Nn(s),l===null)return;if(a=l.tag,a===5||a===6){r=i=l;continue e}s=s.parentNode}}r=r.return}qp(function(){var u=i,f=Tu(n),m=[];e:{var g=Nm.get(e);if(g!==void 0){var v=Du,S=e;switch(e){case"keypress":if(nl(n)===0)break e;case"keydown":case"keyup":v=Lv;break;case"focusin":S="focus",v=aa;break;case"focusout":S="blur",v=aa;break;case"beforeblur":case"afterblur":v=aa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Av;break;case Sm:case Tm:case _m:v=Ev;break;case Im:v=Rv;break;case"scroll":v=fv;break;case"wheel":v=xv;break;case"copy":case"cut":case"paste":v=yv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Gf}var T=(t&4)!==0,z=!T&&e==="scroll",d=T?g!==null?g+"Capture":null:g;T=[];for(var c=u,p;c!==null;){p=c;var E=p.stateNode;if(p.tag===5&&E!==null&&(p=E,d!==null&&(E=xo(c,d),E!=null&&T.push(Vo(c,E,p)))),z)break;c=c.return}0<T.length&&(g=new v(g,S,null,n,f),m.push({event:g,listeners:T}))}}if((t&7)===0){e:{if(g=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",g&&n!==Ma&&(S=n.relatedTarget||n.fromElement)&&(Nn(S)||S[wt]))break e;if((v||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,v?(S=n.relatedTarget||n.toElement,v=u,S=S?Nn(S):null,S!==null&&(z=Mn(S),S!==z||S.tag!==5&&S.tag!==6)&&(S=null)):(v=null,S=u),v!==S)){if(T=Vf,E="onMouseLeave",d="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(T=Gf,E="onPointerLeave",d="onPointerEnter",c="pointer"),z=v==null?g:fr(v),p=S==null?g:fr(S),g=new T(E,c+"leave",v,n,f),g.target=z,g.relatedTarget=p,E=null,Nn(f)===u&&(T=new T(d,c+"enter",S,n,f),T.target=p,T.relatedTarget=z,E=T),z=E,v&&S)t:{for(T=v,d=S,c=0,p=T;p;p=lr(p))c++;for(p=0,E=d;E;E=lr(E))p++;for(;0<c-p;)T=lr(T),c--;for(;0<p-c;)d=lr(d),p--;for(;c--;){if(T===d||d!==null&&T===d.alternate)break t;T=lr(T),d=lr(d)}T=null}else T=null;v!==null&&ep(m,g,v,T,!1),S!==null&&z!==null&&ep(m,z,S,T,!0)}}e:{if(g=u?fr(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var I=Vv;else if(Wf(g))if(gm)I=$v;else{I=Gv;var C=Hv}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(I=jv);if(I&&(I=I(e,u))){mm(m,I,n,f);break e}C&&C(e,g,u),e==="focusout"&&(C=g._wrapperState)&&C.controlled&&g.type==="number"&&Oa(g,"number",g.value)}switch(C=u?fr(u):window,e){case"focusin":(Wf(C)||C.contentEditable==="true")&&(cr=C,Ga=u,Lo=null);break;case"focusout":Lo=Ga=cr=null;break;case"mousedown":ja=!0;break;case"contextmenu":case"mouseup":case"dragend":ja=!1,qf(m,n,f);break;case"selectionchange":if(Yv)break;case"keydown":case"keyup":qf(m,n,f)}var y;if(Au)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ur?fm(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(dm&&n.locale!=="ko"&&(ur||N!=="onCompositionStart"?N==="onCompositionEnd"&&ur&&(y=cm()):(Kt=f,Lu="value"in Kt?Kt.value:Kt.textContent,ur=!0)),C=El(u,N),0<C.length&&(N=new Hf(N,e,null,n,f),m.push({event:N,listeners:C}),y?N.data=y:(y=pm(n),y!==null&&(N.data=y)))),(y=Mv?Bv(e,n):Uv(e,n))&&(u=El(u,"onBeforeInput"),0<u.length&&(f=new Hf("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:u}),f.data=y))}Cm(m,t)})}function Vo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function El(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=xo(e,n),i!=null&&r.unshift(Vo(e,i,o)),i=xo(e,t),i!=null&&r.push(Vo(e,i,o))),e=e.return}return r}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ep(e,t,n,r,o){for(var i=t._reactName,l=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,o?(a=xo(n,i),a!=null&&l.unshift(Vo(n,a,s))):o||(a=xo(n,i),a!=null&&l.push(Vo(n,a,s)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var qv=/\r\n?/g,Qv=/\u0000|\uFFFD/g;function tp(e){return(typeof e=="string"?e:""+e).replace(qv,`
`).replace(Qv,"")}function Ki(e,t,n){if(t=tp(t),tp(e)!==t&&n)throw Error(h(425))}function vl(){}var $a=null,Wa=null;function Xa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ya=typeof setTimeout=="function"?setTimeout:void 0,bv=typeof clearTimeout=="function"?clearTimeout:void 0,np=typeof Promise=="function"?Promise:void 0,Zv=typeof queueMicrotask=="function"?queueMicrotask:typeof np<"u"?function(e){return np.resolve(null).then(e).catch(Jv)}:Ya;function Jv(e){setTimeout(function(){throw e})}function pa(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Bo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Bo(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xr=Math.random().toString(36).slice(2),at="__reactFiber$"+xr,Ho="__reactProps$"+xr,wt="__reactContainer$"+xr,Ka="__reactEvents$"+xr,ey="__reactListeners$"+xr,ty="__reactHandles$"+xr;function Nn(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wt]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rp(e);e!==null;){if(n=e[at])return n;e=rp(e)}return t}e=n,n=e.parentNode}return null}function Qo(e){return e=e[at]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(h(33))}function Fl(e){return e[Ho]||null}var qa=[],pr=-1;function an(e){return{current:e}}function F(e){0>pr||(e.current=qa[pr],qa[pr]=null,pr--)}function B(e,t){pr++,qa[pr]=e.current,e.current=t}var ln={},ge=an(ln),Le=an(!1),An=ln;function Lr(e,t){var n=e.type.contextTypes;if(!n)return ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function De(e){return e=e.childContextTypes,e!=null}function yl(){F(Le),F(ge)}function op(e,t,n){if(ge.current!==ln)throw Error(h(168));B(ge,t),B(Le,n)}function Dm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(h(108,HE(e)||"Unknown",o));return $({},n,r)}function Sl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,An=ge.current,B(ge,e),B(Le,Le.current),!0}function ip(e,t,n){var r=e.stateNode;if(!r)throw Error(h(169));n?(e=Dm(e,t,An),r.__reactInternalMemoizedMergedChildContext=e,F(Le),F(ge),B(ge,e)):F(Le),B(Le,n)}var It=null,zl=!1,ma=!1;function wm(e){It===null?It=[e]:It.push(e)}function ny(e){zl=!0,wm(e)}function un(){if(!ma&&It!==null){ma=!0;var e=0,t=x;try{var n=It;for(x=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}It=null,zl=!1}catch(o){throw It!==null&&(It=It.slice(e+1)),Jp(_u,un),o}finally{x=t,ma=!1}}return null}var mr=[],gr=0,Tl=null,_l=0,He=[],Ge=0,On=null,Nt=1,Ct="";function _n(e,t){mr[gr++]=_l,mr[gr++]=Tl,Tl=e,_l=t}function Am(e,t,n){He[Ge++]=Nt,He[Ge++]=Ct,He[Ge++]=On,On=e;var r=Nt;e=Ct;var o=32-et(r)-1;r&=~(1<<o),n+=1;var i=32-et(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,Nt=1<<32-et(t)+o|n<<o|r,Ct=i+e}else Nt=1<<i|n<<o|r,Ct=e}function Ru(e){e.return!==null&&(_n(e,1),Am(e,1,0))}function Pu(e){for(;e===Tl;)Tl=mr[--gr],mr[gr]=null,_l=mr[--gr],mr[gr]=null;for(;e===On;)On=He[--Ge],He[Ge]=null,Ct=He[--Ge],He[Ge]=null,Nt=He[--Ge],He[Ge]=null}var xe=null,Pe=null,H=!1,Je=null;function Om(e,t){var n=je(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function lp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xe=e,Pe=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xe=e,Pe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=On!==null?{id:Nt,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=je(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xe=e,Pe=null,!0):!1;default:return!1}}function Qa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ba(e){if(H){var t=Pe;if(t){var n=t;if(!lp(e,t)){if(Qa(e))throw Error(h(418));t=Jt(n.nextSibling);var r=xe;t&&lp(e,t)?Om(r,n):(e.flags=e.flags&-4097|2,H=!1,xe=e)}}else{if(Qa(e))throw Error(h(418));e.flags=e.flags&-4097|2,H=!1,xe=e}}}function sp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xe=e}function qi(e){if(e!==xe)return!1;if(!H)return sp(e),H=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xa(e.type,e.memoizedProps)),t&&(t=Pe)){if(Qa(e))throw Rm(),Error(h(418));for(;t;)Om(e,t),t=Jt(t.nextSibling)}if(sp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pe=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pe=null}}else Pe=xe?Jt(e.stateNode.nextSibling):null;return!0}function Rm(){for(var e=Pe;e;)e=Jt(e.nextSibling)}function Dr(){Pe=xe=null,H=!1}function xu(e){Je===null?Je=[e]:Je.push(e)}var ry=Rt.ReactCurrentBatchConfig;function mo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(h(309));var r=n.stateNode}if(!r)throw Error(h(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var s=o.refs;l===null?delete s[i]:s[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(h(284));if(!n._owner)throw Error(h(290,e))}return e}function Qi(e,t){throw e=Object.prototype.toString.call(t),Error(h(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ap(e){var t=e._init;return t(e._payload)}function Pm(e){function t(d,c){if(e){var p=d.deletions;p===null?(d.deletions=[c],d.flags|=16):p.push(c)}}function n(d,c){if(!e)return null;for(;c!==null;)t(d,c),c=c.sibling;return null}function r(d,c){for(d=new Map;c!==null;)c.key!==null?d.set(c.key,c):d.set(c.index,c),c=c.sibling;return d}function o(d,c){return d=rn(d,c),d.index=0,d.sibling=null,d}function i(d,c,p){return d.index=p,e?(p=d.alternate,p!==null?(p=p.index,p<c?(d.flags|=2,c):p):(d.flags|=2,c)):(d.flags|=1048576,c)}function l(d){return e&&d.alternate===null&&(d.flags|=2),d}function s(d,c,p,E){return c===null||c.tag!==6?(c=Ta(p,d.mode,E),c.return=d,c):(c=o(c,p),c.return=d,c)}function a(d,c,p,E){var I=p.type;return I===ar?f(d,c,p.props.children,E,p.key):c!==null&&(c.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===$t&&ap(I)===c.type)?(E=o(c,p.props),E.ref=mo(d,c,p),E.return=d,E):(E=ul(p.type,p.key,p.props,null,d.mode,E),E.ref=mo(d,c,p),E.return=d,E)}function u(d,c,p,E){return c===null||c.tag!==4||c.stateNode.containerInfo!==p.containerInfo||c.stateNode.implementation!==p.implementation?(c=_a(p,d.mode,E),c.return=d,c):(c=o(c,p.children||[]),c.return=d,c)}function f(d,c,p,E,I){return c===null||c.tag!==7?(c=wn(p,d.mode,E,I),c.return=d,c):(c=o(c,p),c.return=d,c)}function m(d,c,p){if(typeof c=="string"&&c!==""||typeof c=="number")return c=Ta(""+c,d.mode,p),c.return=d,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Mi:return p=ul(c.type,c.key,c.props,null,d.mode,p),p.ref=mo(d,null,c),p.return=d,p;case sr:return c=_a(c,d.mode,p),c.return=d,c;case $t:var E=c._init;return m(d,E(c._payload),p)}if(yo(c)||uo(c))return c=wn(c,d.mode,p,null),c.return=d,c;Qi(d,c)}return null}function g(d,c,p,E){var I=c!==null?c.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return I!==null?null:s(d,c,""+p,E);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Mi:return p.key===I?a(d,c,p,E):null;case sr:return p.key===I?u(d,c,p,E):null;case $t:return I=p._init,g(d,c,I(p._payload),E)}if(yo(p)||uo(p))return I!==null?null:f(d,c,p,E,null);Qi(d,p)}return null}function v(d,c,p,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return d=d.get(p)||null,s(c,d,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Mi:return d=d.get(E.key===null?p:E.key)||null,a(c,d,E,I);case sr:return d=d.get(E.key===null?p:E.key)||null,u(c,d,E,I);case $t:var C=E._init;return v(d,c,p,C(E._payload),I)}if(yo(E)||uo(E))return d=d.get(p)||null,f(c,d,E,I,null);Qi(c,E)}return null}function S(d,c,p,E){for(var I=null,C=null,y=c,N=c=0,L=null;y!==null&&N<p.length;N++){y.index>N?(L=y,y=null):L=y.sibling;var D=g(d,y,p[N],E);if(D===null){y===null&&(y=L);break}e&&y&&D.alternate===null&&t(d,y),c=i(D,c,N),C===null?I=D:C.sibling=D,C=D,y=L}if(N===p.length)return n(d,y),H&&_n(d,N),I;if(y===null){for(;N<p.length;N++)y=m(d,p[N],E),y!==null&&(c=i(y,c,N),C===null?I=y:C.sibling=y,C=y);return H&&_n(d,N),I}for(y=r(d,y);N<p.length;N++)L=v(y,d,N,p[N],E),L!==null&&(e&&L.alternate!==null&&y.delete(L.key===null?N:L.key),c=i(L,c,N),C===null?I=L:C.sibling=L,C=L);return e&&y.forEach(function(he){return t(d,he)}),H&&_n(d,N),I}function T(d,c,p,E){var I=uo(p);if(typeof I!="function")throw Error(h(150));if(p=I.call(p),p==null)throw Error(h(151));for(var C=I=null,y=c,N=c=0,L=null,D=p.next();y!==null&&!D.done;N++,D=p.next()){y.index>N?(L=y,y=null):L=y.sibling;var he=g(d,y,D.value,E);if(he===null){y===null&&(y=L);break}e&&y&&he.alternate===null&&t(d,y),c=i(he,c,N),C===null?I=he:C.sibling=he,C=he,y=L}if(D.done)return n(d,y),H&&_n(d,N),I;if(y===null){for(;!D.done;N++,D=p.next())D=m(d,D.value,E),D!==null&&(c=i(D,c,N),C===null?I=D:C.sibling=D,C=D);return H&&_n(d,N),I}for(y=r(d,y);!D.done;N++,D=p.next())D=v(y,d,N,D.value,E),D!==null&&(e&&D.alternate!==null&&y.delete(D.key===null?N:D.key),c=i(D,c,N),C===null?I=D:C.sibling=D,C=D);return e&&y.forEach(function(Zl){return t(d,Zl)}),H&&_n(d,N),I}function z(d,c,p,E){if(typeof p=="object"&&p!==null&&p.type===ar&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Mi:e:{for(var I=p.key,C=c;C!==null;){if(C.key===I){if(I=p.type,I===ar){if(C.tag===7){n(d,C.sibling),c=o(C,p.props.children),c.return=d,d=c;break e}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===$t&&ap(I)===C.type){n(d,C.sibling),c=o(C,p.props),c.ref=mo(d,C,p),c.return=d,d=c;break e}n(d,C);break}else t(d,C);C=C.sibling}p.type===ar?(c=wn(p.props.children,d.mode,E,p.key),c.return=d,d=c):(E=ul(p.type,p.key,p.props,null,d.mode,E),E.ref=mo(d,c,p),E.return=d,d=E)}return l(d);case sr:e:{for(C=p.key;c!==null;){if(c.key===C)if(c.tag===4&&c.stateNode.containerInfo===p.containerInfo&&c.stateNode.implementation===p.implementation){n(d,c.sibling),c=o(c,p.children||[]),c.return=d,d=c;break e}else{n(d,c);break}else t(d,c);c=c.sibling}c=_a(p,d.mode,E),c.return=d,d=c}return l(d);case $t:return C=p._init,z(d,c,C(p._payload),E)}if(yo(p))return S(d,c,p,E);if(uo(p))return T(d,c,p,E);Qi(d,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,c!==null&&c.tag===6?(n(d,c.sibling),c=o(c,p),c.return=d,d=c):(n(d,c),c=Ta(p,d.mode,E),c.return=d,d=c),l(d)):n(d,c)}return z}var wr=Pm(!0),xm=Pm(!1),Il=an(null),Nl=null,hr=null,ku=null;function Mu(){ku=hr=Nl=null}function Bu(e){var t=Il.current;F(Il),e._currentValue=t}function Za(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ir(e,t){Nl=e,ku=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ce=!0),e.firstContext=null)}function We(e){var t=e._currentValue;if(ku!==e)if(e={context:e,memoizedValue:t,next:null},hr===null){if(Nl===null)throw Error(h(308));hr=e,Nl.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return t}var Cn=null;function Uu(e){Cn===null?Cn=[e]:Cn.push(e)}function km(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Uu(t)):(n.next=o.next,o.next=n),t.interleaved=n,At(e,r)}function At(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wt=!1;function Fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(R&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,At(e,n)}return o=r.interleaved,o===null?(t.next=t,Uu(r)):(t.next=o.next,o.next=t),r.interleaved=t,At(e,n)}function rl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iu(e,n)}}function up(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cl(e,t,n,r){var o=e.updateQueue;Wt=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var a=s,u=a.next;a.next=null,l===null?i=u:l.next=u,l=a;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==l&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=a))}if(i!==null){var m=o.baseState;l=0,f=u=a=null,s=i;do{var g=s.lane,v=s.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var S=e,T=s;switch(g=t,v=n,T.tag){case 1:if(S=T.payload,typeof S=="function"){m=S.call(v,m,g);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=T.payload,g=typeof S=="function"?S.call(v,m,g):S,g==null)break e;m=$({},m,g);break e;case 2:Wt=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,g=o.effects,g===null?o.effects=[s]:g.push(s))}else v={eventTime:v,lane:g,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=v,a=m):f=f.next=v,l|=g;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;g=s,s=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(f===null&&(a=m),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Pn|=l,e.lanes=l,e.memoizedState=m}}function cp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(h(191,o));o.call(r)}}}var bo={},ct=an(bo),Go=an(bo),jo=an(bo);function Ln(e){if(e===bo)throw Error(h(174));return e}function zu(e,t){switch(B(jo,t),B(Go,e),B(ct,bo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pa(t,e)}F(ct),B(ct,t)}function Ar(){F(ct),F(Go),F(jo)}function Bm(e){Ln(jo.current);var t=Ln(ct.current),n=Pa(t,e.type);t!==n&&(B(Go,e),B(ct,n))}function Vu(e){Go.current===e&&(F(ct),F(Go))}var G=an(0);function Ll(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=[];function Hu(){for(var e=0;e<ga.length;e++)ga[e]._workInProgressVersionPrimary=null;ga.length=0}var ol=Rt.ReactCurrentDispatcher,ha=Rt.ReactCurrentBatchConfig,Rn=0,j=null,ee=null,re=null,Dl=!1,Do=!1,$o=0,oy=0;function fe(){throw Error(h(321))}function Gu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nt(e[n],t[n]))return!1;return!0}function ju(e,t,n,r,o,i){if(Rn=i,j=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ol.current=e===null||e.memoizedState===null?ay:uy,e=n(r,o),Do){i=0;do{if(Do=!1,$o=0,25<=i)throw Error(h(301));i+=1,re=ee=null,t.updateQueue=null,ol.current=cy,e=n(r,o)}while(Do)}if(ol.current=wl,t=ee!==null&&ee.next!==null,Rn=0,re=ee=j=null,Dl=!1,t)throw Error(h(300));return e}function $u(){var e=$o!==0;return $o=0,e}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return re===null?j.memoizedState=re=e:re=re.next=e,re}function Xe(){if(ee===null){var e=j.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var t=re===null?j.memoizedState:re.next;if(t!==null)re=t,ee=e;else{if(e===null)throw Error(h(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},re===null?j.memoizedState=re=e:re=re.next=e}return re}function Wo(e,t){return typeof t=="function"?t(e):t}function Ea(e){var t=Xe(),n=t.queue;if(n===null)throw Error(h(311));n.lastRenderedReducer=e;var r=ee,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var l=o.next;o.next=i.next,i.next=l}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var s=l=null,a=null,u=i;do{var f=u.lane;if((Rn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=m,l=r):a=a.next=m,j.lanes|=f,Pn|=f}u=u.next}while(u!==null&&u!==i);a===null?l=r:a.next=s,nt(r,t.memoizedState)||(Ce=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,j.lanes|=i,Pn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function va(e){var t=Xe(),n=t.queue;if(n===null)throw Error(h(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do i=e(i,l.action),l=l.next;while(l!==o);nt(i,t.memoizedState)||(Ce=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Um(){}function Fm(e,t){var n=j,r=Xe(),o=t(),i=!nt(r.memoizedState,o);if(i&&(r.memoizedState=o,Ce=!0),r=r.queue,Wu(Hm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||re!==null&&re.memoizedState.tag&1){if(n.flags|=2048,Xo(9,Vm.bind(null,n,r,o,t),void 0,null),oe===null)throw Error(h(349));(Rn&30)!==0||zm(n,t,o)}return o}function zm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=j.updateQueue,t===null?(t={lastEffect:null,stores:null},j.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vm(e,t,n,r){t.value=n,t.getSnapshot=r,Gm(t)&&jm(e)}function Hm(e,t,n){return n(function(){Gm(t)&&jm(e)})}function Gm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nt(e,n)}catch{return!0}}function jm(e){var t=At(e,1);t!==null&&tt(t,e,1,-1)}function dp(e){var t=st();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t.queue=e,e=e.dispatch=sy.bind(null,j,e),[t.memoizedState,e]}function Xo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=j.updateQueue,t===null?(t={lastEffect:null,stores:null},j.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $m(){return Xe().memoizedState}function il(e,t,n,r){var o=st();j.flags|=e,o.memoizedState=Xo(1|t,n,void 0,r===void 0?null:r)}function Vl(e,t,n,r){var o=Xe();r=r===void 0?null:r;var i=void 0;if(ee!==null){var l=ee.memoizedState;if(i=l.destroy,r!==null&&Gu(r,l.deps)){o.memoizedState=Xo(t,n,i,r);return}}j.flags|=e,o.memoizedState=Xo(1|t,n,i,r)}function fp(e,t){return il(8390656,8,e,t)}function Wu(e,t){return Vl(2048,8,e,t)}function Wm(e,t){return Vl(4,2,e,t)}function Xm(e,t){return Vl(4,4,e,t)}function Ym(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Km(e,t,n){return n=n!=null?n.concat([e]):null,Vl(4,4,Ym.bind(null,t,e),n)}function Xu(){}function qm(e,t){var n=Xe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qm(e,t){var n=Xe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bm(e,t,n){return(Rn&21)===0?(e.baseState&&(e.baseState=!1,Ce=!0),e.memoizedState=n):(nt(n,t)||(n=nm(),j.lanes|=n,Pn|=n,e.baseState=!0),t)}function iy(e,t){var n=x;x=n!==0&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{x=n,ha.transition=r}}function Zm(){return Xe().memoizedState}function ly(e,t,n){var r=nn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jm(e))eg(t,n);else if(n=km(e,t,n,r),n!==null){var o=Te();tt(n,e,r,o),tg(n,t,r)}}function sy(e,t,n){var r=nn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jm(e))eg(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,s=i(l,n);if(o.hasEagerState=!0,o.eagerState=s,nt(s,l)){var a=t.interleaved;a===null?(o.next=o,Uu(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=km(e,t,o,r),n!==null&&(o=Te(),tt(n,e,r,o),tg(n,t,r))}}function Jm(e){var t=e.alternate;return e===j||t!==null&&t===j}function eg(e,t){Do=Dl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tg(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iu(e,n)}}var wl={readContext:We,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},ay={readContext:We,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:fp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,il(4194308,4,Ym.bind(null,t,e),n)},useLayoutEffect:function(e,t){return il(4194308,4,e,t)},useInsertionEffect:function(e,t){return il(4,2,e,t)},useMemo:function(e,t){var n=st();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=st();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ly.bind(null,j,e),[r.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:dp,useDebugValue:Xu,useDeferredValue:function(e){return st().memoizedState=e},useTransition:function(){var e=dp(!1),t=e[0];return e=iy.bind(null,e[1]),st().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=j,o=st();if(H){if(n===void 0)throw Error(h(407));n=n()}else{if(n=t(),oe===null)throw Error(h(349));(Rn&30)!==0||zm(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,fp(Hm.bind(null,r,i,e),[e]),r.flags|=2048,Xo(9,Vm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=st(),t=oe.identifierPrefix;if(H){var n=Ct,r=Nt;n=(r&~(1<<32-et(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$o++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uy={readContext:We,useCallback:qm,useContext:We,useEffect:Wu,useImperativeHandle:Km,useInsertionEffect:Wm,useLayoutEffect:Xm,useMemo:Qm,useReducer:Ea,useRef:$m,useState:function(){return Ea(Wo)},useDebugValue:Xu,useDeferredValue:function(e){var t=Xe();return bm(t,ee.memoizedState,e)},useTransition:function(){var e=Ea(Wo)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:Um,useSyncExternalStore:Fm,useId:Zm,unstable_isNewReconciler:!1},cy={readContext:We,useCallback:qm,useContext:We,useEffect:Wu,useImperativeHandle:Km,useInsertionEffect:Wm,useLayoutEffect:Xm,useMemo:Qm,useReducer:va,useRef:$m,useState:function(){return va(Wo)},useDebugValue:Xu,useDeferredValue:function(e){var t=Xe();return ee===null?t.memoizedState=e:bm(t,ee.memoizedState,e)},useTransition:function(){var e=va(Wo)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:Um,useSyncExternalStore:Fm,useId:Zm,unstable_isNewReconciler:!1};function be(e,t){if(e&&e.defaultProps){t=$({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ja(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hl={isMounted:function(e){return(e=e._reactInternals)?Mn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Te(),o=nn(e),i=Lt(r,o);i.payload=t,n!=null&&(i.callback=n),t=en(e,i,o),t!==null&&(tt(t,e,o,r),rl(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Te(),o=nn(e),i=Lt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=en(e,i,o),t!==null&&(tt(t,e,o,r),rl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Te(),r=nn(e),o=Lt(n,r);o.tag=2,t!=null&&(o.callback=t),t=en(e,o,r),t!==null&&(tt(t,e,r,n),rl(t,e,r))}};function pp(e,t,n,r,o,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Fo(n,r)||!Fo(o,i):!0}function ng(e,t,n){var r=!1,o=ln,i=t.contextType;return typeof i=="object"&&i!==null?i=We(i):(o=De(t)?An:ge.current,r=t.contextTypes,i=(r=r!=null)?Lr(e,o):ln),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function mp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hl.enqueueReplaceState(t,t.state,null)}function eu(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Fu(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=We(i):(i=De(t)?An:ge.current,o.context=Lr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ja(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Hl.enqueueReplaceState(o,o.state,null),Cl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Or(e,t){try{var n="",r=t;do n+=VE(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function ya(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function tu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dy=typeof WeakMap=="function"?WeakMap:Map;function rg(e,t,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ol||(Ol=!0,du=r),tu(e,t)},n}function og(e,t,n){n=Lt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){tu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){tu(e,t),typeof r!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function gp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dy;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cy.bind(null,e,t,n),t.then(e,e))}function hp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ep(e,t,n,r,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lt(-1,1),t.tag=2,en(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var fy=Rt.ReactCurrentOwner,Ce=!1;function Se(e,t,n,r){t.child=e===null?xm(t,null,n,r):wr(t,e.child,n,r)}function vp(e,t,n,r,o){n=n.render;var i=t.ref;return Ir(t,o),r=ju(e,t,n,r,i,o),n=$u(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ot(e,t,o)):(H&&n&&Ru(t),t.flags|=1,Se(e,t,r,o),t.child)}function yp(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!ec(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ig(e,t,i,r,o)):(e=ul(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&o)===0){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fo,n(l,r)&&e.ref===t.ref)return Ot(e,t,o)}return t.flags|=1,e=rn(i,r),e.ref=t.ref,e.return=t,t.child=e}function ig(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Fo(i,r)&&e.ref===t.ref)if(Ce=!1,t.pendingProps=r=i,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Ce=!0);else return t.lanes=e.lanes,Ot(e,t,o)}return nu(e,t,n,r,o)}function lg(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(vr,Re),Re|=n;else{if((n&1073741824)===0)return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,B(vr,Re),Re|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,B(vr,Re),Re|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,B(vr,Re),Re|=r;return Se(e,t,o,n),t.child}function sg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function nu(e,t,n,r,o){var i=De(n)?An:ge.current;return i=Lr(t,i),Ir(t,o),n=ju(e,t,n,r,i,o),r=$u(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ot(e,t,o)):(H&&r&&Ru(t),t.flags|=1,Se(e,t,n,o),t.child)}function Sp(e,t,n,r,o){if(De(n)){var i=!0;Sl(t)}else i=!1;if(Ir(t,o),t.stateNode===null)ll(e,t),ng(t,n,r),eu(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,s=t.memoizedProps;l.props=s;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=We(u):(u=De(n)?An:ge.current,u=Lr(t,u));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||a!==u)&&mp(t,l,r,u),Wt=!1;var g=t.memoizedState;l.state=g,Cl(t,r,l,o),a=t.memoizedState,s!==r||g!==a||Le.current||Wt?(typeof f=="function"&&(Ja(t,n,f,r),a=t.memoizedState),(s=Wt||pp(t,n,s,r,g,a,u))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=u,r=s):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Mm(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:be(t.type,s),l.props=u,m=t.pendingProps,g=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=We(a):(a=De(n)?An:ge.current,a=Lr(t,a));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==m||g!==a)&&mp(t,l,r,a),Wt=!1,g=t.memoizedState,l.state=g,Cl(t,r,l,o);var S=t.memoizedState;s!==m||g!==S||Le.current||Wt?(typeof v=="function"&&(Ja(t,n,v,r),S=t.memoizedState),(u=Wt||pp(t,n,u,r,g,S,a)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,S,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,S,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),l.props=r,l.state=S,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return ru(e,t,n,r,i,o)}function ru(e,t,n,r,o,i){sg(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&ip(t,n,!1),Ot(e,t,i);r=t.stateNode,fy.current=t;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=wr(t,e.child,null,i),t.child=wr(t,null,s,i)):Se(e,t,s,i),t.memoizedState=r.state,o&&ip(t,n,!0),t.child}function ag(e){var t=e.stateNode;t.pendingContext?op(e,t.pendingContext,t.pendingContext!==t.context):t.context&&op(e,t.context,!1),zu(e,t.containerInfo)}function Tp(e,t,n,r,o){return Dr(),xu(o),t.flags|=256,Se(e,t,n,r),t.child}var ou={dehydrated:null,treeContext:null,retryLane:0};function iu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ug(e,t,n){var r=t.pendingProps,o=G.current,i=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),B(G,o&1),e===null)return ba(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},(r&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=l):i=$l(l,r,0,null),e=wn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=iu(n),t.memoizedState=ou,e):Yu(t,l));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return py(e,t,l,r,s,o,n);if(i){i=r.fallback,l=t.mode,o=e.child,s=o.sibling;var a={mode:"hidden",children:r.children};return(l&1)===0&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=rn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?i=rn(s,i):(i=wn(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?iu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=ou,r}return i=e.child,e=i.sibling,r=rn(i,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Yu(e,t){return t=$l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bi(e,t,n,r){return r!==null&&xu(r),wr(t,e.child,null,n),e=Yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function py(e,t,n,r,o,i,l){if(n)return t.flags&256?(t.flags&=-257,r=ya(Error(h(422))),bi(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=$l({mode:"visible",children:r.children},o,0,null),i=wn(i,o,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,(t.mode&1)!==0&&wr(t,e.child,null,l),t.child.memoizedState=iu(l),t.memoizedState=ou,i);if((t.mode&1)===0)return bi(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(h(419)),r=ya(i,r,void 0),bi(e,t,l,r)}if(s=(l&e.childLanes)!==0,Ce||s){if(r=oe,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(r.suspendedLanes|l))!==0?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,At(e,o),tt(r,e,o,-1))}return Ju(),r=ya(Error(h(421))),bi(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Ly.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Pe=Jt(o.nextSibling),xe=t,H=!0,Je=null,e!==null&&(He[Ge++]=Nt,He[Ge++]=Ct,He[Ge++]=On,Nt=e.id,Ct=e.overflow,On=t),t=Yu(t,r.children),t.flags|=4096,t)}function _p(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Za(e.return,t,n)}function Sa(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function cg(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Se(e,t,r.children,n),r=G.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_p(e,n,t);else if(e.tag===19)_p(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(B(G,r),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ll(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Sa(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ll(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Sa(t,!0,n,null,i);break;case"together":Sa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ll(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(h(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function my(e,t,n){switch(t.tag){case 3:ag(t),Dr();break;case 5:Bm(t);break;case 1:De(t.type)&&Sl(t);break;case 4:zu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;B(Il,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(B(G,G.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?ug(e,t,n):(B(G,G.current&1),e=Ot(e,t,n),e!==null?e.sibling:null);B(G,G.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return cg(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),B(G,G.current),r)break;return null;case 22:case 23:return t.lanes=0,lg(e,t,n)}return Ot(e,t,n)}var dg,lu,fg,pg;dg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lu=function(){};fg=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ln(ct.current);var i=null;switch(n){case"input":o=wa(e,o),r=wa(e,r),i=[];break;case"select":o=$({},o,{value:void 0}),r=$({},r,{value:void 0}),i=[];break;case"textarea":o=Ra(e,o),r=Ra(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vl)}xa(n,r);var l;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var s=o[u];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ro.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(s=o?.[u],r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(l in s)!s.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&s[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&U("scroll",e),i||s===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};pg=function(e,t,n,r){n!==r&&(t.flags|=4)};function go(e,t){if(!H)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gy(e,t,n){var r=t.pendingProps;switch(Pu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(t),null;case 1:return De(t.type)&&yl(),pe(t),null;case 3:return r=t.stateNode,Ar(),F(Le),F(ge),Hu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Je!==null&&(mu(Je),Je=null))),lu(e,t),pe(t),null;case 5:Vu(t);var o=Ln(jo.current);if(n=t.type,e!==null&&t.stateNode!=null)fg(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(h(166));return pe(t),null}if(e=Ln(ct.current),qi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[at]=t,r[Ho]=i,e=(t.mode&1)!==0,n){case"dialog":U("cancel",r),U("close",r);break;case"iframe":case"object":case"embed":U("load",r);break;case"video":case"audio":for(o=0;o<To.length;o++)U(To[o],r);break;case"source":U("error",r);break;case"img":case"image":case"link":U("error",r),U("load",r);break;case"details":U("toggle",r);break;case"input":Of(r,i),U("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},U("invalid",r);break;case"textarea":Pf(r,i),U("invalid",r)}xa(n,i),o=null;for(var l in i)if(i.hasOwnProperty(l)){var s=i[l];l==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Ki(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Ki(r.textContent,s,e),o=["children",""+s]):Ro.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&U("scroll",r)}switch(n){case"input":Bi(r),Rf(r,i,!0);break;case"textarea":Bi(r),xf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vl)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[at]=t,e[Ho]=r,dg(e,t,!1,!1),t.stateNode=e;e:{switch(l=ka(n,r),n){case"dialog":U("cancel",e),U("close",e),o=r;break;case"iframe":case"object":case"embed":U("load",e),o=r;break;case"video":case"audio":for(o=0;o<To.length;o++)U(To[o],e);o=r;break;case"source":U("error",e),o=r;break;case"img":case"image":case"link":U("error",e),U("load",e),o=r;break;case"details":U("toggle",e),o=r;break;case"input":Of(e,r),o=wa(e,r),U("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=$({},r,{value:void 0}),U("invalid",e);break;case"textarea":Pf(e,r),o=Ra(e,r),U("invalid",e);break;default:o=r}xa(n,o),s=o;for(i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="style"?$p(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Gp(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Po(e,a):typeof a=="number"&&Po(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ro.hasOwnProperty(i)?a!=null&&i==="onScroll"&&U("scroll",e):a!=null&&Eu(e,i,a,l))}switch(n){case"input":Bi(e),Rf(e,r,!1);break;case"textarea":Bi(e),xf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+on(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?yr(e,!!r.multiple,i,!1):r.defaultValue!=null&&yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=vl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pe(t),null;case 6:if(e&&t.stateNode!=null)pg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(h(166));if(n=Ln(jo.current),Ln(ct.current),qi(t)){if(r=t.stateNode,n=t.memoizedProps,r[at]=t,(i=r.nodeValue!==n)&&(e=xe,e!==null))switch(e.tag){case 3:Ki(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ki(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[at]=t,t.stateNode=r}return pe(t),null;case 13:if(F(G),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(H&&Pe!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Rm(),Dr(),t.flags|=98560,i=!1;else if(i=qi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(h(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(h(317));i[at]=t}else Dr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;pe(t),i=!1}else Je!==null&&(mu(Je),Je=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(G.current&1)!==0?te===0&&(te=3):Ju())),t.updateQueue!==null&&(t.flags|=4),pe(t),null);case 4:return Ar(),lu(e,t),e===null&&zo(t.stateNode.containerInfo),pe(t),null;case 10:return Bu(t.type._context),pe(t),null;case 17:return De(t.type)&&yl(),pe(t),null;case 19:if(F(G),i=t.memoizedState,i===null)return pe(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)go(i,!1);else{if(te!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(l=Ll(e),l!==null){for(t.flags|=128,go(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return B(G,G.current&1|2),t.child}e=e.sibling}i.tail!==null&&q()>Rr&&(t.flags|=128,r=!0,go(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ll(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),go(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!H)return pe(t),null}else 2*q()-i.renderingStartTime>Rr&&n!==1073741824&&(t.flags|=128,r=!0,go(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=q(),t.sibling=null,n=G.current,B(G,r?n&1|2:n&1),t):(pe(t),null);case 22:case 23:return Zu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Re&1073741824)!==0&&(pe(t),t.subtreeFlags&6&&(t.flags|=8192)):pe(t),null;case 24:return null;case 25:return null}throw Error(h(156,t.tag))}function hy(e,t){switch(Pu(t),t.tag){case 1:return De(t.type)&&yl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ar(),F(Le),F(ge),Hu(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Vu(t),null;case 13:if(F(G),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(h(340));Dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return F(G),null;case 4:return Ar(),null;case 10:return Bu(t.type._context),null;case 22:case 23:return Zu(),null;case 24:return null;default:return null}}var Zi=!1,me=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,_=null;function Er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Y(e,t,r)}else n.current=null}function su(e,t,n){try{n()}catch(r){Y(e,t,r)}}var Ip=!1;function vy(e,t){if($a=gl,e=vm(),Ou(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,s=-1,a=-1,u=0,f=0,m=e,g=null;t:for(;;){for(var v;m!==n||o!==0&&m.nodeType!==3||(s=l+o),m!==i||r!==0&&m.nodeType!==3||(a=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(v=m.firstChild)!==null;)g=m,m=v;for(;;){if(m===e)break t;if(g===n&&++u===o&&(s=l),g===i&&++f===r&&(a=l),(v=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=v}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wa={focusedElem:e,selectionRange:n},gl=!1,_=t;_!==null;)if(t=_,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_=e;else for(;_!==null;){t=_;try{var S=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,z=S.memoizedState,d=t.stateNode,c=d.getSnapshotBeforeUpdate(t.elementType===t.type?T:be(t.type,T),z);d.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(h(163))}}catch(E){Y(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,_=e;break}_=t.return}return S=Ip,Ip=!1,S}function wo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&su(t,n,i)}o=o.next}while(o!==r)}}function Gl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function mg(e){var t=e.alternate;t!==null&&(e.alternate=null,mg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[Ho],delete t[Ka],delete t[ey],delete t[ty])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gg(e){return e.tag===5||e.tag===3||e.tag===4}function Np(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vl));else if(r!==4&&(e=e.child,e!==null))for(uu(e,t,n),e=e.sibling;e!==null;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cu(e,t,n),e=e.sibling;e!==null;)cu(e,t,n),e=e.sibling}var le=null,Ze=!1;function jt(e,t,n){for(n=n.child;n!==null;)hg(e,t,n),n=n.sibling}function hg(e,t,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(kl,n)}catch{}switch(n.tag){case 5:me||Er(n,t);case 6:var r=le,o=Ze;le=null,jt(e,t,n),le=r,Ze=o,le!==null&&(Ze?(e=le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):le.removeChild(n.stateNode));break;case 18:le!==null&&(Ze?(e=le,n=n.stateNode,e.nodeType===8?pa(e.parentNode,n):e.nodeType===1&&pa(e,n),Bo(e)):pa(le,n.stateNode));break;case 4:r=le,o=Ze,le=n.stateNode.containerInfo,Ze=!0,jt(e,t,n),le=r,Ze=o;break;case 0:case 11:case 14:case 15:if(!me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,l=i.destroy;i=i.tag,l!==void 0&&((i&2)!==0||(i&4)!==0)&&su(n,t,l),o=o.next}while(o!==r)}jt(e,t,n);break;case 1:if(!me&&(Er(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Y(n,t,s)}jt(e,t,n);break;case 21:jt(e,t,n);break;case 22:n.mode&1?(me=(r=me)||n.memoizedState!==null,jt(e,t,n),me=r):jt(e,t,n);break;default:jt(e,t,n)}}function Cp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ey),t.forEach(function(r){var o=Dy.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 5:le=s.stateNode,Ze=!1;break e;case 3:le=s.stateNode.containerInfo,Ze=!0;break e;case 4:le=s.stateNode.containerInfo,Ze=!0;break e}s=s.return}if(le===null)throw Error(h(160));hg(i,l,o),le=null,Ze=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){Y(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Eg(t,e),t=t.sibling}function Eg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),lt(e),r&4){try{wo(3,e,e.return),Gl(3,e)}catch(T){Y(e,e.return,T)}try{wo(5,e,e.return)}catch(T){Y(e,e.return,T)}}break;case 1:Qe(t,e),lt(e),r&512&&n!==null&&Er(n,n.return);break;case 5:if(Qe(t,e),lt(e),r&512&&n!==null&&Er(n,n.return),e.flags&32){var o=e.stateNode;try{Po(o,"")}catch(T){Y(e,e.return,T)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&zp(o,i),ka(s,l);var u=ka(s,i);for(l=0;l<a.length;l+=2){var f=a[l],m=a[l+1];f==="style"?$p(o,m):f==="dangerouslySetInnerHTML"?Gp(o,m):f==="children"?Po(o,m):Eu(o,f,m,u)}switch(s){case"input":Aa(o,i);break;case"textarea":Vp(o,i);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?yr(o,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?yr(o,!!i.multiple,i.defaultValue,!0):yr(o,!!i.multiple,i.multiple?[]:"",!1))}o[Ho]=i}catch(T){Y(e,e.return,T)}}break;case 6:if(Qe(t,e),lt(e),r&4){if(e.stateNode===null)throw Error(h(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(T){Y(e,e.return,T)}}break;case 3:if(Qe(t,e),lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bo(t.containerInfo)}catch(T){Y(e,e.return,T)}break;case 4:Qe(t,e),lt(e);break;case 13:Qe(t,e),lt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Qu=q())),r&4&&Cp(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(me=(u=me)||f,Qe(t,e),me=u):Qe(t,e),lt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&(e.mode&1)!==0)for(_=e,f=e.child;f!==null;){for(m=_=f;_!==null;){switch(g=_,v=g.child,g.tag){case 0:case 11:case 14:case 15:wo(4,g,g.return);break;case 1:Er(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(T){Y(r,n,T)}}break;case 5:Er(g,g.return);break;case 22:if(g.memoizedState!==null){Dp(m);continue}}v!==null?(v.return=g,_=v):Dp(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{o=m.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=m.stateNode,a=m.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=jp("display",l))}catch(T){Y(e,e.return,T)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(T){Y(e,e.return,T)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Qe(t,e),lt(e),r&4&&Cp(e);break;case 21:break;default:Qe(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gg(n)){var r=n;break e}n=n.return}throw Error(h(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Po(o,""),r.flags&=-33);var i=Np(e);cu(e,i,o);break;case 3:case 4:var l=r.stateNode.containerInfo,s=Np(e);uu(e,s,l);break;default:throw Error(h(161))}}catch(a){Y(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yy(e,t,n){_=e,vg(e,t,n)}function vg(e,t,n){for(var r=(e.mode&1)!==0;_!==null;){var o=_,i=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||Zi;if(!l){var s=o.alternate,a=s!==null&&s.memoizedState!==null||me;s=Zi;var u=me;if(Zi=l,(me=a)&&!u)for(_=o;_!==null;)l=_,a=l.child,l.tag===22&&l.memoizedState!==null?wp(o):a!==null?(a.return=l,_=a):wp(o);for(;i!==null;)_=i,vg(i,t,n),i=i.sibling;_=o,Zi=s,me=u}Lp(e,t,n)}else(o.subtreeFlags&8772)!==0&&i!==null?(i.return=o,_=i):Lp(e,t,n)}}function Lp(e){for(;_!==null;){var t=_;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:me||Gl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!me)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:be(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&cp(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cp(t,l,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Bo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(h(163))}me||t.flags&512&&au(t)}catch(g){Y(t,t.return,g)}}if(t===e){_=null;break}if(n=t.sibling,n!==null){n.return=t.return,_=n;break}_=t.return}}function Dp(e){for(;_!==null;){var t=_;if(t===e){_=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_=n;break}_=t.return}}function wp(e){for(;_!==null;){var t=_;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gl(4,t)}catch(a){Y(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){Y(t,o,a)}}var i=t.return;try{au(t)}catch(a){Y(t,i,a)}break;case 5:var l=t.return;try{au(t)}catch(a){Y(t,l,a)}}}catch(a){Y(t,t.return,a)}if(t===e){_=null;break}var s=t.sibling;if(s!==null){s.return=t.return,_=s;break}_=t.return}}var Sy=Math.ceil,Al=Rt.ReactCurrentDispatcher,Ku=Rt.ReactCurrentOwner,$e=Rt.ReactCurrentBatchConfig,R=0,oe=null,J=null,se=0,Re=0,vr=an(0),te=0,Yo=null,Pn=0,jl=0,qu=0,Ao=null,Ne=null,Qu=0,Rr=1/0,_t=null,Ol=!1,du=null,tn=null,Ji=!1,qt=null,Rl=0,Oo=0,fu=null,sl=-1,al=0;function Te(){return(R&6)!==0?q():sl!==-1?sl:sl=q()}function nn(e){return(e.mode&1)===0?1:(R&2)!==0&&se!==0?se&-se:ry.transition!==null?(al===0&&(al=nm()),al):(e=x,e!==0||(e=window.event,e=e===void 0?16:um(e.type)),e)}function tt(e,t,n,r){if(50<Oo)throw Oo=0,fu=null,Error(h(185));Ko(e,n,r),((R&2)===0||e!==oe)&&(e===oe&&((R&2)===0&&(jl|=n),te===4&&Yt(e,se)),we(e,r),n===1&&R===0&&(t.mode&1)===0&&(Rr=q()+500,zl&&un()))}function we(e,t){var n=e.callbackNode;iv(e,t);var r=ml(e,e===oe?se:0);if(r===0)n!==null&&Bf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Bf(n),t===1)e.tag===0?ny(Ap.bind(null,e)):wm(Ap.bind(null,e)),Zv(function(){(R&6)===0&&un()}),n=null;else{switch(rm(r)){case 1:n=_u;break;case 4:n=em;break;case 16:n=pl;break;case 536870912:n=tm;break;default:n=pl}n=Lg(n,yg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yg(e,t){if(sl=-1,al=0,(R&6)!==0)throw Error(h(327));var n=e.callbackNode;if(Nr()&&e.callbackNode!==n)return null;var r=ml(e,e===oe?se:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Pl(e,r);else{t=r;var o=R;R|=2;var i=Tg();(oe!==e||se!==t)&&(_t=null,Rr=q()+500,Dn(e,t));do try{Iy();break}catch(s){Sg(e,s)}while(!0);Mu(),Al.current=i,R=o,J!==null?t=0:(oe=null,se=0,t=te)}if(t!==0){if(t===2&&(o=za(e),o!==0&&(r=o,t=pu(e,o))),t===1)throw n=Yo,Dn(e,0),Yt(e,r),we(e,q()),n;if(t===6)Yt(e,r);else{if(o=e.current.alternate,(r&30)===0&&!Ty(o)&&(t=Pl(e,r),t===2&&(i=za(e),i!==0&&(r=i,t=pu(e,i))),t===1))throw n=Yo,Dn(e,0),Yt(e,r),we(e,q()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(h(345));case 2:In(e,Ne,_t);break;case 3:if(Yt(e,r),(r&130023424)===r&&(t=Qu+500-q(),10<t)){if(ml(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Te(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ya(In.bind(null,e,Ne,_t),t);break}In(e,Ne,_t);break;case 4:if(Yt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-et(r);i=1<<l,l=t[l],l>o&&(o=l),r&=~i}if(r=o,r=q()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sy(r/1960))-r,10<r){e.timeoutHandle=Ya(In.bind(null,e,Ne,_t),r);break}In(e,Ne,_t);break;case 5:In(e,Ne,_t);break;default:throw Error(h(329))}}}return we(e,q()),e.callbackNode===n?yg.bind(null,e):null}function pu(e,t){var n=Ao;return e.current.memoizedState.isDehydrated&&(Dn(e,t).flags|=256),e=Pl(e,t),e!==2&&(t=Ne,Ne=n,t!==null&&mu(t)),e}function mu(e){Ne===null?Ne=e:Ne.push.apply(Ne,e)}function Ty(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!nt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yt(e,t){for(t&=~qu,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-et(t),r=1<<n;e[n]=-1,t&=~r}}function Ap(e){if((R&6)!==0)throw Error(h(327));Nr();var t=ml(e,0);if((t&1)===0)return we(e,q()),null;var n=Pl(e,t);if(e.tag!==0&&n===2){var r=za(e);r!==0&&(t=r,n=pu(e,r))}if(n===1)throw n=Yo,Dn(e,0),Yt(e,t),we(e,q()),n;if(n===6)throw Error(h(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,In(e,Ne,_t),we(e,q()),null}function bu(e,t){var n=R;R|=1;try{return e(t)}finally{R=n,R===0&&(Rr=q()+500,zl&&un())}}function xn(e){qt!==null&&qt.tag===0&&(R&6)===0&&Nr();var t=R;R|=1;var n=$e.transition,r=x;try{if($e.transition=null,x=1,e)return e()}finally{x=r,$e.transition=n,R=t,(R&6)===0&&un()}}function Zu(){Re=vr.current,F(vr)}function Dn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bv(n)),J!==null)for(n=J.return;n!==null;){var r=n;switch(Pu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yl();break;case 3:Ar(),F(Le),F(ge),Hu();break;case 5:Vu(r);break;case 4:Ar();break;case 13:F(G);break;case 19:F(G);break;case 10:Bu(r.type._context);break;case 22:case 23:Zu()}n=n.return}if(oe=e,J=e=rn(e.current,null),se=Re=t,te=0,Yo=null,qu=jl=Pn=0,Ne=Ao=null,Cn!==null){for(t=0;t<Cn.length;t++)if(n=Cn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=o,r.next=l}n.pending=r}Cn=null}return e}function Sg(e,t){do{var n=J;try{if(Mu(),ol.current=wl,Dl){for(var r=j.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Dl=!1}if(Rn=0,re=ee=j=null,Do=!1,$o=0,Ku.current=null,n===null||n.return===null){te=1,Yo=t,J=null;break}e:{var i=e,l=n.return,s=n,a=t;if(t=se,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=s,m=f.tag;if((f.mode&1)===0&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=hp(l);if(v!==null){v.flags&=-257,Ep(v,l,s,i,t),v.mode&1&&gp(i,u,t),t=v,a=u;var S=t.updateQueue;if(S===null){var T=new Set;T.add(a),t.updateQueue=T}else S.add(a);break e}else{if((t&1)===0){gp(i,u,t),Ju();break e}a=Error(h(426))}}else if(H&&s.mode&1){var z=hp(l);if(z!==null){(z.flags&65536)===0&&(z.flags|=256),Ep(z,l,s,i,t),xu(Or(a,s));break e}}i=a=Or(a,s),te!==4&&(te=2),Ao===null?Ao=[i]:Ao.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var d=rg(i,a,t);up(i,d);break e;case 1:s=a;var c=i.type,p=i.stateNode;if((i.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(tn===null||!tn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=og(i,s,t);up(i,E);break e}}i=i.return}while(i!==null)}Ig(n)}catch(I){t=I,J===n&&n!==null&&(J=n=n.return);continue}break}while(!0)}function Tg(){var e=Al.current;return Al.current=wl,e===null?wl:e}function Ju(){(te===0||te===3||te===2)&&(te=4),oe===null||(Pn&268435455)===0&&(jl&268435455)===0||Yt(oe,se)}function Pl(e,t){var n=R;R|=2;var r=Tg();(oe!==e||se!==t)&&(_t=null,Dn(e,t));do try{_y();break}catch(o){Sg(e,o)}while(!0);if(Mu(),R=n,Al.current=r,J!==null)throw Error(h(261));return oe=null,se=0,te}function _y(){for(;J!==null;)_g(J)}function Iy(){for(;J!==null&&!QE();)_g(J)}function _g(e){var t=Cg(e.alternate,e,Re);e.memoizedProps=e.pendingProps,t===null?Ig(e):J=t,Ku.current=null}function Ig(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=gy(n,t,Re),n!==null){J=n;return}}else{if(n=hy(n,t),n!==null){n.flags&=32767,J=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{te=6,J=null;return}}if(t=t.sibling,t!==null){J=t;return}J=t=e}while(t!==null);te===0&&(te=5)}function In(e,t,n){var r=x,o=$e.transition;try{$e.transition=null,x=1,Ny(e,t,n,r)}finally{$e.transition=o,x=r}return null}function Ny(e,t,n,r){do Nr();while(qt!==null);if((R&6)!==0)throw Error(h(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(lv(e,i),e===oe&&(J=oe=null,se=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Ji||(Ji=!0,Lg(pl,function(){return Nr(),null})),i=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||i){i=$e.transition,$e.transition=null;var l=x;x=1;var s=R;R|=4,Ku.current=null,vy(e,n),Eg(n,e),Xv(Wa),gl=!!$a,Wa=$a=null,e.current=n,yy(n,e,o),bE(),R=s,x=l,$e.transition=i}else e.current=n;if(Ji&&(Ji=!1,qt=e,Rl=o),i=e.pendingLanes,i===0&&(tn=null),ev(n.stateNode,r),we(e,q()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ol)throw Ol=!1,e=du,du=null,e;return(Rl&1)!==0&&e.tag!==0&&Nr(),i=e.pendingLanes,(i&1)!==0?e===fu?Oo++:(Oo=0,fu=e):Oo=0,un(),null}function Nr(){if(qt!==null){var e=rm(Rl),t=$e.transition,n=x;try{if($e.transition=null,x=16>e?16:e,qt===null)var r=!1;else{if(e=qt,qt=null,Rl=0,(R&6)!==0)throw Error(h(331));var o=R;for(R|=4,_=e.current;_!==null;){var i=_,l=i.child;if((_.flags&16)!==0){var s=i.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(_=u;_!==null;){var f=_;switch(f.tag){case 0:case 11:case 15:wo(8,f,i)}var m=f.child;if(m!==null)m.return=f,_=m;else for(;_!==null;){f=_;var g=f.sibling,v=f.return;if(mg(f),f===u){_=null;break}if(g!==null){g.return=v,_=g;break}_=v}}}var S=i.alternate;if(S!==null){var T=S.child;if(T!==null){S.child=null;do{var z=T.sibling;T.sibling=null,T=z}while(T!==null)}}_=i}}if((i.subtreeFlags&2064)!==0&&l!==null)l.return=i,_=l;else e:for(;_!==null;){if(i=_,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:wo(9,i,i.return)}var d=i.sibling;if(d!==null){d.return=i.return,_=d;break e}_=i.return}}var c=e.current;for(_=c;_!==null;){l=_;var p=l.child;if((l.subtreeFlags&2064)!==0&&p!==null)p.return=l,_=p;else e:for(l=c;_!==null;){if(s=_,(s.flags&2048)!==0)try{switch(s.tag){case 0:case 11:case 15:Gl(9,s)}}catch(I){Y(s,s.return,I)}if(s===l){_=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,_=E;break e}_=s.return}}if(R=o,un(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(kl,e)}catch{}r=!0}return r}finally{x=n,$e.transition=t}}return!1}function Op(e,t,n){t=Or(n,t),t=rg(e,t,1),e=en(e,t,1),t=Te(),e!==null&&(Ko(e,1,t),we(e,t))}function Y(e,t,n){if(e.tag===3)Op(e,e,n);else for(;t!==null;){if(t.tag===3){Op(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tn===null||!tn.has(r))){e=Or(n,e),e=og(t,e,1),t=en(t,e,1),e=Te(),t!==null&&(Ko(t,1,e),we(t,e));break}}t=t.return}}function Cy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Te(),e.pingedLanes|=e.suspendedLanes&n,oe===e&&(se&n)===n&&(te===4||te===3&&(se&130023424)===se&&500>q()-Qu?Dn(e,0):qu|=n),we(e,t)}function Ng(e,t){t===0&&((e.mode&1)===0?t=1:(t=zi,zi<<=1,(zi&130023424)===0&&(zi=4194304)));var n=Te();e=At(e,t),e!==null&&(Ko(e,t,n),we(e,n))}function Ly(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ng(e,n)}function Dy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(h(314))}r!==null&&r.delete(t),Ng(e,n)}var Cg;Cg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Le.current)Ce=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ce=!1,my(e,t,n);Ce=(e.flags&131072)!==0}else Ce=!1,H&&(t.flags&1048576)!==0&&Am(t,_l,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ll(e,t),e=t.pendingProps;var o=Lr(t,ge.current);Ir(t,n),o=ju(null,t,r,e,o,n);var i=$u();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(r)?(i=!0,Sl(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Fu(t),o.updater=Hl,t.stateNode=o,o._reactInternals=t,eu(t,r,e,n),t=ru(null,t,r,!0,i,n)):(t.tag=0,H&&i&&Ru(t),Se(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ll(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Ay(r),e=be(r,e),o){case 0:t=nu(null,t,r,e,n);break e;case 1:t=Sp(null,t,r,e,n);break e;case 11:t=vp(null,t,r,e,n);break e;case 14:t=yp(null,t,r,be(r.type,e),n);break e}throw Error(h(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:be(r,o),nu(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:be(r,o),Sp(e,t,r,o,n);case 3:e:{if(ag(t),e===null)throw Error(h(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Mm(e,t),Cl(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Or(Error(h(423)),t),t=Tp(e,t,r,n,o);break e}else if(r!==o){o=Or(Error(h(424)),t),t=Tp(e,t,r,n,o);break e}else for(Pe=Jt(t.stateNode.containerInfo.firstChild),xe=t,H=!0,Je=null,n=xm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dr(),r===o){t=Ot(e,t,n);break e}Se(e,t,r,n)}t=t.child}return t;case 5:return Bm(t),e===null&&ba(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,l=o.children,Xa(r,o)?l=null:i!==null&&Xa(r,i)&&(t.flags|=32),sg(e,t),Se(e,t,l,n),t.child;case 6:return e===null&&ba(t),null;case 13:return ug(e,t,n);case 4:return zu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wr(t,null,r,n):Se(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:be(r,o),vp(e,t,r,o,n);case 7:return Se(e,t,t.pendingProps,n),t.child;case 8:return Se(e,t,t.pendingProps.children,n),t.child;case 12:return Se(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,B(Il,r._currentValue),r._currentValue=l,i!==null)if(nt(i.value,l)){if(i.children===o.children&&!Le.current){t=Ot(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){l=i.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Lt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Za(i.return,n,t),s.lanes|=n;break}a=a.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(h(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),Za(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Se(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ir(t,n),o=We(o),r=r(o),t.flags|=1,Se(e,t,r,n),t.child;case 14:return r=t.type,o=be(r,t.pendingProps),o=be(r.type,o),yp(e,t,r,o,n);case 15:return ig(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:be(r,o),ll(e,t),t.tag=1,De(r)?(e=!0,Sl(t)):e=!1,Ir(t,n),ng(t,r,o),eu(t,r,o,n),ru(null,t,r,!0,e,n);case 19:return cg(e,t,n);case 22:return lg(e,t,n)}throw Error(h(156,t.tag))};function Lg(e,t){return Jp(e,t)}function wy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function je(e,t,n,r){return new wy(e,t,n,r)}function ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ay(e){if(typeof e=="function")return ec(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yu)return 11;if(e===Su)return 14}return 2}function rn(e,t){var n=e.alternate;return n===null?(n=je(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ul(e,t,n,r,o,i){var l=2;if(r=e,typeof e=="function")ec(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case ar:return wn(n.children,o,i,t);case vu:l=8,o|=8;break;case Na:return e=je(12,n,t,o|2),e.elementType=Na,e.lanes=i,e;case Ca:return e=je(13,n,t,o),e.elementType=Ca,e.lanes=i,e;case La:return e=je(19,n,t,o),e.elementType=La,e.lanes=i,e;case Bp:return $l(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kp:l=10;break e;case Mp:l=9;break e;case yu:l=11;break e;case Su:l=14;break e;case $t:l=16,r=null;break e}throw Error(h(130,e==null?e:typeof e,""))}return t=je(l,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function wn(e,t,n,r){return e=je(7,e,r,t),e.lanes=n,e}function $l(e,t,n,r){return e=je(22,e,r,t),e.elementType=Bp,e.lanes=n,e.stateNode={isHidden:!1},e}function Ta(e,t,n){return e=je(6,e,null,t),e.lanes=n,e}function _a(e,t,n){return t=je(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oy(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ia(0),this.expirationTimes=ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function tc(e,t,n,r,o,i,l,s,a){return e=new Oy(e,t,n,s,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=je(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fu(i),e}function Ry(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Dg(e){if(!e)return ln;e=e._reactInternals;e:{if(Mn(e)!==e||e.tag!==1)throw Error(h(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(h(171))}if(e.tag===1){var n=e.type;if(De(n))return Dm(e,n,t)}return t}function wg(e,t,n,r,o,i,l,s,a){return e=tc(n,r,!0,e,o,i,l,s,a),e.context=Dg(null),n=e.current,r=Te(),o=nn(n),i=Lt(r,o),i.callback=t??null,en(n,i,o),e.current.lanes=o,Ko(e,o,r),we(e,r),e}function Wl(e,t,n,r){var o=t.current,i=Te(),l=nn(o);return n=Dg(n),t.context===null?t.context=n:t.pendingContext=n,t=Lt(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=en(o,t,l),e!==null&&(tt(e,o,l,i),rl(e,o,l)),l}function xl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nc(e,t){Rp(e,t),(e=e.alternate)&&Rp(e,t)}function Py(){return null}var Ag=typeof reportError=="function"?reportError:function(e){console.error(e)};function rc(e){this._internalRoot=e}Xl.prototype.render=rc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(h(409));Wl(e,t,null,null)};Xl.prototype.unmount=rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){Wl(null,e,null,null)}),t[wt]=null}};function Xl(e){this._internalRoot=e}Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=lm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&t!==0&&t<Xt[n].priority;n++);Xt.splice(n,0,e),n===0&&am(e)}};function oc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pp(){}function xy(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=xl(l);i.call(u)}}var l=wg(t,r,e,0,null,!1,!1,"",Pp);return e._reactRootContainer=l,e[wt]=l.current,zo(e.nodeType===8?e.parentNode:e),xn(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var u=xl(a);s.call(u)}}var a=tc(e,0,!1,null,null,!1,!1,"",Pp);return e._reactRootContainer=a,e[wt]=a.current,zo(e.nodeType===8?e.parentNode:e),xn(function(){Wl(t,a,n,r)}),a}function Kl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var l=i;if(typeof o=="function"){var s=o;o=function(){var a=xl(l);s.call(a)}}Wl(t,l,e,o)}else l=xy(n,t,e,o,r);return xl(l)}om=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=So(t.pendingLanes);n!==0&&(Iu(t,n|1),we(t,q()),(R&6)===0&&(Rr=q()+500,un()))}break;case 13:xn(function(){var r=At(e,1);if(r!==null){var o=Te();tt(r,e,1,o)}}),nc(e,1)}};Nu=function(e){if(e.tag===13){var t=At(e,134217728);if(t!==null){var n=Te();tt(t,e,134217728,n)}nc(e,134217728)}};im=function(e){if(e.tag===13){var t=nn(e),n=At(e,t);if(n!==null){var r=Te();tt(n,e,t,r)}nc(e,t)}};lm=function(){return x};sm=function(e,t){var n=x;try{return x=e,t()}finally{x=n}};Ba=function(e,t,n){switch(t){case"input":if(Aa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Fl(r);if(!o)throw Error(h(90));Fp(r),Aa(r,o)}}}break;case"textarea":Vp(e,n);break;case"select":t=n.value,t!=null&&yr(e,!!n.multiple,t,!1)}};Yp=bu;Kp=xn;var ky={usingClientEntryPoint:!1,Events:[Qo,fr,Fl,Wp,Xp,bu]},ho={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},My={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bp(e),e===null?null:e.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||Py,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Eo=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Eo.isDisabled&&Eo.supportsFiber))try{kl=Eo.inject(My),ut=Eo}catch{}var Eo;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ky;Be.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oc(t))throw Error(h(200));return Ry(e,t,null,n)};Be.createRoot=function(e,t){if(!oc(e))throw Error(h(299));var n=!1,r="",o=Ag;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=tc(e,1,!1,null,null,n,!1,r,o),e[wt]=t.current,zo(e.nodeType===8?e.parentNode:e),new rc(t)};Be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(h(188)):(e=Object.keys(e).join(","),Error(h(268,e)));return e=bp(t),e=e===null?null:e.stateNode,e};Be.flushSync=function(e){return xn(e)};Be.hydrate=function(e,t,n){if(!Yl(t))throw Error(h(200));return Kl(null,e,t,!0,n)};Be.hydrateRoot=function(e,t,n){if(!oc(e))throw Error(h(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",l=Ag;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=wg(t,null,e,1,n??null,o,!1,i,l),e[wt]=t.current,zo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Xl(t)};Be.render=function(e,t,n){if(!Yl(t))throw Error(h(200));return Kl(null,e,t,!1,n)};Be.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(h(40));return e._reactRootContainer?(xn(function(){Kl(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};Be.unstable_batchedUpdates=bu;Be.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yl(n))throw Error(h(200));if(e==null||e._reactInternals===void 0)throw Error(h(38));return Kl(e,t,n,!1,r)};Be.version="18.3.1-next-f1338f8080-20240426"});var xg=dn((b0,Pg)=>{"use strict";function Rg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rg)}catch(e){console.error(e)}}Rg(),Pg.exports=Og()});var lc=dn(ic=>{"use strict";var kg=xg();ic.createRoot=kg.createRoot,ic.hydrateRoot=kg.hydrateRoot;var Z0});var P={DATE_INPUT:"date",DIET_TYPE_SELECT:"diet-type",TOP_BAR:".top-bar",FOOTER:"footer",EASTER_EGG_OVERLAY:".easter-egg-overlay",EASTER_EGG_ICON:".easter-egg-icon",SERVICE_NUMBER_PREFIX:"service-number-",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2",TAB_DADES:"tab-dades",TAB_SERVEIS:"tab-serveis",CONTENT_DADES:"dades-tab-content",CONTENT_SERVEIS:"serveis-tab-content",MAIN_CONTENT_AREA:"main-content",CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips",SIGNATURE_MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title",DOTACIO_MODAL:"dotacio-modal",OPTIONS_CONTAINER_DOT:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline",SAVE_DIET:"save-diet",NOTES_BUTTON_ID:"notes-selected-service",NOTES_MODAL_ID:"notes-modal",NOTES_TITLE_ID:"notes-title",NOTES_TEXTAREA_ID:"notes-textarea",NOTES_SAVE_ID:"notes-save",NOTES_CANCEL_ID:"notes-cancel",NOTES_COUNTER_ID:"notes-char-counter",SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel",TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text",SAVE_PILL:"save-pill",DONATION_LINK_ID:"openDonation",COOKIE_CONSENT_BANNER:"cookie-consent-banner",ACCEPT_COOKIES:"accept-cookies",DECLINE_COOKIES:"decline-cookies"},Ee={INPUT_ERROR:"input-error",ACTIVE_TAB:"active",ERROR_TAB:"error-tab",MODAL_OPEN:"modal-open",MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",TOP_BAR_TAPS:3,FOOTER_TAPS:2,TIMEOUT:1e3,ANIMATION_DURATION:1e3,DEFAULT_DURATION:3e3,ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1,SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",CHIP_ACTIVE:"chip-active",PANEL_VISIBLE:"visible",BUTTON_OPEN:"open",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_LOAD_BTN:"diet-load",DIET_DELETE_BTN:"diet-delete",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal",INPUT_ERROR_DOT:"input-error",IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount",PROMPT_DISMISSED_LIMIT:2,ACTION_TRIGGER_LIMIT:10,DARK_THEME:"theme-dark",VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error",SIGNED:"signed",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Un={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group",PERSON_INPUT_GROUP:".input-with-icon",TEXT_SEL:".pill-text",SERVICE_CONTAINER_SELECTOR:".service",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete",SERVICE_NUMBER_INPUT:".service-number"},es={serviceNumber:".service-number",origin:".origin",destination:".destination",originTime:".origin-time",destinationTime:".destination-time",endTime:".end-time",mode:".chip-active",notes:""},ft={SERVICE_NUMBER_LENGTH:9,VEHICLE_MAX_LENGTH:6,PERSON_NAME_MAX_LENGTH:28,LOCATION_MAX_LENGTH:35,PERSON_NAME_ALLOWED_CHARS:/^[a-zA-Z\s']+$/u},Nc={DEBOUNCE_TOAST:300,DEBOUNCE_AUTO_SAVE:1e3,DEBOUNCE_HANDLER:800};var Gr={LUNCH:"lunch",DINNER:"dinner"},Cc=Un.SERVICE_CONTAINER_SELECTOR,ts={SERVICE_NUMBER_DIGITS_ONLY:"Solo se permiten d\xEDgitos (0-9) en el n\xFAmero de servicio.",SAVE_ERROR_DIGITAL_ONLY:"El n\xFAmero de servicio debe contener solo d\xEDgitos.",VALIDATION_FAILED:"Validaci\xF3n fallida",OCR_PROCESS_RUNNING:"Proceso OCR ya en marcha.",INVALID_IMAGE:"Selecciona una imagen.",IMAGE_TOO_BIG:"La imagen es demasiado grande (m\xE1x. 10 MB).",OCR_ERROR:"Error de escaneo",IMAGE_PROCESS_ERROR:"Error al procesar la imagen.",OCR_COMPLETE:"An\xE1lisis completado.",SAVING:"Guardando\u2026",SAVED:"Guardado",SAVE_ERROR:"No se pudo guardar",DOWNLOAD_STARTED:"Descarga iniciada correctamente.",PDF_GENERATION_ERROR:"Error en la generaci\xF3n del PDF",DOTACIO_SAVED:"Dotaci\xF3n guardada.",DOTACIO_LOADED:"Dotaci\xF3n cargada.",DOTACIO_DELETED:"Dotaci\xF3n eliminada."};var Lc={DOTACIIONS:"dotacions_v2",ANONYMOUS_USER:"anonymousUserId",COOKIE_CONSENT:"cookie_consent",THEME_PREFERENCE:"themePreference",USER_SELECTED_SERVICE_TYPE:"userSelectedServiceType",ONBOARDING_COMPLETED:"onboardingCompleted"};var ue={CONTAINER_ID:"toast-container",TOAST_CLASS:"toast",DEFAULT_DURATION:3e3,DEFAULT_TYPE:"info",ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1},W={queue:[],isVisible:!1,container:null,currentTimeout:null},ph=e=>e&&typeof e=="string"?e.replace(/[<>&]/g,""):"";function mh(e,t,n){if(!e||typeof e!="string"||!e.trim())throw new Error("El missatge del toast \xE9s obligatori i ha de ser una cadena no buida.");if(!ue.ALLOWED_TYPES.includes(t))throw new Error(`Tipus de toast inv\xE0lid: ${t}. Ha de ser un de: ${ue.ALLOWED_TYPES.join(", ")}`);if(!Number.isInteger(n)||n<0||n>6e4)throw new Error("La durada ha d'estar entre 0 i 60000\u202Fms.")}function gh(){return!W.container&&(W.container=document.getElementById(ue.CONTAINER_ID),!W.container)?(console.error(`[Toast] Contenidor '#${ue.CONTAINER_ID}' no trobat.`),null):W.container}function ns(e){W.currentTimeout&&(clearTimeout(W.currentTimeout),W.currentTimeout=null),e&&(e.classList.add(ue.ANIMATION.EXIT),e.addEventListener("transitionend",()=>e.remove(),{once:!0})),W.isVisible=!1,Dc()}function hh({message:e,type:t,duration:n,options:r}){let o=gh();if(!o)return;let i=document.createElement("div");i.className=`${ue.TOAST_CLASS} ${t}`,i.setAttribute("role","alert"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),i.textContent=ph(e);let l=!0;if(r?.undoCallback instanceof Function){let s=document.createElement("button");s.type="button",s.className=ue.UNDO_BTN_CLASS,s.textContent="Deshacer",s.setAttribute("aria-label","Deshacer la acci\xF3n"),s.addEventListener("click",()=>{l=!1;try{r.undoCallback()}finally{ns(i)}}),i.appendChild(s)}o.appendChild(i),requestAnimationFrame(()=>{i.classList.add(ue.ANIMATION.ENTER)}),W.currentTimeout=setTimeout(()=>{l&&r?.onExpire instanceof Function&&r.onExpire(),ns(i)},n)}function Dc(){W.isVisible||W.queue.length===0||(W.isVisible=!0,W.queue.sort((e,t)=>t.priority-e.priority),hh(W.queue.shift()))}function w(e,t=ue.DEFAULT_TYPE,n=ue.DEFAULT_DURATION,r={}){mh(e,t,n);let o=r.priority??ue.DEFAULT_PRIORITY,i={message:e,type:t,duration:n,priority:o,options:r};if(!(r.queueable!==!1)&&W.isVisible){if(W.container){let a=W.container.querySelector(`.${ue.TOAST_CLASS}:not(.${ue.ANIMATION.EXIT})`);a&&a.remove()}ns()}W.queue.length>=ue.MAX_QUEUE_SIZE&&W.queue.sort((a,u)=>a.priority-u.priority).shift();let s=W.queue.findIndex(a=>a.priority<o);s===-1?W.queue.push(i):W.queue.splice(s,0,i),Eh(),Dc()}function Eh(){let e="toast-undo-style";if(document.getElementById(e))return;let t=document.body.getAttribute("data-csp-nonce"),n=document.createElement("style");n.id=e,t&&n.setAttribute("nonce",t),n.textContent=`
    .${ue.UNDO_BTN_CLASS} {
      margin-left: auto; 
      padding: 8px 12px; 
      background: none;
      border: none;
      border-radius: 4px; 
      cursor: pointer;     
      font-weight: 600;
      font-size: 0.875rem; 
      text-transform: uppercase; 
      letter-spacing: 0.08em; 
      color: inherit; 
      transition: background-color 0.2s ease;
    }
    .${ue.UNDO_BTN_CLASS}:hover {
      background-color: rgba(255, 255, 255, 0.15); 
    }
  `,document.head.appendChild(n)}function fn(e){e?.classList.add(Ee.INPUT_ERROR)}function Fn(e){e?.classList.remove(Ee.INPUT_ERROR)}function wc(e){if(!e||e.length===0)return"";let t=e.map(n=>`S${n}`);return t.length===1?t[0]:t.length===2?t.join(" y "):`${t.slice(0,-1).join(", ")} y ${t[t.length-1]}`}function jr(e){!e||e.dataset.errorListenerAttached||(e.addEventListener("input",()=>Fn(e),{once:!0}),e.dataset.errorListenerAttached="true")}function Ac(e,t,n,r){if(!e)return!0;Fn(e);let o=e.value.trim(),i=!1;return o?/^\d+$/.test(o)?o.length!==ft.SERVICE_NUMBER_LENGTH&&(r.digitLength.push(t),i=!0):(r.nonNumeric.push(t),i=!0):n&&(r.emptyRequiredS1=!0,i=!0),i?(fn(e),jr(e),!1):!0}function vh(e){let t=[];return e.nonNumeric.length>0&&t.push(`El n\xFAmero de servicio ${wc(e.nonNumeric)} debe contener solo d\xEDgitos.`),e.digitLength.length>0&&t.push(`El n\xFAmero de servicio ${wc(e.digitLength)} debe tener ${ft.SERVICE_NUMBER_LENGTH} d\xEDgitos.`),t}function li(){let e=!0;return[document.getElementById(P.DATE_INPUT),document.getElementById(P.DIET_TYPE_SELECT)].filter(Boolean).forEach(n=>{Fn(n),n.value.trim()||(fn(n),jr(n),e=!1)}),e}function si(){let e={emptyRequiredS1:!1,nonNumeric:[],digitLength:[]},t=!0,n=document.getElementById(`${P.SERVICE_NUMBER_PREFIX}1`);if(!n)return console.error("Validation: No se ha encontrado el input para el servicio S1."),!1;t=Ac(n,1,!0,e)&&t;for(let o=2;o<=4;o++){let i=document.getElementById(`${P.SERVICE_NUMBER_PREFIX}${o}`);i&&(t=Ac(i,o,!1,e)&&t)}if(t)return!0;let r=vh(e);return r.length>0&&w(r.join(`
`),"error"),!1}function b(e){return typeof e!="string"?"":e.trim().replace(/[<>&"'`]/g,"").trim()}function ai(e){return e?/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/.test(e):!0}function Oc(e,t,n,r){let o=e?.value.trim()||"";return o&&!ft.PERSON_NAME_ALLOWED_CHARS.test(o)?(fn(t),!1):o.length>ft.PERSON_NAME_MAX_LENGTH?(fn(t),r.push(`El nombre del ${n} no puede superar los ${ft.PERSON_NAME_MAX_LENGTH} caracteres.`),!1):!0}function Rc(){let e=document.getElementById(P.VEHICLE_INPUT),t=document.getElementById(P.PERSON1_INPUT),n=document.getElementById(P.PERSON2_INPUT),r=t?.closest(Un.PERSON_INPUT_GROUP),o=n?.closest(Un.PERSON_INPUT_GROUP);Fn(e),Fn(r),Fn(o);let i=e?.value.trim()||"",l=t?.value.trim()||"",s=n?.value.trim()||"",a=!0,u=[];return i||(fn(e),u.push("El campo Veh\xEDculo es obligatorio."),a=!1),a=Oc(t,r,"Conductor",u)&&a,a=Oc(n,o,"Ayudante",u)&&a,!l&&!s&&(fn(r),fn(o),u.push("Debe indicar al menos un Conductor o Ayudante."),a=!1),a||(jr(e),jr(t),jr(n),w(u.join(`
`),"error")),a}function Pc(){let e=ft.PERSON_NAME_ALLOWED_CHARS,t=/^[^\x00-\x1F\x7F<>&"'`]*$/u;function n(u){let f=u.target.value;e.test(f)||(u.target.value=f.replace(/[^a-zA-Z\s'.]/g,""))}function r(u){let f=u.target.value;t.test(f)||(u.target.value=f.replace(/[<>&"'`]/g,"").trim())}function o(u){u.key==="Enter"||u.key==="Tab"||u.ctrlKey||u.metaKey||u.altKey||u.key.length>1||e.test(u.key)||u.preventDefault()}function i(u){u.key==="Enter"||u.key==="Tab"||u.ctrlKey||u.metaKey||u.altKey||u.key.length>1||t.test(u.key)||u.preventDefault()}[document.getElementById(P.PERSON1_INPUT),document.getElementById(P.PERSON2_INPUT)].filter(Boolean).forEach(u=>{u.addEventListener("input",n),u.addEventListener("keypress",o)}),document.querySelectorAll(".service .origin, .service .destination").forEach(u=>{u.addEventListener("input",r),u.addEventListener("keypress",i)});let a=document.getElementById(P.VEHICLE_INPUT);a&&a.addEventListener("input",u=>{u.target.value.length>ft.VEHICLE_MAX_LENGTH&&(u.target.value=u.target.value.slice(0,ft.VEHICLE_MAX_LENGTH))})}var yh=["3.6","3.51","3.22","3.11"],zn={CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips"},Xr={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group"},X={SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",SERVICE_COLORS:["service-1","service-2","service-3","service-4"],OPTIONS_MENU_HIDDEN:"hidden",CHIP_ACTIVE:"chip-active"},Sh=[".chip-group-title",".chip-group",".btn-ocr-inline",".section-divider"],Th=[".destination",".destination-time"],xc=!1,Vn=0,ne=[],Yr=[],kc=[],rs=null,$r=null,pt=null,Wr=null,_h=null,Ih=[],xt=[],mt=["","","",""];function Nh(){$r&&($r.innerHTML="",Yr=ne.map((e,t)=>{let n=document.createElement("button");return n.className=`service-button ${X.SERVICE_COLORS[t]}`,n.textContent=`S${t+1}`,n.type="button",n.setAttribute("aria-label",`Mostrar servei ${t+1}`),n.addEventListener("click",()=>Ah(t)),$r.appendChild(n),n}))}function Ch(){!pt||!Wr||(Wr.addEventListener("click",e=>{e.stopPropagation(),pt.classList.toggle(X.OPTIONS_MENU_HIDDEN)}),document.addEventListener("click",e=>{!Wr?.contains(e.target)&&!pt?.contains(e.target)&&pt.classList.add(X.OPTIONS_MENU_HIDDEN)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&pt&&pt.classList.add(X.OPTIONS_MENU_HIDDEN)}),pt.addEventListener("click",e=>{e.target.closest("button")&&pt.classList.add(X.OPTIONS_MENU_HIDDEN)}))}function Lh(e,t){let n=e.querySelector(t);return n?n.closest(Xr.FORM_GROUP):null}function ui(e,t){if(!e)return;let n=t!=="3.6";Th.forEach(o=>{Lh(e,o)?.classList.toggle(X.SERVICE_HIDDEN,n)});let r=e.querySelector(".origin");r&&(n?r.setAttribute("enterkeyhint","done"):r.removeAttribute("enterkeyhint"))}function Dh(e){_h&&Ih.forEach(t=>t.classList.toggle(X.CHIP_ACTIVE,t.dataset.mode===e))}function ci(e,t){e.querySelectorAll(Xr.CHIP).forEach(r=>r.classList.toggle(X.CHIP_ACTIVE,r.dataset.mode===t))}function wh(){ne.forEach((e,t)=>{e.querySelectorAll(Xr.CHIP).forEach(r=>{r.addEventListener("click",()=>{let o=r.dataset.mode;if(!yh.includes(o)){console.error(`Intent de canviar a un mode inv\xE0lid: "${o}". Acci\xF3 bloquejada.`);return}if(xt[t]===o)return;xt[t]=o,ci(e,o),ui(e,o);let i=e.querySelector(".chip-group");i&&(X.SERVICE_COLORS.forEach(l=>i.classList.remove(l)),i.classList.add(X.SERVICE_COLORS[t])),gt()})})})}function os(e){let t=X.SERVICE_COLORS[e],n=(r,o)=>{r&&(r.classList.remove(...X.SERVICE_COLORS),r.classList.add(o,t))};n(document.getElementById(zn.CLEAR_BTN),"clear-selected-btn"),n(document.getElementById(zn.CAMERA_BTN),"camera-btn"),n(document.getElementById("notes-selected-service"),"notes-btn"),n(Wr,"options-btn")}function Mc(){if(!xc&&(kc=document.querySelectorAll(Xr.SERVICE_PANEL),rs=document.getElementById(zn.CONTAINER),$r=document.getElementById(zn.BUTTONS_CONTAINER),pt=document.getElementById(zn.OPTIONS_MENU),Wr=document.getElementById(zn.OPTIONS_TOGGLE_BTN),!(!rs||!$r)&&(ne=Array.from(rs.querySelectorAll(Xr.SERVICE_PANEL)),!!ne.length))){if(xt=ne.map(()=>"3.6"),Nh(),Ch(),wh(),ne.length>0&&Yr.length>0){ne.forEach((n,r)=>n.classList.toggle(X.SERVICE_HIDDEN,r!==0)),Yr[0].classList.add(X.BUTTON_ACTIVE);let e=xt[0];ui(ne[0],e),ci(ne[0],e);let t=ne[0].querySelector(".chip-group");t&&t.classList.add(X.SERVICE_COLORS[0]),Dh(e),os(0)}xc=!0}}function Ah(e){if(e<0||e>=ne.length||e===Vn)return;ne[Vn].classList.add(X.SERVICE_HIDDEN),ne[e].classList.remove(X.SERVICE_HIDDEN),Yr[Vn].classList.remove(X.BUTTON_ACTIVE),Yr[e].classList.add(X.BUTTON_ACTIVE),Vn=e;let t=xt[e];ui(ne[e],t),ci(ne[e],t);let n=ne[e].querySelector(".chip-group");n&&(X.SERVICE_COLORS.forEach(r=>n.classList.remove(r)),n.classList.add(X.SERVICE_COLORS[e])),os(e)}var pn=()=>Vn,Bc=e=>{if(e>=0&&e<xt.length)return xt[e]};function Uc(e){e&&e.querySelectorAll("input, select, textarea").forEach(t=>{t.type==="checkbox"||t.type==="radio"?t.checked=!1:t.type!=="button"&&t.type!=="submit"&&t.type!=="reset"&&(t.value=""),t.tagName==="SELECT"&&(t.selectedIndex=0)})}function is(){os(Vn)}function Fc(e,t){if(e<0||e>=ne.length)return;xt[e]=t;let n=ne[e];n&&(ci(n,t),ui(n,t),gt())}function Hn(e){let t=e==="TSNU";kc.forEach(n=>{Sh.forEach(r=>{n.querySelector(r)?.classList.toggle(X.SERVICE_HIDDEN,t)})})}function Kr(e){e&&e.querySelectorAll(".input-error").forEach(t=>t.classList.remove("input-error"))}var di=class{constructor({id:t="",date:n="",dietType:r="",vehicleNumber:o="",person1:i="",person2:l="",signatureConductor:s="",signatureAjudant:a="",services:u=[],serviceType:f="TSU",timeStampDiet:m=new Date().toISOString()}={}){this.id=String(t),this.date=String(n),this.dietType=String(r),this.vehicleNumber=String(o),this.person1=String(i),this.person2=String(l),this.signatureConductor=String(s),this.signatureAjudant=String(a),this.services=Array.isArray(u)?u:[],this.serviceType=String(f),this.timeStampDiet=String(m)}};function Oh(){let e="dietSalt",t=(r=16)=>Array.from({length:r},()=>Math.floor(Math.random()*256).toString(16).padStart(2,"0")).join(""),n=localStorage.getItem(e);if(!n){if(window.crypto?.getRandomValues){let r=crypto.getRandomValues(new Uint8Array(16));n=Array.from(r).map(o=>o.toString(16).padStart(2,"0")).join("")}else console.warn("[pseudoId] crypto.getRandomValues no disponible; usant Math.random() (menys segur, nom\xE9s mode desenvolupament)."),n=t(16);localStorage.setItem(e,n)}return n}async function Gn(e){if(!window.crypto?.subtle)return console.warn("[pseudoId] WebCrypto no disponible (context no segur). S\u2019usar\xE0 l\u2019ID en clar nom\xE9s en aquesta sessi\xF3."),e;let n=new TextEncoder().encode(Oh()+e),r=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}var ls=new Intl.RelativeTimeFormat("es",{numeric:"auto"});function zc(e){if(!(e instanceof Date)||isNaN(e.getTime()))throw new Error("La data proporcionada no \xE9s v\xE0lida.");let t=Date.now()-e.getTime();if(t<0)return"en el futuro";let n=Math.round(t/1e3);if(n<45)return"hace unos segundos";if(n<90)return"hace un minuto";let r=Math.round(n/60);if(r<60)return ls.format(-r,"minute");let o=Math.round(r/60);if(o<24)return ls.format(-o,"hour");let i=Math.round(o/24);return ls.format(-i,"day")}var Rh="DietasDB";var ht="dietas",Vc="dateIndex",Ue=null;function Hc(){return new Promise((e,t)=>{let n=indexedDB.open(Rh,1);n.onupgradeneeded=r=>{let o=r.target.result,i;o.objectStoreNames.contains(ht)?i=r.target.transaction.objectStore(ht):i=o.createObjectStore(ht,{keyPath:"id"}),i.indexNames.contains(Vc)||i.createIndex(Vc,"date",{unique:!1})},n.onsuccess=r=>{Ue=r.target.result,Ue.onclose=()=>Ue=null,Ue.onerror=()=>Ue=null,Ue.onversionchange=()=>Ue.close(),e(Ue)},n.onerror=r=>t(r.target.error),n.onblocked=()=>t(new Error("IndexedDB bloquejat per una altra pestanya"))})}async function qr(e="readonly"){return(Ue??(Ue=await Hc())).transaction(ht,e)}function Qr(e,t){return new Promise((n,r)=>{e.onsuccess=o=>n(o.target.result),e.onerror=o=>r(new Error(`${t}: ${o.target.error}`))})}function ss(e){return new Promise((t,n)=>{e.oncomplete=()=>t(),e.onerror=()=>n(e.error),e.onabort=()=>n(e.error)})}async function as(e){try{let t=await qr("readwrite");return Qr(t.objectStore(ht).add(e),"No s'ha pogut afegir"),await ss(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function Gc(e){try{let t=await qr("readwrite");return Qr(t.objectStore(ht).put(e),"No s'ha pogut actualitzar"),await ss(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function kt(e){if(!e)return;let t=await qr();return Qr(t.objectStore(ht).get(e),"Error obtenint dieta")}async function fi(){let e=await qr();return Qr(e.objectStore(ht).getAll(),"Error llistant dietes")}async function jc(e){if(!e)return;let t=await qr("readwrite");Qr(t.objectStore(ht).delete(e),"Error eliminant dieta"),await ss(t)}async function $c(){return Ue??(Ue=await Hc())}var Ph="save-pill",xh=".pill-text",Et={VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error"},Wc=2e3;var Mt=null,us=null,mn=null,br=null,kh=0,cs=!1;function Xc(){if(!Mt){if(Mt=document.getElementById(Ph),us=Mt?.querySelector(xh),!Mt||!us)throw new Error("Elements de la p\xEDndola no trobats al DOM.");Mt.setAttribute("role","status"),Mt.setAttribute("aria-live","polite")}return{pillEl:Mt,textEl:us}}function ds(e,t){try{let{pillEl:n,textEl:r}=Xc();n.classList.add(Et.VISIBLE),n.classList.remove(Et.HAS_CHANGES,Et.SAVING,Et.HAS_SAVED,Et.ERROR),t&&n.classList.add(t),r.textContent=e.replace(/[<>&]/g,"")}catch(n){console.warn("[saveIndicator] Error mostrant p\xEDndola:",n)}}function pi(e="Guardando\u2026"){clearTimeout(br),ds(e,Et.SAVING)}function mi(){clearTimeout(br),cs=!1,kh=Date.now(),ds("Guardado",Et.HAS_SAVED),clearTimeout(mn),mn=setTimeout(fs,Wc)}function Zr(e="No se pudo guardar"){clearTimeout(br),ds(e,Et.ERROR),clearTimeout(mn),mn=setTimeout(fs,Wc*2)}function fs(e=!1){try{if(Xc(),clearTimeout(mn),cs&&!e)return;Mt?.classList.remove(Et.VISIBLE),mn=null}catch(t){console.warn("[saveIndicator] Error amagant p\xEDndola:",t)}}function jn(){cs=!1,clearTimeout(br),fs(!0)}window.addEventListener("pagehide",()=>{clearTimeout(mn),clearTimeout(br)});var Yc={[Gr.LUNCH]:"comida",[Gr.DINNER]:"cena",DEFAULT:"dieta"},gn={TOP_BAR:Ee.TOP_BAR_TAPS,FOOTER:Ee.FOOTER_TAPS,TIMEOUT:Ee.TIMEOUT,ANIMATION_DURATION:Ee.ANIMATION_DURATION};function Wn(e){if(!e)return;let t=document.body;if(!t)return;let n=t.dataset?.cspNonce||t.getAttribute("data-csp-nonce")||"";n&&!e.getAttribute("nonce")&&e.setAttribute("nonce",n)}function Kc(){let e=document.getElementById(P.DATE_INPUT);if(!e){console.warn("Utils: Input de data no trobat.");return}try{e.valueAsDate=new Date}catch(t){console.error("Error establint la data d'avui:",t)}}function qc(e){return typeof e!="string"||!e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function Xn(e){return e?e.split(" ").map(t=>t.includes(".")?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):""}function ps(){let e=new Date().getHours();return e>=6&&e<18?Gr.LUNCH:Gr.DINNER}function Qc(){let e=document.getElementById(P.DIET_TYPE_SELECT);if(!e){console.warn("Utils: Select de tipus de dieta no trobat.");return}e.value=ps()}function ms(e,t){let n="Data inv\xE0lida";if(e&&/^\d{4}-\d{2}-\d{2}$/.test(e))try{let o=e.split("-"),i=o[0].slice(-2);n=`${o[2]}/${o[1]}/${i}`}catch(o){console.error("Error formatant data:",o)}let r=Yc[t]||Yc.DEFAULT;return{ddmmaa:n,franjaText:r}}var ie={topBarTaps:0,footerTaps:0,tapTimeoutId:null};function $n(){ie.topBarTaps=0,ie.footerTaps=0,ie.tapTimeoutId&&(clearTimeout(ie.tapTimeoutId),ie.tapTimeoutId=null)}function Mh(){if(document.querySelector(P.EASTER_EGG_OVERLAY))return;let e=document.createElement("div");e.className=P.EASTER_EGG_OVERLAY.substring(1);let t=document.createElement("div");t.className=P.EASTER_EGG_ICON.substring(1),t.innerHTML='<img src="assets/icons/egg.svg" alt="Easter Egg">',e.appendChild(t),document.body.appendChild(e);let n=r=>{r.stopPropagation(),t.classList.add("clicked"),setTimeout(()=>e.remove(),gn.ANIMATION_DURATION)};e.addEventListener("click",n)}function bc(){let e=document.querySelector(P.TOP_BAR),t=document.querySelector(P.FOOTER);if(!e||!t){console.warn("Easter Egg: No s'han trobat top bar o footer.");return}e.addEventListener("touchend",n=>{n.changedTouches.length===1?(ie.topBarTaps++,ie.tapTimeoutId&&clearTimeout(ie.tapTimeoutId),ie.tapTimeoutId=setTimeout($n,gn.TIMEOUT),ie.topBarTaps>gn.TOP_BAR&&$n()):$n()}),t.addEventListener("touchend",n=>{ie.topBarTaps===gn.TOP_BAR&&n.changedTouches.length===1&&(ie.footerTaps++,ie.tapTimeoutId&&clearTimeout(ie.tapTimeoutId),ie.tapTimeoutId=setTimeout($n,gn.TIMEOUT),ie.footerTaps===gn.FOOTER?(Mh(),$n()):ie.footerTaps>gn.FOOTER&&$n())})}function Jr(e,t){let n,r=function(...o){clearTimeout(n),n=setTimeout(()=>e.apply(this,o),t)};return r.cancel=()=>clearTimeout(n),r}var gs=Promise.resolve(),Zc=!1;async function Bh(e,t,n){if(!e||!Array.isArray(t)||!n)throw new Error("Datos incompletos para construir la dieta.");if(!/^\d{9}$/.test(n))throw new Error("ID de dieta inv\xE1lido. Debe contener 9 d\xEDgitos.");for(let s of t)if(!ai(s.originTime)||!ai(s.destinationTime)||!ai(s.endTime))throw new Error("Formato de hora inv\xE1lido detectado. Use HH:mm.");let r=await Gn(n),o=await kt(r),i=o?o.timeStampDiet:new Date().toISOString(),l={id:r,date:b(e.date),dietType:b(e.dietType),vehicleNumber:b(e.vehicleNumber),person1:b(e.person1),person2:b(e.person2),signatureConductor:e.signatureConductor,signatureAjudant:e.signatureAjudant,services:t.map(s=>({serviceNumber:b(s.serviceNumber),origin:b(s.origin),destination:b(s.destination),originTime:s.originTime,destinationTime:s.destinationTime,endTime:s.endTime,mode:b(s.mode),notes:b(s.notes)||""})),serviceType:b(e.serviceType),timeStampDiet:i};return new di(l)}function Uh(){let e=document.getElementById(P.DADES_TAB),t=document.getElementById(P.SERVEIS_TAB);e?.classList.remove(Ee.ERROR_TAB),t?.classList.remove(Ee.ERROR_TAB);let n=li(),r=si();if(n&&r)return!0;let o="";return!n&&!r?(o="Completa los campos obligatorios en Datos y Servicios.",e?.classList.add(Ee.ERROR_TAB),t?.classList.add(Ee.ERROR_TAB)):n?(o="Completa los campos obligatorios en la pesta\xF1a Servicios.",t?.classList.add(Ee.ERROR_TAB)):(o="Completa los campos obligatorios en la pesta\xF1a Datos.",e?.classList.add(Ee.ERROR_TAB)),w(o,"error"),!1}function Fh(e){if(!e)return;let t=o=>document.getElementById(o);t(P.DATE_INPUT).value=e.date||"",t(P.DIET_TYPE_SELECT).value=e.dietType||"",t(P.VEHICLE_INPUT).value=e.vehicleNumber||"",t(P.PERSON1_INPUT).value=e.person1||"",t(P.PERSON2_INPUT).value=e.person2||"";let n=t(P.SERVICE_TYPE_SELECT);n&&(n.value=e.serviceType||"TSU",Hn(n.value)),Ei(e.signatureConductor||""),vi(e.signatureAjudant||"");let r=document.querySelectorAll(Cc);e.services.forEach((o,i)=>{let l=r[i];l&&(Object.entries(es).forEach(([s,a])=>{let u=l.querySelector(a);u&&(u.value=o[s]||"")}),Fc(i,o.mode||"3.6"),Kr(l),mt[i]=o.notes||"")});for(let o=e.services.length;o<r.length;o++){let i=r[o];i&&(Object.values(es).forEach(l=>{let s=i.querySelector(l);s&&(s.value="")}),Kr(i),mt[o]="")}}async function Jc(e){return gs=gs.then(async()=>{let{generalData:t,servicesData:n}=yi(),r=n[0]?.serviceNumber?.slice(0,9)||"";if(!r||!/^\d{9}$/.test(r)){e&&w("El primer servicio debe tener un N.\xBA de servicio v\xE1lido.","error");return}let o=await Gn(r),i=await kt(o);e&&pi(!i?"Guardando nueva dieta\u2026":"Guardando\u2026"),hs(!1);try{if(await new Promise(u=>setTimeout(u,500)),!Uh()){e&&Zr("Validaci\xF3n fallida");return}let a=await Bh(t,n,r);i?await Gc(a):(await as(a),hn(),jn()),e&&w("Dieta guardada correctament.","success"),eo=new Date,vs(),hn(),mi(),e&&await hi()}catch(a){console.error("Error en performSave:",a),Zr(a.message||"No se pudo guardar"),e&&w(`Error al guardar: ${a.message}`,"error")}finally{hs(!0),Zc&&(Zc=!1,setTimeout(()=>gi(),100))}}),gs}async function ed(){od(),await Jc(!0)}async function gi(){await Jc(!1)}async function td(e){if(!e||typeof e!="string")throw new Error("ID inv\xE0lid");let t=e.length===64?await kt(e):await kt(await Gn(e));if(!t)throw new Error(`Dieta no trobada: ${e}`);Fh(t),hn(),t.timeStampDiet&&(eo=new Date(t.timeStampDiet),vs()),w("Dieta cargada correctamente.","success"),ys()}async function Es(e,t,n){if(e)try{let r=await kt(e);if(!r){w("Error: Dieta no trobada","error");return}let i=(await fi()).sort((l,s)=>new Date(s.timeStampDiet)-new Date(l.timeStampDiet));r.index=i.findIndex(l=>l.id===e),await jc(e),w("Dieta eliminada","success",5e3,{priority:2,queueable:!1,undoCallback:async()=>{await as(r),rd(r),w("Dieta restaurada","success",3e3,{priority:0})},onExpire:()=>{nd(e)}}),hn(),jn()}catch(r){console.error("Error en deleteDietHandler:",r),w("Error al eliminar la dieta","error")}}var eo=null;function vs(){let e=document.getElementById("last-saved");e&&(e.textContent=eo?zc(eo):"")}setInterval(()=>{eo&&vs()},6e4);var Ae={IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount"},sd=2,id=10,En=null,Ss=null,Ts=null,vn=null,ld=!1,_s=(e,t=0)=>parseInt(localStorage.getItem(e)||String(t),10),Is=e=>localStorage.getItem(e)==="true",yn=(e,t)=>localStorage.setItem(e,String(t));function ad(){let e=window.matchMedia("(display-mode: standalone)").matches,t=window.navigator.standalone===!0;return e||t||Is(Ae.IS_INSTALLED)}function zh(e=!1){if(console.log("[PWA] Intentant mostrar el b\xE0ner d'instal\xB7laci\xF3..."),ad()){console.log("[PWA] Bloquejat: L'app ja est\xE0 instal\xB7lada.");return}if(Is(Ae.NEVER_SHOW_AGAIN)){console.log("[PWA] Bloquejat: L'usuari ha demanat no tornar a mostrar.");return}if(!En){console.log("[PWA] Bloquejat: No hi ha cap event d'instal\xB7laci\xF3 guardat.");return}if(!vn){console.log("[PWA] Bloquejat: L'element HTML del b\xE0ner no s'ha trobat.");return}console.log("%c[PWA] Mostrant el b\xE0ner!","color: green; font-weight: bold;"),vn.classList.add("visible"),vn.classList.remove("hidden")}function ud(){console.log("[PWA] Amagant el b\xE0ner."),vn?.classList.remove("visible"),vn?.classList.add("hidden")}function Vh(){console.log("[PWA] L'usuari ha descartat el b\xE0ner."),ud();let e=_s(Ae.PROMPT_DISMISSED_COUNT);e++,yn(Ae.PROMPT_DISMISSED_COUNT,e),console.log(`[PWA] Comptador de descartats actualitzat a: ${e}`),e>=sd&&(yn(Ae.NEVER_SHOW_AGAIN,!0),console.log("%c[PWA] S'ha assolit el l\xEDmit de descartats. No es tornar\xE0 a mostrar.","color: orange;"))}async function Hh(){if(console.log("[PWA] L'usuari ha fet clic a 'Instal\xB7lar'."),!En){console.warn("[PWA] El bot\xF3 d'instal\xB7lar s'ha premut, per\xF2 no hi havia cap event guardat.");return}ud();try{En.prompt();let{outcome:e}=await En.userChoice;console.log(`[PWA] Resultat de la decisi\xF3 de l'usuari: ${e}`),e==="accepted"?(yn(Ae.IS_INSTALLED,!0),yn(Ae.NEVER_SHOW_AGAIN,!0),console.log("%c[PWA] L'usuari ha acceptat la instal\xB7laci\xF3! :)","color: green; font-weight: bold;")):console.log("[PWA] L'usuari ha rebutjat la instal\xB7laci\xF3 des del di\xE0leg del navegador.")}catch(e){console.error("[PWA] Error durant el proc\xE9s de prompt d'instal\xB7laci\xF3:",e)}finally{En=null}}function Gh(e){e.preventDefault(),En=e,console.log("%c[PWA] Event 'beforeinstallprompt' capturat i guardat.","color: blue;")}function cd(){ld||(console.log("[PWA] Inicialitzant el gestor d'instal\xB7laci\xF3..."),vn=document.getElementById("install-prompt"),Ss=document.getElementById("install-button"),Ts=document.getElementById("dismiss-button"),vn&&Ss&&Ts?(Ss.addEventListener("click",Hh),Ts.addEventListener("click",Vh),console.log("[PWA] Botons del b\xE0ner d'instal\xB7laci\xF3 configurats.")):console.warn("[PWA] No s'han trobat tots els elements del b\xE0ner d'instal\xB7laci\xF3."),window.addEventListener("beforeinstallprompt",Gh),window.matchMedia("(display-mode: standalone)").addEventListener("change",e=>{e.matches&&(console.log("[PWA] Detectat canvi a mode 'standalone'. Marcat com instal\xB7lat."),yn(Ae.IS_INSTALLED,!0),yn(Ae.NEVER_SHOW_AGAIN,!0))}),ld=!0,console.log("[PWA] Gestor d'instal\xB7laci\xF3 inicialitzat correctament."))}function dd(){if(console.log("------------------------------------------"),console.log("[PWA] Comprovant si s'ha de mostrar el b\xE0ner despr\xE9s d'una acci\xF3..."),ad()){console.log("[PWA Check] No es mostra: L'app ja est\xE0 instal\xB7lada.");return}if(Is(Ae.NEVER_SHOW_AGAIN)){console.log("[PWA Check] No es mostra: L'usuari ha demanat no tornar a veure'l.");return}if(!En){console.log("[PWA Check] No es mostra: El navegador no ha ofert la possibilitat d'instal\xB7lar (deferredPrompt \xE9s nul).");return}let e=_s(Ae.ACTION_TRIGGER_COUNT);e++,yn(Ae.ACTION_TRIGGER_COUNT,e),console.log(`[PWA] Comptador d'accions incrementat a: ${e}`);let t=_s(Ae.PROMPT_DISMISSED_COUNT);console.log(`[PWA] Vegades que s'ha descartat el b\xE0ner: ${t}`);let n=e===1&&t===0||e>=id&&t<sd;console.log(`[PWA] Es compleixen les condicions per mostrar? ${n}`),n?(setTimeout(()=>zh(),1500),e>=id):console.log("[PWA] No es mostra el b\xE0ner aquesta vegada."),console.log("------------------------------------------")}var fd=!1;async function pd(){if(fd)return;let e=document.createElement("script");return Wn(e),e.src="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js",new Promise((t,n)=>{e.onload=()=>{fd=!0,t()},e.onerror=n,document.head.appendChild(e)})}var Yn={OUTER_MARGIN:55,INNER_PADDING:10},Si={DADES_TAB:"tab-dades",SERVEIS_TAB:"tab-serveis"},Bt={ERROR_TAB:"error-tab"},vt={TEMPLATE_URLS:{DEFAULT:"./dieta.pdf"},SERVICE_Y_OFFSET:82,SIGNATURE_WIDTH:100,SIGNATURE_HEIGHT:50,WATERMARK_TEXT:"misdietas.com",DEFAULT_FILENAME:"dieta.pdf",SERVICE_NUMBER_COLOR:"#004aad",MODE_PREFIX_TEXT_COLOR:"#8B0000",MAX_SIGNATURE_NAME_LENGTH:31},O={general:{date:{x:155,y:732,size:16,color:"#000000"},vehicleNumber:{x:441,y:732,size:16,color:"#000000"},person1:{x:65,y:368,size:16,color:"#000000"},person2:{x:310,y:368,size:16,color:"#000000"}},service:{serviceNumber:{x:130,y:715,size:16,color:"#000000"},origin:{x:232,y:698,size:16,color:"#000000"},originTime:{x:441,y:698,size:16,color:"#000000"},destination:{x:232,y:683,size:16,color:"#000000"},destinationTime:{x:441,y:681,size:16,color:"#000000"},endTimeNormal:{x:441,y:665,size:16,color:"#000000"},endTimeModeText:{x:390,y:665,size:16,color:vt.MODE_PREFIX_TEXT_COLOR},endTimeValueWhenPrefixed:{x:441,y:665,size:16,color:"#000000"}},signature:{conductor:{x:125,y:295,width:100,height:50},ayudante:{x:380,y:295,width:100,height:50}},notesSection:{title:{x:65,y:250,size:16,color:"#000000"},lineHeight:18,maxWidth:465,start:{x:65,y:230,size:16,color:"#333333"}},fixedText:{website:{x:250,y:20,size:6,color:"#EEEEEE"}}};function jh(e){return!e||typeof e!="string"||e.trim()===""?"":e.split(/\s+/).filter(Boolean).map(t=>t.includes("-")?t.split("-").map(n=>n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():"").join("-"):t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function $h(e){if(!e||typeof e!="string")return{r:0,g:0,b:0};let t=e.replace("#","");if(t.length!==6)return{r:0,g:0,b:0};let n=parseInt(t,16);return isNaN(n)?{r:0,g:0,b:0}:{r:n>>16&255,g:n>>8&255,b:n&255}}function Ns(e){if(!e||!/^\d{4}-\d{2}-\d{2}$/.test(e))return"";let[t,n,r]=e.split("-");return`${r}/${n}/${t}`}function Wh(){return vt.TEMPLATE_URLS.DEFAULT}function Xh(e,t){let n=document.getElementById(Si.DADES_TAB),r=document.getElementById(Si.SERVEIS_TAB);n?.classList.remove(Bt.ERROR_TAB),r?.classList.remove(Bt.ERROR_TAB);let o="";!e&&!t?(o="Completa els camps obligatoris a Dades i Serveis.",n?.classList.add(Bt.ERROR_TAB),r?.classList.add(Bt.ERROR_TAB)):e?(o="Completa els camps obligatoris a Serveis.",r?.classList.add(Bt.ERROR_TAB)):(o="Completa els camps obligatoris a Dades.",n?.classList.add(Bt.ERROR_TAB)),o&&w(o,"error")}function md(e,t){let n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(()=>URL.revokeObjectURL(n),500)}async function gd(e,t){if(!e||!Array.isArray(t))throw new Error("Dades inv\xE0lides.");if(!window.PDFLib)throw new Error("PDFLib no carregada.");let{PDFDocument:n,StandardFonts:r,rgb:o}=window.PDFLib,i=Wh(),l=await fetch(i).then(y=>y.arrayBuffer()),s=await n.load(l),a=await s.embedFont(r.Helvetica),u=s.getPages()[0],f=y=>{let{r:N,g:L,b:D}=$h(y);return o(N/255,L/255,D/255)};Object.entries(O.general).forEach(([y,N])=>{let L=e[y]||"";y==="date"&&(L=Ns(L)),y==="vehicleNumber"&&(L=L.toUpperCase()),(y==="person1"||y==="person2")&&(L=jh(L),L.length>vt.MAX_SIGNATURE_NAME_LENGTH&&(L=L.slice(0,vt.MAX_SIGNATURE_NAME_LENGTH-3)+"...")),u.drawText(L,{...N,font:a,color:f(N.color)})}),t.forEach((y,N)=>{let L=N*vt.SERVICE_Y_OFFSET,D=y.mode||"3.6";u.drawText(y.serviceNumber||"",{...O.service.serviceNumber,y:O.service.serviceNumber.y-L,font:a,color:f(vt.SERVICE_NUMBER_COLOR)}),u.drawText(y.origin||"",{...O.service.origin,y:O.service.origin.y-L,font:a,color:f(O.service.origin.color)}),u.drawText(y.originTime||"",{...O.service.originTime,y:O.service.originTime.y-L,font:a,color:f(O.service.originTime.color)}),D==="3.6"&&(u.drawText(y.destination||"",{...O.service.destination,y:O.service.destination.y-L,font:a,color:f(O.service.destination.color)}),u.drawText(y.destinationTime||"",{...O.service.destinationTime,y:O.service.destinationTime.y-L,font:a,color:f(O.service.destinationTime.color)}));let he=(y.endTime||"").trim();D!=="3.6"&&he?(u.drawText(D,{...O.service.endTimeModeText,y:O.service.endTimeModeText.y-L,font:a,color:f(O.service.endTimeModeText.color)}),u.drawText(he,{...O.service.endTimeValueWhenPrefixed,y:O.service.endTimeValueWhenPrefixed.y-L,font:a,color:f(O.service.endTimeValueWhenPrefixed.color)})):u.drawText(he,{...O.service.endTimeNormal,y:O.service.endTimeNormal.y-L,font:a,color:f(O.service.endTimeNormal.color)})});let m=async(y,N)=>{if(typeof y=="string"&&y.startsWith("data:image/png;base64,")&&y.length>22)try{let D=await s.embedPng(y);u.drawImage(D,{...N})}catch(D){console.warn(`No s'ha pogut incrustar una signatura. Error: ${D.message}`)}};await Promise.all([m(e.signatureConductor,O.signature.conductor),m(e.signatureAjudant,O.signature.ayudante)]);let g=u.getWidth(),v=Yn.OUTER_MARGIN+Yn.INNER_PADDING,S=g-(Yn.OUTER_MARGIN+Yn.INNER_PADDING),T=t.map(y=>({num:y.serviceNumber||"",text:(y.notes||"").trim()})).filter(y=>y.num&&y.text);if(T.length){u.drawLine({start:{x:Yn.OUTER_MARGIN,y:275},end:{x:g-Yn.OUTER_MARGIN,y:275},thickness:.5,color:o(.8,.8,.8)});let N=T.length===1?"Observaci\xF3":"Observacions";u.drawText(N,{...O.notesSection.title,font:a,color:f(O.notesSection.title.color)});let L=O.notesSection.start.y,D=O.notesSection.start.size,he=O.notesSection.lineHeight,Zl=f(O.notesSection.start.color);T.forEach(({num:oh,text:ih})=>{if(L<40)return;let Tc=`Servei ${oh}: `;u.drawText(Tc,{x:v,y:L,font:a,size:D,color:f(vt.SERVICE_NUMBER_COLOR)});let lh=a.widthOfTextAtSize(Tc,D),ii=v+lh;ih.split(" ").forEach(Jl=>{if(!Jl)return;let _c=a.widthOfTextAtSize(Jl+" ",D);ii+_c>S&&(L-=he,ii=v),u.drawText(Jl+" ",{x:ii,y:L,font:a,size:D,color:Zl}),ii+=_c}),L-=he*1.5})}let z=vt.WATERMARK_TEXT,d=O.fixedText.website.size,c=a.widthOfTextAtSize(z,d);u.drawText(z,{x:(u.getWidth()-c)/2,y:O.fixedText.website.y,size:d,font:a,color:f(O.fixedText.website.color)});let p=Ns(e.date)||"Dieta",I=`Dieta ${e.dietType==="lunch"?"Comida":e.dietType==="dinner"?"Cena":""} ${p}`.trim().replace(/ +/g," ");s.setTitle(I),s.setAuthor("misdietas.com"),s.setSubject("Justificante de dieta de transporte sanitario"),s.setCreator("MisDietas"),s.setKeywords(["dieta","justificante","transporte sanitario","tsu","tsnu"]);let C=new Date(e.date);return isNaN(C.getTime())||(s.setCreationDate(C),s.setModificationDate(C)),await s.save({permissions:{modifying:!1,copying:!1}})}function hd(e,t){let n=Ns(e).replace(/\//g,"_")||"";return n?`${t==="lunch"?"dieta_comida":t==="dinner"?"dieta_cena":"dieta"}_${n}.pdf`:vt.DEFAULT_FILENAME}async function Ed(){let e=li(),t=si();if(!e||!t){Xh(e,t);return}document.getElementById(Si.DADES_TAB)?.classList.remove(Bt.ERROR_TAB),document.getElementById(Si.SERVEIS_TAB)?.classList.remove(Bt.ERROR_TAB);try{let{generalData:n,servicesData:r}=yi();if(!n||!r)throw new Error("Dades no recollides.");await pd();let o=await gd(n,r),i=hd(n.date,n.dietType);md(new Blob([o],{type:"application/pdf"}),i),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from main form"}),w("Desc\xE0rrega iniciada correctament.","success"),dd()}catch(n){w(`Error en la generaci\xF3 del PDF: ${n.message||"Desconegut"}`,"error")}}async function vd(e){if(!e){w("ID de dieta inv\xE1lido.","error");return}try{let t=e.length===64?e:await Gn(e),n=await kt(t);if(!n)throw new Error("Dieta no encontrada.");let r={date:n.date||"",dietType:n.dietType||"",vehicleNumber:n.vehicleNumber||"",person1:n.person1||"",person2:n.person2||"",serviceType:n.serviceType||"TSU",signatureConductor:n.signatureConductor||"",signatureAjudant:n.signatureAjudant||""},o=n.services.map(s=>({serviceNumber:s.serviceNumber||"",origin:s.origin||"",originTime:s.originTime||"",destination:s.destination||"",destinationTime:s.destinationTime||"",endTime:s.endTime||"",mode:s.mode||"3.6",notes:s.notes||""}));await pd();let i=await gd(r,o),l=hd(r.date,r.dietType);md(new Blob([i],{type:"application/pdf"}),l),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from saved list"}),w("Descarga iniciada correctamente.","success")}catch(t){console.error("Error en downloadDietPDF:",t),w(`Error en la generaci\xF3n del PDF: ${t.message||"Desconocido"}`,"error")}}var yd="dotacions_v2",Z={MODAL:"dotacio-modal",OPTIONS_CONTAINER:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2"},Ye={MODAL_OPEN:"modal-open",INPUT_ERROR:"input-error",HIDDEN:"hidden"},Kn={PERSON_INPUT_GROUP:".input-with-icon",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete"},Sd={INDEX:"data-index"},Yh=180,Cs=class{constructor(){this.savedDotacions=[],this.dotacioModalElement=null,this.optionsContainerElement=null,this.dotacioTemplateElement=null,this.noDotacioTextElement=null,this.isInitialized=!1}init(){if(this.isInitialized)return;this.dotacioModalElement=document.getElementById(Z.MODAL),this.optionsContainerElement=document.getElementById(Z.OPTIONS_CONTAINER),this.dotacioTemplateElement=document.getElementById(Z.TEMPLATE),this.noDotacioTextElement=document.getElementById(Z.NO_DOTACIO_TEXT);let t=document.getElementById(Z.ADD_BTN),n=document.getElementById(Z.OPEN_MODAL_BTN),r=document.getElementById(Z.CLOSE_MODAL_BTN);if(!this.dotacioModalElement||!this.optionsContainerElement||!this.dotacioTemplateElement||!t||!n||!r)return;this.loadDotacionsFromStorage(),t.addEventListener("click",this.addDotacioFromMainForm.bind(this)),n.addEventListener("click",this.openDotacioModal.bind(this)),r.addEventListener("click",this.closeDotacioModal.bind(this)),this.dotacioModalElement.addEventListener("click",i=>{i.target===this.dotacioModalElement&&this.closeDotacioModal()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&this.dotacioModalElement.style.display==="block"&&this.closeDotacioModal()}),this.optionsContainerElement.addEventListener("click",this.handleOptionsClick.bind(this)),[Z.VEHICLE_INPUT,Z.PERSON1_INPUT,Z.PERSON2_INPUT].forEach(i=>{let l=document.getElementById(i);l?.addEventListener("input",()=>{let s=l.closest(Kn.PERSON_INPUT_GROUP);s?s.classList.remove(Ye.INPUT_ERROR):l.classList.remove(Ye.INPUT_ERROR)})}),this.isInitialized=!0}loadDotacionsFromStorage(){try{let t=localStorage.getItem(yd);this.savedDotacions=t?JSON.parse(t):[],Array.isArray(this.savedDotacions)||(this.savedDotacions=[])}catch{this.savedDotacions=[]}}saveDotacionsToStorage(){try{localStorage.setItem(yd,JSON.stringify(this.savedDotacions))}catch{w("No se han podido guardar las dotaciones.","error")}}openDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="block",document.body.classList.add(Ye.MODAL_OPEN),this.displayDotacioOptions())}closeDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="none",document.body.classList.remove(Ye.MODAL_OPEN),document.getElementById(Z.OPEN_MODAL_BTN)?.focus())}displayDotacioOptions(){!this.optionsContainerElement||!this.dotacioTemplateElement||(this.optionsContainerElement.innerHTML="",this.savedDotacions.length===0?(this.noDotacioTextElement?.classList.remove(Ye.HIDDEN),this.optionsContainerElement.classList.add(Ye.HIDDEN)):(this.noDotacioTextElement?.classList.add(Ye.HIDDEN),this.optionsContainerElement.classList.remove(Ye.HIDDEN),this.savedDotacions.forEach((t,n)=>{let r=this.dotacioTemplateElement.content.cloneNode(!0),o=r.querySelector(Kn.DOTACIO_INFO),i=r.querySelector(Kn.LOAD_BTN),l=r.firstElementChild,s=`${t.numero}-${t.conductor}-${t.ajudant}`.replace(/\s/g,"");l.setAttribute("data-dotacio-id",s),o&&(o.textContent=this.formatDotacioListText(t)),i&&i.setAttribute(Sd.INDEX,n),this.optionsContainerElement.appendChild(r),Ds(l,s),Ls(l,s)})))}formatDotacioListText(t){let n=t.numero||"S/N",r=Xn(t.conductor||""),o=Xn(t.ajudant||""),i=`${r} / ${o}`;r||o?i=` - ${i}`:i="";let l=`${n}${i}`;if(this.measureTextWidth(l)>Yh){let a=t.conductor?this.shortenPersonName(t.conductor):"",u=t.ajudant?this.shortenPersonName(t.ajudant):"",f=`${a} / ${u}`;a||u?f=` - ${f}`:f="",l=`${n}${f}`}return l}shortenPersonName(t){if(!t||typeof t!="string")return"";let n=t.trim().split(/\s+/).filter(s=>s.length>0);if(n.length===0)return"";if(n.length===1)return Xn(n[0]);let r=new Set(["de","la","del","el","los","las","von","van","d'","es","da","dels","i","y"]),o=n.filter(s=>!r.has(s.toLowerCase()));if(o.length===0)return Xn(n[0]);let i=Xn(o[0]),l=o.slice(1).map(s=>s.charAt(0).toUpperCase()+".").join(" ");return`${i} ${l}`}measureTextWidth(t){let n=document.createElement("span");n.style.visibility="hidden",n.style.whiteSpace="nowrap",n.style.fontSize=getComputedStyle(document.body).fontSize,n.style.fontFamily=getComputedStyle(document.body).fontFamily,n.textContent=t,document.body.appendChild(n);let r=n.offsetWidth;return document.body.removeChild(n),r}loadDotacionByIndex(t){if(t<0||t>=this.savedDotacions.length)return;let n=this.savedDotacions[t];this.clearDotacionInputErrors(),document.getElementById(Z.VEHICLE_INPUT).value=n.numero||"",document.getElementById(Z.PERSON1_INPUT).value=n.conductor||"",document.getElementById(Z.PERSON2_INPUT).value=n.ajudant||"",Ei(n.firmaConductor||""),vi(n.firmaAjudant||""),w(`Dotaci\xF3n ${n.numero} cargada.`,"success"),this.closeDotacioModal()}async handleDeleteById(t){let n=this.savedDotacions.findIndex(i=>`${i.numero}-${i.conductor}-${i.ajudant}`.replace(/\s/g,"")===t);if(n===-1){console.warn("Se intent\xF3 eliminar una dotaci\xF3n que ya no existe:",t);return}let o={...this.savedDotacions[n],originalIndex:n};this.savedDotacions.splice(n,1),this.saveDotacionsToStorage(),to(),w("Dotaci\xF3n eliminada.","success",5e3,{queueable:!1,undoCallback:()=>{this.savedDotacions.splice(o.originalIndex,0,o),this.saveDotacionsToStorage(),Td(o),w("Dotaci\xF3n restaurada.","success")}})}handleOptionsClick(t){let r=t.target.closest(Kn.LOAD_BTN);if(r){t.stopPropagation();let o=parseInt(r.getAttribute(Sd.INDEX),10);isNaN(o)||this.loadDotacionByIndex(o)}}getDotacionInputValues(){let t=document.getElementById(Z.VEHICLE_INPUT),n=document.getElementById(Z.PERSON1_INPUT),r=document.getElementById(Z.PERSON2_INPUT);return{vehiculo:t?.value.trim()||"",conductor:n?.value.trim()||"",ayudante:r?.value.trim()||""}}findExistingDotacionIndex(t,n,r){let o=t.toLowerCase(),i=n.toLowerCase(),l=r.toLowerCase();return this.savedDotacions.findIndex(s=>s.numero.toLowerCase()===o&&s.conductor.toLowerCase()===i&&s.ajudant.toLowerCase()===l)}addDotacioFromMainForm(){if(!Rc())return;let{vehiculo:t,conductor:n,ayudante:r}=this.getDotacionInputValues(),o=Ti(),i=_i(),l=this.findExistingDotacionIndex(t,n,r),s={numero:t,conductor:n,ajudant:r,firmaConductor:o,firmaAjudant:i};l!==-1?(this.savedDotacions[l]=s,w(`Dotaci\xF3n ${t} actualizada.`,"success")):(this.savedDotacions.push(s),w(`Dotaci\xF3n ${t} creada.`,"success")),this.saveDotacionsToStorage()}clearDotacionInputErrors(){let t=document.getElementById(Z.VEHICLE_INPUT),n=document.getElementById(Z.PERSON1_INPUT),r=document.getElementById(Z.PERSON2_INPUT),o=n?.closest(Kn.PERSON_INPUT_GROUP),i=r?.closest(Kn.PERSON_INPUT_GROUP);t?.classList.remove(Ye.INPUT_ERROR),o?.classList.remove(Ye.INPUT_ERROR),i?.classList.remove(Ye.INPUT_ERROR)}},qn=new Cs;var k={MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_DELETE_BTN:"diet-delete",DIET_LOAD_BTN:"diet-load",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal"},Oe={DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",SIGNATURE_MODAL:"signature-modal",DOTACIO_MODAL:"dotacio-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal"},Ii={MODAL:".modal",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Ut={DIET_ID:"data-diet-id",DIET_DATE:"data-diet-date",DIET_TYPE:"data-diet-type"},bn=null,V=null,Fe=null,ws=null,Kh=null,qh=null,Qh=null,bh=null;var Qn=null,Zn=null,Jn=null,ce=null;function _d(e){if(!e||ce&&ce.id!==e.id&&e.id!==Oe.CONFIRM_MODAL)return;ce||(Qn=document.activeElement),ce=e,e.style.display="block",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",document.body.classList.add(k.MODAL_OPEN_BODY),Ld(),er(!1),document.body.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","auto"),e.addEventListener("touchstart",n=>{n.target===e&&(n.preventDefault(),n.stopPropagation())},{passive:!1}),Zn||(Zn=n=>{n.target===ce&&(ce.id===Oe.CONFIRM_MODAL?_handleConfirmNo():Ni())},document.addEventListener("click",Zn,!0)),Jn||(Jn=n=>{n.key==="Escape"&&ce&&(ce.id===Oe.CONFIRM_MODAL?_handleConfirmNo():Ni())},document.addEventListener("keydown",Jn,!0)),e.querySelector(Ii.FOCUSABLE_ELEMENTS)?.focus()}function Ni(){if(!ce)return;Zn&&(document.removeEventListener("click",Zn,!0),Zn=null),Jn&&(document.removeEventListener("keydown",Jn,!0),Jn=null),ce.style.display="none";let e=ce.id===Oe.CONFIRM_MODAL;ce=null;let t=document.querySelector('.modal[style*="display: block"]');t||(document.body.classList.remove(k.MODAL_OPEN_BODY),er(!0),Dd(),document.body.style.removeProperty("pointer-events")),!e&&Qn?(Qn.focus(),Qn=null):t||(Qn?.focus(),Qn=null)}function Zh(e){if(!e)return"";let t=new Date(e);if(isNaN(t.getTime()))return"";let n=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0");return`${n}:${r}`}function Id(e){let t=e.services&&e.services.length>0?e.services[0].serviceNumber:"?????????",{ddmmaa:n,franjaText:r}=ms(e.date,e.dietType),o=Zh(e.timeStampDiet),i=document.createElement("div");i.className=k.DIET_ITEM;let l=document.createElement("div");l.className="diet-item-content";let s=document.createElement("span");s.className=k.DIET_DATE;let a=n;o&&(a+=` [${o}]`),a+=` - ${qc(r)}`,s.textContent=a;let u=document.createElement("div");u.className=k.DIET_ICONS;let f=document.createElement("div");f.className="delete-reveal",f.innerHTML='<img src="assets/icons/delete.svg" alt="Eliminar" class="icon">';let m=document.createElement("button");m.className=`${k.LIST_ITEM_BTN} ${k.LIST_ITEM_BTN_LOAD} ${k.DIET_LOAD_BTN}`,m.setAttribute("aria-label",`Editar dieta ${n}`),m.innerHTML='<img src="assets/icons/ic_edit.svg" alt="" class="icon"><span class="btn-text visually-hidden">Editar</span>',m.setAttribute(Ut.DIET_ID,t),m.setAttribute(Ut.DIET_DATE,e.date),m.setAttribute(Ut.DIET_TYPE,e.dietType);let g=document.createElement("button");return g.className=`${k.LIST_ITEM_BTN} diet-download`,g.setAttribute("aria-label",`Descarregar PDF de la dieta ${n}`),g.innerHTML='<img src="assets/icons/download_blue.svg" alt="" class="icon"><span class="btn-text visually-hidden">PDF</span>',g.setAttribute(Ut.DIET_ID,t),u.appendChild(m),u.appendChild(g),l.appendChild(s),l.appendChild(u),i.appendChild(l),i.appendChild(f),i}async function Jh(e){let t=e.target,n=t.closest(`.${k.DIET_LOAD_BTN}`),r=t.closest(".diet-download");if(n){e.stopPropagation();let o=n.getAttribute(Ut.DIET_ID),i=n.getAttribute(Ut.DIET_DATE),l=n.getAttribute(Ut.DIET_TYPE);if(!o||!i||!l)return;let{ddmmaa:s,franjaText:a}=ms(i,l);try{await td(o)}catch(u){console.error("Error en carregar la dieta:",u)}}else if(r){e.stopPropagation();let o=r.getAttribute(Ut.DIET_ID);o&&vd(o)}}function nd(e){if(!V)return;let t=V.querySelector(`[data-diet-id="${e}"]`)?.closest(".diet-item");if(!t)return;let n=V.scrollHeight+"px";V.style.height=n,t.remove(),requestAnimationFrame(()=>{V.style.height=V.scrollHeight+"px"}),Ci()}function Nd(){ws=document.getElementById(Oe.CONFIRM_MODAL),ws&&(Kh=document.getElementById(Oe.CONFIRM_MESSAGE),qh=ws.querySelector(Oe.CONFIRM_TITLE),Qh=document.getElementById(Oe.CONFIRM_YES_BTN),bh=document.getElementById(Oe.CONFIRM_NO_BTN)),document.querySelectorAll(Ii.MODAL_TRIGGER).forEach(t=>{let n=t.getAttribute("href")?.substring(1);if(!n)return;let r=document.getElementById(n);r&&r.matches(Ii.MODAL)&&(t.addEventListener("click",i=>{i.preventDefault(),_d(r)}),r.querySelectorAll(Ii.MODAL_CLOSE_BTN).forEach(i=>{i.addEventListener("click",()=>Ni())}))})}function As(){if(!bn){bn=document.getElementById(Oe.DIET_MODAL),V=document.getElementById(Oe.DIET_OPTIONS_LIST),Fe=document.getElementById(Oe.NO_DIETS_TEXT);let e=document.getElementById("close-diet-modal");e&&e.addEventListener("click",ys),V&&V.addEventListener("click",Jh)}bn&&(_d(bn),hi())}function ys(){ce&&ce.id===Oe.DIET_MODAL&&Ni()}async function hi(){if(!(!V||!Fe)){V.innerHTML="";try{let e=await fi();e.length===0?(V.classList.add(k.HIDDEN),Fe.classList.remove(k.HIDDEN),Fe.textContent="No hay dietas guardadas."):(V.classList.remove(k.HIDDEN),Fe.classList.add(k.HIDDEN),e.sort((t,n)=>new Date(n.timeStampDiet)-new Date(t.timeStampDiet)),e.forEach((t,n)=>{let r=Id(t);r.setAttribute("data-index",n),V.appendChild(r),Cd(r,t.id,t.date,t.dietType)}))}catch{V.classList.add(k.HIDDEN),Fe.classList.remove(k.HIDDEN),Fe.textContent="Error al cargar las dietas."}}}function Ci(){console.log("Actualitzant visibilitat: children.length =",V.children.length),V.children.length===0?(V.classList.add(k.HIDDEN),Fe.classList.remove(k.HIDDEN),Fe.textContent="No hay dietas guardadas."):(V.classList.remove(k.HIDDEN),Fe.classList.add(k.HIDDEN))}function eE(e,t,n,r){let o=0,i=0,l=!1;e.addEventListener("mousedown",s=>{s.target.closest("button")||s.target.closest(".diet-icons")||(o=s.clientX,i=o,l=!1)}),document.addEventListener("mousemove",s=>{i=s.clientX;let a=o-i;a>10&&!l&&(l=!0,e.classList.add(k.DIET_ITEM_SWIPING)),l&&a>10&&(e.style.transform=`translateX(-${Math.min(a,80)}px)`,s.preventDefault())}),document.addEventListener("mouseup",async s=>{if(!l)return;l=!1;let a=o-i;e.classList.remove(k.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",a>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),Ci(),await Es(t,n,r)},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function Cd(e,t,n,r){let o=0,i=0,l=!1;e.addEventListener("touchstart",s=>{s.target.closest("button")||s.target.closest(".diet-icons")||(o=s.touches[0].clientX,i=o,l=!1,s.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",s=>{i=s.touches[0].clientX;let a=o-i;a>10&&!l&&(l=!0,e.classList.add(k.DIET_ITEM_SWIPING),bn.style.overflow="hidden"),l&&a>10&&(e.style.transform=`translateX(-${Math.min(a,80)}px)`,s.preventDefault(),s.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async s=>{if(!l)return;l=!1;let a=o-i;e.classList.remove(k.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",a>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),Ci(),await Es(t,n,r)},300)):(e.style.transform="translateX(0)",e.style.opacity="1",bn.style.overflow=""),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),s.stopPropagation()}),eE(e,t,n,r)}function Ls(e,t){let n=0,r=0,o=!1;e.addEventListener("mousedown",i=>{i.target.closest("button")||i.target.closest(".button-container")||(n=i.clientX,r=n,o=!1)}),document.addEventListener("mousemove",i=>{r=i.clientX;let l=n-r;l>10&&!o&&(o=!0,e.classList.add("swiping")),o&&l>10&&(e.style.transform=`translateX(-${Math.min(l,80)}px)`,i.preventDefault())}),document.addEventListener("mouseup",async i=>{if(!o)return;o=!1;let l=n-r;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",l>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await qn.handleDeleteById(t),e.remove(),to()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function Ds(e,t){let n=0,r=0,o=!1;e.addEventListener("touchstart",i=>{i.target.closest("button")||(n=i.touches[0].clientX,r=n,o=!1,i.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",i=>{r=i.touches[0].clientX;let l=n-r;l>10&&!o&&(o=!0,e.classList.add("swiping")),o&&l>10&&(e.style.transform=`translateX(-${Math.min(l,80)}px)`,i.preventDefault(),i.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async i=>{if(!o)return;o=!1;let l=n-r;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",l>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await qn.handleDeleteById(t),e.remove(),to()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),i.stopPropagation()})}function rd(e){if(!V||!Fe){hi();return}let t=e.index||0,n=Id(e);n.style.opacity="0",n.style.transform="translateX(-100%)";let r=V.children[t];r?V.insertBefore(n,r):V.appendChild(n),requestAnimationFrame(()=>{n.style.transition="opacity 0.5s ease, transform 0.5s ease",n.style.opacity="1",n.style.transform="translateX(0)",Cd(n,e.id,e.date,e.dietType)}),Ci(),V.classList.remove(k.HIDDEN),Fe.classList.add(k.HIDDEN)}function to(){let e=document.getElementById("dotacio-options"),t=document.getElementById("no-dotacio-text");e.children.length===0?(e.classList.add("hidden"),t.classList.remove("hidden"),t.innerHTML='No hay dotaciones, guarde antes: <img src="assets/icons/save_green.svg" alt="Guardar" class="save-icon" />'):(e.classList.remove("hidden"),t.classList.add("hidden"))}function tE(e,t){let n=document.getElementById("dotacio-template");if(!n)return null;let r=n.content.cloneNode(!0),o=r.firstElementChild,i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");o.setAttribute("data-dotacio-id",i);let l=r.querySelector(".dotacio-info"),s=r.querySelector(".dotacio-load");if(l){let a=[e.conductor,e.ajudant].filter(Boolean).join(" / ");l.textContent=a?`${e.numero} - ${a}`:e.numero}return s&&s.setAttribute("data-index",String(t)),o}function Td(e){let t=document.getElementById("dotacio-options");if(!t){qn.displayDotacioOptions();return}let n=e.originalIndex,r=tE(e,n);if(!r)return;r.style.opacity="0",r.style.transform="translateX(-100%)";let o=t.children[n];o?t.insertBefore(r,o):t.appendChild(r),requestAnimationFrame(()=>{r.style.transition="opacity 0.5s ease, transform 0.5s ease",r.style.opacity="1",r.style.transform="translateX(0)";let i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");Ds(r,i),Ls(r,i)}),to()}var ve={DADES:"dades",SERVEIS:"serveis"},yt={TAB_DADES:`tab-${ve.DADES}`,TAB_SERVEIS:`tab-${ve.SERVEIS}`,CONTENT_DADES:`${ve.DADES}-tab-content`,CONTENT_SERVEIS:`${ve.SERVEIS}-tab-content`,MAIN_CONTENT_AREA:"main-content"},tr={ACTIVE_TAB:"active",ERROR_TAB:"error-tab"},wd={MIN_DISTANCE:60,MAX_VERTICAL_RATIO:.5},nr=ve.DADES,Li=0,Os=0,Rs=!0,Ft=null,Sn=null;function Ad(){let e=document.getElementById(yt.TAB_DADES),t=document.getElementById(yt.TAB_SERVEIS);!e||!t||(e.addEventListener("click",()=>no(ve.DADES)),t.addEventListener("click",()=>no(ve.SERVEIS)),nE(),no(nr))}function er(e){Rs=!!e}function no(e){if(nr===e&&document.scrollingElement.scrollTop!==0){window.scrollTo({top:0,behavior:"smooth"});return}if(nr===e||e!==ve.DADES&&e!==ve.SERVEIS)return;window.scrollTo({top:0,behavior:"auto"}),nr=e;let t=document.getElementById(yt.TAB_DADES),n=document.getElementById(yt.TAB_SERVEIS),r=document.getElementById(yt.CONTENT_DADES),o=document.getElementById(yt.CONTENT_SERVEIS);if(!t||!n||!r||!o)return;t.classList.remove(tr.ERROR_TAB),n.classList.remove(tr.ERROR_TAB);let i=e===ve.DADES;t.classList.toggle(tr.ACTIVE_TAB,i),n.classList.toggle(tr.ACTIVE_TAB,!i),r.classList.toggle(tr.ACTIVE_TAB,i),o.classList.toggle(tr.ACTIVE_TAB,!i),t.setAttribute("aria-selected",i?"true":"false"),n.setAttribute("aria-selected",i?"false":"true"),e===ve.SERVEIS&&typeof is=="function"&&is()}function nE(){let e=document.getElementById(yt.MAIN_CONTENT_AREA);e&&(Ft=Od,Sn=Rd,e.addEventListener("touchstart",Ft,{passive:!0}),e.addEventListener("touchend",Sn,{passive:!0}))}function Ld(){let e=document.getElementById(yt.MAIN_CONTENT_AREA);!e||!Ft||!Sn||(e.removeEventListener("touchstart",Ft,{passive:!0}),e.removeEventListener("touchend",Sn,{passive:!0}),Ft=null,Sn=null)}function Dd(){let e=document.getElementById(yt.MAIN_CONTENT_AREA);e&&(Ft||(Ft=Od,Sn=Rd,e.addEventListener("touchstart",Ft,{passive:!0}),e.addEventListener("touchend",Sn,{passive:!0})))}function Od(e){if(!Rs||ce)return;let t=e.touches[0];Li=t.clientX,Os=t.clientY}function Rd(e){if(!Rs||Li===0||!e.changedTouches||e.changedTouches.length===0)return;let t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY,r=t-Li,o=n-Os;Li=0,Os=0,!(Math.abs(o)>Math.abs(r)*wd.MAX_VERTICAL_RATIO)&&Math.abs(r)>wd.MIN_DISTANCE&&(r>0?nr===ve.SERVEIS&&no(ve.DADES):nr===ve.DADES&&no(ve.SERVEIS))}var zt={MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title"},Ps={MODAL_OPEN:"modal-open",SIGNED:"signed"},Vt={LINE_WIDTH:2,LINE_CAP:"round",STROKE_STYLE:"#000000",IMAGE_FORMAT:"image/png",DOUBLE_CLICK_TIMEOUT:300,DOUBLE_TAP_TIMEOUT:300,DOUBLE_TAP_MAX_DIST:20},Pd={SIGNATURE_PENDING:"assets/icons/signature.svg",SIGNATURE_OK:"assets/icons/signature_ok.svg"},xd={PERSON1:"Firma del conductor",PERSON2:"Firma del ayudante"},xs=class{constructor(){this.signatureConductor="",this.signatureAjudant="",this.currentSignatureTarget=null,this.isDrawing=!1,this.canvasContext=null,this.signatureCanvasElement=null,this.signatureModalElement=null,this.signPerson1Button=null,this.signPerson2Button=null,this.hasUserDrawn=!1,this.lastTouchTime=0,this.lastTouchX=0,this.lastTouchY=0,this.clickCount=0,this.clickTimer=null}init(){this.signatureModalElement=document.getElementById(zt.MODAL),this.signatureCanvasElement=document.getElementById(zt.CANVAS);let t=document.getElementById(zt.CANCEL_BTN),n=document.getElementById(zt.ACCEPT_BTN);this.signPerson1Button=document.getElementById(zt.SIGN_PERSON1_BTN),this.signPerson2Button=document.getElementById(zt.SIGN_PERSON2_BTN),!(!this.signatureModalElement||!this.signatureCanvasElement||!t||!n||!this.signPerson1Button||!this.signPerson2Button)&&(this.resizeCanvas(),this.initCanvasEvents(),t.addEventListener("click",this.closeSignatureModal.bind(this)),n.addEventListener("click",this.acceptSignature.bind(this)),this.signPerson1Button.addEventListener("click",()=>this.openSignatureModal("person1")),this.signPerson2Button.addEventListener("click",()=>this.openSignatureModal("person2")),this.signatureModalElement.addEventListener("click",r=>{r.target===this.signatureModalElement&&this.closeSignatureModal()}),window.addEventListener("resize",this.debounce(this.resizeCanvas.bind(this),150)),document.addEventListener("keydown",r=>{r.key==="Escape"&&this.signatureModalElement.style.display==="block"&&this.closeSignatureModal()}),this.updateSignatureIcons())}debounce(t,n){let r;return(...o)=>{clearTimeout(r),r=setTimeout(()=>t.apply(this,o),n)}}resizeCanvas(){if(!this.signatureCanvasElement||!this.signatureCanvasElement.parentElement)return;let t=this.signatureCanvasElement.parentElement;this.canvasContext||(this.canvasContext=this.signatureCanvasElement.getContext("2d",{willReadFrequently:!0})),this.canvasContext&&(this.signatureCanvasElement.width=t.offsetWidth,this.signatureCanvasElement.height=t.offsetHeight,this.canvasContext.lineWidth=Vt.LINE_WIDTH,this.canvasContext.lineCap=Vt.LINE_CAP,this.canvasContext.strokeStyle=Vt.STROKE_STYLE)}clearCanvas(){!this.canvasContext||!this.signatureCanvasElement||(this.canvasContext.clearRect(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),this.hasUserDrawn=!1)}getEventCoordinates(t){if(!this.signatureCanvasElement)return{x:0,y:0};let n=this.signatureCanvasElement.getBoundingClientRect(),r,o;return t.touches&&t.touches.length>0?(r=t.touches[0].clientX,o=t.touches[0].clientY):(r=t.clientX,o=t.clientY),{x:r-n.left,y:o-n.top}}startDrawing(t){if(!this.canvasContext)return;this.isDrawing=!0,this.hasUserDrawn=!0,this.canvasContext.beginPath();let{x:n,y:r}=this.getEventCoordinates(t);this.canvasContext.moveTo(n,r)}draw(t){if(!this.isDrawing||!this.canvasContext)return;t.preventDefault();let{x:n,y:r}=this.getEventCoordinates(t);this.canvasContext.lineTo(n,r),this.canvasContext.stroke()}stopDrawing(){!this.isDrawing||!this.canvasContext||(this.isDrawing=!1)}handleCanvasClick(t){this.clickCount++,this.clickCount===1?this.clickTimer=setTimeout(()=>this.clickCount=0,Vt.DOUBLE_CLICK_TIMEOUT):this.clickCount===2&&(clearTimeout(this.clickTimer),this.clickCount=0,t.preventDefault(),this.clearCanvas())}handleCanvasTouchEnd(t){if(t.touches.length>0)return;let n=Date.now(),r=t.changedTouches[0];if(!r)return;let{x:o,y:i}=this.getEventCoordinates({clientX:r.clientX,clientY:r.clientY}),l=n-this.lastTouchTime,s=Math.abs(o-this.lastTouchX),a=Math.abs(i-this.lastTouchY);l<Vt.DOUBLE_TAP_TIMEOUT&&s<Vt.DOUBLE_TAP_MAX_DIST&&a<Vt.DOUBLE_TAP_MAX_DIST?(t.preventDefault(),this.clearCanvas(),this.lastTouchTime=0):(this.lastTouchTime=n,this.lastTouchX=o,this.lastTouchY=i)}initCanvasEvents(){this.signatureCanvasElement&&(this.signatureCanvasElement.addEventListener("mousedown",this.startDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mousemove",this.draw.bind(this)),this.signatureCanvasElement.addEventListener("mouseup",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mouseout",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("click",this.handleCanvasClick.bind(this)),this.signatureCanvasElement.addEventListener("touchstart",this.startDrawing.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchmove",this.draw.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchend",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchcancel",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchend",this.handleCanvasTouchEnd.bind(this),{passive:!1}))}openSignatureModal(t){if(!this.signatureModalElement||!this.canvasContext)return;er(!1),this.currentSignatureTarget=t;let n=document.getElementById(zt.TITLE);n&&(n.textContent=t==="person1"?xd.PERSON1:xd.PERSON2),this.signatureModalElement.style.display="block",document.body.classList.add(Ps.MODAL_OPEN),this.resizeCanvas(),this.clearCanvas();let r=t==="person1"?this.signatureConductor:this.signatureAjudant;r&&this.drawSignatureFromDataUrl(r),document.getElementById(zt.ACCEPT_BTN)?.focus()}closeSignatureModal(){this.signatureModalElement&&(er(!0),this.signatureModalElement.style.display="none",document.body.classList.remove(Ps.MODAL_OPEN),this.currentSignatureTarget=null,(this.currentSignatureTarget==="person1"?this.signPerson1Button:this.signPerson2Button)?.focus())}isCanvasEmpty(){if(!this.canvasContext||!this.signatureCanvasElement)return!0;try{return!new Uint32Array(this.canvasContext.getImageData(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height).data.buffer).some(n=>n!==0)}catch{return!1}}acceptSignature(){if(!this.canvasContext||!this.signatureCanvasElement||!this.currentSignatureTarget)return;let t=this.isCanvasEmpty(),n=t?"":this.signatureCanvasElement.toDataURL(Vt.IMAGE_FORMAT),r=null;this.currentSignatureTarget==="person1"?(this.signatureConductor=n,r=this.signPerson1Button):this.currentSignatureTarget==="person2"&&(this.signatureAjudant=n,r=this.signPerson2Button),this.updateSignatureUI(r,!t),this.closeSignatureModal(),gt()}drawSignatureFromDataUrl(t){if(!this.canvasContext||!t)return;let n=new Image;n.onload=()=>this.canvasContext.drawImage(n,0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),n.onerror=()=>{},n.src=t}updateSignatureUI(t,n){if(!t)return;let r=t.querySelector(".icon");r&&(t.classList.toggle(Ps.SIGNED,n),r.src=n?Pd.SIGNATURE_OK:Pd.SIGNATURE_PENDING)}updateSignatureIcons(){this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor),this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}getSignatureConductor(){return this.signatureConductor}getSignatureAjudant(){return this.signatureAjudant}setSignatureConductor(t){this.signatureConductor=t||"",this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor)}setSignatureAjudant(t){this.signatureAjudant=t||"",this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}},ro=new xs,kd=()=>ro.init(),Ti=()=>ro.getSignatureConductor(),_i=()=>ro.getSignatureAjudant(),Ei=e=>ro.setSignatureConductor(e),vi=e=>ro.setSignatureAjudant(e);var rE=".service",Md="main-content",Ke={DATE:"date",DIET_TYPE:"diet-type",VEHICLE:"vehicle-number",P1:"person1",P2:"person2",SERVICE_TYPE:"service-type",SAVE_BTN:"save-diet"},oE="userSelectedServiceType",iE={serviceNumber:".service-number",origin:".origin",originTime:".origin-time",destination:".destination",destinationTime:".destination-time",endTime:".end-time"},lE="chip-active",sE=800,aE=1e3,uE=300,ks=class{constructor(){this.initialFormDataStr="",this.saveStart=0,this.debouncedAutoSave=Jr(this.triggerAutoSave.bind(this),aE),this.debouncedHandler=Jr(this.handleInputChange.bind(this),sE)}isFormReadyForSave(){try{let t=!!document.getElementById(Ke.DATE)?.value.trim(),n=!!document.getElementById(Ke.DIET_TYPE)?.value.trim(),r=document.getElementById("service-number-1")?.value.trim(),o=/^\d{9}$/.test(r);return t&&n&&o}catch(t){return console.warn("[FormService] Error validant formulari:",t),!1}}hasPendingChanges(){return JSON.stringify(this.getFormDataObject()||{})!==this.initialFormDataStr}getFormDataObject(){try{let t={date:b(document.getElementById(Ke.DATE)?.value),dietType:b(document.getElementById(Ke.DIET_TYPE)?.value||ps()),vehicleNumber:b(document.getElementById(Ke.VEHICLE)?.value),person1:b(document.getElementById(Ke.P1)?.value),person2:b(document.getElementById(Ke.P2)?.value),serviceType:b(document.getElementById(Ke.SERVICE_TYPE)?.value||"TSU"),signatureConductor:Ti(),signatureAjudant:_i()},n=Array.from(document.querySelectorAll(rE)).map((r,o)=>{let i={};for(let[s,a]of Object.entries(iE))i[s]=b(r.querySelector(a)?.value);let l=r.querySelector(`.chip.${lE}`);return i.mode=l?.dataset.mode||"3.6",i.notes=mt[o]||"",i});return{generalData:t,servicesData:n}}catch(t){return console.error("[FormService] Error recollint dades:",t),null}}async triggerAutoSave(){if(!(!this.isFormReadyForSave()||!this.hasPendingChanges()))try{this.saveStart=Date.now(),pi(),await gi();let t=Date.now()-this.saveStart;setTimeout(mi,Math.max(0,uE-t)),this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{})}catch(t){console.warn("[Autosave skipped]",t?.message||"Error desconegut"),Zr("Revisa dades de Serveis")}}captureInitialFormState(){this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{}),this.handleFormChange()}setSaveButtonState(t){let n=document.getElementById(Ke.SAVE_BTN);n&&(n.disabled=!t,n.setAttribute("aria-disabled",t?"false":"true"),n.classList.toggle("is-disabled",!t))}handleFormChange(){if(this.debouncedAutoSave.cancel(),!this.hasPendingChanges()){this.setSaveButtonState(!1),jn();return}this.isFormReadyForSave()?(this.setSaveButtonState(!0),this.debouncedAutoSave()):(this.setSaveButtonState(!1),jn())}handleInputChange(){this.handleFormChange()}addInputListeners(){let t=document.getElementById(Md);if(!t)return;t.addEventListener("input",this.debouncedHandler),t.addEventListener("change",this.debouncedHandler),t.addEventListener("blur",r=>{r.target.matches("input, select, textarea")&&(this.handleFormChange(),this.isFormReadyForSave()&&this.hasPendingChanges()&&(this.debouncedAutoSave.cancel(),this.triggerAutoSave()))},!0);let n=document.getElementById(Ke.DATE);n?.addEventListener("change",()=>{n.blur(),this.debouncedHandler()}),window.addEventListener("beforeunload",()=>{this.debouncedAutoSave.cancel(),this.isFormReadyForSave()&&gi()})}addServiceTypeListener(){let t=document.getElementById(Ke.SERVICE_TYPE);t&&t.addEventListener("change",n=>{let r=n.target.value.trim();Hn(r);try{localStorage.setItem(oE,r)}catch(o){console.error("No s\u2019ha pogut desar tipus servei",o)}})}cancelPendingAutoSave(){this.debouncedAutoSave.cancel()}addDoneBehavior(){document.getElementById(Md)?.addEventListener("keydown",n=>{n.key==="Enter"&&n.target.matches('input[enterkeyhint="done"]')&&(n.preventDefault(),n.target.blur())})}gatherAllData(){return this.getFormDataObject()}getInitialFormDataStr(){return this.initialFormDataStr}},Ht=new ks,hn=()=>Ht.captureInitialFormState(),hs=e=>Ht.setSaveButtonState(e),gt=()=>Ht.handleFormChange(),Bd=()=>Ht.addInputListeners(),Ud=()=>Ht.addServiceTypeListener(),od=()=>Ht.cancelPendingAutoSave(),Fd=()=>Ht.addDoneBehavior(),yi=()=>Ht.gatherAllData();var zd="onboardingCompleted";function Vd(){let e=document.getElementById("onboarding-container");if(!e)return;if(!JSON.parse(localStorage.getItem(zd)||"false"))e.classList.remove("hidden");else return;window.addEventListener("load",()=>{e.classList.add("onboarding-loaded")});let n=document.querySelectorAll(".onboarding-slide"),r=document.querySelectorAll(".nav-dot"),o=document.getElementById("onboarding-finish-btn"),i=document.getElementById("onboarding-skip-btn"),l=0;function s(m){n.forEach((g,v)=>{g.classList.toggle("active",v===m)}),r.forEach((g,v)=>{g.classList.toggle("active",v===m)})}function a(){l<n.length-1&&(l++,s(l),navigator.vibrate&&navigator.vibrate(10))}function u(){e.classList.add("hidden"),localStorage.setItem(zd,JSON.stringify(!0)),navigator.vibrate&&navigator.vibrate([50,50,50])}e.addEventListener("click",m=>{m.target.closest("button, a, .nav-dot")||a()});let f=0;e.addEventListener("touchstart",m=>{f=m.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",m=>{m.changedTouches[0].screenX<f-50&&a()}),o.addEventListener("click",u),i.addEventListener("click",u)}var Ms={TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text"},Hd={DARK_THEME:"theme-dark"},Bs="themePreference",ze={LIGHT:"light",DARK:"dark"},Gd={LIGHT:"assets/icons/moon.svg",DARK:"assets/icons/sun.svg"},jd={LIGHT:"#004aad",DARK:"#343a40"},Us=class{constructor(){this.themeToggleButton=null,this.themeIconElement=null,this.themeTextElement=null,this.bodyElement=null,this.systemDarkMatcher=null}init(){if(this.themeToggleButton=document.getElementById(Ms.TOGGLE_BTN),this.themeIconElement=document.getElementById(Ms.THEME_ICON),this.themeTextElement=document.getElementById(Ms.THEME_TEXT),this.bodyElement=document.body,!this.themeToggleButton||!this.themeIconElement||!this.themeTextElement||!this.bodyElement){console.warn("Faltan elementos del DOM para el gestor de temas.");return}let t,n=localStorage.getItem(Bs);n&&(n===ze.LIGHT||n===ze.DARK)?t=n:(this.systemDarkMatcher=window.matchMedia("(prefers-color-scheme: dark)"),t=this.systemDarkMatcher.matches?ze.DARK:ze.LIGHT,this.systemDarkMatcher.addEventListener("change",this._handleSystemThemeChange.bind(this))),this._applyTheme(t,!1),this.themeToggleButton.addEventListener("click",this._handleThemeToggle.bind(this))}_updateThemeColorMeta(t){let n=document.querySelector('meta[name="theme-color"]');n&&(n.content=t)}_applyTheme(t,n=!1){let r=t===ze.DARK;this.bodyElement.classList.toggle(Hd.DARK_THEME,r),this.themeIconElement.src=r?Gd.DARK:Gd.LIGHT,this.themeTextElement.textContent=r?"Claro":"Oscuro",this.themeIconElement.alt=r?"Cambiar a tema claro":"Cambiar a tema oscuro",this._updateThemeColorMeta(r?jd.DARK:jd.LIGHT),n&&localStorage.setItem(Bs,t)}_handleThemeToggle(){let n=(this.bodyElement.classList.contains(Hd.DARK_THEME)?ze.DARK:ze.LIGHT)===ze.DARK?ze.LIGHT:ze.DARK;this._applyTheme(n,!0)}_handleSystemThemeChange(t){if(!localStorage.getItem(Bs)){let n=t.matches?ze.DARK:ze.LIGHT;this._applyTheme(n,!1)}}},dE=new Us,$d=()=>dE.init();var Fs={GENERATE_PDF:".generate-pdf",SAVE_DIET:"#save-diet",MANAGE_DIETS:"#manage-diets"};function Wd(){let e=document.querySelector(Fs.GENERATE_PDF);e&&e.addEventListener("click",Ed);let t=document.getElementById(Fs.SAVE_DIET.substring(1));t&&t.addEventListener("click",ed);let n=document.getElementById(Fs.MANAGE_DIETS.substring(1));n&&typeof As=="function"&&n.addEventListener("click",As)}var Xd="clear-selected-service",fE=".service";function Yd(){let e=document.getElementById(Xd);if(!e){console.warn(`Clear Service: Bot\xF3 amb ID '${Xd}' no trobat.`);return}e.addEventListener("click",()=>{let t=pn(),n=document.querySelectorAll(fE);if(t>=0&&t<n.length){let r=n[t],o=r.querySelectorAll('input:not([type="button"]):not([type="submit"]), select, textarea');o.forEach(i=>{i.value!==""&&i.classList.add("field-clearing")}),setTimeout(()=>{Uc(r),Kr(r),gt(),o.forEach(i=>{i.classList.remove("field-clearing")}),console.log(`Servei ${t+1} netejat amb efecte visual.`)},600)}else console.warn(`Clear Service: \xCDndex de servei inv\xE0lid (${t}) o element no trobat.`)}),console.log("Funcionalitat 'Netejar Servei Seleccionat' configurada.")}function Kd(){document.querySelectorAll('input[type="date"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}function qd(){document.querySelectorAll('input[type="time"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}var Qd=Jr(w,Nc.DEBOUNCE_TOAST);function pE(e){return/^\d*$/.test(e)}function bd(){let e=document.querySelectorAll(Un.SERVICE_NUMBER_INPUT);if(!e.length){console.warn("Restrictions: No se han encontrado inputs '.service-number'.");return}e.forEach(t=>{t.dataset.restrictionsSetup!=="true"&&(t.dataset.restrictionsSetup="true",t.addEventListener("keypress",n=>{n.key==="Enter"||n.key==="Tab"||n.ctrlKey||n.metaKey||n.altKey||n.key.length>1||/\d/.test(n.key)||(n.preventDefault(),Qd(ts.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}),t.addEventListener("paste",n=>{try{let r=(n.clipboardData||window.clipboardData)?.getData("text")||"";pE(r)||(n.preventDefault(),Qd(ts.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}catch(r){console.error("Error procesando 'paste':",r),n.preventDefault()}}))})}var Zd={SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel"},rr={PANEL_VISIBLE:"visible",BUTTON_OPEN:"open"},St=null,Tt=null,Jd=!1;function mE(e){e.stopPropagation();let t=Tt.classList.toggle(rr.PANEL_VISIBLE);St.classList.toggle(rr.BUTTON_OPEN,t),St.setAttribute("aria-expanded",t),t&&Tt.querySelector("button")?.focus()}function gE(e){Tt.classList.contains(rr.PANEL_VISIBLE)&&!Tt.contains(e.target)&&!St.contains(e.target)&&zs()}function hE(e){e.key==="Escape"&&Tt.classList.contains(rr.PANEL_VISIBLE)&&(zs(),St.focus())}function zs(){Tt.classList.remove(rr.PANEL_VISIBLE),St.classList.remove(rr.BUTTON_OPEN),St.setAttribute("aria-expanded","false")}function ef(){Jd||(St=document.getElementById(Zd.SETTINGS_BTN),Tt=document.getElementById(Zd.SETTINGS_PANEL),!(!St||!Tt)&&(St.addEventListener("click",mE),document.addEventListener("click",gE),document.addEventListener("keydown",hE),Tt.querySelectorAll("button").forEach(e=>{e.addEventListener("click",zs)}),Jd=!0))}var EE={SERVICE_BUTTONS:".service-button:not(.active-square)",OPTIONS_BTN:"#options-toggle",TABS:".tab:not(.active)"},vE="disabled-control";function Vs(e=!0){document.querySelectorAll(Object.values(EE).join(", ")).forEach(n=>{n&&(n.classList.toggle(vE,e),n.setAttribute("aria-disabled",e?"true":"false"),n.disabled=e)})}var Mg=Hr(io()),Bg=Hr(lc());var Q=Hr(io());function sc({imageUrl:e=null,isProcessing:t=!1,progress:n=0,status:r="idle",statusText:o="Reconociendo texto",onClose:i=null}){let l=(0,Q.useRef)(null),[s,a]=(0,Q.useState)(0),[u,f]=(0,Q.useState)("");if((0,Q.useEffect)(()=>{let S=setTimeout(()=>{a(n)},50);return()=>clearTimeout(S)},[n]),(0,Q.useEffect)(()=>{if(r!=="processing"){f("");return}f(".");let S=setInterval(()=>{f(T=>T.length>=3?".":`${T}.`)},500);return()=>clearInterval(S)},[r]),!(!!e||t||r&&r!=="idle"))return null;let g=o?.replace(/\s+\d{1,3}%/,"").replace(/\.{2,}$/,"").trim()||"Reconociendo texto",v=r==="processing"?`${g}${u}`:o;return Q.default.createElement("div",{className:"ocr-feedback-overlay",role:"dialog","aria-live":"polite","aria-atomic":"false","aria-label":"OCR en progreso"},Q.default.createElement("div",{className:"ocr-feedback-container",ref:l},e&&Q.default.createElement("div",{className:"ocr-image-preview fade-in"},Q.default.createElement("img",{src:e,alt:"Imagen capturada para OCR",className:"ocr-captured-image",loading:"eager"})),(t||r==="done"||r==="error"||r==="warning")&&Q.default.createElement("div",{className:"ocr-progress-section fade-in"},Q.default.createElement("div",{className:"ocr-progress-bar-container"},Q.default.createElement("div",{className:"ocr-progress-bar-track"},Q.default.createElement("div",{className:"ocr-progress-bar-fill",style:{width:`${s}%`},role:"progressbar","aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":"100"},Q.default.createElement("div",{className:"ocr-progress-shine"}))),Q.default.createElement("span",{className:"ocr-progress-percentage"},Math.round(s),"%")),Q.default.createElement("div",{className:`ocr-status-line ${r}`},v?.split(`
`).map((S,T)=>Q.default.createElement("div",{key:T},S))||""))))}var Jo="Reconociendo texto",ac={done:"\u2713 Texto reconocido correctamente",warning:"Revisa la informaci\xF3n detectada",error:"Error al escanear"},Zo=(e,t=Jo)=>e&&e.replace(/\d{1,3}%/g,"").replace(/\.\.+$/g,"").split(`
`).map(i=>i.replace(/\s+/g," ").trim()).join(`
`)||t;function uc(e="ocr-feedback-root"){let t=document.getElementById(e);t||(t=document.createElement("div"),t.id=e,document.body.appendChild(t));let n=null,r={imageUrl:null,isProcessing:!1,progress:0,status:"idle",statusText:Jo},o=()=>{n||(n=Bg.default.createRoot(t)),n.render(Mg.default.createElement(sc,{imageUrl:r.imageUrl,isProcessing:r.isProcessing,progress:r.progress,status:r.status,statusText:r.statusText,onClose:()=>i.reset()}))},i={start(l){r.imageUrl&&r.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(r.imageUrl),l instanceof File||l instanceof Blob?r.imageUrl=URL.createObjectURL(l):typeof l=="string"&&(r.imageUrl=l),r.isProcessing=!0,r.progress=0,r.status="processing",r.statusText=Jo,o()},update(l,s=null,a="info"){r.progress=Math.min(100,Math.max(0,l));let u=s!==null?Zo(s):null;a==="error"?(r.status="error",r.statusText=u||"Error al escanear",r.isProcessing=!1):a==="warning"?(r.status="warning",r.statusText=u||r.statusText,r.isProcessing=!0):(r.status="processing",u?r.statusText=u:r.statusText||(r.statusText=Jo),r.isProcessing=!0),o()},addMessage(l,s="info"){if(s==="error"){i.error(l);return}if(s==="success"){i.complete(l||ac.done,"done");return}r.status=s==="warning"?"warning":"processing",r.statusText=Zo(l),r.isProcessing=!0,o()},complete(l=null,s="done"){r.progress=100;let a=["done","warning","error"].includes(s)?s:"done";r.status=a;let u=ac[a]||ac.done;r.statusText=Zo(l,u),r.isProcessing=!1,o(),setTimeout(()=>{i.reset()},2500)},error(l="Error en el proc\xE9s"){r.status="error",r.statusText=Zo(l,"Error al escanear"),r.isProcessing=!1,o()},warning(l){r.status="warning",r.statusText=Zo(l,"Revisa la informaci\xF3"),r.isProcessing=!0,o()},reset(){r.imageUrl&&r.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(r.imageUrl),r={imageUrl:null,isProcessing:!1,progress:0,status:"idle",statusText:Jo},o()},getState(){return{...r}},isProcessing(){return r.isProcessing}};return i}var kr=null;function ei(){return kr||(kr=uc()),kr}function Ug(){kr&&(kr.reset(),kr=null)}var By="spa",Uy=1,Fy="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ:/-\xC0\xC9\xCD\xD3\xDA\xC8\xD2\xC0\xDC\xCF\xC7\xD1",cc=1500,jg=.95,$g="image/png",Fg=10,zy=300;var Vy={load_system_dawg:"0",load_freq_dawg:"0"},Hy={tessedit_char_whitelist:Fy,tessedit_pageseg_mode:6},Mr={CAMERA_BTN:"camera-in-dropdown",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline"},cn={VISIBLE:"visible",HIDDEN:"hidden",SERVICE_COLORS:["service-1","service-2","service-3","service-4"]},Gy={ORIGIN_TIME:{id:"originTime",label:"Hora movilizaci\xF3n",fieldIdSuffix:"origin-time",lineKeywordRegex:/movilizaci|ltat|desplaza/i},DESTINATION_TIME:{id:"destinationTime",label:"Hora de llegada hospital",fieldIdSuffix:"destination-time",lineKeywordRegex:/arribada|hospital|aaah/i},END_TIME:{id:"endTime",label:"Hora Final",fieldIdSuffix:"end-time",valueRegex:/\d{2}\s*\/?\s*\d{2}\s*\/?\s*\d{2}\s+(\d{1,2}:\d{2}(?::\d{2})?)/i}},ot=null,ti=null,ql=null,dc=null,Ie=null,fc=!1,zg=!1,Vg=!1,Hg=0,dt=null,Br=0;function jy(e){if(!e)return"";let t=e.replace(/[^\d:\-]/g,"");t=t.replace(/-/g,":");let n=t.match(/^(\d{1,2}):(\d{2})(?::\d{2})?$/);if(n){let r=parseInt(n[1],10),o=parseInt(n[2],10);if(r>=0&&r<=23&&o>=0&&o<=59)return`${String(r).padStart(2,"0")}:${String(o).padStart(2,"0")}`}return""}function $y(){if(Date.now()-Hg<500||(Hg=Date.now(),!ot||!ti))return;document.body.classList.add("modal-open");let e=pn(),t=cn.SERVICE_COLORS[e]||"";ti.classList.remove(...cn.SERVICE_COLORS),t&&ti.classList.add(t),ot.classList.remove(cn.HIDDEN),requestAnimationFrame(()=>ot.classList.add(cn.VISIBLE)),ql?.focus()}function Ql(){ot&&(document.body.classList.remove("modal-open"),ot.classList.remove(cn.VISIBLE),setTimeout(()=>ot.classList.add(cn.HIDDEN),zy))}function Wy(e){ot?.classList.contains(cn.VISIBLE)&&!ti?.contains(e.target)&&Ql()}function Xy(){Ie&&(Ie.setAttribute("capture","environment"),Ie.click(),Ql())}function Yy(){Ie&&(Ie.removeAttribute("capture"),Ie.click(),Ql())}function pc(e){let t=Object.entries(e).filter(([o,i])=>!i.skip),n=t.filter(([o,i])=>i.detected).length,r=t.length;return`${n}/${r} campos detectados`}function rt(e,t){dt||(dt=ei()),e>Br&&(Br=e);let n=Br>=100?t||"Texto reconocido correctamente":"Reconociendo texto...";dt.update(Br,n)}function Ky(){Br=0}async function qy(e){try{let t=await createImageBitmap(e),{width:n,height:r}=t;if(Math.max(n,r)<=cc)return t.close(),e;let o=Math.min(cc/n,cc/r),i=Math.round(n*o),l=Math.round(r*o),s=document.createElement("canvas");s.width=i,s.height=l;let a=s.getContext("2d");if(!a)throw new Error("No contexto 2D.");return a.drawImage(t,0,0,i,l),t.close(),new Promise(u=>s.toBlob(u,$g,jg))}catch(t){throw w("Error al procesar la imagen.","error"),t}}async function Qy(e){try{let t=await createImageBitmap(e),n=document.createElement("canvas");n.width=t.width,n.height=t.height;let r=n.getContext("2d");if(!r)throw new Error("No contexto 2D.");try{r.drawImage(t,0,0,t.width,t.height)}catch(o){throw o.message&&o.message.includes("detached")?new Error("Error al procesar la imagen. Int\xE9ntalo de nuevo."):o}t.close(),r.filter="grayscale(100%) contrast(180%) brightness(110%)";try{r.drawImage(n,0,0)}catch(o){console.warn("OCR: Fallback sense filtres:",o)}return new Promise(o=>n.toBlob(o,$g,jg))}catch(t){throw t.message.includes("procesar la imagen")?w(t.message,"error"):t.message.includes("detached")?w("La imagen no se puede procesar. Int\xE9ntalo con otra foto.","error"):w("Error al procesar la imagen. Int\xE9ntalo de nuevo.","error"),t}}function Gg(e,t,n){let r=document.getElementById(e);if(r){r.value=t;let o=new Event("input",{bubbles:!0,cancelable:!0});r.dispatchEvent(o)}}function by(e,t=null){if(!e||!e.trim())return w("No se reconoci\xF3 texto.","warning"),!1;let n=pn(),r=Bc(n)||"3.6",o=`-${n+1}`,i={},l={originTime:{label:"Hora activaci\xF3n",detected:!1},destinationTime:{label:"Hora destino",detected:!1,skip:r==="3.11"||r==="3.22"},endTime:{label:"Hora final",detected:!1}};t&&t(l);let s=e.split(`
`),a=e.toLowerCase().replace(/ +/g," ");if(Object.values(Gy).forEach(f=>{if((r==="3.11"||r==="3.22")&&f.id==="destinationTime")return;let m=null;if(f.lineKeywordRegex){for(let g of s)if(f.lineKeywordRegex.test(g.toLowerCase())){let v=g.replace(/\D/g,"");if(v.length>=6){let S=v.slice(-6);m=[null,`${S.slice(0,2)}:${S.slice(2,4)}:${S.slice(4,6)}`];break}}}else f.valueRegex&&(m=a.match(f.valueRegex));if(m&&m[1]){let g=jy(m[1].trim());if(g&&!i[f.id]){let v=`${f.fieldIdSuffix}${o}`;Gg(v,g,f.label),i[f.id]=f,l[f.id]&&(l[f.id].detected=!0,t&&t(l))}}}),!i.endTime&&(i.originTime||i.destinationTime)){let f=new Date,m=String(f.getHours()).padStart(2,"0"),g=String(f.getMinutes()).padStart(2,"0"),v=`${m}:${g}`,S=`end-time${o}`;Gg(S,v,"Hora Final (Actual)");let T=document.getElementById(S);T&&(T.classList.add("input-warning"),T.addEventListener("focus",()=>T.classList.remove("input-warning"),{once:!0}))}let u=Object.keys(i).length;return{hasData:u>0,count:u,fields:i,allFieldsStatus:l}}function Wg(){if(zg||(ot=document.getElementById(Mr.CAMERA_MODAL),ti=ot?.querySelector(Mr.MODAL_CONTENT),ql=document.getElementById(Mr.OPTION_CAMERA),dc=document.getElementById(Mr.OPTION_GALLERY),Ie=document.getElementById(Mr.CAMERA_INPUT),!ot||!ql||!dc||!Ie))return;document.querySelectorAll(Mr.OCR_SCAN_BTN).forEach(t=>t.addEventListener("click",$y)),ql.addEventListener("click",Xy),dc.addEventListener("click",Yy),Ie.addEventListener("change",Jy),document.addEventListener("click",Wy),document.addEventListener("keydown",t=>{t.key==="Escape"&&ot?.classList.contains(cn.VISIBLE)&&Ql()}),zg=!0}function Zy(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}async function Jy(e){if(fc){w("Proceso OCR ya en marcha.","warning");return}let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/")){w("Selecciona una imagen.","error"),Ie&&(Ie.value="");return}let n=Fg*1024*1024;if(t.size>n){w(`La imagen es demasiado grande (m\xE1x. ${Fg} MB).`,"error"),Ie&&(Ie.value="");return}fc=!0,Vs(!0),Br=0,dt||(dt=ei()),dt.start(t),rt(0),Zy();let r=null;try{rt(5);let o=await qy(t);rt(20),o=await Qy(o),rt(35),await new Promise(a=>setTimeout(a,100)),rt(45),Vg||(rt(50),await new Promise((a,u)=>{let f=document.createElement("script");Wn(f),f.src="https://cdn.jsdelivr.net/npm/tesseract.js@6/dist/tesseract.min.js",f.onload=()=>{Vg=!0,a()},f.onerror=u,document.head.appendChild(f)})),rt(60),r=await Tesseract.createWorker(By,Uy,{logger:a=>{if(a.status==="recognizing text"){let u=Math.max(85,Math.floor(a.progress*100*.15+85));rt(u)}else a.status==="loading language model"&&rt(65)},init:Vy}),rt(75),await r.setParameters(Hy),rt(80);let{data:{text:i}}=await r.recognize(o),s=by(i,a=>{let u=pc(a);dt.update(95,u)});if(s.hasData){let a=pc(s.allFieldsStatus);dt.complete(a,"done")}else{let a=pc(s.allFieldsStatus);dt.complete(a,"warning")}}catch(o){let i="Error al escanear. Vuelve a intentarlo.";o.message&&o.message.includes("detached")?i="Error al procesar la imagen. Prueba con otra foto.":o.message&&o.message.includes("recognition")&&(i="No se pudo leer el texto. Aseg\xFArate de que la imagen sea clara."),w(i,"error"),dt.error(i)}finally{r&&await r.terminate(),Ie&&(Ie.value=""),Ky(),Vs(!1),fc=!1}}var Xg="anonymousUserId";function Yg(){try{let e=localStorage.getItem(Xg);return e||(e=`user-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,localStorage.setItem(Xg,e)),e}catch{return`temp-user-${Date.now()}`}}var Kg=document.getElementById("save-pill"),Fr=document.querySelector(".tab-content-container"),Ur=0,qg=!1,eS=10,tS=150,nS=Fr&&parseInt(window.getComputedStyle(Fr).paddingBottom,10)||60;function mc(e=Ur){qg=e>tS,qg?(Kg.style.bottom=`calc(${e}px + ${eS}px + env(safe-area-inset-bottom, 0px))`,Fr&&(Fr.style.paddingBottom=`${e+50}px`)):(Kg.style.bottom="calc(20px + env(safe-area-inset-bottom, 0px))",Fr&&(Fr.style.paddingBottom=`${nS}px`))}if("virtualKeyboard"in navigator)navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",e=>{Ur=e.target.boundingRect.height,mc(Ur)});else{let e=window.innerHeight;window.addEventListener("resize",()=>{window.innerHeight<e?(Ur=e-window.innerHeight,mc(Ur)):(Ur=0,mc(0))})}var rS=document.querySelectorAll('input:not([type="checkbox"]), select, textarea');function oS(e){let t=e.target;t.closest(".modal")||setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"center"})},250)}rS.forEach(e=>{e.addEventListener("focus",oS)});var Qg="notes-selected-service",iS="notes-modal",lS="notes-title",sS="notes-textarea",aS="notes-save",uS="notes-cancel",cS="notes-char-counter",zr,hc,K,bl,gc,Bn,ni=null,ri=null,oi=null;function bg(){let e=document.getElementById(Qg);if(!e){console.warn(`Notes Service: Bot\xF3 amb ID '${Qg}' no trobat.`);return}if(zr=document.getElementById(iS),hc=document.getElementById(lS),K=document.getElementById(sS),bl=document.getElementById(aS),gc=document.getElementById(uS),Bn=document.getElementById(cS),!zr||!hc||!K||!bl||!gc||!Bn){console.error("Notes Service: Un o m\xE9s elements del modal de notes no s'han trobat.");return}e.addEventListener("click",()=>{let t=pn();dS(t)}),gc.addEventListener("click",Ec),console.log("Funcionalitat 'Afegir Notes' configurada.")}function dS(e){if(!zr)return;hc.textContent=`S${e+1}: Observaciones`,K.value=mt[e]||"";let t=K.maxLength,n=()=>{let r=K.value.length;Bn.textContent=`${r} / ${t}`,Bn.classList.remove("warning","limit"),K.classList.remove("input-warning","input-error"),r>=t?(Bn.classList.add("limit"),K.classList.add("input-error")):r>t*.8&&(Bn.classList.add("warning"),K.classList.add("input-warning"))};n(),ri=()=>{K.value.length>t&&(K.value=K.value.slice(0,t)),n()},K.addEventListener("input",ri),oi=r=>{r.key==="Enter"&&!r.shiftKey&&(r.preventDefault(),K.blur())},K.addEventListener("keydown",oi),ni=()=>{let r=K.value.trim(),o=mt[e]||"";if(r===o){Ec();return}mt[e]=r,r?w("Observaci\xF3n guardada.","success"):w("Observaci\xF3n eliminada.","info"),Ec(),gt()},bl.addEventListener("click",ni),zr.style.display="block",document.body.classList.add("modal-open"),setTimeout(()=>{K.focus({preventScroll:!0}),K.setSelectionRange(K.value.length,K.value.length)},0)}function Ec(){zr&&(ni&&(bl.removeEventListener("click",ni),ni=null),ri&&(K.removeEventListener("input",ri),ri=null),oi&&(K.removeEventListener("keydown",oi),oi=null),Bn.classList.remove("warning","limit"),K.classList.remove("input-warning","input-error"),zr.style.display="none",document.body.classList.remove("modal-open"))}var fS=e=>{let n=`; ${document.cookie}`.split(`; ${e}=`);if(n.length===2)return n.pop()?.split(";").shift()},Zg=(e,t,n)=>{let r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);let o=`expires=${r.toUTCString()}`;document.cookie=`${e}=${t};${o};path=/;SameSite=Lax;Secure`},Vr,vc,yc;function pS(){let e=document.createElement("script");Wn(e),e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-23SXKMLR75",document.head.appendChild(e),e.onload=()=>{window.gtag("js",new Date),window.gtag("config","G-23SXKMLR75")}}function mS(){pS(),Zg("cookie_consent","granted",365),Jg()}function gS(){typeof window.gtag=="function"&&window.gtag("consent","update",{analytics_storage:"denied"}),Zg("cookie_consent","denied",365),Jg()}function hS(){Vr&&Vr.classList.remove("hidden")}function Jg(){Vr&&Vr.classList.add("hidden")}function eh(){if(Vr=document.getElementById("cookie-consent-banner"),vc=document.getElementById("accept-cookies"),yc=document.getElementById("decline-cookies"),!Vr||!vc||!yc){console.warn("Elements del b\xE0ner de cookies no trobats.");return}fS("cookie_consent")||(hS(),vc.addEventListener("click",mS),yc.addEventListener("click",gS))}function ES(){let e=document.getElementById(P.DONATION_LINK_ID);if(!e)return console.warn("No s'ha trobat l'enlla\xE7 de donaci\xF3.");let t=Yg();try{let n=new URL(e.href);n.searchParams.set("custom",t),e.href=n.toString(),console.log("Enlla\xE7 de donaci\xF3 actualitzat amb ID an\xF2nim.")}catch(n){console.error("Error modificant l'URL de donaci\xF3:",n)}}async function th(){try{console.log("initializeApp() iniciant..."),Kc(),Qc(),await $c(),Mc(),kd(),qn.init(),Wg(),Vd(),Ad(),Wd(),Yd(),bg(),Nd(),Kd(),qd(),ef(),$d(),ES(),bd(),Pc(),Bd(),Ud(),Fd();let e=document.getElementById("service-type");if(e){let t=localStorage.getItem(Lc.USER_SELECTED_SERVICE_TYPE);(t==="TSU"||t==="TSNU")&&(e.value=t,console.log(`[LocalStorage] Carregat tipus de servei: ${t}`)),Hn(e.value)}hn(),bc(),eh(),console.log("initializeApp() completada.")}catch(e){console.error("Error en la inicialitzaci\xF3 de l'app:",e)}}var Pt=Hr(io()),Sc=Hr(lc());function vS(){let[e,t]=Pt.default.useState(navigator.onLine),[n,r]=Pt.default.useState(!0);return Pt.default.useEffect(()=>{let o=()=>{let i=navigator.onLine;t(i),i?setTimeout(()=>r(!1),3e3):r(!0)};return window.addEventListener("online",o),window.addEventListener("offline",o),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",o)}},[]),n?Pt.default.createElement(Pt.default.Fragment,null,Pt.default.createElement("div",{className:`connection-indicator ${e?"online":"offline"}`,onClick:e?void 0:()=>{confirm("En modo offline algunas funciones pueden estar limitadas. \xBFQuieres recargar la app?")&&window.location.reload()},title:e?void 0:"Haz clic para recargar (algunas funciones requieren conexi\xF3n)"},e?"\u{1F7E2} Online":"\u26A0\uFE0F Offline - Funciones limitadas")):null}function nh(){try{if(typeof Pt.default>"u"||typeof Sc.default>"u"){console.log("React no disponible - components skip");return}let e=document.getElementById("react-connection-container");e&&!e.hasChildNodes()&&Sc.default.createRoot(e).render(Pt.default.createElement(vS,null)),console.log("\u2705 React components inicialitzats (incremental - reversible)")}catch(e){console.log("\u26A0\uFE0F React component skip:",e.message)}}window.getOCRFeedbackManager=ei;window.createOCRFeedbackManager=uc;window.destroyOCRFeedbackManager=Ug;async function rh(){try{document.body.classList.add("app-ready"),document.body.classList.remove("no-js"),await th(),cd(),nh()}catch(e){console.error("Critical error during app startup:",e)}}function yS(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",rh,{once:!0}):rh()}yS();})();
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
