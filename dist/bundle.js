(()=>{var Wv=Object.create;var hu=Object.defineProperty;var eT=Object.getOwnPropertyDescriptor;var tT=Object.getOwnPropertyNames;var aT=Object.getPrototypeOf,nT=Object.prototype.hasOwnProperty;var lT=(e,t)=>()=>(e&&(t=e(e=0)),t);var va=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),iT=(e,t)=>{for(var a in t)hu(e,a,{get:t[a],enumerable:!0})},rT=(e,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of tT(t))!nT.call(e,l)&&l!==a&&hu(e,l,{get:()=>t[l],enumerable:!(n=eT(t,l))||n.enumerable});return e};var Su=(e,t,a)=>(a=e!=null?Wv(aT(e)):{},rT(t||!e||!e.__esModule?hu(a,"default",{value:e,enumerable:!0}):a,e));var Mm={};iT(Mm,{cancelAllToasts:()=>fT,showToast:()=>b});function sT(e){if(window.__muteToasts===!0)return!0;let t=window.__toastBlocklist;if(!t||!Array.isArray(t)||t.length===0)return!1;for(let a of t)if(a instanceof RegExp&&typeof e=="string"){if(a.test(e))return!0}else if(typeof a=="string"&&String(e)===a)return!0;return!1}function uT(e,t,a){if(!e||typeof e!="string"||!e.trim())throw new Error("El missatge del toast \xE9s obligatori i ha de ser una cadena no buida.");if(!_e.ALLOWED_TYPES.includes(t))throw new Error(`Tipus de toast inv\xE0lid: ${t}. Ha de ser un de: ${_e.ALLOWED_TYPES.join(", ")}`);if(!Number.isInteger(a)||a<0||a>6e4)throw new Error("La durada ha d'estar entre 0 i 60000 ms.")}function cT(){return!G.container&&(G.container=document.getElementById(_e.CONTAINER_ID),!G.container)?(console.error(`[Toast] Contenidor '#${_e.CONTAINER_ID}' no trobat.`),null):G.container}function Tu(e){G.currentTimeout&&(clearTimeout(G.currentTimeout),G.currentTimeout=null),e&&(e.classList.add(_e.ANIMATION.EXIT),e.addEventListener("transitionend",()=>e.remove(),{once:!0})),G.isVisible=!1,Nm()}function dT({message:e,type:t,duration:a,options:n}){let l=cT();if(!l)return;let i=document.createElement("div");i.className=`${_e.TOAST_CLASS} ${t}`,i.setAttribute("role","alert"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),i.textContent=oT(e);let r=!0;if(n?.undoCallback instanceof Function){let o=document.createElement("button");o.type="button",o.className=_e.UNDO_BTN_CLASS,o.textContent="Deshacer",o.setAttribute("aria-label","Deshacer la acci\xF3n"),o.addEventListener("click",()=>{r=!1;try{n.undoCallback()}finally{Tu(i)}}),i.appendChild(o)}l.appendChild(i),requestAnimationFrame(()=>{i.classList.add(_e.ANIMATION.ENTER)}),G.currentTimeout=setTimeout(()=>{r&&n?.onExpire instanceof Function&&n.onExpire(),Tu(i)},a)}function Nm(){G.isVisible||G.queue.length===0||(G.isVisible=!0,G.queue.sort((e,t)=>t.priority-e.priority),dT(G.queue.shift()))}function b(e,t=_e.DEFAULT_TYPE,a=_e.DEFAULT_DURATION,n={}){if(sT(e))return;uT(e,t,a);let l=n.priority??_e.DEFAULT_PRIORITY,i={message:e,type:t,duration:a,priority:l,options:n};if(!(n.queueable!==!1)&&G.isVisible){if(G.container){let s=G.container.querySelector(`.${_e.TOAST_CLASS}:not(.${_e.ANIMATION.EXIT})`);s&&s.remove()}Tu()}G.queue.length>=_e.MAX_QUEUE_SIZE&&G.queue.sort((s,u)=>s.priority-u.priority).shift();let o=G.queue.findIndex(s=>s.priority<l);o===-1?G.queue.push(i):G.queue.splice(o,0,i),mT(),Nm()}function fT(){if(G.queue=[],G.container){let e=G.container.querySelector(`.${_e.TOAST_CLASS}`);e&&e.remove()}G.currentTimeout&&clearTimeout(G.currentTimeout),G.currentTimeout=null,G.isVisible=!1}function mT(){let e="toast-undo-style";if(document.getElementById(e))return;let t=document.body.getAttribute("data-csp-nonce"),a=document.createElement("style");a.id=e,t&&a.setAttribute("nonce",t),a.textContent=`
    .${_e.UNDO_BTN_CLASS} {
      margin-left: auto; 
      padding: 8px 12px; 
      background: none;
      border: none;
      border-radius: 4px; 
      cursor: pointer;     
      font-weight: 600;
      font-size: 0.875rem; 
      text-transform: uppercase; 
      letter-spacing: 0.08em; 
      color: inherit; 
      transition: background-color 0.2s ease;
    }
    .${_e.UNDO_BTN_CLASS}:hover {
      background-color: rgba(255, 255, 255, 0.15); 
    }
  `,document.head.appendChild(a)}var _e,G,oT,Rt=lT(()=>{_e={CONTAINER_ID:"toast-container",TOAST_CLASS:"toast",DEFAULT_DURATION:3e3,DEFAULT_TYPE:"info",ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1},G={queue:[],isVisible:!1,container:null,currentTimeout:null},oT=e=>e&&typeof e=="string"?e.replace(/[<>&]/g,""):""});var xE=va(M=>{"use strict";var bc=Symbol.for("react.transitional.element"),k0=Symbol.for("react.portal"),$0=Symbol.for("react.fragment"),W0=Symbol.for("react.strict_mode"),eA=Symbol.for("react.profiler"),tA=Symbol.for("react.consumer"),aA=Symbol.for("react.context"),nA=Symbol.for("react.forward_ref"),lA=Symbol.for("react.suspense"),iA=Symbol.for("react.memo"),ME=Symbol.for("react.lazy"),rA=Symbol.for("react.activity"),_E=Symbol.iterator;function oA(e){return e===null||typeof e!="object"?null:(e=_E&&e[_E]||e["@@iterator"],typeof e=="function"?e:null)}var LE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RE=Object.assign,IE={};function pl(e,t,a){this.props=e,this.context=t,this.refs=IE,this.updater=a||LE}pl.prototype.isReactComponent={};pl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function BE(){}BE.prototype=pl.prototype;function _c(e,t,a){this.props=e,this.context=t,this.refs=IE,this.updater=a||LE}var Dc=_c.prototype=new BE;Dc.constructor=_c;RE(Dc,pl.prototype);Dc.isPureReactComponent=!0;var DE=Array.isArray;function Cc(){}var J={H:null,A:null,T:null,S:null},wE=Object.prototype.hasOwnProperty;function Oc(e,t,a){var n=a.ref;return{$$typeof:bc,type:e,key:t,ref:n!==void 0?n:null,props:a}}function sA(e,t){return Oc(e.type,t,e.props)}function Nc(e){return typeof e=="object"&&e!==null&&e.$$typeof===bc}function uA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var OE=/\/+/g;function Ac(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uA(""+e.key):t.toString(36)}function cA(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Cc,Cc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function El(e,t,a,n,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(i){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case bc:case k0:r=!0;break;case ME:return r=e._init,El(r(e._payload),t,a,n,l)}}if(r)return l=l(e),r=n===""?"."+Ac(e,0):n,DE(l)?(a="",r!=null&&(a=r.replace(OE,"$&/")+"/"),El(l,t,a,"",function(u){return u})):l!=null&&(Nc(l)&&(l=sA(l,a+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(OE,"$&/")+"/")+r)),t.push(l)),1;r=0;var o=n===""?".":n+":";if(DE(e))for(var s=0;s<e.length;s++)n=e[s],i=o+Ac(n,s),r+=El(n,t,a,i,l);else if(s=oA(e),typeof s=="function")for(e=s.call(e),s=0;!(n=e.next()).done;)n=n.value,i=o+Ac(n,s++),r+=El(n,t,a,i,l);else if(i==="object"){if(typeof e.then=="function")return El(cA(e),t,a,n,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Io(e,t,a){if(e==null)return e;var n=[],l=0;return El(e,n,"","",function(i){return t.call(a,i,l++)}),n}function dA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var NE=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fA={map:Io,forEach:function(e,t,a){Io(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return Io(e,function(){t++}),t},toArray:function(e){return Io(e,function(t){return t})||[]},only:function(e){if(!Nc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Activity=rA;M.Children=fA;M.Component=pl;M.Fragment=$0;M.Profiler=eA;M.PureComponent=_c;M.StrictMode=W0;M.Suspense=lA;M.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J;M.__COMPILER_RUNTIME={__proto__:null,c:function(e){return J.H.useMemoCache(e)}};M.cache=function(e){return function(){return e.apply(null,arguments)}};M.cacheSignal=function(){return null};M.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=RE({},e.props),l=e.key;if(t!=null)for(i in t.key!==void 0&&(l=""+t.key),t)!wE.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var r=Array(i),o=0;o<i;o++)r[o]=arguments[o+2];n.children=r}return Oc(e.type,l,n)};M.createContext=function(e){return e={$$typeof:aA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:tA,_context:e},e};M.createElement=function(e,t,a){var n,l={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)wE.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(l[n]=t[n]);var r=arguments.length-2;if(r===1)l.children=a;else if(1<r){for(var o=Array(r),s=0;s<r;s++)o[s]=arguments[s+2];l.children=o}if(e&&e.defaultProps)for(n in r=e.defaultProps,r)l[n]===void 0&&(l[n]=r[n]);return Oc(e,i,l)};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:nA,render:e}};M.isValidElement=Nc;M.lazy=function(e){return{$$typeof:ME,_payload:{_status:-1,_result:e},_init:dA}};M.memo=function(e,t){return{$$typeof:iA,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=J.T,a={};J.T=a;try{var n=e(),l=J.S;l!==null&&l(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Cc,NE)}catch(i){NE(i)}finally{t!==null&&a.types!==null&&(t.types=a.types),J.T=t}};M.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()};M.use=function(e){return J.H.use(e)};M.useActionState=function(e,t,a){return J.H.useActionState(e,t,a)};M.useCallback=function(e,t){return J.H.useCallback(e,t)};M.useContext=function(e){return J.H.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e,t){return J.H.useDeferredValue(e,t)};M.useEffect=function(e,t){return J.H.useEffect(e,t)};M.useEffectEvent=function(e){return J.H.useEffectEvent(e)};M.useId=function(){return J.H.useId()};M.useImperativeHandle=function(e,t,a){return J.H.useImperativeHandle(e,t,a)};M.useInsertionEffect=function(e,t){return J.H.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return J.H.useLayoutEffect(e,t)};M.useMemo=function(e,t){return J.H.useMemo(e,t)};M.useOptimistic=function(e,t){return J.H.useOptimistic(e,t)};M.useReducer=function(e,t,a){return J.H.useReducer(e,t,a)};M.useRef=function(e){return J.H.useRef(e)};M.useState=function(e){return J.H.useState(e)};M.useSyncExternalStore=function(e,t,a){return J.H.useSyncExternalStore(e,t,a)};M.useTransition=function(){return J.H.useTransition()};M.version="19.2.0"});var qi=va((fN,UE)=>{"use strict";UE.exports=xE()});var KE=va(ee=>{"use strict";function Ic(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,l=e[n];if(0<Bo(l,t))e[n]=t,e[a]=l,a=n;else break e}}function Bt(e){return e.length===0?null:e[0]}function xo(e){if(e.length===0)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,l=e.length,i=l>>>1;n<i;){var r=2*(n+1)-1,o=e[r],s=r+1,u=e[s];if(0>Bo(o,a))s<l&&0>Bo(u,o)?(e[n]=u,e[s]=a,n=s):(e[n]=o,e[r]=a,n=r);else if(s<l&&0>Bo(u,a))e[n]=u,e[s]=a,n=s;else break e}}return t}function Bo(e,t){var a=e.sortIndex-t.sortIndex;return a!==0?a:e.id-t.id}ee.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(zE=performance,ee.unstable_now=function(){return zE.now()}):(Mc=Date,PE=Mc.now(),ee.unstable_now=function(){return Mc.now()-PE});var zE,Mc,PE,Wt=[],Ra=[],mA=1,dt=null,we=3,Bc=!1,ji=!1,Yi=!1,wc=!1,GE=typeof setTimeout=="function"?setTimeout:null,qE=typeof clearTimeout=="function"?clearTimeout:null,VE=typeof setImmediate<"u"?setImmediate:null;function wo(e){for(var t=Bt(Ra);t!==null;){if(t.callback===null)xo(Ra);else if(t.startTime<=e)xo(Ra),t.sortIndex=t.expirationTime,Ic(Wt,t);else break;t=Bt(Ra)}}function xc(e){if(Yi=!1,wo(e),!ji)if(Bt(Wt)!==null)ji=!0,Sl||(Sl=!0,hl());else{var t=Bt(Ra);t!==null&&Uc(xc,t.startTime-e)}}var Sl=!1,Xi=-1,jE=5,YE=-1;function XE(){return wc?!0:!(ee.unstable_now()-YE<jE)}function Lc(){if(wc=!1,Sl){var e=ee.unstable_now();YE=e;var t=!0;try{e:{ji=!1,Yi&&(Yi=!1,qE(Xi),Xi=-1),Bc=!0;var a=we;try{t:{for(wo(e),dt=Bt(Wt);dt!==null&&!(dt.expirationTime>e&&XE());){var n=dt.callback;if(typeof n=="function"){dt.callback=null,we=dt.priorityLevel;var l=n(dt.expirationTime<=e);if(e=ee.unstable_now(),typeof l=="function"){dt.callback=l,wo(e),t=!0;break t}dt===Bt(Wt)&&xo(Wt),wo(e)}else xo(Wt);dt=Bt(Wt)}if(dt!==null)t=!0;else{var i=Bt(Ra);i!==null&&Uc(xc,i.startTime-e),t=!1}}break e}finally{dt=null,we=a,Bc=!1}t=void 0}}finally{t?hl():Sl=!1}}}var hl;typeof VE=="function"?hl=function(){VE(Lc)}:typeof MessageChannel<"u"?(Rc=new MessageChannel,HE=Rc.port2,Rc.port1.onmessage=Lc,hl=function(){HE.postMessage(null)}):hl=function(){GE(Lc,0)};var Rc,HE;function Uc(e,t){Xi=GE(function(){e(ee.unstable_now())},t)}ee.unstable_IdlePriority=5;ee.unstable_ImmediatePriority=1;ee.unstable_LowPriority=4;ee.unstable_NormalPriority=3;ee.unstable_Profiling=null;ee.unstable_UserBlockingPriority=2;ee.unstable_cancelCallback=function(e){e.callback=null};ee.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):jE=0<e?Math.floor(1e3/e):5};ee.unstable_getCurrentPriorityLevel=function(){return we};ee.unstable_next=function(e){switch(we){case 1:case 2:case 3:var t=3;break;default:t=we}var a=we;we=t;try{return e()}finally{we=a}};ee.unstable_requestPaint=function(){wc=!0};ee.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=we;we=e;try{return t()}finally{we=a}};ee.unstable_scheduleCallback=function(e,t,a){var n=ee.unstable_now();switch(typeof a=="object"&&a!==null?(a=a.delay,a=typeof a=="number"&&0<a?n+a:n):a=n,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=a+l,e={id:mA++,callback:t,priorityLevel:e,startTime:a,expirationTime:l,sortIndex:-1},a>n?(e.sortIndex=a,Ic(Ra,e),Bt(Wt)===null&&e===Bt(Ra)&&(Yi?(qE(Xi),Xi=-1):Yi=!0,Uc(xc,a-n))):(e.sortIndex=l,Ic(Wt,e),ji||Bc||(ji=!0,Sl||(Sl=!0,hl()))),e};ee.unstable_shouldYield=XE;ee.unstable_wrapCallback=function(e){var t=we;return function(){var a=we;we=t;try{return e.apply(this,arguments)}finally{we=a}}}});var FE=va((gN,QE)=>{"use strict";QE.exports=KE()});var JE=va(Pe=>{"use strict";var gA=qi();function ZE(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ia(){}var ze={d:{f:Ia,r:function(){throw Error(ZE(522))},D:Ia,C:Ia,L:Ia,m:Ia,X:Ia,S:Ia,M:Ia},p:0,findDOMNode:null},EA=Symbol.for("react.portal");function pA(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:EA,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var Ki=gA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Uo(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ze;Pe.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(ZE(299));return pA(e,t,null,a)};Pe.flushSync=function(e){var t=Ki.T,a=ze.p;try{if(Ki.T=null,ze.p=2,e)return e()}finally{Ki.T=t,ze.p=a,ze.d.f()}};Pe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ze.d.C(e,t))};Pe.prefetchDNS=function(e){typeof e=="string"&&ze.d.D(e)};Pe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=Uo(a,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?ze.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:l,fetchPriority:i}):a==="script"&&ze.d.X(e,{crossOrigin:n,integrity:l,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Pe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=Uo(t.as,t.crossOrigin);ze.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ze.d.M(e)};Pe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=Uo(a,t.crossOrigin);ze.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Pe.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=Uo(t.as,t.crossOrigin);ze.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ze.d.m(e)};Pe.requestFormReset=function(e){ze.d.r(e)};Pe.unstable_batchedUpdates=function(e,t){return e(t)};Pe.useFormState=function(e,t,a){return Ki.H.useFormState(e,t,a)};Pe.useFormStatus=function(){return Ki.H.useHostTransitionStatus()};Pe.version="19.2.0"});var WE=va((pN,$E)=>{"use strict";function kE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kE)}catch(e){console.error(e)}}kE(),$E.exports=JE()});var dv=va(ou=>{"use strict";var ye=FE(),_h=qi(),hA=WE();function S(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Dh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ir(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Oh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nh(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ep(e){if(Ir(e)!==e)throw Error(S(188))}function SA(e){var t=e.alternate;if(!t){if(t=Ir(e),t===null)throw Error(S(188));return t!==e?null:e}for(var a=e,n=t;;){var l=a.return;if(l===null)break;var i=l.alternate;if(i===null){if(n=l.return,n!==null){a=n;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===a)return ep(l),e;if(i===n)return ep(l),t;i=i.sibling}throw Error(S(188))}if(a.return!==n.return)a=l,n=i;else{for(var r=!1,o=l.child;o;){if(o===a){r=!0,a=l,n=i;break}if(o===n){r=!0,n=l,a=i;break}o=o.sibling}if(!r){for(o=i.child;o;){if(o===a){r=!0,a=i,n=l;break}if(o===n){r=!0,n=i,a=l;break}o=o.sibling}if(!r)throw Error(S(189))}}if(a.alternate!==n)throw Error(S(190))}if(a.tag!==3)throw Error(S(188));return a.stateNode.current===a?e:t}function Mh(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Mh(e),t!==null)return t;e=e.sibling}return null}var W=Object.assign,yA=Symbol.for("react.element"),zo=Symbol.for("react.transitional.element"),er=Symbol.for("react.portal"),bl=Symbol.for("react.fragment"),Lh=Symbol.for("react.strict_mode"),pd=Symbol.for("react.profiler"),Rh=Symbol.for("react.consumer"),oa=Symbol.for("react.context"),ff=Symbol.for("react.forward_ref"),hd=Symbol.for("react.suspense"),Sd=Symbol.for("react.suspense_list"),mf=Symbol.for("react.memo"),Ba=Symbol.for("react.lazy");Symbol.for("react.scope");var yd=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var vA=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var tp=Symbol.iterator;function Qi(e){return e===null||typeof e!="object"?null:(e=tp&&e[tp]||e["@@iterator"],typeof e=="function"?e:null)}var TA=Symbol.for("react.client.reference");function vd(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===TA?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bl:return"Fragment";case pd:return"Profiler";case Lh:return"StrictMode";case hd:return"Suspense";case Sd:return"SuspenseList";case yd:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case er:return"Portal";case oa:return e.displayName||"Context";case Rh:return(e._context.displayName||"Context")+".Consumer";case ff:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mf:return t=e.displayName||null,t!==null?t:vd(e.type)||"Memo";case Ba:t=e._payload,e=e._init;try{return vd(e(t))}catch{}}return null}var tr=Array.isArray,O=_h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=hA.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,On={pending:!1,data:null,method:null,action:null},Td=[],_l=-1;function Pt(e){return{current:e}}function be(e){0>_l||(e.current=Td[_l],Td[_l]=null,_l--)}function Z(e,t){_l++,Td[_l]=e.current,e.current=t}var zt=Pt(null),Sr=Pt(null),Ya=Pt(null),ps=Pt(null);function hs(e,t){switch(Z(Ya,t),Z(Sr,e),Z(zt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=sh(t),e=ky(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}be(zt),Z(zt,e)}function jl(){be(zt),be(Sr),be(Ya)}function Ad(e){e.memoizedState!==null&&Z(ps,e);var t=zt.current,a=ky(t,e.type);t!==a&&(Z(Sr,e),Z(zt,a))}function Ss(e){Sr.current===e&&(be(zt),be(Sr)),ps.current===e&&(be(ps),Mr._currentValue=On)}var zc,ap;function Cn(e){if(zc===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);zc=t&&t[1]||"",ap=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zc+e+ap}var Pc=!1;function Vc(e,t){if(!e||Pc)return"";Pc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var E=function(){throw Error()};if(Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(g){var c=g}Reflect.construct(e,[],E)}else{try{E.call()}catch(g){c=g}e.call(E.prototype)}}else{try{throw Error()}catch(g){c=g}(E=e())&&typeof E.catch=="function"&&E.catch(function(){})}}catch(g){if(g&&c&&typeof g.stack=="string")return[g.stack,c.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),r=i[0],o=i[1];if(r&&o){var s=r.split(`
`),u=o.split(`
`);for(l=n=0;n<s.length&&!s[n].includes("DetermineComponentFrameRoot");)n++;for(;l<u.length&&!u[l].includes("DetermineComponentFrameRoot");)l++;if(n===s.length||l===u.length)for(n=s.length-1,l=u.length-1;1<=n&&0<=l&&s[n]!==u[l];)l--;for(;1<=n&&0<=l;n--,l--)if(s[n]!==u[l]){if(n!==1||l!==1)do if(n--,l--,0>l||s[n]!==u[l]){var f=`
`+s[n].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=n&&0<=l);break}}}finally{Pc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Cn(a):""}function AA(e,t){switch(e.tag){case 26:case 27:case 5:return Cn(e.type);case 16:return Cn("Lazy");case 13:return e.child!==t&&t!==null?Cn("Suspense Fallback"):Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return Vc(e.type,!1);case 11:return Vc(e.type.render,!1);case 1:return Vc(e.type,!0);case 31:return Cn("Activity");default:return""}}function np(e){try{var t="",a=null;do t+=AA(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Cd=Object.prototype.hasOwnProperty,gf=ye.unstable_scheduleCallback,Hc=ye.unstable_cancelCallback,CA=ye.unstable_shouldYield,bA=ye.unstable_requestPaint,We=ye.unstable_now,_A=ye.unstable_getCurrentPriorityLevel,Ih=ye.unstable_ImmediatePriority,Bh=ye.unstable_UserBlockingPriority,ys=ye.unstable_NormalPriority,DA=ye.unstable_LowPriority,wh=ye.unstable_IdlePriority,OA=ye.log,NA=ye.unstable_setDisableYieldValue,Br=null,et=null;function Va(e){if(typeof OA=="function"&&NA(e),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Br,e)}catch{}}var tt=Math.clz32?Math.clz32:RA,MA=Math.log,LA=Math.LN2;function RA(e){return e>>>=0,e===0?32:31-(MA(e)/LA|0)|0}var Po=256,Vo=262144,Ho=4194304;function bn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xs(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var l=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var o=n&134217727;return o!==0?(n=o&~i,n!==0?l=bn(n):(r&=o,r!==0?l=bn(r):a||(a=o&~e,a!==0&&(l=bn(a))))):(o=n&~i,o!==0?l=bn(o):r!==0?l=bn(r):a||(a=n&~e,a!==0&&(l=bn(a)))),l===0?0:t!==0&&t!==l&&(t&i)===0&&(i=l&-l,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:l}function wr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function IA(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xh(){var e=Ho;return Ho<<=1,(Ho&62914560)===0&&(Ho=4194304),e}function Gc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function xr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function BA(e,t,a,n,l,i){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,s=e.expirationTimes,u=e.hiddenUpdates;for(a=r&~a;0<a;){var f=31-tt(a),E=1<<f;o[f]=0,s[f]=-1;var c=u[f];if(c!==null)for(u[f]=null,f=0;f<c.length;f++){var g=c[f];g!==null&&(g.lane&=-536870913)}a&=~E}n!==0&&Uh(e,n,0),i!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function Uh(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-tt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function zh(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-tt(a),l=1<<n;l&t|e[n]&t&&(e[n]|=t),a&=~l}}function Ph(e,t){var a=t&-t;return a=(a&42)!==0?1:Ef(a),(a&(e.suspendedLanes|t))!==0?0:a}function Ef(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pf(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vh(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:sv(e.type))}function lp(e,t){var a=H.p;try{return H.p=e,t()}finally{H.p=a}}var nn=Math.random().toString(36).slice(2),Me="__reactFiber$"+nn,Ke="__reactProps$"+nn,ei="__reactContainer$"+nn,bd="__reactEvents$"+nn,wA="__reactListeners$"+nn,xA="__reactHandles$"+nn,ip="__reactResources$"+nn,Ur="__reactMarker$"+nn;function hf(e){delete e[Me],delete e[Ke],delete e[bd],delete e[wA],delete e[xA]}function Dl(e){var t=e[Me];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ei]||a[Me]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=mh(e);e!==null;){if(a=e[Me])return a;e=mh(e)}return t}e=a,a=e.parentNode}return null}function ti(e){if(e=e[Me]||e[ei]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ar(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(S(33))}function Ul(e){var t=e[ip];return t||(t=e[ip]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ce(e){e[Ur]=!0}var Hh=new Set,Gh={};function zn(e,t){Yl(e,t),Yl(e+"Capture",t)}function Yl(e,t){for(Gh[e]=t,e=0;e<t.length;e++)Hh.add(t[e])}var UA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rp={},op={};function zA(e){return Cd.call(op,e)?!0:Cd.call(rp,e)?!1:UA.test(e)?op[e]=!0:(rp[e]=!0,!1)}function ts(e,t,a){if(zA(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Go(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ea(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function PA(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _d(e){if(!e._valueTracker){var t=qh(e)?"checked":"value";e._valueTracker=PA(e,t,""+e[t])}}function jh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=qh(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var VA=/[\n"\\]/g;function pt(e){return e.replace(VA,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Dd(e,t,a,n,l,i,r,o){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+mt(t)):e.value!==""+mt(t)&&(e.value=""+mt(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Od(e,r,mt(t)):a!=null?Od(e,r,mt(a)):n!=null&&e.removeAttribute("value"),l==null&&i!=null&&(e.defaultChecked=!!i),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+mt(o):e.removeAttribute("name")}function Yh(e,t,a,n,l,i,r,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){_d(e);return}a=a!=null?""+mt(a):"",t=t!=null?""+mt(t):a,o||t===e.value||(e.value=t),e.defaultValue=t}n=n??l,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),_d(e)}function Od(e,t,a){t==="number"&&vs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zl(e,t,a,n){if(e=e.options,t){t={};for(var l=0;l<a.length;l++)t["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=t.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&n&&(e[a].defaultSelected=!0)}else{for(a=""+mt(a),t=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Xh(e,t,a){if(t!=null&&(t=""+mt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+mt(a):""}function Kh(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(S(92));if(tr(n)){if(1<n.length)throw Error(S(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=mt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),_d(e)}function Xl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var HA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sp(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||HA.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Qh(e,t,a){if(t!=null&&typeof t!="object")throw Error(S(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var l in t)n=t[l],t.hasOwnProperty(l)&&a[l]!==n&&sp(e,l,n)}else for(var i in t)t.hasOwnProperty(i)&&sp(e,i,t[i])}function Sf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function as(e){return qA.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sa(){}var Nd=null;function yf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ol=null,Pl=null;function up(e){var t=ti(e);if(t&&(e=t.stateNode)){var a=e[Ke]||null;e:switch(e=t.stateNode,t.type){case"input":if(Dd(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var l=n[Ke]||null;if(!l)throw Error(S(90));Dd(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&jh(n)}break e;case"textarea":Xh(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&zl(e,!!a.multiple,t,!1)}}}var qc=!1;function Fh(e,t,a){if(qc)return e(t,a);qc=!0;try{var n=e(t);return n}finally{if(qc=!1,(Ol!==null||Pl!==null)&&(nu(),Ol&&(t=Ol,e=Pl,Pl=Ol=null,up(t),e)))for(t=0;t<e.length;t++)up(e[t])}}function yr(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Ke]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(S(231,t,typeof a));return a}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Md=!1;if(ma)try{yl={},Object.defineProperty(yl,"passive",{get:function(){Md=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{Md=!1}var yl,Ha=null,vf=null,ns=null;function Zh(){if(ns)return ns;var e,t=vf,a=t.length,n,l="value"in Ha?Ha.value:Ha.textContent,i=l.length;for(e=0;e<a&&t[e]===l[e];e++);var r=a-e;for(n=1;n<=r&&t[a-n]===l[i-n];n++);return ns=l.slice(e,1<n?1-n:void 0)}function ls(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qo(){return!0}function cp(){return!1}function Qe(e){function t(a,n,l,i,r){this._reactName=a,this._targetInst=l,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qo:cp,this.isPropagationStopped=cp,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),t}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=Qe(Pn),zr=W({},Pn,{view:0,detail:0}),jA=Qe(zr),jc,Yc,Fi,Qs=W({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(jc=e.screenX-Fi.screenX,Yc=e.screenY-Fi.screenY):Yc=jc=0,Fi=e),jc)},movementY:function(e){return"movementY"in e?e.movementY:Yc}}),dp=Qe(Qs),YA=W({},Qs,{dataTransfer:0}),XA=Qe(YA),KA=W({},zr,{relatedTarget:0}),Xc=Qe(KA),QA=W({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),FA=Qe(QA),ZA=W({},Pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),JA=Qe(ZA),kA=W({},Pn,{data:0}),fp=Qe(kA),$A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eC[e])?!!t[e]:!1}function Tf(){return tC}var aC=W({},zr,{key:function(e){if(e.key){var t=$A[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?WA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tf,charCode:function(e){return e.type==="keypress"?ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nC=Qe(aC),lC=W({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mp=Qe(lC),iC=W({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tf}),rC=Qe(iC),oC=W({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),sC=Qe(oC),uC=W({},Qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cC=Qe(uC),dC=W({},Pn,{newState:0,oldState:0}),fC=Qe(dC),mC=[9,13,27,32],Af=ma&&"CompositionEvent"in window,ir=null;ma&&"documentMode"in document&&(ir=document.documentMode);var gC=ma&&"TextEvent"in window&&!ir,Jh=ma&&(!Af||ir&&8<ir&&11>=ir),gp=" ",Ep=!1;function kh(e,t){switch(e){case"keyup":return mC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $h(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nl=!1;function EC(e,t){switch(e){case"compositionend":return $h(t);case"keypress":return t.which!==32?null:(Ep=!0,gp);case"textInput":return e=t.data,e===gp&&Ep?null:e;default:return null}}function pC(e,t){if(Nl)return e==="compositionend"||!Af&&kh(e,t)?(e=Zh(),ns=vf=Ha=null,Nl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jh&&t.locale!=="ko"?null:t.data;default:return null}}var hC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hC[e.type]:t==="textarea"}function Wh(e,t,a,n){Ol?Pl?Pl.push(n):Pl=[n]:Ol=n,t=Ps(t,"onChange"),0<t.length&&(a=new Ks("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var rr=null,vr=null;function SC(e){Fy(e,0)}function Fs(e){var t=ar(e);if(jh(t))return e}function hp(e,t){if(e==="change")return t}var eS=!1;ma&&(ma?(Yo="oninput"in document,Yo||(Kc=document.createElement("div"),Kc.setAttribute("oninput","return;"),Yo=typeof Kc.oninput=="function"),jo=Yo):jo=!1,eS=jo&&(!document.documentMode||9<document.documentMode));var jo,Yo,Kc;function Sp(){rr&&(rr.detachEvent("onpropertychange",tS),vr=rr=null)}function tS(e){if(e.propertyName==="value"&&Fs(vr)){var t=[];Wh(t,vr,e,yf(e)),Fh(SC,t)}}function yC(e,t,a){e==="focusin"?(Sp(),rr=t,vr=a,rr.attachEvent("onpropertychange",tS)):e==="focusout"&&Sp()}function vC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fs(vr)}function TC(e,t){if(e==="click")return Fs(t)}function AC(e,t){if(e==="input"||e==="change")return Fs(t)}function CC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:CC;function Tr(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var l=a[n];if(!Cd.call(t,l)||!nt(e[l],t[l]))return!1}return!0}function yp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vp(e,t){var a=yp(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yp(a)}}function aS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nS(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=vs(e.document)}return t}function Cf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var bC=ma&&"documentMode"in document&&11>=document.documentMode,Ml=null,Ld=null,or=null,Rd=!1;function Tp(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rd||Ml==null||Ml!==vs(n)||(n=Ml,"selectionStart"in n&&Cf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),or&&Tr(or,n)||(or=n,n=Ps(Ld,"onSelect"),0<n.length&&(t=new Ks("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Ml)))}function An(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ll={animationend:An("Animation","AnimationEnd"),animationiteration:An("Animation","AnimationIteration"),animationstart:An("Animation","AnimationStart"),transitionrun:An("Transition","TransitionRun"),transitionstart:An("Transition","TransitionStart"),transitioncancel:An("Transition","TransitionCancel"),transitionend:An("Transition","TransitionEnd")},Qc={},lS={};ma&&(lS=document.createElement("div").style,"AnimationEvent"in window||(delete Ll.animationend.animation,delete Ll.animationiteration.animation,delete Ll.animationstart.animation),"TransitionEvent"in window||delete Ll.transitionend.transition);function Vn(e){if(Qc[e])return Qc[e];if(!Ll[e])return e;var t=Ll[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in lS)return Qc[e]=t[a];return e}var iS=Vn("animationend"),rS=Vn("animationiteration"),oS=Vn("animationstart"),_C=Vn("transitionrun"),DC=Vn("transitionstart"),OC=Vn("transitioncancel"),sS=Vn("transitionend"),uS=new Map,Id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Id.push("scrollEnd");function Mt(e,t){uS.set(e,t),zn(t,[e])}var Ts=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ft=[],Rl=0,bf=0;function Zs(){for(var e=Rl,t=bf=Rl=0;t<e;){var a=ft[t];ft[t++]=null;var n=ft[t];ft[t++]=null;var l=ft[t];ft[t++]=null;var i=ft[t];if(ft[t++]=null,n!==null&&l!==null){var r=n.pending;r===null?l.next=l:(l.next=r.next,r.next=l),n.pending=l}i!==0&&cS(a,l,i)}}function Js(e,t,a,n){ft[Rl++]=e,ft[Rl++]=t,ft[Rl++]=a,ft[Rl++]=n,bf|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function _f(e,t,a,n){return Js(e,t,a,n),As(e)}function Hn(e,t){return Js(e,null,null,t),As(e)}function cS(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var l=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(l=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,l&&t!==null&&(l=31-tt(a),e=i.hiddenUpdates,n=e[l],n===null?e[l]=[t]:n.push(t),t.lane=a|536870912),i):null}function As(e){if(50<pr)throw pr=0,Wd=null,Error(S(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Il={};function NC(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ke(e,t,a,n){return new NC(e,t,a,n)}function Df(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ca(e,t){var a=e.alternate;return a===null?(a=ke(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function dS(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function is(e,t,a,n,l,i){var r=0;if(n=e,typeof e=="function")Df(e)&&(r=1);else if(typeof e=="string")r=Rb(e,a,zt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case yd:return e=ke(31,a,t,l),e.elementType=yd,e.lanes=i,e;case bl:return Nn(a.children,l,i,t);case Lh:r=8,l|=24;break;case pd:return e=ke(12,a,t,l|2),e.elementType=pd,e.lanes=i,e;case hd:return e=ke(13,a,t,l),e.elementType=hd,e.lanes=i,e;case Sd:return e=ke(19,a,t,l),e.elementType=Sd,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oa:r=10;break e;case Rh:r=9;break e;case ff:r=11;break e;case mf:r=14;break e;case Ba:r=16,n=null;break e}r=29,a=Error(S(130,e===null?"null":typeof e,"")),n=null}return t=ke(r,a,t,l),t.elementType=e,t.type=n,t.lanes=i,t}function Nn(e,t,a,n){return e=ke(7,e,n,t),e.lanes=a,e}function Fc(e,t,a){return e=ke(6,e,null,t),e.lanes=a,e}function fS(e){var t=ke(18,null,null,0);return t.stateNode=e,t}function Zc(e,t,a){return t=ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ap=new WeakMap;function ht(e,t){if(typeof e=="object"&&e!==null){var a=Ap.get(e);return a!==void 0?a:(t={value:e,source:t,stack:np(t)},Ap.set(e,t),t)}return{value:e,source:t,stack:np(t)}}var Bl=[],wl=0,Cs=null,Ar=0,gt=[],Et=0,Wa=null,wt=1,xt="";function ia(e,t){Bl[wl++]=Ar,Bl[wl++]=Cs,Cs=e,Ar=t}function mS(e,t,a){gt[Et++]=wt,gt[Et++]=xt,gt[Et++]=Wa,Wa=e;var n=wt;e=xt;var l=32-tt(n)-1;n&=~(1<<l),a+=1;var i=32-tt(t)+l;if(30<i){var r=l-l%5;i=(n&(1<<r)-1).toString(32),n>>=r,l-=r,wt=1<<32-tt(t)+l|a<<l|n,xt=i+e}else wt=1<<i|a<<l|n,xt=e}function Of(e){e.return!==null&&(ia(e,1),mS(e,1,0))}function Nf(e){for(;e===Cs;)Cs=Bl[--wl],Bl[wl]=null,Ar=Bl[--wl],Bl[wl]=null;for(;e===Wa;)Wa=gt[--Et],gt[Et]=null,xt=gt[--Et],gt[Et]=null,wt=gt[--Et],gt[Et]=null}function gS(e,t){gt[Et++]=wt,gt[Et++]=xt,gt[Et++]=Wa,wt=t.id,xt=t.overflow,Wa=e}var Le=null,$=null,z=!1,Xa=null,St=!1,Bd=Error(S(519));function en(e){var t=Error(S(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cr(ht(t,e)),Bd}function Cp(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Me]=e,t[Ke]=n,a){case"dialog":w("cancel",t),w("close",t);break;case"iframe":case"object":case"embed":w("load",t);break;case"video":case"audio":for(a=0;a<Or.length;a++)w(Or[a],t);break;case"source":w("error",t);break;case"img":case"image":case"link":w("error",t),w("load",t);break;case"details":w("toggle",t);break;case"input":w("invalid",t),Yh(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":w("invalid",t);break;case"textarea":w("invalid",t),Kh(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Jy(t.textContent,a)?(n.popover!=null&&(w("beforetoggle",t),w("toggle",t)),n.onScroll!=null&&w("scroll",t),n.onScrollEnd!=null&&w("scrollend",t),n.onClick!=null&&(t.onclick=sa),t=!0):t=!1,t||en(e,!0)}function bp(e){for(Le=e.return;Le;)switch(Le.tag){case 5:case 31:case 13:St=!1;return;case 27:case 3:St=!0;return;default:Le=Le.return}}function vl(e){if(e!==Le)return!1;if(!z)return bp(e),z=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||lf(e.type,e.memoizedProps)),a=!a),a&&$&&en(e),bp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));$=fh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));$=fh(e)}else t===27?(t=$,ln(e.type)?(e=uf,uf=null,$=e):$=t):$=Le?vt(e.stateNode.nextSibling):null;return!0}function In(){$=Le=null,z=!1}function Jc(){var e=Xa;return e!==null&&(Ye===null?Ye=e:Ye.push.apply(Ye,e),Xa=null),e}function Cr(e){Xa===null?Xa=[e]:Xa.push(e)}var wd=Pt(null),Gn=null,ua=null;function xa(e,t,a){Z(wd,t._currentValue),t._currentValue=a}function da(e){e._currentValue=wd.current,be(wd)}function xd(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Ud(e,t,a,n){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var i=l.dependencies;if(i!==null){var r=l.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=l;for(var s=0;s<t.length;s++)if(o.context===t[s]){i.lanes|=a,o=i.alternate,o!==null&&(o.lanes|=a),xd(i.return,a,e),n||(r=null);break e}i=o.next}}else if(l.tag===18){if(r=l.return,r===null)throw Error(S(341));r.lanes|=a,i=r.alternate,i!==null&&(i.lanes|=a),xd(r,a,e),r=null}else r=l.child;if(r!==null)r.return=l;else for(r=l;r!==null;){if(r===e){r=null;break}if(l=r.sibling,l!==null){l.return=r.return,r=l;break}r=r.return}l=r}}function ai(e,t,a,n){e=null;for(var l=t,i=!1;l!==null;){if(!i){if((l.flags&524288)!==0)i=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var r=l.alternate;if(r===null)throw Error(S(387));if(r=r.memoizedProps,r!==null){var o=l.type;nt(l.pendingProps.value,r.value)||(e!==null?e.push(o):e=[o])}}else if(l===ps.current){if(r=l.alternate,r===null)throw Error(S(387));r.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Mr):e=[Mr])}l=l.return}e!==null&&Ud(t,e,a,n),t.flags|=262144}function bs(e){for(e=e.firstContext;e!==null;){if(!nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bn(e){Gn=e,ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Re(e){return ES(Gn,e)}function Xo(e,t){return Gn===null&&Bn(e),ES(e,t)}function ES(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ua===null){if(e===null)throw Error(S(308));ua=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ua=ua.next=t;return a}var MC=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},LC=ye.unstable_scheduleCallback,RC=ye.unstable_NormalPriority,pe={$$typeof:oa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new MC,data:new Map,refCount:0}}function Pr(e){e.refCount--,e.refCount===0&&LC(RC,function(){e.controller.abort()})}var sr=null,zd=0,Kl=0,Vl=null;function IC(e,t){if(sr===null){var a=sr=[];zd=0,Kl=em(),Vl={status:"pending",value:void 0,then:function(n){a.push(n)}}}return zd++,t.then(_p,_p),t}function _p(){if(--zd===0&&sr!==null){Vl!==null&&(Vl.status="fulfilled");var e=sr;sr=null,Kl=0,Vl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function BC(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var l=0;l<a.length;l++)(0,a[l])(t)},function(l){for(n.status="rejected",n.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),n}var Dp=O.S;O.S=function(e,t){My=We(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&IC(e,t),Dp!==null&&Dp(e,t)};var Mn=Pt(null);function Lf(){var e=Mn.current;return e!==null?e:Q.pooledCache}function rs(e,t){t===null?Z(Mn,Mn.current):Z(Mn,t.pool)}function pS(){var e=Lf();return e===null?null:{parent:pe._currentValue,pool:e}}var ni=Error(S(460)),Rf=Error(S(474)),ks=Error(S(542)),_s={then:function(){}};function Op(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hS(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(sa,sa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mp(e),e;default:if(typeof t.status=="string")t.then(sa,sa);else{if(e=Q,e!==null&&100<e.shellSuspendCounter)throw Error(S(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=n}},function(n){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mp(e),e}throw Ln=t,ni}}function _n(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ln=a,ni):a}}var Ln=null;function Np(){if(Ln===null)throw Error(S(459));var e=Ln;return Ln=null,e}function Mp(e){if(e===ni||e===ks)throw Error(S(483))}var Hl=null,br=0;function Ko(e){var t=br;return br+=1,Hl===null&&(Hl=[]),hS(Hl,e,t)}function Zi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Qo(e,t){throw t.$$typeof===yA?Error(S(525)):(e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function SS(e){function t(m,d){if(e){var p=m.deletions;p===null?(m.deletions=[d],m.flags|=16):p.push(d)}}function a(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function n(m){for(var d=new Map;m!==null;)m.key!==null?d.set(m.key,m):d.set(m.index,m),m=m.sibling;return d}function l(m,d){return m=ca(m,d),m.index=0,m.sibling=null,m}function i(m,d,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<d?(m.flags|=67108866,d):p):(m.flags|=67108866,d)):(m.flags|=1048576,d)}function r(m){return e&&m.alternate===null&&(m.flags|=67108866),m}function o(m,d,p,h){return d===null||d.tag!==6?(d=Fc(p,m.mode,h),d.return=m,d):(d=l(d,p),d.return=m,d)}function s(m,d,p,h){var A=p.type;return A===bl?f(m,d,p.props.children,h,p.key):d!==null&&(d.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ba&&_n(A)===d.type)?(d=l(d,p.props),Zi(d,p),d.return=m,d):(d=is(p.type,p.key,p.props,null,m.mode,h),Zi(d,p),d.return=m,d)}function u(m,d,p,h){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=Zc(p,m.mode,h),d.return=m,d):(d=l(d,p.children||[]),d.return=m,d)}function f(m,d,p,h,A){return d===null||d.tag!==7?(d=Nn(p,m.mode,h,A),d.return=m,d):(d=l(d,p),d.return=m,d)}function E(m,d,p){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=Fc(""+d,m.mode,p),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case zo:return p=is(d.type,d.key,d.props,null,m.mode,p),Zi(p,d),p.return=m,p;case er:return d=Zc(d,m.mode,p),d.return=m,d;case Ba:return d=_n(d),E(m,d,p)}if(tr(d)||Qi(d))return d=Nn(d,m.mode,p,null),d.return=m,d;if(typeof d.then=="function")return E(m,Ko(d),p);if(d.$$typeof===oa)return E(m,Xo(m,d),p);Qo(m,d)}return null}function c(m,d,p,h){var A=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return A!==null?null:o(m,d,""+p,h);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case zo:return p.key===A?s(m,d,p,h):null;case er:return p.key===A?u(m,d,p,h):null;case Ba:return p=_n(p),c(m,d,p,h)}if(tr(p)||Qi(p))return A!==null?null:f(m,d,p,h,null);if(typeof p.then=="function")return c(m,d,Ko(p),h);if(p.$$typeof===oa)return c(m,d,Xo(m,p),h);Qo(m,p)}return null}function g(m,d,p,h,A){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return m=m.get(p)||null,o(d,m,""+h,A);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case zo:return m=m.get(h.key===null?p:h.key)||null,s(d,m,h,A);case er:return m=m.get(h.key===null?p:h.key)||null,u(d,m,h,A);case Ba:return h=_n(h),g(m,d,p,h,A)}if(tr(h)||Qi(h))return m=m.get(p)||null,f(d,m,h,A,null);if(typeof h.then=="function")return g(m,d,p,Ko(h),A);if(h.$$typeof===oa)return g(m,d,p,Xo(d,h),A);Qo(d,h)}return null}function y(m,d,p,h){for(var A=null,I=null,v=d,D=d=0,C=null;v!==null&&D<p.length;D++){v.index>D?(C=v,v=null):C=v.sibling;var N=c(m,v,p[D],h);if(N===null){v===null&&(v=C);break}e&&v&&N.alternate===null&&t(m,v),d=i(N,d,D),I===null?A=N:I.sibling=N,I=N,v=C}if(D===p.length)return a(m,v),z&&ia(m,D),A;if(v===null){for(;D<p.length;D++)v=E(m,p[D],h),v!==null&&(d=i(v,d,D),I===null?A=v:I.sibling=v,I=v);return z&&ia(m,D),A}for(v=n(v);D<p.length;D++)C=g(v,m,D,p[D],h),C!==null&&(e&&C.alternate!==null&&v.delete(C.key===null?D:C.key),d=i(C,d,D),I===null?A=C:I.sibling=C,I=C);return e&&v.forEach(function(He){return t(m,He)}),z&&ia(m,D),A}function T(m,d,p,h){if(p==null)throw Error(S(151));for(var A=null,I=null,v=d,D=d=0,C=null,N=p.next();v!==null&&!N.done;D++,N=p.next()){v.index>D?(C=v,v=null):C=v.sibling;var He=c(m,v,N.value,h);if(He===null){v===null&&(v=C);break}e&&v&&He.alternate===null&&t(m,v),d=i(He,d,D),I===null?A=He:I.sibling=He,I=He,v=C}if(N.done)return a(m,v),z&&ia(m,D),A;if(v===null){for(;!N.done;D++,N=p.next())N=E(m,N.value,h),N!==null&&(d=i(N,d,D),I===null?A=N:I.sibling=N,I=N);return z&&ia(m,D),A}for(v=n(v);!N.done;D++,N=p.next())N=g(v,m,D,N.value,h),N!==null&&(e&&N.alternate!==null&&v.delete(N.key===null?D:N.key),d=i(N,d,D),I===null?A=N:I.sibling=N,I=N);return e&&v.forEach(function(hi){return t(m,hi)}),z&&ia(m,D),A}function _(m,d,p,h){if(typeof p=="object"&&p!==null&&p.type===bl&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case zo:e:{for(var A=p.key;d!==null;){if(d.key===A){if(A=p.type,A===bl){if(d.tag===7){a(m,d.sibling),h=l(d,p.props.children),h.return=m,m=h;break e}}else if(d.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ba&&_n(A)===d.type){a(m,d.sibling),h=l(d,p.props),Zi(h,p),h.return=m,m=h;break e}a(m,d);break}else t(m,d);d=d.sibling}p.type===bl?(h=Nn(p.props.children,m.mode,h,p.key),h.return=m,m=h):(h=is(p.type,p.key,p.props,null,m.mode,h),Zi(h,p),h.return=m,m=h)}return r(m);case er:e:{for(A=p.key;d!==null;){if(d.key===A)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){a(m,d.sibling),h=l(d,p.children||[]),h.return=m,m=h;break e}else{a(m,d);break}else t(m,d);d=d.sibling}h=Zc(p,m.mode,h),h.return=m,m=h}return r(m);case Ba:return p=_n(p),_(m,d,p,h)}if(tr(p))return y(m,d,p,h);if(Qi(p)){if(A=Qi(p),typeof A!="function")throw Error(S(150));return p=A.call(p),T(m,d,p,h)}if(typeof p.then=="function")return _(m,d,Ko(p),h);if(p.$$typeof===oa)return _(m,d,Xo(m,p),h);Qo(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint"?(p=""+p,d!==null&&d.tag===6?(a(m,d.sibling),h=l(d,p),h.return=m,m=h):(a(m,d),h=Fc(p,m.mode,h),h.return=m,m=h),r(m)):a(m,d)}return function(m,d,p,h){try{br=0;var A=_(m,d,p,h);return Hl=null,A}catch(v){if(v===ni||v===ks)throw v;var I=ke(29,v,null,m.mode);return I.lanes=h,I.return=m,I}finally{}}}var wn=SS(!0),yS=SS(!1),wa=!1;function If(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ka(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qa(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(V&2)!==0){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,t=As(e),cS(e,null,a),t}return Js(e,n,t,a),As(e)}function ur(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,zh(e,a)}}function kc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var l=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?l=i=r:i=i.next=r,a=a.next}while(a!==null);i===null?l=i=t:i=i.next=t}else l=i=t;a={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Vd=!1;function cr(){if(Vd){var e=Vl;if(e!==null)throw e}}function dr(e,t,a,n){Vd=!1;var l=e.updateQueue;wa=!1;var i=l.firstBaseUpdate,r=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var s=o,u=s.next;s.next=null,r===null?i=u:r.next=u,r=s;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==r&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=s))}if(i!==null){var E=l.baseState;r=0,f=u=s=null,o=i;do{var c=o.lane&-536870913,g=c!==o.lane;if(g?(U&c)===c:(n&c)===c){c!==0&&c===Kl&&(Vd=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var y=e,T=o;c=t;var _=a;switch(T.tag){case 1:if(y=T.payload,typeof y=="function"){E=y.call(_,E,c);break e}E=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=T.payload,c=typeof y=="function"?y.call(_,E,c):y,c==null)break e;E=W({},E,c);break e;case 2:wa=!0}}c=o.callback,c!==null&&(e.flags|=64,g&&(e.flags|=8192),g=l.callbacks,g===null?l.callbacks=[c]:g.push(c))}else g={lane:c,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=g,s=E):f=f.next=g,r|=c;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;g=o,o=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);f===null&&(s=E),l.baseState=s,l.firstBaseUpdate=u,l.lastBaseUpdate=f,i===null&&(l.shared.lanes=0),an|=r,e.lanes=r,e.memoizedState=E}}function vS(e,t){if(typeof e!="function")throw Error(S(191,e));e.call(t)}function TS(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)vS(a[e],t)}var Ql=Pt(null),Ds=Pt(0);function Lp(e,t){e=ha,Z(Ds,e),Z(Ql,t),ha=e|t.baseLanes}function Hd(){Z(Ds,ha),Z(Ql,Ql.current)}function Bf(){ha=Ds.current,be(Ql),be(Ds)}var lt=Pt(null),yt=null;function Ua(e){var t=e.alternate;Z(ue,ue.current&1),Z(lt,e),yt===null&&(t===null||Ql.current!==null||t.memoizedState!==null)&&(yt=e)}function Gd(e){Z(ue,ue.current),Z(lt,e),yt===null&&(yt=e)}function AS(e){e.tag===22?(Z(ue,ue.current),Z(lt,e),yt===null&&(yt=e)):za(e)}function za(){Z(ue,ue.current),Z(lt,lt.current)}function Je(e){be(lt),yt===e&&(yt=null),be(ue)}var ue=Pt(0);function Os(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||of(a)||sf(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=0,L=null,K=null,ge=null,Ns=!1,Gl=!1,xn=!1,Ms=0,_r=0,ql=null,wC=0;function le(){throw Error(S(321))}function wf(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!nt(e[a],t[a]))return!1;return!0}function xf(e,t,a,n,l,i){return ga=i,L=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?WS:Kf,xn=!1,i=a(n,l),xn=!1,Gl&&(i=bS(t,a,n,l)),CS(e),i}function CS(e){O.H=Dr;var t=K!==null&&K.next!==null;if(ga=0,ge=K=L=null,Ns=!1,_r=0,ql=null,t)throw Error(S(300));e===null||he||(e=e.dependencies,e!==null&&bs(e)&&(he=!0))}function bS(e,t,a,n){L=e;var l=0;do{if(Gl&&(ql=null),_r=0,Gl=!1,25<=l)throw Error(S(301));if(l+=1,ge=K=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}O.H=ey,i=t(a,n)}while(Gl);return i}function xC(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Vr(t):t,e=e.useState()[0],(K!==null?K.memoizedState:null)!==e&&(L.flags|=1024),t}function Uf(){var e=Ms!==0;return Ms=0,e}function zf(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Pf(e){if(Ns){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ns=!1}ga=0,ge=K=L=null,Gl=!1,_r=Ms=0,ql=null}function Ve(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?L.memoizedState=ge=e:ge=ge.next=e,ge}function ce(){if(K===null){var e=L.alternate;e=e!==null?e.memoizedState:null}else e=K.next;var t=ge===null?L.memoizedState:ge.next;if(t!==null)ge=t,K=e;else{if(e===null)throw L.alternate===null?Error(S(467)):Error(S(310));K=e,e={memoizedState:K.memoizedState,baseState:K.baseState,baseQueue:K.baseQueue,queue:K.queue,next:null},ge===null?L.memoizedState=ge=e:ge=ge.next=e}return ge}function $s(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vr(e){var t=_r;return _r+=1,ql===null&&(ql=[]),e=hS(ql,e,t),t=L,(ge===null?t.memoizedState:ge.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?WS:Kf),e}function Ws(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vr(e);if(e.$$typeof===oa)return Re(e)}throw Error(S(438,String(e)))}function Vf(e){var t=null,a=L.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=L.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=$s(),L.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=vA;return t.index++,a}function Ea(e,t){return typeof t=="function"?t(e):t}function os(e){var t=ce();return Hf(t,K,e)}function Hf(e,t,a){var n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=a;var l=e.baseQueue,i=n.pending;if(i!==null){if(l!==null){var r=l.next;l.next=i.next,i.next=r}t.baseQueue=l=i,n.pending=null}if(i=e.baseState,l===null)e.memoizedState=i;else{t=l.next;var o=r=null,s=null,u=t,f=!1;do{var E=u.lane&-536870913;if(E!==u.lane?(U&E)===E:(ga&E)===E){var c=u.revertLane;if(c===0)s!==null&&(s=s.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),E===Kl&&(f=!0);else if((ga&c)===c){u=u.next,c===Kl&&(f=!0);continue}else E={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},s===null?(o=s=E,r=i):s=s.next=E,L.lanes|=c,an|=c;E=u.action,xn&&a(i,E),i=u.hasEagerState?u.eagerState:a(i,E)}else c={lane:E,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},s===null?(o=s=c,r=i):s=s.next=c,L.lanes|=E,an|=E;u=u.next}while(u!==null&&u!==t);if(s===null?r=i:s.next=o,!nt(i,e.memoizedState)&&(he=!0,f&&(a=Vl,a!==null)))throw a;e.memoizedState=i,e.baseState=r,e.baseQueue=s,n.lastRenderedState=i}return l===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function $c(e){var t=ce(),a=t.queue;if(a===null)throw Error(S(311));a.lastRenderedReducer=e;var n=a.dispatch,l=a.pending,i=t.memoizedState;if(l!==null){a.pending=null;var r=l=l.next;do i=e(i,r.action),r=r.next;while(r!==l);nt(i,t.memoizedState)||(he=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function _S(e,t,a){var n=L,l=ce(),i=z;if(i){if(a===void 0)throw Error(S(407));a=a()}else a=t();var r=!nt((K||l).memoizedState,a);if(r&&(l.memoizedState=a,he=!0),l=l.queue,Gf(NS.bind(null,n,l,e),[e]),l.getSnapshot!==t||r||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,Fl(9,{destroy:void 0},OS.bind(null,n,l,a,t),null),Q===null)throw Error(S(349));i||(ga&127)!==0||DS(n,t,a)}return a}function DS(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=L.updateQueue,t===null?(t=$s(),L.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function OS(e,t,a,n){t.value=a,t.getSnapshot=n,MS(t)&&LS(e)}function NS(e,t,a){return a(function(){MS(t)&&LS(e)})}function MS(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!nt(e,a)}catch{return!0}}function LS(e){var t=Hn(e,2);t!==null&&Xe(t,e,2)}function qd(e){var t=Ve();if(typeof e=="function"){var a=e;if(e=a(),xn){Va(!0);try{a()}finally{Va(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t}function RS(e,t,a,n){return e.baseState=a,Hf(e,K,typeof n=="function"?n:Ea)}function UC(e,t,a,n,l){if(tu(e))throw Error(S(485));if(e=t.action,e!==null){var i={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};O.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,IS(t,i)):(i.next=a.next,t.pending=a.next=i)}}function IS(e,t){var a=t.action,n=t.payload,l=e.state;if(t.isTransition){var i=O.T,r={};O.T=r;try{var o=a(l,n),s=O.S;s!==null&&s(r,o),Rp(e,t,o)}catch(u){jd(e,t,u)}finally{i!==null&&r.types!==null&&(i.types=r.types),O.T=i}}else try{i=a(l,n),Rp(e,t,i)}catch(u){jd(e,t,u)}}function Rp(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Ip(e,t,n)},function(n){return jd(e,t,n)}):Ip(e,t,a)}function Ip(e,t,a){t.status="fulfilled",t.value=a,BS(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,IS(e,a)))}function jd(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,BS(t),t=t.next;while(t!==n)}e.action=null}function BS(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function wS(e,t){return t}function Bp(e,t){if(z){var a=Q.formState;if(a!==null){e:{var n=L;if(z){if($){t:{for(var l=$,i=St;l.nodeType!==8;){if(!i){l=null;break t}if(l=vt(l.nextSibling),l===null){l=null;break t}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){$=vt(l.nextSibling),n=l.data==="F!";break e}}en(n)}n=!1}n&&(t=a[0])}}return a=Ve(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wS,lastRenderedState:t},a.queue=n,a=JS.bind(null,L,n),n.dispatch=a,n=qd(!1),i=Xf.bind(null,L,!1,n.queue),n=Ve(),l={state:t,dispatch:null,action:e,pending:null},n.queue=l,a=UC.bind(null,L,l,i,a),l.dispatch=a,n.memoizedState=e,[t,a,!1]}function wp(e){var t=ce();return xS(t,K,e)}function xS(e,t,a){if(t=Hf(e,t,wS)[0],e=os(Ea)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Vr(t)}catch(r){throw r===ni?ks:r}else n=t;t=ce();var l=t.queue,i=l.dispatch;return a!==t.memoizedState&&(L.flags|=2048,Fl(9,{destroy:void 0},zC.bind(null,l,a),null)),[n,i,e]}function zC(e,t){e.action=t}function xp(e){var t=ce(),a=K;if(a!==null)return xS(t,a,e);ce(),t=t.memoizedState,a=ce();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Fl(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=L.updateQueue,t===null&&(t=$s(),L.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function US(){return ce().memoizedState}function ss(e,t,a,n){var l=Ve();L.flags|=e,l.memoizedState=Fl(1|t,{destroy:void 0},a,n===void 0?null:n)}function eu(e,t,a,n){var l=ce();n=n===void 0?null:n;var i=l.memoizedState.inst;K!==null&&n!==null&&wf(n,K.memoizedState.deps)?l.memoizedState=Fl(t,i,a,n):(L.flags|=e,l.memoizedState=Fl(1|t,i,a,n))}function Up(e,t){ss(8390656,8,e,t)}function Gf(e,t){eu(2048,8,e,t)}function PC(e){L.flags|=4;var t=L.updateQueue;if(t===null)t=$s(),L.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function zS(e){var t=ce().memoizedState;return PC({ref:t,nextImpl:e}),function(){if((V&2)!==0)throw Error(S(440));return t.impl.apply(void 0,arguments)}}function PS(e,t){return eu(4,2,e,t)}function VS(e,t){return eu(4,4,e,t)}function HS(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GS(e,t,a){a=a!=null?a.concat([e]):null,eu(4,4,HS.bind(null,t,e),a)}function qf(){}function qS(e,t){var a=ce();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&wf(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function jS(e,t){var a=ce();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&wf(t,n[1]))return n[0];if(n=e(),xn){Va(!0);try{e()}finally{Va(!1)}}return a.memoizedState=[n,t],n}function jf(e,t,a){return a===void 0||(ga&1073741824)!==0&&(U&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Ry(),L.lanes|=e,an|=e,a)}function YS(e,t,a,n){return nt(a,t)?a:Ql.current!==null?(e=jf(e,a,n),nt(e,t)||(he=!0),e):(ga&42)===0||(ga&1073741824)!==0&&(U&261930)===0?(he=!0,e.memoizedState=a):(e=Ry(),L.lanes|=e,an|=e,t)}function XS(e,t,a,n,l){var i=H.p;H.p=i!==0&&8>i?i:8;var r=O.T,o={};O.T=o,Xf(e,!1,t,a);try{var s=l(),u=O.S;if(u!==null&&u(o,s),s!==null&&typeof s=="object"&&typeof s.then=="function"){var f=BC(s,n);fr(e,t,f,at(e))}else fr(e,t,n,at(e))}catch(E){fr(e,t,{then:function(){},status:"rejected",reason:E},at())}finally{H.p=i,r!==null&&o.types!==null&&(r.types=o.types),O.T=r}}function VC(){}function Yd(e,t,a,n){if(e.tag!==5)throw Error(S(476));var l=KS(e).queue;XS(e,l,t,On,a===null?VC:function(){return QS(e),a(n)})}function KS(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:On,baseState:On,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:On},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function QS(e){var t=KS(e);t.next===null&&(t=e.alternate.memoizedState),fr(e,t.next.queue,{},at())}function Yf(){return Re(Mr)}function FS(){return ce().memoizedState}function ZS(){return ce().memoizedState}function HC(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=at();e=Ka(a);var n=Qa(t,e,a);n!==null&&(Xe(n,t,a),ur(n,t,a)),t={cache:Mf()},e.payload=t;return}t=t.return}}function GC(e,t,a){var n=at();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},tu(e)?kS(t,a):(a=_f(e,t,a,n),a!==null&&(Xe(a,e,n),$S(a,t,n)))}function JS(e,t,a){var n=at();fr(e,t,a,n)}function fr(e,t,a,n){var l={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(tu(e))kS(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,o=i(r,a);if(l.hasEagerState=!0,l.eagerState=o,nt(o,r))return Js(e,t,l,0),Q===null&&Zs(),!1}catch{}finally{}if(a=_f(e,t,l,n),a!==null)return Xe(a,e,n),$S(a,t,n),!0}return!1}function Xf(e,t,a,n){if(n={lane:2,revertLane:em(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},tu(e)){if(t)throw Error(S(479))}else t=_f(e,a,n,2),t!==null&&Xe(t,e,2)}function tu(e){var t=e.alternate;return e===L||t!==null&&t===L}function kS(e,t){Gl=Ns=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function $S(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,zh(e,a)}}var Dr={readContext:Re,use:Ws,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Dr.useEffectEvent=le;var WS={readContext:Re,use:Ws,useCallback:function(e,t){return Ve().memoizedState=[e,t===void 0?null:t],e},useContext:Re,useEffect:Up,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ss(4194308,4,HS.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ss(4194308,4,e,t)},useInsertionEffect:function(e,t){ss(4,2,e,t)},useMemo:function(e,t){var a=Ve();t=t===void 0?null:t;var n=e();if(xn){Va(!0);try{e()}finally{Va(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Ve();if(a!==void 0){var l=a(t);if(xn){Va(!0);try{a(t)}finally{Va(!1)}}}else l=t;return n.memoizedState=n.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},n.queue=e,e=e.dispatch=GC.bind(null,L,e),[n.memoizedState,e]},useRef:function(e){var t=Ve();return e={current:e},t.memoizedState=e},useState:function(e){e=qd(e);var t=e.queue,a=JS.bind(null,L,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(e,t){var a=Ve();return jf(a,e,t)},useTransition:function(){var e=qd(!1);return e=XS.bind(null,L,e.queue,!0,!1),Ve().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=L,l=Ve();if(z){if(a===void 0)throw Error(S(407));a=a()}else{if(a=t(),Q===null)throw Error(S(349));(U&127)!==0||DS(n,t,a)}l.memoizedState=a;var i={value:a,getSnapshot:t};return l.queue=i,Up(NS.bind(null,n,i,e),[e]),n.flags|=2048,Fl(9,{destroy:void 0},OS.bind(null,n,i,a,t),null),a},useId:function(){var e=Ve(),t=Q.identifierPrefix;if(z){var a=xt,n=wt;a=(n&~(1<<32-tt(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ms++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=wC++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Yf,useFormState:Bp,useActionState:Bp,useOptimistic:function(e){var t=Ve();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Xf.bind(null,L,!0,a),a.dispatch=t,[e,t]},useMemoCache:Vf,useCacheRefresh:function(){return Ve().memoizedState=HC.bind(null,L)},useEffectEvent:function(e){var t=Ve(),a={impl:e};return t.memoizedState=a,function(){if((V&2)!==0)throw Error(S(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:Re,use:Ws,useCallback:qS,useContext:Re,useEffect:Gf,useImperativeHandle:GS,useInsertionEffect:PS,useLayoutEffect:VS,useMemo:jS,useReducer:os,useRef:US,useState:function(){return os(Ea)},useDebugValue:qf,useDeferredValue:function(e,t){var a=ce();return YS(a,K.memoizedState,e,t)},useTransition:function(){var e=os(Ea)[0],t=ce().memoizedState;return[typeof e=="boolean"?e:Vr(e),t]},useSyncExternalStore:_S,useId:FS,useHostTransitionStatus:Yf,useFormState:wp,useActionState:wp,useOptimistic:function(e,t){var a=ce();return RS(a,K,e,t)},useMemoCache:Vf,useCacheRefresh:ZS};Kf.useEffectEvent=zS;var ey={readContext:Re,use:Ws,useCallback:qS,useContext:Re,useEffect:Gf,useImperativeHandle:GS,useInsertionEffect:PS,useLayoutEffect:VS,useMemo:jS,useReducer:$c,useRef:US,useState:function(){return $c(Ea)},useDebugValue:qf,useDeferredValue:function(e,t){var a=ce();return K===null?jf(a,e,t):YS(a,K.memoizedState,e,t)},useTransition:function(){var e=$c(Ea)[0],t=ce().memoizedState;return[typeof e=="boolean"?e:Vr(e),t]},useSyncExternalStore:_S,useId:FS,useHostTransitionStatus:Yf,useFormState:xp,useActionState:xp,useOptimistic:function(e,t){var a=ce();return K!==null?RS(a,K,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:ZS};ey.useEffectEvent=zS;function Wc(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:W({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Xd={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=at(),l=Ka(n);l.payload=t,a!=null&&(l.callback=a),t=Qa(e,l,n),t!==null&&(Xe(t,e,n),ur(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=at(),l=Ka(n);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=Qa(e,l,n),t!==null&&(Xe(t,e,n),ur(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=at(),n=Ka(a);n.tag=2,t!=null&&(n.callback=t),t=Qa(e,n,a),t!==null&&(Xe(t,e,a),ur(t,e,a))}};function zp(e,t,a,n,l,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,r):t.prototype&&t.prototype.isPureReactComponent?!Tr(a,n)||!Tr(l,i):!0}function Pp(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Xd.enqueueReplaceState(t,t.state,null)}function Un(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=W({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}function ty(e){Ts(e)}function ay(e){console.error(e)}function ny(e){Ts(e)}function Ls(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Vp(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Kd(e,t,a){return a=Ka(a),a.tag=3,a.payload={element:null},a.callback=function(){Ls(e,t)},a}function ly(e){return e=Ka(e),e.tag=3,e}function iy(e,t,a,n){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var i=n.value;e.payload=function(){return l(i)},e.callback=function(){Vp(t,a,n)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Vp(t,a,n),typeof l!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function qC(e,t,a,n,l){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&ai(t,a,l,!0),a=lt.current,a!==null){switch(a.tag){case 31:case 13:return yt===null?xs():a.alternate===null&&ie===0&&(ie=3),a.flags&=-257,a.flags|=65536,a.lanes=l,n===_s?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),cd(e,n,l)),!1;case 22:return a.flags|=65536,n===_s?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),cd(e,n,l)),!1}throw Error(S(435,a.tag))}return cd(e,n,l),xs(),!1}if(z)return t=lt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,n!==Bd&&(e=Error(S(422),{cause:n}),Cr(ht(e,a)))):(n!==Bd&&(t=Error(S(423),{cause:n}),Cr(ht(t,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,n=ht(n,a),l=Kd(e.stateNode,n,l),kc(e,l),ie!==4&&(ie=2)),!1;var i=Error(S(520),{cause:n});if(i=ht(i,a),Er===null?Er=[i]:Er.push(i),ie!==4&&(ie=2),t===null)return!0;n=ht(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=Kd(a.stateNode,n,e),kc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Fa===null||!Fa.has(i))))return a.flags|=65536,l&=-l,a.lanes|=l,l=ly(l),iy(l,e,a,n),kc(a,l),!1}a=a.return}while(a!==null);return!1}var Qf=Error(S(461)),he=!1;function Ne(e,t,a,n){t.child=e===null?yS(t,null,a,n):wn(t,e.child,a,n)}function Hp(e,t,a,n,l){a=a.render;var i=t.ref;if("ref"in n){var r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}else r=n;return Bn(t),n=xf(e,t,a,r,i,l),o=Uf(),e!==null&&!he?(zf(e,t,l),pa(e,t,l)):(z&&o&&Of(t),t.flags|=1,Ne(e,t,n,l),t.child)}function Gp(e,t,a,n,l){if(e===null){var i=a.type;return typeof i=="function"&&!Df(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,ry(e,t,i,n,l)):(e=is(a.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Ff(e,l)){var r=i.memoizedProps;if(a=a.compare,a=a!==null?a:Tr,a(r,n)&&e.ref===t.ref)return pa(e,t,l)}return t.flags|=1,e=ca(i,n),e.ref=t.ref,e.return=t,t.child=e}function ry(e,t,a,n,l){if(e!==null){var i=e.memoizedProps;if(Tr(i,n)&&e.ref===t.ref)if(he=!1,t.pendingProps=n=i,Ff(e,l))(e.flags&131072)!==0&&(he=!0);else return t.lanes=e.lanes,pa(e,t,l)}return Qd(e,t,a,n,l)}function oy(e,t,a,n){var l=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;n=l&~i}else n=0,t.child=null;return qp(e,t,i,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&rs(t,i!==null?i.cachePool:null),i!==null?Lp(t,i):Hd(),AS(t);else return n=t.lanes=536870912,qp(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(rs(t,i.cachePool),Lp(t,i),za(t),t.memoizedState=null):(e!==null&&rs(t,null),Hd(),za(t));return Ne(e,t,l,a),t.child}function nr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qp(e,t,a,n,l){var i=Lf();return i=i===null?null:{parent:pe._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&rs(t,null),Hd(),AS(t),e!==null&&ai(e,t,n,!0),t.childLanes=l,null}function us(e,t){return t=Rs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function jp(e,t,a){return wn(t,e.child,null,a),e=us(t,t.pendingProps),e.flags|=2,Je(t),t.memoizedState=null,e}function jC(e,t,a){var n=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(z){if(n.mode==="hidden")return e=us(t,n),t.lanes=536870912,nr(null,e);if(Gd(t),(e=$)?(e=Wy(e,St),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Wa!==null?{id:wt,overflow:xt}:null,retryLane:536870912,hydrationErrors:null},a=fS(e),a.return=t,t.child=a,Le=t,$=null)):e=null,e===null)throw en(t);return t.lanes=536870912,null}return us(t,n)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(Gd(t),l)if(t.flags&256)t.flags&=-257,t=jp(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(S(558));else if(he||ai(e,t,a,!1),l=(a&e.childLanes)!==0,he||l){if(n=Q,n!==null&&(r=Ph(n,a),r!==0&&r!==i.retryLane))throw i.retryLane=r,Hn(e,r),Xe(n,e,r),Qf;xs(),t=jp(e,t,a)}else e=i.treeContext,$=vt(r.nextSibling),Le=t,z=!0,Xa=null,St=!1,e!==null&&gS(t,e),t=us(t,n),t.flags|=4096;return t}return e=ca(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function cs(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(S(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Qd(e,t,a,n,l){return Bn(t),a=xf(e,t,a,n,void 0,l),n=Uf(),e!==null&&!he?(zf(e,t,l),pa(e,t,l)):(z&&n&&Of(t),t.flags|=1,Ne(e,t,a,l),t.child)}function Yp(e,t,a,n,l,i){return Bn(t),t.updateQueue=null,a=bS(t,n,a,l),CS(e),n=Uf(),e!==null&&!he?(zf(e,t,i),pa(e,t,i)):(z&&n&&Of(t),t.flags|=1,Ne(e,t,a,i),t.child)}function Xp(e,t,a,n,l){if(Bn(t),t.stateNode===null){var i=Il,r=a.contextType;typeof r=="object"&&r!==null&&(i=Re(r)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Xd,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},If(t),r=a.contextType,i.context=typeof r=="object"&&r!==null?Re(r):Il,i.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(Wc(t,a,r,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&Xd.enqueueReplaceState(i,i.state,null),dr(t,n,i,l),cr(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,s=Un(a,o);i.props=s;var u=i.context,f=a.contextType;r=Il,typeof f=="object"&&f!==null&&(r=Re(f));var E=a.getDerivedStateFromProps;f=typeof E=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||u!==r)&&Pp(t,i,n,r),wa=!1;var c=t.memoizedState;i.state=c,dr(t,n,i,l),cr(),u=t.memoizedState,o||c!==u||wa?(typeof E=="function"&&(Wc(t,a,E,n),u=t.memoizedState),(s=wa||zp(t,a,s,n,c,u,r))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=r,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Pd(e,t),r=t.memoizedProps,f=Un(a,r),i.props=f,E=t.pendingProps,c=i.context,u=a.contextType,s=Il,typeof u=="object"&&u!==null&&(s=Re(u)),o=a.getDerivedStateFromProps,(u=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==E||c!==s)&&Pp(t,i,n,s),wa=!1,c=t.memoizedState,i.state=c,dr(t,n,i,l),cr();var g=t.memoizedState;r!==E||c!==g||wa||e!==null&&e.dependencies!==null&&bs(e.dependencies)?(typeof o=="function"&&(Wc(t,a,o,n),g=t.memoizedState),(f=wa||zp(t,a,f,n,c,g,s)||e!==null&&e.dependencies!==null&&bs(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=s,n=f):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,cs(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=wn(t,e.child,null,l),t.child=wn(t,null,a,l)):Ne(e,t,a,l),t.memoizedState=i.state,e=t.child):e=pa(e,t,l),e}function Kp(e,t,a,n){return In(),t.flags|=256,Ne(e,t,a,n),t.child}var ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function td(e){return{baseLanes:e,cachePool:pS()}}function ad(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=$e),e}function sy(e,t,a){var n=t.pendingProps,l=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(ue.current&2)!==0),r&&(l=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(z){if(l?Ua(t):za(t),(e=$)?(e=Wy(e,St),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Wa!==null?{id:wt,overflow:xt}:null,retryLane:536870912,hydrationErrors:null},a=fS(e),a.return=t,t.child=a,Le=t,$=null)):e=null,e===null)throw en(t);return sf(e)?t.lanes=32:t.lanes=536870912,null}var o=n.children;return n=n.fallback,l?(za(t),l=t.mode,o=Rs({mode:"hidden",children:o},l),n=Nn(n,l,a,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n=t.child,n.memoizedState=td(a),n.childLanes=ad(e,r,a),t.memoizedState=ed,nr(null,n)):(Ua(t),Fd(t,o))}var s=e.memoizedState;if(s!==null&&(o=s.dehydrated,o!==null)){if(i)t.flags&256?(Ua(t),t.flags&=-257,t=nd(e,t,a)):t.memoizedState!==null?(za(t),t.child=e.child,t.flags|=128,t=null):(za(t),o=n.fallback,l=t.mode,n=Rs({mode:"visible",children:n.children},l),o=Nn(o,l,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,wn(t,e.child,null,a),n=t.child,n.memoizedState=td(a),n.childLanes=ad(e,r,a),t.memoizedState=ed,t=nr(null,n));else if(Ua(t),sf(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;r=u,n=Error(S(419)),n.stack="",n.digest=r,Cr({value:n,source:null,stack:null}),t=nd(e,t,a)}else if(he||ai(e,t,a,!1),r=(a&e.childLanes)!==0,he||r){if(r=Q,r!==null&&(n=Ph(r,a),n!==0&&n!==s.retryLane))throw s.retryLane=n,Hn(e,n),Xe(r,e,n),Qf;of(o)||xs(),t=nd(e,t,a)}else of(o)?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,$=vt(o.nextSibling),Le=t,z=!0,Xa=null,St=!1,e!==null&&gS(t,e),t=Fd(t,n.children),t.flags|=4096);return t}return l?(za(t),o=n.fallback,l=t.mode,s=e.child,u=s.sibling,n=ca(s,{mode:"hidden",children:n.children}),n.subtreeFlags=s.subtreeFlags&65011712,u!==null?o=ca(u,o):(o=Nn(o,l,a,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,nr(null,n),n=t.child,o=e.child.memoizedState,o===null?o=td(a):(l=o.cachePool,l!==null?(s=pe._currentValue,l=l.parent!==s?{parent:s,pool:s}:l):l=pS(),o={baseLanes:o.baseLanes|a,cachePool:l}),n.memoizedState=o,n.childLanes=ad(e,r,a),t.memoizedState=ed,nr(e.child,n)):(Ua(t),a=e.child,e=a.sibling,a=ca(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function Fd(e,t){return t=Rs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Rs(e,t){return e=ke(22,e,null,t),e.lanes=0,e}function nd(e,t,a){return wn(t,e.child,null,a),e=Fd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qp(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),xd(e.return,t,a)}function ld(e,t,a,n,l,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:l,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=a,r.tailMode=l,r.treeForkCount=i)}function uy(e,t,a){var n=t.pendingProps,l=n.revealOrder,i=n.tail;n=n.children;var r=ue.current,o=(r&2)!==0;if(o?(r=r&1|2,t.flags|=128):r&=1,Z(ue,r),Ne(e,t,n,a),n=z?Ar:0,!o&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qp(e,a,t);else if(e.tag===19)Qp(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(a=t.child,l=null;a!==null;)e=a.alternate,e!==null&&Os(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=t.child,t.child=null):(l=a.sibling,a.sibling=null),ld(t,!1,l,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Os(e)===null){t.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}ld(t,!0,a,null,i,n);break;case"together":ld(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function pa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),an|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ai(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,a=ca(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ca(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ff(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&bs(e)))}function YC(e,t,a){switch(t.tag){case 3:hs(t,t.stateNode.containerInfo),xa(t,pe,e.memoizedState.cache),In();break;case 27:case 5:Ad(t);break;case 4:hs(t,t.stateNode.containerInfo);break;case 10:xa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gd(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ua(t),t.flags|=128,null):(a&t.child.childLanes)!==0?sy(e,t,a):(Ua(t),e=pa(e,t,a),e!==null?e.sibling:null);Ua(t);break;case 19:var l=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(ai(e,t,a,!1),n=(a&t.childLanes)!==0),l){if(n)return uy(e,t,a);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Z(ue,ue.current),n)break;return null;case 22:return t.lanes=0,oy(e,t,a,t.pendingProps);case 24:xa(t,pe,e.memoizedState.cache)}return pa(e,t,a)}function cy(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)he=!0;else{if(!Ff(e,a)&&(t.flags&128)===0)return he=!1,YC(e,t,a);he=(e.flags&131072)!==0}else he=!1,z&&(t.flags&1048576)!==0&&mS(t,Ar,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=_n(t.elementType),t.type=e,typeof e=="function")Df(e)?(n=Un(e,n),t.tag=1,t=Xp(null,t,e,n,a)):(t.tag=0,t=Qd(null,t,e,n,a));else{if(e!=null){var l=e.$$typeof;if(l===ff){t.tag=11,t=Hp(null,t,e,n,a);break e}else if(l===mf){t.tag=14,t=Gp(null,t,e,n,a);break e}}throw t=vd(e)||e,Error(S(306,t,""))}}return t;case 0:return Qd(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,l=Un(n,t.pendingProps),Xp(e,t,n,l,a);case 3:e:{if(hs(t,t.stateNode.containerInfo),e===null)throw Error(S(387));n=t.pendingProps;var i=t.memoizedState;l=i.element,Pd(e,t),dr(t,n,null,a);var r=t.memoizedState;if(n=r.cache,xa(t,pe,n),n!==i.cache&&Ud(t,[pe],a,!0),cr(),n=r.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Kp(e,t,n,a);break e}else if(n!==l){l=ht(Error(S(424)),t),Cr(l),t=Kp(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($=vt(e.firstChild),Le=t,z=!0,Xa=null,St=!0,a=yS(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(In(),n===l){t=pa(e,t,a);break e}Ne(e,t,n,a)}t=t.child}return t;case 26:return cs(e,t),e===null?(a=Eh(t.type,null,t.pendingProps,null))?t.memoizedState=a:z||(a=t.type,e=t.pendingProps,n=Vs(Ya.current).createElement(a),n[Me]=t,n[Ke]=e,Ie(n,a,e),Ce(n),t.stateNode=n):t.memoizedState=Eh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ad(t),e===null&&z&&(n=t.stateNode=ev(t.type,t.pendingProps,Ya.current),Le=t,St=!0,l=$,ln(t.type)?(uf=l,$=vt(n.firstChild)):$=l),Ne(e,t,t.pendingProps.children,a),cs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&z&&((l=n=$)&&(n=Sb(n,t.type,t.pendingProps,St),n!==null?(t.stateNode=n,Le=t,$=vt(n.firstChild),St=!1,l=!0):l=!1),l||en(t)),Ad(t),l=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,n=i.children,lf(l,i)?n=null:r!==null&&lf(l,r)&&(t.flags|=32),t.memoizedState!==null&&(l=xf(e,t,xC,null,null,a),Mr._currentValue=l),cs(e,t),Ne(e,t,n,a),t.child;case 6:return e===null&&z&&((e=a=$)&&(a=yb(a,t.pendingProps,St),a!==null?(t.stateNode=a,Le=t,$=null,e=!0):e=!1),e||en(t)),null;case 13:return sy(e,t,a);case 4:return hs(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wn(t,null,n,a):Ne(e,t,n,a),t.child;case 11:return Hp(e,t,t.type,t.pendingProps,a);case 7:return Ne(e,t,t.pendingProps,a),t.child;case 8:return Ne(e,t,t.pendingProps.children,a),t.child;case 12:return Ne(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,xa(t,t.type,n.value),Ne(e,t,n.children,a),t.child;case 9:return l=t.type._context,n=t.pendingProps.children,Bn(t),l=Re(l),n=n(l),t.flags|=1,Ne(e,t,n,a),t.child;case 14:return Gp(e,t,t.type,t.pendingProps,a);case 15:return ry(e,t,t.type,t.pendingProps,a);case 19:return uy(e,t,a);case 31:return jC(e,t,a);case 22:return oy(e,t,a,t.pendingProps);case 24:return Bn(t),n=Re(pe),e===null?(l=Lf(),l===null&&(l=Q,i=Mf(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=a),l=i),t.memoizedState={parent:n,cache:l},If(t),xa(t,pe,l)):((e.lanes&a)!==0&&(Pd(e,t),dr(t,null,null,a),cr()),l=e.memoizedState,i=t.memoizedState,l.parent!==n?(l={parent:n,cache:n},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),xa(t,pe,n)):(n=i.cache,xa(t,pe,n),n!==l.cache&&Ud(t,[pe],a,!0))),Ne(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(S(156,t.tag))}function ta(e){e.flags|=4}function id(e,t,a,n,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(wy())e.flags|=8192;else throw Ln=_s,Rf}else e.flags&=-16777217}function Fp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!nv(t))if(wy())e.flags|=8192;else throw Ln=_s,Rf}function Fo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?xh():536870912,e.lanes|=t,Zl|=t)}function Ji(e,t){if(!z)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function k(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags&65011712,n|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function XC(e,t,a){var n=t.pendingProps;switch(Nf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return k(t),null;case 1:return k(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),da(pe),jl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(vl(t)?ta(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Jc())),k(t),null;case 26:var l=t.type,i=t.memoizedState;return e===null?(ta(t),i!==null?(k(t),Fp(t,i)):(k(t),id(t,l,null,n,a))):i?i!==e.memoizedState?(ta(t),k(t),Fp(t,i)):(k(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&ta(t),k(t),id(t,l,e,n,a)),null;case 27:if(Ss(t),a=Ya.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ta(t);else{if(!n){if(t.stateNode===null)throw Error(S(166));return k(t),null}e=zt.current,vl(t)?Cp(t,e):(e=ev(l,n,a),t.stateNode=e,ta(t))}return k(t),null;case 5:if(Ss(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ta(t);else{if(!n){if(t.stateNode===null)throw Error(S(166));return k(t),null}if(i=zt.current,vl(t))Cp(t,i);else{var r=Vs(Ya.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?r.createElement(l,{is:n.is}):r.createElement(l)}}i[Me]=t,i[Ke]=n;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(Ie(i,l,n),l){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ta(t)}}return k(t),id(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ta(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(S(166));if(e=Ya.current,vl(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,l=Le,l!==null)switch(l.tag){case 27:case 5:n=l.memoizedProps}e[Me]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Jy(e.nodeValue,a)),e||en(t,!0)}else e=Vs(e).createTextNode(n),e[Me]=t,t.stateNode=e}return k(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=vl(t),a!==null){if(e===null){if(!n)throw Error(S(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(557));e[Me]=t}else In(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;k(t),e=!1}else a=Jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Je(t),t):(Je(t),null);if((t.flags&128)!==0)throw Error(S(558))}return k(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=vl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(S(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(S(317));l[Me]=t}else In(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;k(t),l=!1}else l=Jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(Je(t),t):(Je(t),null)}return Je(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,l=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(l=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==l&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Fo(t,t.updateQueue),k(t),null);case 4:return jl(),e===null&&tm(t.stateNode.containerInfo),k(t),null;case 10:return da(t.type),k(t),null;case 19:if(be(ue),n=t.memoizedState,n===null)return k(t),null;if(l=(t.flags&128)!==0,i=n.rendering,i===null)if(l)Ji(n,!1);else{if(ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Os(e),i!==null){for(t.flags|=128,Ji(n,!1),e=i.updateQueue,t.updateQueue=e,Fo(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)dS(a,e),a=a.sibling;return Z(ue,ue.current&1|2),z&&ia(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&We()>Bs&&(t.flags|=128,l=!0,Ji(n,!1),t.lanes=4194304)}else{if(!l)if(e=Os(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Fo(t,e),Ji(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!z)return k(t),null}else 2*We()-n.renderingStartTime>Bs&&a!==536870912&&(t.flags|=128,l=!0,Ji(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=We(),e.sibling=null,a=ue.current,Z(ue,l?a&1|2:a&1),z&&ia(t,n.treeForkCount),e):(k(t),null);case 22:case 23:return Je(t),Bf(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(k(t),t.subtreeFlags&6&&(t.flags|=8192)):k(t),a=t.updateQueue,a!==null&&Fo(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&be(Mn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),da(pe),k(t),null;case 25:return null;case 30:return null}throw Error(S(156,t.tag))}function KC(e,t){switch(Nf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return da(pe),jl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ss(t),null;case 31:if(t.memoizedState!==null){if(Je(t),t.alternate===null)throw Error(S(340));In()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Je(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));In()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(ue),null;case 4:return jl(),null;case 10:return da(t.type),null;case 22:case 23:return Je(t),Bf(),e!==null&&be(Mn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return da(pe),null;case 25:return null;default:return null}}function dy(e,t){switch(Nf(t),t.tag){case 3:da(pe),jl();break;case 26:case 27:case 5:Ss(t);break;case 4:jl();break;case 31:t.memoizedState!==null&&Je(t);break;case 13:Je(t);break;case 19:be(ue);break;case 10:da(t.type);break;case 22:case 23:Je(t),Bf(),e!==null&&be(Mn);break;case 24:da(pe)}}function Hr(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var l=n.next;a=l;do{if((a.tag&e)===e){n=void 0;var i=a.create,r=a.inst;n=i(),r.destroy=n}a=a.next}while(a!==l)}}catch(o){j(t,t.return,o)}}function tn(e,t,a){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var i=l.next;n=i;do{if((n.tag&e)===e){var r=n.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,l=t;var s=a,u=o;try{u()}catch(f){j(l,s,f)}}}n=n.next}while(n!==i)}}catch(f){j(t,t.return,f)}}function fy(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{TS(t,a)}catch(n){j(e,e.return,n)}}}function my(e,t,a){a.props=Un(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){j(e,t,n)}}function mr(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(l){j(e,t,l)}}function Ut(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(l){j(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){j(e,t,l)}else a.current=null}function gy(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(l){j(e,e.return,l)}}function rd(e,t,a){try{var n=e.stateNode;fb(n,e.type,a,t),n[Ke]=t}catch(l){j(e,e.return,l)}}function Ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ln(e.type)||e.tag===4}function od(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ln(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zd(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=sa));else if(n!==4&&(n===27&&ln(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Zd(e,t,a),e=e.sibling;e!==null;)Zd(e,t,a),e=e.sibling}function Is(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&ln(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Is(e,t,a),e=e.sibling;e!==null;)Is(e,t,a),e=e.sibling}function py(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Ie(t,n,a),t[Me]=e,t[Ke]=a}catch(i){j(e,e.return,i)}}var ra=!1,Ee=!1,sd=!1,Zp=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function QC(e,t){if(e=e.containerInfo,af=js,e=nS(e),Cf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var l=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var r=0,o=-1,s=-1,u=0,f=0,E=e,c=null;t:for(;;){for(var g;E!==a||l!==0&&E.nodeType!==3||(o=r+l),E!==i||n!==0&&E.nodeType!==3||(s=r+n),E.nodeType===3&&(r+=E.nodeValue.length),(g=E.firstChild)!==null;)c=E,E=g;for(;;){if(E===e)break t;if(c===a&&++u===l&&(o=r),c===i&&++f===n&&(s=r),(g=E.nextSibling)!==null)break;E=c,c=E.parentNode}E=g}a=o===-1||s===-1?null:{start:o,end:s}}else a=null}a=a||{start:0,end:0}}else a=null;for(nf={focusedElem:e,selectionRange:a},js=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){switch(t=Ae,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)l=e[a],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,l=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var y=Un(a.type,l);e=n.getSnapshotBeforeUpdate(y,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(T){j(a,a.return,T)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)rf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(S(163))}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}}function hy(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:na(e,a),n&4&&Hr(5,a);break;case 1:if(na(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){j(a,a.return,r)}else{var l=Un(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){j(a,a.return,r)}}n&64&&fy(a),n&512&&mr(a,a.return);break;case 3:if(na(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{TS(e,t)}catch(r){j(a,a.return,r)}}break;case 27:t===null&&n&4&&py(a);case 26:case 5:na(e,a),t===null&&n&4&&gy(a),n&512&&mr(a,a.return);break;case 12:na(e,a);break;case 31:na(e,a),n&4&&vy(e,a);break;case 13:na(e,a),n&4&&Ty(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ab.bind(null,a),vb(e,a))));break;case 22:if(n=a.memoizedState!==null||ra,!n){t=t!==null&&t.memoizedState!==null||Ee,l=ra;var i=Ee;ra=n,(Ee=t)&&!i?la(e,a,(a.subtreeFlags&8772)!==0):na(e,a),ra=l,Ee=i}break;case 30:break;default:na(e,a)}}function Sy(e){var t=e.alternate;t!==null&&(e.alternate=null,Sy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var te=null,je=!1;function aa(e,t,a){for(a=a.child;a!==null;)yy(e,t,a),a=a.sibling}function yy(e,t,a){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Br,a)}catch{}switch(a.tag){case 26:Ee||Ut(a,t),aa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ee||Ut(a,t);var n=te,l=je;ln(a.type)&&(te=a.stateNode,je=!1),aa(e,t,a),hr(a.stateNode),te=n,je=l;break;case 5:Ee||Ut(a,t);case 6:if(n=te,l=je,te=null,aa(e,t,a),te=n,je=l,te!==null)if(je)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(i){j(a,t,i)}else try{te.removeChild(a.stateNode)}catch(i){j(a,t,i)}break;case 18:te!==null&&(je?(e=te,ch(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Wl(e)):ch(te,a.stateNode));break;case 4:n=te,l=je,te=a.stateNode.containerInfo,je=!0,aa(e,t,a),te=n,je=l;break;case 0:case 11:case 14:case 15:tn(2,a,t),Ee||tn(4,a,t),aa(e,t,a);break;case 1:Ee||(Ut(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&my(a,t,n)),aa(e,t,a);break;case 21:aa(e,t,a);break;case 22:Ee=(n=Ee)||a.memoizedState!==null,aa(e,t,a),Ee=n;break;default:aa(e,t,a)}}function vy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wl(e)}catch(a){j(t,t.return,a)}}}function Ty(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wl(e)}catch(a){j(t,t.return,a)}}function FC(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Zp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Zp),t;default:throw Error(S(435,e.tag))}}function Zo(e,t){var a=FC(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var l=nb.bind(null,e,n);n.then(l,l)}})}function Ge(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var l=a[n],i=e,r=t,o=r;e:for(;o!==null;){switch(o.tag){case 27:if(ln(o.type)){te=o.stateNode,je=!1;break e}break;case 5:te=o.stateNode,je=!1;break e;case 3:case 4:te=o.stateNode.containerInfo,je=!0;break e}o=o.return}if(te===null)throw Error(S(160));yy(i,r,l),te=null,je=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ay(t,e),t=t.sibling}var Nt=null;function Ay(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ge(t,e),qe(e),n&4&&(tn(3,e,e.return),Hr(3,e),tn(5,e,e.return));break;case 1:Ge(t,e),qe(e),n&512&&(Ee||a===null||Ut(a,a.return)),n&64&&ra&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var l=Nt;if(Ge(t,e),qe(e),n&512&&(Ee||a===null||Ut(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(n){case"title":i=l.getElementsByTagName("title")[0],(!i||i[Ur]||i[Me]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(n),l.head.insertBefore(i,l.querySelector("head > title"))),Ie(i,n,a),i[Me]=e,Ce(i),n=i;break e;case"link":var r=hh("link","href",l).get(n+(a.href||""));if(r){for(var o=0;o<r.length;o++)if(i=r[o],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(o,1);break t}}i=l.createElement(n),Ie(i,n,a),l.head.appendChild(i);break;case"meta":if(r=hh("meta","content",l).get(n+(a.content||""))){for(o=0;o<r.length;o++)if(i=r[o],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(o,1);break t}}i=l.createElement(n),Ie(i,n,a),l.head.appendChild(i);break;default:throw Error(S(468,n))}i[Me]=e,Ce(i),n=i}e.stateNode=n}else Sh(l,e.type,e.stateNode);else e.stateNode=ph(l,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?Sh(l,e.type,e.stateNode):ph(l,n,e.memoizedProps)):n===null&&e.stateNode!==null&&rd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ge(t,e),qe(e),n&512&&(Ee||a===null||Ut(a,a.return)),a!==null&&n&4&&rd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ge(t,e),qe(e),n&512&&(Ee||a===null||Ut(a,a.return)),e.flags&32){l=e.stateNode;try{Xl(l,"")}catch(y){j(e,e.return,y)}}n&4&&e.stateNode!=null&&(l=e.memoizedProps,rd(e,l,a!==null?a.memoizedProps:l)),n&1024&&(sd=!0);break;case 6:if(Ge(t,e),qe(e),n&4){if(e.stateNode===null)throw Error(S(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(y){j(e,e.return,y)}}break;case 3:if(ms=null,l=Nt,Nt=Hs(t.containerInfo),Ge(t,e),Nt=l,qe(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Wl(t.containerInfo)}catch(y){j(e,e.return,y)}sd&&(sd=!1,Cy(e));break;case 4:n=Nt,Nt=Hs(e.stateNode.containerInfo),Ge(t,e),qe(e),Nt=n;break;case 12:Ge(t,e),qe(e);break;case 31:Ge(t,e),qe(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Zo(e,n)));break;case 13:Ge(t,e),qe(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(au=We()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Zo(e,n)));break;case 22:l=e.memoizedState!==null;var s=a!==null&&a.memoizedState!==null,u=ra,f=Ee;if(ra=u||l,Ee=f||s,Ge(t,e),Ee=f,ra=u,qe(e),n&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(a===null||s||ra||Ee||Dn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){s=a=t;try{if(i=s.stateNode,l)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=s.stateNode;var E=s.memoizedProps.style,c=E!=null&&E.hasOwnProperty("display")?E.display:null;o.style.display=c==null||typeof c=="boolean"?"":(""+c).trim()}}catch(y){j(s,s.return,y)}}}else if(t.tag===6){if(a===null){s=t;try{s.stateNode.nodeValue=l?"":s.memoizedProps}catch(y){j(s,s.return,y)}}}else if(t.tag===18){if(a===null){s=t;try{var g=s.stateNode;l?dh(g,!0):dh(s.stateNode,!1)}catch(y){j(s,s.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Zo(e,a))));break;case 19:Ge(t,e),qe(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Zo(e,n)));break;case 30:break;case 21:break;default:Ge(t,e),qe(e)}}function qe(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Ey(n)){a=n;break}n=n.return}if(a==null)throw Error(S(160));switch(a.tag){case 27:var l=a.stateNode,i=od(e);Is(e,i,l);break;case 5:var r=a.stateNode;a.flags&32&&(Xl(r,""),a.flags&=-33);var o=od(e);Is(e,o,r);break;case 3:case 4:var s=a.stateNode.containerInfo,u=od(e);Zd(e,u,s);break;default:throw Error(S(161))}}catch(f){j(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Cy(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function na(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hy(e,t.alternate,t),t=t.sibling}function Dn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:tn(4,t,t.return),Dn(t);break;case 1:Ut(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&my(t,t.return,a),Dn(t);break;case 27:hr(t.stateNode);case 26:case 5:Ut(t,t.return),Dn(t);break;case 22:t.memoizedState===null&&Dn(t);break;case 30:Dn(t);break;default:Dn(t)}e=e.sibling}}function la(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,l=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:la(l,i,a),Hr(4,i);break;case 1:if(la(l,i,a),n=i,l=n.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(u){j(n,n.return,u)}if(n=i,l=n.updateQueue,l!==null){var o=n.stateNode;try{var s=l.shared.hiddenCallbacks;if(s!==null)for(l.shared.hiddenCallbacks=null,l=0;l<s.length;l++)vS(s[l],o)}catch(u){j(n,n.return,u)}}a&&r&64&&fy(i),mr(i,i.return);break;case 27:py(i);case 26:case 5:la(l,i,a),a&&n===null&&r&4&&gy(i),mr(i,i.return);break;case 12:la(l,i,a);break;case 31:la(l,i,a),a&&r&4&&vy(l,i);break;case 13:la(l,i,a),a&&r&4&&Ty(l,i);break;case 22:i.memoizedState===null&&la(l,i,a),mr(i,i.return);break;case 30:break;default:la(l,i,a)}t=t.sibling}}function Zf(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Pr(a))}function Jf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pr(e))}function Ot(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)by(e,t,a,n),t=t.sibling}function by(e,t,a,n){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Ot(e,t,a,n),l&2048&&Hr(9,t);break;case 1:Ot(e,t,a,n);break;case 3:Ot(e,t,a,n),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pr(e)));break;case 12:if(l&2048){Ot(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,o=i.onPostCommit;typeof o=="function"&&o(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(s){j(t,t.return,s)}}else Ot(e,t,a,n);break;case 31:Ot(e,t,a,n);break;case 13:Ot(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?Ot(e,t,a,n):gr(e,t):i._visibility&2?Ot(e,t,a,n):(i._visibility|=2,Al(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),l&2048&&Zf(r,t);break;case 24:Ot(e,t,a,n),l&2048&&Jf(t.alternate,t);break;default:Ot(e,t,a,n)}}function Al(e,t,a,n,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,o=a,s=n,u=r.flags;switch(r.tag){case 0:case 11:case 15:Al(i,r,o,s,l),Hr(8,r);break;case 23:break;case 22:var f=r.stateNode;r.memoizedState!==null?f._visibility&2?Al(i,r,o,s,l):gr(i,r):(f._visibility|=2,Al(i,r,o,s,l)),l&&u&2048&&Zf(r.alternate,r);break;case 24:Al(i,r,o,s,l),l&&u&2048&&Jf(r.alternate,r);break;default:Al(i,r,o,s,l)}t=t.sibling}}function gr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,l=n.flags;switch(n.tag){case 22:gr(a,n),l&2048&&Zf(n.alternate,n);break;case 24:gr(a,n),l&2048&&Jf(n.alternate,n);break;default:gr(a,n)}t=t.sibling}}var lr=8192;function Tl(e,t,a){if(e.subtreeFlags&lr)for(e=e.child;e!==null;)_y(e,t,a),e=e.sibling}function _y(e,t,a){switch(e.tag){case 26:Tl(e,t,a),e.flags&lr&&e.memoizedState!==null&&Ib(a,Nt,e.memoizedState,e.memoizedProps);break;case 5:Tl(e,t,a);break;case 3:case 4:var n=Nt;Nt=Hs(e.stateNode.containerInfo),Tl(e,t,a),Nt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=lr,lr=16777216,Tl(e,t,a),lr=n):Tl(e,t,a));break;default:Tl(e,t,a)}}function Dy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ae=n,Ny(n,e)}Dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Oy(e),e=e.sibling}function Oy(e){switch(e.tag){case 0:case 11:case 15:ki(e),e.flags&2048&&tn(9,e,e.return);break;case 3:ki(e);break;case 12:ki(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ds(e)):ki(e);break;default:ki(e)}}function ds(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ae=n,Ny(n,e)}Dy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:tn(8,t,t.return),ds(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ds(t));break;default:ds(t)}e=e.sibling}}function Ny(e,t){for(;Ae!==null;){var a=Ae;switch(a.tag){case 0:case 11:case 15:tn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Pr(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Ae=n;else e:for(a=e;Ae!==null;){n=Ae;var l=n.sibling,i=n.return;if(Sy(n),n===a){Ae=null;break e}if(l!==null){l.return=i,Ae=l;break e}Ae=i}}}var ZC={getCacheForType:function(e){var t=Re(pe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Re(pe).controller.signal}},JC=typeof WeakMap=="function"?WeakMap:Map,V=0,Q=null,x=null,U=0,q=0,Ze=null,Ga=!1,li=!1,kf=!1,ha=0,ie=0,an=0,Rn=0,$f=0,$e=0,Zl=0,Er=null,Ye=null,Jd=!1,au=0,My=0,Bs=1/0,ws=null,Fa=null,Se=0,Za=null,Jl=null,fa=0,kd=0,$d=null,Ly=null,pr=0,Wd=null;function at(){return(V&2)!==0&&U!==0?U&-U:O.T!==null?em():Vh()}function Ry(){if($e===0)if((U&536870912)===0||z){var e=Vo;Vo<<=1,(Vo&3932160)===0&&(Vo=262144),$e=e}else $e=536870912;return e=lt.current,e!==null&&(e.flags|=32),$e}function Xe(e,t,a){(e===Q&&(q===2||q===9)||e.cancelPendingCommit!==null)&&(kl(e,0),qa(e,U,$e,!1)),xr(e,a),((V&2)===0||e!==Q)&&(e===Q&&((V&2)===0&&(Rn|=a),ie===4&&qa(e,U,$e,!1)),Vt(e))}function Iy(e,t,a){if((V&6)!==0)throw Error(S(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||wr(e,t),l=n?WC(e,t):ud(e,t,!0),i=n;do{if(l===0){li&&!n&&qa(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!kC(a)){l=ud(e,t,!1),i=!1;continue}if(l===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var o=e;l=Er;var s=o.current.memoizedState.isDehydrated;if(s&&(kl(o,r).flags|=256),r=ud(o,r,!1),r!==2){if(kf&&!s){o.errorRecoveryDisabledLanes|=i,Rn|=i,l=4;break e}i=Ye,Ye=l,i!==null&&(Ye===null?Ye=i:Ye.push.apply(Ye,i))}l=r}if(i=!1,l!==2)continue}}if(l===1){kl(e,0),qa(e,t,0,!0);break}e:{switch(n=e,i=l,i){case 0:case 1:throw Error(S(345));case 4:if((t&4194048)!==t)break;case 6:qa(n,t,$e,!Ga);break e;case 2:Ye=null;break;case 3:case 5:break;default:throw Error(S(329))}if((t&62914560)===t&&(l=au+300-We(),10<l)){if(qa(n,t,$e,!Ga),Xs(n,0,!0)!==0)break e;fa=t,n.timeoutHandle=$y(Jp.bind(null,n,a,Ye,ws,Jd,t,$e,Rn,Zl,Ga,i,"Throttled",-0,0),l);break e}Jp(n,a,Ye,ws,Jd,t,$e,Rn,Zl,Ga,i,null,-0,0)}}break}while(!0);Vt(e)}function Jp(e,t,a,n,l,i,r,o,s,u,f,E,c,g){if(e.timeoutHandle=-1,E=t.subtreeFlags,E&8192||(E&16785408)===16785408){E={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sa},_y(t,i,E);var y=(i&62914560)===i?au-We():(i&4194048)===i?My-We():0;if(y=Bb(E,y),y!==null){fa=i,e.cancelPendingCommit=y($p.bind(null,e,t,i,a,n,l,r,o,s,f,E,null,c,g)),qa(e,i,r,!u);return}}$p(e,t,i,a,n,l,r,o,s)}function kC(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var l=a[n],i=l.getSnapshot;l=l.value;try{if(!nt(i(),l))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qa(e,t,a,n){t&=~$f,t&=~Rn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var l=t;0<l;){var i=31-tt(l),r=1<<i;n[i]=-1,l&=~r}a!==0&&Uh(e,a,t)}function nu(){return(V&6)===0?(Gr(0,!1),!1):!0}function Wf(){if(x!==null){if(q===0)var e=x.return;else e=x,ua=Gn=null,Pf(e),Hl=null,br=0,e=x;for(;e!==null;)dy(e.alternate,e),e=e.return;x=null}}function kl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Eb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),fa=0,Wf(),Q=e,x=a=ca(e.current,null),U=t,q=0,Ze=null,Ga=!1,li=wr(e,t),kf=!1,Zl=$e=$f=Rn=an=ie=0,Ye=Er=null,Jd=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var l=31-tt(n),i=1<<l;t|=e[l],n&=~i}return ha=t,Zs(),a}function By(e,t){L=null,O.H=Dr,t===ni||t===ks?(t=Np(),q=3):t===Rf?(t=Np(),q=4):q=t===Qf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ze=t,x===null&&(ie=1,Ls(e,ht(t,e.current)))}function wy(){var e=lt.current;return e===null?!0:(U&4194048)===U?yt===null:(U&62914560)===U||(U&536870912)!==0?e===yt:!1}function xy(){var e=O.H;return O.H=Dr,e===null?Dr:e}function Uy(){var e=O.A;return O.A=ZC,e}function xs(){ie=4,Ga||(U&4194048)!==U&&lt.current!==null||(li=!0),(an&134217727)===0&&(Rn&134217727)===0||Q===null||qa(Q,U,$e,!1)}function ud(e,t,a){var n=V;V|=2;var l=xy(),i=Uy();(Q!==e||U!==t)&&(ws=null,kl(e,t)),t=!1;var r=ie;e:do try{if(q!==0&&x!==null){var o=x,s=Ze;switch(q){case 8:Wf(),r=6;break e;case 3:case 2:case 9:case 6:lt.current===null&&(t=!0);var u=q;if(q=0,Ze=null,xl(e,o,s,u),a&&li){r=0;break e}break;default:u=q,q=0,Ze=null,xl(e,o,s,u)}}$C(),r=ie;break}catch(f){By(e,f)}while(!0);return t&&e.shellSuspendCounter++,ua=Gn=null,V=n,O.H=l,O.A=i,x===null&&(Q=null,U=0,Zs()),r}function $C(){for(;x!==null;)zy(x)}function WC(e,t){var a=V;V|=2;var n=xy(),l=Uy();Q!==e||U!==t?(ws=null,Bs=We()+500,kl(e,t)):li=wr(e,t);e:do try{if(q!==0&&x!==null){t=x;var i=Ze;t:switch(q){case 1:q=0,Ze=null,xl(e,t,i,1);break;case 2:case 9:if(Op(i)){q=0,Ze=null,kp(t);break}t=function(){q!==2&&q!==9||Q!==e||(q=7),Vt(e)},i.then(t,t);break e;case 3:q=7;break e;case 4:q=5;break e;case 7:Op(i)?(q=0,Ze=null,kp(t)):(q=0,Ze=null,xl(e,t,i,7));break;case 5:var r=null;switch(x.tag){case 26:r=x.memoizedState;case 5:case 27:var o=x;if(r?nv(r):o.stateNode.complete){q=0,Ze=null;var s=o.sibling;if(s!==null)x=s;else{var u=o.return;u!==null?(x=u,lu(u)):x=null}break t}}q=0,Ze=null,xl(e,t,i,5);break;case 6:q=0,Ze=null,xl(e,t,i,6);break;case 8:Wf(),ie=6;break e;default:throw Error(S(462))}}eb();break}catch(f){By(e,f)}while(!0);return ua=Gn=null,O.H=n,O.A=l,V=a,x!==null?0:(Q=null,U=0,Zs(),ie)}function eb(){for(;x!==null&&!CA();)zy(x)}function zy(e){var t=cy(e.alternate,e,ha);e.memoizedProps=e.pendingProps,t===null?lu(e):x=t}function kp(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Yp(a,t,t.pendingProps,t.type,void 0,U);break;case 11:t=Yp(a,t,t.pendingProps,t.type.render,t.ref,U);break;case 5:Pf(t);default:dy(a,t),t=x=dS(t,ha),t=cy(a,t,ha)}e.memoizedProps=e.pendingProps,t===null?lu(e):x=t}function xl(e,t,a,n){ua=Gn=null,Pf(t),Hl=null,br=0;var l=t.return;try{if(qC(e,l,t,a,U)){ie=1,Ls(e,ht(a,e.current)),x=null;return}}catch(i){if(l!==null)throw x=l,i;ie=1,Ls(e,ht(a,e.current)),x=null;return}t.flags&32768?(z||n===1?e=!0:li||(U&536870912)!==0?e=!1:(Ga=e=!0,(n===2||n===9||n===3||n===6)&&(n=lt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Py(t,e)):lu(t)}function lu(e){var t=e;do{if((t.flags&32768)!==0){Py(t,Ga);return}e=t.return;var a=XC(t.alternate,t,ha);if(a!==null){x=a;return}if(t=t.sibling,t!==null){x=t;return}x=t=e}while(t!==null);ie===0&&(ie=5)}function Py(e,t){do{var a=KC(e.alternate,e);if(a!==null){a.flags&=32767,x=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){x=e;return}x=e=a}while(e!==null);ie=6,x=null}function $p(e,t,a,n,l,i,r,o,s){e.cancelPendingCommit=null;do iu();while(Se!==0);if((V&6)!==0)throw Error(S(327));if(t!==null){if(t===e.current)throw Error(S(177));if(i=t.lanes|t.childLanes,i|=bf,BA(e,a,i,r,o,s),e===Q&&(x=Q=null,U=0),Jl=t,Za=e,fa=a,kd=i,$d=l,Ly=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,lb(ys,function(){return jy(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=O.T,O.T=null,l=H.p,H.p=2,r=V,V|=4;try{QC(e,t,a)}finally{V=r,H.p=l,O.T=n}}Se=1,Vy(),Hy(),Gy()}}function Vy(){if(Se===1){Se=0;var e=Za,t=Jl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var n=H.p;H.p=2;var l=V;V|=4;try{Ay(t,e);var i=nf,r=nS(e.containerInfo),o=i.focusedElem,s=i.selectionRange;if(r!==o&&o&&o.ownerDocument&&aS(o.ownerDocument.documentElement,o)){if(s!==null&&Cf(o)){var u=s.start,f=s.end;if(f===void 0&&(f=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(f,o.value.length);else{var E=o.ownerDocument||document,c=E&&E.defaultView||window;if(c.getSelection){var g=c.getSelection(),y=o.textContent.length,T=Math.min(s.start,y),_=s.end===void 0?T:Math.min(s.end,y);!g.extend&&T>_&&(r=_,_=T,T=r);var m=vp(o,T),d=vp(o,_);if(m&&d&&(g.rangeCount!==1||g.anchorNode!==m.node||g.anchorOffset!==m.offset||g.focusNode!==d.node||g.focusOffset!==d.offset)){var p=E.createRange();p.setStart(m.node,m.offset),g.removeAllRanges(),T>_?(g.addRange(p),g.extend(d.node,d.offset)):(p.setEnd(d.node,d.offset),g.addRange(p))}}}}for(E=[],g=o;g=g.parentNode;)g.nodeType===1&&E.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<E.length;o++){var h=E[o];h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}js=!!af,nf=af=null}finally{V=l,H.p=n,O.T=a}}e.current=t,Se=2}}function Hy(){if(Se===2){Se=0;var e=Za,t=Jl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var n=H.p;H.p=2;var l=V;V|=4;try{hy(e,t.alternate,t)}finally{V=l,H.p=n,O.T=a}}Se=3}}function Gy(){if(Se===4||Se===3){Se=0,bA();var e=Za,t=Jl,a=fa,n=Ly;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Se=5:(Se=0,Jl=Za=null,qy(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Fa=null),pf(a),t=t.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Br,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=O.T,l=H.p,H.p=2,O.T=null;try{for(var i=e.onRecoverableError,r=0;r<n.length;r++){var o=n[r];i(o.value,{componentStack:o.stack})}}finally{O.T=t,H.p=l}}(fa&3)!==0&&iu(),Vt(e),l=e.pendingLanes,(a&261930)!==0&&(l&42)!==0?e===Wd?pr++:(pr=0,Wd=e):pr=0,Gr(0,!1)}}function qy(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Pr(t)))}function iu(){return Vy(),Hy(),Gy(),jy()}function jy(){if(Se!==5)return!1;var e=Za,t=kd;kd=0;var a=pf(fa),n=O.T,l=H.p;try{H.p=32>a?32:a,O.T=null,a=$d,$d=null;var i=Za,r=fa;if(Se=0,Jl=Za=null,fa=0,(V&6)!==0)throw Error(S(331));var o=V;if(V|=4,Oy(i.current),by(i,i.current,r,a),V=o,Gr(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Br,i)}catch{}return!0}finally{H.p=l,O.T=n,qy(e,t)}}function Wp(e,t,a){t=ht(a,t),t=Kd(e.stateNode,t,2),e=Qa(e,t,2),e!==null&&(xr(e,2),Vt(e))}function j(e,t,a){if(e.tag===3)Wp(e,e,a);else for(;t!==null;){if(t.tag===3){Wp(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fa===null||!Fa.has(n))){e=ht(a,e),a=ly(2),n=Qa(t,a,2),n!==null&&(iy(a,n,t,e),xr(n,2),Vt(n));break}}t=t.return}}function cd(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new JC;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(a)||(kf=!0,l.add(a),e=tb.bind(null,e,t,a),t.then(e,e))}function tb(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Q===e&&(U&a)===a&&(ie===4||ie===3&&(U&62914560)===U&&300>We()-au?(V&2)===0&&kl(e,0):$f|=a,Zl===U&&(Zl=0)),Vt(e)}function Yy(e,t){t===0&&(t=xh()),e=Hn(e,t),e!==null&&(xr(e,t),Vt(e))}function ab(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Yy(e,a)}function nb(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(S(314))}n!==null&&n.delete(t),Yy(e,a)}function lb(e,t){return gf(e,t)}var Us=null,Cl=null,ef=!1,zs=!1,dd=!1,ja=0;function Vt(e){e!==Cl&&e.next===null&&(Cl===null?Us=Cl=e:Cl=Cl.next=e),zs=!0,ef||(ef=!0,rb())}function Gr(e,t){if(!dd&&zs){dd=!0;do for(var a=!1,n=Us;n!==null;){if(!t)if(e!==0){var l=n.pendingLanes;if(l===0)var i=0;else{var r=n.suspendedLanes,o=n.pingedLanes;i=(1<<31-tt(42|e)+1)-1,i&=l&~(r&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,eh(n,i))}else i=U,i=Xs(n,n===Q?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||wr(n,i)||(a=!0,eh(n,i));n=n.next}while(a);dd=!1}}function ib(){Xy()}function Xy(){zs=ef=!1;var e=0;ja!==0&&gb()&&(e=ja);for(var t=We(),a=null,n=Us;n!==null;){var l=n.next,i=Ky(n,t);i===0?(n.next=null,a===null?Us=l:a.next=l,l===null&&(Cl=a)):(a=n,(e!==0||(i&3)!==0)&&(zs=!0)),n=l}Se!==0&&Se!==5||Gr(e,!1),ja!==0&&(ja=0)}function Ky(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-tt(i),o=1<<r,s=l[r];s===-1?((o&a)===0||(o&n)!==0)&&(l[r]=IA(o,t)):s<=t&&(e.expiredLanes|=o),i&=~o}if(t=Q,a=U,a=Xs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(q===2||q===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Hc(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||wr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Hc(n),pf(a)){case 2:case 8:a=Bh;break;case 32:a=ys;break;case 268435456:a=wh;break;default:a=ys}return n=Qy.bind(null,e),a=gf(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Hc(n),e.callbackPriority=2,e.callbackNode=null,2}function Qy(e,t){if(Se!==0&&Se!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(iu()&&e.callbackNode!==a)return null;var n=U;return n=Xs(e,e===Q?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Iy(e,n,t),Ky(e,We()),e.callbackNode!=null&&e.callbackNode===a?Qy.bind(null,e):null)}function eh(e,t){if(iu())return null;Iy(e,t,!0)}function rb(){pb(function(){(V&6)!==0?gf(Ih,ib):Xy()})}function em(){if(ja===0){var e=Kl;e===0&&(e=Po,Po<<=1,(Po&261888)===0&&(Po=256)),ja=e}return ja}function th(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:as(""+e)}function ah(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ob(e,t,a,n,l){if(t==="submit"&&a&&a.stateNode===l){var i=th((l[Ke]||null).action),r=n.submitter;r&&(t=(t=r[Ke]||null)?th(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var o=new Ks("action","action",null,n,l);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(ja!==0){var s=r?ah(l,r):new FormData(l);Yd(a,{pending:!0,data:s,method:l.method,action:i},null,s)}}else typeof i=="function"&&(o.preventDefault(),s=r?ah(l,r):new FormData(l),Yd(a,{pending:!0,data:s,method:l.method,action:i},i,s))},currentTarget:l}]})}}for(Jo=0;Jo<Id.length;Jo++)ko=Id[Jo],nh=ko.toLowerCase(),lh=ko[0].toUpperCase()+ko.slice(1),Mt(nh,"on"+lh);var ko,nh,lh,Jo;Mt(iS,"onAnimationEnd");Mt(rS,"onAnimationIteration");Mt(oS,"onAnimationStart");Mt("dblclick","onDoubleClick");Mt("focusin","onFocus");Mt("focusout","onBlur");Mt(_C,"onTransitionRun");Mt(DC,"onTransitionStart");Mt(OC,"onTransitionCancel");Mt(sS,"onTransitionEnd");Yl("onMouseEnter",["mouseout","mouseover"]);Yl("onMouseLeave",["mouseout","mouseover"]);Yl("onPointerEnter",["pointerout","pointerover"]);Yl("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Or));function Fy(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],l=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var r=n.length-1;0<=r;r--){var o=n[r],s=o.instance,u=o.currentTarget;if(o=o.listener,s!==i&&l.isPropagationStopped())break e;i=o,l.currentTarget=u;try{i(l)}catch(f){Ts(f)}l.currentTarget=null,i=s}else for(r=0;r<n.length;r++){if(o=n[r],s=o.instance,u=o.currentTarget,o=o.listener,s!==i&&l.isPropagationStopped())break e;i=o,l.currentTarget=u;try{i(l)}catch(f){Ts(f)}l.currentTarget=null,i=s}}}}function w(e,t){var a=t[bd];a===void 0&&(a=t[bd]=new Set);var n=e+"__bubble";a.has(n)||(Zy(t,e,2,!1),a.add(n))}function fd(e,t,a){var n=0;t&&(n|=4),Zy(a,e,n,t)}var $o="_reactListening"+Math.random().toString(36).slice(2);function tm(e){if(!e[$o]){e[$o]=!0,Hh.forEach(function(a){a!=="selectionchange"&&(sb.has(a)||fd(a,!1,e),fd(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$o]||(t[$o]=!0,fd("selectionchange",!1,t))}}function Zy(e,t,a,n){switch(sv(t)){case 2:var l=Ub;break;case 8:l=zb;break;default:l=im}a=l.bind(null,t,a,e),l=void 0,!Md||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,a,{capture:!0,passive:l}):e.addEventListener(t,a,!0):l!==void 0?e.addEventListener(t,a,{passive:l}):e.addEventListener(t,a,!1)}function md(e,t,a,n,l){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var r=n.tag;if(r===3||r===4){var o=n.stateNode.containerInfo;if(o===l)break;if(r===4)for(r=n.return;r!==null;){var s=r.tag;if((s===3||s===4)&&r.stateNode.containerInfo===l)return;r=r.return}for(;o!==null;){if(r=Dl(o),r===null)return;if(s=r.tag,s===5||s===6||s===26||s===27){n=i=r;continue e}o=o.parentNode}}n=n.return}Fh(function(){var u=i,f=yf(a),E=[];e:{var c=uS.get(e);if(c!==void 0){var g=Ks,y=e;switch(e){case"keypress":if(ls(a)===0)break e;case"keydown":case"keyup":g=nC;break;case"focusin":y="focus",g=Xc;break;case"focusout":y="blur",g=Xc;break;case"beforeblur":case"afterblur":g=Xc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=XA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=rC;break;case iS:case rS:case oS:g=FA;break;case sS:g=sC;break;case"scroll":case"scrollend":g=jA;break;case"wheel":g=cC;break;case"copy":case"cut":case"paste":g=JA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=mp;break;case"toggle":case"beforetoggle":g=fC}var T=(t&4)!==0,_=!T&&(e==="scroll"||e==="scrollend"),m=T?c!==null?c+"Capture":null:c;T=[];for(var d=u,p;d!==null;){var h=d;if(p=h.stateNode,h=h.tag,h!==5&&h!==26&&h!==27||p===null||m===null||(h=yr(d,m),h!=null&&T.push(Nr(d,h,p))),_)break;d=d.return}0<T.length&&(c=new g(c,y,null,a,f),E.push({event:c,listeners:T}))}}if((t&7)===0){e:{if(c=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",c&&a!==Nd&&(y=a.relatedTarget||a.fromElement)&&(Dl(y)||y[ei]))break e;if((g||c)&&(c=f.window===f?f:(c=f.ownerDocument)?c.defaultView||c.parentWindow:window,g?(y=a.relatedTarget||a.toElement,g=u,y=y?Dl(y):null,y!==null&&(_=Ir(y),T=y.tag,y!==_||T!==5&&T!==27&&T!==6)&&(y=null)):(g=null,y=u),g!==y)){if(T=dp,h="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(T=mp,h="onPointerLeave",m="onPointerEnter",d="pointer"),_=g==null?c:ar(g),p=y==null?c:ar(y),c=new T(h,d+"leave",g,a,f),c.target=_,c.relatedTarget=p,h=null,Dl(f)===u&&(T=new T(m,d+"enter",y,a,f),T.target=p,T.relatedTarget=_,h=T),_=h,g&&y)t:{for(T=ub,m=g,d=y,p=0,h=m;h;h=T(h))p++;h=0;for(var A=d;A;A=T(A))h++;for(;0<p-h;)m=T(m),p--;for(;0<h-p;)d=T(d),h--;for(;p--;){if(m===d||d!==null&&m===d.alternate){T=m;break t}m=T(m),d=T(d)}T=null}else T=null;g!==null&&ih(E,c,g,T,!1),y!==null&&_!==null&&ih(E,_,y,T,!0)}}e:{if(c=u?ar(u):window,g=c.nodeName&&c.nodeName.toLowerCase(),g==="select"||g==="input"&&c.type==="file")var I=hp;else if(pp(c))if(eS)I=AC;else{I=vC;var v=yC}else g=c.nodeName,!g||g.toLowerCase()!=="input"||c.type!=="checkbox"&&c.type!=="radio"?u&&Sf(u.elementType)&&(I=hp):I=TC;if(I&&(I=I(e,u))){Wh(E,I,a,f);break e}v&&v(e,c,u),e==="focusout"&&u&&c.type==="number"&&u.memoizedProps.value!=null&&Od(c,"number",c.value)}switch(v=u?ar(u):window,e){case"focusin":(pp(v)||v.contentEditable==="true")&&(Ml=v,Ld=u,or=null);break;case"focusout":or=Ld=Ml=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,Tp(E,a,f);break;case"selectionchange":if(bC)break;case"keydown":case"keyup":Tp(E,a,f)}var D;if(Af)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Nl?kh(e,a)&&(C="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(C="onCompositionStart");C&&(Jh&&a.locale!=="ko"&&(Nl||C!=="onCompositionStart"?C==="onCompositionEnd"&&Nl&&(D=Zh()):(Ha=f,vf="value"in Ha?Ha.value:Ha.textContent,Nl=!0)),v=Ps(u,C),0<v.length&&(C=new fp(C,e,null,a,f),E.push({event:C,listeners:v}),D?C.data=D:(D=$h(a),D!==null&&(C.data=D)))),(D=gC?EC(e,a):pC(e,a))&&(C=Ps(u,"onBeforeInput"),0<C.length&&(v=new fp("onBeforeInput","beforeinput",null,a,f),E.push({event:v,listeners:C}),v.data=D)),ob(E,e,u,a,f)}Fy(E,t)})}function Nr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ps(e,t){for(var a=t+"Capture",n=[];e!==null;){var l=e,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=yr(e,a),l!=null&&n.unshift(Nr(e,l,i)),l=yr(e,t),l!=null&&n.push(Nr(e,l,i))),e.tag===3)return n;e=e.return}return[]}function ub(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ih(e,t,a,n,l){for(var i=t._reactName,r=[];a!==null&&a!==n;){var o=a,s=o.alternate,u=o.stateNode;if(o=o.tag,s!==null&&s===n)break;o!==5&&o!==26&&o!==27||u===null||(s=u,l?(u=yr(a,i),u!=null&&r.unshift(Nr(a,u,s))):l||(u=yr(a,i),u!=null&&r.push(Nr(a,u,s)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var cb=/\r\n?/g,db=/\u0000|\uFFFD/g;function rh(e){return(typeof e=="string"?e:""+e).replace(cb,`
`).replace(db,"")}function Jy(e,t){return t=rh(t),rh(e)===t}function X(e,t,a,n,l,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Xl(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Xl(e,""+n);break;case"className":Go(e,"class",n);break;case"tabIndex":Go(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Go(e,a,n);break;case"style":Qh(e,n,i);break;case"data":if(t!=="object"){Go(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=as(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&X(e,t,"name",l.name,l,null),X(e,t,"formEncType",l.formEncType,l,null),X(e,t,"formMethod",l.formMethod,l,null),X(e,t,"formTarget",l.formTarget,l,null)):(X(e,t,"encType",l.encType,l,null),X(e,t,"method",l.method,l,null),X(e,t,"target",l.target,l,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=as(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=sa);break;case"onScroll":n!=null&&w("scroll",e);break;case"onScrollEnd":n!=null&&w("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(S(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(S(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=as(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":w("beforetoggle",e),w("toggle",e),ts(e,"popover",n);break;case"xlinkActuate":ea(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ea(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ea(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ea(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ea(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ea(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ea(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ea(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ea(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ts(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=GA.get(a)||a,ts(e,a,n))}}function tf(e,t,a,n,l,i){switch(a){case"style":Qh(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(S(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(S(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Xl(e,n):(typeof n=="number"||typeof n=="bigint")&&Xl(e,""+n);break;case"onScroll":n!=null&&w("scroll",e);break;case"onScrollEnd":n!=null&&w("scrollend",e);break;case"onClick":n!=null&&(e.onclick=sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),t=a.slice(2,l?a.length-7:void 0),i=e[Ke]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,l),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,l);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):ts(e,a,n)}}}function Ie(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":w("error",e),w("load",e);var n=!1,l=!1,i;for(i in a)if(a.hasOwnProperty(i)){var r=a[i];if(r!=null)switch(i){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:X(e,t,i,r,a,null)}}l&&X(e,t,"srcSet",a.srcSet,a,null),n&&X(e,t,"src",a.src,a,null);return;case"input":w("invalid",e);var o=i=r=l=null,s=null,u=null;for(n in a)if(a.hasOwnProperty(n)){var f=a[n];if(f!=null)switch(n){case"name":l=f;break;case"type":r=f;break;case"checked":s=f;break;case"defaultChecked":u=f;break;case"value":i=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(S(137,t));break;default:X(e,t,n,f,a,null)}}Yh(e,i,o,s,u,r,l,!1);return;case"select":w("invalid",e),n=r=i=null;for(l in a)if(a.hasOwnProperty(l)&&(o=a[l],o!=null))switch(l){case"value":i=o;break;case"defaultValue":r=o;break;case"multiple":n=o;default:X(e,t,l,o,a,null)}t=i,a=r,e.multiple=!!n,t!=null?zl(e,!!n,t,!1):a!=null&&zl(e,!!n,a,!0);return;case"textarea":w("invalid",e),i=l=n=null;for(r in a)if(a.hasOwnProperty(r)&&(o=a[r],o!=null))switch(r){case"value":n=o;break;case"defaultValue":l=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(S(91));break;default:X(e,t,r,o,a,null)}Kh(e,n,l,i);return;case"option":for(s in a)if(a.hasOwnProperty(s)&&(n=a[s],n!=null))switch(s){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:X(e,t,s,n,a,null)}return;case"dialog":w("beforetoggle",e),w("toggle",e),w("cancel",e),w("close",e);break;case"iframe":case"object":w("load",e);break;case"video":case"audio":for(n=0;n<Or.length;n++)w(Or[n],e);break;case"image":w("error",e),w("load",e);break;case"details":w("toggle",e);break;case"embed":case"source":case"link":w("error",e),w("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(n=a[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:X(e,t,u,n,a,null)}return;default:if(Sf(t)){for(f in a)a.hasOwnProperty(f)&&(n=a[f],n!==void 0&&tf(e,t,f,n,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(n=a[o],n!=null&&X(e,t,o,n,a,null))}function fb(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,r=null,o=null,s=null,u=null,f=null;for(g in a){var E=a[g];if(a.hasOwnProperty(g)&&E!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":s=E;default:n.hasOwnProperty(g)||X(e,t,g,null,n,E)}}for(var c in n){var g=n[c];if(E=a[c],n.hasOwnProperty(c)&&(g!=null||E!=null))switch(c){case"type":i=g;break;case"name":l=g;break;case"checked":u=g;break;case"defaultChecked":f=g;break;case"value":r=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(S(137,t));break;default:g!==E&&X(e,t,c,g,n,E)}}Dd(e,r,o,s,u,f,i,l);return;case"select":g=r=o=c=null;for(i in a)if(s=a[i],a.hasOwnProperty(i)&&s!=null)switch(i){case"value":break;case"multiple":g=s;default:n.hasOwnProperty(i)||X(e,t,i,null,n,s)}for(l in n)if(i=n[l],s=a[l],n.hasOwnProperty(l)&&(i!=null||s!=null))switch(l){case"value":c=i;break;case"defaultValue":o=i;break;case"multiple":r=i;default:i!==s&&X(e,t,l,i,n,s)}t=o,a=r,n=g,c!=null?zl(e,!!a,c,!1):!!n!=!!a&&(t!=null?zl(e,!!a,t,!0):zl(e,!!a,a?[]:"",!1));return;case"textarea":g=c=null;for(o in a)if(l=a[o],a.hasOwnProperty(o)&&l!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:X(e,t,o,null,n,l)}for(r in n)if(l=n[r],i=a[r],n.hasOwnProperty(r)&&(l!=null||i!=null))switch(r){case"value":c=l;break;case"defaultValue":g=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(S(91));break;default:l!==i&&X(e,t,r,l,n,i)}Xh(e,c,g);return;case"option":for(var y in a)if(c=a[y],a.hasOwnProperty(y)&&c!=null&&!n.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:X(e,t,y,null,n,c)}for(s in n)if(c=n[s],g=a[s],n.hasOwnProperty(s)&&c!==g&&(c!=null||g!=null))switch(s){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:X(e,t,s,c,n,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var T in a)c=a[T],a.hasOwnProperty(T)&&c!=null&&!n.hasOwnProperty(T)&&X(e,t,T,null,n,c);for(u in n)if(c=n[u],g=a[u],n.hasOwnProperty(u)&&c!==g&&(c!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(S(137,t));break;default:X(e,t,u,c,n,g)}return;default:if(Sf(t)){for(var _ in a)c=a[_],a.hasOwnProperty(_)&&c!==void 0&&!n.hasOwnProperty(_)&&tf(e,t,_,void 0,n,c);for(f in n)c=n[f],g=a[f],!n.hasOwnProperty(f)||c===g||c===void 0&&g===void 0||tf(e,t,f,c,n,g);return}}for(var m in a)c=a[m],a.hasOwnProperty(m)&&c!=null&&!n.hasOwnProperty(m)&&X(e,t,m,null,n,c);for(E in n)c=n[E],g=a[E],!n.hasOwnProperty(E)||c===g||c==null&&g==null||X(e,t,E,c,n,g)}function oh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var l=a[n],i=l.transferSize,r=l.initiatorType,o=l.duration;if(i&&o&&oh(r)){for(r=0,o=l.responseEnd,n+=1;n<a.length;n++){var s=a[n],u=s.startTime;if(u>o)break;var f=s.transferSize,E=s.initiatorType;f&&oh(E)&&(s=s.responseEnd,r+=f*(s<o?1:(o-u)/(s-u)))}if(--n,t+=8*(i+r)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var af=null,nf=null;function Vs(e){return e.nodeType===9?e:e.ownerDocument}function sh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ky(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function lf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gd=null;function gb(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,Eb=typeof clearTimeout=="function"?clearTimeout:void 0,uh=typeof Promise=="function"?Promise:void 0,pb=typeof queueMicrotask=="function"?queueMicrotask:typeof uh<"u"?function(e){return uh.resolve(null).then(e).catch(hb)}:$y;function hb(e){setTimeout(function(){throw e})}function ln(e){return e==="head"}function ch(e,t){var a=t,n=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(l),Wl(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")hr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,hr(a);for(var i=a.firstChild;i;){var r=i.nextSibling,o=i.nodeName;i[Ur]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}else a==="body"&&hr(e.ownerDocument.body);a=l}while(a);Wl(t)}function dh(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function rf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rf(a),hf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Sb(e,t,a,n){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Ur])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=vt(e.nextSibling),e===null)break}return null}function yb(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=vt(e.nextSibling),e===null))return null;return e}function Wy(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=vt(e.nextSibling),e===null))return null;return e}function of(e){return e.data==="$?"||e.data==="$~"}function sf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function vb(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var uf=null;function fh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return vt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function mh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function ev(e,t,a){switch(t=Vs(a),e){case"html":if(e=t.documentElement,!e)throw Error(S(452));return e;case"head":if(e=t.head,!e)throw Error(S(453));return e;case"body":if(e=t.body,!e)throw Error(S(454));return e;default:throw Error(S(451))}}function hr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hf(e)}var Tt=new Map,gh=new Set;function Hs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sa=H.d;H.d={f:Tb,r:Ab,D:Cb,C:bb,L:_b,m:Db,X:Nb,S:Ob,M:Mb};function Tb(){var e=Sa.f(),t=nu();return e||t}function Ab(e){var t=ti(e);t!==null&&t.tag===5&&t.type==="form"?QS(t):Sa.r(e)}var ii=typeof document>"u"?null:document;function tv(e,t,a){var n=ii;if(n&&typeof t=="string"&&t){var l=pt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),gh.has(l)||(gh.add(l),e={rel:e,crossOrigin:a,href:t},n.querySelector(l)===null&&(t=n.createElement("link"),Ie(t,"link",e),Ce(t),n.head.appendChild(t)))}}function Cb(e){Sa.D(e),tv("dns-prefetch",e,null)}function bb(e,t){Sa.C(e,t),tv("preconnect",e,t)}function _b(e,t,a){Sa.L(e,t,a);var n=ii;if(n&&e&&t){var l='link[rel="preload"][as="'+pt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+pt(a.imageSizes)+'"]')):l+='[href="'+pt(e)+'"]';var i=l;switch(t){case"style":i=$l(e);break;case"script":i=ri(e)}Tt.has(i)||(e=W({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Tt.set(i,e),n.querySelector(l)!==null||t==="style"&&n.querySelector(qr(i))||t==="script"&&n.querySelector(jr(i))||(t=n.createElement("link"),Ie(t,"link",e),Ce(t),n.head.appendChild(t)))}}function Db(e,t){Sa.m(e,t);var a=ii;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+pt(n)+'"][href="'+pt(e)+'"]',i=l;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ri(e)}if(!Tt.has(i)&&(e=W({rel:"modulepreload",href:e},t),Tt.set(i,e),a.querySelector(l)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jr(i)))return}n=a.createElement("link"),Ie(n,"link",e),Ce(n),a.head.appendChild(n)}}}function Ob(e,t,a){Sa.S(e,t,a);var n=ii;if(n&&e){var l=Ul(n).hoistableStyles,i=$l(e);t=t||"default";var r=l.get(i);if(!r){var o={loading:0,preload:null};if(r=n.querySelector(qr(i)))o.loading=5;else{e=W({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Tt.get(i))&&am(e,a);var s=r=n.createElement("link");Ce(s),Ie(s,"link",e),s._p=new Promise(function(u,f){s.onload=u,s.onerror=f}),s.addEventListener("load",function(){o.loading|=1}),s.addEventListener("error",function(){o.loading|=2}),o.loading|=4,fs(r,t,n)}r={type:"stylesheet",instance:r,count:1,state:o},l.set(i,r)}}}function Nb(e,t){Sa.X(e,t);var a=ii;if(a&&e){var n=Ul(a).hoistableScripts,l=ri(e),i=n.get(l);i||(i=a.querySelector(jr(l)),i||(e=W({src:e,async:!0},t),(t=Tt.get(l))&&nm(e,t),i=a.createElement("script"),Ce(i),Ie(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function Mb(e,t){Sa.M(e,t);var a=ii;if(a&&e){var n=Ul(a).hoistableScripts,l=ri(e),i=n.get(l);i||(i=a.querySelector(jr(l)),i||(e=W({src:e,async:!0,type:"module"},t),(t=Tt.get(l))&&nm(e,t),i=a.createElement("script"),Ce(i),Ie(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function Eh(e,t,a,n){var l=(l=Ya.current)?Hs(l):null;if(!l)throw Error(S(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=$l(a.href),a=Ul(l).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=$l(a.href);var i=Ul(l).hoistableStyles,r=i.get(e);if(r||(l=l.ownerDocument||l,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=l.querySelector(qr(e)))&&!i._p&&(r.instance=i,r.state.loading=5),Tt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Tt.set(e,a),i||Lb(l,e,a,r.state))),t&&n===null)throw Error(S(528,""));return r}if(t&&n!==null)throw Error(S(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ri(a),a=Ul(l).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(S(444,e))}}function $l(e){return'href="'+pt(e)+'"'}function qr(e){return'link[rel="stylesheet"]['+e+"]"}function av(e){return W({},e,{"data-precedence":e.precedence,precedence:null})}function Lb(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ie(t,"link",a),Ce(t),e.head.appendChild(t))}function ri(e){return'[src="'+pt(e)+'"]'}function jr(e){return"script[async]"+e}function ph(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+pt(a.href)+'"]');if(n)return t.instance=n,Ce(n),n;var l=W({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ce(n),Ie(n,"style",l),fs(n,a.precedence,e),t.instance=n;case"stylesheet":l=$l(a.href);var i=e.querySelector(qr(l));if(i)return t.state.loading|=4,t.instance=i,Ce(i),i;n=av(a),(l=Tt.get(l))&&am(n,l),i=(e.ownerDocument||e).createElement("link"),Ce(i);var r=i;return r._p=new Promise(function(o,s){r.onload=o,r.onerror=s}),Ie(i,"link",n),t.state.loading|=4,fs(i,a.precedence,e),t.instance=i;case"script":return i=ri(a.src),(l=e.querySelector(jr(i)))?(t.instance=l,Ce(l),l):(n=a,(l=Tt.get(i))&&(n=W({},a),nm(n,l)),e=e.ownerDocument||e,l=e.createElement("script"),Ce(l),Ie(l,"link",n),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(S(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,fs(n,a.precedence,e));return t.instance}function fs(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=n.length?n[n.length-1]:null,i=l,r=0;r<n.length;r++){var o=n[r];if(o.dataset.precedence===t)i=o;else if(i!==l)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function am(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function nm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ms=null;function hh(e,t,a){if(ms===null){var n=new Map,l=ms=new Map;l.set(a,n)}else l=ms,n=l.get(a),n||(n=new Map,l.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var i=a[l];if(!(i[Ur]||i[Me]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var o=n.get(r);o?o.push(i):n.set(r,[i])}}return n}function Sh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Rb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function nv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ib(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var l=$l(n.href),i=t.querySelector(qr(l));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Gs.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Ce(i);return}i=t.ownerDocument||t,n=av(n),(l=Tt.get(l))&&am(n,l),i=i.createElement("link"),Ce(i);var r=i;r._p=new Promise(function(o,s){r.onload=o,r.onerror=s}),Ie(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Gs.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Ed=0;function Bb(e,t){return e.stylesheets&&e.count===0&&gs(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&gs(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Ed===0&&(Ed=62500*mb());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gs(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Ed?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(l)}}:null}function Gs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qs=null;function gs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qs=new Map,t.forEach(wb,e),qs=null,Gs.call(e))}function wb(e,t){if(!(t.state.loading&4)){var a=qs.get(e);if(a)var n=a.get(null);else{a=new Map,qs.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var r=l[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),n=r)}n&&a.set(null,n)}l=t.instance,r=l.getAttribute("data-precedence"),i=a.get(r)||n,i===n&&a.set(null,l),a.set(r,l),this.count++,n=Gs.bind(this),l.addEventListener("load",n),l.addEventListener("error",n),i?i.parentNode.insertBefore(l,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Mr={$$typeof:oa,Provider:null,Consumer:null,_currentValue:On,_currentValue2:On,_threadCount:0};function xb(e,t,a,n,l,i,r,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.hiddenUpdates=Gc(null),this.identifierPrefix=n,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function lv(e,t,a,n,l,i,r,o,s,u,f,E){return e=new xb(e,t,a,r,s,u,f,E,o),t=1,i===!0&&(t|=24),i=ke(3,null,null,t),e.current=i,i.stateNode=e,t=Mf(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},If(i),e}function iv(e){return e?(e=Il,e):Il}function rv(e,t,a,n,l,i){l=iv(l),n.context===null?n.context=l:n.pendingContext=l,n=Ka(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=Qa(e,n,t),a!==null&&(Xe(a,e,t),ur(a,e,t))}function yh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function lm(e,t){yh(e,t),(e=e.alternate)&&yh(e,t)}function ov(e){if(e.tag===13||e.tag===31){var t=Hn(e,67108864);t!==null&&Xe(t,e,67108864),lm(e,67108864)}}function vh(e){if(e.tag===13||e.tag===31){var t=at();t=Ef(t);var a=Hn(e,t);a!==null&&Xe(a,e,t),lm(e,t)}}var js=!0;function Ub(e,t,a,n){var l=O.T;O.T=null;var i=H.p;try{H.p=2,im(e,t,a,n)}finally{H.p=i,O.T=l}}function zb(e,t,a,n){var l=O.T;O.T=null;var i=H.p;try{H.p=8,im(e,t,a,n)}finally{H.p=i,O.T=l}}function im(e,t,a,n){if(js){var l=cf(n);if(l===null)md(e,t,n,Ys,a),Th(e,n);else if(Vb(l,e,t,a,n))n.stopPropagation();else if(Th(e,n),t&4&&-1<Pb.indexOf(e)){for(;l!==null;){var i=ti(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=bn(i.pendingLanes);if(r!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var s=1<<31-tt(r);o.entanglements[1]|=s,r&=~s}Vt(i),(V&6)===0&&(Bs=We()+500,Gr(0,!1))}}break;case 31:case 13:o=Hn(i,2),o!==null&&Xe(o,i,2),nu(),lm(i,2)}if(i=cf(n),i===null&&md(e,t,n,Ys,a),i===l)break;l=i}l!==null&&n.stopPropagation()}else md(e,t,n,null,a)}}function cf(e){return e=yf(e),rm(e)}var Ys=null;function rm(e){if(Ys=null,e=Dl(e),e!==null){var t=Ir(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Oh(t),e!==null)return e;e=null}else if(a===31){if(e=Nh(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ys=e,null}function sv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_A()){case Ih:return 2;case Bh:return 8;case ys:case DA:return 32;case wh:return 268435456;default:return 32}default:return 32}}var df=!1,Ja=null,ka=null,$a=null,Lr=new Map,Rr=new Map,Pa=[],Pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Th(e,t){switch(e){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":Lr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(t.pointerId)}}function $i(e,t,a,n,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[l]},t!==null&&(t=ti(t),t!==null&&ov(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Vb(e,t,a,n,l){switch(t){case"focusin":return Ja=$i(Ja,e,t,a,n,l),!0;case"dragenter":return ka=$i(ka,e,t,a,n,l),!0;case"mouseover":return $a=$i($a,e,t,a,n,l),!0;case"pointerover":var i=l.pointerId;return Lr.set(i,$i(Lr.get(i)||null,e,t,a,n,l)),!0;case"gotpointercapture":return i=l.pointerId,Rr.set(i,$i(Rr.get(i)||null,e,t,a,n,l)),!0}return!1}function uv(e){var t=Dl(e.target);if(t!==null){var a=Ir(t);if(a!==null){if(t=a.tag,t===13){if(t=Oh(a),t!==null){e.blockedOn=t,lp(e.priority,function(){vh(a)});return}}else if(t===31){if(t=Nh(a),t!==null){e.blockedOn=t,lp(e.priority,function(){vh(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Es(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=cf(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Nd=n,a.target.dispatchEvent(n),Nd=null}else return t=ti(a),t!==null&&ov(t),e.blockedOn=a,!1;t.shift()}return!0}function Ah(e,t,a){Es(e)&&a.delete(t)}function Hb(){df=!1,Ja!==null&&Es(Ja)&&(Ja=null),ka!==null&&Es(ka)&&(ka=null),$a!==null&&Es($a)&&($a=null),Lr.forEach(Ah),Rr.forEach(Ah)}function Wo(e,t){e.blockedOn===t&&(e.blockedOn=null,df||(df=!0,ye.unstable_scheduleCallback(ye.unstable_NormalPriority,Hb)))}var es=null;function Ch(e){es!==e&&(es=e,ye.unstable_scheduleCallback(ye.unstable_NormalPriority,function(){es===e&&(es=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],l=e[t+2];if(typeof n!="function"){if(rm(n||a)===null)continue;break}var i=ti(a);i!==null&&(e.splice(t,3),t-=3,Yd(i,{pending:!0,data:l,method:a.method,action:n},n,l))}}))}function Wl(e){function t(s){return Wo(s,e)}Ja!==null&&Wo(Ja,e),ka!==null&&Wo(ka,e),$a!==null&&Wo($a,e),Lr.forEach(t),Rr.forEach(t);for(var a=0;a<Pa.length;a++){var n=Pa[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Pa.length&&(a=Pa[0],a.blockedOn===null);)uv(a),a.blockedOn===null&&Pa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var l=a[n],i=a[n+1],r=l[Ke]||null;if(typeof i=="function")r||Ch(a);else if(r){var o=null;if(i&&i.hasAttribute("formAction")){if(l=i,r=i[Ke]||null)o=r.formAction;else if(rm(l)!==null)continue}else o=r.action;typeof o=="function"?a[n+1]=o:(a.splice(n,3),n-=3),Ch(a)}}}function cv(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return l=r})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function om(e){this._internalRoot=e}ru.prototype.render=om.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));var a=t.current,n=at();rv(a,n,e,t,null,null)};ru.prototype.unmount=om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rv(e.current,2,null,e,null,null),nu(),t[ei]=null}};function ru(e){this._internalRoot=e}ru.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vh();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Pa.length&&t!==0&&t<Pa[a].priority;a++);Pa.splice(a,0,e),a===0&&uv(e)}};var bh=_h.version;if(bh!=="19.2.0")throw Error(S(527,bh,"19.2.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=SA(t),e=e!==null?Mh(e):null,e=e===null?null:e.stateNode,e};var Gb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Wi=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Wi.isDisabled&&Wi.supportsFiber))try{Br=Wi.inject(Gb),et=Wi}catch{}var Wi;ou.createRoot=function(e,t){if(!Dh(e))throw Error(S(299));var a=!1,n="",l=ty,i=ay,r=ny;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=lv(e,1,!1,null,null,a,n,null,l,i,r,cv),e[ei]=t.current,tm(e),new om(t)};ou.hydrateRoot=function(e,t,a){if(!Dh(e))throw Error(S(299));var n=!1,l="",i=ty,r=ay,o=ny,s=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.formState!==void 0&&(s=a.formState)),t=lv(e,1,!0,t,a??null,n,l,s,i,r,o,cv),t.context=iv(null),a=t.current,n=at(),n=Ef(n),l=Ka(n),l.callback=null,Qa(a,l,n),a=n,t.current.lanes=a,xr(t,a),Vt(t),e[ei]=t.current,tm(e),new ru(t)};ou.version="19.2.0"});var gv=va((SN,mv)=>{"use strict";function fv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fv)}catch(e){console.error(e)}}fv(),mv.exports=dv()});var Y={DATE_INPUT:"date",DIET_TYPE_SELECT:"diet-type",TOP_BAR:".top-bar",FOOTER:"footer",EASTER_EGG_OVERLAY:".easter-egg-overlay",EASTER_EGG_ICON:".easter-egg-icon",SERVICE_NUMBER_PREFIX:"service-number-",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2",TAB_DADES:"tab-dades",TAB_SERVEIS:"tab-serveis",CONTENT_DADES:"dades-tab-content",CONTENT_SERVEIS:"serveis-tab-content",MAIN_CONTENT_AREA:"main-content",CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips",SIGNATURE_MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title",DOTACIO_MODAL:"dotacio-modal",OPTIONS_CONTAINER_DOT:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline",SAVE_DIET:"save-diet",NOTES_BUTTON_ID:"notes-selected-service",NOTES_MODAL_ID:"notes-modal",NOTES_TITLE_ID:"notes-title",NOTES_TEXTAREA_ID:"notes-textarea",NOTES_SAVE_ID:"notes-save",NOTES_CANCEL_ID:"notes-cancel",NOTES_COUNTER_ID:"notes-char-counter",SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel",TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text",SAVE_PILL:"save-pill",DONATION_LINK_ID:"openDonation",COOKIE_CONSENT_BANNER:"cookie-consent-banner",ACCEPT_COOKIES:"accept-cookies",DECLINE_COOKIES:"decline-cookies"},xe={INPUT_ERROR:"input-error",ACTIVE_TAB:"active",ERROR_TAB:"error-tab",MODAL_OPEN:"modal-open",MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",TOP_BAR_TAPS:3,FOOTER_TAPS:2,TIMEOUT:1e3,ANIMATION_DURATION:1e3,DEFAULT_DURATION:3e3,ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1,SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",CHIP_ACTIVE:"chip-active",PANEL_VISIBLE:"visible",BUTTON_OPEN:"open",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_LOAD_BTN:"diet-load",DIET_DELETE_BTN:"diet-delete",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal",INPUT_ERROR_DOT:"input-error",IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount",PROMPT_DISMISSED_LIMIT:2,ACTION_TRIGGER_LIMIT:10,DARK_THEME:"theme-dark",VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error",SIGNED:"signed",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Yn={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group",PERSON_INPUT_GROUP:".input-with-icon",TEXT_SEL:".pill-text",SERVICE_CONTAINER_SELECTOR:".service",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete",SERVICE_NUMBER_INPUT:".service-number"},yu={serviceNumber:".service-number",origin:".origin",destination:".destination",originTime:".origin-time",destinationTime:".destination-time",endTime:".end-time",mode:".chip-active",notes:""},Gt={SERVICE_NUMBER_LENGTH:9,VEHICLE_MAX_LENGTH:6,PERSON_NAME_MAX_LENGTH:28,LOCATION_MAX_LENGTH:35,PERSON_NAME_ALLOWED_CHARS:/^[a-zA-Z\s'’áéíóúàèìòùäëïöüñçÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÑÇ]+$/u},_m={DEBOUNCE_TOAST:300,DEBOUNCE_AUTO_SAVE:1e3,DEBOUNCE_HANDLER:800};var yi={LUNCH:"lunch",DINNER:"dinner"},Dm=Yn.SERVICE_CONTAINER_SELECTOR,vu={SERVICE_NUMBER_DIGITS_ONLY:"Solo se permiten d\xEDgitos (0-9) en el n\xFAmero de servicio.",SAVE_ERROR_DIGITAL_ONLY:"El n\xFAmero de servicio debe contener solo d\xEDgitos.",VALIDATION_FAILED:"Validaci\xF3n fallida",OCR_PROCESS_RUNNING:"Proceso OCR ya en marcha.",INVALID_IMAGE:"Selecciona una imagen.",IMAGE_TOO_BIG:"La imagen es demasiado grande (m\xE1x. 10 MB).",OCR_ERROR:"Error de escaneo",IMAGE_PROCESS_ERROR:"Error al procesar la imagen.",OCR_COMPLETE:"An\xE1lisis completado.",SAVING:"Guardando\u2026",SAVED:"Guardado",SAVE_ERROR:"No se pudo guardar",DOWNLOAD_STARTED:"Descarga iniciada correctamente.",PDF_GENERATION_ERROR:"Error en la generaci\xF3n del PDF",DOTACIO_SAVED:"Dotaci\xF3n guardada.",DOTACIO_LOADED:"Dotaci\xF3n cargada.",DOTACIO_DELETED:"Dotaci\xF3n eliminada."};var Om={DOTACIIONS:"dotacions_v2",ANONYMOUS_USER:"anonymousUserId",COOKIE_CONSENT:"cookie_consent",THEME_PREFERENCE:"themePreference",USER_SELECTED_SERVICE_TYPE:"userSelectedServiceType",ONBOARDING_COMPLETED:"onboardingCompleted"};Rt();function sn(e){e?.classList.add(xe.INPUT_ERROR)}function Xn(e){e?.classList.remove(xe.INPUT_ERROR)}function Lm(e){if(!e||e.length===0)return"";let t=e.map(a=>`S${a}`);return t.length===1?t[0]:t.length===2?t.join(" y "):`${t.slice(0,-1).join(", ")} y ${t[t.length-1]}`}function vi(e){!e||e.dataset.errorListenerAttached||(e.addEventListener("input",()=>Xn(e),{once:!0}),e.dataset.errorListenerAttached="true")}function Rm(e,t,a,n){if(!e)return!0;Xn(e);let l=e.value.trim(),i=!1;return l?/^\d+$/.test(l)?l.length!==Gt.SERVICE_NUMBER_LENGTH&&(n.digitLength.push(t),i=!0):(n.nonNumeric.push(t),i=!0):a&&(n.emptyRequiredS1=!0,i=!0),i?(sn(e),vi(e),!1):!0}function gT(e){let t=[];return e.nonNumeric.length>0&&t.push(`El n\xFAmero de servicio ${Lm(e.nonNumeric)} debe contener solo d\xEDgitos.`),e.digitLength.length>0&&t.push(`El n\xFAmero de servicio ${Lm(e.digitLength)} debe tener ${Gt.SERVICE_NUMBER_LENGTH} d\xEDgitos.`),t}function $r(){let e=!0;return[document.getElementById(Y.DATE_INPUT),document.getElementById(Y.DIET_TYPE_SELECT)].filter(Boolean).forEach(a=>{Xn(a),a.value.trim()||(sn(a),vi(a),e=!1)}),e}function Wr(){let e={emptyRequiredS1:!1,nonNumeric:[],digitLength:[]},t=!0,a=document.getElementById(`${Y.SERVICE_NUMBER_PREFIX}1`);if(!a)return console.error("Validation: No se ha encontrado el input para el servicio S1."),!1;t=Rm(a,1,!0,e)&&t;for(let l=2;l<=4;l++){let i=document.getElementById(`${Y.SERVICE_NUMBER_PREFIX}${l}`);i&&(t=Rm(i,l,!1,e)&&t)}if(t)return!0;let n=gT(e);return n.length>0&&b(n.join(`
`),"error"),!1}function fe(e){return typeof e!="string"?"":e.trim().replace(/[<>&"'`]/g,"").trim()}function eo(e){return e?/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/.test(e):!0}function Im(e,t,a,n){let l=e?.value.trim()||"";return l&&!Gt.PERSON_NAME_ALLOWED_CHARS.test(l)?(sn(t),!1):l.length>Gt.PERSON_NAME_MAX_LENGTH?(sn(t),n.push(`El nombre del ${a} no puede superar los ${Gt.PERSON_NAME_MAX_LENGTH} caracteres.`),!1):!0}function Bm(){let e=document.getElementById(Y.VEHICLE_INPUT),t=document.getElementById(Y.PERSON1_INPUT),a=document.getElementById(Y.PERSON2_INPUT),n=t?.closest(Yn.PERSON_INPUT_GROUP),l=a?.closest(Yn.PERSON_INPUT_GROUP);Xn(e),Xn(n),Xn(l);let i=e?.value.trim()||"",r=t?.value.trim()||"",o=a?.value.trim()||"",s=!0,u=[];return i||(sn(e),u.push("El campo Veh\xEDculo es obligatorio."),s=!1),s=Im(t,n,"Conductor",u)&&s,s=Im(a,l,"Ayudante",u)&&s,!r&&!o&&(sn(n),sn(l),u.push("Debe indicar al menos un Conductor o Ayudante."),s=!1),s||(vi(e),vi(t),vi(a),b(u.join(`
`),"error")),s}function wm(){let e=Gt.PERSON_NAME_ALLOWED_CHARS,t=/^[^\x00-\x1F\x7F<>&"'`]*$/u;function a(u){let f=u.target.value;e.test(f)||(u.target.value=f.replace(/[^a-zA-Z\s'’áéíóúàèìòùäëïöüñçÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÑÇ.]/g,""))}function n(u){let f=u.target.value;t.test(f)||(u.target.value=f.replace(/[<>&"'`]/g,"").trim())}function l(u){u.key==="Enter"||u.key==="Tab"||u.ctrlKey||u.metaKey||u.altKey||u.key.length>1||e.test(u.key)||u.preventDefault()}function i(u){u.key==="Enter"||u.key==="Tab"||u.ctrlKey||u.metaKey||u.altKey||u.key.length>1||t.test(u.key)||u.preventDefault()}[document.getElementById(Y.PERSON1_INPUT),document.getElementById(Y.PERSON2_INPUT)].filter(Boolean).forEach(u=>{u.addEventListener("input",a),u.addEventListener("keypress",l)}),document.querySelectorAll(".service .origin, .service .destination").forEach(u=>{u.addEventListener("input",n),u.addEventListener("keypress",i)});let s=document.getElementById(Y.VEHICLE_INPUT);s&&s.addEventListener("input",u=>{u.target.value.length>Gt.VEHICLE_MAX_LENGTH&&(u.target.value=u.target.value.slice(0,Gt.VEHICLE_MAX_LENGTH))})}var Kn={},Ta={debug:10,info:20,warn:30,error:40,silent:50};function ET(){if(typeof Kn<"u"&&Kn.env){if(typeof Kn.env.MODE=="string")return Kn.env.MODE;if(typeof Kn.env.NODE_ENV=="string")return Kn.env.NODE_ENV}return typeof process<"u"&&process.env?"production":typeof window<"u"&&typeof window.__APP_ENV__=="string"?window.__APP_ENV__:"development"}var ao=ET()==="production"?Ta.warn:Ta.debug,Au=new Set;function pT(e){for(let t of Au)try{t(e)}catch{}}function hT(e){return typeof console>"u"?null:e==="debug"&&typeof console.debug=="function"?console.debug.bind(console):e==="info"&&typeof console.info=="function"?console.info.bind(console):e==="warn"&&typeof console.warn=="function"?console.warn.bind(console):e==="error"&&typeof console.error=="function"?console.error.bind(console):console.log?console.log.bind(console):null}function ST(e,t){let a=new Date().toISOString();return t?[`[${a}] [${t}] [${e.toUpperCase()}]`]:[`[${a}] [${e.toUpperCase()}]`]}function xm(e){return Ta[e]>=ao&&ao<Ta.silent}function to(e,t,a){if(!xm(e))return;let n=hT(e);n&&n(...ST(e,t),...a)}function Cu(e){let t=e;return{debug:(...a)=>to("debug",t,a),info:(...a)=>to("info",t,a),warn:(...a)=>to("warn",t,a),error:(...a)=>to("error",t,a),isEnabled(a="debug"){return xm(a)},withScope(a){let n=t?`${t}:${a}`:a;return Cu(n)}}}var R={...Cu("App"),setLevel(e){if(!Ta[e])throw new Error(`Nivell de log desconegut: ${e}`);ao=Ta[e],pT(e)},getLevel(){let e=Object.entries(Ta).find(([,t])=>t===ao);return e?e[0]:"debug"},subscribe(e){return Au.add(e),()=>Au.delete(e)},withScope(e){return Cu(e)}},aD=Object.freeze({...Ta});var Qn=R.withScope("InputSanitizer"),no={TIME:/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/,SERVICE_NUMBER:/^\d{9}$/,VEHICLE_NUMBER:/^[A-Z0-9]{3,6}$/i,DATE_ISO:/^\d{4}-\d{2}-\d{2}$/,PERSON_NAME:/^[a-zA-ZÀ-ÿ\s\-']{1,28}$/,GENERAL_TEXT:/^[a-zA-Z0-9À-ÿ\s\-.,;:()'\/]{0,150}$/},yT=[/<script[^>]*>.*?<\/script>/gi,/<iframe[^>]*>.*?<\/iframe>/gi,/<object[^>]*>.*?<\/object>/gi,/<embed[^>]*>/gi,/<[^>]*>/g,/javascript:/gi,/on\w+\s*=/gi,/data:text\/html/gi,/('|(--)|;|\/\*|\*\/|xp_|sp_|exec|execute|select|insert|update|delete|drop|create|alter)/gi,/(\||&|;|\$\(|\`|>|<)/g];function Fn(e){return typeof e!="string"?!1:yT.some(t=>t.test(e))}function vT(e){if(typeof e!="string")return"";let t=e.replace(/<[^>]*>/g,"");return t=t.replace(/[\x00-\x08\x0B-\x0C\x0E-\x1F\x7F]/g,""),t=t.replace(/\s+/g," "),t=t.trim(),t}function bu(e){return!e||typeof e!="string"?!1:Fn(e)?(Qn.warn("Patr\xF3 sospit\xF3s detectat en validaci\xF3 de hora:",e),!1):no.TIME.test(e)}function _u(e){return!e||typeof e!="string"?!1:Fn(e)?(Qn.warn("Patr\xF3 sospit\xF3s detectat en n\xFAmero de servei:",e),!1):/^\d{1,9}$/.test(e)}function TT(e){return!e||typeof e!="string"?!1:Fn(e)?(Qn.warn("Patr\xF3 sospit\xF3s detectat en n\xFAmero de vehicle:",e),!1):no.VEHICLE_NUMBER.test(e)}function AT(e){return!e||typeof e!="string"?!0:Fn(e)?(Qn.warn("Patr\xF3 sospit\xF3s detectat en nom de persona:",e),!1):no.PERSON_NAME.test(e)}function CT(e){return!e||typeof e!="string"?!0:Fn(e)?(Qn.warn("Patr\xF3 sospit\xF3s detectat en text general:",e.substring(0,50)),!1):no.GENERAL_TEXT.test(e)}function Um(e){return!e||typeof e!="string"?{valid:!1,reason:"Text buit o inv\xE0lid"}:Fn(e)?(Qn.warn("Patrons sospitosos detectats en resultat OCR"),{valid:!1,reason:"Text amb patrons sospitosos detectats"}):e.length>2e3?{valid:!1,reason:"Text massa llarg"}:/\d/.test(e)?{valid:!0}:{valid:!1,reason:"No cont\xE9 d\xEDgits (hores esperades)"}}function Ti(e,t="text"){let a=vT(e),n=!1,l="";switch(t){case"time":n=bu(a),l=n?"":"Format d'hora inv\xE0lid (esperat: HH:mm)";break;case"serviceNumber":n=_u(a),l=n?"":"N\xFAmero de servei inv\xE0lid (esperat: 1-9 d\xEDgits)";break;case"vehicleNumber":n=TT(a),l=n?"":"N\xFAmero de vehicle inv\xE0lid (esperat: 3-6 car\xE0cters alfanum\xE8rics)";break;case"personName":n=AT(a),l=n?"":"Nom inv\xE0lid (nom\xE9s lletres, espais i guions)";break;case"text":default:n=CT(a),l=n?"":"Text inv\xE0lid (cont\xE9 car\xE0cters no permesos)";break}return{valid:n,sanitized:a,reason:l}}var bT=["3.6","3.51","3.22","3.11"],Zn={CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips"},bi={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group"},ae={SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",SERVICE_COLORS:["service-1","service-2","service-3","service-4"],OPTIONS_MENU_HIDDEN:"hidden",CHIP_ACTIVE:"chip-active"},_T=[".chip-group-title",".chip-group",".btn-ocr-inline",".section-divider"],DT=[".destination",".destination-time"],zm=!1,Jn=0,Te=[],_i=[],Pm=[],Du=null,Ai=null,qt=null,Ci=null,OT=null,NT=[],Aa=[],jt=["","","",""];function MT(){Ai&&(Ai.innerHTML="",_i=Te.map((e,t)=>{let a=document.createElement("button");return a.className=`service-button ${ae.SERVICE_COLORS[t]}`,a.textContent=`S${t+1}`,a.type="button",a.setAttribute("aria-label",`Mostrar servei ${t+1}`),a.addEventListener("click",()=>wT(t)),Ai.appendChild(a),a}))}function LT(){!qt||!Ci||(Ci.addEventListener("click",e=>{e.stopPropagation(),qt.classList.toggle(ae.OPTIONS_MENU_HIDDEN)}),document.addEventListener("click",e=>{!Ci?.contains(e.target)&&!qt?.contains(e.target)&&qt.classList.add(ae.OPTIONS_MENU_HIDDEN)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&qt&&qt.classList.add(ae.OPTIONS_MENU_HIDDEN)}),qt.addEventListener("click",e=>{e.target.closest("button")&&qt.classList.add(ae.OPTIONS_MENU_HIDDEN)}))}function RT(e,t){let a=e.querySelector(t);return a?a.closest(bi.FORM_GROUP):null}function lo(e,t){if(!e)return;let a=t!=="3.6";DT.forEach(l=>{RT(e,l)?.classList.toggle(ae.SERVICE_HIDDEN,a)});let n=e.querySelector(".origin");n&&(a?n.setAttribute("enterkeyhint","done"):n.removeAttribute("enterkeyhint"))}function IT(e){OT&&NT.forEach(t=>t.classList.toggle(ae.CHIP_ACTIVE,t.dataset.mode===e))}function io(e,t){e.querySelectorAll(bi.CHIP).forEach(n=>n.classList.toggle(ae.CHIP_ACTIVE,n.dataset.mode===t))}function BT(){Te.forEach((e,t)=>{e.querySelectorAll(bi.CHIP).forEach(n=>{n.addEventListener("click",()=>{let l=n.dataset.mode;if(!bT.includes(l)){console.error(`Intent de canviar a un mode inv\xE0lid: "${l}". Acci\xF3 bloquejada.`);return}if(Aa[t]===l)return;Aa[t]=l,io(e,l),lo(e,l);let i=e.querySelector(".chip-group");i&&(ae.SERVICE_COLORS.forEach(r=>i.classList.remove(r)),i.classList.add(ae.SERVICE_COLORS[t])),Yt()})})})}function Ou(e){let t=ae.SERVICE_COLORS[e],a=(n,l)=>{n&&(n.classList.remove(...ae.SERVICE_COLORS),n.classList.add(l,t))};a(document.getElementById(Zn.CLEAR_BTN),"clear-selected-btn"),a(document.getElementById(Zn.CAMERA_BTN),"camera-btn"),a(document.getElementById("notes-selected-service"),"notes-btn"),a(Ci,"options-btn")}function Vm(){if(!zm&&(Pm=document.querySelectorAll(bi.SERVICE_PANEL),Du=document.getElementById(Zn.CONTAINER),Ai=document.getElementById(Zn.BUTTONS_CONTAINER),qt=document.getElementById(Zn.OPTIONS_MENU),Ci=document.getElementById(Zn.OPTIONS_TOGGLE_BTN),!(!Du||!Ai)&&(Te=Array.from(Du.querySelectorAll(bi.SERVICE_PANEL)),!!Te.length))){if(Aa=Te.map(()=>"3.6"),MT(),LT(),BT(),Te.length>0&&_i.length>0){Te.forEach((a,n)=>a.classList.toggle(ae.SERVICE_HIDDEN,n!==0)),_i[0].classList.add(ae.BUTTON_ACTIVE);let e=Aa[0];lo(Te[0],e),io(Te[0],e);let t=Te[0].querySelector(".chip-group");t&&t.classList.add(ae.SERVICE_COLORS[0]),IT(e),Ou(0)}zm=!0}}function wT(e){if(e<0||e>=Te.length||e===Jn)return;Te[Jn].classList.add(ae.SERVICE_HIDDEN),Te[e].classList.remove(ae.SERVICE_HIDDEN),_i[Jn].classList.remove(ae.BUTTON_ACTIVE),_i[e].classList.add(ae.BUTTON_ACTIVE),Jn=e;let t=Aa[e];lo(Te[e],t),io(Te[e],t);let a=Te[e].querySelector(".chip-group");a&&(ae.SERVICE_COLORS.forEach(n=>a.classList.remove(n)),a.classList.add(ae.SERVICE_COLORS[e])),Ou(e)}var un=()=>Jn,Hm=e=>{if(e>=0&&e<Aa.length)return Aa[e]};function Gm(e){e&&e.querySelectorAll("input, select, textarea").forEach(t=>{t.type==="checkbox"||t.type==="radio"?t.checked=!1:t.type!=="button"&&t.type!=="submit"&&t.type!=="reset"&&(t.value=""),t.tagName==="SELECT"&&(t.selectedIndex=0)})}function Nu(){Ou(Jn)}function qm(e,t){if(e<0||e>=Te.length)return;Aa[e]=t;let a=Te[e];a&&(io(a,t),lo(a,t),Yt())}function kn(e){let t=e==="TSNU";Pm.forEach(a=>{_T.forEach(n=>{a.querySelector(n)?.classList.toggle(ae.SERVICE_HIDDEN,t)})})}function Di(e){e&&e.querySelectorAll(".input-error").forEach(t=>t.classList.remove("input-error"))}var ro=class{constructor({id:t="",date:a="",dietType:n="",vehicleNumber:l="",person1:i="",person2:r="",signatureConductor:o="",signatureAjudant:s="",services:u=[],serviceType:f="TSU",timeStampDiet:E=new Date().toISOString()}={}){this.id=String(t),this.date=String(a),this.dietType=String(n),this.vehicleNumber=String(l),this.person1=String(i),this.person2=String(r),this.signatureConductor=String(o),this.signatureAjudant=String(s),this.services=Array.isArray(u)?u:[],this.serviceType=String(f),this.timeStampDiet=String(E)}};function xT(){let e="dietSalt",t=(n=16)=>Array.from({length:n},()=>Math.floor(Math.random()*256).toString(16).padStart(2,"0")).join(""),a=localStorage.getItem(e);if(!a){if(window.crypto?.getRandomValues){let n=crypto.getRandomValues(new Uint8Array(16));a=Array.from(n).map(l=>l.toString(16).padStart(2,"0")).join("")}else console.warn("[pseudoId] crypto.getRandomValues no disponible; usant Math.random() (menys segur, nom\xE9s mode desenvolupament)."),a=t(16);localStorage.setItem(e,a)}return a}async function $n(e){if(!window.crypto?.subtle)return console.warn("[pseudoId] WebCrypto no disponible (context no segur). S\u2019usar\xE0 l\u2019ID en clar nom\xE9s en aquesta sessi\xF3."),e;let a=new TextEncoder().encode(xT()+e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(l=>l.toString(16).padStart(2,"0")).join("")}var Mu=new Intl.RelativeTimeFormat("es",{numeric:"auto"});function jm(e){if(!(e instanceof Date)||isNaN(e.getTime()))throw new Error("La data proporcionada no \xE9s v\xE0lida.");let t=Date.now()-e.getTime();if(t<0)return"en el futuro";let a=Math.round(t/1e3);if(a<45)return"hace unos segundos";if(a<90)return"hace un minuto";let n=Math.round(a/60);if(n<60)return Mu.format(-n,"minute");let l=Math.round(n/60);if(l<24)return Mu.format(-l,"hour");let i=Math.round(l/24);return Mu.format(-i,"day")}var ot=R.withScope("CryptoManager"),UT=1,Lu="AES-GCM";var zT=12,Km=128;var PT=["person1","person2","vehicleNumber","signatureConductor","signatureAjudant"],VT=["serviceNumber","origin","destination","notes"];function oo(e){return!!(e&&e.encryption&&e.encryption.version&&e.encryptedData)}function HT(){return crypto.getRandomValues(new Uint8Array(zT))}function Ym(e){let t=new Uint8Array(e),a="";for(let n=0;n<t.byteLength;n++)a+=String.fromCharCode(t[n]);return btoa(a)}function Xm(e){let t=atob(e),a=new Uint8Array(t.length);for(let n=0;n<t.length;n++)a[n]=t.charCodeAt(n);return a.buffer}function GT(e){let t={id:e.id,date:e.date,dietType:e.dietType,serviceType:e.serviceType,createdAt:e.createdAt||Date.now(),updatedAt:Date.now()},a={generalData:{},servicesData:[]};return PT.forEach(n=>{e[n]!==void 0&&(a.generalData[n]=e[n])}),Array.isArray(e.services)&&(a.servicesData=e.services.map(n=>{let l={},i={};return Object.keys(n).forEach(r=>{VT.includes(r)?l[r]=n[r]:i[r]=n[r]}),{sensitive:l,public:i}})),t.services=a.servicesData.map(n=>n.public),{publicData:t,sensitiveData:a}}function qT(e,t){let a={...e};return t.generalData&&Object.assign(a,t.generalData),Array.isArray(e.services)&&Array.isArray(t.servicesData)&&(a.services=e.services.map((n,l)=>{let i=t.servicesData[l]?.sensitive||{};return{...n,...i}})),a}async function jT(e,t){try{let n=new TextEncoder().encode(JSON.stringify(e)),l=HT(),i=await crypto.subtle.encrypt({name:Lu,iv:l,tagLength:Km},t,n);return{data:Ym(i),iv:Ym(l),algorithm:Lu,version:UT}}catch(a){throw ot.error("Error encriptant dades:",a),new Error(`Encryption failed: ${a.message}`)}}async function YT(e,t){try{if(!e||!e.data||!e.iv)throw new Error("Invalid encrypted data format");let a=Xm(e.data),n=Xm(e.iv),l=await crypto.subtle.decrypt({name:Lu,iv:new Uint8Array(n),tagLength:Km},t,new Uint8Array(a)),r=new TextDecoder().decode(l);return JSON.parse(r)}catch(a){throw ot.error("Error desencriptant dades:",a),new Error(`Decryption failed: ${a.message}`)}}async function Qm(e){try{let a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){return ot.error("Error calculant checksum:",t),""}}async function so(e,t){try{ot.debug("Encriptant dieta:",e.id);let{publicData:a,sensitiveData:n}=GT(e),l=await jT(n,t),i=await Qm(l.data),r={...a,encryption:{version:l.version,algorithm:l.algorithm,iv:l.iv},encryptedData:l.data,checksum:i};return ot.debug("Dieta encriptada correctament:",e.id),r}catch(a){throw ot.error("Error encriptant dieta:",a),a}}async function uo(e,t,a={}){let{showChecksumWarning:n=!0}=a;try{ot.debug("Desencriptant dieta:",e.id);let l=!0;if(e.checksum&&await Qm(e.encryptedData)!==e.checksum){if(l=!1,ot.error(`\u26A0\uFE0F CHECKSUM MISMATCH per dieta ${e.id} - Integritat compromesa`),n&&typeof window<"u")try{let{showToast:f}=await Promise.resolve().then(()=>(Rt(),Mm));f("\u26A0\uFE0F Advert\xE8ncia: Les dades d'aquesta dieta poden estar corruptes. El checksum no coincideix.","warning",7e3)}catch{ot.warn("No s'ha pogut mostrar alerta de checksum a l'usuari")}ot.warn("Continuant amb desencriptaci\xF3 malgrat checksum inv\xE0lid (AES-GCM validar\xE0 integritat)")}let i={data:e.encryptedData,iv:e.encryption.iv,algorithm:e.encryption.algorithm,version:e.encryption.version},r=await YT(i,t),o={...e};delete o.encryption,delete o.encryptedData,delete o.checksum;let s=qT(o,r);return ot.debug(`Dieta desencriptada correctament: ${s.id} (checksum: ${l?"\u2705 v\xE0lid":"\u26A0\uFE0F inv\xE0lid"})`),s}catch(l){throw ot.error("Error desencriptant dieta:",l),l.name==="OperationError"?new Error("Les dades estan corruptes o s'ha utilitzat una clau incorrecta"):l}}var se=R.withScope("KeyManager"),XT="encryption-keys",KT=1;var Oi="wrapped-master-key",Fm="device-salt",Jm={name:"AES-GCM",length:256},Ru={name:"AES-KW",length:256};async function Iu(){return new Promise((e,t)=>{let a=indexedDB.open(XT,KT);a.onerror=()=>{se.error("Error obrint base de dades de claus"),t(a.error)},a.onsuccess=()=>{e(a.result)},a.onupgradeneeded=n=>{let l=n.target.result;l.objectStoreNames.contains("keys")||(l.createObjectStore("keys",{keyPath:"id"}),se.debug("Object store de claus creat"))}})}async function km(e,t){let a=await Iu();return new Promise((n,l)=>{let o=a.transaction(["keys"],"readwrite").objectStore("keys").put({id:e,value:t,timestamp:Date.now()});o.onsuccess=()=>n(),o.onerror=()=>l(o.error)})}async function Ni(e){let t=await Iu();return new Promise((a,n)=>{let r=t.transaction(["keys"],"readonly").objectStore("keys").get(e);r.onsuccess=()=>{a(r.result?.value||null)},r.onerror=()=>n(r.error)})}async function QT(){let e=[navigator.userAgent,navigator.language,screen.width,screen.height,screen.colorDepth,new Date().getTimezoneOffset(),navigator.hardwareConcurrency||0,navigator.deviceMemory||0],a=new TextEncoder().encode(e.join("|")),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}async function FT(){let e=await Ni(Fm);return e?e=new Uint8Array(e):(e=crypto.getRandomValues(new Uint8Array(32)),await km(Fm,Array.from(e)),se.debug("Nou salt de dispositiu generat")),e}async function $m(){try{let e=await QT(),t=await FT(),a=new TextEncoder,n=await crypto.subtle.importKey("raw",a.encode(e),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},n,Ru,!1,["wrapKey","unwrapKey"])}catch(e){throw se.error("Error derivant clau de dispositiu:",e),e}}async function ZT(){try{se.debug("Generant nova clau mestra...");let e=await crypto.subtle.generateKey(Jm,!0,["encrypt","decrypt"]);return se.debug("Clau mestra generada correctament"),e}catch(e){throw se.error("Error generant clau mestra:",e),e}}async function JT(e,t){try{return await crypto.subtle.wrapKey("raw",e,t,Ru.name)}catch(a){throw se.error("Error protegint clau mestra:",a),a}}async function kT(e,t){try{return await crypto.subtle.unwrapKey("raw",e,t,Ru.name,Jm,!1,["encrypt","decrypt"])}catch(a){throw se.error("Error desprotegint clau mestra:",a),a}}async function cn(){try{if(se.debug("\u{1F510} Inicialitzant sistema de claus..."),await Ni(Oi)){se.debug("\u2705 Sistema de claus ja inicialitzat");return}let t=await ZT(),a=await $m(),n=await JT(t,a);await km(Oi,Array.from(new Uint8Array(n))),se.debug("\u2705 Sistema de claus inicialitzat correctament"),se.debug("\u{1F512} Protecci\xF3 de dades activada")}catch(e){throw se.error("\u274C Error inicialitzant sistema de claus:",e),e}}async function Xt(){try{let e=await Ni(Oi);if(!e){if(se.warn("\u26A0\uFE0F Clau mestra no trobada. Inicialitzant sistema autom\xE0ticament..."),await cn(),!await Ni(Oi))throw new Error("Failed to initialize key system");return await Xt()}if(!Array.isArray(e)||e.length===0)throw se.error("\u274C Clau mestra corrupta (format inv\xE0lid). Reinicialitzant..."),await Zm(),await cn(),new Error("Key system was corrupted and has been reset. Please try again.");let t=new Uint8Array(e).buffer,a=await $m();try{return await kT(t,a)}catch(n){throw se.error("\u274C Error desprotegint clau (possiblement corrupta):",n),se.warn("\u{1F504} Reinicialitzant sistema de claus..."),await Zm(),await cn(),new Error("Key system was corrupted. System has been reset - please refresh the page.")}}catch(e){throw se.error("Error recuperant clau mestra:",e),e}}async function dn(){return!!await Ni(Oi)}async function Zm(){se.warn("\u26A0\uFE0F RESETEJANT SISTEMA DE CLAUS - Les dades encriptades es perdran!");let e=await Iu();return new Promise((t,a)=>{let i=e.transaction(["keys"],"readwrite").objectStore("keys").clear();i.onsuccess=()=>{se.debug("\u2705 Sistema de claus resetejat"),t()},i.onerror=()=>a(i.error)})}var $T="DietasDB";var Kt="dietas",Bu="dateIndex",Wm="dotacions",st=null;function eg(){return new Promise((e,t)=>{let a=indexedDB.open($T,2);a.onupgradeneeded=n=>{let l=n.target.result,i=n.oldVersion,r;l.objectStoreNames.contains(Kt)?(r=n.target.transaction.objectStore(Kt),r&&!r.indexNames.contains(Bu)&&r.createIndex(Bu,"date",{unique:!1})):(r=l.createObjectStore(Kt,{keyPath:"id"}),r.createIndex(Bu,"date",{unique:!1})),i<2&&!l.objectStoreNames.contains(Wm)&&l.createObjectStore(Wm,{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1})},a.onsuccess=n=>{st=n.target.result,st.onclose=()=>st=null,st.onerror=()=>st=null,st.onversionchange=()=>st.close(),e(st)},a.onerror=n=>t(n.target.error),a.onblocked=()=>t(new Error("IndexedDB bloquejat per una altra pestanya"))})}async function Mi(e="readonly"){return(st??(st=await eg())).transaction(Kt,e)}function Li(e,t){return new Promise((a,n)=>{e.onsuccess=l=>a(l.target.result),e.onerror=l=>n(new Error(`${t}: ${l.target.error}`))})}function wu(e){return new Promise((t,a)=>{e.oncomplete=()=>t(),e.onerror=()=>a(e.error),e.onabort=()=>a(e.error)})}async function xu(e){try{let t=await Mi("readwrite");return Li(t.objectStore(Kt).add(e),"No s'ha pogut afegir"),await wu(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function co(e,t){try{let a;typeof e=="string"&&t?a={...t,id:e}:a=e;let n=await Mi("readwrite");return Li(n.objectStore(Kt).put(a),"No s'ha pogut actualitzar"),await wu(n),a.id}catch(a){throw a.name==="QuotaExceededError"||a.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):a}}async function fn(e){if(!e)return;let t=await Mi();return Li(t.objectStore(Kt).get(e),"Error obtenint dieta")}async function Ca(){let e=await Mi();return Li(e.objectStore(Kt).getAll(),"Error llistant dietes")}async function tg(e){if(!e)return;let t=await Mi("readwrite");Li(t.objectStore(Kt).delete(e),"Error eliminant dieta"),await wu(t)}async function ag(){return st??(st=await eg())}Rt();var WT="save-pill",e0=".pill-text",Qt={VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error"},ng=2e3;var ba=null,Uu=null,mn=null,Ri=null,zu=!1;function lg(){if(!ba){if(ba=document.getElementById(WT),Uu=ba?.querySelector(e0),!ba||!Uu)throw new Error("Elements de la p\xEDndola no trobats al DOM.");ba.setAttribute("role","status"),ba.setAttribute("aria-live","polite")}return{pillEl:ba,textEl:Uu}}function Pu(e,t){try{let{pillEl:a,textEl:n}=lg();a.classList.add(Qt.VISIBLE),a.classList.remove(Qt.HAS_CHANGES,Qt.SAVING,Qt.HAS_SAVED,Qt.ERROR),t&&a.classList.add(t),n.textContent=e.replace(/[<>&]/g,"")}catch(a){console.warn("[saveIndicator] Error mostrant p\xEDndola:",a)}}function fo(e="Guardando\u2026"){clearTimeout(Ri),Pu(e,Qt.SAVING)}function mo(){clearTimeout(Ri),zu=!1,Pu("Guardado",Qt.HAS_SAVED),clearTimeout(mn),mn=setTimeout(Vu,ng)}function gn(e="No se pudo guardar"){clearTimeout(Ri),Pu(e,Qt.ERROR),clearTimeout(mn),mn=setTimeout(Vu,ng*2)}function Vu(e=!1){try{if(lg(),clearTimeout(mn),zu&&!e)return;ba?.classList.remove(Qt.VISIBLE),mn=null}catch(t){console.warn("[saveIndicator] Error amagant p\xEDndola:",t)}}function Ii(){zu=!1,clearTimeout(Ri),Vu(!0)}window.addEventListener("pagehide",()=>{clearTimeout(mn),clearTimeout(Ri)});var Hu=Promise.resolve(),Gu=!1,qu=!1,En=!1,pn=R.withScope("DietService");async function t0(e,t,a){if(!e||!Array.isArray(t)||!a)throw new Error("Datos incompletos para construir la dieta.");if(!/^\d{9}$/.test(a))throw new Error("ID de dieta inv\xE1lido. Debe contener 9 d\xEDgitos.");for(let r of t)if(!eo(r.originTime)||!eo(r.destinationTime)||!eo(r.endTime))throw new Error("Formato de hora inv\xE1lido detectado. Use HH:mm.");let n=await $n(a),l=new Date().toISOString(),i={id:n,date:fe(e.date),dietType:fe(e.dietType),vehicleNumber:fe(e.vehicleNumber),person1:fe(e.person1),person2:fe(e.person2),signatureConductor:e.signatureConductor,signatureAjudant:e.signatureAjudant,services:t.map(r=>({serviceNumber:fe(r.serviceNumber),origin:fe(r.origin),destination:fe(r.destination),originTime:r.originTime,destinationTime:r.destinationTime,endTime:r.endTime,mode:fe(r.mode),notes:fe(r.notes)||""})),serviceType:fe(e.serviceType),timeStampDiet:l};return new ro(i)}function a0(){let e=document.getElementById(Y.DADES_TAB),t=document.getElementById(Y.SERVEIS_TAB);e?.classList.remove(xe.ERROR_TAB),t?.classList.remove(xe.ERROR_TAB);let a=$r(),n=Wr();if(a&&n)return!0;let l="";return!a&&!n?(l="Completa los campos obligatorios en Datos y Servicios.",e?.classList.add(xe.ERROR_TAB),t?.classList.add(xe.ERROR_TAB)):a?(l="Completa los campos obligatorios en la pesta\xF1a Servicios.",t?.classList.add(xe.ERROR_TAB)):(l="Completa los campos obligatorios en la pesta\xF1a Datos.",e?.classList.add(xe.ERROR_TAB)),b(l,"error"),!1}function n0(e){if(!e)return;let t=l=>document.getElementById(l);t(Y.DATE_INPUT).value=e.date||"",t(Y.DIET_TYPE_SELECT).value=e.dietType||"",t(Y.VEHICLE_INPUT).value=e.vehicleNumber||"",t(Y.PERSON1_INPUT).value=e.person1||"",t(Y.PERSON2_INPUT).value=e.person2||"";let a=t(Y.SERVICE_TYPE_SELECT);a&&(a.value=e.serviceType||"TSU",kn(a.value)),go(e.signatureConductor||""),Eo(e.signatureAjudant||"");let n=document.querySelectorAll(Dm);e.services.forEach((l,i)=>{let r=n[i];r&&(Object.entries(yu).forEach(([o,s])=>{if(!s)return;let u=r.querySelector(s);u&&(u.value=l[o]||"")}),qm(i,l.mode||"3.6"),Di(r),jt[i]=l.notes||"")});for(let l=e.services.length;l<n.length;l++){let i=n[l];i&&(Object.values(yu).forEach(r=>{if(!r)return;let o=i.querySelector(r);o&&(o.value="")}),Di(i),jt[l]="")}}async function Yu(e){if(En=En||e,Gu)return qu=!0,Hu;Gu=!0;let t=En;En=!1;let a=(async()=>{let{generalData:n,servicesData:l}=po(),i=l[0]?.serviceNumber?.slice(0,9)||"";if(!i||!/^\d{9}$/.test(i)){t&&b("El primer servicio debe tener un N.\xBA de servicio v\xE1lido.","error");return}let r=await $n(i),o=await fn(r);t&&fo(!o?"Guardando nueva dieta\u2026":"Guardando\u2026"),ju(!1);try{if(await new Promise(c=>setTimeout(c,500)),!a0()){t&&gn("Validaci\xF3n fallida");return}let f=await t0(n,l,i);if(!await dn()){pn.error("\u274C Sistema de claus no inicialitzat. NO es pot guardar la dieta."),b("Error de seguretat: Sistema d'encriptaci\xF3 no disponible. Proveu recarregar la p\xE0gina.","error",5e3),t&&gn("Sistema d'encriptaci\xF3 no disponible");return}let E;try{let c=await Xt();E=await so(f,c),pn.debug("\u{1F512} Dieta encriptada abans de guardar")}catch(c){pn.error("\u274C Error CR\xCDTIC encriptant dieta:",c),b("Error cr\xEDtic d'encriptaci\xF3. Les dades NO s'han desat per seguretat.","error",5e3),t&&gn("Error d'encriptaci\xF3");return}o?await co(E):await xu(E),Bi=new Date,Qu(),t&&b("Dieta guardada correctament.","success"),Wn(),mo(),t&&await wi()}catch(f){pn.error("Error en performSave:",f),gn(f.message||"No se pudo guardar"),t&&b(`Error al guardar: ${f.message}`,"error")}finally{ju(!0)}})();Hu=a;try{await a}finally{if(Gu=!1,qu||En){let n=En;return En=!1,qu=!1,Yu(n)}}return Hu}async function ig(){og(),await Yu(!0)}async function Xu(){await Yu(!1)}async function rg(e){if(!e||typeof e!="string")throw new Error("ID inv\xE0lid");let t=e.length===64?await fn(e):await fn(await $n(e));if(!t)throw new Error(`Dieta no trobada: ${e}`);if(oo(t))try{let a=await Xt();t=await uo(t,a),pn.debug("\u{1F513} Dieta desencriptada correctament")}catch(a){throw pn.error("Error desencriptant dieta:",a),b("Error desencriptant dieta. Pot estar corrupta.","error"),a}n0(t),Wn(),t.timeStampDiet&&(Bi=new Date(t.timeStampDiet),Qu()),b("Dieta cargada correctamente.","success"),Fu()}async function Ku(e,t,a){if(e)try{let n=await fn(e);if(!n){b("Error: Dieta no trobada","error");return}let i=(await Ca()).sort((r,o)=>new Date(o.timeStampDiet)-new Date(r.timeStampDiet));n.index=i.findIndex(r=>r.id===e),await tg(e),b("Dieta eliminada","success",5e3,{priority:2,queueable:!1,undoCallback:async()=>{await xu(n),Ju(n),b("Dieta restaurada","success",3e3,{priority:0})},onExpire:()=>{Zu(e)}}),Wn(),Ii()}catch(n){pn.error("Error en deleteDietHandler:",n),b("Error al eliminar la dieta","error")}}var Bi=null;function Qu(){let e=document.getElementById("last-saved");e&&(e.textContent=Bi?jm(Bi):"")}setInterval(()=>{Bi&&Qu()},6e4);var sg={[yi.LUNCH]:"comida",[yi.DINNER]:"cena",DEFAULT:"dieta"},hn={TOP_BAR:xe.TOP_BAR_TAPS,FOOTER:xe.FOOTER_TAPS,TIMEOUT:xe.TIMEOUT,ANIMATION_DURATION:xe.ANIMATION_DURATION};function ug(e){if(!e)return;let t=document.body;if(!t)return;let a=t.dataset?.cspNonce||t.getAttribute("data-csp-nonce")||"";a&&!e.getAttribute("nonce")&&e.setAttribute("nonce",a)}function cg(){try{let e=document.getElementById(Y.DATE_INPUT);if(!e)return;e.valueAsDate=new Date}catch{}}function dg(e){return typeof e!="string"||!e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function tl(e){return e?e.split(" ").map(t=>t.includes(".")?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):""}function ku(){let e=new Date().getHours();return e>=6&&e<18?yi.LUNCH:yi.DINNER}function fg(){let e=document.getElementById(Y.DIET_TYPE_SELECT);e&&(e.value=ku())}function $u(e,t){let a="Data inv\xE0lida";if(e&&/^\d{4}-\d{2}-\d{2}$/.test(e))try{let l=e.split("-"),i=l[0].slice(-2);a=`${l[2]}/${l[1]}/${i}`}catch{}let n=sg[t]||sg.DEFAULT;return{ddmmaa:a,franjaText:n}}var De={topBarTaps:0,footerTaps:0,tapTimeoutId:null};function el(){De.topBarTaps=0,De.footerTaps=0,De.tapTimeoutId&&(clearTimeout(De.tapTimeoutId),De.tapTimeoutId=null)}function l0(){if(document.querySelector(Y.EASTER_EGG_OVERLAY))return;let e=document.createElement("div");e.className=Y.EASTER_EGG_OVERLAY.substring(1);let t=document.createElement("div");t.className=Y.EASTER_EGG_ICON.substring(1),t.innerHTML='<img src="assets/icons/egg.svg" alt="Easter Egg">',e.appendChild(t),document.body.appendChild(e);let a=n=>{n.stopPropagation(),t.classList.add("clicked"),setTimeout(()=>e.remove(),hn.ANIMATION_DURATION)};e.addEventListener("click",a)}function mg(){let e=document.getElementById("top-bar"),t=document.getElementById("footer");!e||!t||(e.addEventListener("touchend",a=>{a.changedTouches.length===1?(De.topBarTaps++,De.tapTimeoutId&&clearTimeout(De.tapTimeoutId),De.tapTimeoutId=setTimeout(el,hn.TIMEOUT),De.topBarTaps>hn.TOP_BAR&&el()):el()}),t.addEventListener("touchend",a=>{De.topBarTaps===hn.TOP_BAR&&a.changedTouches.length===1&&(De.footerTaps++,De.tapTimeoutId&&clearTimeout(De.tapTimeoutId),De.tapTimeoutId=setTimeout(el,hn.TIMEOUT),De.footerTaps===hn.FOOTER?(l0(),el()):De.footerTaps>hn.FOOTER&&el())}))}function xi(e,t){let a,n=function(...l){clearTimeout(a),a=setTimeout(()=>e.apply(this,l),t)};return n.cancel=()=>clearTimeout(a),n}Rt();var Fe={IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount"},pg=2,gg=10,Sn=null,Wu=null,ec=null,yn=null,Eg=!1,P=R.withScope("PWA"),tc=(e,t=0)=>parseInt(localStorage.getItem(e)||String(t),10),ac=e=>localStorage.getItem(e)==="true",vn=(e,t)=>localStorage.setItem(e,String(t));function hg(){let e=window.matchMedia("(display-mode: standalone)").matches,t=window.navigator.standalone===!0;return e||t||ac(Fe.IS_INSTALLED)}function i0(e=!1){if(P.debug("Intentant mostrar el b\xE0ner d'instal\xB7laci\xF3..."),hg()){P.debug("Bloquejat: L'app ja est\xE0 instal\xB7lada.");return}if(ac(Fe.NEVER_SHOW_AGAIN)){P.debug("Bloquejat: L'usuari ha demanat no tornar a mostrar.");return}if(!Sn){P.debug("Bloquejat: No hi ha cap event d'instal\xB7laci\xF3 guardat.");return}if(!yn){P.debug("Bloquejat: L'element HTML del b\xE0ner no s'ha trobat.");return}P.info("Mostrant el b\xE0ner!"),yn.classList.add("visible"),yn.classList.remove("hidden")}function Sg(){P.debug("Amagant el b\xE0ner."),yn?.classList.remove("visible"),yn?.classList.add("hidden")}function r0(){P.info("L'usuari ha descartat el b\xE0ner."),Sg();let e=tc(Fe.PROMPT_DISMISSED_COUNT);e++,vn(Fe.PROMPT_DISMISSED_COUNT,e),P.debug(`Comptador de descartats actualitzat a: ${e}`),e>=pg&&(vn(Fe.NEVER_SHOW_AGAIN,!0),P.info("S'ha assolit el l\xEDmit de descartats. No es tornar\xE0 a mostrar."))}async function o0(){if(P.info("L'usuari ha fet clic a 'Instal\xB7lar'."),!Sn){P.warn("El bot\xF3 d'instal\xB7lar s'ha premut, per\xF2 no hi havia cap event guardat.");return}Sg();try{Sn.prompt();let{outcome:e}=await Sn.userChoice;P.info(`Resultat de la decisi\xF3 de l'usuari: ${e}`),e==="accepted"?(vn(Fe.IS_INSTALLED,!0),vn(Fe.NEVER_SHOW_AGAIN,!0),P.info("L'usuari ha acceptat la instal\xB7laci\xF3! :)")):P.info("L'usuari ha rebutjat la instal\xB7laci\xF3 des del di\xE0leg del navegador.")}catch(e){P.error("Error durant el proc\xE9s de prompt d'instal\xB7laci\xF3:",e)}finally{Sn=null}}function s0(e){e.preventDefault(),Sn=e,P.debug("Event 'beforeinstallprompt' capturat i guardat.")}function yg(){Eg||(P.debug("Inicialitzant el gestor d'instal\xB7laci\xF3..."),yn=document.getElementById("install-prompt"),Wu=document.getElementById("install-button"),ec=document.getElementById("dismiss-button"),yn&&Wu&&ec?(Wu.addEventListener("click",o0),ec.addEventListener("click",r0),P.debug("Botons del b\xE0ner d'instal\xB7laci\xF3 configurats.")):P.warn("No s'han trobat tots els elements del b\xE0ner d'instal\xB7laci\xF3."),window.addEventListener("beforeinstallprompt",s0),window.matchMedia("(display-mode: standalone)").addEventListener("change",e=>{e.matches&&(P.info("Detectat canvi a mode 'standalone'. Marcat com instal\xB7lat."),vn(Fe.IS_INSTALLED,!0),vn(Fe.NEVER_SHOW_AGAIN,!0))}),Eg=!0,P.debug("Gestor d'instal\xB7laci\xF3 inicialitzat correctament."))}function vg(){if(P.debug("------------------------------------------"),P.debug("Comprovant si s'ha de mostrar el b\xE0ner despr\xE9s d'una acci\xF3..."),hg()){P.debug("[Check] No es mostra: L'app ja est\xE0 instal\xB7lada.");return}if(ac(Fe.NEVER_SHOW_AGAIN)){P.debug("[Check] No es mostra: L'usuari ha demanat no tornar a veure'l.");return}if(!Sn){P.debug("[Check] No es mostra: El navegador no ha ofert la possibilitat d'instal\xB7lar (deferredPrompt \xE9s nul).");return}let e=tc(Fe.ACTION_TRIGGER_COUNT);e++,vn(Fe.ACTION_TRIGGER_COUNT,e),P.debug(`Comptador d'accions incrementat a: ${e}`);let t=tc(Fe.PROMPT_DISMISSED_COUNT);P.debug(`Vegades que s'ha descartat el b\xE0ner: ${t}`);let a=e===1&&t===0||e>=gg&&t<pg;P.debug(`Es compleixen les condicions per mostrar? ${a}`),a?(setTimeout(()=>i0(),1500),e>=gg):P.debug("No es mostra el b\xE0ner aquesta vegada."),P.debug("------------------------------------------")}var al={OUTER_MARGIN:55,INNER_PADDING:10},ut={TEMPLATE_URLS:{DEFAULT:"./dieta.pdf"},SERVICE_Y_OFFSET:82,SIGNATURE_WIDTH:100,SIGNATURE_HEIGHT:50,WATERMARK_TEXT:"misdietas.com",DEFAULT_FILENAME:"dieta.pdf",SERVICE_NUMBER_COLOR:"#004aad",MODE_PREFIX_TEXT_COLOR:"#8B0000",MAX_SIGNATURE_NAME_LENGTH:31,MAX_ORIGIN_LENGTH:30,MAX_DESTINATION_LENGTH:30},B={general:{date:{x:155,y:732,size:16,color:"#000000"},vehicleNumber:{x:441,y:732,size:16,color:"#000000"},person1:{x:65,y:368,size:16,color:"#000000"},person2:{x:310,y:368,size:16,color:"#000000"}},service:{serviceNumber:{x:130,y:715,size:16,color:"#000000"},origin:{x:229,y:698,size:14,color:"#000000"},originTime:{x:441,y:698,size:16,color:"#000000"},destination:{x:229,y:683,size:14,color:"#000000"},destinationTime:{x:441,y:681,size:16,color:"#000000"},endTimeNormal:{x:441,y:665,size:16,color:"#000000"},endTimeModeText:{x:390,y:665,size:16,color:ut.MODE_PREFIX_TEXT_COLOR},endTimeValueWhenPrefixed:{x:441,y:665,size:16,color:"#000000"}},signature:{conductor:{x:125,y:295,width:100,height:50},ayudante:{x:380,y:295,width:100,height:50}},notesSection:{title:{x:65,y:250,size:16,color:"#000000"},lineHeight:18,maxWidth:465,start:{x:65,y:230,size:16,color:"#333333"}},fixedText:{website:{x:250,y:20,size:6,color:"#EEEEEE"}}},u0=R.withScope("PdfTemplate");function c0(e){return!e||typeof e!="string"||e.trim()===""?"":e.split(/\s+/).filter(Boolean).map(t=>t.includes("-")?t.split("-").map(a=>a?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():"").join("-"):t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function d0(e){if(!e||typeof e!="string")return{r:0,g:0,b:0};let t=e.replace("#","");if(t.length!==6)return{r:0,g:0,b:0};let a=parseInt(t,16);return Number.isNaN(a)?{r:0,g:0,b:0}:{r:a>>16&255,g:a>>8&255,b:a&255}}function Tg(e,t){return!e||e.length<=t?e:e.substring(0,t-3)+"..."}function ho(e){if(!e||!/^\d{4}-\d{2}-\d{2}$/.test(e))return"";let[t,a,n]=e.split("-");return`${n}/${a}/${t}`}function f0(){return ut.TEMPLATE_URLS.DEFAULT}async function nc(e,t){if(!e||!Array.isArray(t))throw new Error("Dades inv\xE0lides.");if(!window.PDFLib)throw new Error("PDFLib no carregada.");let{PDFDocument:a,StandardFonts:n,rgb:l}=window.PDFLib,i=f0(),r=await fetch(i).then(v=>v.arrayBuffer()),o=await a.load(r),s=await o.embedFont(n.Helvetica),u=o.getPages()[0],f=v=>{let{r:D,g:C,b:N}=d0(v);return l(D/255,C/255,N/255)};Object.entries(B.general).forEach(([v,D])=>{let C=e[v]||"";v==="date"&&(C=ho(C)),v==="vehicleNumber"&&(C=C.toUpperCase()),(v==="person1"||v==="person2")&&(C=c0(C),C.length>ut.MAX_SIGNATURE_NAME_LENGTH&&(C=C.slice(0,ut.MAX_SIGNATURE_NAME_LENGTH-3)+"...")),u.drawText(C,{...D,font:s,color:f(D.color)})}),t.forEach((v,D)=>{let C=D*ut.SERVICE_Y_OFFSET,N=v.mode||"3.6";u.drawText(v.serviceNumber||"",{...B.service.serviceNumber,y:B.service.serviceNumber.y-C,font:s,color:f(ut.SERVICE_NUMBER_COLOR)});let He=Tg(v.origin||"",ut.MAX_ORIGIN_LENGTH),hi=He.length>23?13:B.service.origin.size;if(u.drawText(He,{...B.service.origin,y:B.service.origin.y-C,size:hi,font:s,color:f(B.service.origin.color)}),u.drawText(v.originTime||"",{...B.service.originTime,y:B.service.originTime.y-C,font:s,color:f(B.service.originTime.color)}),N==="3.6"){let Zr=Tg(v.destination||"",ut.MAX_DESTINATION_LENGTH),Jr=Zr.length>23?13:B.service.destination.size;u.drawText(Zr,{...B.service.destination,y:B.service.destination.y-C,size:Jr,font:s,color:f(B.service.destination.color)}),u.drawText(v.destinationTime||"",{...B.service.destinationTime,y:B.service.destinationTime.y-C,font:s,color:f(B.service.destinationTime.color)})}let Si=(v.endTime||"").trim();N!=="3.6"&&Si?(u.drawText(N,{...B.service.endTimeModeText,y:B.service.endTimeModeText.y-C,font:s,color:f(B.service.endTimeModeText.color)}),u.drawText(Si,{...B.service.endTimeValueWhenPrefixed,y:B.service.endTimeValueWhenPrefixed.y-C,font:s,color:f(B.service.endTimeValueWhenPrefixed.color)})):u.drawText(Si,{...B.service.endTimeNormal,y:B.service.endTimeNormal.y-C,font:s,color:f(B.service.endTimeNormal.color)})});let E=async(v,D)=>{if(typeof v=="string"&&v.startsWith("data:image/png;base64,")&&v.length>22)try{let N=await o.embedPng(v);u.drawImage(N,{...D})}catch(N){u0.warn("No s'ha pogut incrustar una signatura.",N)}};await Promise.all([E(e.signatureConductor,B.signature.conductor),E(e.signatureAjudant,B.signature.ayudante)]);let c=u.getWidth(),g=al.OUTER_MARGIN+al.INNER_PADDING,y=c-(al.OUTER_MARGIN+al.INNER_PADDING),T=t.map(v=>({num:v.serviceNumber||"",text:(v.notes||"").trim()})).filter(v=>v.num&&v.text);if(T.length){u.drawLine({start:{x:al.OUTER_MARGIN,y:275},end:{x:c-al.OUTER_MARGIN,y:275},thickness:.5,color:l(.8,.8,.8)});let D=T.length===1?"Observaci\xF3":"Observacions";u.drawText(D,{...B.notesSection.title,font:s,color:f(B.notesSection.title.color)});let C=B.notesSection.start.y,N=B.notesSection.start.size,He=B.notesSection.lineHeight,hi=f(B.notesSection.start.color);T.forEach(({num:Si,text:Zr})=>{if(C<40)return;let Jr=`Servei ${Si}: `;u.drawText(Jr,{x:g,y:C,font:s,size:N,color:f(ut.SERVICE_NUMBER_COLOR)});let $v=s.widthOfTextAtSize(Jr,N),kr=g+$v;Zr.split(" ").forEach(pu=>{if(!pu)return;let bm=s.widthOfTextAtSize(`${pu} `,N);kr+bm>y&&(C-=He,kr=g),u.drawText(`${pu} `,{x:kr,y:C,font:s,size:N,color:hi}),kr+=bm}),C-=He*1.5})}let _=ut.WATERMARK_TEXT,m=B.fixedText.website.size,d=s.widthOfTextAtSize(_,m);u.drawText(_,{x:(u.getWidth()-d)/2,y:B.fixedText.website.y,size:m,font:s,color:f(B.fixedText.website.color)});let p=ho(e.date)||"Dieta",A=`Dieta ${e.dietType==="lunch"?"Comida":e.dietType==="dinner"?"Cena":""} ${p}`.trim().replace(/ +/g," ");o.setTitle(A),o.setAuthor("misdietas.com"),o.setSubject("Justificante de dieta de transporte sanitario"),o.setCreator("MisDietas"),o.setKeywords(["dieta","justificante","transporte sanitario","tsu","tsnu"]);let I=new Date(e.date);return Number.isNaN(I.getTime())||(o.setCreationDate(I),o.setModificationDate(I)),await o.save({permissions:{modifying:!1,copying:!1}})}var nl=new Map;function ll({src:e,integrity:t,crossOrigin:a="anonymous",referrerPolicy:n="no-referrer",timeoutMs:l=15e3}={}){if(!e||typeof e!="string")return Promise.reject(new Error("loadExternalScript: src inv\xE0lid."));if(nl.has(e))return nl.get(e);let i=document.querySelector(`script[src="${e}"]`);if(i?.dataset?.secureLoaded==="true"){let s=Promise.resolve();return nl.set(e,s),s}let r=i??document.createElement("script");ug(r),r.src=e,r.async=!0,r.crossOrigin=a,r.referrerPolicy=n,t&&(r.integrity=t);let o=new Promise((s,u)=>{let f=null,E=()=>{r.removeEventListener("load",c),r.removeEventListener("error",g),f&&(clearTimeout(f),f=null)},c=()=>{E(),r.dataset.secureLoaded="true",s()},g=()=>{E(),!i&&r.parentNode&&r.parentNode.removeChild(r),nl.delete(e),u(new Error(`Error carregant script: ${e}`))};r.addEventListener("load",c),r.addEventListener("error",g),f=window.setTimeout(()=>{E(),nl.delete(e),!i&&r.parentNode&&r.parentNode.removeChild(r),u(new Error(`Timeout carregant script: ${e}`))},l)});return nl.set(e,o),i||document.head.appendChild(r),o}var lc=class{constructor(t=10,a=6e4,n="acci\xF3"){this.maxRequests=t,this.windowMs=a,this.actionName=n,this.requests=[]}canMakeRequest(){let t=Date.now();if(this.requests=this.requests.filter(a=>t-a<this.windowMs),this.requests.length>=this.maxRequests){let a=Math.min(...this.requests),n=Math.ceil((a+this.windowMs-t)/1e3);return console.warn(`[RateLimiter] L\xEDmit assolit per "${this.actionName}". Espera ${n}s abans de tornar-ho a intentar.`),!1}return this.requests.push(t),!0}getRemainingRequests(){let t=Date.now();return this.requests=this.requests.filter(a=>t-a<this.windowMs),Math.max(0,this.maxRequests-this.requests.length)}reset(){this.requests=[],console.log(`[RateLimiter] Resetejat el l\xEDmit per "${this.actionName}"`)}getStatus(){let t=Date.now();return this.requests=this.requests.filter(a=>t-a<this.windowMs),{actionName:this.actionName,requestsMade:this.requests.length,maxRequests:this.maxRequests,remaining:this.maxRequests-this.requests.length,windowSeconds:this.windowMs/1e3}}},So=lc;var Ag=!1,yo=null,Cg=R.withScope("PdfService"),m0="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js",g0="sha384-weMABwrltA6jWR8DDe9Jp5blk+tZQh7ugpCsF3JwSA53WZM9/14PjS5LAJNHNjAI",vo=new So(20,6e4,"generaci\xF3 de PDF");async function bg(){Ag&&window.PDFLib||(yo||(yo=ll({src:m0,integrity:g0}).then(()=>{if(!window.PDFLib)throw new Error("PDF-Lib no disponible despr\xE9s de carregar script.");Ag=!0}).catch(e=>{throw yo=null,e})),await yo)}var To={DADES_TAB:"tab-dades",SERVEIS_TAB:"tab-serveis"},_a={ERROR_TAB:"error-tab"};function E0(e,t){let a=document.getElementById(To.DADES_TAB),n=document.getElementById(To.SERVEIS_TAB);a?.classList.remove(_a.ERROR_TAB),n?.classList.remove(_a.ERROR_TAB);let l="";!e&&!t?(l="Completa els camps obligatoris a Dades i Serveis.",a?.classList.add(_a.ERROR_TAB),n?.classList.add(_a.ERROR_TAB)):e?(l="Completa els camps obligatoris a Serveis.",n?.classList.add(_a.ERROR_TAB)):(l="Completa els camps obligatoris a Dades.",a?.classList.add(_a.ERROR_TAB)),l&&b(l,"error")}function _g(e,t){let a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>URL.revokeObjectURL(a),500)}function Dg(e,t){let a=ho(e).replace(/\//g,"_")||"";return a?`${t==="lunch"?"dieta_comida":t==="dinner"?"dieta_cena":"dieta"}_${a}.pdf`:ut.DEFAULT_FILENAME}async function Og(){if(!vo.canMakeRequest()){let a=vo.getRemainingRequests();b(`Has superat el l\xEDmit de generaci\xF3 de PDFs. Espera uns segons. (${a} disponibles)`,"warning");return}let e=$r(),t=Wr();if(!e||!t){E0(e,t);return}document.getElementById(To.DADES_TAB)?.classList.remove(_a.ERROR_TAB),document.getElementById(To.SERVEIS_TAB)?.classList.remove(_a.ERROR_TAB);try{let{generalData:a,servicesData:n}=po();if(!a||!n)throw new Error("Dades no recollides.");await bg();let l=await nc(a,n),i=Dg(a.date,a.dietType);_g(new Blob([l],{type:"application/pdf"}),i),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from main form"}),b("Desc\xE0rrega iniciada correctament.","success"),vg()}catch(a){Cg.error("Error generant PDF des del formulari principal:",a),b(`Error en la generaci\xF3 del PDF: ${a.message||"Desconegut"}`,"error")}}async function Ng(e){if(!e){b("ID de dieta inv\xE1lido.","error");return}if(!vo.canMakeRequest()){let t=vo.getRemainingRequests();b(`Has superat el l\xEDmit de generaci\xF3 de PDFs. Espera uns segons. (${t} disponibles)`,"warning");return}try{let t=e.length===64?e:await $n(e),a=await fn(t);if(!a)throw new Error("Dieta no encontrada.");let n={date:a.date||"",dietType:a.dietType||"",vehicleNumber:a.vehicleNumber||"",person1:a.person1||"",person2:a.person2||"",serviceType:a.serviceType||"TSU",signatureConductor:a.signatureConductor||"",signatureAjudant:a.signatureAjudant||""},l=a.services.map(o=>({serviceNumber:o.serviceNumber||"",origin:o.origin||"",originTime:o.originTime||"",destination:o.destination||"",destinationTime:o.destinationTime||"",endTime:o.endTime||"",mode:o.mode||"3.6",notes:o.notes||""}));await bg();let i=await nc(n,l),r=Dg(n.date,n.dietType);_g(new Blob([i],{type:"application/pdf"}),r),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from saved list"}),b("Descarga iniciada correctamente.","success")}catch(t){Cg.error("Error en downloadDietPDF:",t),b(`Error en la generaci\xF3n del PDF: ${t.message||"Desconocido"}`,"error")}}var F={MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_DELETE_BTN:"diet-delete",DIET_LOAD_BTN:"diet-load",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal"},At={DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",SIGNATURE_MODAL:"signature-modal",DOTACIO_MODAL:"dotacio-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal"},Ao={MODAL:".modal",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Ft={DIET_ID:"data-diet-id",DIET_DATE:"data-diet-date",DIET_TYPE:"data-diet-type"},p0=R.withScope("Modals:Manager"),It=[],ic=null,il=null,rl=null,Mg=new Map;function ol(){return It.length>0?It[It.length-1]:null}function h0(){il||(il=e=>{let t=ol();if(t&&e.target===t){let a=Mg.get(t.id);a?a({reason:"backdrop"}):Da(t)}},document.addEventListener("click",il,!0)),rl||(rl=e=>{if(e.key!=="Escape")return;let t=ol();if(!t)return;let a=Mg.get(t.id);a?a({reason:"escape"}):Da(t)},document.addEventListener("keydown",rl,!0))}function S0(){il&&(document.removeEventListener("click",il,!0),il=null),rl&&(document.removeEventListener("keydown",rl,!0),rl=null)}function y0(e){e.dataset.backdropTouchHandled||(e.addEventListener("touchstart",t=>{t.target===e&&(t.preventDefault(),t.stopPropagation())},{passive:!1}),e.dataset.backdropTouchHandled="true")}function Lg(e){e.style.display="block",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",e.style.setProperty("pointer-events","auto")}function Rg(e){e.querySelector(Ao.FOCUSABLE_ELEMENTS)?.focus()}function Co(e){if(!e)return;let t=ol();if(t&&t!==e&&e.id!==At.CONFIRM_MODAL){p0.debug("S'ha ignorat l'obertura perqu\xE8 ja hi ha un modal actiu.");return}let a=It.includes(e);a||It.push(e),It.length===1&&!a&&(ic=document.activeElement,document.body.classList.add(F.MODAL_OPEN_BODY),Bg(),sl(!1),document.body.style.setProperty("pointer-events","none")),h0(),y0(e),Lg(e),Rg(e)}function Da(e=ol()){if(!e)return;let t=It.lastIndexOf(e);if(t===-1){e.style.display="none",e.style.removeProperty("pointer-events");return}if(It.splice(t,1),e.style.display="none",e.style.removeProperty("pointer-events"),It.length===0){document.body.classList.remove(F.MODAL_OPEN_BODY),sl(!0),wg(),document.body.style.removeProperty("pointer-events"),ic?.focus(),ic=null,S0();return}let a=ol();a&&(Lg(a),Rg(a))}function Ig(){document.querySelectorAll(Ao.MODAL_TRIGGER).forEach(t=>{if(t.dataset.modalPrepared==="true")return;let a=t.getAttribute("href")?.substring(1);if(!a)return;let n=document.getElementById(a);n&&n.matches(Ao.MODAL)&&(t.addEventListener("click",i=>{i.preventDefault(),Co(n)}),n.querySelectorAll(Ao.MODAL_CLOSE_BTN).forEach(i=>{i.dataset.modalPrepared!=="true"&&(i.addEventListener("click",()=>Da(n)),i.dataset.modalPrepared="true")})),t.dataset.modalPrepared="true"})}function rc(){return It.length>0}function oc(){return ol()}var bo=R.withScope("Modals:Diet"),bt=null,ne=null,Ct=null,xg=!1;function Ui(){if(xg)return!0;if(bt=document.getElementById(At.DIET_MODAL),ne=document.getElementById(At.DIET_OPTIONS_LIST),Ct=document.getElementById(At.NO_DIETS_TEXT),!bt||!ne||!Ct)return bo.warn("No s'han trobat els elements del modal de dietes."),!1;let e=document.getElementById("close-diet-modal");return e&&!e.dataset.modalPrepared&&(e.addEventListener("click",()=>Da(bt)),e.dataset.modalPrepared="true"),ne.dataset.modalPrepared||(ne.addEventListener("click",T0),ne.dataset.modalPrepared="true"),xg=!0,!0}function v0(e){if(!e)return"";let t=new Date(e);if(Number.isNaN(t.getTime()))return"";let a=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0");return`${a}:${n}`}function Ug(e){let t=e.id||"?????????",{ddmmaa:a,franjaText:n}=$u(e.date,e.dietType),l=v0(e.timeStampDiet),i=document.createElement("div");i.className=F.DIET_ITEM;let r=document.createElement("div");r.className="diet-item-content";let o=document.createElement("span");o.className=F.DIET_DATE;let s=a;l&&(s+=` [${l}]`),s+=` - ${dg(n)}`,o.textContent=s;let u=document.createElement("div");u.className=F.DIET_ICONS;let f=document.createElement("div");f.className=F.DIET_DELETE_REVEAL,f.innerHTML='<img src="assets/icons/delete.svg" alt="Eliminar" class="icon">';let E=document.createElement("button");E.className=`${F.LIST_ITEM_BTN} ${F.LIST_ITEM_BTN_LOAD} ${F.DIET_LOAD_BTN}`,E.setAttribute("aria-label",`Editar dieta ${a}`),E.innerHTML='<img src="assets/icons/ic_edit.svg" alt="" class="icon"><span class="btn-text visually-hidden">Editar</span>',E.setAttribute(Ft.DIET_ID,t),E.setAttribute(Ft.DIET_DATE,e.date),E.setAttribute(Ft.DIET_TYPE,e.dietType);let c=document.createElement("button");return c.className=`${F.LIST_ITEM_BTN} diet-download`,c.setAttribute("aria-label",`Descarregar PDF de la dieta ${a}`),c.innerHTML='<img src="assets/icons/download_blue.svg" alt="" class="icon"><span class="btn-text visually-hidden">PDF</span>',c.setAttribute(Ft.DIET_ID,t),u.appendChild(E),u.appendChild(c),r.appendChild(o),r.appendChild(u),i.appendChild(r),i.appendChild(f),i}function T0(e){let t=e.target,a=t.closest(`.${F.DIET_LOAD_BTN}`),n=t.closest(".diet-download");if(a){e.stopPropagation();let l=a.getAttribute(Ft.DIET_ID),i=a.getAttribute(Ft.DIET_DATE),r=a.getAttribute(Ft.DIET_TYPE);if(!l||!i||!r)return;let{ddmmaa:o,franjaText:s}=$u(i,r);rg(l).then(()=>{bo.debug(`Dieta ${o} carregada (${s}).`),Da(bt)}).catch(u=>{bo.error("Error en carregar la dieta:",u)})}else if(n){e.stopPropagation();let l=n.getAttribute(Ft.DIET_ID);l&&Ng(l)}}function _o(){if(!ne||!Ct)return;let e=ne.children.length>0;ne.classList.toggle(F.HIDDEN,!e),Ct.classList.toggle(F.HIDDEN,e),e||(Ct.textContent="No hay dietas guardadas.")}function A0(e,t,a,n){let l=0,i=0,r=!1;e.addEventListener("mousedown",o=>{o.target.closest("button")||o.target.closest(".diet-icons")||(l=o.clientX,i=l,r=!1)}),document.addEventListener("mousemove",o=>{i=o.clientX;let s=l-i;s>10&&!r&&(r=!0,e.classList.add(F.DIET_ITEM_SWIPING)),r&&s>10&&(e.style.transform=`translateX(-${Math.min(s,80)}px)`,o.preventDefault())}),document.addEventListener("mouseup",async()=>{if(!r)return;r=!1;let o=l-i;e.classList.remove(F.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",o>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),_o(),await Ku(t,a,n)},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function zg(e,t,a,n){let l=0,i=0,r=!1;e.addEventListener("touchstart",o=>{o.target.closest("button")||o.target.closest(".diet-icons")||(l=o.touches[0].clientX,i=l,r=!1,o.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",o=>{i=o.touches[0].clientX;let s=l-i;s>10&&!r&&(r=!0,e.classList.add(F.DIET_ITEM_SWIPING),bt&&(bt.style.overflow="hidden")),r&&s>10&&(e.style.transform=`translateX(-${Math.min(s,80)}px)`,o.preventDefault(),o.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async o=>{if(!r)return;r=!1;let s=l-i;e.classList.remove(F.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",s>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),_o(),await Ku(t,a,n)},300)):(e.style.transform="translateX(0)",e.style.opacity="1",bt&&(bt.style.overflow="")),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),o.stopPropagation()}),A0(e,t,a,n)}function Pg(){Ui()}function Do(){Ui()&&(Co(bt),wi())}function Fu(){oc()===bt&&Da(bt)}async function wi(){if(Ui()){ne.innerHTML="";try{let e=await Ca();if(e.length===0){ne.classList.add(F.HIDDEN),Ct.classList.remove(F.HIDDEN),Ct.textContent="No hay dietas guardadas.";return}ne.classList.remove(F.HIDDEN),Ct.classList.add(F.HIDDEN),e.slice().sort((t,a)=>new Date(a.timeStampDiet)-new Date(t.timeStampDiet)).forEach((t,a)=>{let n=Ug(t);n.setAttribute("data-index",String(a)),ne.appendChild(n),zg(n,t.id,t.date,t.dietType)})}catch(e){bo.error("Error al carregar les dietes:",e),ne.classList.add(F.HIDDEN),Ct.classList.remove(F.HIDDEN),Ct.textContent="Error al cargar las dietas."}}}function Zu(e){if(!Ui())return;let t=ne.querySelector(`[data-diet-id="${e}"]`)?.closest(".diet-item");if(!t)return;let a=`${ne.scrollHeight}px`;ne.style.height=a,t.remove(),requestAnimationFrame(()=>{ne.style.height=`${ne.scrollHeight}px`}),_o()}function Ju(e){if(!Ui()){wi();return}let t=e.index||0,a=Ug(e);a.style.opacity="0",a.style.transform="translateX(-100%)";let n=ne.children[t];n?ne.insertBefore(a,n):ne.appendChild(a),requestAnimationFrame(()=>{a.style.transition="opacity 0.5s ease, transform 0.5s ease",a.style.opacity="1",a.style.transform="translateX(0)",zg(a,e.id,e.date,e.dietType)}),_o(),ne.classList.remove(F.HIDDEN),Ct.classList.add(F.HIDDEN)}Rt();var Be=R.withScope("DotacionsRepository"),C0="DietasDB",b0=2,zi="dotacions",Zt=null;async function _0(){return new Promise((e,t)=>{let a=indexedDB.open(C0,b0);a.onupgradeneeded=n=>{let l=n.target.result,i=n.oldVersion,r=n.newVersion;Be.debug(`Actualitzant DB de v${i} a v${r}`),l.objectStoreNames.contains("dietas")||(l.createObjectStore("dietas",{keyPath:"id"}).createIndex("dateIndex","date",{unique:!1}),Be.debug("Object store 'dietas' creat")),l.objectStoreNames.contains(zi)||(l.createObjectStore(zi,{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1}),Be.debug("Object store 'dotacions' creat"))},a.onsuccess=n=>{Zt=n.target.result,Zt.onclose=()=>Zt=null,Zt.onerror=()=>Zt=null,Zt.onversionchange=()=>Zt.close(),e(Zt)},a.onerror=n=>{Be.error("Error obrint base de dades:",n.target.error),t(n.target.error)},a.onblocked=()=>{let n=new Error("IndexedDB bloquejat per una altra pestanya");Be.error(n.message),t(n)}})}async function Vg(e="readonly"){return(Zt??await _0()).transaction(zi,e)}function Hg(e,t){return new Promise((a,n)=>{e.onsuccess=l=>a(l.target.result),e.onerror=l=>{Be.error(`${t}:`,l.target.error),n(new Error(`${t}: ${l.target.error}`))}})}function D0(e){return new Promise((t,a)=>{e.oncomplete=()=>t(),e.onerror=()=>a(e.error),e.onabort=()=>a(e.error)})}async function sc(e){try{let t=await Vg("readwrite"),a=t.objectStore(zi),n={id:"current",data:e,timestamp:Date.now(),version:e.version||1};await Hg(a.put(n),"No s'han pogut guardar les dotacions"),await D0(t),Be.debug("\u2705 Dotacions guardades a IndexedDB")}catch(t){throw Be.error("Error guardant dotacions:",t),t}}async function Gg(){try{let t=(await Vg("readonly")).objectStore(zi),a=await Hg(t.get("current"),"Error carregant dotacions");return a?(Be.debug("\u2705 Dotacions carregades des d'IndexedDB"),a.data):(Be.debug("No hi ha dotacions guardades"),null)}catch(e){return Be.error("Error carregant dotacions:",e),null}}async function qg(){let e="dotacions_v2",t="dotacions_encrypted",a="dotacions_migrated_to_indexeddb";try{if(localStorage.getItem(a)==="true")return Be.debug("Dotacions ja migrades anteriorment"),!1;let n=localStorage.getItem(e);if(!n)return Be.debug("No hi ha dotacions a localStorage per migrar"),localStorage.setItem(a,"true"),!1;Be.debug("\u{1F504} Iniciant migraci\xF3 de dotacions a IndexedDB...");let l=JSON.parse(n),i=localStorage.getItem(t)==="true";return await sc(l),localStorage.setItem(a,"true"),Be.debug(`\u2705 Dotacions migrades a IndexedDB (${i?"encriptades":"text pla"})`),!0}catch(n){return Be.error("\u274C Error migrant dotacions:",n),!1}}var Oe=R.withScope("DotacionService");var me={MODAL:"dotacio-modal",OPTIONS_CONTAINER:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2"},_t={MODAL_OPEN:"modal-open",INPUT_ERROR:"input-error",HIDDEN:"hidden"},ul={PERSON_INPUT_GROUP:".input-with-icon",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete"},jg={INDEX:"data-index"},O0=180,uc=class{constructor(){this.savedDotacions=[],this.dotacioModalElement=null,this.optionsContainerElement=null,this.dotacioTemplateElement=null,this.noDotacioTextElement=null,this.isInitialized=!1}async init(){if(this.isInitialized)return;this.dotacioModalElement=document.getElementById(me.MODAL),this.optionsContainerElement=document.getElementById(me.OPTIONS_CONTAINER),this.dotacioTemplateElement=document.getElementById(me.TEMPLATE),this.noDotacioTextElement=document.getElementById(me.NO_DOTACIO_TEXT);let t=document.getElementById(me.ADD_BTN),a=document.getElementById(me.OPEN_MODAL_BTN),n=document.getElementById(me.CLOSE_MODAL_BTN);if(!this.dotacioModalElement||!this.optionsContainerElement||!this.dotacioTemplateElement||!t||!a||!n)return;await this.loadDotacionsFromStorage(),t.addEventListener("click",this.addDotacioFromMainForm.bind(this)),a.addEventListener("click",this.openDotacioModal.bind(this)),n.addEventListener("click",this.closeDotacioModal.bind(this)),this.dotacioModalElement.addEventListener("click",i=>{i.target===this.dotacioModalElement&&this.closeDotacioModal()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&this.dotacioModalElement.style.display==="block"&&this.closeDotacioModal()}),this.optionsContainerElement.addEventListener("click",this.handleOptionsClick.bind(this)),[me.VEHICLE_INPUT,me.PERSON1_INPUT,me.PERSON2_INPUT].forEach(i=>{let r=document.getElementById(i);r?.addEventListener("input",()=>{let o=r.closest(ul.PERSON_INPUT_GROUP);o?o.classList.remove(_t.INPUT_ERROR):r.classList.remove(_t.INPUT_ERROR)})}),this.isInitialized=!0}async loadDotacionsFromStorage(){try{await qg();let t=await Gg();if(!t){this.savedDotacions=[];return}if(t.version&&t.algorithm){if(!await dn()){Oe.error("\u274C Sistema de claus NO inicialitzat. No es poden carregar dotacions encriptades."),b("Error de seguretat: No es poden carregar les dotacions. Proveu recarregar la p\xE0gina.","error",5e3),this.savedDotacions=[];return}try{let n=await Xt(),l=await M0(t,n);this.savedDotacions=l,Oe.debug("\u{1F513} Dotacions desencriptades correctament")}catch(n){Oe.error("\u274C Error CR\xCDTIC desencriptant dotacions:",n),b("Error desencriptant dotacions. Les dades estan protegides i no es poden llegir. Contacteu suport si el problema persisteix.","error",7e3),this.savedDotacions=[]}}else if(Oe.warn("\u26A0\uFE0F Dotacions en text pla detectades (format antic insegur)"),this.savedDotacions=Array.isArray(t)?t:[],this.savedDotacions.length>0){b(`\u26A0\uFE0F S'han detectat ${this.savedDotacions.length} dotaci\xF3(ns) sense encriptar. S'encriptaran autom\xE0ticament.`,"warning",5e3),Oe.debug("\u{1F4E6} Migrant dotacions a format encriptat...");try{await this.saveDotacionsToStorage(),b("\u2705 Dotacions migrades i encriptades a IndexedDB!","success",5e3),Oe.info("\u2705 Migraci\xF3 completada amb \xE8xit")}catch(n){Oe.error("\u274C Error migrant dotacions:",n),b("\u26A0\uFE0F No s'han pogut encriptar les dotacions. Deseu-les de nou per encriptar-les.","error",7e3)}}Array.isArray(this.savedDotacions)||(this.savedDotacions=[])}catch(t){Oe.error("Error carregant dotacions:",t),this.savedDotacions=[]}}async saveDotacionsToStorage(){try{if(!await dn())throw Oe.error("\u274C Sistema de claus NO inicialitzat. NO es poden guardar dotacions."),b("Error de seguretat: Sistema d'encriptaci\xF3 no disponible. Proveu recarregar la p\xE0gina.","error",5e3),new Error("Sistema de claus no inicialitzat - guardat bloquejat per seguretat");let t=await Xt(),a=await N0(this.savedDotacions,t);await sc(a),Oe.debug("\u{1F512} Dotacions guardades encriptades a IndexedDB")}catch(t){throw Oe.error("\u274C Error CR\xCDTIC guardant dotacions:",t),b("Error cr\xEDtic: Les dotacions NO s'han desat per seguretat.","error",5e3),t}}openDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="block",this.dotacioModalElement.style.pointerEvents="auto",document.body.classList.add(_t.MODAL_OPEN),document.body.style.setProperty("pointer-events","none"),this.displayDotacioOptions())}closeDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="none",this.dotacioModalElement.style.pointerEvents="",document.body.classList.remove(_t.MODAL_OPEN),document.body.style.removeProperty("pointer-events"),document.getElementById(me.OPEN_MODAL_BTN)?.focus())}displayDotacioOptions(){!this.optionsContainerElement||!this.dotacioTemplateElement||(this.optionsContainerElement.innerHTML="",this.savedDotacions.length===0?(this.noDotacioTextElement?.classList.remove(_t.HIDDEN),this.optionsContainerElement.classList.add(_t.HIDDEN)):(this.noDotacioTextElement?.classList.add(_t.HIDDEN),this.optionsContainerElement.classList.remove(_t.HIDDEN),this.savedDotacions.forEach((t,a)=>{let n=this.dotacioTemplateElement.content.cloneNode(!0),l=n.querySelector(ul.DOTACIO_INFO),i=n.querySelector(ul.LOAD_BTN),r=n.firstElementChild,o=`${t.numero}-${t.conductor}-${t.ajudant}`.replace(/\s/g,"");r.setAttribute("data-dotacio-id",o),l&&(l.textContent=this.formatDotacioListText(t)),i&&i.setAttribute(jg.INDEX,a),this.optionsContainerElement.appendChild(n),No(r,o),Oo(r,o)})))}formatDotacioListText(t){let a=t.numero||"S/N",n=tl(t.conductor||""),l=tl(t.ajudant||""),i=`${n} / ${l}`;n||l?i=` - ${i}`:i="";let r=`${a}${i}`;if(this.measureTextWidth(r)>O0){let s=t.conductor?this.shortenPersonName(t.conductor):"",u=t.ajudant?this.shortenPersonName(t.ajudant):"",f=`${s} / ${u}`;s||u?f=` - ${f}`:f="",r=`${a}${f}`}return r}shortenPersonName(t){if(!t||typeof t!="string")return"";let a=t.trim().split(/\s+/).filter(o=>o.length>0);if(a.length===0)return"";if(a.length===1)return tl(a[0]);let n=new Set(["de","la","del","el","los","las","von","van","d'","es","da","dels","i","y"]),l=a.filter(o=>!n.has(o.toLowerCase()));if(l.length===0)return tl(a[0]);let i=tl(l[0]),r=l.slice(1).map(o=>o.charAt(0).toUpperCase()+".").join(" ");return`${i} ${r}`}measureTextWidth(t){let a=document.createElement("span");a.style.visibility="hidden",a.style.whiteSpace="nowrap",a.style.fontSize=getComputedStyle(document.body).fontSize,a.style.fontFamily=getComputedStyle(document.body).fontFamily,a.textContent=t,document.body.appendChild(a);let n=a.offsetWidth;return document.body.removeChild(a),n}loadDotacionByIndex(t){if(t<0||t>=this.savedDotacions.length)return;let a=this.savedDotacions[t];this.clearDotacionInputErrors(),document.getElementById(me.VEHICLE_INPUT).value=a.numero||"",document.getElementById(me.PERSON1_INPUT).value=a.conductor||"",document.getElementById(me.PERSON2_INPUT).value=a.ajudant||"",go(a.firmaConductor||""),Eo(a.firmaAjudant||""),b(`Dotaci\xF3n ${a.numero} cargada.`,"success"),this.closeDotacioModal()}async handleDeleteById(t){let a=this.savedDotacions.findIndex(i=>`${i.numero}-${i.conductor}-${i.ajudant}`.replace(/\s/g,"")===t);if(a===-1){console.warn("Se intent\xF3 eliminar una dotaci\xF3n que ya no existe:",t);return}let l={...this.savedDotacions[a],originalIndex:a};this.savedDotacions.splice(a,1),await this.saveDotacionsToStorage(),dl(),b("Dotaci\xF3n eliminada.","success",5e3,{queueable:!1,undoCallback:async()=>{this.savedDotacions.splice(l.originalIndex,0,l),await this.saveDotacionsToStorage(),cc(l),b("Dotaci\xF3n restaurada.","success")}})}handleOptionsClick(t){let n=t.target.closest(ul.LOAD_BTN);if(n){t.stopPropagation();let l=parseInt(n.getAttribute(jg.INDEX),10);isNaN(l)||this.loadDotacionByIndex(l)}}getDotacionInputValues(){let t=document.getElementById(me.VEHICLE_INPUT),a=document.getElementById(me.PERSON1_INPUT),n=document.getElementById(me.PERSON2_INPUT);return{vehiculo:t?.value.trim()||"",conductor:a?.value.trim()||"",ayudante:n?.value.trim()||""}}findExistingDotacionIndex(t,a,n){let l=t.toLowerCase(),i=a.toLowerCase(),r=n.toLowerCase();return this.savedDotacions.findIndex(o=>o.numero.toLowerCase()===l&&o.conductor.toLowerCase()===i&&o.ajudant.toLowerCase()===r)}async addDotacioFromMainForm(){if(!Bm())return;let{vehiculo:t,conductor:a,ayudante:n}=this.getDotacionInputValues(),l=Mo(),i=Lo(),r=this.findExistingDotacionIndex(t,a,n),o={numero:t,conductor:a,ajudant:n,firmaConductor:l,firmaAjudant:i};r!==-1?(this.savedDotacions[r]=o,b(`Dotaci\xF3n ${t} actualizada.`,"success")):(this.savedDotacions.push(o),b(`Dotaci\xF3n ${t} creada.`,"success")),await this.saveDotacionsToStorage()}clearDotacionInputErrors(){let t=document.getElementById(me.VEHICLE_INPUT),a=document.getElementById(me.PERSON1_INPUT),n=document.getElementById(me.PERSON2_INPUT),l=a?.closest(ul.PERSON_INPUT_GROUP),i=n?.closest(ul.PERSON_INPUT_GROUP);t?.classList.remove(_t.INPUT_ERROR),l?.classList.remove(_t.INPUT_ERROR),i?.classList.remove(_t.INPUT_ERROR)}};async function N0(e,t){try{let n=new TextEncoder().encode(JSON.stringify(e)),l=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:l,tagLength:128},t,n),r=Yg(i),o=Yg(l),s=await Kg(r);return{version:1,algorithm:"AES-GCM",iv:o,data:r,checksum:s}}catch(a){throw Oe.error("Error encriptant dotacions:",a),a}}async function M0(e,t){try{if(!e||!e.data||!e.iv)throw new Error("Format de dades encriptades inv\xE0lid");let a=!0;e.checksum&&await Kg(e.data)!==e.checksum&&(a=!1,Oe.error("\u26A0\uFE0F CHECKSUM MISMATCH en dotacions - Integritat compromesa"),b("\u26A0\uFE0F Advert\xE8ncia: Les dotacions poden estar corruptes. El checksum no coincideix.","warning",7e3),Oe.warn("Continuant amb desencriptaci\xF3 malgrat checksum inv\xE0lid"));let n=Xg(e.data),l=Xg(e.iv),i=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(l),tagLength:128},t,new Uint8Array(n)),o=new TextDecoder().decode(i),s=JSON.parse(o);return Oe.debug(`Dotacions desencriptades (checksum: ${a?"\u2705 v\xE0lid":"\u26A0\uFE0F inv\xE0lid"})`),s}catch(a){throw Oe.error("Error desencriptant dotacions:",a),a.name==="OperationError"?new Error("Les dotacions estan corruptes o s'ha utilitzat una clau incorrecta"):a}}function Yg(e){let t=new Uint8Array(e),a="";for(let n=0;n<t.byteLength;n++)a+=String.fromCharCode(t[n]);return btoa(a)}function Xg(e){let t=atob(e),a=new Uint8Array(t.length);for(let n=0;n<t.length;n++)a[n]=t.charCodeAt(n);return a.buffer}async function Kg(e){try{let a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){return Oe.error("Error calculant checksum:",t),""}}var cl=new uc;var L0=R.withScope("Modals:Dotacio");function R0(e,t){let a=document.getElementById("dotacio-template");if(!a)return L0.warn("No s'ha trobat el template per a dotacions."),null;let n=a.content.cloneNode(!0),l=n.firstElementChild,i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");l.setAttribute("data-dotacio-id",i);let r=n.querySelector(".dotacio-info"),o=n.querySelector(".dotacio-load");if(r){let s=[e.conductor,e.ajudant].filter(Boolean).join(" / ");r.textContent=s?`${e.numero} - ${s}`:e.numero}return o&&o.setAttribute("data-index",String(t)),l}function dl(){let e=document.getElementById("dotacio-options"),t=document.getElementById("no-dotacio-text");if(!e||!t)return;let a=e.children.length>0;e.classList.toggle("hidden",!a),t.classList.toggle("hidden",a),a||(t.innerHTML='No hay dotaciones, guarde abans: <img src="assets/icons/save_green.svg" alt="Guardar" class="save-icon" />')}function Oo(e,t){let a=0,n=0,l=!1;e.addEventListener("mousedown",i=>{i.target.closest("button")||i.target.closest(".button-container")||(a=i.clientX,n=a,l=!1)}),document.addEventListener("mousemove",i=>{n=i.clientX;let r=a-n;r>10&&!l&&(l=!0,e.classList.add("swiping")),l&&r>10&&(e.style.transform=`translateX(-${Math.min(r,80)}px)`,i.preventDefault())}),document.addEventListener("mouseup",async()=>{if(!l)return;l=!1;let i=a-n;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",i>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await cl.handleDeleteById(t),e.remove(),dl()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function No(e,t){let a=0,n=0,l=!1;e.addEventListener("touchstart",i=>{i.target.closest("button")||(a=i.touches[0].clientX,n=a,l=!1,i.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",i=>{n=i.touches[0].clientX;let r=a-n;r>10&&!l&&(l=!0,e.classList.add("swiping")),l&&r>10&&(e.style.transform=`translateX(-${Math.min(r,80)}px)`,i.preventDefault(),i.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async i=>{if(!l)return;l=!1;let r=a-n;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",r>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await cl.handleDeleteById(t),e.remove(),dl()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),i.stopPropagation()})}function cc(e){let t=document.getElementById("dotacio-options");if(!t){cl.displayDotacioOptions();return}let a=e.originalIndex,n=R0(e,a);if(!n)return;n.style.opacity="0",n.style.transform="translateX(-100%)";let l=t.children[a];l?t.insertBefore(n,l):t.appendChild(n),requestAnimationFrame(()=>{n.style.transition="opacity 0.5s ease, transform 0.5s ease",n.style.opacity="1",n.style.transform="translateX(0)";let i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");No(n,i),Oo(n,i)}),dl()}var DO=R.withScope("Modals:Confirm"),Pi=null,Qg=null,Fg=null,Zg=null,Jg=null;function I0(){if(!Pi){if(Pi=document.getElementById(At.CONFIRM_MODAL),!Pi)return!1;Qg=document.getElementById(At.CONFIRM_MESSAGE),Fg=Pi.querySelector(At.CONFIRM_TITLE),Zg=document.getElementById(At.CONFIRM_YES_BTN),Jg=document.getElementById(At.CONFIRM_NO_BTN)}return!!Pi&&!!Qg&&!!Fg&&!!Zg&&!!Jg}function kg(){I0()}function $g(){kg(),Pg(),Ig()}var Ue={DADES:"dades",SERVEIS:"serveis"},Jt={TAB_DADES:`tab-${Ue.DADES}`,TAB_SERVEIS:`tab-${Ue.SERVEIS}`,CONTENT_DADES:`${Ue.DADES}-tab-content`,CONTENT_SERVEIS:`${Ue.SERVEIS}-tab-content`,MAIN_CONTENT_AREA:"main-content"},fl={ACTIVE_TAB:"active",ERROR_TAB:"error-tab"},Wg={MIN_DISTANCE:60,MAX_VERTICAL_RATIO:.5},ml=Ue.DADES,Ro=0,dc=0,fc=!0,Oa=null,Tn=null;function eE(){let e=document.getElementById(Jt.TAB_DADES),t=document.getElementById(Jt.TAB_SERVEIS);!e||!t||(e.addEventListener("click",()=>Vi(Ue.DADES)),t.addEventListener("click",()=>Vi(Ue.SERVEIS)),B0(),Vi(ml))}function sl(e){fc=!!e}function Vi(e){if(ml===e&&document.scrollingElement.scrollTop!==0){window.scrollTo({top:0,behavior:"smooth"});return}if(ml===e||e!==Ue.DADES&&e!==Ue.SERVEIS)return;window.scrollTo({top:0,behavior:"auto"}),ml=e;let t=document.getElementById(Jt.TAB_DADES),a=document.getElementById(Jt.TAB_SERVEIS),n=document.getElementById(Jt.CONTENT_DADES),l=document.getElementById(Jt.CONTENT_SERVEIS);if(!t||!a||!n||!l)return;t.classList.remove(fl.ERROR_TAB),a.classList.remove(fl.ERROR_TAB);let i=e===Ue.DADES;t.classList.toggle(fl.ACTIVE_TAB,i),a.classList.toggle(fl.ACTIVE_TAB,!i),n.classList.toggle(fl.ACTIVE_TAB,i),l.classList.toggle(fl.ACTIVE_TAB,!i),t.setAttribute("aria-selected",i?"true":"false"),a.setAttribute("aria-selected",i?"false":"true"),e===Ue.SERVEIS&&typeof Nu=="function"&&Nu()}function B0(){let e=document.getElementById(Jt.MAIN_CONTENT_AREA);e&&(Oa=tE,Tn=aE,e.addEventListener("touchstart",Oa,{passive:!0}),e.addEventListener("touchend",Tn,{passive:!0}))}function Bg(){let e=document.getElementById(Jt.MAIN_CONTENT_AREA);!e||!Oa||!Tn||(e.removeEventListener("touchstart",Oa,{passive:!0}),e.removeEventListener("touchend",Tn,{passive:!0}),Oa=null,Tn=null)}function wg(){let e=document.getElementById(Jt.MAIN_CONTENT_AREA);e&&(Oa||(Oa=tE,Tn=aE,e.addEventListener("touchstart",Oa,{passive:!0}),e.addEventListener("touchend",Tn,{passive:!0})))}function tE(e){if(!fc||rc())return;let t=e.touches[0];Ro=t.clientX,dc=t.clientY}function aE(e){if(!fc||Ro===0||!e.changedTouches||e.changedTouches.length===0)return;let t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY,n=t-Ro,l=a-dc;Ro=0,dc=0,!(Math.abs(l)>Math.abs(n)*Wg.MAX_VERTICAL_RATIO)&&Math.abs(n)>Wg.MIN_DISTANCE&&(n>0?ml===Ue.SERVEIS&&Vi(Ue.DADES):ml===Ue.DADES&&Vi(Ue.SERVEIS))}var Na={MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title"},mc={MODAL_OPEN:"modal-open",SIGNED:"signed"},Ma={LINE_WIDTH:2,LINE_CAP:"round",STROKE_STYLE:"#000000",IMAGE_FORMAT:"image/png",DOUBLE_CLICK_TIMEOUT:300,DOUBLE_TAP_TIMEOUT:300,DOUBLE_TAP_MAX_DIST:20},nE={SIGNATURE_PENDING:"assets/icons/signature.svg",SIGNATURE_OK:"assets/icons/signature_ok.svg"},lE={PERSON1:"Firma del conductor",PERSON2:"Firma del ayudante"},gc=class{constructor(){this.signatureConductor="",this.signatureAjudant="",this.currentSignatureTarget=null,this.isDrawing=!1,this.canvasContext=null,this.signatureCanvasElement=null,this.signatureModalElement=null,this.signPerson1Button=null,this.signPerson2Button=null,this.hasUserDrawn=!1,this.lastTouchTime=0,this.lastTouchX=0,this.lastTouchY=0,this.clickCount=0,this.clickTimer=null}init(){this.signatureModalElement=document.getElementById(Na.MODAL),this.signatureCanvasElement=document.getElementById(Na.CANVAS);let t=document.getElementById(Na.CANCEL_BTN),a=document.getElementById(Na.ACCEPT_BTN);this.signPerson1Button=document.getElementById(Na.SIGN_PERSON1_BTN),this.signPerson2Button=document.getElementById(Na.SIGN_PERSON2_BTN),!(!this.signatureModalElement||!this.signatureCanvasElement||!t||!a||!this.signPerson1Button||!this.signPerson2Button)&&(this.resizeCanvas(),this.initCanvasEvents(),t.addEventListener("click",this.closeSignatureModal.bind(this)),a.addEventListener("click",this.acceptSignature.bind(this)),this.signPerson1Button.addEventListener("click",()=>this.openSignatureModal("person1")),this.signPerson2Button.addEventListener("click",()=>this.openSignatureModal("person2")),this.signatureModalElement.addEventListener("click",n=>{n.target===this.signatureModalElement&&this.closeSignatureModal()}),window.addEventListener("resize",this.debounce(this.resizeCanvas.bind(this),150)),document.addEventListener("keydown",n=>{n.key==="Escape"&&this.signatureModalElement.style.display==="block"&&this.closeSignatureModal()}),this.updateSignatureIcons())}debounce(t,a){let n;return(...l)=>{clearTimeout(n),n=setTimeout(()=>t.apply(this,l),a)}}resizeCanvas(){if(!this.signatureCanvasElement||!this.signatureCanvasElement.parentElement)return;let t=this.signatureCanvasElement.parentElement;this.canvasContext||(this.canvasContext=this.signatureCanvasElement.getContext("2d",{willReadFrequently:!0})),this.canvasContext&&(this.signatureCanvasElement.width=t.offsetWidth,this.signatureCanvasElement.height=t.offsetHeight,this.canvasContext.lineWidth=Ma.LINE_WIDTH,this.canvasContext.lineCap=Ma.LINE_CAP,this.canvasContext.strokeStyle=Ma.STROKE_STYLE)}clearCanvas(){!this.canvasContext||!this.signatureCanvasElement||(this.canvasContext.clearRect(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),this.hasUserDrawn=!1)}getEventCoordinates(t){if(!this.signatureCanvasElement)return{x:0,y:0};let a=this.signatureCanvasElement.getBoundingClientRect(),n,l;return t.touches&&t.touches.length>0?(n=t.touches[0].clientX,l=t.touches[0].clientY):(n=t.clientX,l=t.clientY),{x:n-a.left,y:l-a.top}}startDrawing(t){if(!this.canvasContext)return;this.isDrawing=!0,this.hasUserDrawn=!0,this.canvasContext.beginPath();let{x:a,y:n}=this.getEventCoordinates(t);this.canvasContext.moveTo(a,n)}draw(t){if(!this.isDrawing||!this.canvasContext)return;t.preventDefault();let{x:a,y:n}=this.getEventCoordinates(t);this.canvasContext.lineTo(a,n),this.canvasContext.stroke()}stopDrawing(){!this.isDrawing||!this.canvasContext||(this.isDrawing=!1)}handleCanvasClick(t){this.clickCount++,this.clickCount===1?this.clickTimer=setTimeout(()=>this.clickCount=0,Ma.DOUBLE_CLICK_TIMEOUT):this.clickCount===2&&(clearTimeout(this.clickTimer),this.clickCount=0,t.preventDefault(),this.clearCanvas())}handleCanvasTouchEnd(t){if(t.touches.length>0)return;let a=Date.now(),n=t.changedTouches[0];if(!n)return;let{x:l,y:i}=this.getEventCoordinates({clientX:n.clientX,clientY:n.clientY}),r=a-this.lastTouchTime,o=Math.abs(l-this.lastTouchX),s=Math.abs(i-this.lastTouchY);r<Ma.DOUBLE_TAP_TIMEOUT&&o<Ma.DOUBLE_TAP_MAX_DIST&&s<Ma.DOUBLE_TAP_MAX_DIST?(t.preventDefault(),this.clearCanvas(),this.lastTouchTime=0):(this.lastTouchTime=a,this.lastTouchX=l,this.lastTouchY=i)}initCanvasEvents(){this.signatureCanvasElement&&(this.signatureCanvasElement.addEventListener("mousedown",this.startDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mousemove",this.draw.bind(this)),this.signatureCanvasElement.addEventListener("mouseup",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mouseout",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("click",this.handleCanvasClick.bind(this)),this.signatureCanvasElement.addEventListener("touchstart",this.startDrawing.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchmove",this.draw.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchend",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchcancel",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchend",this.handleCanvasTouchEnd.bind(this),{passive:!1}))}openSignatureModal(t){if(!this.signatureModalElement||!this.canvasContext)return;sl(!1),this.currentSignatureTarget=t;let a=document.getElementById(Na.TITLE);a&&(a.textContent=t==="person1"?lE.PERSON1:lE.PERSON2),this.signatureModalElement.style.display="block",document.body.classList.add(mc.MODAL_OPEN),this.resizeCanvas(),this.clearCanvas();let n=t==="person1"?this.signatureConductor:this.signatureAjudant;n&&this.drawSignatureFromDataUrl(n),document.getElementById(Na.ACCEPT_BTN)?.focus()}closeSignatureModal(){this.signatureModalElement&&(sl(!0),this.signatureModalElement.style.display="none",document.body.classList.remove(mc.MODAL_OPEN),this.currentSignatureTarget=null,(this.currentSignatureTarget==="person1"?this.signPerson1Button:this.signPerson2Button)?.focus())}isCanvasEmpty(){if(!this.canvasContext||!this.signatureCanvasElement)return!0;try{return!new Uint32Array(this.canvasContext.getImageData(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height).data.buffer).some(a=>a!==0)}catch{return!1}}acceptSignature(){if(!this.canvasContext||!this.signatureCanvasElement||!this.currentSignatureTarget)return;let t=this.isCanvasEmpty(),a=t?"":this.signatureCanvasElement.toDataURL(Ma.IMAGE_FORMAT),n=null;this.currentSignatureTarget==="person1"?(this.signatureConductor=a,n=this.signPerson1Button):this.currentSignatureTarget==="person2"&&(this.signatureAjudant=a,n=this.signPerson2Button),this.updateSignatureUI(n,!t),this.closeSignatureModal(),Yt()}drawSignatureFromDataUrl(t){if(!this.canvasContext||!t)return;let a=new Image;a.onload=()=>this.canvasContext.drawImage(a,0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),a.onerror=()=>{},a.src=t}updateSignatureUI(t,a){if(!t)return;let n=t.querySelector(".icon");n&&(t.classList.toggle(mc.SIGNED,a),n.src=a?nE.SIGNATURE_OK:nE.SIGNATURE_PENDING)}updateSignatureIcons(){this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor),this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}getSignatureConductor(){return this.signatureConductor}getSignatureAjudant(){return this.signatureAjudant}setSignatureConductor(t){this.signatureConductor=t||"",this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor)}setSignatureAjudant(t){this.signatureAjudant=t||"",this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}},Hi=new gc,iE=()=>Hi.init(),Mo=()=>Hi.getSignatureConductor(),Lo=()=>Hi.getSignatureAjudant(),go=e=>Hi.setSignatureConductor(e),Eo=e=>Hi.setSignatureAjudant(e);var Gi=R.withScope("FormService"),w0=".service",rE="main-content",Dt={DATE:"date",DIET_TYPE:"diet-type",VEHICLE:"vehicle-number",P1:"person1",P2:"person2",SERVICE_TYPE:"service-type",SAVE_BTN:"save-diet"},x0="userSelectedServiceType",U0={serviceNumber:".service-number",origin:".origin",originTime:".origin-time",destination:".destination",destinationTime:".destination-time",endTime:".end-time"},z0="chip-active",P0=800,V0=1e3,H0=300,Ec=class{constructor(){this.initialFormDataStr="",this.saveStart=0,this.debouncedAutoSave=xi(this.triggerAutoSave.bind(this),V0),this.debouncedHandler=xi(this.handleInputChange.bind(this),P0)}isFormReadyForSave(){try{let t=!!document.getElementById(Dt.DATE)?.value.trim(),a=!!document.getElementById(Dt.DIET_TYPE)?.value.trim(),n=document.getElementById("service-number-1")?.value.trim(),l=/^\d{9}$/.test(n);return t&&a&&l}catch(t){return console.warn("[FormService] Error validant formulari:",t),!1}}hasPendingChanges(){return JSON.stringify(this.getFormDataObject()||{})!==this.initialFormDataStr}getFormDataObject(){try{let t=fe(document.getElementById(Dt.DATE)?.value),a=fe(document.getElementById(Dt.VEHICLE)?.value),n=fe(document.getElementById(Dt.P1)?.value),l=fe(document.getElementById(Dt.P2)?.value),i=Ti(a,"vehicleNumber"),r=Ti(n,"personName"),o=Ti(l,"personName");a&&!i.valid&&Gi.warn("N\xFAmero de vehicle inv\xE0lid:",i.reason),n&&!r.valid&&Gi.warn("Nom conductor inv\xE0lid:",r.reason),l&&!o.valid&&Gi.warn("Nom ajudant inv\xE0lid:",o.reason);let s={date:t,dietType:fe(document.getElementById(Dt.DIET_TYPE)?.value||ku()),vehicleNumber:i.valid?i.sanitized:"",person1:r.valid?r.sanitized:"",person2:o.valid?o.sanitized:"",serviceType:fe(document.getElementById(Dt.SERVICE_TYPE)?.value||"TSU"),signatureConductor:Mo(),signatureAjudant:Lo()},u=Array.from(document.querySelectorAll(w0)).map((f,E)=>{let c={};for(let[y,T]of Object.entries(U0)){if(!T){c[y]="";continue}let _=fe(f.querySelector(T)?.value);if(y==="serviceNumber"&&_)_u(_)?c[y]=_:(Gi.warn(`N\xFAmero de servei ${E+1} inv\xE0lid:`,_),c[y]="");else if((y==="originTime"||y==="destinationTime"||y==="endTime")&&_)bu(_)?c[y]=_:(Gi.warn(`Hora inv\xE0lida en servei ${E+1}, camp ${y}:`,_),c[y]="");else{let m=Ti(_,"text");c[y]=m.valid?m.sanitized:""}}let g=f.querySelector(`.chip.${z0}`);return c.mode=g?.dataset.mode||"3.6",c.notes=jt[E]||"",c});return{generalData:s,servicesData:u}}catch(t){return console.error("[FormService] Error recollint dades:",t),null}}async triggerAutoSave(){if(!(!this.isFormReadyForSave()||!this.hasPendingChanges()))try{this.saveStart=Date.now(),fo(),await Xu();let t=Date.now()-this.saveStart;setTimeout(mo,Math.max(0,H0-t)),this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{})}catch(t){console.warn("[Autosave skipped]",t?.message||"Error desconegut"),gn("Revisa dades de Serveis")}}captureInitialFormState(){this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{}),this.handleFormChange()}setSaveButtonState(t){let a=document.getElementById(Dt.SAVE_BTN);a&&(a.disabled=!t,a.setAttribute("aria-disabled",t?"false":"true"),a.classList.toggle("is-disabled",!t))}handleFormChange(){if(this.debouncedAutoSave.cancel(),!this.hasPendingChanges()){this.setSaveButtonState(!1),Ii();return}this.isFormReadyForSave()?(this.setSaveButtonState(!0),this.debouncedAutoSave()):(this.setSaveButtonState(!1),Ii())}handleInputChange(){this.handleFormChange()}addInputListeners(){let t=document.getElementById(rE);if(!t)return;t.addEventListener("input",this.debouncedHandler),t.addEventListener("change",this.debouncedHandler),t.addEventListener("blur",n=>{n.target.matches("input, select, textarea")&&(this.handleFormChange(),this.isFormReadyForSave()&&this.hasPendingChanges()&&(this.debouncedAutoSave.cancel(),this.triggerAutoSave()))},!0);let a=document.getElementById(Dt.DATE);a?.addEventListener("change",()=>{a.blur(),this.debouncedHandler()}),window.addEventListener("beforeunload",()=>{this.debouncedAutoSave.cancel(),this.isFormReadyForSave()&&Xu()})}addServiceTypeListener(){let t=document.getElementById(Dt.SERVICE_TYPE);t&&t.addEventListener("change",a=>{let n=a.target.value.trim();kn(n);try{localStorage.setItem(x0,n)}catch(l){console.error("No s\u2019ha pogut desar tipus servei",l)}})}cancelPendingAutoSave(){this.debouncedAutoSave.cancel()}addDoneBehavior(){document.getElementById(rE)?.addEventListener("keydown",a=>{a.key==="Enter"&&a.target.matches('input[enterkeyhint="done"]')&&(a.preventDefault(),a.target.blur())})}gatherAllData(){return this.getFormDataObject()}getInitialFormDataStr(){return this.initialFormDataStr}},La=new Ec,Wn=()=>La.captureInitialFormState(),ju=e=>La.setSaveButtonState(e),Yt=()=>La.handleFormChange(),oE=()=>La.addInputListeners(),sE=()=>La.addServiceTypeListener(),og=()=>La.cancelPendingAutoSave(),uE=()=>La.addDoneBehavior(),po=()=>La.gatherAllData();var cE="onboardingCompleted";function dE(){let e=document.getElementById("onboarding-container");if(!e)return;if(!JSON.parse(localStorage.getItem(cE)||"false"))e.classList.remove("hidden");else return;window.addEventListener("load",()=>{e.classList.add("onboarding-loaded")});let a=document.querySelectorAll(".onboarding-slide"),n=document.querySelectorAll(".nav-dot"),l=document.getElementById("onboarding-finish-btn"),i=document.getElementById("onboarding-skip-btn"),r=0;function o(E){a.forEach((c,g)=>{c.classList.toggle("active",g===E)}),n.forEach((c,g)=>{c.classList.toggle("active",g===E)})}function s(){r<a.length-1&&(r++,o(r),navigator.vibrate&&navigator.vibrate(10))}function u(){e.classList.add("hidden"),localStorage.setItem(cE,JSON.stringify(!0)),navigator.vibrate&&navigator.vibrate([50,50,50])}e.addEventListener("click",E=>{E.target.closest("button, a, .nav-dot")||s()});let f=0;e.addEventListener("touchstart",E=>{f=E.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",E=>{E.changedTouches[0].screenX<f-50&&s()}),l.addEventListener("click",u),i.addEventListener("click",u)}var pc={TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text"},fE={DARK_THEME:"theme-dark"},hc="themePreference",ct={LIGHT:"light",DARK:"dark"},mE={LIGHT:"assets/icons/moon.svg",DARK:"assets/icons/sun.svg"},gE={LIGHT:"#004aad",DARK:"#343a40"},Sc=class{constructor(){this.themeToggleButton=null,this.themeIconElement=null,this.themeTextElement=null,this.bodyElement=null,this.systemDarkMatcher=null}init(){if(this.themeToggleButton=document.getElementById(pc.TOGGLE_BTN),this.themeIconElement=document.getElementById(pc.THEME_ICON),this.themeTextElement=document.getElementById(pc.THEME_TEXT),this.bodyElement=document.body,!this.themeToggleButton||!this.themeIconElement||!this.themeTextElement||!this.bodyElement)return;let t,a=localStorage.getItem(hc);a&&(a===ct.LIGHT||a===ct.DARK)?t=a:(this.systemDarkMatcher=window.matchMedia("(prefers-color-scheme: dark)"),t=this.systemDarkMatcher.matches?ct.DARK:ct.LIGHT,this.systemDarkMatcher.addEventListener("change",this._handleSystemThemeChange.bind(this))),this._applyTheme(t,!1),this.themeToggleButton.addEventListener("click",this._handleThemeToggle.bind(this))}_updateThemeColorMeta(t){let a=document.querySelector('meta[name="theme-color"]');a&&(a.content=t)}_applyTheme(t,a=!1){let n=t===ct.DARK;this.bodyElement.classList.toggle(fE.DARK_THEME,n),this.themeIconElement.src=n?mE.DARK:mE.LIGHT,this.themeTextElement.textContent=n?"Claro":"Oscuro",this.themeIconElement.alt=n?"Cambiar a tema claro":"Cambiar a tema oscuro",this._updateThemeColorMeta(n?gE.DARK:gE.LIGHT),a&&localStorage.setItem(hc,t)}_handleThemeToggle(){let a=(this.bodyElement.classList.contains(fE.DARK_THEME)?ct.DARK:ct.LIGHT)===ct.DARK?ct.LIGHT:ct.DARK;this._applyTheme(a,!0)}_handleSystemThemeChange(t){if(!localStorage.getItem(hc)){let a=t.matches?ct.DARK:ct.LIGHT;this._applyTheme(a,!1)}}},q0=new Sc,EE=()=>q0.init();var yc={GENERATE_PDF:".generate-pdf",SAVE_DIET:"#save-diet",MANAGE_DIETS:"#manage-diets"};function pE(){let e=document.querySelector(yc.GENERATE_PDF);e&&e.addEventListener("click",Og);let t=document.getElementById(yc.SAVE_DIET.substring(1));t&&t.addEventListener("click",ig);let a=document.getElementById(yc.MANAGE_DIETS.substring(1));a&&typeof Do=="function"&&a.addEventListener("click",Do)}var j0="clear-selected-service",Y0=".service";function hE(){let e=document.getElementById(j0);e&&e.addEventListener("click",()=>{let t=un(),a=document.querySelectorAll(Y0);if(t>=0&&t<a.length){let n=a[t],l=n.querySelectorAll('input:not([type="button"]):not([type="submit"]), select, textarea');l.forEach(i=>{i.value!==""&&i.classList.add("field-clearing")}),setTimeout(()=>{Gm(n),Di(n),Yt(),l.forEach(i=>{i.classList.remove("field-clearing")})},600)}})}function SE(){document.querySelectorAll('input[type="date"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}function yE(){document.querySelectorAll('input[type="time"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}Rt();var vE=xi(b,_m.DEBOUNCE_TOAST);function X0(e){return/^\d*$/.test(e)}function TE(){let e=document.querySelectorAll(Yn.SERVICE_NUMBER_INPUT);if(!e.length){console.warn("Restrictions: No se han encontrado inputs '.service-number'.");return}e.forEach(t=>{t.dataset.restrictionsSetup!=="true"&&(t.dataset.restrictionsSetup="true",t.addEventListener("keypress",a=>{a.key==="Enter"||a.key==="Tab"||a.ctrlKey||a.metaKey||a.altKey||a.key.length>1||/\d/.test(a.key)||(a.preventDefault(),vE(vu.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}),t.addEventListener("paste",a=>{try{let n=(a.clipboardData||window.clipboardData)?.getData("text")||"";X0(n)||(a.preventDefault(),vE(vu.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}catch(n){console.error("Error procesando 'paste':",n),a.preventDefault()}}))})}var AE={SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel"},gl={PANEL_VISIBLE:"visible",BUTTON_OPEN:"open"},kt=null,$t=null,CE=!1;function K0(e){e.stopPropagation();let t=$t.classList.toggle(gl.PANEL_VISIBLE);kt.classList.toggle(gl.BUTTON_OPEN,t),kt.setAttribute("aria-expanded",t),t&&$t.querySelector("button")?.focus()}function Q0(e){$t.classList.contains(gl.PANEL_VISIBLE)&&!$t.contains(e.target)&&!kt.contains(e.target)&&vc()}function F0(e){e.key==="Escape"&&$t.classList.contains(gl.PANEL_VISIBLE)&&(vc(),kt.focus())}function vc(){$t.classList.remove(gl.PANEL_VISIBLE),kt.classList.remove(gl.BUTTON_OPEN),kt.setAttribute("aria-expanded","false")}function bE(){CE||(kt=document.getElementById(AE.SETTINGS_BTN),$t=document.getElementById(AE.SETTINGS_PANEL),!(!kt||!$t)&&(kt.addEventListener("click",K0),document.addEventListener("click",Q0),document.addEventListener("keydown",F0),$t.querySelectorAll("button").forEach(e=>{e.addEventListener("click",vc)}),CE=!0))}var Z0={SERVICE_BUTTONS:".service-button:not(.active-square)",OPTIONS_BTN:"#options-toggle",TABS:".tab:not(.active)"},J0="disabled-control";function Tc(e=!0){document.querySelectorAll(Object.values(Z0).join(", ")).forEach(a=>{a&&(a.classList.toggle(J0,e),a.setAttribute("aria-disabled",e?"true":"false"),a.disabled=e)})}var Ev=Su(qi()),pv=Su(gv());var de=Su(qi());function sm({imageUrl:e=null,isProcessing:t=!1,progress:a=0,status:n="idle",statusText:l="Reconociendo texto",onClose:i=null}){let r=(0,de.useRef)(null),[o,s]=(0,de.useState)(0),[u,f]=(0,de.useState)("");if((0,de.useEffect)(()=>{let y=setTimeout(()=>{s(a)},50);return()=>clearTimeout(y)},[a]),(0,de.useEffect)(()=>{if(n!=="processing"){f("");return}f(".");let y=setInterval(()=>{f(T=>T.length>=3?".":`${T}.`)},500);return()=>clearInterval(y)},[n]),n==="error"||n==="idle"||!(!!e&&t||!!e&&(n==="done"||n==="warning")))return null;let c=l?.replace(/\s+\d{1,3}%/,"").replace(/\.{2,}$/,"").trim()||"Reconociendo texto",g=n==="processing"?`${c}${u}`:l;return de.default.createElement("div",{className:"ocr-feedback-overlay",role:"dialog","aria-live":"polite","aria-atomic":"false","aria-label":"OCR en progreso"},de.default.createElement("div",{className:"ocr-feedback-container",ref:r},e&&de.default.createElement("div",{className:"ocr-image-preview fade-in"},de.default.createElement("img",{src:e,alt:"Imagen capturada para OCR",className:"ocr-captured-image",loading:"eager"})),(t||n==="done"||n==="error"||n==="warning")&&de.default.createElement("div",{className:"ocr-progress-section fade-in"},de.default.createElement("div",{className:"ocr-progress-bar-container"},de.default.createElement("div",{className:"ocr-progress-bar-track",style:{"--progress-width":`${o}%`}},de.default.createElement("div",{className:"ocr-progress-bar-fill",role:"progressbar","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},de.default.createElement("div",{className:"ocr-progress-shine"}))),de.default.createElement("span",{className:"ocr-progress-percentage"},n==="error"?"":`${Math.round(o)}%`)),de.default.createElement("div",{className:`ocr-status-line ${n}`},g?.split(`
`).map((y,T)=>de.default.createElement("div",{key:T},y))||""))))}var si="Reconociendo texto",oi={done:"\u2713 Texto reconocido correctamente",warning:"Revisa la informaci\xF3n detectada",error:"Error al escanear. Imagen no v\xE1lida"},su=(e,t=si)=>e&&e.replace(/\d{1,3}%/g,"").replace(/\.\.+$/g,"").split(`
`).map(i=>i.replace(/\s+/g," ").trim()).join(`
`)||t;function um(e="ocr-feedback-root"){let t=document.getElementById(e);t||(t=document.createElement("div"),t.id=e,document.body.appendChild(t));let a=null,n=null,l={imageUrl:null,isProcessing:!1,progress:0,status:"idle",statusText:si},i=()=>{a||(a=pv.default.createRoot(t)),a.render(Ev.default.createElement(sm,{imageUrl:l.imageUrl,isProcessing:l.isProcessing,progress:l.progress,status:l.status,statusText:l.statusText,onClose:()=>o.reset()}))},r=()=>{n&&(clearTimeout(n),n=null)},o={start(s){r(),l.imageUrl&&l.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(l.imageUrl),s instanceof File||s instanceof Blob?l.imageUrl=URL.createObjectURL(s):typeof s=="string"?l.imageUrl=s:l.imageUrl=null,l.isProcessing=!0,l.progress=0,l.status="processing",l.statusText=si,i()},update(s,u=null,f="info"){r(),l.progress=Math.min(100,Math.max(0,s));let E=u!==null?su(u):null;if(f==="error"){l.status="error",l.statusText=E||oi.error||si,l.isProcessing=!1,l.progress=Math.max(l.progress,100),i(),n=setTimeout(()=>{o.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3);return}if(f==="warning"){l.status="warning",l.statusText=E||l.statusText,l.isProcessing=!0,i();return}if(f==="success"){o.complete(E||oi.done,"done");return}l.status="processing",E?l.statusText=E:l.statusText||(l.statusText=si),l.isProcessing=!0,i()},addMessage(s,u="info"){if(u==="error"){o.error(s);return}if(u==="success"){o.complete(s||oi.done,"done");return}l.status=u==="warning"?"warning":"processing",l.statusText=su(s),l.isProcessing=!0,i()},complete(s=null,u="done"){r(),l.progress=100;let f=["done","warning","error"].includes(u)?u:"done";l.status=f;let E=oi[f]||oi.done;l.statusText=su(s,E),l.isProcessing=!1,i(),n=setTimeout(()=>{o.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"done"}}))},2500)},error(s="No se reconoci\xF3 texto"){r(),l.status="error",l.statusText=su(s,oi.error),l.isProcessing=!1,l.progress=100,i(),n=setTimeout(()=>{o.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3)},reset(){r(),l.imageUrl&&l.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(l.imageUrl),l.imageUrl=null,l.isProcessing=!1,l.progress=0,l.status="idle",l.statusText=si,i()},getState(){return{...l}},isProcessing(){return l.isProcessing}};return o}var ui=null;function Yr(){return ui||(ui=um()),ui}function hv(){ui&&(ui.reset(),ui=null)}Rt();var Sv=1500,cm=.95,dm="image/png",qb=R.withScope("CameraOCR:ImageProcessing");function yv(e,t,a){return new Promise((n,l)=>{e.toBlob(i=>{i?n(i):l(new Error("No s'ha pogut generar el blob de la imatge."))},t,a)})}async function vv(e,{maxDimension:t=Sv,imageType:a=dm,imageQuality:n=cm}={}){let l=await createImageBitmap(e),{width:i,height:r}=l;if(Math.max(i,r)<=t)return l.close(),e;let o=Math.min(t/i,t/r),s=Math.round(i*o),u=Math.round(r*o),f=document.createElement("canvas");f.width=s,f.height=u;let E=f.getContext("2d");if(!E)throw l.close(),new Error("Context 2D no disponible.");return E.drawImage(l,0,0,s,u),l.close(),yv(f,a,n)}async function Tv(e,{imageType:t=dm,imageQuality:a=cm}={}){let n=await createImageBitmap(e),l=document.createElement("canvas");l.width=n.width,l.height=n.height;let i=l.getContext("2d");if(!i)throw n.close(),new Error("Context 2D no disponible.");try{i.drawImage(n,0,0,n.width,n.height)}catch(r){throw n.close(),r.message&&r.message.includes("detached")?new Error("Error al procesar la imagen. Int\xE9ntalo de nuevo."):r}n.close(),i.filter="grayscale(100%) contrast(180%) brightness(110%)";try{i.drawImage(l,0,0)}catch(r){qb.warn("Fallback sense filtres en el preprocessament.",r)}return yv(l,t,a)}var CN=Object.freeze({IMAGE_MAX_DIMENSION:Sv,IMAGE_QUALITY:cm,IMAGE_TYPE:dm});var jb="spa",Yb=1,Xb="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ:/-\xC0\xC9\xCD\xD3\xDA\xC8\xD2\xC0\xDC\xCF\xC7\xD1",Av=10,Kb=1e3,Qb=new Set(["image/jpeg","image/png","image/webp"]),Fb=[{type:"image/jpeg",bytes:[255,216,255]},{type:"image/png",bytes:[137,80,78,71,13,10,26,10]},{type:"image/webp",bytes:[82,73,70,70,null,null,null,null,87,69,66,80]}],Zb=300;var Jb="https://cdn.jsdelivr.net/npm/tesseract.js@6/dist/tesseract.min.js",kb="sha384-r1ru3tcf6FhnCFR4B7pIFG+BhFF9LlFtz/P1y4pblWn3AGs9y3lBx5SKLNf4+rED",$b={load_system_dawg:"0",load_freq_dawg:"0"},Wb={tessedit_char_whitelist:Xb,tessedit_pageseg_mode:6},ci={CAMERA_BTN:"camera-in-dropdown",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline"},rn={VISIBLE:"visible",HIDDEN:"hidden",SERVICE_COLORS:["service-1","service-2","service-3","service-4"]},e_={ORIGIN_TIME:{id:"originTime",label:"Hora movilizaci\xF3n",fieldIdSuffix:"origin-time",lineKeywordRegex:/movilizaci|mobilitzat|desplaza/i},DESTINATION_TIME:{id:"destinationTime",label:"Hora de llegada hospital",fieldIdSuffix:"destination-time",lineKeywordRegex:/arribada|hospital|aaah/i},END_TIME:{id:"endTime",label:"Hora Final",fieldIdSuffix:"end-time",valueRegex:/\d{2}\s*\/?\s*\d{2}\s*\/?\s*\d{2}\s+(\d{1,2}:\d{2}(?::\d{2})?)/i}},it=null,on=null,uu=null,fm=null,ve=null,mm=!1,Cv=!1,bv=!1,_v=0,Ht=null,di=0,Dv=0,cu=R.withScope("CameraOCR"),Ov=new So(10,6e4,"escanejat OCR");function t_(e,t){return!e||e.length<t.length?!1:t.every((a,n)=>a===null||e[n]===a)}async function a_(e){if(!e)return!1;if(Qb.has(e.type?.toLowerCase()))return!0;try{let t=new Uint8Array(await e.slice(0,12).arrayBuffer());return Fb.some(a=>t_(t,a.bytes))}catch(t){return cu.warn("No s'ha pogut validar la signatura del fitxer:",t),!1}}function n_(e){if(!e)return"";let t=e.replace(/[^\d:\-]/g,"");t=t.replace(/-/g,":");let a=t.match(/^(\d{1,2}):(\d{2})(?::\d{2})?$/);if(a){let n=parseInt(a[1],10),l=parseInt(a[2],10);if(n>=0&&n<=23&&l>=0&&l<=59)return`${String(n).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return""}function l_(){if(Date.now()-_v<500||(_v=Date.now(),!it||!on))return;document.body.classList.add("modal-open"),document.body.style.setProperty("pointer-events","none"),it.style.setProperty("pointer-events","auto"),on.style.setProperty("pointer-events","auto");let e=un(),t=rn.SERVICE_COLORS[e]||"";on.classList.remove(...rn.SERVICE_COLORS),t&&on.classList.add(t),it.classList.remove(rn.HIDDEN),requestAnimationFrame(()=>it.classList.add(rn.VISIBLE)),uu?.focus()}function fi(){it&&(document.body.classList.remove("modal-open"),document.body.style.removeProperty("pointer-events"),it.style.removeProperty("pointer-events"),on&&on.style.removeProperty("pointer-events"),it.classList.remove(rn.VISIBLE),setTimeout(()=>it.classList.add(rn.HIDDEN),Zb))}function i_(e){it?.classList.contains(rn.VISIBLE)&&!on?.contains(e.target)&&fi()}function r_(){ve&&(ve.setAttribute("capture","environment"),ve.click(),fi())}function o_(){ve&&(ve.removeAttribute("capture"),ve.click(),fi())}function Nv(e){let t=Object.entries(e).filter(([l,i])=>!i.skip),a=t.filter(([l,i])=>i.detected).length,n=t.length;return`${a}/${n} campos detectados`}function Lt(e,t){Ht||(Ht=Yr()),e>di&&(di=e);let a=di>=100?t||"Texto reconocido correctamente":"Reconociendo texto...";Ht.update(di,a)}function s_(){di=0}function Mv(e,t,a){let n=document.getElementById(e);if(n){n.value=t;let l=new Event("input",{bubbles:!0,cancelable:!0});n.dispatchEvent(l)}}function u_(e,t=null){if(!e||!e.trim())return{hasData:!1,allFieldsStatus:[]};let a=Um(e);if(!a.valid)return cu.warn("Resultat OCR inv\xE0lid:",a.reason),b(`Error de validaci\xF3: ${a.reason}`,"error"),{hasData:!1,allFieldsStatus:[]};let n=un(),l=Hm(n)||"3.6",i=`-${n+1}`,r={},o={originTime:{label:"Hora activaci\xF3n",detected:!1},destinationTime:{label:"Hora destino",detected:!1,skip:l==="3.11"||l==="3.22"},endTime:{label:"Hora final",detected:!1}};t&&t(o);let s=e.split(`
`),u=e.toLowerCase().replace(/ +/g," ");if(Object.values(e_).forEach(E=>{if((l==="3.11"||l==="3.22")&&E.id==="destinationTime")return;let c=null;if(E.lineKeywordRegex){for(let g of s)if(E.lineKeywordRegex.test(g.toLowerCase())){let y=g.replace(/\D/g,"");if(y.length>=6){let T=y.slice(-6);c=[null,`${T.slice(0,2)}:${T.slice(2,4)}:${T.slice(4,6)}`];break}}}else E.valueRegex&&(c=u.match(E.valueRegex));if(c&&c[1]){let g=n_(c[1].trim());if(g&&!r[E.id]){let y=`${E.fieldIdSuffix}${i}`;Mv(y,g,E.label),r[E.id]=E,o[E.id]&&(o[E.id].detected=!0,t&&t(o))}}}),!r.endTime&&(r.originTime||r.destinationTime)){let E=new Date,c=String(E.getHours()).padStart(2,"0"),g=String(E.getMinutes()).padStart(2,"0"),y=`${c}:${g}`,T=`end-time${i}`;Mv(T,y,"Hora Final (Actual)");let _=document.getElementById(T);_&&(_.classList.add("input-warning"),_.addEventListener("focus",()=>_.classList.remove("input-warning"),{once:!0}))}let f=Object.keys(r).length;return{hasData:f>0,count:f,fields:r,allFieldsStatus:o}}function Lv(){if(Cv||(it=document.getElementById(ci.CAMERA_MODAL),on=it?.querySelector(ci.MODAL_CONTENT),uu=document.getElementById(ci.OPTION_CAMERA),fm=document.getElementById(ci.OPTION_GALLERY),ve=document.getElementById(ci.CAMERA_INPUT),!it||!uu||!fm||!ve))return;document.querySelectorAll(ci.OCR_SCAN_BTN).forEach(t=>t.addEventListener("click",l_)),uu.addEventListener("click",r_),fm.addEventListener("click",o_),ve.addEventListener("change",d_),document.addEventListener("click",i_),document.addEventListener("keydown",t=>{t.key==="Escape"&&it?.classList.contains(rn.VISIBLE)&&fi()}),Cv=!0}function c_(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}async function d_(e){if(mm)return;let t=e.target.files?.[0];if(!t)return;if(!Ov.canMakeRequest()){let l=Ov.getRemainingRequests();b(`Has superat el l\xEDmit d'escaneigs. Espera uns segons abans de tornar-ho a intentar. (${l} disponibles)`,"warning"),ve&&(ve.value="");return}if(Date.now()-Dv<Kb){b("OCR massa freq\xFCent. Espera un segon abans de reintentar.","warning"),ve&&(ve.value="");return}if(!await a_(t)){b("Format d'imatge no suportat. Usa PNG, JPG o WEBP.","error"),ve&&(ve.value="");return}let a=Av*1024*1024;if(t.size>a){b(`Imatge massa gran. El m\xE0xim perm\xE8s \xE9s ${Av}MB.`,"error"),ve&&(ve.value="");return}mm=!0,Tc(!0),di=0,Ht||(Ht=Yr()),Ht.start(t),Lt(0),c_(),Dv=Date.now();let n=null;try{Lt(5);let l=await vv(t);Lt(20),l=await Tv(l),Lt(35),await new Promise(s=>setTimeout(s,100)),Lt(45),bv||(Lt(50),await ll({src:Jb,integrity:kb}),bv=!0),Lt(60),n=await Tesseract.createWorker(jb,Yb,{logger:s=>{if(s.status==="recognizing text"){let u=Math.max(85,Math.floor(s.progress*100*.15+85));Lt(u)}else s.status==="loading language model"&&Lt(65)},init:$b}),Lt(75),await n.setParameters(Wb),Lt(80);let{data:{text:i}}=await n.recognize(l),o=u_(i,s=>{let u=Nv(s);Ht.update(95,u)});if(o.hasData){let s=Nv(o.allFieldsStatus);Ht.complete(s,"done")}else b("Error al escanear. Imagen no v\xE1lida","error"),Ht?.reset?.(),setTimeout(()=>fi(),1e3)}catch(l){cu.error("Error durant el processament OCR:",l),b("Error al escanear. Imagen no v\xE1lida","error"),Ht?.reset?.(),setTimeout(()=>{cu.debug("Tancant modal OCR despr\xE9s de timeout"),fi()},3e3)}finally{try{n&&await n.terminate()}catch{}ve&&(ve.value=""),s_(),Tc(!1),mm=!1}}var Rv="anonymousUserId";function Iv(){try{let e=localStorage.getItem(Rv);return e||(e=`user-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,localStorage.setItem(Rv,e)),e}catch{return`temp-user-${Date.now()}`}}var Bv=document.getElementById("save-pill"),gi=document.querySelector(".tab-content-container"),mi=0,wv=!1,f_=10,m_=150,g_=gi&&parseInt(window.getComputedStyle(gi).paddingBottom,10)||60;function gm(e=mi){wv=e>m_,wv?(Bv.style.bottom=`calc(${e}px + ${f_}px + env(safe-area-inset-bottom, 0px))`,gi&&(gi.style.paddingBottom=`${e+50}px`)):(Bv.style.bottom="calc(20px + env(safe-area-inset-bottom, 0px))",gi&&(gi.style.paddingBottom=`${g_}px`))}if("virtualKeyboard"in navigator)navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",e=>{mi=e.target.boundingRect.height,gm(mi)});else{let e=window.innerHeight;window.addEventListener("resize",()=>{window.innerHeight<e?(mi=e-window.innerHeight,gm(mi)):(mi=0,gm(0))})}var E_=document.querySelectorAll('input:not([type="checkbox"]), select, textarea');var p_=()=>{let e=[".top-bar",".tabs-container"],t=0;return e.forEach(a=>{let n=document.querySelector(a);if(!n)return;let l=n.getBoundingClientRect();l.bottom>t&&(t=l.bottom)}),Math.max(t,0)},Em=()=>{let e=p_();document.documentElement.style.setProperty("--fixed-headers-height",`${e}px`)},pm=()=>{let e=document.querySelector("input.origin");if(!e)return;let t=e.closest(".form-group");if(!t)return;let a=t.querySelector("label");if(!a)return;let n=window.getComputedStyle(a),l=a.offsetHeight,i=parseFloat(n.marginBottom)||0,r=l+i+20;document.documentElement.style.setProperty("--label-space",`${r}px`)};Em();pm();window.addEventListener("resize",()=>{Em(),pm()});window.addEventListener("orientationchange",()=>{Em(),pm()});var h_=e=>{e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})};function S_(e){let t=e.target;t instanceof HTMLElement&&(t.closest(".modal")||setTimeout(()=>{if(!document.body.contains(t))return;if(t.classList.contains("origin")||t.classList.contains("destination")){h_(t);return}t.scrollIntoView({behavior:"smooth",block:"center"})},250))}E_.forEach(e=>{e.addEventListener("focus",S_)});Rt();var y_="notes-selected-service",v_="notes-modal",T_="notes-title",A_="notes-textarea",C_="notes-save",b_="notes-cancel",__="notes-char-counter",Ei,Sm,re,du,hm,qn,Xr=null,Kr=null,Qr=null;function xv(){let e=document.getElementById(y_);e&&(Ei=document.getElementById(v_),Sm=document.getElementById(T_),re=document.getElementById(A_),du=document.getElementById(C_),hm=document.getElementById(b_),qn=document.getElementById(__),!(!Ei||!Sm||!re||!du||!hm||!qn)&&(e.addEventListener("click",()=>{let t=un();D_(t)}),hm.addEventListener("click",ym)))}function D_(e){if(!Ei)return;Sm.textContent=`S${e+1}: Observaciones`,re.value=jt[e]||"";let t=re.maxLength,a=()=>{let n=re.value.length;qn.textContent=`${n} / ${t}`,qn.classList.remove("warning","limit"),re.classList.remove("input-warning","input-error"),n>=t?(qn.classList.add("limit"),re.classList.add("input-error")):n>t*.8&&(qn.classList.add("warning"),re.classList.add("input-warning"))};a(),Kr=()=>{re.value.length>t&&(re.value=re.value.slice(0,t)),a()},re.addEventListener("input",Kr),Qr=n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),re.blur())},re.addEventListener("keydown",Qr),Xr=()=>{let n=re.value.trim(),l=jt[e]||"";if(n===l){ym();return}jt[e]=n,n?b("Observaci\xF3n guardada.","success"):b("Observaci\xF3n eliminada.","info"),ym(),Yt()},du.addEventListener("click",Xr),Ei.style.display="block",document.body.classList.add("modal-open"),setTimeout(()=>{re.focus({preventScroll:!0}),re.setSelectionRange(re.value.length,re.value.length)},0)}function ym(){Ei&&(Xr&&(du.removeEventListener("click",Xr),Xr=null),Kr&&(re.removeEventListener("input",Kr),Kr=null),Qr&&(re.removeEventListener("keydown",Qr),Qr=null),qn.classList.remove("warning","limit"),re.classList.remove("input-warning","input-error"),Ei.style.display="none",document.body.classList.remove("modal-open"))}var O_="https://www.googletagmanager.com/gtag/js?id=G-23SXKMLR75",N_="sha384-npdF2r0gS4VTDBOUWQ32Igb6Tr6PDv4p0eoQI5oJUSutnNpdFb8JFJ7Y8dbvECv7";window.dataLayer=window.dataLayer||[];window.gtag=window.gtag||function(){window.dataLayer.push(arguments)};var M_=e=>{let a=`; ${document.cookie}`.split(`; ${e}=`);if(a.length===2)return a.pop()?.split(";").shift()},zv=(e,t,a)=>{let n=new Date;n.setTime(n.getTime()+a*24*60*60*1e3);let l=`expires=${n.toUTCString()}`;document.cookie=`${e}=${t};${l};path=/;SameSite=Lax;Secure`},pi,vm,Tm,Uv=!1;async function Pv(){Uv||(await ll({src:O_,integrity:N_,referrerPolicy:"strict-origin-when-cross-origin"}),window.gtag("js",new Date),window.gtag("config","G-23SXKMLR75"),Uv=!0)}function L_(){Pv().catch(e=>{console.error("Error carregant Google Analytics:",e)}),zv("cookie_consent","granted",365),fu()}function R_(){typeof window.gtag=="function"&&window.gtag("consent","update",{analytics_storage:"denied"}),zv("cookie_consent","denied",365),fu()}function I_(){pi&&pi.classList.remove("hidden")}function fu(){pi&&pi.classList.add("hidden")}function Vv(){if(pi=document.getElementById("cookie-consent-banner"),vm=document.getElementById("accept-cookies"),Tm=document.getElementById("decline-cookies"),!pi||!vm||!Tm){console.warn("Elements del b\xE0ner de cookies no trobats.");return}let e=M_("cookie_consent");if(window.gtag("consent","default",{analytics_storage:"denied"}),e==="granted"){Pv().catch(t=>{console.error("Error carregant GA despr\xE9s del consentiment guardat:",t)}),fu();return}if(e==="denied"){fu();return}e||(I_(),vm.addEventListener("click",L_),Tm.addEventListener("click",R_))}var mu=["Abella de la Conca","Abrera","Agramunt","Aguilar de Segarra","Agullana","Aiguafreda","Aiguam\xFArcia","Aiguaviva","Aitona","Alam\xFAs, els","Albag\xE9s, l'","Albany\xE0","Albat\xE0rrec","Albesa","Albi, l'","Albinyana","Albiol, l'","Albons","Alcanar","Alcan\xF3","Alcarr\xE0s","Alcoletge","Alcover","Aldea, l'","Aldover","Aleixar, l'","Alella","Alfara de Carles","Alfarr\xE0s","Alforja","Alf\xE9s","Algerri","Alguaire","Alins","Ali\xF3","Almacelles","Almatret","Almenar","Almoster","Alp","Alpens","Alpicat","Alt \xC0neu","Altafulla","Altres/Diversos","Al\xE0s i Cerc","Al\xF2s de Balaguer","Amer","Ametlla de Mar, l'","Ametlla del Vall\xE8s, l'","Ampolla, l'","Amposta","Anglesola","Angl\xE8s","Arbeca","Arbol\xED","Arbo\xE7, l'","Arb\xFAcies","Arenys de Mar","Arenys de Munt","Argelaguer","Argentera, l'","Argentona","Argen\xE7ola","Armentera, l'","Arnes","Arres","Ars\xE8guel","Artesa de Lleida","Artesa de Segre","Art\xE9s","Asc\xF3","Aspa","Avellanes i Santa Linya, les","Avinyonet de Puigvent\xF3s","Avinyonet del Pened\xE8s","Aviny\xF3","Avi\xE0","Badalona","Badia del Vall\xE8s","Bag\xE0","Baix Pallars","Balaguer","Baleny\xE0","Balsareny","Banyeres del Pened\xE8s","Banyoles","Barbens","Barber\xE0 de la Conca","Barber\xE0 del Vall\xE8s","Barcelona","Baronia de Rialb, la","Bassella","Batea","Bausen","Begues","Begur","Belianes","Bell-lloc d'Urgell","Bellaguarda","Bellcaire d'Empord\xE0","Bellcaire d'Urgell","Bellmunt d'Urgell","Bellmunt del Priorat","Bellprat","Bellpuig","Bellvei","Bellver de Cerdanya","Bellv\xEDs","Benavent de Segri\xE0","Benifallet","Benissanet","Berga","Besal\xFA","Bescan\xF3","Beuda","Bigues i Riells del Fai","Biosca","Bisbal d'Empord\xE0, la","Bisbal de Montsant, la","Bisbal del Pened\xE8s, la","Biure","Blancafort","Blanes","Boadella i les Escaules","Bolvir","Bonastre","Bordils","Borges Blanques, les","Borges del Camp, les","Borrass\xE0","Borred\xE0","Boss\xF2st","Bot","Botarell","Bovera","Breda","Bruc, el","Brull, el","Brunyola i Sant Mart\xED Sapresa","Br\xE0fim","B\xE0scara","B\xF2rdes, Es","Cabac\xE9s","Cabanabona","Cabanelles","Cabanes","Cabanyes, les","Cabra del Camp","Cabrera d'Anoia","Cabrera de Mar","Cabrils","Cab\xF3","Cadaqu\xE9s","Calaf","Calafell","Calders","Caldes d'Estrac","Caldes de Malavella","Caldes de Montbui","Calella","Calldetenes","Call\xFAs","Calonge de Segarra","Calonge i Sant Antoni","Camarasa","Camarles","Cambrils","Campdev\xE0nol","Campelles","Campins","Campllong","Camprodon","Cam\xF3s","Canejan","Canet d'Adri","Canet de Mar","Canonja, la","Canovelles","Cantallops","Canyelles","Capafonts","Capellades","Capmany","Capolat","Cap\xE7anes","Cardedeu","Cardona","Carme","Caseres","Casserres","Cass\xE0 de la Selva","Castell d'Aro, Platja d'Aro i s'Agar\xF3","Castell de Mur","Castell de l'Areny","Castellar de la Ribera","Castellar de n'Hug","Castellar del Riu","Castellar del Vall\xE8s","Castellbell i el Vilar","Castellbisbal","Castellcir","Castelldans","Castelldefels","Castellet i la Gornal","Castellfollit de Riubreg\xF3s","Castellfollit de la Roca","Castellfollit del Boix","Castellgal\xED","Castellnou de Bages","Castellnou de Seana","Castellol\xED","Castellser\xE0","Castellter\xE7ol","Castellvell del Camp","Castellv\xED de Rosanes","Castellv\xED de la Marca","Castell\xF3 d'Emp\xFAries","Castell\xF3 de Farfanya","Catllar, el","Cava","Cellera de Ter, la","Celr\xE0","Centelles","Cercs","Cerdanyola del Vall\xE8s","Cervell\xF3","Cervera","Cervi\xE0 de Ter","Cervi\xE0 de les Garrigues","Cistella","Ciutadilla","Clariana de Cardener","Cogul, el","Colera","Coll de Narg\xF3","Collbat\xF3","Colldejou","Collsuspina","Colomers","Coma i la Pedra, la","Conca de Dalt","Conesa","Constant\xED","Copons","Corbera d'Ebre","Corbera de Llobregat","Corbins","Cornell\xE0 de Llobregat","Cornell\xE0 del Terri","Cornudella de Montsant","Cor\xE7\xE0","Creixell","Crespi\xE0","Cru\xEFlles, Monells i Sant Sadurn\xED de l'Heura","Cubelles","Cubells","Cunit","C\xE0noves i Samal\xFAs","Darnius","Das","Deltebre","Dosrius","Duesaig\xFCes","Escala, l'","Esparreguera","Espinelves","Espluga Calba, l'","Espluga de Francol\xED, l'","Esplugues de Llobregat","Espolla","Esponell\xE0","Espot","Espunyola, l'","Esquirol, l'","Estamariu","Estany, l'","Estar\xE0s","Esterri d'\xC0neu","Esterri de Card\xF3s","Falset","Far d'Empord\xE0, el","Farrera","Fatarella, la","Febr\xF3, la","Figar\xF3-Montmany","Figuera, la","Figueres","Figuerola del Camp","Fla\xE7\xE0","Flix","Floresta, la","Fogars de Montcl\xFAs","Fogars de la Selva","Foix\xE0","Folgueroles","Fondarella","Fonollosa","Font-rub\xED","Fontanals de Cerdanya","Fontanilles","Fontcoberta","Foradada","Forallac","Fornells de la Selva","Forti\xE0","For\xE8s","Franqueses del Vall\xE8s, les","Freginals","Fuliola, la","Fulleda","F\xEDgols","F\xEDgols i Aliny\xE0","Gai\xE0","Galera, la","Gallifa","Gandesa","Garcia","Garidells, els","Garriga, la","Garrigoles","Garriguella","Garrig\xE0s","Gavet de la Conca","Gav\xE0","Gelida","Ger","Gimenells i el Pla de la Font","Ginestar","Girona","Gironella","Gisclareny","Godall","Golm\xE9s","Gombr\xE8n","Granada, la","Granadella, la","Granera","Granja d'Escarp, la","Granollers","Granyanella","Granyena de Segarra","Granyena de les Garrigues","Gratallops","Gualba","Gualta","Guardiola de Bergued\xE0","Guiamets, els","Guils de Cerdanya","Guimer\xE0","Guingueta d'\xC0neu, la","Guissona","Guixers","Gurb","G\xF3sol","Horta de Sant Joan","Hospitalet de Llobregat, l'","Hostalets de Pierola, els","Hostalric","Igualada","Isona i Conca Dell\xE0","Is\xF2vol","Ivars d'Urgell","Ivars de Noguera","Ivorra","Jafre","Jonquera, la","Jorba","Josa i Tuix\xE9n","Jui\xE0","Juncosa","Juneda","Les","Linyola","Llacuna, la","Lladorre","Lladurs","Llad\xF3","Llagosta, la","Llagostera","Llambilles","Llanars","Llan\xE7\xE0","Llardecans","Llavors\xED","Lleida","Llers","Lles de Cerdanya","Llimiana","Llinars del Vall\xE8s","Lli\xE7\xE0 d'Amunt","Lli\xE7\xE0 de Vall","Lloar, el","Llobera","Llorac","Lloren\xE7 del Pened\xE8s","Lloret de Mar","Llosses, les","Llu\xE7\xE0","Ll\xEDvia","Madremanya","Maials","Mai\xE0 de Montcal","Mald\xE0","Malgrat de Mar","Malla","Manlleu","Manresa","Margalef","Marganell","Martorell","Martorelles","Mar\xE7\xE0","Mas de Barberans","Masarac i Vilarnadal","Masdenverge","Masies de Roda, les","Masies de Voltreg\xE0, les","Maslloren\xE7","Masnou, el","Maspujols","Masquefa","Masroig, el","Massalcoreig","Massanes","Massoteres","Mas\xF3, la","Matadepera","Matar\xF3","Ma\xE7anet de Cabrenys","Ma\xE7anet de la Selva","Mediona","Men\xE0rguens","Meranges","Mieres","Mil\xE0, el","Miralcamp","Miravet","Moi\xE0","Molar, el","Molins de Rei","Mollerussa","Mollet de Peralada","Mollet del Vall\xE8s","Moll\xF3","Molsosa, la","Monistrol de Calders","Monistrol de Montserrat","Mont-ral","Mont-ras","Mont-roig del Camp","Montagut i Oix","Montblanc","Montbri\xF3 del Camp","Montcada i Reixac","Montclar","Montell\xE0 i Martinet","Montesquiu","Montferrer i Castellb\xF2","Montferri","Montgai","Montgat","Montmajor","Montmaneu","Montmell, el","Montmel\xF3","Montoliu de Lleida","Montoliu de Segarra","Montorn\xE8s de Segarra","Montorn\xE8s del Vall\xE8s","Montseny","Morell, el","Morera de Montsant, la","Muntanyola","Mura","M\xF3ra d'Ebre","M\xF3ra la Nova","Nalec","Naut Aran","Navarcles","Navata","Nav\xE0s","Nav\xE8s","No consta","Nou de Bergued\xE0, la","Nou de Gai\xE0, la","Nulles","Od\xE8n","Ogassa","Olesa de Bonesvalls","Olesa de Montserrat","Oliana","Oliola","Olius","Olivella","Olost","Olot","Oluges, les","Olvan","Ol\xE8rdola","Omellons, els","Omells de na Gaia, els","Ordis","Organy\xE0","Orist\xE0","Orp\xED","Or\xEDs","Os de Balaguer","Osor","Oss\xF3 de Si\xF3","Pacs del Pened\xE8s","Palafolls","Palafrugell","Palam\xF3s","Palau d'Anglesola, el","Palau de Santa Eul\xE0lia","Palau-sator","Palau-saverdera","Palau-solit\xE0 i Plegamans","Pallaresos, els","Pallej\xE0","Palma d'Ebre, la","Palma de Cervell\xF3, la","Palol de Revardit","Pals","Papiol, el","Pardines","Parets del Vall\xE8s","Parlav\xE0","Passanant i Belltall","Pau","Pa\xFCls","Pedret i Marz\xE0","Penelles","Pera, la","Perafita","Perafort","Peralada","Peramola","Perell\xF3, el","Piera","Piles, les","Pineda de Mar","Pinell de Brai, el","Pinell de Solson\xE8s","Pin\xF3s","Pira","Pla de Santa Maria, el","Pla del Pened\xE8s, el","Planes d'Hostoles, les","Planoles","Plans de Si\xF3, els","Poal, el","Pobla de Claramunt, la","Pobla de C\xE9rvoles, la","Pobla de Lillet, la","Pobla de Mafumet, la","Pobla de Massaluca, la","Pobla de Montorn\xE8s, la","Pobla de Segur, la","Poboleda","Poliny\xE0","Pont d'Armentera, el","Pont de Bar, el","Pont de Molins","Pont de Suert, el","Pont de Vilomara i Rocafort, el","Pontils","Pontons","Ponts","Pont\xF3s","Porqueres","Porrera","Port de la Selva, el","Portbou","Portella, la","Pradell de la Teixeta","Prades","Prat de Comte","Prat de Llobregat, el","Pratdip","Prats de Llu\xE7an\xE8s","Prats de Rei, els","Prats i Sansor","Preixana","Preixens","Premi\xE0 de Dalt","Premi\xE0 de Mar","Preses, les","Prullans","Puig-reig","Puigcerd\xE0","Puigd\xE0lber","Puiggr\xF2s","Puigpelat","Puigverd d'Agramunt","Puigverd de Lleida","Pujalt","Quar, la","Quart","Queralbs","Querol","Rab\xF3s","Rajadell","Rasquera","Regenc\xF3s","Rellinars","Renau","Reus","Rialp","Riba, la","Riba-roja d'Ebre","Ribera d'Ondara","Ribera d'Urgellet","Ribes de Freser","Riells i Viabrea","Riera de Gai\xE0, la","Riner","Ripoll","Ripollet","Riu de Cerdanya","Riudarenes","Riudaura","Riudecanyes","Riudecols","Riudellots de la Selva","Riudoms","Riumors","Roca del Vall\xE8s, la","Rocafort de Queralt","Roda de Ber\xE0","Roda de Ter","Rodony\xE0","Roquetes","Roses","Rossell\xF3","Rourell, el","Rubi\xF3","Rub\xED","Rupit i Pruit","Rupi\xE0","R\xE0pita, la","Sabadell","Sag\xE0s","Saldes","Sales de Llierca","Sallent","Salom\xF3","Salou","Salt","Sal\xE0s de Pallars","Sana\xFCja","Sant Adri\xE0 de Bes\xF2s","Sant Agust\xED de Llu\xE7an\xE8s","Sant Andreu Salou","Sant Andreu de Llavaneres","Sant Andreu de la Barca","Sant Aniol de Finestres","Sant Antoni de Vilamajor","Sant Bartomeu del Grau","Sant Boi de Llobregat","Sant Boi de Llu\xE7an\xE8s","Sant Cebri\xE0 de Vallalta","Sant Celoni","Sant Climent Sescebes","Sant Climent de Llobregat","Sant Cugat Sesgarrigues","Sant Cugat del Vall\xE8s","Sant Esteve Sesrovires","Sant Esteve de Palautordera","Sant Esteve de la Sarga","Sant Feliu Sasserra","Sant Feliu de Buixalleu","Sant Feliu de Codines","Sant Feliu de Gu\xEDxols","Sant Feliu de Llobregat","Sant Feliu de Pallerols","Sant Ferriol","Sant Fost de Campsentelles","Sant Fruit\xF3s de Bages","Sant Gregori","Sant Guim de Freixenet","Sant Guim de la Plana","Sant Hilari Sacalm","Sant Hip\xF2lit de Voltreg\xE0","Sant Iscle de Vallalta","Sant J. d'Enveja","Sant J. de Frontany\xE0","Sant J. de Llierca","Sant J. dels Domenys","Sant Joan Desp\xED","Sant Joan de Mollet","Sant Joan de Vilatorrada","Sant Joan de les Abadesses","Sant Joan les Fonts","Sant Jordi Desvalls","Sant Juli\xE0 de Cerdanyola","Sant Juli\xE0 de Ramis","Sant Juli\xE0 de Vilatorta","Sant Juli\xE0 del Llor i Bonmat\xED","Sant Just Desvern","Sant Lloren\xE7 Savall","Sant Lloren\xE7 d'Hortons","Sant Lloren\xE7 de Morunys","Sant Lloren\xE7 de la Muga","Sant Mart\xED Sarroca","Sant Mart\xED Sesgueioles","Sant Mart\xED Vell","Sant Mart\xED d'Albars","Sant Mart\xED de Centelles","Sant Mart\xED de Ll\xE9mena","Sant Mart\xED de Riucorb","Sant Mart\xED de Tous","Sant Mateu de Bages","Sant Miquel de Campmajor","Sant Miquel de Fluvi\xE0","Sant Mori","Sant Pau de Seg\xFAries","Sant Pere Pescador","Sant Pere Sallavinera","Sant Pere de Ribes","Sant Pere de Riudebitlles","Sant Pere de Torell\xF3","Sant Pere de Vilamajor","Sant Pol de Mar","Sant Quint\xED de Mediona","Sant Quirze Safaja","Sant Quirze de Besora","Sant Quirze del Vall\xE8s","Sant Ramon","Sant Sadurn\xED d'Anoia","Sant Sadurn\xED d'Osormort","Sant Salvador de Guardiola","Sant Vicen\xE7 de Castellet","Sant Vicen\xE7 de Montalt","Sant Vicen\xE7 de Torell\xF3","Sant Vicen\xE7 dels Horts","Santa B\xE0rbara","Santa Cec\xEDlia de Voltreg\xE0","Santa Coloma de Cervell\xF3","Santa Coloma de Farners","Santa Coloma de Gramenet","Santa Coloma de Queralt","Santa Cristina d'Aro","Santa Eug\xE8nia de Berga","Santa Eul\xE0lia de Riuprimer","Santa Eul\xE0lia de Ron\xE7ana","Santa Fe del Pened\xE8s","Santa Llogaia d'\xC0lguema","Santa Margarida de Montbui","Santa Margarida i els Monjos","Santa Maria d'Ol\xF3","Santa Maria de Besora","Santa Maria de Martorelles","Santa Maria de Merl\xE8s","Santa Maria de Miralles","Santa Maria de Palautordera","Santa Oliva","Santa Pau","Santa Perp\xE8tua de Mogoda","Santa Susanna","Santpedor","Sarral","Sarri\xE0 de Ter","Sarroca de Bellera","Sarroca de Lleida","Saus, Camallera i Llampaies","Savall\xE0 del Comtat","Secuita, la","Selva de Mar, la","Selva del Camp, la","Senan","Senterada","Sentiu de Si\xF3, la","Sentmenat","Seriny\xE0","Serra de Dar\xF3","Ser\xF2s","Setcases","Seu d'Urgell, la","Seva","Sidamon","Sils","Sitges","Siurana","Sobremunt","Soler\xE0s, el","Solivella","Solsona","Sora","Soriguera","Sort","Soses","Subirats","Sudanell","Sunyer","Susqueda","S\xE9nia, la","S\xFAria","Tagamanent","Talamanca","Talarn","Talavera","Tallada d'Empord\xE0, la","Taradell","Tarragona","Tarroja de Segarra","Tarr\xE9s","Tavertet","Tav\xE8rnoles","Tei\xE0","Terrades","Terrassa","Tiana","Tiurana","Tivenys","Tivissa","Tona","Tordera","Torell\xF3","Torms, els","Tornabous","Torre de Cabdella, la","Torre de Claramunt, la","Torre de Fontaubella, la","Torre de l'Espanyol, la","Torre-serona","Torrebesses","Torredembarra","Torrefarrera","Torrefeta i Florejacs","Torregrossa","Torrelameu","Torrelavit","Torrelles de Foix","Torrelles de Llobregat","Torrent","Torres de Segre","Torroella de Fluvi\xE0","Torroella de Montgr\xED","Torroja del Priorat","Tortell\xE0","Tortosa","Tor\xE0","Toses","Tossa de Mar","Tremp","T\xE0rrega","T\xE9rmens","T\xEDrvia","Ullastrell","Ullastret","Ulldecona","Ulldemolins","Ull\xE0","Ultramort","Ur\xFAs","Vacarisses","Vajol, la","Vall d'en Bas, la","Vall de Bianya, la","Vall de Bo\xED, la","Vall de Card\xF3s","Vall-llobrega","Vallbona d'Anoia","Vallbona de les Monges","Vallcebre","Vallclara","Vallfogona de Balaguer","Vallfogona de Ripoll\xE8s","Vallfogona de Riucorb","Vallgorguina","Vallirana","Vallmoll","Vallromanes","Valls","Valls d'Aguilar, les","Valls de Valira, les","Vandell\xF2s i l'Hospitalet de l'Infant","Vansa i F\xF3rnols, la","Veciana","Vendrell, el","Ventall\xF3","Verd\xFA","Verges","Vespella de Gai\xE0","Vic","Vidreres","Vidr\xE0","Vielha e Mijaran","Vila-rodona","Vila-sacra","Vila-sana","Vila-seca","Vilabella","Vilabertran","Vilablareix","Vilada","Viladamat","Viladasens","Viladecans","Viladecavalls","Vilademuls","Viladrau","Vilafant","Vilafranca del Pened\xE8s","Vilagrassa","Vilaju\xEFga","Vilalba Sasserra","Vilalba dels Arcs","Vilaller","Vilallonga de Ter","Vilallonga del Camp","Vilamacolum","Vilamalla","Vilamaniscle","Vilam\xF2s","Vilanant","Vilanova d'Escornalbou","Vilanova de Bellpuig","Vilanova de Mei\xE0","Vilanova de Prades","Vilanova de Sau","Vilanova de Segri\xE0","Vilanova de l'Aguda","Vilanova de la Barca","Vilanova del Cam\xED","Vilanova del Vall\xE8s","Vilanova i la Geltr\xFA","Vilaplana","Vilassar de Dalt","Vilassar de Mar","Vilaverd","Vila\xFCr","Vilella Alta, la","Vilella Baixa, la","Vilob\xED d'Onyar","Vilob\xED del Pened\xE8s","Vilopriu","Vilosell, el","Vimbod\xED i Poblet","Vinaixa","Vinebre","Vinyols i els Arcs","Viver i Serrateix","Xerta","\xC0ger","\xD2dena","\xD2rrius"],gu=["CAP Les Corts","CAP La Sagrada Fam\xEDlia","CAP El Clot","CAP La Pau","CAP Sant Andreu","CAP Sant Mart\xED","CAP Horta-Guinard\xF3","CAP Nou Barris","CAP Sants-Montju\xEFc","CAP Gr\xE0cia","CAP Sarri\xE0-Sant Gervasi","CAP Badalona Centre","CAP Badalona Pomar","CAP Sta. Coloma Gramenet Nord","CAP Sta. Coloma Gramenet Sud","CAP Montcada i Reixac","CAP Ripollet","CAP Cerdanyola Vall\xE8s","CAP Barber\xE0 Vall\xE8s","CAP Sabadell Centre","CAP Sabadell Nord","CAP Sabadell Sud","CAP Terrassa Nord","CAP Terrassa Sud","CAP Rub\xED","CAP Castellbisbal","CAP Martorell","CAP Abrera","CAP Olesa Montserrat","CAP Esparreguera","CAP Pallej\xE0","CAP Corbera Llobregat","CAP Cervell\xF3","CAP Vallirana","CAP Sant Andreu Barca","CAP Sant Boi Llobregat","CAP Sant Climent Llobregat","CAP Sant Joan Desp\xED","CAP Sant Vicen\xE7 Horts","CAP Cornell\xE0 Llobregat","CAP L'Hospitalet Llobregat Nord","CAP L'Hospitalet Llobregat Sud","CAP Esplugues Llobregat","CAP Viladecans","CAP Gav\xE0","CAP Castelldefels","CAP El Prat Llobregat","CAP Begues","CAP Sitges","CAP Vilanova Geltr\xFA","CAP Cubelles","CAP Cunit","CAP Calafell","CAP El Vendrell","CAP Vilafranca Pened\xE8s","CAP Sant Sadurn\xED Anoia","CAP Igualada","CAP Piera","CAP Capellades","CAP Martorelles","CAP Lli\xE7\xE0 Vall","CAP Granollers Nord","CAP Granollers Sud","CAP Canovelles","CAP Les Franqueses Vall\xE8s","CAP La Garriga","CAP Cardedeu","CAP L'Ametlla Vall\xE8s","CAP Sant Antoni Vilamajor","CAP Sant Celoni","CAP Sant Esteve Palautordera","CAP Sant Pere Vilamajor","CAP Vilalba Sasserra","CAP Matar\xF3 Centre","CAP Matar\xF3 Nord","CAP Matar\xF3 Sud","CAP Argentona","CAP Cabrera Mar","CAP Dosrius","CAP Vilassar Mar","CAP Premi\xE0 Mar","CAP El Masnou","CAP Tei\xE0","CAP Alella","CAP Tiana","CAP Montgat","CAP Tordera","CAP Malgrat Mar","CAP Palafolls","CAP Blanes","CAP Lloret Mar","CAP Tossa Mar","CAP Calella","CAP Pineda Mar","CAP Sta. Susanna","CAP Arenys Mar","CAP Canet Adri","CAP Sant Feliu Llobregat","CAP Molins Rei","CAP Sant Joan Desp\xED","CAP Sant Vicen\xE7 Horts","CAP Cornell\xE0 Llobregat","CAP L'Hospitalet Llobregat","CAP Esplugues Llobregat","CAP Viladecans","CAP Gav\xE0","CAP Castelldefels","CAP El Prat Llobregat","CAP Manresa","CAP Sant Joan Vilatorrada","CAP Sant Fruit\xF3s Bages","CAP Sallent","CAP S\xFAria","CAP Cardona","CAP Solsona","CAP Berga","CAP Puigcerd\xE0","CAP La Seu Urgell","CAP Sort","CAP Vic","CAP Centelles","CAP Torell\xF3","CAP Taradell","CAP Sta. Eug\xE8nia Berga","CAP Moi\xE0","CAP Prats Llu\xE7an\xE8s","CAP Olost","CAP Sta. Maria Ol\xF3","CAP Llu\xE7\xE0","CAP Santpedor","CAP Sant Mateu Bages","CAP Art\xE9s","CAP Aviny\xF3","CAP Castellfollit Boix","CAP Jorba","CAP Sant Mart\xED Sesgueioles","CAP Copons","CAP Sant Sadurn\xED Osormort","CAP Masquefa","CAP Sant Lloren\xE7 Savall","CAP Gallifa","CAP Sant Feliu Sasserra","CAP Sant Quirze Besora","CAP Sant Vicen\xE7 Torell\xF3","CAP Les Masies Voltreg\xE0","CAP Or\xEDs","CAP Sant Boi Llu\xE7an\xE8s","CAP Prats Rei","CAP Girona Centre","CAP Girona Nord","CAP Girona Sud","CAP Salt","CAP Sarri\xE0 Ter","CAP Banyoles","CAP Porqueres","CAP Besal\xFA","CAP Olot","CAP Sta. Pau","CAP Camprodon","CAP Ripoll","CAP Sant Joan Abadesses","CAP Figueres","CAP Llan\xE7\xE0","CAP Castell\xF3 Emp\xFAries","CAP Roses","CAP Cadaqu\xE9s","CAP La Jonquera","CAP Agullana","CAP Ma\xE7anet Selva","CAP Sta. Coloma Farners","CAP Arb\xFAcies","CAP Breda","CAP Riudarenes","CAP Sils","CAP Angl\xE8s","CAP La Cellera Ter","CAP Amer","CAP Sant Hilari Sacalm","CAP Osor","CAP Vidreres","CAP Lloret Mar","CAP Blanes","CAP Tossa Mar","CAP Calonge","CAP Palam\xF3s","CAP Platja Aro","CAP Sta. Cristina Aro","CAP Lleida Centre","CAP Lleida Nord","CAP Lleida Sud","CAP Balaguer","CAP La Seu Urgell","CAP Vielha","CAP Tremp","CAP Sort","CAP Puigcerd\xE0","CAP T\xE0rrega","CAP Cervera","CAP Mollerussa","CAP Artesa Segre","CAP Ponts","CAP Almacelles","CAP Aitona","CAP Ser\xF2s","CAP Torres Segre","CAP Juneda","CAP Les Borges Blanques","CAP Miralcamp","CAP Preixens","CAP Oliana","CAP Organy\xE0","CAP Sant Lloren\xE7 Cardoner","CAP Sant Ramon","CAP Castellbell Vilar","CAP Sant Vicen\xE7 Castellet","CAP Monistrol Montserrat","CAP Marganell","CAP El Bruc","CAP Sant Salvador Guardiola","CAP Nav\xE0s","CAP S\xFAria","CAP Sallent","CAP Cardona","CAP Sant Joan Vilatorrada","CAP Manresa Nord","CAP Manresa Sud","CAP Tarragona Centre","CAP Tarragona Nord","CAP Tarragona Sud","CAP Reus","CAP Constant\xED","CAP Riudoms","CAP Cambrils","CAP Salou","CAP Vila-seca","CAP Torredembarra","CAP Altafulla","CAP Creixell","CAP Roda Ber\xE0","CAP Valls","CAP Nulles","CAP El Pla Pened\xE8s","CAP La Bisbal Pened\xE8s","CAP Sant Jaume Domenys","CAP El Vendrell","CAP Calafell","CAP Cunit","CAP Cubelles","CAP Vilanova Geltr\xFA","CAP Sitges","CAP Sant Pere Ribes","CAP Vilafranca Pened\xE8s","CAP Sant Sadurn\xED Anoia","CAP Subirats","CAP Sant Mart\xED Sarroca","CAP La Granada","CAP Montblanc","CAP La Riba","CAP Falset","CAP M\xF3ra Nova","CAP Gandesa","CAP Tortosa","CAP Amposta","CAP Sant Carles N\xE0utica","CAP Deltebre","CAP Roquetes","CAP Alcanar","CAP Vinar\xF2s","CAP Benicarl\xF3","CAP Pen\xEDscola","CUAP Matar\xF3","CUAP Granollers","CUAP Vic","CUAP Manresa","CUAP Igualada","CUAP Vilafranca Pened\xE8s","CUAP Vilanova Geltr\xFA","CUAP El Vendrell","CUAP Reus","CUAP Tarragona","CUAP Lleida","CUAP Girona","CUAP Figueres","CUAP Blanes","CUAP Olot","CUAP Berga","CUAP Solsona","CUAP Tremp","CUAP La Seu Urgell","CUAP Puigcerd\xE0","AECT H. Cerdanya","CAP Abrera","CAP Alcanar","CAP Amposta","CAP Badalona","CAP Banyoles","CAP Barber\xE0 Vall\xE8s","CAP Barcelona","CAP Bellvitge","CAP Berga","CAP Blanes","CAP Calella","CAP Cambrils","CAP Cerdanyola Vall\xE8s","CAP Cornell\xE0 Llobregat","CAP El Prat Llobregat","CAP El Vendrell","CAP Esplugues Llobregat","CAP Figueres","CAP Gav\xE0","CAP Girona","CAP Granollers","CAP Igualada","CAP L'Hospitalet Llobregat","CAP Lleida","CAP Manresa","CAP Martorell","CAP Matar\xF3","CAP Mollet Vall\xE8s","CAP Montcada i Reixac","CAP Olot","CAP Reus","CAP Ripollet","CAP Rub\xED","CAP Sabadell","CAP Salt","CAP St. Adri\xE0 Bes\xF2s","CAP St. Andreu Barca","CAP St. Boi Llobregat","CAP St. Celoni","CAP St. Cugat Vall\xE8s","CAP St. Feliu Llobregat","CAP St. J. Desp\xED","CAP St. Vicen\xE7 Horts","CAP Sta. Coloma Gramenet","CAP Tarragona","CAP Terrassa","CAP Tortosa","CAP Vic","CAP Viladecans","CAP Vilafranca Pened\xE8s","CAP Vilanova i Geltr\xFA","Espitau Val d'Aran","Fund. H. Esperit St.","Fund. Puigvert","H. Cl\xEDnic Barcelona","H. Com. M\xF3ra d'Ebre","H. Com. St. Antoni Abat","H. Com. St. Bernab\xE9","H. St. Jaume Calella","H. Com. Amposta","H. Comarcal Blanes","H. Com. Alt Pened\xE8s","H. Com. Pallars","H. Dos Maig","H. P. San. St. Joan D\xE9u","H. Gen. Granollers","H. Gen. Hospitalet","H. Munic. Badalona","H. Res. St. Camil","H. St. Joan D\xE9u Esplugues","H. St. J. D\xE9u Manresa","H. St. J. D\xE9u Martorell","H. St. P. i Sta. Tecla","H. Sta. Caterina","H. Arnau Vilanova","H. Bellvitge","H. Dr. Josep Trueta","H. Vall d'Hebron","H. Germans Trias i Pujol","H. J. 23 Tarragona","H. M\xFAtua Terrassa","H. Sta. Maria","H. Igualada","H. St. J. Reus","H. Tortosa Verge Cinta","H. Vic","H. Olot i Com. Garrotxa","H. Campdev\xE0nol","H. Figueres","H. Matar\xF3","H. Mollet","H. Palam\xF3s","H. Sabadell","H. St. Celoni","H. St. J. Desp\xED Broggi","H. Terrassa","H. Viladecans","H. Esperan\xE7a","H. Sta. Creu i St. Pau","H. Mar","H. Vendrell","ICO Badalona","ICO Girona","ICO L'Hospitalet","Inst. Guttmann","Pius H. Valls"],Hv=[...mu,...gu],Gv=new Intl.Collator("ca",{sensitivity:"base"}),jN=[...Hv].sort(Gv.compare),YN=[...Hv].sort(Gv.compare);var Eu=R.withScope("LocationSuggestions"),Fr={ORIGIN_SUGGESTIONS:"locationSuggestions.origin",DESTINATION_SUGGESTIONS:"locationSuggestions.destination"},qv=10,jv=4,B_=6,Yv=3,jn=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),w_=["Barcelona","L'Hospitalet de Llobregat","Badalona","Terrassa","Sabadell","Lleida","Girona","Tarragona","Reus","Manresa","Matar\xF3","Santa Coloma de Gramenet","Cornell\xE0 de Llobregat","Sant Boi de Llobregat","Rub\xED","Vilanova i la Geltr\xFA","Viladecans","El Prat de Llobregat","Granollers","Cerdanyola del Vall\xE8s","Mollet del Vall\xE8s","Castelldefels","Gav\xE0","Martorell","Igualada","Vic","Figueres","Olot","Blanes","Lloret de Mar","Cambrils","Salou","Sitges","Roses","Palafrugell","Sant Cugat del Vall\xE8s","Esplugues de Llobregat","Sant Adri\xE0 de Bes\xF2s","Sant Feliu de Llobregat","Sant Joan Desp\xED","Sant Just Desvern","Parets del Vall\xE8s","Pineda de Mar","Calella","Castellar del Vall\xE8s","Molins de Rei","Ripollet","Berga","La Seu d'Urgell","Puigcerd\xE0","Amposta","Balaguer","Valls","La Bisbal d'Empord\xE0","Palam\xF3s","Platja d'Aro"],Xv=new Map(w_.map((e,t)=>[jn(e),t])),x_=Xv.size+100,U_=e=>{let t=jn(e);return t=t.replace(/hospital comarcal/g,"h. com.").replace(/hospital universitari/g,"h. u.").replace(/hospital general/g,"h. gen.").replace(/hospital/g,"h.").replace(/comarcal/g,"com.").replace(/universitari/g,"u.").replace(/general/g,"gen.").replace(/sant /g,"st. ").replace(/santa /g,"sta. "),[t]},Am=class{constructor(){this.originSuggestions=this.loadSuggestions(Fr.ORIGIN_SUGGESTIONS),this.destinationSuggestions=this.loadSuggestions(Fr.DESTINATION_SUGGESTIONS),this.destinationLookup=this.createDestinationLookup(),this.destinationSuggestions=this.destinationSuggestions.map(t=>this.destinationLookup.get(jn(t))||null).filter(Boolean),this.saveSuggestions(Fr.DESTINATION_SUGGESTIONS,this.destinationSuggestions),this.currentDropdown=null,this.currentInput=null,this.selectedIndex=-1,this.inputDebounceTimer=null,this.scrollAnimationFrame=null,this.visibilityTimeout=null,this.handleWindowScroll=()=>{!this.currentDropdown||!this.currentInput||this.scheduleDropdownReposition()},this.handleWindowResize=()=>{!this.currentDropdown||!this.currentInput||(this.scheduleDropdownReposition(),this.scheduleDropdownVisibilityCheck())},this.handleViewportShift=()=>{!this.currentDropdown||!this.currentInput||(this.scheduleDropdownReposition(),this.scheduleDropdownVisibilityCheck())}}createDestinationLookup(){let t=new Map;return gu.forEach(a=>{t.set(jn(a),a)}),t}loadSuggestions(t){try{let a=localStorage.getItem(t);return a?JSON.parse(a):[]}catch(a){return Eu.warn(`Error carregant suggeriments per ${t}:`,a),[]}}saveSuggestions(t,a){try{localStorage.setItem(t,JSON.stringify(a))}catch(n){Eu.warn(`Error guardant suggeriments per ${t}:`,n)}}addSuggestion(t,a){if(!a||a.trim().length<2)return;let n=a.trim(),l;if(t==="origin")l=this.originSuggestions;else if(t==="destination"){l=this.destinationSuggestions;let r=this.destinationLookup.get(jn(n));if(!r){Eu.warn(`Dest\xED no reconegut. Nom\xE9s s'accepten centres sanitaris p\xFAblics. Valor rebut: "${n}"`);return}n=r}else return;let i=l.indexOf(n);i>-1&&l.splice(i,1),l.unshift(n),l.length>qv&&(l=l.slice(0,qv)),t==="origin"?(this.originSuggestions=l,this.saveSuggestions(Fr.ORIGIN_SUGGESTIONS,l)):(this.destinationSuggestions=l,this.saveSuggestions(Fr.DESTINATION_SUGGESTIONS,l)),this.updateDatalistForType(t)}getSuggestions(t){return t==="origin"?[...this.originSuggestions]:t==="destination"?[...this.destinationSuggestions]:[]}updateDatalists(){this.updateDatalistForType("origin"),this.updateDatalistForType("destination")}getBaseLocations(t){return t==="origin"?mu:gu}calculateMatchScore(t,a,n,l,i){let r=Xv.get(t)??x_,o=/,\s*(el|la|els|les|l')$/i.test(l)?1:0,s=l.includes("-")?1:0,u=a.length>1?0:1;if(!n.length)return{category:0,popularityRank:r,articlePenalty:o,hyphenPenalty:s,multiWordPenalty:u,prefixLengthPenalty:0};let f=c=>c?t.startsWith(c)?0:a.some(g=>g.startsWith(c))?1:2:3;return n.reduce((c,g)=>{let y=-1/0;g.forEach(p=>{y=Math.max(y,f(p))});let T=g[0]?.length??i.primaryLength??0,_=a[0]??"",m=T>0&&_.startsWith(g[0]??"")?Math.abs(_.length-T):_.length,d={category:Number.isFinite(y)?y:3,popularityRank:r,articlePenalty:o,hyphenPenalty:s,multiWordPenalty:u,prefixLengthPenalty:m};return c?this.compareScores(d,c)<0?d:c:d},null)||{category:3,popularityRank:r,articlePenalty:o,hyphenPenalty:s,multiWordPenalty:u,prefixLengthPenalty:a[0]?.length??99}}compareScores(t,a){return t.category!==a.category?t.category-a.category:t.popularityRank!==a.popularityRank?t.popularityRank-a.popularityRank:t.articlePenalty!==a.articlePenalty?t.articlePenalty-a.articlePenalty:t.hyphenPenalty!==a.hyphenPenalty?t.hyphenPenalty-a.hyphenPenalty:t.multiWordPenalty!==a.multiWordPenalty?t.multiWordPenalty-a.multiWordPenalty:t.prefixLengthPenalty!==a.prefixLengthPenalty?t.prefixLengthPenalty-a.prefixLengthPenalty:0}getSuggestionsForInput(t,a="",n={}){if(!n.onlyRecent&&a.trim().length<Yv)return[];let l=U_(a).map(c=>c.split(/\s+/).map(g=>g.trim()).filter(Boolean)).filter(c=>c.length>0),i=jn(a.trim()),o={primaryLength:i.split(/\s+/).map(c=>c.trim()).filter(Boolean)[0]?.length??i.length??0},s=t==="origin"?mu:this.getBaseLocations(t),u=[],f=new Set,E=(c,g)=>{if(!c)return;let y=c.trim();if(!y)return;let T=jn(y),_=T.split(/[\s,\/'.-]+/).map(p=>p.trim()).filter(Boolean);if(!(l.length===0||l.some(p=>p.every(h=>T.includes(h))))||f.has(T))return;f.add(T);let d=this.calculateMatchScore(T,_,l,y,o);u.push({value:y,score:d,index:g})};return s.forEach((c,g)=>E(c,g)),u.sort((c,g)=>{let y=this.compareScores(c.score,g.score);return y!==0?y:c.index-g.index}).slice(0,jv).map(c=>c.value)}getRecentSuggestions(t,a=B_){return(t==="origin"?this.originSuggestions:this.destinationSuggestions).slice(0,a)}updateDatalistForType(t,a="",n={}){let l=t==="origin"?"origin-datalist":"destination-datalist",i;n.onlyRecent?(i=this.getRecentSuggestions(t),i.length||(i=this.getBaseLocations(t).slice(0,jv))):i=this.getSuggestionsForInput(t,a),this.updateDatalist(l,i)}updateDatalist(t,a){let n=document.getElementById(t);n&&(n.innerHTML="",a.forEach(l=>{let i=document.createElement("option");i.value=l,n.appendChild(i)}))}calculateDropdownZIndex(){return 850}getFixedHeadersOffset(){let t=[".top-bar",".tabs-container"],a=0;return t.forEach(n=>{let l=document.querySelector(n);if(!l)return;let i=l.getBoundingClientRect();i.bottom>a&&(a=i.bottom)}),Math.max(a,0)}createCustomDropdown(t,a){if(!a||a.length===0){this.closeDropdown();return}if(this.currentDropdown&&this.currentInput===t){this.updateDropdownOptions(this.currentDropdown,a,t);return}this.closeDropdown();let n=document.createElement("div");n.className="custom-location-dropdown",n.id="custom-location-dropdown";let l=t.getBoundingClientRect();n.style.position="fixed",n.style.top=`${l.bottom}px`,n.style.left=`${l.left}px`,n.style.width=`${l.width}px`,n.style.zIndex=String(this.calculateDropdownZIndex()),t.classList.add("has-dropdown-open"),this.updateDropdownOptions(n,a,t),document.body.appendChild(n),this.currentDropdown=n,this.currentInput=t,this.selectedIndex=-1,this.ensureDropdownVisibility(n,t),this.scheduleDropdownVisibilityCheck(),setTimeout(()=>{document.addEventListener("click",this.handleOutsideClick.bind(this))},0)}updateDropdownOptions(t,a,n){t.innerHTML="",a.forEach((l,i)=>{let r=document.createElement("div");r.className="custom-dropdown-option",r.textContent=l,r.dataset.index=i,r.addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),n.value=l,n.dispatchEvent(new Event("change",{bubbles:!0})),this.closeDropdown()}),r.addEventListener("mouseenter",()=>{this.selectedIndex=i,this.updateSelectedOption(t)}),t.appendChild(r)})}scheduleDropdownReposition(){this.scrollAnimationFrame||(this.scrollAnimationFrame=window.requestAnimationFrame(()=>{if(this.scrollAnimationFrame=null,!(!this.currentDropdown||!this.currentInput)){if(!document.body.contains(this.currentInput)){this.closeDropdown();return}this.repositionDropdown()}}))}scheduleDropdownVisibilityCheck(){this.visibilityTimeout&&clearTimeout(this.visibilityTimeout),this.visibilityTimeout=setTimeout(()=>{this.visibilityTimeout=null,!(!this.currentDropdown||!this.currentInput)&&this.ensureDropdownVisibility(this.currentDropdown,this.currentInput)},160)}repositionDropdown(){if(!this.currentDropdown||!this.currentInput)return;let t=this.currentInput.getBoundingClientRect();this.currentDropdown.style.top=`${t.bottom}px`,this.currentDropdown.style.left=`${t.left}px`,this.currentDropdown.style.width=`${t.width}px`}ensureDropdownVisibility(t,a){let n=window.visualViewport,l=n?.height??window.innerHeight,i=n?.offsetTop??0,r=this.getFixedHeadersOffset(),o=t.getBoundingClientRect(),s=o.top+i,u=s+o.height,f=12,E=16,c=document.scrollingElement||document.documentElement||document.body,g=window.scrollY,y=Math.max((c?.scrollHeight??document.body.scrollHeight)-l,0),T=r+f-s;if(T>0){let A=Math.max(g-T,0);A!==g&&window.scrollTo({top:A,behavior:"smooth"});return}let _=i+l,m=u-(_-E);if(m>0){let A=Math.min(g+m,y);A!==g&&window.scrollTo({top:A,behavior:"smooth"});return}let p=a.getBoundingClientRect().top+i,h=r+f;if(p<h){let A=h-p,I=Math.max(g-A,0);I!==g&&window.scrollTo({top:I,behavior:"smooth"})}}updateSelectedOption(t){if(!t)return;t.querySelectorAll(".custom-dropdown-option").forEach((n,l)=>{l===this.selectedIndex?n.classList.add("selected"):n.classList.remove("selected")})}closeDropdown(){this.currentDropdown&&(this.currentDropdown.remove(),this.currentDropdown=null,this.scrollAnimationFrame&&(cancelAnimationFrame(this.scrollAnimationFrame),this.scrollAnimationFrame=null),this.visibilityTimeout&&(clearTimeout(this.visibilityTimeout),this.visibilityTimeout=null),this.currentInput&&this.currentInput.classList.remove("has-dropdown-open"),this.currentInput=null,this.selectedIndex=-1,document.removeEventListener("click",this.handleOutsideClick.bind(this)))}handleOutsideClick(t){this.currentDropdown&&!this.currentDropdown.contains(t.target)&&t.target!==this.currentInput&&this.closeDropdown()}handleKeyboardNavigation(t,a){if(!a)return;let n=a.querySelectorAll(".custom-dropdown-option");switch(t.key){case"ArrowDown":t.preventDefault(),this.selectedIndex=Math.min(this.selectedIndex+1,n.length-1),this.updateSelectedOption(a),n[this.selectedIndex]?.scrollIntoView({block:"nearest"});break;case"ArrowUp":t.preventDefault(),this.selectedIndex=Math.max(this.selectedIndex-1,-1),this.updateSelectedOption(a),this.selectedIndex>=0&&n[this.selectedIndex]?.scrollIntoView({block:"nearest"});break;case"Enter":if(t.preventDefault(),this.selectedIndex>=0&&n[this.selectedIndex]){let l=n[this.selectedIndex].textContent;this.currentInput.value=l,this.currentInput.dispatchEvent(new Event("change",{bubbles:!0})),this.closeDropdown()}break;case"Escape":t.preventDefault(),this.closeDropdown();break}}init(){Eu.info("Inicialitzant servei de suggeriments de localitzacions"),this.createDatalists(),this.updateDatalists(),this.addInputListeners()}createDatalists(){let t=document.querySelectorAll(".origin"),a=document.querySelectorAll(".destination");t.forEach(n=>{n.setAttribute("autocomplete","off"),n.removeAttribute("list")}),a.forEach(n=>{n.setAttribute("autocomplete","off"),n.removeAttribute("list")})}addInputListeners(){document.addEventListener("focus",t=>{let a=t.target;a instanceof HTMLInputElement&&(a.classList.contains("origin")||a.classList.contains("destination"))&&this.closeDropdown()},!0),document.addEventListener("input",t=>{let a=t.target;if(!(a instanceof HTMLInputElement))return;let n=null;if(a.classList.contains("origin")?n="origin":a.classList.contains("destination")&&(n="destination"),n){let l=a.value.trim();this.inputDebounceTimer&&clearTimeout(this.inputDebounceTimer),l.length>=Yv?this.inputDebounceTimer=setTimeout(()=>{let i=this.getSuggestionsForInput(n,l);this.createCustomDropdown(a,i)},300):this.closeDropdown()}}),document.addEventListener("keydown",t=>{let a=t.target;a instanceof HTMLInputElement&&(a.classList.contains("origin")||a.classList.contains("destination"))&&this.currentDropdown&&this.handleKeyboardNavigation(t,this.currentDropdown)}),window.addEventListener("scroll",this.handleWindowScroll,!0),window.addEventListener("resize",this.handleWindowResize),window.visualViewport&&(window.visualViewport.addEventListener("resize",this.handleViewportShift),window.visualViewport.addEventListener("scroll",this.handleViewportShift))}},z_=new Am,Kv=()=>z_.init();var ya=R.withScope("BackupService"),P_="diet-backups",V_=1,H_=5;async function G_(){return new Promise((e,t)=>{let a=indexedDB.open(P_,V_);a.onerror=()=>{ya.error("Error obrint base de dades de backups"),t(a.error)},a.onsuccess=()=>{e(a.result)},a.onupgradeneeded=n=>{let l=n.target.result;if(!l.objectStoreNames.contains("backups")){let i=l.createObjectStore("backups",{keyPath:"id",autoIncrement:!0});i.createIndex("timestamp","timestamp",{unique:!1}),i.createIndex("type","type",{unique:!1}),ya.debug("Object store de backups creat")}}})}async function q_(e){try{let a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){return ya.error("Error calculant checksum:",t),""}}async function j_(e=null,t="manual"){try{ya.debug(`Creant backup tipus "${t}"...`),e||(e=await Ca());let a=JSON.stringify(e),n=await q_(a),l={version:"2.0.1",type:t,timestamp:Date.now(),date:new Date().toISOString(),totalDiets:e.length,data:e,checksum:n,metadata:{userAgent:navigator.userAgent,platform:navigator.platform}};return await Y_(l),ya.debug(`\u2705 Backup creat: ${e.length} dietes, ${(a.length/1024).toFixed(2)} KB`),l}catch(a){throw ya.error("Error creant backup:",a),a}}async function Y_(e){let t=await G_();return new Promise((a,n)=>{let i=t.transaction(["backups"],"readwrite").objectStore("backups"),r=i.add(e);r.onsuccess=async()=>{await X_(i),a()},r.onerror=()=>n(r.error)})}async function X_(e){return new Promise(t=>{let n=e.index("timestamp").openCursor(null,"prev"),l=0,i=[];n.onsuccess=r=>{let o=r.target.result;o?(l++,l>H_&&i.push(o.primaryKey),o.continue()):(i.forEach(s=>e.delete(s)),i.length>0&&ya.debug(`Netejats ${i.length} backups antics`),t())}})}async function Qv(e){ya.debug("\u{1F4BE} Creant backup de seguretat abans de migraci\xF3...");let t=await j_(e,"pre-migration");return ya.debug("\u2705 Backup de seguretat creat"),t}Rt();var oe=R.withScope("DataMigration"),K_="migration-v2.0.1-encryption",Q_="migration-progress",Fv=3,F_=1e3,Cm=class{constructor(){this.migrationKey=K_,this.migrationStatus=null,this.isRunning=!1}async runIfNeeded(){if(this.isRunning)return oe.debug("Migraci\xF3 ja en curs, saltant..."),{alreadyRunning:!0};if(await this.isAlreadyMigrated())return oe.debug("\u2705 Migraci\xF3 ja completada anteriorment"),{alreadyMigrated:!0};oe.debug("\u{1F50D} Comprovant si cal migrar dietes...");try{this.isRunning=!0,await dn()||(oe.debug("\u{1F510} Inicialitzant sistema de claus..."),await cn());let t=await Ca(),a=t.filter(l=>!oo(l));return a.length===0?(oe.debug("\u2705 No hi ha dietes per migrar"),await this.markAsMigrated(),{migrated:0,total:t.length,errors:0}):(oe.debug(`\u{1F4CA} Trobades ${a.length} dietes per migrar (de ${t.length} totals)`),await this.migrate(a))}catch(t){throw oe.error("\u274C Error en runIfNeeded:",t),t}finally{this.isRunning=!1}}async migrate(t){let a=t.length,n=0,l=0,i=[];try{oe.debug("\u{1F4BE} Creant backup de seguretat..."),await Qv(t),oe.debug("\u2705 Backup de seguretat creat"),this.showMigrationStartNotification(a);let r=await Xt();for(let o=0;o<t.length;o++){let s=t[o];try{let u=await this.migrateSingleDietWithRetry(s,r);u.success?n++:(l++,i.push({dietId:s.id,error:u.error,attempts:u.attempts})),(n%5===0||n===a)&&this.updateMigrationProgress(n,a)}catch(u){oe.error(`\u274C Error cr\xEDtic migrant dieta ${s.id}:`,u),l++,i.push({dietId:s.id,error:u.message,attempts:Fv})}}return await this.markAsMigrated(),this.showMigrationResult(n,l,a),oe.debug(`\u2705 Migraci\xF3 completada: ${n}/${a} (${l} errors)`),{migrated:n,errors:l,total:a,errorDetails:i.length>0?i:void 0}}catch(r){throw oe.error("\u274C Error durant la migraci\xF3:",r),this.showMigrationError(r),r}}async migrateSingleDietWithRetry(t,a,n=Fv){for(let l=1;l<=n;l++)try{return oe.debug(`Intent ${l}/${n} per dieta ${t.id}`),await this.migrateSingleDiet(t,a),oe.debug(`\u2705 Dieta ${t.id} migrada (intent ${l})`),{success:!0,attempts:l}}catch(i){if(oe.warn(`\u26A0\uFE0F Intent ${l}/${n} fallat per dieta ${t.id}: ${i.message}`),l===n)return oe.error(`\u274C Dieta ${t.id} no s'ha pogut migrar despr\xE9s de ${n} intents`),{success:!1,error:i.message,attempts:l};let r=F_*l;oe.debug(`\u23F3 Esperant ${r}ms abans de reintentar...`),await new Promise(o=>setTimeout(o,r))}return{success:!1,error:"Unknown error during migration",attempts:n}}async migrateSingleDiet(t,a){try{let n=await so(t,a),l=await uo(n,a),i=this.extractSensitiveData(t),r=this.extractSensitiveData(l),o=JSON.stringify(i),s=JSON.stringify(r);if(o!==s)throw new Error("Validation failed: data mismatch after decrypt");await co(t.id,n),oe.debug(`\u2705 Dieta ${t.id} migrada i validada`)}catch(n){throw oe.error(`Error migrant dieta ${t.id}:`,n),n}}extractSensitiveData(t){return{person1:t.person1||"",person2:t.person2||"",vehicleNumber:t.vehicleNumber||"",signatureConductor:t.signatureConductor||"",signatureAjudant:t.signatureAjudant||"",services:(t.services||[]).map(a=>({serviceNumber:a.serviceNumber||"",origin:a.origin||"",destination:a.destination||"",notes:a.notes||""}))}}showMigrationStartNotification(t){b(`\u{1F512} Protegint ${t} dietes...`,{duration:2e3,type:"info"})}updateMigrationProgress(t,a){let n=Math.round(t/a*100);oe.debug(`\u{1F504} Migraci\xF3: ${t}/${a} (${n}%)`),b(`\u{1F512} Protegint dades... ${t}/${a}`,{duration:1e3,id:Q_,type:"info"})}showMigrationResult(t,a,n){a===0?b(`\u2705 ${t} dietes ara estan protegides`,{duration:4e3,type:"success"}):t>0&&a<n?b(`\u26A0\uFE0F ${t}/${n} dietes protegides. ${a} amb errors (es reintentaran autom\xE0ticament)`,{duration:7e3,type:"warning"}):t===0?b("\u274C No s'han pogut migrar les dietes. Proveu recarregar la p\xE0gina.",{duration:8e3,type:"error"}):b(`\u2139\uFE0F ${t} dietes migrades, ${a} amb errors`,{duration:5e3,type:"warning"})}showMigrationError(t){b(`\u274C Error en la migraci\xF3: ${t.message}`,{duration:5e3,type:"error"})}async isAlreadyMigrated(){return localStorage.getItem(this.migrationKey)==="completed"}async markAsMigrated(){localStorage.setItem(this.migrationKey,"completed"),localStorage.setItem(`${this.migrationKey}-date`,new Date().toISOString()),oe.debug("\u2705 Migraci\xF3 marcada com a completada")}async resetMigrationStatus(){localStorage.removeItem(this.migrationKey),localStorage.removeItem(`${this.migrationKey}-date`),oe.warn("\u26A0\uFE0F Estat de migraci\xF3 resetejat")}getMigrationStatus(){let t=localStorage.getItem(this.migrationKey)==="completed",a=localStorage.getItem(`${this.migrationKey}-date`);return{completed:t,date:a?new Date(a):null,isRunning:this.isRunning}}},Zv=new Cm;var rt=R.withScope("Init");function Z_(){let e=document.getElementById(Y.DONATION_LINK_ID);if(!e)return rt.warn("No s'ha trobat l'enlla\xE7 de donaci\xF3.");let t=Iv();try{let a=new URL(e.href);a.searchParams.set("custom",t),e.href=a.toString(),rt.info("Enlla\xE7 de donaci\xF3 actualitzat amb ID an\xF2nim.")}catch(a){rt.error("Error modificant l'URL de donaci\xF3:",a)}}async function Jv(){try{rt.info("initializeApp() iniciant...");try{rt.debug("\u{1F510} Inicialitzant sistema de claus..."),await cn(),rt.debug("\u2705 Sistema de claus inicialitzat")}catch(t){rt.warn("Error inicialitzant sistema de claus (continuant sense encriptaci\xF3):",t)}cg(),fg(),await ag(),setTimeout(async()=>{try{rt.debug("\u{1F504} Executant migraci\xF3 autom\xE0tica...");let t=await Zv.runIfNeeded();rt.debug("\u{1F4CA} Resultat migraci\xF3:",t)}catch(t){rt.error("Error en migraci\xF3 autom\xE0tica:",t)}},1e3),Vm(),iE(),await cl.init(),Lv(),Kv(),dE(),eE(),pE(),hE(),xv(),$g(),SE(),yE(),bE(),EE(),Z_(),TE(),wm(),oE(),sE(),uE();let e=document.getElementById("service-type");if(e){let t=localStorage.getItem(Om.USER_SELECTED_SERVICE_TYPE);(t==="TSU"||t==="TSNU")&&(e.value=t,rt.debug(`[LocalStorage] Carregat tipus de servei: ${t}`)),kn(e.value)}Wn(),mg(),Vv(),rt.info("initializeApp() completada.")}catch(e){rt.error("Error en la inicialitzaci\xF3 de l'app:",e)}}if(typeof console<"u"){let e=console.warn;console.warn=function(...t){let a=t[0];typeof a=="string"&&a.includes("Ignored attempt to cancel a touchmove event")||e.apply(console,t)}}window.getOCRFeedbackManager=Yr;window.createOCRFeedbackManager=um;window.destroyOCRFeedbackManager=hv;async function kv(){try{document.body.classList.add("app-ready"),document.body.classList.remove("no-js"),await Jv(),yg()}catch{window.location.reload()}}function J_(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",kv,{once:!0}):kv()}J_();})();
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
