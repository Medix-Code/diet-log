(()=>{var jv=Object.create;var Sm=Object.defineProperty;var Yv=Object.getOwnPropertyDescriptor;var Xv=Object.getOwnPropertyNames;var Kv=Object.getPrototypeOf,Qv=Object.prototype.hasOwnProperty;var ha=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Fv=(e,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of Xv(t))!Qv.call(e,l)&&l!==a&&Sm(e,l,{get:()=>t[l],enumerable:!(n=Yv(t,l))||n.enumerable});return e};var mu=(e,t,a)=>(a=e!=null?jv(Kv(e)):{},Fv(t||!e||!e.__esModule?Sm(a,"default",{value:e,enumerable:!0}):a,e));var DE=ha(M=>{"use strict";var hc=Symbol.for("react.transitional.element"),w0=Symbol.for("react.portal"),x0=Symbol.for("react.fragment"),U0=Symbol.for("react.strict_mode"),z0=Symbol.for("react.profiler"),P0=Symbol.for("react.consumer"),V0=Symbol.for("react.context"),H0=Symbol.for("react.forward_ref"),G0=Symbol.for("react.suspense"),q0=Symbol.for("react.memo"),vE=Symbol.for("react.lazy"),j0=Symbol.for("react.activity"),pE=Symbol.iterator;function Y0(e){return e===null||typeof e!="object"?null:(e=pE&&e[pE]||e["@@iterator"],typeof e=="function"?e:null)}var TE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AE=Object.assign,CE={};function ml(e,t,a){this.props=e,this.context=t,this.refs=CE,this.updater=a||TE}ml.prototype.isReactComponent={};ml.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ml.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bE(){}bE.prototype=ml.prototype;function Sc(e,t,a){this.props=e,this.context=t,this.refs=CE,this.updater=a||TE}var yc=Sc.prototype=new bE;yc.constructor=Sc;AE(yc,ml.prototype);yc.isPureReactComponent=!0;var hE=Array.isArray;function pc(){}var Z={H:null,A:null,T:null,S:null},_E=Object.prototype.hasOwnProperty;function vc(e,t,a){var n=a.ref;return{$$typeof:hc,type:e,key:t,ref:n!==void 0?n:null,props:a}}function X0(e,t){return vc(e.type,t,e.props)}function Tc(e){return typeof e=="object"&&e!==null&&e.$$typeof===hc}function K0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var SE=/\/+/g;function Ec(e,t){return typeof e=="object"&&e!==null&&e.key!=null?K0(""+e.key):t.toString(36)}function Q0(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(pc,pc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function fl(e,t,a,n,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(i){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case hc:case w0:r=!0;break;case vE:return r=e._init,fl(r(e._payload),t,a,n,l)}}if(r)return l=l(e),r=n===""?"."+Ec(e,0):n,hE(l)?(a="",r!=null&&(a=r.replace(SE,"$&/")+"/"),fl(l,t,a,"",function(u){return u})):l!=null&&(Tc(l)&&(l=X0(l,a+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(SE,"$&/")+"/")+r)),t.push(l)),1;r=0;var o=n===""?".":n+":";if(hE(e))for(var s=0;s<e.length;s++)n=e[s],i=o+Ec(n,s),r+=fl(n,t,a,i,l);else if(s=Y0(e),typeof s=="function")for(e=s.call(e),s=0;!(n=e.next()).done;)n=n.value,i=o+Ec(n,s++),r+=fl(n,t,a,i,l);else if(i==="object"){if(typeof e.then=="function")return fl(Q0(e),t,a,n,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function No(e,t,a){if(e==null)return e;var n=[],l=0;return fl(e,n,"","",function(i){return t.call(a,i,l++)}),n}function F0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yE=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Z0={map:No,forEach:function(e,t,a){No(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return No(e,function(){t++}),t},toArray:function(e){return No(e,function(t){return t})||[]},only:function(e){if(!Tc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Activity=j0;M.Children=Z0;M.Component=ml;M.Fragment=x0;M.Profiler=z0;M.PureComponent=Sc;M.StrictMode=U0;M.Suspense=G0;M.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z;M.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Z.H.useMemoCache(e)}};M.cache=function(e){return function(){return e.apply(null,arguments)}};M.cacheSignal=function(){return null};M.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=AE({},e.props),l=e.key;if(t!=null)for(i in t.key!==void 0&&(l=""+t.key),t)!_E.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var r=Array(i),o=0;o<i;o++)r[o]=arguments[o+2];n.children=r}return vc(e.type,l,n)};M.createContext=function(e){return e={$$typeof:V0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:P0,_context:e},e};M.createElement=function(e,t,a){var n,l={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)_E.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(l[n]=t[n]);var r=arguments.length-2;if(r===1)l.children=a;else if(1<r){for(var o=Array(r),s=0;s<r;s++)o[s]=arguments[s+2];l.children=o}if(e&&e.defaultProps)for(n in r=e.defaultProps,r)l[n]===void 0&&(l[n]=r[n]);return vc(e,i,l)};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:H0,render:e}};M.isValidElement=Tc;M.lazy=function(e){return{$$typeof:vE,_payload:{_status:-1,_result:e},_init:F0}};M.memo=function(e,t){return{$$typeof:q0,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=Z.T,a={};Z.T=a;try{var n=e(),l=Z.S;l!==null&&l(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(pc,yE)}catch(i){yE(i)}finally{t!==null&&a.types!==null&&(t.types=a.types),Z.T=t}};M.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()};M.use=function(e){return Z.H.use(e)};M.useActionState=function(e,t,a){return Z.H.useActionState(e,t,a)};M.useCallback=function(e,t){return Z.H.useCallback(e,t)};M.useContext=function(e){return Z.H.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e,t){return Z.H.useDeferredValue(e,t)};M.useEffect=function(e,t){return Z.H.useEffect(e,t)};M.useEffectEvent=function(e){return Z.H.useEffectEvent(e)};M.useId=function(){return Z.H.useId()};M.useImperativeHandle=function(e,t,a){return Z.H.useImperativeHandle(e,t,a)};M.useInsertionEffect=function(e,t){return Z.H.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return Z.H.useLayoutEffect(e,t)};M.useMemo=function(e,t){return Z.H.useMemo(e,t)};M.useOptimistic=function(e,t){return Z.H.useOptimistic(e,t)};M.useReducer=function(e,t,a){return Z.H.useReducer(e,t,a)};M.useRef=function(e){return Z.H.useRef(e)};M.useState=function(e){return Z.H.useState(e)};M.useSyncExternalStore=function(e,t,a){return Z.H.useSyncExternalStore(e,t,a)};M.useTransition=function(){return Z.H.useTransition()};M.version="19.2.0"});var Pi=ha((K1,OE)=>{"use strict";OE.exports=DE()});var zE=ha(W=>{"use strict";function _c(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,l=e[n];if(0<Mo(l,t))e[n]=t,e[a]=l,a=n;else break e}}function Rt(e){return e.length===0?null:e[0]}function Ro(e){if(e.length===0)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,l=e.length,i=l>>>1;n<i;){var r=2*(n+1)-1,o=e[r],s=r+1,u=e[s];if(0>Mo(o,a))s<l&&0>Mo(u,o)?(e[n]=u,e[s]=a,n=s):(e[n]=o,e[r]=a,n=r);else if(s<l&&0>Mo(u,a))e[n]=u,e[s]=a,n=s;else break e}}return t}function Mo(e,t){var a=e.sortIndex-t.sortIndex;return a!==0?a:e.id-t.id}W.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(NE=performance,W.unstable_now=function(){return NE.now()}):(Ac=Date,ME=Ac.now(),W.unstable_now=function(){return Ac.now()-ME});var NE,Ac,ME,Jt=[],Na=[],J0=1,ut=null,Ie=3,Dc=!1,Vi=!1,Hi=!1,Oc=!1,IE=typeof setTimeout=="function"?setTimeout:null,BE=typeof clearTimeout=="function"?clearTimeout:null,LE=typeof setImmediate<"u"?setImmediate:null;function Lo(e){for(var t=Rt(Na);t!==null;){if(t.callback===null)Ro(Na);else if(t.startTime<=e)Ro(Na),t.sortIndex=t.expirationTime,_c(Jt,t);else break;t=Rt(Na)}}function Nc(e){if(Hi=!1,Lo(e),!Vi)if(Rt(Jt)!==null)Vi=!0,El||(El=!0,gl());else{var t=Rt(Na);t!==null&&Mc(Nc,t.startTime-e)}}var El=!1,Gi=-1,wE=5,xE=-1;function UE(){return Oc?!0:!(W.unstable_now()-xE<wE)}function Cc(){if(Oc=!1,El){var e=W.unstable_now();xE=e;var t=!0;try{e:{Vi=!1,Hi&&(Hi=!1,BE(Gi),Gi=-1),Dc=!0;var a=Ie;try{t:{for(Lo(e),ut=Rt(Jt);ut!==null&&!(ut.expirationTime>e&&UE());){var n=ut.callback;if(typeof n=="function"){ut.callback=null,Ie=ut.priorityLevel;var l=n(ut.expirationTime<=e);if(e=W.unstable_now(),typeof l=="function"){ut.callback=l,Lo(e),t=!0;break t}ut===Rt(Jt)&&Ro(Jt),Lo(e)}else Ro(Jt);ut=Rt(Jt)}if(ut!==null)t=!0;else{var i=Rt(Na);i!==null&&Mc(Nc,i.startTime-e),t=!1}}break e}finally{ut=null,Ie=a,Dc=!1}t=void 0}}finally{t?gl():El=!1}}}var gl;typeof LE=="function"?gl=function(){LE(Cc)}:typeof MessageChannel<"u"?(bc=new MessageChannel,RE=bc.port2,bc.port1.onmessage=Cc,gl=function(){RE.postMessage(null)}):gl=function(){IE(Cc,0)};var bc,RE;function Mc(e,t){Gi=IE(function(){e(W.unstable_now())},t)}W.unstable_IdlePriority=5;W.unstable_ImmediatePriority=1;W.unstable_LowPriority=4;W.unstable_NormalPriority=3;W.unstable_Profiling=null;W.unstable_UserBlockingPriority=2;W.unstable_cancelCallback=function(e){e.callback=null};W.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wE=0<e?Math.floor(1e3/e):5};W.unstable_getCurrentPriorityLevel=function(){return Ie};W.unstable_next=function(e){switch(Ie){case 1:case 2:case 3:var t=3;break;default:t=Ie}var a=Ie;Ie=t;try{return e()}finally{Ie=a}};W.unstable_requestPaint=function(){Oc=!0};W.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=Ie;Ie=e;try{return t()}finally{Ie=a}};W.unstable_scheduleCallback=function(e,t,a){var n=W.unstable_now();switch(typeof a=="object"&&a!==null?(a=a.delay,a=typeof a=="number"&&0<a?n+a:n):a=n,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=a+l,e={id:J0++,callback:t,priorityLevel:e,startTime:a,expirationTime:l,sortIndex:-1},a>n?(e.sortIndex=a,_c(Na,e),Rt(Jt)===null&&e===Rt(Na)&&(Hi?(BE(Gi),Gi=-1):Hi=!0,Mc(Nc,a-n))):(e.sortIndex=l,_c(Jt,e),Vi||Dc||(Vi=!0,El||(El=!0,gl()))),e};W.unstable_shouldYield=UE;W.unstable_wrapCallback=function(e){var t=Ie;return function(){var a=Ie;Ie=t;try{return e.apply(this,arguments)}finally{Ie=a}}}});var VE=ha((F1,PE)=>{"use strict";PE.exports=zE()});var GE=ha(ze=>{"use strict";var k0=Pi();function HE(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ma(){}var Ue={d:{f:Ma,r:function(){throw Error(HE(522))},D:Ma,C:Ma,L:Ma,m:Ma,X:Ma,S:Ma,M:Ma},p:0,findDOMNode:null},$0=Symbol.for("react.portal");function W0(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var qi=k0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Io(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ue;ze.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(HE(299));return W0(e,t,null,a)};ze.flushSync=function(e){var t=qi.T,a=Ue.p;try{if(qi.T=null,Ue.p=2,e)return e()}finally{qi.T=t,Ue.p=a,Ue.d.f()}};ze.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ue.d.C(e,t))};ze.prefetchDNS=function(e){typeof e=="string"&&Ue.d.D(e)};ze.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=Io(a,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?Ue.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:l,fetchPriority:i}):a==="script"&&Ue.d.X(e,{crossOrigin:n,integrity:l,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};ze.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=Io(t.as,t.crossOrigin);Ue.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ue.d.M(e)};ze.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=Io(a,t.crossOrigin);Ue.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};ze.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=Io(t.as,t.crossOrigin);Ue.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ue.d.m(e)};ze.requestFormReset=function(e){Ue.d.r(e)};ze.unstable_batchedUpdates=function(e,t){return e(t)};ze.useFormState=function(e,t,a){return qi.H.useFormState(e,t,a)};ze.useFormStatus=function(){return qi.H.useHostTransitionStatus()};ze.version="19.2.0"});var YE=ha((J1,jE)=>{"use strict";function qE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qE)}catch(e){console.error(e)}}qE(),jE.exports=GE()});var av=ha(nu=>{"use strict";var Se=VE(),ph=Pi(),eA=YE();function S(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function hh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nr(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Sh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yh(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function XE(e){if(Nr(e)!==e)throw Error(S(188))}function tA(e){var t=e.alternate;if(!t){if(t=Nr(e),t===null)throw Error(S(188));return t!==e?null:e}for(var a=e,n=t;;){var l=a.return;if(l===null)break;var i=l.alternate;if(i===null){if(n=l.return,n!==null){a=n;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===a)return XE(l),e;if(i===n)return XE(l),t;i=i.sibling}throw Error(S(188))}if(a.return!==n.return)a=l,n=i;else{for(var r=!1,o=l.child;o;){if(o===a){r=!0,a=l,n=i;break}if(o===n){r=!0,n=l,a=i;break}o=o.sibling}if(!r){for(o=i.child;o;){if(o===a){r=!0,a=i,n=l;break}if(o===n){r=!0,n=i,a=l;break}o=o.sibling}if(!r)throw Error(S(189))}}if(a.alternate!==n)throw Error(S(190))}if(a.tag!==3)throw Error(S(188));return a.stateNode.current===a?e:t}function vh(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=vh(e),t!==null)return t;e=e.sibling}return null}var $=Object.assign,aA=Symbol.for("react.element"),Bo=Symbol.for("react.transitional.element"),Ji=Symbol.for("react.portal"),Tl=Symbol.for("react.fragment"),Th=Symbol.for("react.strict_mode"),ud=Symbol.for("react.profiler"),Ah=Symbol.for("react.consumer"),la=Symbol.for("react.context"),lf=Symbol.for("react.forward_ref"),cd=Symbol.for("react.suspense"),dd=Symbol.for("react.suspense_list"),rf=Symbol.for("react.memo"),La=Symbol.for("react.lazy");Symbol.for("react.scope");var fd=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var nA=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var KE=Symbol.iterator;function ji(e){return e===null||typeof e!="object"?null:(e=KE&&e[KE]||e["@@iterator"],typeof e=="function"?e:null)}var lA=Symbol.for("react.client.reference");function md(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===lA?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tl:return"Fragment";case ud:return"Profiler";case Th:return"StrictMode";case cd:return"Suspense";case dd:return"SuspenseList";case fd:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ji:return"Portal";case la:return e.displayName||"Context";case Ah:return(e._context.displayName||"Context")+".Consumer";case lf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rf:return t=e.displayName||null,t!==null?t:md(e.type)||"Memo";case La:t=e._payload,e=e._init;try{return md(e(t))}catch{}}return null}var ki=Array.isArray,O=ph.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=eA.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bn={pending:!1,data:null,method:null,action:null},gd=[],Al=-1;function Ut(e){return{current:e}}function Ce(e){0>Al||(e.current=gd[Al],gd[Al]=null,Al--)}function F(e,t){Al++,gd[Al]=e.current,e.current=t}var xt=Ut(null),gr=Ut(null),Ga=Ut(null),fs=Ut(null);function ms(e,t){switch(F(Ga,t),F(gr,e),F(xt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wp(t),e=qy(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ce(xt),F(xt,e)}function Hl(){Ce(xt),Ce(gr),Ce(Ga)}function Ed(e){e.memoizedState!==null&&F(fs,e);var t=xt.current,a=qy(t,e.type);t!==a&&(F(gr,e),F(xt,a))}function gs(e){gr.current===e&&(Ce(xt),Ce(gr)),fs.current===e&&(Ce(fs),_r._currentValue=bn)}var Lc,QE;function vn(e){if(Lc===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Lc=t&&t[1]||"",QE=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lc+e+QE}var Rc=!1;function Ic(e,t){if(!e||Rc)return"";Rc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var E=function(){throw Error()};if(Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(g){var c=g}Reflect.construct(e,[],E)}else{try{E.call()}catch(g){c=g}e.call(E.prototype)}}else{try{throw Error()}catch(g){c=g}(E=e())&&typeof E.catch=="function"&&E.catch(function(){})}}catch(g){if(g&&c&&typeof g.stack=="string")return[g.stack,c.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),r=i[0],o=i[1];if(r&&o){var s=r.split(`
`),u=o.split(`
`);for(l=n=0;n<s.length&&!s[n].includes("DetermineComponentFrameRoot");)n++;for(;l<u.length&&!u[l].includes("DetermineComponentFrameRoot");)l++;if(n===s.length||l===u.length)for(n=s.length-1,l=u.length-1;1<=n&&0<=l&&s[n]!==u[l];)l--;for(;1<=n&&0<=l;n--,l--)if(s[n]!==u[l]){if(n!==1||l!==1)do if(n--,l--,0>l||s[n]!==u[l]){var f=`
`+s[n].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=n&&0<=l);break}}}finally{Rc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?vn(a):""}function iA(e,t){switch(e.tag){case 26:case 27:case 5:return vn(e.type);case 16:return vn("Lazy");case 13:return e.child!==t&&t!==null?vn("Suspense Fallback"):vn("Suspense");case 19:return vn("SuspenseList");case 0:case 15:return Ic(e.type,!1);case 11:return Ic(e.type.render,!1);case 1:return Ic(e.type,!0);case 31:return vn("Activity");default:return""}}function FE(e){try{var t="",a=null;do t+=iA(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var pd=Object.prototype.hasOwnProperty,of=Se.unstable_scheduleCallback,Bc=Se.unstable_cancelCallback,rA=Se.unstable_shouldYield,oA=Se.unstable_requestPaint,$e=Se.unstable_now,sA=Se.unstable_getCurrentPriorityLevel,Ch=Se.unstable_ImmediatePriority,bh=Se.unstable_UserBlockingPriority,Es=Se.unstable_NormalPriority,uA=Se.unstable_LowPriority,_h=Se.unstable_IdlePriority,cA=Se.log,dA=Se.unstable_setDisableYieldValue,Mr=null,We=null;function Ua(e){if(typeof cA=="function"&&dA(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Mr,e)}catch{}}var et=Math.clz32?Math.clz32:gA,fA=Math.log,mA=Math.LN2;function gA(e){return e>>>=0,e===0?32:31-(fA(e)/mA|0)|0}var wo=256,xo=262144,Uo=4194304;function Tn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gs(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var l=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var o=n&134217727;return o!==0?(n=o&~i,n!==0?l=Tn(n):(r&=o,r!==0?l=Tn(r):a||(a=o&~e,a!==0&&(l=Tn(a))))):(o=n&~i,o!==0?l=Tn(o):r!==0?l=Tn(r):a||(a=n&~e,a!==0&&(l=Tn(a)))),l===0?0:t!==0&&t!==l&&(t&i)===0&&(i=l&-l,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:l}function Lr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function EA(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dh(){var e=Uo;return Uo<<=1,(Uo&62914560)===0&&(Uo=4194304),e}function wc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Rr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function pA(e,t,a,n,l,i){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,s=e.expirationTimes,u=e.hiddenUpdates;for(a=r&~a;0<a;){var f=31-et(a),E=1<<f;o[f]=0,s[f]=-1;var c=u[f];if(c!==null)for(u[f]=null,f=0;f<c.length;f++){var g=c[f];g!==null&&(g.lane&=-536870913)}a&=~E}n!==0&&Oh(e,n,0),i!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function Oh(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-et(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Nh(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-et(a),l=1<<n;l&t|e[n]&t&&(e[n]|=t),a&=~l}}function Mh(e,t){var a=t&-t;return a=(a&42)!==0?1:sf(a),(a&(e.suspendedLanes|t))!==0?0:a}function sf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uf(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Lh(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:Wy(e.type))}function ZE(e,t){var a=H.p;try{return H.p=e,t()}finally{H.p=a}}var en=Math.random().toString(36).slice(2),De="__reactFiber$"+en,Xe="__reactProps$"+en,kl="__reactContainer$"+en,hd="__reactEvents$"+en,hA="__reactListeners$"+en,SA="__reactHandles$"+en,JE="__reactResources$"+en,Ir="__reactMarker$"+en;function cf(e){delete e[De],delete e[Xe],delete e[hd],delete e[hA],delete e[SA]}function Cl(e){var t=e[De];if(t)return t;for(var a=e.parentNode;a;){if(t=a[kl]||a[De]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=lh(e);e!==null;){if(a=e[De])return a;e=lh(e)}return t}e=a,a=e.parentNode}return null}function $l(e){if(e=e[De]||e[kl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function $i(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(S(33))}function Bl(e){var t=e[JE];return t||(t=e[JE]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ae(e){e[Ir]=!0}var Rh=new Set,Ih={};function wn(e,t){Gl(e,t),Gl(e+"Capture",t)}function Gl(e,t){for(Ih[e]=t,e=0;e<t.length;e++)Rh.add(t[e])}var yA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kE={},$E={};function vA(e){return pd.call($E,e)?!0:pd.call(kE,e)?!1:yA.test(e)?$E[e]=!0:(kE[e]=!0,!1)}function ko(e,t,a){if(vA(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function zo(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function kt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TA(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sd(e){if(!e._valueTracker){var t=Bh(e)?"checked":"value";e._valueTracker=TA(e,t,""+e[t])}}function wh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Bh(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var AA=/[\n"\\]/g;function gt(e){return e.replace(AA,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function yd(e,t,a,n,l,i,r,o){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?vd(e,r,dt(t)):a!=null?vd(e,r,dt(a)):n!=null&&e.removeAttribute("value"),l==null&&i!=null&&(e.defaultChecked=!!i),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+dt(o):e.removeAttribute("name")}function xh(e,t,a,n,l,i,r,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Sd(e);return}a=a!=null?""+dt(a):"",t=t!=null?""+dt(t):a,o||t===e.value||(e.value=t),e.defaultValue=t}n=n??l,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Sd(e)}function vd(e,t,a){t==="number"&&ps(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function wl(e,t,a,n){if(e=e.options,t){t={};for(var l=0;l<a.length;l++)t["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=t.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&n&&(e[a].defaultSelected=!0)}else{for(a=""+dt(a),t=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Uh(e,t,a){if(t!=null&&(t=""+dt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+dt(a):""}function zh(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(S(92));if(ki(n)){if(1<n.length)throw Error(S(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=dt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Sd(e)}function ql(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var CA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function WE(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||CA.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ph(e,t,a){if(t!=null&&typeof t!="object")throw Error(S(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var l in t)n=t[l],t.hasOwnProperty(l)&&a[l]!==n&&WE(e,l,n)}else for(var i in t)t.hasOwnProperty(i)&&WE(e,i,t[i])}function df(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_A=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $o(e){return _A.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ia(){}var Td=null;function ff(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bl=null,xl=null;function ep(e){var t=$l(e);if(t&&(e=t.stateNode)){var a=e[Xe]||null;e:switch(e=t.stateNode,t.type){case"input":if(yd(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var l=n[Xe]||null;if(!l)throw Error(S(90));yd(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&wh(n)}break e;case"textarea":Uh(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&wl(e,!!a.multiple,t,!1)}}}var xc=!1;function Vh(e,t,a){if(xc)return e(t,a);xc=!0;try{var n=e(t);return n}finally{if(xc=!1,(bl!==null||xl!==null)&&(Ws(),bl&&(t=bl,e=xl,xl=bl=null,ep(t),e)))for(t=0;t<e.length;t++)ep(e[t])}}function Er(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Xe]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(S(231,t,typeof a));return a}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ad=!1;if(ca)try{pl={},Object.defineProperty(pl,"passive",{get:function(){Ad=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{Ad=!1}var pl,za=null,mf=null,Wo=null;function Hh(){if(Wo)return Wo;var e,t=mf,a=t.length,n,l="value"in za?za.value:za.textContent,i=l.length;for(e=0;e<a&&t[e]===l[e];e++);var r=a-e;for(n=1;n<=r&&t[a-n]===l[i-n];n++);return Wo=l.slice(e,1<n?1-n:void 0)}function es(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Po(){return!0}function tp(){return!1}function Ke(e){function t(a,n,l,i,r){this._reactName=a,this._targetInst=l,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Po:tp,this.isPropagationStopped=tp,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),t}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=Ke(xn),Br=$({},xn,{view:0,detail:0}),DA=Ke(Br),Uc,zc,Yi,js=$({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yi&&(Yi&&e.type==="mousemove"?(Uc=e.screenX-Yi.screenX,zc=e.screenY-Yi.screenY):zc=Uc=0,Yi=e),Uc)},movementY:function(e){return"movementY"in e?e.movementY:zc}}),ap=Ke(js),OA=$({},js,{dataTransfer:0}),NA=Ke(OA),MA=$({},Br,{relatedTarget:0}),Pc=Ke(MA),LA=$({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),RA=Ke(LA),IA=$({},xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BA=Ke(IA),wA=$({},xn,{data:0}),np=Ke(wA),xA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zA[e])?!!t[e]:!1}function gf(){return PA}var VA=$({},Br,{key:function(e){if(e.key){var t=xA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gf,charCode:function(e){return e.type==="keypress"?es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HA=Ke(VA),GA=$({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lp=Ke(GA),qA=$({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gf}),jA=Ke(qA),YA=$({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),XA=Ke(YA),KA=$({},js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QA=Ke(KA),FA=$({},xn,{newState:0,oldState:0}),ZA=Ke(FA),JA=[9,13,27,32],Ef=ca&&"CompositionEvent"in window,tr=null;ca&&"documentMode"in document&&(tr=document.documentMode);var kA=ca&&"TextEvent"in window&&!tr,Gh=ca&&(!Ef||tr&&8<tr&&11>=tr),ip=" ",rp=!1;function qh(e,t){switch(e){case"keyup":return JA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _l=!1;function $A(e,t){switch(e){case"compositionend":return jh(t);case"keypress":return t.which!==32?null:(rp=!0,ip);case"textInput":return e=t.data,e===ip&&rp?null:e;default:return null}}function WA(e,t){if(_l)return e==="compositionend"||!Ef&&qh(e,t)?(e=Hh(),Wo=mf=za=null,_l=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gh&&t.locale!=="ko"?null:t.data;default:return null}}var eC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eC[e.type]:t==="textarea"}function Yh(e,t,a,n){bl?xl?xl.push(n):xl=[n]:bl=n,t=ws(t,"onChange"),0<t.length&&(a=new qs("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var ar=null,pr=null;function tC(e){Vy(e,0)}function Ys(e){var t=$i(e);if(wh(t))return e}function sp(e,t){if(e==="change")return t}var Xh=!1;ca&&(ca?(Ho="oninput"in document,Ho||(Vc=document.createElement("div"),Vc.setAttribute("oninput","return;"),Ho=typeof Vc.oninput=="function"),Vo=Ho):Vo=!1,Xh=Vo&&(!document.documentMode||9<document.documentMode));var Vo,Ho,Vc;function up(){ar&&(ar.detachEvent("onpropertychange",Kh),pr=ar=null)}function Kh(e){if(e.propertyName==="value"&&Ys(pr)){var t=[];Yh(t,pr,e,ff(e)),Vh(tC,t)}}function aC(e,t,a){e==="focusin"?(up(),ar=t,pr=a,ar.attachEvent("onpropertychange",Kh)):e==="focusout"&&up()}function nC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ys(pr)}function lC(e,t){if(e==="click")return Ys(t)}function iC(e,t){if(e==="input"||e==="change")return Ys(t)}function rC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:rC;function hr(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var l=a[n];if(!pd.call(t,l)||!at(e[l],t[l]))return!1}return!0}function cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dp(e,t){var a=cp(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cp(a)}}function Qh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ps(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ps(e.document)}return t}function pf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var oC=ca&&"documentMode"in document&&11>=document.documentMode,Dl=null,Cd=null,nr=null,bd=!1;function fp(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bd||Dl==null||Dl!==ps(n)||(n=Dl,"selectionStart"in n&&pf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),nr&&hr(nr,n)||(nr=n,n=ws(Cd,"onSelect"),0<n.length&&(t=new qs("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Dl)))}function yn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ol={animationend:yn("Animation","AnimationEnd"),animationiteration:yn("Animation","AnimationIteration"),animationstart:yn("Animation","AnimationStart"),transitionrun:yn("Transition","TransitionRun"),transitionstart:yn("Transition","TransitionStart"),transitioncancel:yn("Transition","TransitionCancel"),transitionend:yn("Transition","TransitionEnd")},Hc={},Zh={};ca&&(Zh=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function Un(e){if(Hc[e])return Hc[e];if(!Ol[e])return e;var t=Ol[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Zh)return Hc[e]=t[a];return e}var Jh=Un("animationend"),kh=Un("animationiteration"),$h=Un("animationstart"),sC=Un("transitionrun"),uC=Un("transitionstart"),cC=Un("transitioncancel"),Wh=Un("transitionend"),eS=new Map,_d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_d.push("scrollEnd");function Ot(e,t){eS.set(e,t),wn(t,[e])}var hs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ct=[],Nl=0,hf=0;function Xs(){for(var e=Nl,t=hf=Nl=0;t<e;){var a=ct[t];ct[t++]=null;var n=ct[t];ct[t++]=null;var l=ct[t];ct[t++]=null;var i=ct[t];if(ct[t++]=null,n!==null&&l!==null){var r=n.pending;r===null?l.next=l:(l.next=r.next,r.next=l),n.pending=l}i!==0&&tS(a,l,i)}}function Ks(e,t,a,n){ct[Nl++]=e,ct[Nl++]=t,ct[Nl++]=a,ct[Nl++]=n,hf|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Sf(e,t,a,n){return Ks(e,t,a,n),Ss(e)}function zn(e,t){return Ks(e,null,null,t),Ss(e)}function tS(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var l=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(l=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,l&&t!==null&&(l=31-et(a),e=i.hiddenUpdates,n=e[l],n===null?e[l]=[t]:n.push(t),t.lane=a|536870912),i):null}function Ss(e){if(50<fr)throw fr=0,Kd=null,Error(S(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ml={};function dC(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(e,t,a,n){return new dC(e,t,a,n)}function yf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oa(e,t){var a=e.alternate;return a===null?(a=Je(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function aS(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ts(e,t,a,n,l,i){var r=0;if(n=e,typeof e=="function")yf(e)&&(r=1);else if(typeof e=="string")r=gb(e,a,xt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fd:return e=Je(31,a,t,l),e.elementType=fd,e.lanes=i,e;case Tl:return _n(a.children,l,i,t);case Th:r=8,l|=24;break;case ud:return e=Je(12,a,t,l|2),e.elementType=ud,e.lanes=i,e;case cd:return e=Je(13,a,t,l),e.elementType=cd,e.lanes=i,e;case dd:return e=Je(19,a,t,l),e.elementType=dd,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case la:r=10;break e;case Ah:r=9;break e;case lf:r=11;break e;case rf:r=14;break e;case La:r=16,n=null;break e}r=29,a=Error(S(130,e===null?"null":typeof e,"")),n=null}return t=Je(r,a,t,l),t.elementType=e,t.type=n,t.lanes=i,t}function _n(e,t,a,n){return e=Je(7,e,n,t),e.lanes=a,e}function Gc(e,t,a){return e=Je(6,e,null,t),e.lanes=a,e}function nS(e){var t=Je(18,null,null,0);return t.stateNode=e,t}function qc(e,t,a){return t=Je(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var mp=new WeakMap;function Et(e,t){if(typeof e=="object"&&e!==null){var a=mp.get(e);return a!==void 0?a:(t={value:e,source:t,stack:FE(t)},mp.set(e,t),t)}return{value:e,source:t,stack:FE(t)}}var Ll=[],Rl=0,ys=null,Sr=0,ft=[],mt=0,Ja=null,It=1,Bt="";function aa(e,t){Ll[Rl++]=Sr,Ll[Rl++]=ys,ys=e,Sr=t}function lS(e,t,a){ft[mt++]=It,ft[mt++]=Bt,ft[mt++]=Ja,Ja=e;var n=It;e=Bt;var l=32-et(n)-1;n&=~(1<<l),a+=1;var i=32-et(t)+l;if(30<i){var r=l-l%5;i=(n&(1<<r)-1).toString(32),n>>=r,l-=r,It=1<<32-et(t)+l|a<<l|n,Bt=i+e}else It=1<<i|a<<l|n,Bt=e}function vf(e){e.return!==null&&(aa(e,1),lS(e,1,0))}function Tf(e){for(;e===ys;)ys=Ll[--Rl],Ll[Rl]=null,Sr=Ll[--Rl],Ll[Rl]=null;for(;e===Ja;)Ja=ft[--mt],ft[mt]=null,Bt=ft[--mt],ft[mt]=null,It=ft[--mt],ft[mt]=null}function iS(e,t){ft[mt++]=It,ft[mt++]=Bt,ft[mt++]=Ja,It=t.id,Bt=t.overflow,Ja=e}var Oe=null,k=null,z=!1,qa=null,pt=!1,Dd=Error(S(519));function ka(e){var t=Error(S(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yr(Et(t,e)),Dd}function gp(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[De]=e,t[Xe]=n,a){case"dialog":w("cancel",t),w("close",t);break;case"iframe":case"object":case"embed":w("load",t);break;case"video":case"audio":for(a=0;a<Cr.length;a++)w(Cr[a],t);break;case"source":w("error",t);break;case"img":case"image":case"link":w("error",t),w("load",t);break;case"details":w("toggle",t);break;case"input":w("invalid",t),xh(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":w("invalid",t);break;case"textarea":w("invalid",t),zh(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Gy(t.textContent,a)?(n.popover!=null&&(w("beforetoggle",t),w("toggle",t)),n.onScroll!=null&&w("scroll",t),n.onScrollEnd!=null&&w("scrollend",t),n.onClick!=null&&(t.onclick=ia),t=!0):t=!1,t||ka(e,!0)}function Ep(e){for(Oe=e.return;Oe;)switch(Oe.tag){case 5:case 31:case 13:pt=!1;return;case 27:case 3:pt=!0;return;default:Oe=Oe.return}}function hl(e){if(e!==Oe)return!1;if(!z)return Ep(e),z=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||kd(e.type,e.memoizedProps)),a=!a),a&&k&&ka(e),Ep(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));k=nh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));k=nh(e)}else t===27?(t=k,tn(e.type)?(e=tf,tf=null,k=e):k=t):k=Oe?St(e.stateNode.nextSibling):null;return!0}function Mn(){k=Oe=null,z=!1}function jc(){var e=qa;return e!==null&&(je===null?je=e:je.push.apply(je,e),qa=null),e}function yr(e){qa===null?qa=[e]:qa.push(e)}var Od=Ut(null),Pn=null,ra=null;function Ia(e,t,a){F(Od,t._currentValue),t._currentValue=a}function sa(e){e._currentValue=Od.current,Ce(Od)}function Nd(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Md(e,t,a,n){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var i=l.dependencies;if(i!==null){var r=l.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=l;for(var s=0;s<t.length;s++)if(o.context===t[s]){i.lanes|=a,o=i.alternate,o!==null&&(o.lanes|=a),Nd(i.return,a,e),n||(r=null);break e}i=o.next}}else if(l.tag===18){if(r=l.return,r===null)throw Error(S(341));r.lanes|=a,i=r.alternate,i!==null&&(i.lanes|=a),Nd(r,a,e),r=null}else r=l.child;if(r!==null)r.return=l;else for(r=l;r!==null;){if(r===e){r=null;break}if(l=r.sibling,l!==null){l.return=r.return,r=l;break}r=r.return}l=r}}function Wl(e,t,a,n){e=null;for(var l=t,i=!1;l!==null;){if(!i){if((l.flags&524288)!==0)i=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var r=l.alternate;if(r===null)throw Error(S(387));if(r=r.memoizedProps,r!==null){var o=l.type;at(l.pendingProps.value,r.value)||(e!==null?e.push(o):e=[o])}}else if(l===fs.current){if(r=l.alternate,r===null)throw Error(S(387));r.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(_r):e=[_r])}l=l.return}e!==null&&Md(t,e,a,n),t.flags|=262144}function vs(e){for(e=e.firstContext;e!==null;){if(!at(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ln(e){Pn=e,ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ne(e){return rS(Pn,e)}function Go(e,t){return Pn===null&&Ln(e),rS(e,t)}function rS(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ra===null){if(e===null)throw Error(S(308));ra=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ra=ra.next=t;return a}var fC=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},mC=Se.unstable_scheduleCallback,gC=Se.unstable_NormalPriority,Ee={$$typeof:la,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new fC,data:new Map,refCount:0}}function wr(e){e.refCount--,e.refCount===0&&mC(gC,function(){e.controller.abort()})}var lr=null,Ld=0,jl=0,Ul=null;function EC(e,t){if(lr===null){var a=lr=[];Ld=0,jl=Qf(),Ul={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Ld++,t.then(pp,pp),t}function pp(){if(--Ld===0&&lr!==null){Ul!==null&&(Ul.status="fulfilled");var e=lr;lr=null,jl=0,Ul=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function pC(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var l=0;l<a.length;l++)(0,a[l])(t)},function(l){for(n.status="rejected",n.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),n}var hp=O.S;O.S=function(e,t){vy=$e(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&EC(e,t),hp!==null&&hp(e,t)};var Dn=Ut(null);function Cf(){var e=Dn.current;return e!==null?e:K.pooledCache}function as(e,t){t===null?F(Dn,Dn.current):F(Dn,t.pool)}function oS(){var e=Cf();return e===null?null:{parent:Ee._currentValue,pool:e}}var ei=Error(S(460)),bf=Error(S(474)),Qs=Error(S(542)),Ts={then:function(){}};function Sp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sS(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ia,ia),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vp(e),e;default:if(typeof t.status=="string")t.then(ia,ia);else{if(e=K,e!==null&&100<e.shellSuspendCounter)throw Error(S(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=n}},function(n){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vp(e),e}throw On=t,ei}}function An(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(On=a,ei):a}}var On=null;function yp(){if(On===null)throw Error(S(459));var e=On;return On=null,e}function vp(e){if(e===ei||e===Qs)throw Error(S(483))}var zl=null,vr=0;function qo(e){var t=vr;return vr+=1,zl===null&&(zl=[]),sS(zl,e,t)}function Xi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function jo(e,t){throw t.$$typeof===aA?Error(S(525)):(e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function uS(e){function t(m,d){if(e){var p=m.deletions;p===null?(m.deletions=[d],m.flags|=16):p.push(d)}}function a(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function n(m){for(var d=new Map;m!==null;)m.key!==null?d.set(m.key,m):d.set(m.index,m),m=m.sibling;return d}function l(m,d){return m=oa(m,d),m.index=0,m.sibling=null,m}function i(m,d,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<d?(m.flags|=67108866,d):p):(m.flags|=67108866,d)):(m.flags|=1048576,d)}function r(m){return e&&m.alternate===null&&(m.flags|=67108866),m}function o(m,d,p,h){return d===null||d.tag!==6?(d=Gc(p,m.mode,h),d.return=m,d):(d=l(d,p),d.return=m,d)}function s(m,d,p,h){var A=p.type;return A===Tl?f(m,d,p.props.children,h,p.key):d!==null&&(d.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===La&&An(A)===d.type)?(d=l(d,p.props),Xi(d,p),d.return=m,d):(d=ts(p.type,p.key,p.props,null,m.mode,h),Xi(d,p),d.return=m,d)}function u(m,d,p,h){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=qc(p,m.mode,h),d.return=m,d):(d=l(d,p.children||[]),d.return=m,d)}function f(m,d,p,h,A){return d===null||d.tag!==7?(d=_n(p,m.mode,h,A),d.return=m,d):(d=l(d,p),d.return=m,d)}function E(m,d,p){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=Gc(""+d,m.mode,p),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Bo:return p=ts(d.type,d.key,d.props,null,m.mode,p),Xi(p,d),p.return=m,p;case Ji:return d=qc(d,m.mode,p),d.return=m,d;case La:return d=An(d),E(m,d,p)}if(ki(d)||ji(d))return d=_n(d,m.mode,p,null),d.return=m,d;if(typeof d.then=="function")return E(m,qo(d),p);if(d.$$typeof===la)return E(m,Go(m,d),p);jo(m,d)}return null}function c(m,d,p,h){var A=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return A!==null?null:o(m,d,""+p,h);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Bo:return p.key===A?s(m,d,p,h):null;case Ji:return p.key===A?u(m,d,p,h):null;case La:return p=An(p),c(m,d,p,h)}if(ki(p)||ji(p))return A!==null?null:f(m,d,p,h,null);if(typeof p.then=="function")return c(m,d,qo(p),h);if(p.$$typeof===la)return c(m,d,Go(m,p),h);jo(m,p)}return null}function g(m,d,p,h,A){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return m=m.get(p)||null,o(d,m,""+h,A);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Bo:return m=m.get(h.key===null?p:h.key)||null,s(d,m,h,A);case Ji:return m=m.get(h.key===null?p:h.key)||null,u(d,m,h,A);case La:return h=An(h),g(m,d,p,h,A)}if(ki(h)||ji(h))return m=m.get(p)||null,f(d,m,h,A,null);if(typeof h.then=="function")return g(m,d,p,qo(h),A);if(h.$$typeof===la)return g(m,d,p,Go(d,h),A);jo(d,h)}return null}function y(m,d,p,h){for(var A=null,R=null,v=d,D=d=0,C=null;v!==null&&D<p.length;D++){v.index>D?(C=v,v=null):C=v.sibling;var N=c(m,v,p[D],h);if(N===null){v===null&&(v=C);break}e&&v&&N.alternate===null&&t(m,v),d=i(N,d,D),R===null?A=N:R.sibling=N,R=N,v=C}if(D===p.length)return a(m,v),z&&aa(m,D),A;if(v===null){for(;D<p.length;D++)v=E(m,p[D],h),v!==null&&(d=i(v,d,D),R===null?A=v:R.sibling=v,R=v);return z&&aa(m,D),A}for(v=n(v);D<p.length;D++)C=g(v,m,D,p[D],h),C!==null&&(e&&C.alternate!==null&&v.delete(C.key===null?D:C.key),d=i(C,d,D),R===null?A=C:R.sibling=C,R=C);return e&&v.forEach(function(Ve){return t(m,Ve)}),z&&aa(m,D),A}function T(m,d,p,h){if(p==null)throw Error(S(151));for(var A=null,R=null,v=d,D=d=0,C=null,N=p.next();v!==null&&!N.done;D++,N=p.next()){v.index>D?(C=v,v=null):C=v.sibling;var Ve=c(m,v,N.value,h);if(Ve===null){v===null&&(v=C);break}e&&v&&Ve.alternate===null&&t(m,v),d=i(Ve,d,D),R===null?A=Ve:R.sibling=Ve,R=Ve,v=C}if(N.done)return a(m,v),z&&aa(m,D),A;if(v===null){for(;!N.done;D++,N=p.next())N=E(m,N.value,h),N!==null&&(d=i(N,d,D),R===null?A=N:R.sibling=N,R=N);return z&&aa(m,D),A}for(v=n(v);!N.done;D++,N=p.next())N=g(v,m,D,N.value,h),N!==null&&(e&&N.alternate!==null&&v.delete(N.key===null?D:N.key),d=i(N,d,D),R===null?A=N:R.sibling=N,R=N);return e&&v.forEach(function(gi){return t(m,gi)}),z&&aa(m,D),A}function _(m,d,p,h){if(typeof p=="object"&&p!==null&&p.type===Tl&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Bo:e:{for(var A=p.key;d!==null;){if(d.key===A){if(A=p.type,A===Tl){if(d.tag===7){a(m,d.sibling),h=l(d,p.props.children),h.return=m,m=h;break e}}else if(d.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===La&&An(A)===d.type){a(m,d.sibling),h=l(d,p.props),Xi(h,p),h.return=m,m=h;break e}a(m,d);break}else t(m,d);d=d.sibling}p.type===Tl?(h=_n(p.props.children,m.mode,h,p.key),h.return=m,m=h):(h=ts(p.type,p.key,p.props,null,m.mode,h),Xi(h,p),h.return=m,m=h)}return r(m);case Ji:e:{for(A=p.key;d!==null;){if(d.key===A)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){a(m,d.sibling),h=l(d,p.children||[]),h.return=m,m=h;break e}else{a(m,d);break}else t(m,d);d=d.sibling}h=qc(p,m.mode,h),h.return=m,m=h}return r(m);case La:return p=An(p),_(m,d,p,h)}if(ki(p))return y(m,d,p,h);if(ji(p)){if(A=ji(p),typeof A!="function")throw Error(S(150));return p=A.call(p),T(m,d,p,h)}if(typeof p.then=="function")return _(m,d,qo(p),h);if(p.$$typeof===la)return _(m,d,Go(m,p),h);jo(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint"?(p=""+p,d!==null&&d.tag===6?(a(m,d.sibling),h=l(d,p),h.return=m,m=h):(a(m,d),h=Gc(p,m.mode,h),h.return=m,m=h),r(m)):a(m,d)}return function(m,d,p,h){try{vr=0;var A=_(m,d,p,h);return zl=null,A}catch(v){if(v===ei||v===Qs)throw v;var R=Je(29,v,null,m.mode);return R.lanes=h,R.return=m,R}finally{}}}var Rn=uS(!0),cS=uS(!1),Ra=!1;function _f(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ja(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ya(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(V&2)!==0){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,t=Ss(e),tS(e,null,a),t}return Ks(e,n,t,a),Ss(e)}function ir(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Nh(e,a)}}function Yc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var l=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?l=i=r:i=i.next=r,a=a.next}while(a!==null);i===null?l=i=t:i=i.next=t}else l=i=t;a={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Id=!1;function rr(){if(Id){var e=Ul;if(e!==null)throw e}}function or(e,t,a,n){Id=!1;var l=e.updateQueue;Ra=!1;var i=l.firstBaseUpdate,r=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var s=o,u=s.next;s.next=null,r===null?i=u:r.next=u,r=s;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==r&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=s))}if(i!==null){var E=l.baseState;r=0,f=u=s=null,o=i;do{var c=o.lane&-536870913,g=c!==o.lane;if(g?(U&c)===c:(n&c)===c){c!==0&&c===jl&&(Id=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var y=e,T=o;c=t;var _=a;switch(T.tag){case 1:if(y=T.payload,typeof y=="function"){E=y.call(_,E,c);break e}E=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=T.payload,c=typeof y=="function"?y.call(_,E,c):y,c==null)break e;E=$({},E,c);break e;case 2:Ra=!0}}c=o.callback,c!==null&&(e.flags|=64,g&&(e.flags|=8192),g=l.callbacks,g===null?l.callbacks=[c]:g.push(c))}else g={lane:c,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=g,s=E):f=f.next=g,r|=c;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;g=o,o=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);f===null&&(s=E),l.baseState=s,l.firstBaseUpdate=u,l.lastBaseUpdate=f,i===null&&(l.shared.lanes=0),Wa|=r,e.lanes=r,e.memoizedState=E}}function dS(e,t){if(typeof e!="function")throw Error(S(191,e));e.call(t)}function fS(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)dS(a[e],t)}var Yl=Ut(null),As=Ut(0);function Tp(e,t){e=ga,F(As,e),F(Yl,t),ga=e|t.baseLanes}function Bd(){F(As,ga),F(Yl,Yl.current)}function Df(){ga=As.current,Ce(Yl),Ce(As)}var nt=Ut(null),ht=null;function Ba(e){var t=e.alternate;F(se,se.current&1),F(nt,e),ht===null&&(t===null||Yl.current!==null||t.memoizedState!==null)&&(ht=e)}function wd(e){F(se,se.current),F(nt,e),ht===null&&(ht=e)}function mS(e){e.tag===22?(F(se,se.current),F(nt,e),ht===null&&(ht=e)):wa(e)}function wa(){F(se,se.current),F(nt,nt.current)}function Ze(e){Ce(nt),ht===e&&(ht=null),Ce(se)}var se=Ut(0);function Cs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wd(a)||ef(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=0,L=null,X=null,me=null,bs=!1,Pl=!1,In=!1,_s=0,Tr=0,Vl=null,hC=0;function le(){throw Error(S(321))}function Of(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!at(e[a],t[a]))return!1;return!0}function Nf(e,t,a,n,l,i){return da=i,L=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?YS:Vf,In=!1,i=a(n,l),In=!1,Pl&&(i=ES(t,a,n,l)),gS(e),i}function gS(e){O.H=Ar;var t=X!==null&&X.next!==null;if(da=0,me=X=L=null,bs=!1,Tr=0,Vl=null,t)throw Error(S(300));e===null||pe||(e=e.dependencies,e!==null&&vs(e)&&(pe=!0))}function ES(e,t,a,n){L=e;var l=0;do{if(Pl&&(Vl=null),Tr=0,Pl=!1,25<=l)throw Error(S(301));if(l+=1,me=X=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}O.H=XS,i=t(a,n)}while(Pl);return i}function SC(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?xr(t):t,e=e.useState()[0],(X!==null?X.memoizedState:null)!==e&&(L.flags|=1024),t}function Mf(){var e=_s!==0;return _s=0,e}function Lf(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Rf(e){if(bs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bs=!1}da=0,me=X=L=null,Pl=!1,Tr=_s=0,Vl=null}function Pe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?L.memoizedState=me=e:me=me.next=e,me}function ue(){if(X===null){var e=L.alternate;e=e!==null?e.memoizedState:null}else e=X.next;var t=me===null?L.memoizedState:me.next;if(t!==null)me=t,X=e;else{if(e===null)throw L.alternate===null?Error(S(467)):Error(S(310));X=e,e={memoizedState:X.memoizedState,baseState:X.baseState,baseQueue:X.baseQueue,queue:X.queue,next:null},me===null?L.memoizedState=me=e:me=me.next=e}return me}function Fs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xr(e){var t=Tr;return Tr+=1,Vl===null&&(Vl=[]),e=sS(Vl,e,t),t=L,(me===null?t.memoizedState:me.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?YS:Vf),e}function Zs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xr(e);if(e.$$typeof===la)return Ne(e)}throw Error(S(438,String(e)))}function If(e){var t=null,a=L.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=L.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Fs(),L.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=nA;return t.index++,a}function fa(e,t){return typeof t=="function"?t(e):t}function ns(e){var t=ue();return Bf(t,X,e)}function Bf(e,t,a){var n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=a;var l=e.baseQueue,i=n.pending;if(i!==null){if(l!==null){var r=l.next;l.next=i.next,i.next=r}t.baseQueue=l=i,n.pending=null}if(i=e.baseState,l===null)e.memoizedState=i;else{t=l.next;var o=r=null,s=null,u=t,f=!1;do{var E=u.lane&-536870913;if(E!==u.lane?(U&E)===E:(da&E)===E){var c=u.revertLane;if(c===0)s!==null&&(s=s.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),E===jl&&(f=!0);else if((da&c)===c){u=u.next,c===jl&&(f=!0);continue}else E={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},s===null?(o=s=E,r=i):s=s.next=E,L.lanes|=c,Wa|=c;E=u.action,In&&a(i,E),i=u.hasEagerState?u.eagerState:a(i,E)}else c={lane:E,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},s===null?(o=s=c,r=i):s=s.next=c,L.lanes|=E,Wa|=E;u=u.next}while(u!==null&&u!==t);if(s===null?r=i:s.next=o,!at(i,e.memoizedState)&&(pe=!0,f&&(a=Ul,a!==null)))throw a;e.memoizedState=i,e.baseState=r,e.baseQueue=s,n.lastRenderedState=i}return l===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Xc(e){var t=ue(),a=t.queue;if(a===null)throw Error(S(311));a.lastRenderedReducer=e;var n=a.dispatch,l=a.pending,i=t.memoizedState;if(l!==null){a.pending=null;var r=l=l.next;do i=e(i,r.action),r=r.next;while(r!==l);at(i,t.memoizedState)||(pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function pS(e,t,a){var n=L,l=ue(),i=z;if(i){if(a===void 0)throw Error(S(407));a=a()}else a=t();var r=!at((X||l).memoizedState,a);if(r&&(l.memoizedState=a,pe=!0),l=l.queue,wf(yS.bind(null,n,l,e),[e]),l.getSnapshot!==t||r||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Xl(9,{destroy:void 0},SS.bind(null,n,l,a,t),null),K===null)throw Error(S(349));i||(da&127)!==0||hS(n,t,a)}return a}function hS(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=L.updateQueue,t===null?(t=Fs(),L.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function SS(e,t,a,n){t.value=a,t.getSnapshot=n,vS(t)&&TS(e)}function yS(e,t,a){return a(function(){vS(t)&&TS(e)})}function vS(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!at(e,a)}catch{return!0}}function TS(e){var t=zn(e,2);t!==null&&Ye(t,e,2)}function xd(e){var t=Pe();if(typeof e=="function"){var a=e;if(e=a(),In){Ua(!0);try{a()}finally{Ua(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t}function AS(e,t,a,n){return e.baseState=a,Bf(e,X,typeof n=="function"?n:fa)}function yC(e,t,a,n,l){if(ks(e))throw Error(S(485));if(e=t.action,e!==null){var i={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};O.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,CS(t,i)):(i.next=a.next,t.pending=a.next=i)}}function CS(e,t){var a=t.action,n=t.payload,l=e.state;if(t.isTransition){var i=O.T,r={};O.T=r;try{var o=a(l,n),s=O.S;s!==null&&s(r,o),Ap(e,t,o)}catch(u){Ud(e,t,u)}finally{i!==null&&r.types!==null&&(i.types=r.types),O.T=i}}else try{i=a(l,n),Ap(e,t,i)}catch(u){Ud(e,t,u)}}function Ap(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Cp(e,t,n)},function(n){return Ud(e,t,n)}):Cp(e,t,a)}function Cp(e,t,a){t.status="fulfilled",t.value=a,bS(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,CS(e,a)))}function Ud(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,bS(t),t=t.next;while(t!==n)}e.action=null}function bS(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function _S(e,t){return t}function bp(e,t){if(z){var a=K.formState;if(a!==null){e:{var n=L;if(z){if(k){t:{for(var l=k,i=pt;l.nodeType!==8;){if(!i){l=null;break t}if(l=St(l.nextSibling),l===null){l=null;break t}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){k=St(l.nextSibling),n=l.data==="F!";break e}}ka(n)}n=!1}n&&(t=a[0])}}return a=Pe(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_S,lastRenderedState:t},a.queue=n,a=GS.bind(null,L,n),n.dispatch=a,n=xd(!1),i=Pf.bind(null,L,!1,n.queue),n=Pe(),l={state:t,dispatch:null,action:e,pending:null},n.queue=l,a=yC.bind(null,L,l,i,a),l.dispatch=a,n.memoizedState=e,[t,a,!1]}function _p(e){var t=ue();return DS(t,X,e)}function DS(e,t,a){if(t=Bf(e,t,_S)[0],e=ns(fa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=xr(t)}catch(r){throw r===ei?Qs:r}else n=t;t=ue();var l=t.queue,i=l.dispatch;return a!==t.memoizedState&&(L.flags|=2048,Xl(9,{destroy:void 0},vC.bind(null,l,a),null)),[n,i,e]}function vC(e,t){e.action=t}function Dp(e){var t=ue(),a=X;if(a!==null)return DS(t,a,e);ue(),t=t.memoizedState,a=ue();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Xl(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=L.updateQueue,t===null&&(t=Fs(),L.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function OS(){return ue().memoizedState}function ls(e,t,a,n){var l=Pe();L.flags|=e,l.memoizedState=Xl(1|t,{destroy:void 0},a,n===void 0?null:n)}function Js(e,t,a,n){var l=ue();n=n===void 0?null:n;var i=l.memoizedState.inst;X!==null&&n!==null&&Of(n,X.memoizedState.deps)?l.memoizedState=Xl(t,i,a,n):(L.flags|=e,l.memoizedState=Xl(1|t,i,a,n))}function Op(e,t){ls(8390656,8,e,t)}function wf(e,t){Js(2048,8,e,t)}function TC(e){L.flags|=4;var t=L.updateQueue;if(t===null)t=Fs(),L.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function NS(e){var t=ue().memoizedState;return TC({ref:t,nextImpl:e}),function(){if((V&2)!==0)throw Error(S(440));return t.impl.apply(void 0,arguments)}}function MS(e,t){return Js(4,2,e,t)}function LS(e,t){return Js(4,4,e,t)}function RS(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IS(e,t,a){a=a!=null?a.concat([e]):null,Js(4,4,RS.bind(null,t,e),a)}function xf(){}function BS(e,t){var a=ue();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Of(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function wS(e,t){var a=ue();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Of(t,n[1]))return n[0];if(n=e(),In){Ua(!0);try{e()}finally{Ua(!1)}}return a.memoizedState=[n,t],n}function Uf(e,t,a){return a===void 0||(da&1073741824)!==0&&(U&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Ay(),L.lanes|=e,Wa|=e,a)}function xS(e,t,a,n){return at(a,t)?a:Yl.current!==null?(e=Uf(e,a,n),at(e,t)||(pe=!0),e):(da&42)===0||(da&1073741824)!==0&&(U&261930)===0?(pe=!0,e.memoizedState=a):(e=Ay(),L.lanes|=e,Wa|=e,t)}function US(e,t,a,n,l){var i=H.p;H.p=i!==0&&8>i?i:8;var r=O.T,o={};O.T=o,Pf(e,!1,t,a);try{var s=l(),u=O.S;if(u!==null&&u(o,s),s!==null&&typeof s=="object"&&typeof s.then=="function"){var f=pC(s,n);sr(e,t,f,tt(e))}else sr(e,t,n,tt(e))}catch(E){sr(e,t,{then:function(){},status:"rejected",reason:E},tt())}finally{H.p=i,r!==null&&o.types!==null&&(r.types=o.types),O.T=r}}function AC(){}function zd(e,t,a,n){if(e.tag!==5)throw Error(S(476));var l=zS(e).queue;US(e,l,t,bn,a===null?AC:function(){return PS(e),a(n)})}function zS(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:bn,baseState:bn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:bn},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function PS(e){var t=zS(e);t.next===null&&(t=e.alternate.memoizedState),sr(e,t.next.queue,{},tt())}function zf(){return Ne(_r)}function VS(){return ue().memoizedState}function HS(){return ue().memoizedState}function CC(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=tt();e=ja(a);var n=Ya(t,e,a);n!==null&&(Ye(n,t,a),ir(n,t,a)),t={cache:Af()},e.payload=t;return}t=t.return}}function bC(e,t,a){var n=tt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ks(e)?qS(t,a):(a=Sf(e,t,a,n),a!==null&&(Ye(a,e,n),jS(a,t,n)))}function GS(e,t,a){var n=tt();sr(e,t,a,n)}function sr(e,t,a,n){var l={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ks(e))qS(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,o=i(r,a);if(l.hasEagerState=!0,l.eagerState=o,at(o,r))return Ks(e,t,l,0),K===null&&Xs(),!1}catch{}finally{}if(a=Sf(e,t,l,n),a!==null)return Ye(a,e,n),jS(a,t,n),!0}return!1}function Pf(e,t,a,n){if(n={lane:2,revertLane:Qf(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ks(e)){if(t)throw Error(S(479))}else t=Sf(e,a,n,2),t!==null&&Ye(t,e,2)}function ks(e){var t=e.alternate;return e===L||t!==null&&t===L}function qS(e,t){Pl=bs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function jS(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Nh(e,a)}}var Ar={readContext:Ne,use:Zs,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Ar.useEffectEvent=le;var YS={readContext:Ne,use:Zs,useCallback:function(e,t){return Pe().memoizedState=[e,t===void 0?null:t],e},useContext:Ne,useEffect:Op,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ls(4194308,4,RS.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ls(4194308,4,e,t)},useInsertionEffect:function(e,t){ls(4,2,e,t)},useMemo:function(e,t){var a=Pe();t=t===void 0?null:t;var n=e();if(In){Ua(!0);try{e()}finally{Ua(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Pe();if(a!==void 0){var l=a(t);if(In){Ua(!0);try{a(t)}finally{Ua(!1)}}}else l=t;return n.memoizedState=n.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},n.queue=e,e=e.dispatch=bC.bind(null,L,e),[n.memoizedState,e]},useRef:function(e){var t=Pe();return e={current:e},t.memoizedState=e},useState:function(e){e=xd(e);var t=e.queue,a=GS.bind(null,L,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(e,t){var a=Pe();return Uf(a,e,t)},useTransition:function(){var e=xd(!1);return e=US.bind(null,L,e.queue,!0,!1),Pe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=L,l=Pe();if(z){if(a===void 0)throw Error(S(407));a=a()}else{if(a=t(),K===null)throw Error(S(349));(U&127)!==0||hS(n,t,a)}l.memoizedState=a;var i={value:a,getSnapshot:t};return l.queue=i,Op(yS.bind(null,n,i,e),[e]),n.flags|=2048,Xl(9,{destroy:void 0},SS.bind(null,n,i,a,t),null),a},useId:function(){var e=Pe(),t=K.identifierPrefix;if(z){var a=Bt,n=It;a=(n&~(1<<32-et(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=_s++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=hC++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:zf,useFormState:bp,useActionState:bp,useOptimistic:function(e){var t=Pe();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Pf.bind(null,L,!0,a),a.dispatch=t,[e,t]},useMemoCache:If,useCacheRefresh:function(){return Pe().memoizedState=CC.bind(null,L)},useEffectEvent:function(e){var t=Pe(),a={impl:e};return t.memoizedState=a,function(){if((V&2)!==0)throw Error(S(440));return a.impl.apply(void 0,arguments)}}},Vf={readContext:Ne,use:Zs,useCallback:BS,useContext:Ne,useEffect:wf,useImperativeHandle:IS,useInsertionEffect:MS,useLayoutEffect:LS,useMemo:wS,useReducer:ns,useRef:OS,useState:function(){return ns(fa)},useDebugValue:xf,useDeferredValue:function(e,t){var a=ue();return xS(a,X.memoizedState,e,t)},useTransition:function(){var e=ns(fa)[0],t=ue().memoizedState;return[typeof e=="boolean"?e:xr(e),t]},useSyncExternalStore:pS,useId:VS,useHostTransitionStatus:zf,useFormState:_p,useActionState:_p,useOptimistic:function(e,t){var a=ue();return AS(a,X,e,t)},useMemoCache:If,useCacheRefresh:HS};Vf.useEffectEvent=NS;var XS={readContext:Ne,use:Zs,useCallback:BS,useContext:Ne,useEffect:wf,useImperativeHandle:IS,useInsertionEffect:MS,useLayoutEffect:LS,useMemo:wS,useReducer:Xc,useRef:OS,useState:function(){return Xc(fa)},useDebugValue:xf,useDeferredValue:function(e,t){var a=ue();return X===null?Uf(a,e,t):xS(a,X.memoizedState,e,t)},useTransition:function(){var e=Xc(fa)[0],t=ue().memoizedState;return[typeof e=="boolean"?e:xr(e),t]},useSyncExternalStore:pS,useId:VS,useHostTransitionStatus:zf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e,t){var a=ue();return X!==null?AS(a,X,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:HS};XS.useEffectEvent=NS;function Kc(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:$({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Pd={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=tt(),l=ja(n);l.payload=t,a!=null&&(l.callback=a),t=Ya(e,l,n),t!==null&&(Ye(t,e,n),ir(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=tt(),l=ja(n);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=Ya(e,l,n),t!==null&&(Ye(t,e,n),ir(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=tt(),n=ja(a);n.tag=2,t!=null&&(n.callback=t),t=Ya(e,n,a),t!==null&&(Ye(t,e,a),ir(t,e,a))}};function Np(e,t,a,n,l,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,r):t.prototype&&t.prototype.isPureReactComponent?!hr(a,n)||!hr(l,i):!0}function Mp(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Pd.enqueueReplaceState(t,t.state,null)}function Bn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=$({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}function KS(e){hs(e)}function QS(e){console.error(e)}function FS(e){hs(e)}function Ds(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Lp(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Vd(e,t,a){return a=ja(a),a.tag=3,a.payload={element:null},a.callback=function(){Ds(e,t)},a}function ZS(e){return e=ja(e),e.tag=3,e}function JS(e,t,a,n){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var i=n.value;e.payload=function(){return l(i)},e.callback=function(){Lp(t,a,n)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Lp(t,a,n),typeof l!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function _C(e,t,a,n,l){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Wl(t,a,l,!0),a=nt.current,a!==null){switch(a.tag){case 31:case 13:return ht===null?Rs():a.alternate===null&&ie===0&&(ie=3),a.flags&=-257,a.flags|=65536,a.lanes=l,n===Ts?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),nd(e,n,l)),!1;case 22:return a.flags|=65536,n===Ts?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),nd(e,n,l)),!1}throw Error(S(435,a.tag))}return nd(e,n,l),Rs(),!1}if(z)return t=nt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,n!==Dd&&(e=Error(S(422),{cause:n}),yr(Et(e,a)))):(n!==Dd&&(t=Error(S(423),{cause:n}),yr(Et(t,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,n=Et(n,a),l=Vd(e.stateNode,n,l),Yc(e,l),ie!==4&&(ie=2)),!1;var i=Error(S(520),{cause:n});if(i=Et(i,a),dr===null?dr=[i]:dr.push(i),ie!==4&&(ie=2),t===null)return!0;n=Et(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=Vd(a.stateNode,n,e),Yc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Xa===null||!Xa.has(i))))return a.flags|=65536,l&=-l,a.lanes|=l,l=ZS(l),JS(l,e,a,n),Yc(a,l),!1}a=a.return}while(a!==null);return!1}var Hf=Error(S(461)),pe=!1;function _e(e,t,a,n){t.child=e===null?cS(t,null,a,n):Rn(t,e.child,a,n)}function Rp(e,t,a,n,l){a=a.render;var i=t.ref;if("ref"in n){var r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}else r=n;return Ln(t),n=Nf(e,t,a,r,i,l),o=Mf(),e!==null&&!pe?(Lf(e,t,l),ma(e,t,l)):(z&&o&&vf(t),t.flags|=1,_e(e,t,n,l),t.child)}function Ip(e,t,a,n,l){if(e===null){var i=a.type;return typeof i=="function"&&!yf(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,kS(e,t,i,n,l)):(e=ts(a.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Gf(e,l)){var r=i.memoizedProps;if(a=a.compare,a=a!==null?a:hr,a(r,n)&&e.ref===t.ref)return ma(e,t,l)}return t.flags|=1,e=oa(i,n),e.ref=t.ref,e.return=t,t.child=e}function kS(e,t,a,n,l){if(e!==null){var i=e.memoizedProps;if(hr(i,n)&&e.ref===t.ref)if(pe=!1,t.pendingProps=n=i,Gf(e,l))(e.flags&131072)!==0&&(pe=!0);else return t.lanes=e.lanes,ma(e,t,l)}return Hd(e,t,a,n,l)}function $S(e,t,a,n){var l=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;n=l&~i}else n=0,t.child=null;return Bp(e,t,i,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&as(t,i!==null?i.cachePool:null),i!==null?Tp(t,i):Bd(),mS(t);else return n=t.lanes=536870912,Bp(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(as(t,i.cachePool),Tp(t,i),wa(t),t.memoizedState=null):(e!==null&&as(t,null),Bd(),wa(t));return _e(e,t,l,a),t.child}function Wi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bp(e,t,a,n,l){var i=Cf();return i=i===null?null:{parent:Ee._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&as(t,null),Bd(),mS(t),e!==null&&Wl(e,t,n,!0),t.childLanes=l,null}function is(e,t){return t=Os({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function wp(e,t,a){return Rn(t,e.child,null,a),e=is(t,t.pendingProps),e.flags|=2,Ze(t),t.memoizedState=null,e}function DC(e,t,a){var n=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(z){if(n.mode==="hidden")return e=is(t,n),t.lanes=536870912,Wi(null,e);if(wd(t),(e=k)?(e=Yy(e,pt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ja!==null?{id:It,overflow:Bt}:null,retryLane:536870912,hydrationErrors:null},a=nS(e),a.return=t,t.child=a,Oe=t,k=null)):e=null,e===null)throw ka(t);return t.lanes=536870912,null}return is(t,n)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(wd(t),l)if(t.flags&256)t.flags&=-257,t=wp(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(S(558));else if(pe||Wl(e,t,a,!1),l=(a&e.childLanes)!==0,pe||l){if(n=K,n!==null&&(r=Mh(n,a),r!==0&&r!==i.retryLane))throw i.retryLane=r,zn(e,r),Ye(n,e,r),Hf;Rs(),t=wp(e,t,a)}else e=i.treeContext,k=St(r.nextSibling),Oe=t,z=!0,qa=null,pt=!1,e!==null&&iS(t,e),t=is(t,n),t.flags|=4096;return t}return e=oa(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function rs(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(S(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Hd(e,t,a,n,l){return Ln(t),a=Nf(e,t,a,n,void 0,l),n=Mf(),e!==null&&!pe?(Lf(e,t,l),ma(e,t,l)):(z&&n&&vf(t),t.flags|=1,_e(e,t,a,l),t.child)}function xp(e,t,a,n,l,i){return Ln(t),t.updateQueue=null,a=ES(t,n,a,l),gS(e),n=Mf(),e!==null&&!pe?(Lf(e,t,i),ma(e,t,i)):(z&&n&&vf(t),t.flags|=1,_e(e,t,a,i),t.child)}function Up(e,t,a,n,l){if(Ln(t),t.stateNode===null){var i=Ml,r=a.contextType;typeof r=="object"&&r!==null&&(i=Ne(r)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Pd,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},_f(t),r=a.contextType,i.context=typeof r=="object"&&r!==null?Ne(r):Ml,i.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(Kc(t,a,r,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&Pd.enqueueReplaceState(i,i.state,null),or(t,n,i,l),rr(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,s=Bn(a,o);i.props=s;var u=i.context,f=a.contextType;r=Ml,typeof f=="object"&&f!==null&&(r=Ne(f));var E=a.getDerivedStateFromProps;f=typeof E=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||u!==r)&&Mp(t,i,n,r),Ra=!1;var c=t.memoizedState;i.state=c,or(t,n,i,l),rr(),u=t.memoizedState,o||c!==u||Ra?(typeof E=="function"&&(Kc(t,a,E,n),u=t.memoizedState),(s=Ra||Np(t,a,s,n,c,u,r))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=r,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Rd(e,t),r=t.memoizedProps,f=Bn(a,r),i.props=f,E=t.pendingProps,c=i.context,u=a.contextType,s=Ml,typeof u=="object"&&u!==null&&(s=Ne(u)),o=a.getDerivedStateFromProps,(u=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==E||c!==s)&&Mp(t,i,n,s),Ra=!1,c=t.memoizedState,i.state=c,or(t,n,i,l),rr();var g=t.memoizedState;r!==E||c!==g||Ra||e!==null&&e.dependencies!==null&&vs(e.dependencies)?(typeof o=="function"&&(Kc(t,a,o,n),g=t.memoizedState),(f=Ra||Np(t,a,f,n,c,g,s)||e!==null&&e.dependencies!==null&&vs(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=s,n=f):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,rs(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=Rn(t,e.child,null,l),t.child=Rn(t,null,a,l)):_e(e,t,a,l),t.memoizedState=i.state,e=t.child):e=ma(e,t,l),e}function zp(e,t,a,n){return Mn(),t.flags|=256,_e(e,t,a,n),t.child}var Qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fc(e){return{baseLanes:e,cachePool:oS()}}function Zc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ke),e}function WS(e,t,a){var n=t.pendingProps,l=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(se.current&2)!==0),r&&(l=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(z){if(l?Ba(t):wa(t),(e=k)?(e=Yy(e,pt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ja!==null?{id:It,overflow:Bt}:null,retryLane:536870912,hydrationErrors:null},a=nS(e),a.return=t,t.child=a,Oe=t,k=null)):e=null,e===null)throw ka(t);return ef(e)?t.lanes=32:t.lanes=536870912,null}var o=n.children;return n=n.fallback,l?(wa(t),l=t.mode,o=Os({mode:"hidden",children:o},l),n=_n(n,l,a,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n=t.child,n.memoizedState=Fc(a),n.childLanes=Zc(e,r,a),t.memoizedState=Qc,Wi(null,n)):(Ba(t),Gd(t,o))}var s=e.memoizedState;if(s!==null&&(o=s.dehydrated,o!==null)){if(i)t.flags&256?(Ba(t),t.flags&=-257,t=Jc(e,t,a)):t.memoizedState!==null?(wa(t),t.child=e.child,t.flags|=128,t=null):(wa(t),o=n.fallback,l=t.mode,n=Os({mode:"visible",children:n.children},l),o=_n(o,l,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,Rn(t,e.child,null,a),n=t.child,n.memoizedState=Fc(a),n.childLanes=Zc(e,r,a),t.memoizedState=Qc,t=Wi(null,n));else if(Ba(t),ef(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;r=u,n=Error(S(419)),n.stack="",n.digest=r,yr({value:n,source:null,stack:null}),t=Jc(e,t,a)}else if(pe||Wl(e,t,a,!1),r=(a&e.childLanes)!==0,pe||r){if(r=K,r!==null&&(n=Mh(r,a),n!==0&&n!==s.retryLane))throw s.retryLane=n,zn(e,n),Ye(r,e,n),Hf;Wd(o)||Rs(),t=Jc(e,t,a)}else Wd(o)?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,k=St(o.nextSibling),Oe=t,z=!0,qa=null,pt=!1,e!==null&&iS(t,e),t=Gd(t,n.children),t.flags|=4096);return t}return l?(wa(t),o=n.fallback,l=t.mode,s=e.child,u=s.sibling,n=oa(s,{mode:"hidden",children:n.children}),n.subtreeFlags=s.subtreeFlags&65011712,u!==null?o=oa(u,o):(o=_n(o,l,a,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,Wi(null,n),n=t.child,o=e.child.memoizedState,o===null?o=Fc(a):(l=o.cachePool,l!==null?(s=Ee._currentValue,l=l.parent!==s?{parent:s,pool:s}:l):l=oS(),o={baseLanes:o.baseLanes|a,cachePool:l}),n.memoizedState=o,n.childLanes=Zc(e,r,a),t.memoizedState=Qc,Wi(e.child,n)):(Ba(t),a=e.child,e=a.sibling,a=oa(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function Gd(e,t){return t=Os({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Os(e,t){return e=Je(22,e,null,t),e.lanes=0,e}function Jc(e,t,a){return Rn(t,e.child,null,a),e=Gd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pp(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Nd(e.return,t,a)}function kc(e,t,a,n,l,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:l,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=a,r.tailMode=l,r.treeForkCount=i)}function ey(e,t,a){var n=t.pendingProps,l=n.revealOrder,i=n.tail;n=n.children;var r=se.current,o=(r&2)!==0;if(o?(r=r&1|2,t.flags|=128):r&=1,F(se,r),_e(e,t,n,a),n=z?Sr:0,!o&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pp(e,a,t);else if(e.tag===19)Pp(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(a=t.child,l=null;a!==null;)e=a.alternate,e!==null&&Cs(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=t.child,t.child=null):(l=a.sibling,a.sibling=null),kc(t,!1,l,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Cs(e)===null){t.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}kc(t,!0,a,null,i,n);break;case"together":kc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function ma(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Wa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Wl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,a=oa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=oa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Gf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&vs(e)))}function OC(e,t,a){switch(t.tag){case 3:ms(t,t.stateNode.containerInfo),Ia(t,Ee,e.memoizedState.cache),Mn();break;case 27:case 5:Ed(t);break;case 4:ms(t,t.stateNode.containerInfo);break;case 10:Ia(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,wd(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ba(t),t.flags|=128,null):(a&t.child.childLanes)!==0?WS(e,t,a):(Ba(t),e=ma(e,t,a),e!==null?e.sibling:null);Ba(t);break;case 19:var l=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Wl(e,t,a,!1),n=(a&t.childLanes)!==0),l){if(n)return ey(e,t,a);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),F(se,se.current),n)break;return null;case 22:return t.lanes=0,$S(e,t,a,t.pendingProps);case 24:Ia(t,Ee,e.memoizedState.cache)}return ma(e,t,a)}function ty(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)pe=!0;else{if(!Gf(e,a)&&(t.flags&128)===0)return pe=!1,OC(e,t,a);pe=(e.flags&131072)!==0}else pe=!1,z&&(t.flags&1048576)!==0&&lS(t,Sr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=An(t.elementType),t.type=e,typeof e=="function")yf(e)?(n=Bn(e,n),t.tag=1,t=Up(null,t,e,n,a)):(t.tag=0,t=Hd(null,t,e,n,a));else{if(e!=null){var l=e.$$typeof;if(l===lf){t.tag=11,t=Rp(null,t,e,n,a);break e}else if(l===rf){t.tag=14,t=Ip(null,t,e,n,a);break e}}throw t=md(e)||e,Error(S(306,t,""))}}return t;case 0:return Hd(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,l=Bn(n,t.pendingProps),Up(e,t,n,l,a);case 3:e:{if(ms(t,t.stateNode.containerInfo),e===null)throw Error(S(387));n=t.pendingProps;var i=t.memoizedState;l=i.element,Rd(e,t),or(t,n,null,a);var r=t.memoizedState;if(n=r.cache,Ia(t,Ee,n),n!==i.cache&&Md(t,[Ee],a,!0),rr(),n=r.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=zp(e,t,n,a);break e}else if(n!==l){l=Et(Error(S(424)),t),yr(l),t=zp(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(k=St(e.firstChild),Oe=t,z=!0,qa=null,pt=!0,a=cS(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Mn(),n===l){t=ma(e,t,a);break e}_e(e,t,n,a)}t=t.child}return t;case 26:return rs(e,t),e===null?(a=rh(t.type,null,t.pendingProps,null))?t.memoizedState=a:z||(a=t.type,e=t.pendingProps,n=xs(Ga.current).createElement(a),n[De]=t,n[Xe]=e,Me(n,a,e),Ae(n),t.stateNode=n):t.memoizedState=rh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ed(t),e===null&&z&&(n=t.stateNode=Xy(t.type,t.pendingProps,Ga.current),Oe=t,pt=!0,l=k,tn(t.type)?(tf=l,k=St(n.firstChild)):k=l),_e(e,t,t.pendingProps.children,a),rs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&z&&((l=n=k)&&(n=tb(n,t.type,t.pendingProps,pt),n!==null?(t.stateNode=n,Oe=t,k=St(n.firstChild),pt=!1,l=!0):l=!1),l||ka(t)),Ed(t),l=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,n=i.children,kd(l,i)?n=null:r!==null&&kd(l,r)&&(t.flags|=32),t.memoizedState!==null&&(l=Nf(e,t,SC,null,null,a),_r._currentValue=l),rs(e,t),_e(e,t,n,a),t.child;case 6:return e===null&&z&&((e=a=k)&&(a=ab(a,t.pendingProps,pt),a!==null?(t.stateNode=a,Oe=t,k=null,e=!0):e=!1),e||ka(t)),null;case 13:return WS(e,t,a);case 4:return ms(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Rn(t,null,n,a):_e(e,t,n,a),t.child;case 11:return Rp(e,t,t.type,t.pendingProps,a);case 7:return _e(e,t,t.pendingProps,a),t.child;case 8:return _e(e,t,t.pendingProps.children,a),t.child;case 12:return _e(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ia(t,t.type,n.value),_e(e,t,n.children,a),t.child;case 9:return l=t.type._context,n=t.pendingProps.children,Ln(t),l=Ne(l),n=n(l),t.flags|=1,_e(e,t,n,a),t.child;case 14:return Ip(e,t,t.type,t.pendingProps,a);case 15:return kS(e,t,t.type,t.pendingProps,a);case 19:return ey(e,t,a);case 31:return DC(e,t,a);case 22:return $S(e,t,a,t.pendingProps);case 24:return Ln(t),n=Ne(Ee),e===null?(l=Cf(),l===null&&(l=K,i=Af(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=a),l=i),t.memoizedState={parent:n,cache:l},_f(t),Ia(t,Ee,l)):((e.lanes&a)!==0&&(Rd(e,t),or(t,null,null,a),rr()),l=e.memoizedState,i=t.memoizedState,l.parent!==n?(l={parent:n,cache:n},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),Ia(t,Ee,n)):(n=i.cache,Ia(t,Ee,n),n!==l.cache&&Md(t,[Ee],a,!0))),_e(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(S(156,t.tag))}function $t(e){e.flags|=4}function $c(e,t,a,n,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(_y())e.flags|=8192;else throw On=Ts,bf}else e.flags&=-16777217}function Vp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fy(t))if(_y())e.flags|=8192;else throw On=Ts,bf}function Yo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Dh():536870912,e.lanes|=t,Kl|=t)}function Ki(e,t){if(!z)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function J(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags&65011712,n|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function NC(e,t,a){var n=t.pendingProps;switch(Tf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return J(t),null;case 1:return J(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),sa(Ee),Hl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(hl(t)?$t(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jc())),J(t),null;case 26:var l=t.type,i=t.memoizedState;return e===null?($t(t),i!==null?(J(t),Vp(t,i)):(J(t),$c(t,l,null,n,a))):i?i!==e.memoizedState?($t(t),J(t),Vp(t,i)):(J(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&$t(t),J(t),$c(t,l,e,n,a)),null;case 27:if(gs(t),a=Ga.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&$t(t);else{if(!n){if(t.stateNode===null)throw Error(S(166));return J(t),null}e=xt.current,hl(t)?gp(t,e):(e=Xy(l,n,a),t.stateNode=e,$t(t))}return J(t),null;case 5:if(gs(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&$t(t);else{if(!n){if(t.stateNode===null)throw Error(S(166));return J(t),null}if(i=xt.current,hl(t))gp(t,i);else{var r=xs(Ga.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?r.createElement(l,{is:n.is}):r.createElement(l)}}i[De]=t,i[Xe]=n;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(Me(i,l,n),l){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&$t(t)}}return J(t),$c(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&$t(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(S(166));if(e=Ga.current,hl(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,l=Oe,l!==null)switch(l.tag){case 27:case 5:n=l.memoizedProps}e[De]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Gy(e.nodeValue,a)),e||ka(t,!0)}else e=xs(e).createTextNode(n),e[De]=t,t.stateNode=e}return J(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=hl(t),a!==null){if(e===null){if(!n)throw Error(S(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(557));e[De]=t}else Mn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;J(t),e=!1}else a=jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ze(t),t):(Ze(t),null);if((t.flags&128)!==0)throw Error(S(558))}return J(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=hl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(S(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(S(317));l[De]=t}else Mn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;J(t),l=!1}else l=jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(Ze(t),t):(Ze(t),null)}return Ze(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,l=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(l=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==l&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Yo(t,t.updateQueue),J(t),null);case 4:return Hl(),e===null&&Ff(t.stateNode.containerInfo),J(t),null;case 10:return sa(t.type),J(t),null;case 19:if(Ce(se),n=t.memoizedState,n===null)return J(t),null;if(l=(t.flags&128)!==0,i=n.rendering,i===null)if(l)Ki(n,!1);else{if(ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Cs(e),i!==null){for(t.flags|=128,Ki(n,!1),e=i.updateQueue,t.updateQueue=e,Yo(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)aS(a,e),a=a.sibling;return F(se,se.current&1|2),z&&aa(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&$e()>Ms&&(t.flags|=128,l=!0,Ki(n,!1),t.lanes=4194304)}else{if(!l)if(e=Cs(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Yo(t,e),Ki(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!z)return J(t),null}else 2*$e()-n.renderingStartTime>Ms&&a!==536870912&&(t.flags|=128,l=!0,Ki(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=$e(),e.sibling=null,a=se.current,F(se,l?a&1|2:a&1),z&&aa(t,n.treeForkCount),e):(J(t),null);case 22:case 23:return Ze(t),Df(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(J(t),t.subtreeFlags&6&&(t.flags|=8192)):J(t),a=t.updateQueue,a!==null&&Yo(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&Ce(Dn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),sa(Ee),J(t),null;case 25:return null;case 30:return null}throw Error(S(156,t.tag))}function MC(e,t){switch(Tf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sa(Ee),Hl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return gs(t),null;case 31:if(t.memoizedState!==null){if(Ze(t),t.alternate===null)throw Error(S(340));Mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ze(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));Mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(se),null;case 4:return Hl(),null;case 10:return sa(t.type),null;case 22:case 23:return Ze(t),Df(),e!==null&&Ce(Dn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sa(Ee),null;case 25:return null;default:return null}}function ay(e,t){switch(Tf(t),t.tag){case 3:sa(Ee),Hl();break;case 26:case 27:case 5:gs(t);break;case 4:Hl();break;case 31:t.memoizedState!==null&&Ze(t);break;case 13:Ze(t);break;case 19:Ce(se);break;case 10:sa(t.type);break;case 22:case 23:Ze(t),Df(),e!==null&&Ce(Dn);break;case 24:sa(Ee)}}function Ur(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var l=n.next;a=l;do{if((a.tag&e)===e){n=void 0;var i=a.create,r=a.inst;n=i(),r.destroy=n}a=a.next}while(a!==l)}}catch(o){q(t,t.return,o)}}function $a(e,t,a){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var i=l.next;n=i;do{if((n.tag&e)===e){var r=n.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,l=t;var s=a,u=o;try{u()}catch(f){q(l,s,f)}}}n=n.next}while(n!==i)}}catch(f){q(t,t.return,f)}}function ny(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{fS(t,a)}catch(n){q(e,e.return,n)}}}function ly(e,t,a){a.props=Bn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){q(e,t,n)}}function ur(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(l){q(e,t,l)}}function wt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(l){q(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){q(e,t,l)}else a.current=null}function iy(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(l){q(e,e.return,l)}}function Wc(e,t,a){try{var n=e.stateNode;ZC(n,e.type,a,t),n[Xe]=t}catch(l){q(e,e.return,l)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&tn(e.type)||e.tag===4}function ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&tn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qd(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ia));else if(n!==4&&(n===27&&tn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(qd(e,t,a),e=e.sibling;e!==null;)qd(e,t,a),e=e.sibling}function Ns(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&tn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ns(e,t,a),e=e.sibling;e!==null;)Ns(e,t,a),e=e.sibling}function oy(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Me(t,n,a),t[De]=e,t[Xe]=a}catch(i){q(e,e.return,i)}}var na=!1,ge=!1,td=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,Te=null;function LC(e,t){if(e=e.containerInfo,Zd=Vs,e=Fh(e),pf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var l=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var r=0,o=-1,s=-1,u=0,f=0,E=e,c=null;t:for(;;){for(var g;E!==a||l!==0&&E.nodeType!==3||(o=r+l),E!==i||n!==0&&E.nodeType!==3||(s=r+n),E.nodeType===3&&(r+=E.nodeValue.length),(g=E.firstChild)!==null;)c=E,E=g;for(;;){if(E===e)break t;if(c===a&&++u===l&&(o=r),c===i&&++f===n&&(s=r),(g=E.nextSibling)!==null)break;E=c,c=E.parentNode}E=g}a=o===-1||s===-1?null:{start:o,end:s}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:e,selectionRange:a},Vs=!1,Te=t;Te!==null;)if(t=Te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Te=e;else for(;Te!==null;){switch(t=Te,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)l=e[a],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,l=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var y=Bn(a.type,l);e=n.getSnapshotBeforeUpdate(y,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(T){q(a,a.return,T)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)$d(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(S(163))}if(e=t.sibling,e!==null){e.return=t.return,Te=e;break}Te=t.return}}function sy(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:ea(e,a),n&4&&Ur(5,a);break;case 1:if(ea(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){q(a,a.return,r)}else{var l=Bn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){q(a,a.return,r)}}n&64&&ny(a),n&512&&ur(a,a.return);break;case 3:if(ea(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{fS(e,t)}catch(r){q(a,a.return,r)}}break;case 27:t===null&&n&4&&oy(a);case 26:case 5:ea(e,a),t===null&&n&4&&iy(a),n&512&&ur(a,a.return);break;case 12:ea(e,a);break;case 31:ea(e,a),n&4&&dy(e,a);break;case 13:ea(e,a),n&4&&fy(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=VC.bind(null,a),nb(e,a))));break;case 22:if(n=a.memoizedState!==null||na,!n){t=t!==null&&t.memoizedState!==null||ge,l=na;var i=ge;na=n,(ge=t)&&!i?ta(e,a,(a.subtreeFlags&8772)!==0):ea(e,a),na=l,ge=i}break;case 30:break;default:ea(e,a)}}function uy(e){var t=e.alternate;t!==null&&(e.alternate=null,uy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&cf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,qe=!1;function Wt(e,t,a){for(a=a.child;a!==null;)cy(e,t,a),a=a.sibling}function cy(e,t,a){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Mr,a)}catch{}switch(a.tag){case 26:ge||wt(a,t),Wt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ge||wt(a,t);var n=ee,l=qe;tn(a.type)&&(ee=a.stateNode,qe=!1),Wt(e,t,a),mr(a.stateNode),ee=n,qe=l;break;case 5:ge||wt(a,t);case 6:if(n=ee,l=qe,ee=null,Wt(e,t,a),ee=n,qe=l,ee!==null)if(qe)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(i){q(a,t,i)}else try{ee.removeChild(a.stateNode)}catch(i){q(a,t,i)}break;case 18:ee!==null&&(qe?(e=ee,th(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Jl(e)):th(ee,a.stateNode));break;case 4:n=ee,l=qe,ee=a.stateNode.containerInfo,qe=!0,Wt(e,t,a),ee=n,qe=l;break;case 0:case 11:case 14:case 15:$a(2,a,t),ge||$a(4,a,t),Wt(e,t,a);break;case 1:ge||(wt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&ly(a,t,n)),Wt(e,t,a);break;case 21:Wt(e,t,a);break;case 22:ge=(n=ge)||a.memoizedState!==null,Wt(e,t,a),ge=n;break;default:Wt(e,t,a)}}function dy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Jl(e)}catch(a){q(t,t.return,a)}}}function fy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jl(e)}catch(a){q(t,t.return,a)}}function RC(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hp),t;default:throw Error(S(435,e.tag))}}function Xo(e,t){var a=RC(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var l=HC.bind(null,e,n);n.then(l,l)}})}function He(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var l=a[n],i=e,r=t,o=r;e:for(;o!==null;){switch(o.tag){case 27:if(tn(o.type)){ee=o.stateNode,qe=!1;break e}break;case 5:ee=o.stateNode,qe=!1;break e;case 3:case 4:ee=o.stateNode.containerInfo,qe=!0;break e}o=o.return}if(ee===null)throw Error(S(160));cy(i,r,l),ee=null,qe=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)my(t,e),t=t.sibling}var Dt=null;function my(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:He(t,e),Ge(e),n&4&&($a(3,e,e.return),Ur(3,e),$a(5,e,e.return));break;case 1:He(t,e),Ge(e),n&512&&(ge||a===null||wt(a,a.return)),n&64&&na&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var l=Dt;if(He(t,e),Ge(e),n&512&&(ge||a===null||wt(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(n){case"title":i=l.getElementsByTagName("title")[0],(!i||i[Ir]||i[De]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(n),l.head.insertBefore(i,l.querySelector("head > title"))),Me(i,n,a),i[De]=e,Ae(i),n=i;break e;case"link":var r=sh("link","href",l).get(n+(a.href||""));if(r){for(var o=0;o<r.length;o++)if(i=r[o],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(o,1);break t}}i=l.createElement(n),Me(i,n,a),l.head.appendChild(i);break;case"meta":if(r=sh("meta","content",l).get(n+(a.content||""))){for(o=0;o<r.length;o++)if(i=r[o],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(o,1);break t}}i=l.createElement(n),Me(i,n,a),l.head.appendChild(i);break;default:throw Error(S(468,n))}i[De]=e,Ae(i),n=i}e.stateNode=n}else uh(l,e.type,e.stateNode);else e.stateNode=oh(l,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?uh(l,e.type,e.stateNode):oh(l,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Wc(e,e.memoizedProps,a.memoizedProps)}break;case 27:He(t,e),Ge(e),n&512&&(ge||a===null||wt(a,a.return)),a!==null&&n&4&&Wc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(He(t,e),Ge(e),n&512&&(ge||a===null||wt(a,a.return)),e.flags&32){l=e.stateNode;try{ql(l,"")}catch(y){q(e,e.return,y)}}n&4&&e.stateNode!=null&&(l=e.memoizedProps,Wc(e,l,a!==null?a.memoizedProps:l)),n&1024&&(td=!0);break;case 6:if(He(t,e),Ge(e),n&4){if(e.stateNode===null)throw Error(S(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(y){q(e,e.return,y)}}break;case 3:if(us=null,l=Dt,Dt=Us(t.containerInfo),He(t,e),Dt=l,Ge(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(t.containerInfo)}catch(y){q(e,e.return,y)}td&&(td=!1,gy(e));break;case 4:n=Dt,Dt=Us(e.stateNode.containerInfo),He(t,e),Ge(e),Dt=n;break;case 12:He(t,e),Ge(e);break;case 31:He(t,e),Ge(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Xo(e,n)));break;case 13:He(t,e),Ge(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($s=$e()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Xo(e,n)));break;case 22:l=e.memoizedState!==null;var s=a!==null&&a.memoizedState!==null,u=na,f=ge;if(na=u||l,ge=f||s,He(t,e),ge=f,na=u,Ge(e),n&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(a===null||s||na||ge||Cn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){s=a=t;try{if(i=s.stateNode,l)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=s.stateNode;var E=s.memoizedProps.style,c=E!=null&&E.hasOwnProperty("display")?E.display:null;o.style.display=c==null||typeof c=="boolean"?"":(""+c).trim()}}catch(y){q(s,s.return,y)}}}else if(t.tag===6){if(a===null){s=t;try{s.stateNode.nodeValue=l?"":s.memoizedProps}catch(y){q(s,s.return,y)}}}else if(t.tag===18){if(a===null){s=t;try{var g=s.stateNode;l?ah(g,!0):ah(s.stateNode,!1)}catch(y){q(s,s.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Xo(e,a))));break;case 19:He(t,e),Ge(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Xo(e,n)));break;case 30:break;case 21:break;default:He(t,e),Ge(e)}}function Ge(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(ry(n)){a=n;break}n=n.return}if(a==null)throw Error(S(160));switch(a.tag){case 27:var l=a.stateNode,i=ed(e);Ns(e,i,l);break;case 5:var r=a.stateNode;a.flags&32&&(ql(r,""),a.flags&=-33);var o=ed(e);Ns(e,o,r);break;case 3:case 4:var s=a.stateNode.containerInfo,u=ed(e);qd(e,u,s);break;default:throw Error(S(161))}}catch(f){q(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;gy(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ea(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sy(e,t.alternate,t),t=t.sibling}function Cn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:$a(4,t,t.return),Cn(t);break;case 1:wt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&ly(t,t.return,a),Cn(t);break;case 27:mr(t.stateNode);case 26:case 5:wt(t,t.return),Cn(t);break;case 22:t.memoizedState===null&&Cn(t);break;case 30:Cn(t);break;default:Cn(t)}e=e.sibling}}function ta(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,l=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:ta(l,i,a),Ur(4,i);break;case 1:if(ta(l,i,a),n=i,l=n.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(u){q(n,n.return,u)}if(n=i,l=n.updateQueue,l!==null){var o=n.stateNode;try{var s=l.shared.hiddenCallbacks;if(s!==null)for(l.shared.hiddenCallbacks=null,l=0;l<s.length;l++)dS(s[l],o)}catch(u){q(n,n.return,u)}}a&&r&64&&ny(i),ur(i,i.return);break;case 27:oy(i);case 26:case 5:ta(l,i,a),a&&n===null&&r&4&&iy(i),ur(i,i.return);break;case 12:ta(l,i,a);break;case 31:ta(l,i,a),a&&r&4&&dy(l,i);break;case 13:ta(l,i,a),a&&r&4&&fy(l,i);break;case 22:i.memoizedState===null&&ta(l,i,a),ur(i,i.return);break;case 30:break;default:ta(l,i,a)}t=t.sibling}}function qf(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&wr(a))}function jf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wr(e))}function _t(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ey(e,t,a,n),t=t.sibling}function Ey(e,t,a,n){var l=t.flags;switch(t.tag){case 0:case 11:case 15:_t(e,t,a,n),l&2048&&Ur(9,t);break;case 1:_t(e,t,a,n);break;case 3:_t(e,t,a,n),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wr(e)));break;case 12:if(l&2048){_t(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,o=i.onPostCommit;typeof o=="function"&&o(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(s){q(t,t.return,s)}}else _t(e,t,a,n);break;case 31:_t(e,t,a,n);break;case 13:_t(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?_t(e,t,a,n):cr(e,t):i._visibility&2?_t(e,t,a,n):(i._visibility|=2,yl(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),l&2048&&qf(r,t);break;case 24:_t(e,t,a,n),l&2048&&jf(t.alternate,t);break;default:_t(e,t,a,n)}}function yl(e,t,a,n,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,o=a,s=n,u=r.flags;switch(r.tag){case 0:case 11:case 15:yl(i,r,o,s,l),Ur(8,r);break;case 23:break;case 22:var f=r.stateNode;r.memoizedState!==null?f._visibility&2?yl(i,r,o,s,l):cr(i,r):(f._visibility|=2,yl(i,r,o,s,l)),l&&u&2048&&qf(r.alternate,r);break;case 24:yl(i,r,o,s,l),l&&u&2048&&jf(r.alternate,r);break;default:yl(i,r,o,s,l)}t=t.sibling}}function cr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,l=n.flags;switch(n.tag){case 22:cr(a,n),l&2048&&qf(n.alternate,n);break;case 24:cr(a,n),l&2048&&jf(n.alternate,n);break;default:cr(a,n)}t=t.sibling}}var er=8192;function Sl(e,t,a){if(e.subtreeFlags&er)for(e=e.child;e!==null;)py(e,t,a),e=e.sibling}function py(e,t,a){switch(e.tag){case 26:Sl(e,t,a),e.flags&er&&e.memoizedState!==null&&Eb(a,Dt,e.memoizedState,e.memoizedProps);break;case 5:Sl(e,t,a);break;case 3:case 4:var n=Dt;Dt=Us(e.stateNode.containerInfo),Sl(e,t,a),Dt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=er,er=16777216,Sl(e,t,a),er=n):Sl(e,t,a));break;default:Sl(e,t,a)}}function hy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Qi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Te=n,yy(n,e)}hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sy(e),e=e.sibling}function Sy(e){switch(e.tag){case 0:case 11:case 15:Qi(e),e.flags&2048&&$a(9,e,e.return);break;case 3:Qi(e);break;case 12:Qi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,os(e)):Qi(e);break;default:Qi(e)}}function os(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Te=n,yy(n,e)}hy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:$a(8,t,t.return),os(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,os(t));break;default:os(t)}e=e.sibling}}function yy(e,t){for(;Te!==null;){var a=Te;switch(a.tag){case 0:case 11:case 15:$a(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:wr(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Te=n;else e:for(a=e;Te!==null;){n=Te;var l=n.sibling,i=n.return;if(uy(n),n===a){Te=null;break e}if(l!==null){l.return=i,Te=l;break e}Te=i}}}var IC={getCacheForType:function(e){var t=Ne(Ee),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Ne(Ee).controller.signal}},BC=typeof WeakMap=="function"?WeakMap:Map,V=0,K=null,x=null,U=0,G=0,Fe=null,Pa=!1,ti=!1,Yf=!1,ga=0,ie=0,Wa=0,Nn=0,Xf=0,ke=0,Kl=0,dr=null,je=null,jd=!1,$s=0,vy=0,Ms=1/0,Ls=null,Xa=null,he=0,Ka=null,Ql=null,ua=0,Yd=0,Xd=null,Ty=null,fr=0,Kd=null;function tt(){return(V&2)!==0&&U!==0?U&-U:O.T!==null?Qf():Lh()}function Ay(){if(ke===0)if((U&536870912)===0||z){var e=xo;xo<<=1,(xo&3932160)===0&&(xo=262144),ke=e}else ke=536870912;return e=nt.current,e!==null&&(e.flags|=32),ke}function Ye(e,t,a){(e===K&&(G===2||G===9)||e.cancelPendingCommit!==null)&&(Fl(e,0),Va(e,U,ke,!1)),Rr(e,a),((V&2)===0||e!==K)&&(e===K&&((V&2)===0&&(Nn|=a),ie===4&&Va(e,U,ke,!1)),zt(e))}function Cy(e,t,a){if((V&6)!==0)throw Error(S(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Lr(e,t),l=n?UC(e,t):ad(e,t,!0),i=n;do{if(l===0){ti&&!n&&Va(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!wC(a)){l=ad(e,t,!1),i=!1;continue}if(l===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var o=e;l=dr;var s=o.current.memoizedState.isDehydrated;if(s&&(Fl(o,r).flags|=256),r=ad(o,r,!1),r!==2){if(Yf&&!s){o.errorRecoveryDisabledLanes|=i,Nn|=i,l=4;break e}i=je,je=l,i!==null&&(je===null?je=i:je.push.apply(je,i))}l=r}if(i=!1,l!==2)continue}}if(l===1){Fl(e,0),Va(e,t,0,!0);break}e:{switch(n=e,i=l,i){case 0:case 1:throw Error(S(345));case 4:if((t&4194048)!==t)break;case 6:Va(n,t,ke,!Pa);break e;case 2:je=null;break;case 3:case 5:break;default:throw Error(S(329))}if((t&62914560)===t&&(l=$s+300-$e(),10<l)){if(Va(n,t,ke,!Pa),Gs(n,0,!0)!==0)break e;ua=t,n.timeoutHandle=jy(Gp.bind(null,n,a,je,Ls,jd,t,ke,Nn,Kl,Pa,i,"Throttled",-0,0),l);break e}Gp(n,a,je,Ls,jd,t,ke,Nn,Kl,Pa,i,null,-0,0)}}break}while(!0);zt(e)}function Gp(e,t,a,n,l,i,r,o,s,u,f,E,c,g){if(e.timeoutHandle=-1,E=t.subtreeFlags,E&8192||(E&16785408)===16785408){E={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ia},py(t,i,E);var y=(i&62914560)===i?$s-$e():(i&4194048)===i?vy-$e():0;if(y=pb(E,y),y!==null){ua=i,e.cancelPendingCommit=y(jp.bind(null,e,t,i,a,n,l,r,o,s,f,E,null,c,g)),Va(e,i,r,!u);return}}jp(e,t,i,a,n,l,r,o,s)}function wC(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var l=a[n],i=l.getSnapshot;l=l.value;try{if(!at(i(),l))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Va(e,t,a,n){t&=~Xf,t&=~Nn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var l=t;0<l;){var i=31-et(l),r=1<<i;n[i]=-1,l&=~r}a!==0&&Oh(e,a,t)}function Ws(){return(V&6)===0?(zr(0,!1),!1):!0}function Kf(){if(x!==null){if(G===0)var e=x.return;else e=x,ra=Pn=null,Rf(e),zl=null,vr=0,e=x;for(;e!==null;)ay(e.alternate,e),e=e.return;x=null}}function Fl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,$C(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ua=0,Kf(),K=e,x=a=oa(e.current,null),U=t,G=0,Fe=null,Pa=!1,ti=Lr(e,t),Yf=!1,Kl=ke=Xf=Nn=Wa=ie=0,je=dr=null,jd=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var l=31-et(n),i=1<<l;t|=e[l],n&=~i}return ga=t,Xs(),a}function by(e,t){L=null,O.H=Ar,t===ei||t===Qs?(t=yp(),G=3):t===bf?(t=yp(),G=4):G=t===Hf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Fe=t,x===null&&(ie=1,Ds(e,Et(t,e.current)))}function _y(){var e=nt.current;return e===null?!0:(U&4194048)===U?ht===null:(U&62914560)===U||(U&536870912)!==0?e===ht:!1}function Dy(){var e=O.H;return O.H=Ar,e===null?Ar:e}function Oy(){var e=O.A;return O.A=IC,e}function Rs(){ie=4,Pa||(U&4194048)!==U&&nt.current!==null||(ti=!0),(Wa&134217727)===0&&(Nn&134217727)===0||K===null||Va(K,U,ke,!1)}function ad(e,t,a){var n=V;V|=2;var l=Dy(),i=Oy();(K!==e||U!==t)&&(Ls=null,Fl(e,t)),t=!1;var r=ie;e:do try{if(G!==0&&x!==null){var o=x,s=Fe;switch(G){case 8:Kf(),r=6;break e;case 3:case 2:case 9:case 6:nt.current===null&&(t=!0);var u=G;if(G=0,Fe=null,Il(e,o,s,u),a&&ti){r=0;break e}break;default:u=G,G=0,Fe=null,Il(e,o,s,u)}}xC(),r=ie;break}catch(f){by(e,f)}while(!0);return t&&e.shellSuspendCounter++,ra=Pn=null,V=n,O.H=l,O.A=i,x===null&&(K=null,U=0,Xs()),r}function xC(){for(;x!==null;)Ny(x)}function UC(e,t){var a=V;V|=2;var n=Dy(),l=Oy();K!==e||U!==t?(Ls=null,Ms=$e()+500,Fl(e,t)):ti=Lr(e,t);e:do try{if(G!==0&&x!==null){t=x;var i=Fe;t:switch(G){case 1:G=0,Fe=null,Il(e,t,i,1);break;case 2:case 9:if(Sp(i)){G=0,Fe=null,qp(t);break}t=function(){G!==2&&G!==9||K!==e||(G=7),zt(e)},i.then(t,t);break e;case 3:G=7;break e;case 4:G=5;break e;case 7:Sp(i)?(G=0,Fe=null,qp(t)):(G=0,Fe=null,Il(e,t,i,7));break;case 5:var r=null;switch(x.tag){case 26:r=x.memoizedState;case 5:case 27:var o=x;if(r?Fy(r):o.stateNode.complete){G=0,Fe=null;var s=o.sibling;if(s!==null)x=s;else{var u=o.return;u!==null?(x=u,eu(u)):x=null}break t}}G=0,Fe=null,Il(e,t,i,5);break;case 6:G=0,Fe=null,Il(e,t,i,6);break;case 8:Kf(),ie=6;break e;default:throw Error(S(462))}}zC();break}catch(f){by(e,f)}while(!0);return ra=Pn=null,O.H=n,O.A=l,V=a,x!==null?0:(K=null,U=0,Xs(),ie)}function zC(){for(;x!==null&&!rA();)Ny(x)}function Ny(e){var t=ty(e.alternate,e,ga);e.memoizedProps=e.pendingProps,t===null?eu(e):x=t}function qp(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=xp(a,t,t.pendingProps,t.type,void 0,U);break;case 11:t=xp(a,t,t.pendingProps,t.type.render,t.ref,U);break;case 5:Rf(t);default:ay(a,t),t=x=aS(t,ga),t=ty(a,t,ga)}e.memoizedProps=e.pendingProps,t===null?eu(e):x=t}function Il(e,t,a,n){ra=Pn=null,Rf(t),zl=null,vr=0;var l=t.return;try{if(_C(e,l,t,a,U)){ie=1,Ds(e,Et(a,e.current)),x=null;return}}catch(i){if(l!==null)throw x=l,i;ie=1,Ds(e,Et(a,e.current)),x=null;return}t.flags&32768?(z||n===1?e=!0:ti||(U&536870912)!==0?e=!1:(Pa=e=!0,(n===2||n===9||n===3||n===6)&&(n=nt.current,n!==null&&n.tag===13&&(n.flags|=16384))),My(t,e)):eu(t)}function eu(e){var t=e;do{if((t.flags&32768)!==0){My(t,Pa);return}e=t.return;var a=NC(t.alternate,t,ga);if(a!==null){x=a;return}if(t=t.sibling,t!==null){x=t;return}x=t=e}while(t!==null);ie===0&&(ie=5)}function My(e,t){do{var a=MC(e.alternate,e);if(a!==null){a.flags&=32767,x=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){x=e;return}x=e=a}while(e!==null);ie=6,x=null}function jp(e,t,a,n,l,i,r,o,s){e.cancelPendingCommit=null;do tu();while(he!==0);if((V&6)!==0)throw Error(S(327));if(t!==null){if(t===e.current)throw Error(S(177));if(i=t.lanes|t.childLanes,i|=hf,pA(e,a,i,r,o,s),e===K&&(x=K=null,U=0),Ql=t,Ka=e,ua=a,Yd=i,Xd=l,Ty=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,GC(Es,function(){return wy(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=O.T,O.T=null,l=H.p,H.p=2,r=V,V|=4;try{LC(e,t,a)}finally{V=r,H.p=l,O.T=n}}he=1,Ly(),Ry(),Iy()}}function Ly(){if(he===1){he=0;var e=Ka,t=Ql,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var n=H.p;H.p=2;var l=V;V|=4;try{my(t,e);var i=Jd,r=Fh(e.containerInfo),o=i.focusedElem,s=i.selectionRange;if(r!==o&&o&&o.ownerDocument&&Qh(o.ownerDocument.documentElement,o)){if(s!==null&&pf(o)){var u=s.start,f=s.end;if(f===void 0&&(f=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(f,o.value.length);else{var E=o.ownerDocument||document,c=E&&E.defaultView||window;if(c.getSelection){var g=c.getSelection(),y=o.textContent.length,T=Math.min(s.start,y),_=s.end===void 0?T:Math.min(s.end,y);!g.extend&&T>_&&(r=_,_=T,T=r);var m=dp(o,T),d=dp(o,_);if(m&&d&&(g.rangeCount!==1||g.anchorNode!==m.node||g.anchorOffset!==m.offset||g.focusNode!==d.node||g.focusOffset!==d.offset)){var p=E.createRange();p.setStart(m.node,m.offset),g.removeAllRanges(),T>_?(g.addRange(p),g.extend(d.node,d.offset)):(p.setEnd(d.node,d.offset),g.addRange(p))}}}}for(E=[],g=o;g=g.parentNode;)g.nodeType===1&&E.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<E.length;o++){var h=E[o];h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}Vs=!!Zd,Jd=Zd=null}finally{V=l,H.p=n,O.T=a}}e.current=t,he=2}}function Ry(){if(he===2){he=0;var e=Ka,t=Ql,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var n=H.p;H.p=2;var l=V;V|=4;try{sy(e,t.alternate,t)}finally{V=l,H.p=n,O.T=a}}he=3}}function Iy(){if(he===4||he===3){he=0,oA();var e=Ka,t=Ql,a=ua,n=Ty;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?he=5:(he=0,Ql=Ka=null,By(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Xa=null),uf(a),t=t.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Mr,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=O.T,l=H.p,H.p=2,O.T=null;try{for(var i=e.onRecoverableError,r=0;r<n.length;r++){var o=n[r];i(o.value,{componentStack:o.stack})}}finally{O.T=t,H.p=l}}(ua&3)!==0&&tu(),zt(e),l=e.pendingLanes,(a&261930)!==0&&(l&42)!==0?e===Kd?fr++:(fr=0,Kd=e):fr=0,zr(0,!1)}}function By(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,wr(t)))}function tu(){return Ly(),Ry(),Iy(),wy()}function wy(){if(he!==5)return!1;var e=Ka,t=Yd;Yd=0;var a=uf(ua),n=O.T,l=H.p;try{H.p=32>a?32:a,O.T=null,a=Xd,Xd=null;var i=Ka,r=ua;if(he=0,Ql=Ka=null,ua=0,(V&6)!==0)throw Error(S(331));var o=V;if(V|=4,Sy(i.current),Ey(i,i.current,r,a),V=o,zr(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Mr,i)}catch{}return!0}finally{H.p=l,O.T=n,By(e,t)}}function Yp(e,t,a){t=Et(a,t),t=Vd(e.stateNode,t,2),e=Ya(e,t,2),e!==null&&(Rr(e,2),zt(e))}function q(e,t,a){if(e.tag===3)Yp(e,e,a);else for(;t!==null;){if(t.tag===3){Yp(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xa===null||!Xa.has(n))){e=Et(a,e),a=ZS(2),n=Ya(t,a,2),n!==null&&(JS(a,n,t,e),Rr(n,2),zt(n));break}}t=t.return}}function nd(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new BC;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(a)||(Yf=!0,l.add(a),e=PC.bind(null,e,t,a),t.then(e,e))}function PC(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,K===e&&(U&a)===a&&(ie===4||ie===3&&(U&62914560)===U&&300>$e()-$s?(V&2)===0&&Fl(e,0):Xf|=a,Kl===U&&(Kl=0)),zt(e)}function xy(e,t){t===0&&(t=Dh()),e=zn(e,t),e!==null&&(Rr(e,t),zt(e))}function VC(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),xy(e,a)}function HC(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(S(314))}n!==null&&n.delete(t),xy(e,a)}function GC(e,t){return of(e,t)}var Is=null,vl=null,Qd=!1,Bs=!1,ld=!1,Ha=0;function zt(e){e!==vl&&e.next===null&&(vl===null?Is=vl=e:vl=vl.next=e),Bs=!0,Qd||(Qd=!0,jC())}function zr(e,t){if(!ld&&Bs){ld=!0;do for(var a=!1,n=Is;n!==null;){if(!t)if(e!==0){var l=n.pendingLanes;if(l===0)var i=0;else{var r=n.suspendedLanes,o=n.pingedLanes;i=(1<<31-et(42|e)+1)-1,i&=l&~(r&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Xp(n,i))}else i=U,i=Gs(n,n===K?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||Lr(n,i)||(a=!0,Xp(n,i));n=n.next}while(a);ld=!1}}function qC(){Uy()}function Uy(){Bs=Qd=!1;var e=0;Ha!==0&&kC()&&(e=Ha);for(var t=$e(),a=null,n=Is;n!==null;){var l=n.next,i=zy(n,t);i===0?(n.next=null,a===null?Is=l:a.next=l,l===null&&(vl=a)):(a=n,(e!==0||(i&3)!==0)&&(Bs=!0)),n=l}he!==0&&he!==5||zr(e,!1),Ha!==0&&(Ha=0)}function zy(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-et(i),o=1<<r,s=l[r];s===-1?((o&a)===0||(o&n)!==0)&&(l[r]=EA(o,t)):s<=t&&(e.expiredLanes|=o),i&=~o}if(t=K,a=U,a=Gs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(G===2||G===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Bc(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Lr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Bc(n),uf(a)){case 2:case 8:a=bh;break;case 32:a=Es;break;case 268435456:a=_h;break;default:a=Es}return n=Py.bind(null,e),a=of(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Bc(n),e.callbackPriority=2,e.callbackNode=null,2}function Py(e,t){if(he!==0&&he!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(tu()&&e.callbackNode!==a)return null;var n=U;return n=Gs(e,e===K?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Cy(e,n,t),zy(e,$e()),e.callbackNode!=null&&e.callbackNode===a?Py.bind(null,e):null)}function Xp(e,t){if(tu())return null;Cy(e,t,!0)}function jC(){WC(function(){(V&6)!==0?of(Ch,qC):Uy()})}function Qf(){if(Ha===0){var e=jl;e===0&&(e=wo,wo<<=1,(wo&261888)===0&&(wo=256)),Ha=e}return Ha}function Kp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$o(""+e)}function Qp(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function YC(e,t,a,n,l){if(t==="submit"&&a&&a.stateNode===l){var i=Kp((l[Xe]||null).action),r=n.submitter;r&&(t=(t=r[Xe]||null)?Kp(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var o=new qs("action","action",null,n,l);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ha!==0){var s=r?Qp(l,r):new FormData(l);zd(a,{pending:!0,data:s,method:l.method,action:i},null,s)}}else typeof i=="function"&&(o.preventDefault(),s=r?Qp(l,r):new FormData(l),zd(a,{pending:!0,data:s,method:l.method,action:i},i,s))},currentTarget:l}]})}}for(Ko=0;Ko<_d.length;Ko++)Qo=_d[Ko],Fp=Qo.toLowerCase(),Zp=Qo[0].toUpperCase()+Qo.slice(1),Ot(Fp,"on"+Zp);var Qo,Fp,Zp,Ko;Ot(Jh,"onAnimationEnd");Ot(kh,"onAnimationIteration");Ot($h,"onAnimationStart");Ot("dblclick","onDoubleClick");Ot("focusin","onFocus");Ot("focusout","onBlur");Ot(sC,"onTransitionRun");Ot(uC,"onTransitionStart");Ot(cC,"onTransitionCancel");Ot(Wh,"onTransitionEnd");Gl("onMouseEnter",["mouseout","mouseover"]);Gl("onMouseLeave",["mouseout","mouseover"]);Gl("onPointerEnter",["pointerout","pointerover"]);Gl("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cr));function Vy(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],l=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var r=n.length-1;0<=r;r--){var o=n[r],s=o.instance,u=o.currentTarget;if(o=o.listener,s!==i&&l.isPropagationStopped())break e;i=o,l.currentTarget=u;try{i(l)}catch(f){hs(f)}l.currentTarget=null,i=s}else for(r=0;r<n.length;r++){if(o=n[r],s=o.instance,u=o.currentTarget,o=o.listener,s!==i&&l.isPropagationStopped())break e;i=o,l.currentTarget=u;try{i(l)}catch(f){hs(f)}l.currentTarget=null,i=s}}}}function w(e,t){var a=t[hd];a===void 0&&(a=t[hd]=new Set);var n=e+"__bubble";a.has(n)||(Hy(t,e,2,!1),a.add(n))}function id(e,t,a){var n=0;t&&(n|=4),Hy(a,e,n,t)}var Fo="_reactListening"+Math.random().toString(36).slice(2);function Ff(e){if(!e[Fo]){e[Fo]=!0,Rh.forEach(function(a){a!=="selectionchange"&&(XC.has(a)||id(a,!1,e),id(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fo]||(t[Fo]=!0,id("selectionchange",!1,t))}}function Hy(e,t,a,n){switch(Wy(t)){case 2:var l=yb;break;case 8:l=vb;break;default:l=$f}a=l.bind(null,t,a,e),l=void 0,!Ad||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,a,{capture:!0,passive:l}):e.addEventListener(t,a,!0):l!==void 0?e.addEventListener(t,a,{passive:l}):e.addEventListener(t,a,!1)}function rd(e,t,a,n,l){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var r=n.tag;if(r===3||r===4){var o=n.stateNode.containerInfo;if(o===l)break;if(r===4)for(r=n.return;r!==null;){var s=r.tag;if((s===3||s===4)&&r.stateNode.containerInfo===l)return;r=r.return}for(;o!==null;){if(r=Cl(o),r===null)return;if(s=r.tag,s===5||s===6||s===26||s===27){n=i=r;continue e}o=o.parentNode}}n=n.return}Vh(function(){var u=i,f=ff(a),E=[];e:{var c=eS.get(e);if(c!==void 0){var g=qs,y=e;switch(e){case"keypress":if(es(a)===0)break e;case"keydown":case"keyup":g=HA;break;case"focusin":y="focus",g=Pc;break;case"focusout":y="blur",g=Pc;break;case"beforeblur":case"afterblur":g=Pc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ap;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=NA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=jA;break;case Jh:case kh:case $h:g=RA;break;case Wh:g=XA;break;case"scroll":case"scrollend":g=DA;break;case"wheel":g=QA;break;case"copy":case"cut":case"paste":g=BA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=lp;break;case"toggle":case"beforetoggle":g=ZA}var T=(t&4)!==0,_=!T&&(e==="scroll"||e==="scrollend"),m=T?c!==null?c+"Capture":null:c;T=[];for(var d=u,p;d!==null;){var h=d;if(p=h.stateNode,h=h.tag,h!==5&&h!==26&&h!==27||p===null||m===null||(h=Er(d,m),h!=null&&T.push(br(d,h,p))),_)break;d=d.return}0<T.length&&(c=new g(c,y,null,a,f),E.push({event:c,listeners:T}))}}if((t&7)===0){e:{if(c=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",c&&a!==Td&&(y=a.relatedTarget||a.fromElement)&&(Cl(y)||y[kl]))break e;if((g||c)&&(c=f.window===f?f:(c=f.ownerDocument)?c.defaultView||c.parentWindow:window,g?(y=a.relatedTarget||a.toElement,g=u,y=y?Cl(y):null,y!==null&&(_=Nr(y),T=y.tag,y!==_||T!==5&&T!==27&&T!==6)&&(y=null)):(g=null,y=u),g!==y)){if(T=ap,h="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(T=lp,h="onPointerLeave",m="onPointerEnter",d="pointer"),_=g==null?c:$i(g),p=y==null?c:$i(y),c=new T(h,d+"leave",g,a,f),c.target=_,c.relatedTarget=p,h=null,Cl(f)===u&&(T=new T(m,d+"enter",y,a,f),T.target=p,T.relatedTarget=_,h=T),_=h,g&&y)t:{for(T=KC,m=g,d=y,p=0,h=m;h;h=T(h))p++;h=0;for(var A=d;A;A=T(A))h++;for(;0<p-h;)m=T(m),p--;for(;0<h-p;)d=T(d),h--;for(;p--;){if(m===d||d!==null&&m===d.alternate){T=m;break t}m=T(m),d=T(d)}T=null}else T=null;g!==null&&Jp(E,c,g,T,!1),y!==null&&_!==null&&Jp(E,_,y,T,!0)}}e:{if(c=u?$i(u):window,g=c.nodeName&&c.nodeName.toLowerCase(),g==="select"||g==="input"&&c.type==="file")var R=sp;else if(op(c))if(Xh)R=iC;else{R=nC;var v=aC}else g=c.nodeName,!g||g.toLowerCase()!=="input"||c.type!=="checkbox"&&c.type!=="radio"?u&&df(u.elementType)&&(R=sp):R=lC;if(R&&(R=R(e,u))){Yh(E,R,a,f);break e}v&&v(e,c,u),e==="focusout"&&u&&c.type==="number"&&u.memoizedProps.value!=null&&vd(c,"number",c.value)}switch(v=u?$i(u):window,e){case"focusin":(op(v)||v.contentEditable==="true")&&(Dl=v,Cd=u,nr=null);break;case"focusout":nr=Cd=Dl=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,fp(E,a,f);break;case"selectionchange":if(oC)break;case"keydown":case"keyup":fp(E,a,f)}var D;if(Ef)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else _l?qh(e,a)&&(C="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(C="onCompositionStart");C&&(Gh&&a.locale!=="ko"&&(_l||C!=="onCompositionStart"?C==="onCompositionEnd"&&_l&&(D=Hh()):(za=f,mf="value"in za?za.value:za.textContent,_l=!0)),v=ws(u,C),0<v.length&&(C=new np(C,e,null,a,f),E.push({event:C,listeners:v}),D?C.data=D:(D=jh(a),D!==null&&(C.data=D)))),(D=kA?$A(e,a):WA(e,a))&&(C=ws(u,"onBeforeInput"),0<C.length&&(v=new np("onBeforeInput","beforeinput",null,a,f),E.push({event:v,listeners:C}),v.data=D)),YC(E,e,u,a,f)}Vy(E,t)})}function br(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ws(e,t){for(var a=t+"Capture",n=[];e!==null;){var l=e,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=Er(e,a),l!=null&&n.unshift(br(e,l,i)),l=Er(e,t),l!=null&&n.push(br(e,l,i))),e.tag===3)return n;e=e.return}return[]}function KC(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jp(e,t,a,n,l){for(var i=t._reactName,r=[];a!==null&&a!==n;){var o=a,s=o.alternate,u=o.stateNode;if(o=o.tag,s!==null&&s===n)break;o!==5&&o!==26&&o!==27||u===null||(s=u,l?(u=Er(a,i),u!=null&&r.unshift(br(a,u,s))):l||(u=Er(a,i),u!=null&&r.push(br(a,u,s)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var QC=/\r\n?/g,FC=/\u0000|\uFFFD/g;function kp(e){return(typeof e=="string"?e:""+e).replace(QC,`
`).replace(FC,"")}function Gy(e,t){return t=kp(t),kp(e)===t}function Y(e,t,a,n,l,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||ql(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&ql(e,""+n);break;case"className":zo(e,"class",n);break;case"tabIndex":zo(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":zo(e,a,n);break;case"style":Ph(e,n,i);break;case"data":if(t!=="object"){zo(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=$o(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&Y(e,t,"name",l.name,l,null),Y(e,t,"formEncType",l.formEncType,l,null),Y(e,t,"formMethod",l.formMethod,l,null),Y(e,t,"formTarget",l.formTarget,l,null)):(Y(e,t,"encType",l.encType,l,null),Y(e,t,"method",l.method,l,null),Y(e,t,"target",l.target,l,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=$o(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=ia);break;case"onScroll":n!=null&&w("scroll",e);break;case"onScrollEnd":n!=null&&w("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(S(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(S(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=$o(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":w("beforetoggle",e),w("toggle",e),ko(e,"popover",n);break;case"xlinkActuate":kt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":kt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":kt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":kt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":kt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":kt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":kt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":kt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":kt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ko(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bA.get(a)||a,ko(e,a,n))}}function Fd(e,t,a,n,l,i){switch(a){case"style":Ph(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(S(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(S(60));e.innerHTML=a}}break;case"children":typeof n=="string"?ql(e,n):(typeof n=="number"||typeof n=="bigint")&&ql(e,""+n);break;case"onScroll":n!=null&&w("scroll",e);break;case"onScrollEnd":n!=null&&w("scrollend",e);break;case"onClick":n!=null&&(e.onclick=ia);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ih.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),t=a.slice(2,l?a.length-7:void 0),i=e[Xe]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,l),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,l);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):ko(e,a,n)}}}function Me(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":w("error",e),w("load",e);var n=!1,l=!1,i;for(i in a)if(a.hasOwnProperty(i)){var r=a[i];if(r!=null)switch(i){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:Y(e,t,i,r,a,null)}}l&&Y(e,t,"srcSet",a.srcSet,a,null),n&&Y(e,t,"src",a.src,a,null);return;case"input":w("invalid",e);var o=i=r=l=null,s=null,u=null;for(n in a)if(a.hasOwnProperty(n)){var f=a[n];if(f!=null)switch(n){case"name":l=f;break;case"type":r=f;break;case"checked":s=f;break;case"defaultChecked":u=f;break;case"value":i=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(S(137,t));break;default:Y(e,t,n,f,a,null)}}xh(e,i,o,s,u,r,l,!1);return;case"select":w("invalid",e),n=r=i=null;for(l in a)if(a.hasOwnProperty(l)&&(o=a[l],o!=null))switch(l){case"value":i=o;break;case"defaultValue":r=o;break;case"multiple":n=o;default:Y(e,t,l,o,a,null)}t=i,a=r,e.multiple=!!n,t!=null?wl(e,!!n,t,!1):a!=null&&wl(e,!!n,a,!0);return;case"textarea":w("invalid",e),i=l=n=null;for(r in a)if(a.hasOwnProperty(r)&&(o=a[r],o!=null))switch(r){case"value":n=o;break;case"defaultValue":l=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(S(91));break;default:Y(e,t,r,o,a,null)}zh(e,n,l,i);return;case"option":for(s in a)if(a.hasOwnProperty(s)&&(n=a[s],n!=null))switch(s){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Y(e,t,s,n,a,null)}return;case"dialog":w("beforetoggle",e),w("toggle",e),w("cancel",e),w("close",e);break;case"iframe":case"object":w("load",e);break;case"video":case"audio":for(n=0;n<Cr.length;n++)w(Cr[n],e);break;case"image":w("error",e),w("load",e);break;case"details":w("toggle",e);break;case"embed":case"source":case"link":w("error",e),w("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(n=a[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:Y(e,t,u,n,a,null)}return;default:if(df(t)){for(f in a)a.hasOwnProperty(f)&&(n=a[f],n!==void 0&&Fd(e,t,f,n,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(n=a[o],n!=null&&Y(e,t,o,n,a,null))}function ZC(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,r=null,o=null,s=null,u=null,f=null;for(g in a){var E=a[g];if(a.hasOwnProperty(g)&&E!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":s=E;default:n.hasOwnProperty(g)||Y(e,t,g,null,n,E)}}for(var c in n){var g=n[c];if(E=a[c],n.hasOwnProperty(c)&&(g!=null||E!=null))switch(c){case"type":i=g;break;case"name":l=g;break;case"checked":u=g;break;case"defaultChecked":f=g;break;case"value":r=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(S(137,t));break;default:g!==E&&Y(e,t,c,g,n,E)}}yd(e,r,o,s,u,f,i,l);return;case"select":g=r=o=c=null;for(i in a)if(s=a[i],a.hasOwnProperty(i)&&s!=null)switch(i){case"value":break;case"multiple":g=s;default:n.hasOwnProperty(i)||Y(e,t,i,null,n,s)}for(l in n)if(i=n[l],s=a[l],n.hasOwnProperty(l)&&(i!=null||s!=null))switch(l){case"value":c=i;break;case"defaultValue":o=i;break;case"multiple":r=i;default:i!==s&&Y(e,t,l,i,n,s)}t=o,a=r,n=g,c!=null?wl(e,!!a,c,!1):!!n!=!!a&&(t!=null?wl(e,!!a,t,!0):wl(e,!!a,a?[]:"",!1));return;case"textarea":g=c=null;for(o in a)if(l=a[o],a.hasOwnProperty(o)&&l!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Y(e,t,o,null,n,l)}for(r in n)if(l=n[r],i=a[r],n.hasOwnProperty(r)&&(l!=null||i!=null))switch(r){case"value":c=l;break;case"defaultValue":g=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(S(91));break;default:l!==i&&Y(e,t,r,l,n,i)}Uh(e,c,g);return;case"option":for(var y in a)if(c=a[y],a.hasOwnProperty(y)&&c!=null&&!n.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:Y(e,t,y,null,n,c)}for(s in n)if(c=n[s],g=a[s],n.hasOwnProperty(s)&&c!==g&&(c!=null||g!=null))switch(s){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Y(e,t,s,c,n,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var T in a)c=a[T],a.hasOwnProperty(T)&&c!=null&&!n.hasOwnProperty(T)&&Y(e,t,T,null,n,c);for(u in n)if(c=n[u],g=a[u],n.hasOwnProperty(u)&&c!==g&&(c!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(S(137,t));break;default:Y(e,t,u,c,n,g)}return;default:if(df(t)){for(var _ in a)c=a[_],a.hasOwnProperty(_)&&c!==void 0&&!n.hasOwnProperty(_)&&Fd(e,t,_,void 0,n,c);for(f in n)c=n[f],g=a[f],!n.hasOwnProperty(f)||c===g||c===void 0&&g===void 0||Fd(e,t,f,c,n,g);return}}for(var m in a)c=a[m],a.hasOwnProperty(m)&&c!=null&&!n.hasOwnProperty(m)&&Y(e,t,m,null,n,c);for(E in n)c=n[E],g=a[E],!n.hasOwnProperty(E)||c===g||c==null&&g==null||Y(e,t,E,c,n,g)}function $p(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JC(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var l=a[n],i=l.transferSize,r=l.initiatorType,o=l.duration;if(i&&o&&$p(r)){for(r=0,o=l.responseEnd,n+=1;n<a.length;n++){var s=a[n],u=s.startTime;if(u>o)break;var f=s.transferSize,E=s.initiatorType;f&&$p(E)&&(s=s.responseEnd,r+=f*(s<o?1:(o-u)/(s-u)))}if(--n,t+=8*(i+r)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zd=null,Jd=null;function xs(e){return e.nodeType===9?e:e.ownerDocument}function Wp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qy(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function kd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var od=null;function kC(){var e=window.event;return e&&e.type==="popstate"?e===od?!1:(od=e,!0):(od=null,!1)}var jy=typeof setTimeout=="function"?setTimeout:void 0,$C=typeof clearTimeout=="function"?clearTimeout:void 0,eh=typeof Promise=="function"?Promise:void 0,WC=typeof queueMicrotask=="function"?queueMicrotask:typeof eh<"u"?function(e){return eh.resolve(null).then(e).catch(eb)}:jy;function eb(e){setTimeout(function(){throw e})}function tn(e){return e==="head"}function th(e,t){var a=t,n=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(l),Jl(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")mr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,mr(a);for(var i=a.firstChild;i;){var r=i.nextSibling,o=i.nodeName;i[Ir]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}else a==="body"&&mr(e.ownerDocument.body);a=l}while(a);Jl(t)}function ah(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function $d(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$d(a),cf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function tb(e,t,a,n){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Ir])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=St(e.nextSibling),e===null)break}return null}function ab(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=St(e.nextSibling),e===null))return null;return e}function Yy(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=St(e.nextSibling),e===null))return null;return e}function Wd(e){return e.data==="$?"||e.data==="$~"}function ef(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nb(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function St(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var tf=null;function nh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return St(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function lh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Xy(e,t,a){switch(t=xs(a),e){case"html":if(e=t.documentElement,!e)throw Error(S(452));return e;case"head":if(e=t.head,!e)throw Error(S(453));return e;case"body":if(e=t.body,!e)throw Error(S(454));return e;default:throw Error(S(451))}}function mr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);cf(e)}var yt=new Map,ih=new Set;function Us(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ea=H.d;H.d={f:lb,r:ib,D:rb,C:ob,L:sb,m:ub,X:db,S:cb,M:fb};function lb(){var e=Ea.f(),t=Ws();return e||t}function ib(e){var t=$l(e);t!==null&&t.tag===5&&t.type==="form"?PS(t):Ea.r(e)}var ai=typeof document>"u"?null:document;function Ky(e,t,a){var n=ai;if(n&&typeof t=="string"&&t){var l=gt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),ih.has(l)||(ih.add(l),e={rel:e,crossOrigin:a,href:t},n.querySelector(l)===null&&(t=n.createElement("link"),Me(t,"link",e),Ae(t),n.head.appendChild(t)))}}function rb(e){Ea.D(e),Ky("dns-prefetch",e,null)}function ob(e,t){Ea.C(e,t),Ky("preconnect",e,t)}function sb(e,t,a){Ea.L(e,t,a);var n=ai;if(n&&e&&t){var l='link[rel="preload"][as="'+gt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+gt(a.imageSizes)+'"]')):l+='[href="'+gt(e)+'"]';var i=l;switch(t){case"style":i=Zl(e);break;case"script":i=ni(e)}yt.has(i)||(e=$({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),yt.set(i,e),n.querySelector(l)!==null||t==="style"&&n.querySelector(Pr(i))||t==="script"&&n.querySelector(Vr(i))||(t=n.createElement("link"),Me(t,"link",e),Ae(t),n.head.appendChild(t)))}}function ub(e,t){Ea.m(e,t);var a=ai;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+gt(n)+'"][href="'+gt(e)+'"]',i=l;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ni(e)}if(!yt.has(i)&&(e=$({rel:"modulepreload",href:e},t),yt.set(i,e),a.querySelector(l)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vr(i)))return}n=a.createElement("link"),Me(n,"link",e),Ae(n),a.head.appendChild(n)}}}function cb(e,t,a){Ea.S(e,t,a);var n=ai;if(n&&e){var l=Bl(n).hoistableStyles,i=Zl(e);t=t||"default";var r=l.get(i);if(!r){var o={loading:0,preload:null};if(r=n.querySelector(Pr(i)))o.loading=5;else{e=$({rel:"stylesheet",href:e,"data-precedence":t},a),(a=yt.get(i))&&Zf(e,a);var s=r=n.createElement("link");Ae(s),Me(s,"link",e),s._p=new Promise(function(u,f){s.onload=u,s.onerror=f}),s.addEventListener("load",function(){o.loading|=1}),s.addEventListener("error",function(){o.loading|=2}),o.loading|=4,ss(r,t,n)}r={type:"stylesheet",instance:r,count:1,state:o},l.set(i,r)}}}function db(e,t){Ea.X(e,t);var a=ai;if(a&&e){var n=Bl(a).hoistableScripts,l=ni(e),i=n.get(l);i||(i=a.querySelector(Vr(l)),i||(e=$({src:e,async:!0},t),(t=yt.get(l))&&Jf(e,t),i=a.createElement("script"),Ae(i),Me(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function fb(e,t){Ea.M(e,t);var a=ai;if(a&&e){var n=Bl(a).hoistableScripts,l=ni(e),i=n.get(l);i||(i=a.querySelector(Vr(l)),i||(e=$({src:e,async:!0,type:"module"},t),(t=yt.get(l))&&Jf(e,t),i=a.createElement("script"),Ae(i),Me(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function rh(e,t,a,n){var l=(l=Ga.current)?Us(l):null;if(!l)throw Error(S(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Zl(a.href),a=Bl(l).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Zl(a.href);var i=Bl(l).hoistableStyles,r=i.get(e);if(r||(l=l.ownerDocument||l,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=l.querySelector(Pr(e)))&&!i._p&&(r.instance=i,r.state.loading=5),yt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},yt.set(e,a),i||mb(l,e,a,r.state))),t&&n===null)throw Error(S(528,""));return r}if(t&&n!==null)throw Error(S(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ni(a),a=Bl(l).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(S(444,e))}}function Zl(e){return'href="'+gt(e)+'"'}function Pr(e){return'link[rel="stylesheet"]['+e+"]"}function Qy(e){return $({},e,{"data-precedence":e.precedence,precedence:null})}function mb(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Me(t,"link",a),Ae(t),e.head.appendChild(t))}function ni(e){return'[src="'+gt(e)+'"]'}function Vr(e){return"script[async]"+e}function oh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+gt(a.href)+'"]');if(n)return t.instance=n,Ae(n),n;var l=$({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ae(n),Me(n,"style",l),ss(n,a.precedence,e),t.instance=n;case"stylesheet":l=Zl(a.href);var i=e.querySelector(Pr(l));if(i)return t.state.loading|=4,t.instance=i,Ae(i),i;n=Qy(a),(l=yt.get(l))&&Zf(n,l),i=(e.ownerDocument||e).createElement("link"),Ae(i);var r=i;return r._p=new Promise(function(o,s){r.onload=o,r.onerror=s}),Me(i,"link",n),t.state.loading|=4,ss(i,a.precedence,e),t.instance=i;case"script":return i=ni(a.src),(l=e.querySelector(Vr(i)))?(t.instance=l,Ae(l),l):(n=a,(l=yt.get(i))&&(n=$({},a),Jf(n,l)),e=e.ownerDocument||e,l=e.createElement("script"),Ae(l),Me(l,"link",n),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(S(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,ss(n,a.precedence,e));return t.instance}function ss(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=n.length?n[n.length-1]:null,i=l,r=0;r<n.length;r++){var o=n[r];if(o.dataset.precedence===t)i=o;else if(i!==l)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Zf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Jf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var us=null;function sh(e,t,a){if(us===null){var n=new Map,l=us=new Map;l.set(a,n)}else l=us,n=l.get(a),n||(n=new Map,l.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var i=a[l];if(!(i[Ir]||i[De]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var o=n.get(r);o?o.push(i):n.set(r,[i])}}return n}function uh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function gb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Fy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Eb(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var l=Zl(n.href),i=t.querySelector(Pr(l));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=zs.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Ae(i);return}i=t.ownerDocument||t,n=Qy(n),(l=yt.get(l))&&Zf(n,l),i=i.createElement("link"),Ae(i);var r=i;r._p=new Promise(function(o,s){r.onload=o,r.onerror=s}),Me(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=zs.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var sd=0;function pb(e,t){return e.stylesheets&&e.count===0&&cs(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&cs(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&sd===0&&(sd=62500*JC());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&cs(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>sd?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(l)}}:null}function zs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ps=null;function cs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ps=new Map,t.forEach(hb,e),Ps=null,zs.call(e))}function hb(e,t){if(!(t.state.loading&4)){var a=Ps.get(e);if(a)var n=a.get(null);else{a=new Map,Ps.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var r=l[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),n=r)}n&&a.set(null,n)}l=t.instance,r=l.getAttribute("data-precedence"),i=a.get(r)||n,i===n&&a.set(null,l),a.set(r,l),this.count++,n=zs.bind(this),l.addEventListener("load",n),l.addEventListener("error",n),i?i.parentNode.insertBefore(l,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var _r={$$typeof:la,Provider:null,Consumer:null,_currentValue:bn,_currentValue2:bn,_threadCount:0};function Sb(e,t,a,n,l,i,r,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wc(0),this.hiddenUpdates=wc(null),this.identifierPrefix=n,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Zy(e,t,a,n,l,i,r,o,s,u,f,E){return e=new Sb(e,t,a,r,s,u,f,E,o),t=1,i===!0&&(t|=24),i=Je(3,null,null,t),e.current=i,i.stateNode=e,t=Af(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},_f(i),e}function Jy(e){return e?(e=Ml,e):Ml}function ky(e,t,a,n,l,i){l=Jy(l),n.context===null?n.context=l:n.pendingContext=l,n=ja(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=Ya(e,n,t),a!==null&&(Ye(a,e,t),ir(a,e,t))}function ch(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function kf(e,t){ch(e,t),(e=e.alternate)&&ch(e,t)}function $y(e){if(e.tag===13||e.tag===31){var t=zn(e,67108864);t!==null&&Ye(t,e,67108864),kf(e,67108864)}}function dh(e){if(e.tag===13||e.tag===31){var t=tt();t=sf(t);var a=zn(e,t);a!==null&&Ye(a,e,t),kf(e,t)}}var Vs=!0;function yb(e,t,a,n){var l=O.T;O.T=null;var i=H.p;try{H.p=2,$f(e,t,a,n)}finally{H.p=i,O.T=l}}function vb(e,t,a,n){var l=O.T;O.T=null;var i=H.p;try{H.p=8,$f(e,t,a,n)}finally{H.p=i,O.T=l}}function $f(e,t,a,n){if(Vs){var l=af(n);if(l===null)rd(e,t,n,Hs,a),fh(e,n);else if(Ab(l,e,t,a,n))n.stopPropagation();else if(fh(e,n),t&4&&-1<Tb.indexOf(e)){for(;l!==null;){var i=$l(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=Tn(i.pendingLanes);if(r!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var s=1<<31-et(r);o.entanglements[1]|=s,r&=~s}zt(i),(V&6)===0&&(Ms=$e()+500,zr(0,!1))}}break;case 31:case 13:o=zn(i,2),o!==null&&Ye(o,i,2),Ws(),kf(i,2)}if(i=af(n),i===null&&rd(e,t,n,Hs,a),i===l)break;l=i}l!==null&&n.stopPropagation()}else rd(e,t,n,null,a)}}function af(e){return e=ff(e),Wf(e)}var Hs=null;function Wf(e){if(Hs=null,e=Cl(e),e!==null){var t=Nr(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Sh(t),e!==null)return e;e=null}else if(a===31){if(e=yh(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Hs=e,null}function Wy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sA()){case Ch:return 2;case bh:return 8;case Es:case uA:return 32;case _h:return 268435456;default:return 32}default:return 32}}var nf=!1,Qa=null,Fa=null,Za=null,Dr=new Map,Or=new Map,xa=[],Tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fh(e,t){switch(e){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":Dr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(t.pointerId)}}function Fi(e,t,a,n,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[l]},t!==null&&(t=$l(t),t!==null&&$y(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Ab(e,t,a,n,l){switch(t){case"focusin":return Qa=Fi(Qa,e,t,a,n,l),!0;case"dragenter":return Fa=Fi(Fa,e,t,a,n,l),!0;case"mouseover":return Za=Fi(Za,e,t,a,n,l),!0;case"pointerover":var i=l.pointerId;return Dr.set(i,Fi(Dr.get(i)||null,e,t,a,n,l)),!0;case"gotpointercapture":return i=l.pointerId,Or.set(i,Fi(Or.get(i)||null,e,t,a,n,l)),!0}return!1}function ev(e){var t=Cl(e.target);if(t!==null){var a=Nr(t);if(a!==null){if(t=a.tag,t===13){if(t=Sh(a),t!==null){e.blockedOn=t,ZE(e.priority,function(){dh(a)});return}}else if(t===31){if(t=yh(a),t!==null){e.blockedOn=t,ZE(e.priority,function(){dh(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ds(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=af(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Td=n,a.target.dispatchEvent(n),Td=null}else return t=$l(a),t!==null&&$y(t),e.blockedOn=a,!1;t.shift()}return!0}function mh(e,t,a){ds(e)&&a.delete(t)}function Cb(){nf=!1,Qa!==null&&ds(Qa)&&(Qa=null),Fa!==null&&ds(Fa)&&(Fa=null),Za!==null&&ds(Za)&&(Za=null),Dr.forEach(mh),Or.forEach(mh)}function Zo(e,t){e.blockedOn===t&&(e.blockedOn=null,nf||(nf=!0,Se.unstable_scheduleCallback(Se.unstable_NormalPriority,Cb)))}var Jo=null;function gh(e){Jo!==e&&(Jo=e,Se.unstable_scheduleCallback(Se.unstable_NormalPriority,function(){Jo===e&&(Jo=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],l=e[t+2];if(typeof n!="function"){if(Wf(n||a)===null)continue;break}var i=$l(a);i!==null&&(e.splice(t,3),t-=3,zd(i,{pending:!0,data:l,method:a.method,action:n},n,l))}}))}function Jl(e){function t(s){return Zo(s,e)}Qa!==null&&Zo(Qa,e),Fa!==null&&Zo(Fa,e),Za!==null&&Zo(Za,e),Dr.forEach(t),Or.forEach(t);for(var a=0;a<xa.length;a++){var n=xa[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<xa.length&&(a=xa[0],a.blockedOn===null);)ev(a),a.blockedOn===null&&xa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var l=a[n],i=a[n+1],r=l[Xe]||null;if(typeof i=="function")r||gh(a);else if(r){var o=null;if(i&&i.hasAttribute("formAction")){if(l=i,r=i[Xe]||null)o=r.formAction;else if(Wf(l)!==null)continue}else o=r.action;typeof o=="function"?a[n+1]=o:(a.splice(n,3),n-=3),gh(a)}}}function tv(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return l=r})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function em(e){this._internalRoot=e}au.prototype.render=em.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));var a=t.current,n=tt();ky(a,n,e,t,null,null)};au.prototype.unmount=em.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ky(e.current,2,null,e,null,null),Ws(),t[kl]=null}};function au(e){this._internalRoot=e}au.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lh();e={blockedOn:null,target:e,priority:t};for(var a=0;a<xa.length&&t!==0&&t<xa[a].priority;a++);xa.splice(a,0,e),a===0&&ev(e)}};var Eh=ph.version;if(Eh!=="19.2.0")throw Error(S(527,Eh,"19.2.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=tA(t),e=e!==null?vh(e):null,e=e===null?null:e.stateNode,e};var bb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Zi.isDisabled&&Zi.supportsFiber))try{Mr=Zi.inject(bb),We=Zi}catch{}var Zi;nu.createRoot=function(e,t){if(!hh(e))throw Error(S(299));var a=!1,n="",l=KS,i=QS,r=FS;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Zy(e,1,!1,null,null,a,n,null,l,i,r,tv),e[kl]=t.current,Ff(e),new em(t)};nu.hydrateRoot=function(e,t,a){if(!hh(e))throw Error(S(299));var n=!1,l="",i=KS,r=QS,o=FS,s=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.formState!==void 0&&(s=a.formState)),t=Zy(e,1,!0,t,a??null,n,l,s,i,r,o,tv),t.context=Jy(null),a=t.current,n=tt(),n=sf(n),l=ja(n),l.callback=null,Ya(a,l,n),a=n,t.current.lanes=a,Rr(t,a),zt(t),e[kl]=t.current,Ff(e),new au(t)};nu.version="19.2.0"});var iv=ha(($1,lv)=>{"use strict";function nv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nv)}catch(e){console.error(e)}}nv(),lv.exports=av()});var j={DATE_INPUT:"date",DIET_TYPE_SELECT:"diet-type",TOP_BAR:".top-bar",FOOTER:"footer",EASTER_EGG_OVERLAY:".easter-egg-overlay",EASTER_EGG_ICON:".easter-egg-icon",SERVICE_NUMBER_PREFIX:"service-number-",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2",TAB_DADES:"tab-dades",TAB_SERVEIS:"tab-serveis",CONTENT_DADES:"dades-tab-content",CONTENT_SERVEIS:"serveis-tab-content",MAIN_CONTENT_AREA:"main-content",CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips",SIGNATURE_MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title",DOTACIO_MODAL:"dotacio-modal",OPTIONS_CONTAINER_DOT:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline",SAVE_DIET:"save-diet",NOTES_BUTTON_ID:"notes-selected-service",NOTES_MODAL_ID:"notes-modal",NOTES_TITLE_ID:"notes-title",NOTES_TEXTAREA_ID:"notes-textarea",NOTES_SAVE_ID:"notes-save",NOTES_CANCEL_ID:"notes-cancel",NOTES_COUNTER_ID:"notes-char-counter",SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel",TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text",SAVE_PILL:"save-pill",DONATION_LINK_ID:"openDonation",COOKIE_CONSENT_BANNER:"cookie-consent-banner",ACCEPT_COOKIES:"accept-cookies",DECLINE_COOKIES:"decline-cookies"},Be={INPUT_ERROR:"input-error",ACTIVE_TAB:"active",ERROR_TAB:"error-tab",MODAL_OPEN:"modal-open",MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",TOP_BAR_TAPS:3,FOOTER_TAPS:2,TIMEOUT:1e3,ANIMATION_DURATION:1e3,DEFAULT_DURATION:3e3,ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1,SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",CHIP_ACTIVE:"chip-active",PANEL_VISIBLE:"visible",BUTTON_OPEN:"open",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_LOAD_BTN:"diet-load",DIET_DELETE_BTN:"diet-delete",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal",INPUT_ERROR_DOT:"input-error",IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount",PROMPT_DISMISSED_LIMIT:2,ACTION_TRIGGER_LIMIT:10,DARK_THEME:"theme-dark",VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error",SIGNED:"signed",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Gn={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group",PERSON_INPUT_GROUP:".input-with-icon",TEXT_SEL:".pill-text",SERVICE_CONTAINER_SELECTOR:".service",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete",SERVICE_NUMBER_INPUT:".service-number"},gu={serviceNumber:".service-number",origin:".origin",destination:".destination",originTime:".origin-time",destinationTime:".destination-time",endTime:".end-time",mode:".chip-active",notes:""},Vt={SERVICE_NUMBER_LENGTH:9,VEHICLE_MAX_LENGTH:6,PERSON_NAME_MAX_LENGTH:28,LOCATION_MAX_LENGTH:35,PERSON_NAME_ALLOWED_CHARS:/^[a-zA-Z\s'’áéíóúàèìòùäëïöüñçÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÑÇ]+$/u},ym={DEBOUNCE_TOAST:300,DEBOUNCE_AUTO_SAVE:1e3,DEBOUNCE_HANDLER:800};var pi={LUNCH:"lunch",DINNER:"dinner"},vm=Gn.SERVICE_CONTAINER_SELECTOR,Eu={SERVICE_NUMBER_DIGITS_ONLY:"Solo se permiten d\xEDgitos (0-9) en el n\xFAmero de servicio.",SAVE_ERROR_DIGITAL_ONLY:"El n\xFAmero de servicio debe contener solo d\xEDgitos.",VALIDATION_FAILED:"Validaci\xF3n fallida",OCR_PROCESS_RUNNING:"Proceso OCR ya en marcha.",INVALID_IMAGE:"Selecciona una imagen.",IMAGE_TOO_BIG:"La imagen es demasiado grande (m\xE1x. 10 MB).",OCR_ERROR:"Error de escaneo",IMAGE_PROCESS_ERROR:"Error al procesar la imagen.",OCR_COMPLETE:"An\xE1lisis completado.",SAVING:"Guardando\u2026",SAVED:"Guardado",SAVE_ERROR:"No se pudo guardar",DOWNLOAD_STARTED:"Descarga iniciada correctamente.",PDF_GENERATION_ERROR:"Error en la generaci\xF3n del PDF",DOTACIO_SAVED:"Dotaci\xF3n guardada.",DOTACIO_LOADED:"Dotaci\xF3n cargada.",DOTACIO_DELETED:"Dotaci\xF3n eliminada."};var Tm={DOTACIIONS:"dotacions_v2",ANONYMOUS_USER:"anonymousUserId",COOKIE_CONSENT:"cookie_consent",THEME_PREFERENCE:"themePreference",USER_SELECTED_SERVICE_TYPE:"userSelectedServiceType",ONBOARDING_COMPLETED:"onboardingCompleted"};var Re={CONTAINER_ID:"toast-container",TOAST_CLASS:"toast",DEFAULT_DURATION:3e3,DEFAULT_TYPE:"info",ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1},te={queue:[],isVisible:!1,container:null,currentTimeout:null},Zv=e=>e&&typeof e=="string"?e.replace(/[<>&]/g,""):"";function Jv(e){if(window.__muteToasts===!0)return!0;let t=window.__toastBlocklist;if(!t||!Array.isArray(t)||t.length===0)return!1;for(let a of t)if(a instanceof RegExp&&typeof e=="string"){if(a.test(e))return!0}else if(typeof a=="string"&&String(e)===a)return!0;return!1}function kv(e,t,a){if(!e||typeof e!="string"||!e.trim())throw new Error("El missatge del toast \xE9s obligatori i ha de ser una cadena no buida.");if(!Re.ALLOWED_TYPES.includes(t))throw new Error(`Tipus de toast inv\xE0lid: ${t}. Ha de ser un de: ${Re.ALLOWED_TYPES.join(", ")}`);if(!Number.isInteger(a)||a<0||a>6e4)throw new Error("La durada ha d'estar entre 0 i 60000 ms.")}function $v(){return!te.container&&(te.container=document.getElementById(Re.CONTAINER_ID),!te.container)?(console.error(`[Toast] Contenidor '#${Re.CONTAINER_ID}' no trobat.`),null):te.container}function pu(e){te.currentTimeout&&(clearTimeout(te.currentTimeout),te.currentTimeout=null),e&&(e.classList.add(Re.ANIMATION.EXIT),e.addEventListener("transitionend",()=>e.remove(),{once:!0})),te.isVisible=!1,Am()}function Wv({message:e,type:t,duration:a,options:n}){let l=$v();if(!l)return;let i=document.createElement("div");i.className=`${Re.TOAST_CLASS} ${t}`,i.setAttribute("role","alert"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),i.textContent=Zv(e);let r=!0;if(n?.undoCallback instanceof Function){let o=document.createElement("button");o.type="button",o.className=Re.UNDO_BTN_CLASS,o.textContent="Deshacer",o.setAttribute("aria-label","Deshacer la acci\xF3n"),o.addEventListener("click",()=>{r=!1;try{n.undoCallback()}finally{pu(i)}}),i.appendChild(o)}l.appendChild(i),requestAnimationFrame(()=>{i.classList.add(Re.ANIMATION.ENTER)}),te.currentTimeout=setTimeout(()=>{r&&n?.onExpire instanceof Function&&n.onExpire(),pu(i)},a)}function Am(){te.isVisible||te.queue.length===0||(te.isVisible=!0,te.queue.sort((e,t)=>t.priority-e.priority),Wv(te.queue.shift()))}function b(e,t=Re.DEFAULT_TYPE,a=Re.DEFAULT_DURATION,n={}){if(Jv(e))return;kv(e,t,a);let l=n.priority??Re.DEFAULT_PRIORITY,i={message:e,type:t,duration:a,priority:l,options:n};if(!(n.queueable!==!1)&&te.isVisible){if(te.container){let s=te.container.querySelector(`.${Re.TOAST_CLASS}:not(.${Re.ANIMATION.EXIT})`);s&&s.remove()}pu()}te.queue.length>=Re.MAX_QUEUE_SIZE&&te.queue.sort((s,u)=>s.priority-u.priority).shift();let o=te.queue.findIndex(s=>s.priority<l);o===-1?te.queue.push(i):te.queue.splice(o,0,i),eT(),Am()}function eT(){let e="toast-undo-style";if(document.getElementById(e))return;let t=document.body.getAttribute("data-csp-nonce"),a=document.createElement("style");a.id=e,t&&a.setAttribute("nonce",t),a.textContent=`
    .${Re.UNDO_BTN_CLASS} {
      margin-left: auto; 
      padding: 8px 12px; 
      background: none;
      border: none;
      border-radius: 4px; 
      cursor: pointer;     
      font-weight: 600;
      font-size: 0.875rem; 
      text-transform: uppercase; 
      letter-spacing: 0.08em; 
      color: inherit; 
      transition: background-color 0.2s ease;
    }
    .${Re.UNDO_BTN_CLASS}:hover {
      background-color: rgba(255, 255, 255, 0.15); 
    }
  `,document.head.appendChild(a)}function ln(e){e?.classList.add(Be.INPUT_ERROR)}function qn(e){e?.classList.remove(Be.INPUT_ERROR)}function Cm(e){if(!e||e.length===0)return"";let t=e.map(a=>`S${a}`);return t.length===1?t[0]:t.length===2?t.join(" y "):`${t.slice(0,-1).join(", ")} y ${t[t.length-1]}`}function hi(e){!e||e.dataset.errorListenerAttached||(e.addEventListener("input",()=>qn(e),{once:!0}),e.dataset.errorListenerAttached="true")}function bm(e,t,a,n){if(!e)return!0;qn(e);let l=e.value.trim(),i=!1;return l?/^\d+$/.test(l)?l.length!==Vt.SERVICE_NUMBER_LENGTH&&(n.digitLength.push(t),i=!0):(n.nonNumeric.push(t),i=!0):a&&(n.emptyRequiredS1=!0,i=!0),i?(ln(e),hi(e),!1):!0}function tT(e){let t=[];return e.nonNumeric.length>0&&t.push(`El n\xFAmero de servicio ${Cm(e.nonNumeric)} debe contener solo d\xEDgitos.`),e.digitLength.length>0&&t.push(`El n\xFAmero de servicio ${Cm(e.digitLength)} debe tener ${Vt.SERVICE_NUMBER_LENGTH} d\xEDgitos.`),t}function Fr(){let e=!0;return[document.getElementById(j.DATE_INPUT),document.getElementById(j.DIET_TYPE_SELECT)].filter(Boolean).forEach(a=>{qn(a),a.value.trim()||(ln(a),hi(a),e=!1)}),e}function Zr(){let e={emptyRequiredS1:!1,nonNumeric:[],digitLength:[]},t=!0,a=document.getElementById(`${j.SERVICE_NUMBER_PREFIX}1`);if(!a)return console.error("Validation: No se ha encontrado el input para el servicio S1."),!1;t=bm(a,1,!0,e)&&t;for(let l=2;l<=4;l++){let i=document.getElementById(`${j.SERVICE_NUMBER_PREFIX}${l}`);i&&(t=bm(i,l,!1,e)&&t)}if(t)return!0;let n=tT(e);return n.length>0&&b(n.join(`
`),"error"),!1}function de(e){return typeof e!="string"?"":e.trim().replace(/[<>&"'`]/g,"").trim()}function Jr(e){return e?/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/.test(e):!0}function _m(e,t,a,n){let l=e?.value.trim()||"";return l&&!Vt.PERSON_NAME_ALLOWED_CHARS.test(l)?(ln(t),!1):l.length>Vt.PERSON_NAME_MAX_LENGTH?(ln(t),n.push(`El nombre del ${a} no puede superar los ${Vt.PERSON_NAME_MAX_LENGTH} caracteres.`),!1):!0}function Dm(){let e=document.getElementById(j.VEHICLE_INPUT),t=document.getElementById(j.PERSON1_INPUT),a=document.getElementById(j.PERSON2_INPUT),n=t?.closest(Gn.PERSON_INPUT_GROUP),l=a?.closest(Gn.PERSON_INPUT_GROUP);qn(e),qn(n),qn(l);let i=e?.value.trim()||"",r=t?.value.trim()||"",o=a?.value.trim()||"",s=!0,u=[];return i||(ln(e),u.push("El campo Veh\xEDculo es obligatorio."),s=!1),s=_m(t,n,"Conductor",u)&&s,s=_m(a,l,"Ayudante",u)&&s,!r&&!o&&(ln(n),ln(l),u.push("Debe indicar al menos un Conductor o Ayudante."),s=!1),s||(hi(e),hi(t),hi(a),b(u.join(`
`),"error")),s}function Om(){let e=Vt.PERSON_NAME_ALLOWED_CHARS,t=/^[^\x00-\x1F\x7F<>&"'`]*$/u;function a(u){let f=u.target.value;e.test(f)||(u.target.value=f.replace(/[^a-zA-Z\s'’áéíóúàèìòùäëïöüñçÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÑÇ.]/g,""))}function n(u){let f=u.target.value;t.test(f)||(u.target.value=f.replace(/[<>&"'`]/g,"").trim())}function l(u){u.key==="Enter"||u.key==="Tab"||u.ctrlKey||u.metaKey||u.altKey||u.key.length>1||e.test(u.key)||u.preventDefault()}function i(u){u.key==="Enter"||u.key==="Tab"||u.ctrlKey||u.metaKey||u.altKey||u.key.length>1||t.test(u.key)||u.preventDefault()}[document.getElementById(j.PERSON1_INPUT),document.getElementById(j.PERSON2_INPUT)].filter(Boolean).forEach(u=>{u.addEventListener("input",a),u.addEventListener("keypress",l)}),document.querySelectorAll(".service .origin, .service .destination").forEach(u=>{u.addEventListener("input",n),u.addEventListener("keypress",i)});let s=document.getElementById(j.VEHICLE_INPUT);s&&s.addEventListener("input",u=>{u.target.value.length>Vt.VEHICLE_MAX_LENGTH&&(u.target.value=u.target.value.slice(0,Vt.VEHICLE_MAX_LENGTH))})}var jn={},Sa={debug:10,info:20,warn:30,error:40,silent:50};function aT(){if(typeof jn<"u"&&jn.env){if(typeof jn.env.MODE=="string")return jn.env.MODE;if(typeof jn.env.NODE_ENV=="string")return jn.env.NODE_ENV}return typeof process<"u"&&process.env?"production":typeof window<"u"&&typeof window.__APP_ENV__=="string"?window.__APP_ENV__:"development"}var $r=aT()==="production"?Sa.warn:Sa.debug,hu=new Set;function nT(e){for(let t of hu)try{t(e)}catch{}}function lT(e){return typeof console>"u"?null:e==="debug"&&typeof console.debug=="function"?console.debug.bind(console):e==="info"&&typeof console.info=="function"?console.info.bind(console):e==="warn"&&typeof console.warn=="function"?console.warn.bind(console):e==="error"&&typeof console.error=="function"?console.error.bind(console):console.log?console.log.bind(console):null}function iT(e,t){let a=new Date().toISOString();return t?[`[${a}] [${t}] [${e.toUpperCase()}]`]:[`[${a}] [${e.toUpperCase()}]`]}function Nm(e){return Sa[e]>=$r&&$r<Sa.silent}function kr(e,t,a){if(!Nm(e))return;let n=lT(e);n&&n(...iT(e,t),...a)}function Su(e){let t=e;return{debug:(...a)=>kr("debug",t,a),info:(...a)=>kr("info",t,a),warn:(...a)=>kr("warn",t,a),error:(...a)=>kr("error",t,a),isEnabled(a="debug"){return Nm(a)},withScope(a){let n=t?`${t}:${a}`:a;return Su(n)}}}var I={...Su("App"),setLevel(e){if(!Sa[e])throw new Error(`Nivell de log desconegut: ${e}`);$r=Sa[e],nT(e)},getLevel(){let e=Object.entries(Sa).find(([,t])=>t===$r);return e?e[0]:"debug"},subscribe(e){return hu.add(e),()=>hu.delete(e)},withScope(e){return Su(e)}},V_=Object.freeze({...Sa});var Yn=I.withScope("InputSanitizer"),Wr={TIME:/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/,SERVICE_NUMBER:/^\d{9}$/,VEHICLE_NUMBER:/^[A-Z0-9]{3,6}$/i,DATE_ISO:/^\d{4}-\d{2}-\d{2}$/,PERSON_NAME:/^[a-zA-ZÀ-ÿ\s\-']{1,28}$/,GENERAL_TEXT:/^[a-zA-Z0-9À-ÿ\s\-.,;:()'\/]{0,150}$/},rT=[/<script[^>]*>.*?<\/script>/gi,/<iframe[^>]*>.*?<\/iframe>/gi,/<object[^>]*>.*?<\/object>/gi,/<embed[^>]*>/gi,/<[^>]*>/g,/javascript:/gi,/on\w+\s*=/gi,/data:text\/html/gi,/('|(--)|;|\/\*|\*\/|xp_|sp_|exec|execute|select|insert|update|delete|drop|create|alter)/gi,/(\||&|;|\$\(|\`|>|<)/g];function Xn(e){return typeof e!="string"?!1:rT.some(t=>t.test(e))}function oT(e){if(typeof e!="string")return"";let t=e.replace(/<[^>]*>/g,"");return t=t.replace(/[\x00-\x08\x0B-\x0C\x0E-\x1F\x7F]/g,""),t=t.replace(/\s+/g," "),t=t.trim(),t}function yu(e){return!e||typeof e!="string"?!1:Xn(e)?(Yn.warn("Patr\xF3 sospit\xF3s detectat en validaci\xF3 de hora:",e),!1):Wr.TIME.test(e)}function vu(e){return!e||typeof e!="string"?!1:Xn(e)?(Yn.warn("Patr\xF3 sospit\xF3s detectat en n\xFAmero de servei:",e),!1):/^\d{1,9}$/.test(e)}function sT(e){return!e||typeof e!="string"?!1:Xn(e)?(Yn.warn("Patr\xF3 sospit\xF3s detectat en n\xFAmero de vehicle:",e),!1):Wr.VEHICLE_NUMBER.test(e)}function uT(e){return!e||typeof e!="string"?!0:Xn(e)?(Yn.warn("Patr\xF3 sospit\xF3s detectat en nom de persona:",e),!1):Wr.PERSON_NAME.test(e)}function cT(e){return!e||typeof e!="string"?!0:Xn(e)?(Yn.warn("Patr\xF3 sospit\xF3s detectat en text general:",e.substring(0,50)),!1):Wr.GENERAL_TEXT.test(e)}function Mm(e){return!e||typeof e!="string"?{valid:!1,reason:"Text buit o inv\xE0lid"}:Xn(e)?(Yn.warn("Patrons sospitosos detectats en resultat OCR"),{valid:!1,reason:"Text amb patrons sospitosos detectats"}):e.length>2e3?{valid:!1,reason:"Text massa llarg"}:/\d/.test(e)?{valid:!0}:{valid:!1,reason:"No cont\xE9 d\xEDgits (hores esperades)"}}function Si(e,t="text"){let a=oT(e),n=!1,l="";switch(t){case"time":n=yu(a),l=n?"":"Format d'hora inv\xE0lid (esperat: HH:mm)";break;case"serviceNumber":n=vu(a),l=n?"":"N\xFAmero de servei inv\xE0lid (esperat: 1-9 d\xEDgits)";break;case"vehicleNumber":n=sT(a),l=n?"":"N\xFAmero de vehicle inv\xE0lid (esperat: 3-6 car\xE0cters alfanum\xE8rics)";break;case"personName":n=uT(a),l=n?"":"Nom inv\xE0lid (nom\xE9s lletres, espais i guions)";break;case"text":default:n=cT(a),l=n?"":"Text inv\xE0lid (cont\xE9 car\xE0cters no permesos)";break}return{valid:n,sanitized:a,reason:l}}var dT=["3.6","3.51","3.22","3.11"],Kn={CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips"},Ti={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group"},ae={SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",SERVICE_COLORS:["service-1","service-2","service-3","service-4"],OPTIONS_MENU_HIDDEN:"hidden",CHIP_ACTIVE:"chip-active"},fT=[".chip-group-title",".chip-group",".btn-ocr-inline",".section-divider"],mT=[".destination",".destination-time"],Lm=!1,Qn=0,ve=[],Ai=[],Rm=[],Tu=null,yi=null,Ht=null,vi=null,gT=null,ET=[],ya=[],Gt=["","","",""];function pT(){yi&&(yi.innerHTML="",Ai=ve.map((e,t)=>{let a=document.createElement("button");return a.className=`service-button ${ae.SERVICE_COLORS[t]}`,a.textContent=`S${t+1}`,a.type="button",a.setAttribute("aria-label",`Mostrar servei ${t+1}`),a.addEventListener("click",()=>TT(t)),yi.appendChild(a),a}))}function hT(){!Ht||!vi||(vi.addEventListener("click",e=>{e.stopPropagation(),Ht.classList.toggle(ae.OPTIONS_MENU_HIDDEN)}),document.addEventListener("click",e=>{!vi?.contains(e.target)&&!Ht?.contains(e.target)&&Ht.classList.add(ae.OPTIONS_MENU_HIDDEN)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&Ht&&Ht.classList.add(ae.OPTIONS_MENU_HIDDEN)}),Ht.addEventListener("click",e=>{e.target.closest("button")&&Ht.classList.add(ae.OPTIONS_MENU_HIDDEN)}))}function ST(e,t){let a=e.querySelector(t);return a?a.closest(Ti.FORM_GROUP):null}function eo(e,t){if(!e)return;let a=t!=="3.6";mT.forEach(l=>{ST(e,l)?.classList.toggle(ae.SERVICE_HIDDEN,a)});let n=e.querySelector(".origin");n&&(a?n.setAttribute("enterkeyhint","done"):n.removeAttribute("enterkeyhint"))}function yT(e){gT&&ET.forEach(t=>t.classList.toggle(ae.CHIP_ACTIVE,t.dataset.mode===e))}function to(e,t){e.querySelectorAll(Ti.CHIP).forEach(n=>n.classList.toggle(ae.CHIP_ACTIVE,n.dataset.mode===t))}function vT(){ve.forEach((e,t)=>{e.querySelectorAll(Ti.CHIP).forEach(n=>{n.addEventListener("click",()=>{let l=n.dataset.mode;if(!dT.includes(l)){console.error(`Intent de canviar a un mode inv\xE0lid: "${l}". Acci\xF3 bloquejada.`);return}if(ya[t]===l)return;ya[t]=l,to(e,l),eo(e,l);let i=e.querySelector(".chip-group");i&&(ae.SERVICE_COLORS.forEach(r=>i.classList.remove(r)),i.classList.add(ae.SERVICE_COLORS[t])),qt()})})})}function Au(e){let t=ae.SERVICE_COLORS[e],a=(n,l)=>{n&&(n.classList.remove(...ae.SERVICE_COLORS),n.classList.add(l,t))};a(document.getElementById(Kn.CLEAR_BTN),"clear-selected-btn"),a(document.getElementById(Kn.CAMERA_BTN),"camera-btn"),a(document.getElementById("notes-selected-service"),"notes-btn"),a(vi,"options-btn")}function Im(){if(!Lm&&(Rm=document.querySelectorAll(Ti.SERVICE_PANEL),Tu=document.getElementById(Kn.CONTAINER),yi=document.getElementById(Kn.BUTTONS_CONTAINER),Ht=document.getElementById(Kn.OPTIONS_MENU),vi=document.getElementById(Kn.OPTIONS_TOGGLE_BTN),!(!Tu||!yi)&&(ve=Array.from(Tu.querySelectorAll(Ti.SERVICE_PANEL)),!!ve.length))){if(ya=ve.map(()=>"3.6"),pT(),hT(),vT(),ve.length>0&&Ai.length>0){ve.forEach((a,n)=>a.classList.toggle(ae.SERVICE_HIDDEN,n!==0)),Ai[0].classList.add(ae.BUTTON_ACTIVE);let e=ya[0];eo(ve[0],e),to(ve[0],e);let t=ve[0].querySelector(".chip-group");t&&t.classList.add(ae.SERVICE_COLORS[0]),yT(e),Au(0)}Lm=!0}}function TT(e){if(e<0||e>=ve.length||e===Qn)return;ve[Qn].classList.add(ae.SERVICE_HIDDEN),ve[e].classList.remove(ae.SERVICE_HIDDEN),Ai[Qn].classList.remove(ae.BUTTON_ACTIVE),Ai[e].classList.add(ae.BUTTON_ACTIVE),Qn=e;let t=ya[e];eo(ve[e],t),to(ve[e],t);let a=ve[e].querySelector(".chip-group");a&&(ae.SERVICE_COLORS.forEach(n=>a.classList.remove(n)),a.classList.add(ae.SERVICE_COLORS[e])),Au(e)}var rn=()=>Qn,Bm=e=>{if(e>=0&&e<ya.length)return ya[e]};function wm(e){e&&e.querySelectorAll("input, select, textarea").forEach(t=>{t.type==="checkbox"||t.type==="radio"?t.checked=!1:t.type!=="button"&&t.type!=="submit"&&t.type!=="reset"&&(t.value=""),t.tagName==="SELECT"&&(t.selectedIndex=0)})}function Cu(){Au(Qn)}function xm(e,t){if(e<0||e>=ve.length)return;ya[e]=t;let a=ve[e];a&&(to(a,t),eo(a,t),qt())}function Fn(e){let t=e==="TSNU";Rm.forEach(a=>{fT.forEach(n=>{a.querySelector(n)?.classList.toggle(ae.SERVICE_HIDDEN,t)})})}function Ci(e){e&&e.querySelectorAll(".input-error").forEach(t=>t.classList.remove("input-error"))}var ao=class{constructor({id:t="",date:a="",dietType:n="",vehicleNumber:l="",person1:i="",person2:r="",signatureConductor:o="",signatureAjudant:s="",services:u=[],serviceType:f="TSU",timeStampDiet:E=new Date().toISOString()}={}){this.id=String(t),this.date=String(a),this.dietType=String(n),this.vehicleNumber=String(l),this.person1=String(i),this.person2=String(r),this.signatureConductor=String(o),this.signatureAjudant=String(s),this.services=Array.isArray(u)?u:[],this.serviceType=String(f),this.timeStampDiet=String(E)}};function AT(){let e="dietSalt",t=(n=16)=>Array.from({length:n},()=>Math.floor(Math.random()*256).toString(16).padStart(2,"0")).join(""),a=localStorage.getItem(e);if(!a){if(window.crypto?.getRandomValues){let n=crypto.getRandomValues(new Uint8Array(16));a=Array.from(n).map(l=>l.toString(16).padStart(2,"0")).join("")}else console.warn("[pseudoId] crypto.getRandomValues no disponible; usant Math.random() (menys segur, nom\xE9s mode desenvolupament)."),a=t(16);localStorage.setItem(e,a)}return a}async function Zn(e){if(!window.crypto?.subtle)return console.warn("[pseudoId] WebCrypto no disponible (context no segur). S\u2019usar\xE0 l\u2019ID en clar nom\xE9s en aquesta sessi\xF3."),e;let a=new TextEncoder().encode(AT()+e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(l=>l.toString(16).padStart(2,"0")).join("")}var bu=new Intl.RelativeTimeFormat("es",{numeric:"auto"});function Um(e){if(!(e instanceof Date)||isNaN(e.getTime()))throw new Error("La data proporcionada no \xE9s v\xE0lida.");let t=Date.now()-e.getTime();if(t<0)return"en el futuro";let a=Math.round(t/1e3);if(a<45)return"hace unos segundos";if(a<90)return"hace un minuto";let n=Math.round(a/60);if(n<60)return bu.format(-n,"minute");let l=Math.round(n/60);if(l<24)return bu.format(-l,"hour");let i=Math.round(l/24);return bu.format(-i,"day")}var Mt=I.withScope("CryptoManager"),CT=1,_u="AES-GCM";var bT=12,Vm=128;var _T=["person1","person2","vehicleNumber","signatureConductor","signatureAjudant"],DT=["serviceNumber","origin","destination","notes"];function no(e){return!!(e&&e.encryption&&e.encryption.version&&e.encryptedData)}function OT(){return crypto.getRandomValues(new Uint8Array(bT))}function zm(e){let t=new Uint8Array(e),a="";for(let n=0;n<t.byteLength;n++)a+=String.fromCharCode(t[n]);return btoa(a)}function Pm(e){let t=atob(e),a=new Uint8Array(t.length);for(let n=0;n<t.length;n++)a[n]=t.charCodeAt(n);return a.buffer}function NT(e){let t={id:e.id,date:e.date,dietType:e.dietType,serviceType:e.serviceType,createdAt:e.createdAt||Date.now(),updatedAt:Date.now()},a={generalData:{},servicesData:[]};return _T.forEach(n=>{e[n]!==void 0&&(a.generalData[n]=e[n])}),Array.isArray(e.services)&&(a.servicesData=e.services.map(n=>{let l={},i={};return Object.keys(n).forEach(r=>{DT.includes(r)?l[r]=n[r]:i[r]=n[r]}),{sensitive:l,public:i}})),t.services=a.servicesData.map(n=>n.public),{publicData:t,sensitiveData:a}}function MT(e,t){let a={...e};return t.generalData&&Object.assign(a,t.generalData),Array.isArray(e.services)&&Array.isArray(t.servicesData)&&(a.services=e.services.map((n,l)=>{let i=t.servicesData[l]?.sensitive||{};return{...n,...i}})),a}async function LT(e,t){try{let n=new TextEncoder().encode(JSON.stringify(e)),l=OT(),i=await crypto.subtle.encrypt({name:_u,iv:l,tagLength:Vm},t,n);return{data:zm(i),iv:zm(l),algorithm:_u,version:CT}}catch(a){throw Mt.error("Error encriptant dades:",a),new Error(`Encryption failed: ${a.message}`)}}async function RT(e,t){try{if(!e||!e.data||!e.iv)throw new Error("Invalid encrypted data format");let a=Pm(e.data),n=Pm(e.iv),l=await crypto.subtle.decrypt({name:_u,iv:new Uint8Array(n),tagLength:Vm},t,new Uint8Array(a)),r=new TextDecoder().decode(l);return JSON.parse(r)}catch(a){throw Mt.error("Error desencriptant dades:",a),new Error(`Decryption failed: ${a.message}`)}}async function Hm(e){try{let a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){return Mt.error("Error calculant checksum:",t),""}}async function lo(e,t){try{Mt.debug("Encriptant dieta:",e.id);let{publicData:a,sensitiveData:n}=NT(e),l=await LT(n,t),i=await Hm(l.data),r={...a,encryption:{version:l.version,algorithm:l.algorithm,iv:l.iv},encryptedData:l.data,checksum:i};return Mt.debug("Dieta encriptada correctament:",e.id),r}catch(a){throw Mt.error("Error encriptant dieta:",a),a}}async function io(e,t){try{Mt.debug("Desencriptant dieta:",e.id),e.checksum&&await Hm(e.encryptedData)!==e.checksum&&Mt.warn("Checksum mismatch - dades potencialment corruptes");let a={data:e.encryptedData,iv:e.encryption.iv,algorithm:e.encryption.algorithm,version:e.encryption.version},n=await RT(a,t),l={...e};delete l.encryption,delete l.encryptedData,delete l.checksum;let i=MT(l,n);return Mt.debug("Dieta desencriptada correctament:",i.id),i}catch(a){throw Mt.error("Error desencriptant dieta:",a),a}}var oe=I.withScope("KeyManager"),IT="encryption-keys",BT=1;var bi="wrapped-master-key",Gm="device-salt",jm={name:"AES-GCM",length:256},Du={name:"AES-KW",length:256};async function Ou(){return new Promise((e,t)=>{let a=indexedDB.open(IT,BT);a.onerror=()=>{oe.error("Error obrint base de dades de claus"),t(a.error)},a.onsuccess=()=>{e(a.result)},a.onupgradeneeded=n=>{let l=n.target.result;l.objectStoreNames.contains("keys")||(l.createObjectStore("keys",{keyPath:"id"}),oe.debug("Object store de claus creat"))}})}async function Ym(e,t){let a=await Ou();return new Promise((n,l)=>{let o=a.transaction(["keys"],"readwrite").objectStore("keys").put({id:e,value:t,timestamp:Date.now()});o.onsuccess=()=>n(),o.onerror=()=>l(o.error)})}async function _i(e){let t=await Ou();return new Promise((a,n)=>{let r=t.transaction(["keys"],"readonly").objectStore("keys").get(e);r.onsuccess=()=>{a(r.result?.value||null)},r.onerror=()=>n(r.error)})}async function wT(){let e=[navigator.userAgent,navigator.language,screen.width,screen.height,screen.colorDepth,new Date().getTimezoneOffset(),navigator.hardwareConcurrency||0,navigator.deviceMemory||0],a=new TextEncoder().encode(e.join("|")),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}async function xT(){let e=await _i(Gm);return e?e=new Uint8Array(e):(e=crypto.getRandomValues(new Uint8Array(32)),await Ym(Gm,Array.from(e)),oe.debug("Nou salt de dispositiu generat")),e}async function Xm(){try{let e=await wT(),t=await xT(),a=new TextEncoder,n=await crypto.subtle.importKey("raw",a.encode(e),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},n,Du,!1,["wrapKey","unwrapKey"])}catch(e){throw oe.error("Error derivant clau de dispositiu:",e),e}}async function UT(){try{oe.debug("Generant nova clau mestra...");let e=await crypto.subtle.generateKey(jm,!0,["encrypt","decrypt"]);return oe.debug("Clau mestra generada correctament"),e}catch(e){throw oe.error("Error generant clau mestra:",e),e}}async function zT(e,t){try{return await crypto.subtle.wrapKey("raw",e,t,Du.name)}catch(a){throw oe.error("Error protegint clau mestra:",a),a}}async function PT(e,t){try{return await crypto.subtle.unwrapKey("raw",e,t,Du.name,jm,!1,["encrypt","decrypt"])}catch(a){throw oe.error("Error desprotegint clau mestra:",a),a}}async function on(){try{if(oe.debug("\u{1F510} Inicialitzant sistema de claus..."),await _i(bi)){oe.debug("\u2705 Sistema de claus ja inicialitzat");return}let t=await UT(),a=await Xm(),n=await zT(t,a);await Ym(bi,Array.from(new Uint8Array(n))),oe.debug("\u2705 Sistema de claus inicialitzat correctament"),oe.debug("\u{1F512} Protecci\xF3 de dades activada")}catch(e){throw oe.error("\u274C Error inicialitzant sistema de claus:",e),e}}async function jt(){try{let e=await _i(bi);if(!e){if(oe.warn("\u26A0\uFE0F Clau mestra no trobada. Inicialitzant sistema autom\xE0ticament..."),await on(),!await _i(bi))throw new Error("Failed to initialize key system");return await jt()}if(!Array.isArray(e)||e.length===0)throw oe.error("\u274C Clau mestra corrupta (format inv\xE0lid). Reinicialitzant..."),await qm(),await on(),new Error("Key system was corrupted and has been reset. Please try again.");let t=new Uint8Array(e).buffer,a=await Xm();try{return await PT(t,a)}catch(n){throw oe.error("\u274C Error desprotegint clau (possiblement corrupta):",n),oe.warn("\u{1F504} Reinicialitzant sistema de claus..."),await qm(),await on(),new Error("Key system was corrupted. System has been reset - please refresh the page.")}}catch(e){throw oe.error("Error recuperant clau mestra:",e),e}}async function sn(){return!!await _i(bi)}async function qm(){oe.warn("\u26A0\uFE0F RESETEJANT SISTEMA DE CLAUS - Les dades encriptades es perdran!");let e=await Ou();return new Promise((t,a)=>{let i=e.transaction(["keys"],"readwrite").objectStore("keys").clear();i.onsuccess=()=>{oe.debug("\u2705 Sistema de claus resetejat"),t()},i.onerror=()=>a(i.error)})}var VT="DietasDB";var Yt="dietas",Km="dateIndex",rt=null;function Qm(){return new Promise((e,t)=>{let a=indexedDB.open(VT,1);a.onupgradeneeded=n=>{let l=n.target.result,i;l.objectStoreNames.contains(Yt)?i=n.target.transaction.objectStore(Yt):i=l.createObjectStore(Yt,{keyPath:"id"}),i.indexNames.contains(Km)||i.createIndex(Km,"date",{unique:!1})},a.onsuccess=n=>{rt=n.target.result,rt.onclose=()=>rt=null,rt.onerror=()=>rt=null,rt.onversionchange=()=>rt.close(),e(rt)},a.onerror=n=>t(n.target.error),a.onblocked=()=>t(new Error("IndexedDB bloquejat per una altra pestanya"))})}async function Di(e="readonly"){return(rt??(rt=await Qm())).transaction(Yt,e)}function Oi(e,t){return new Promise((a,n)=>{e.onsuccess=l=>a(l.target.result),e.onerror=l=>n(new Error(`${t}: ${l.target.error}`))})}function Nu(e){return new Promise((t,a)=>{e.oncomplete=()=>t(),e.onerror=()=>a(e.error),e.onabort=()=>a(e.error)})}async function Mu(e){try{let t=await Di("readwrite");return Oi(t.objectStore(Yt).add(e),"No s'ha pogut afegir"),await Nu(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function ro(e,t){try{let a;typeof e=="string"&&t?a={...t,id:e}:a=e;let n=await Di("readwrite");return Oi(n.objectStore(Yt).put(a),"No s'ha pogut actualitzar"),await Nu(n),a.id}catch(a){throw a.name==="QuotaExceededError"||a.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):a}}async function un(e){if(!e)return;let t=await Di();return Oi(t.objectStore(Yt).get(e),"Error obtenint dieta")}async function va(){let e=await Di();return Oi(e.objectStore(Yt).getAll(),"Error llistant dietes")}async function Fm(e){if(!e)return;let t=await Di("readwrite");Oi(t.objectStore(Yt).delete(e),"Error eliminant dieta"),await Nu(t)}async function Zm(){return rt??(rt=await Qm())}var HT="save-pill",GT=".pill-text",Xt={VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error"},Jm=2e3;var Ta=null,Lu=null,cn=null,Ni=null,Ru=!1;function km(){if(!Ta){if(Ta=document.getElementById(HT),Lu=Ta?.querySelector(GT),!Ta||!Lu)throw new Error("Elements de la p\xEDndola no trobats al DOM.");Ta.setAttribute("role","status"),Ta.setAttribute("aria-live","polite")}return{pillEl:Ta,textEl:Lu}}function Iu(e,t){try{let{pillEl:a,textEl:n}=km();a.classList.add(Xt.VISIBLE),a.classList.remove(Xt.HAS_CHANGES,Xt.SAVING,Xt.HAS_SAVED,Xt.ERROR),t&&a.classList.add(t),n.textContent=e.replace(/[<>&]/g,"")}catch(a){console.warn("[saveIndicator] Error mostrant p\xEDndola:",a)}}function oo(e="Guardando\u2026"){clearTimeout(Ni),Iu(e,Xt.SAVING)}function so(){clearTimeout(Ni),Ru=!1,Iu("Guardado",Xt.HAS_SAVED),clearTimeout(cn),cn=setTimeout(Bu,Jm)}function dn(e="No se pudo guardar"){clearTimeout(Ni),Iu(e,Xt.ERROR),clearTimeout(cn),cn=setTimeout(Bu,Jm*2)}function Bu(e=!1){try{if(km(),clearTimeout(cn),Ru&&!e)return;Ta?.classList.remove(Xt.VISIBLE),cn=null}catch(t){console.warn("[saveIndicator] Error amagant p\xEDndola:",t)}}function Mi(){Ru=!1,clearTimeout(Ni),Bu(!0)}window.addEventListener("pagehide",()=>{clearTimeout(cn),clearTimeout(Ni)});var wu=Promise.resolve(),xu=!1,Uu=!1,fn=!1,mn=I.withScope("DietService");async function qT(e,t,a){if(!e||!Array.isArray(t)||!a)throw new Error("Datos incompletos para construir la dieta.");if(!/^\d{9}$/.test(a))throw new Error("ID de dieta inv\xE1lido. Debe contener 9 d\xEDgitos.");for(let r of t)if(!Jr(r.originTime)||!Jr(r.destinationTime)||!Jr(r.endTime))throw new Error("Formato de hora inv\xE1lido detectado. Use HH:mm.");let n=await Zn(a),l=new Date().toISOString(),i={id:n,date:de(e.date),dietType:de(e.dietType),vehicleNumber:de(e.vehicleNumber),person1:de(e.person1),person2:de(e.person2),signatureConductor:e.signatureConductor,signatureAjudant:e.signatureAjudant,services:t.map(r=>({serviceNumber:de(r.serviceNumber),origin:de(r.origin),destination:de(r.destination),originTime:r.originTime,destinationTime:r.destinationTime,endTime:r.endTime,mode:de(r.mode),notes:de(r.notes)||""})),serviceType:de(e.serviceType),timeStampDiet:l};return new ao(i)}function jT(){let e=document.getElementById(j.DADES_TAB),t=document.getElementById(j.SERVEIS_TAB);e?.classList.remove(Be.ERROR_TAB),t?.classList.remove(Be.ERROR_TAB);let a=Fr(),n=Zr();if(a&&n)return!0;let l="";return!a&&!n?(l="Completa los campos obligatorios en Datos y Servicios.",e?.classList.add(Be.ERROR_TAB),t?.classList.add(Be.ERROR_TAB)):a?(l="Completa los campos obligatorios en la pesta\xF1a Servicios.",t?.classList.add(Be.ERROR_TAB)):(l="Completa los campos obligatorios en la pesta\xF1a Datos.",e?.classList.add(Be.ERROR_TAB)),b(l,"error"),!1}function YT(e){if(!e)return;let t=l=>document.getElementById(l);t(j.DATE_INPUT).value=e.date||"",t(j.DIET_TYPE_SELECT).value=e.dietType||"",t(j.VEHICLE_INPUT).value=e.vehicleNumber||"",t(j.PERSON1_INPUT).value=e.person1||"",t(j.PERSON2_INPUT).value=e.person2||"";let a=t(j.SERVICE_TYPE_SELECT);a&&(a.value=e.serviceType||"TSU",Fn(a.value)),uo(e.signatureConductor||""),co(e.signatureAjudant||"");let n=document.querySelectorAll(vm);e.services.forEach((l,i)=>{let r=n[i];r&&(Object.entries(gu).forEach(([o,s])=>{if(!s)return;let u=r.querySelector(s);u&&(u.value=l[o]||"")}),xm(i,l.mode||"3.6"),Ci(r),Gt[i]=l.notes||"")});for(let l=e.services.length;l<n.length;l++){let i=n[l];i&&(Object.values(gu).forEach(r=>{if(!r)return;let o=i.querySelector(r);o&&(o.value="")}),Ci(i),Gt[l]="")}}async function Pu(e){if(fn=fn||e,xu)return Uu=!0,wu;xu=!0;let t=fn;fn=!1;let a=(async()=>{let{generalData:n,servicesData:l}=fo(),i=l[0]?.serviceNumber?.slice(0,9)||"";if(!i||!/^\d{9}$/.test(i)){t&&b("El primer servicio debe tener un N.\xBA de servicio v\xE1lido.","error");return}let r=await Zn(i),o=await un(r);t&&oo(!o?"Guardando nueva dieta\u2026":"Guardando\u2026"),zu(!1);try{if(await new Promise(c=>setTimeout(c,500)),!jT()){t&&dn("Validaci\xF3n fallida");return}let f=await qT(n,l,i);if(!await sn()){mn.error("\u274C Sistema de claus no inicialitzat. NO es pot guardar la dieta."),b("Error de seguretat: Sistema d'encriptaci\xF3 no disponible. Proveu recarregar la p\xE0gina.","error",5e3),t&&dn("Sistema d'encriptaci\xF3 no disponible");return}let E;try{let c=await jt();E=await lo(f,c),mn.debug("\u{1F512} Dieta encriptada abans de guardar")}catch(c){mn.error("\u274C Error CR\xCDTIC encriptant dieta:",c),b("Error cr\xEDtic d'encriptaci\xF3. Les dades NO s'han desat per seguretat.","error",5e3),t&&dn("Error d'encriptaci\xF3");return}o?await ro(E):await Mu(E),Li=new Date,Gu(),t&&b("Dieta guardada correctament.","success"),Jn(),so(),t&&await Ri()}catch(f){mn.error("Error en performSave:",f),dn(f.message||"No se pudo guardar"),t&&b(`Error al guardar: ${f.message}`,"error")}finally{zu(!0)}})();wu=a;try{await a}finally{if(xu=!1,Uu||fn){let n=fn;return fn=!1,Uu=!1,Pu(n)}}return wu}async function $m(){eg(),await Pu(!0)}async function Vu(){await Pu(!1)}async function Wm(e){if(!e||typeof e!="string")throw new Error("ID inv\xE0lid");let t=e.length===64?await un(e):await un(await Zn(e));if(!t)throw new Error(`Dieta no trobada: ${e}`);if(no(t))try{let a=await jt();t=await io(t,a),mn.debug("\u{1F513} Dieta desencriptada correctament")}catch(a){throw mn.error("Error desencriptant dieta:",a),b("Error desencriptant dieta. Pot estar corrupta.","error"),a}YT(t),Jn(),t.timeStampDiet&&(Li=new Date(t.timeStampDiet),Gu()),b("Dieta cargada correctamente.","success"),qu()}async function Hu(e,t,a){if(e)try{let n=await un(e);if(!n){b("Error: Dieta no trobada","error");return}let i=(await va()).sort((r,o)=>new Date(o.timeStampDiet)-new Date(r.timeStampDiet));n.index=i.findIndex(r=>r.id===e),await Fm(e),b("Dieta eliminada","success",5e3,{priority:2,queueable:!1,undoCallback:async()=>{await Mu(n),Yu(n),b("Dieta restaurada","success",3e3,{priority:0})},onExpire:()=>{ju(e)}}),Jn(),Mi()}catch(n){mn.error("Error en deleteDietHandler:",n),b("Error al eliminar la dieta","error")}}var Li=null;function Gu(){let e=document.getElementById("last-saved");e&&(e.textContent=Li?Um(Li):"")}setInterval(()=>{Li&&Gu()},6e4);var tg={[pi.LUNCH]:"comida",[pi.DINNER]:"cena",DEFAULT:"dieta"},gn={TOP_BAR:Be.TOP_BAR_TAPS,FOOTER:Be.FOOTER_TAPS,TIMEOUT:Be.TIMEOUT,ANIMATION_DURATION:Be.ANIMATION_DURATION};function ag(e){if(!e)return;let t=document.body;if(!t)return;let a=t.dataset?.cspNonce||t.getAttribute("data-csp-nonce")||"";a&&!e.getAttribute("nonce")&&e.setAttribute("nonce",a)}function ng(){try{let e=document.getElementById(j.DATE_INPUT);if(!e)return;e.valueAsDate=new Date}catch{}}function lg(e){return typeof e!="string"||!e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function $n(e){return e?e.split(" ").map(t=>t.includes(".")?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):""}function Xu(){let e=new Date().getHours();return e>=6&&e<18?pi.LUNCH:pi.DINNER}function ig(){let e=document.getElementById(j.DIET_TYPE_SELECT);e&&(e.value=Xu())}function Ku(e,t){let a="Data inv\xE0lida";if(e&&/^\d{4}-\d{2}-\d{2}$/.test(e))try{let l=e.split("-"),i=l[0].slice(-2);a=`${l[2]}/${l[1]}/${i}`}catch{}let n=tg[t]||tg.DEFAULT;return{ddmmaa:a,franjaText:n}}var be={topBarTaps:0,footerTaps:0,tapTimeoutId:null};function kn(){be.topBarTaps=0,be.footerTaps=0,be.tapTimeoutId&&(clearTimeout(be.tapTimeoutId),be.tapTimeoutId=null)}function XT(){if(document.querySelector(j.EASTER_EGG_OVERLAY))return;let e=document.createElement("div");e.className=j.EASTER_EGG_OVERLAY.substring(1);let t=document.createElement("div");t.className=j.EASTER_EGG_ICON.substring(1),t.innerHTML='<img src="assets/icons/egg.svg" alt="Easter Egg">',e.appendChild(t),document.body.appendChild(e);let a=n=>{n.stopPropagation(),t.classList.add("clicked"),setTimeout(()=>e.remove(),gn.ANIMATION_DURATION)};e.addEventListener("click",a)}function rg(){let e=document.getElementById("top-bar"),t=document.getElementById("footer");!e||!t||(e.addEventListener("touchend",a=>{a.changedTouches.length===1?(be.topBarTaps++,be.tapTimeoutId&&clearTimeout(be.tapTimeoutId),be.tapTimeoutId=setTimeout(kn,gn.TIMEOUT),be.topBarTaps>gn.TOP_BAR&&kn()):kn()}),t.addEventListener("touchend",a=>{be.topBarTaps===gn.TOP_BAR&&a.changedTouches.length===1&&(be.footerTaps++,be.tapTimeoutId&&clearTimeout(be.tapTimeoutId),be.tapTimeoutId=setTimeout(kn,gn.TIMEOUT),be.footerTaps===gn.FOOTER?(XT(),kn()):be.footerTaps>gn.FOOTER&&kn())}))}function Ii(e,t){let a,n=function(...l){clearTimeout(a),a=setTimeout(()=>e.apply(this,l),t)};return n.cancel=()=>clearTimeout(a),n}var Qe={IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount"},ug=2,og=10,En=null,Qu=null,Fu=null,pn=null,sg=!1,P=I.withScope("PWA"),Zu=(e,t=0)=>parseInt(localStorage.getItem(e)||String(t),10),Ju=e=>localStorage.getItem(e)==="true",hn=(e,t)=>localStorage.setItem(e,String(t));function cg(){let e=window.matchMedia("(display-mode: standalone)").matches,t=window.navigator.standalone===!0;return e||t||Ju(Qe.IS_INSTALLED)}function KT(e=!1){if(P.debug("Intentant mostrar el b\xE0ner d'instal\xB7laci\xF3..."),cg()){P.debug("Bloquejat: L'app ja est\xE0 instal\xB7lada.");return}if(Ju(Qe.NEVER_SHOW_AGAIN)){P.debug("Bloquejat: L'usuari ha demanat no tornar a mostrar.");return}if(!En){P.debug("Bloquejat: No hi ha cap event d'instal\xB7laci\xF3 guardat.");return}if(!pn){P.debug("Bloquejat: L'element HTML del b\xE0ner no s'ha trobat.");return}P.info("Mostrant el b\xE0ner!"),pn.classList.add("visible"),pn.classList.remove("hidden")}function dg(){P.debug("Amagant el b\xE0ner."),pn?.classList.remove("visible"),pn?.classList.add("hidden")}function QT(){P.info("L'usuari ha descartat el b\xE0ner."),dg();let e=Zu(Qe.PROMPT_DISMISSED_COUNT);e++,hn(Qe.PROMPT_DISMISSED_COUNT,e),P.debug(`Comptador de descartats actualitzat a: ${e}`),e>=ug&&(hn(Qe.NEVER_SHOW_AGAIN,!0),P.info("S'ha assolit el l\xEDmit de descartats. No es tornar\xE0 a mostrar."))}async function FT(){if(P.info("L'usuari ha fet clic a 'Instal\xB7lar'."),!En){P.warn("El bot\xF3 d'instal\xB7lar s'ha premut, per\xF2 no hi havia cap event guardat.");return}dg();try{En.prompt();let{outcome:e}=await En.userChoice;P.info(`Resultat de la decisi\xF3 de l'usuari: ${e}`),e==="accepted"?(hn(Qe.IS_INSTALLED,!0),hn(Qe.NEVER_SHOW_AGAIN,!0),P.info("L'usuari ha acceptat la instal\xB7laci\xF3! :)")):P.info("L'usuari ha rebutjat la instal\xB7laci\xF3 des del di\xE0leg del navegador.")}catch(e){P.error("Error durant el proc\xE9s de prompt d'instal\xB7laci\xF3:",e)}finally{En=null}}function ZT(e){e.preventDefault(),En=e,P.debug("Event 'beforeinstallprompt' capturat i guardat.")}function fg(){sg||(P.debug("Inicialitzant el gestor d'instal\xB7laci\xF3..."),pn=document.getElementById("install-prompt"),Qu=document.getElementById("install-button"),Fu=document.getElementById("dismiss-button"),pn&&Qu&&Fu?(Qu.addEventListener("click",FT),Fu.addEventListener("click",QT),P.debug("Botons del b\xE0ner d'instal\xB7laci\xF3 configurats.")):P.warn("No s'han trobat tots els elements del b\xE0ner d'instal\xB7laci\xF3."),window.addEventListener("beforeinstallprompt",ZT),window.matchMedia("(display-mode: standalone)").addEventListener("change",e=>{e.matches&&(P.info("Detectat canvi a mode 'standalone'. Marcat com instal\xB7lat."),hn(Qe.IS_INSTALLED,!0),hn(Qe.NEVER_SHOW_AGAIN,!0))}),sg=!0,P.debug("Gestor d'instal\xB7laci\xF3 inicialitzat correctament."))}function mg(){if(P.debug("------------------------------------------"),P.debug("Comprovant si s'ha de mostrar el b\xE0ner despr\xE9s d'una acci\xF3..."),cg()){P.debug("[Check] No es mostra: L'app ja est\xE0 instal\xB7lada.");return}if(Ju(Qe.NEVER_SHOW_AGAIN)){P.debug("[Check] No es mostra: L'usuari ha demanat no tornar a veure'l.");return}if(!En){P.debug("[Check] No es mostra: El navegador no ha ofert la possibilitat d'instal\xB7lar (deferredPrompt \xE9s nul).");return}let e=Zu(Qe.ACTION_TRIGGER_COUNT);e++,hn(Qe.ACTION_TRIGGER_COUNT,e),P.debug(`Comptador d'accions incrementat a: ${e}`);let t=Zu(Qe.PROMPT_DISMISSED_COUNT);P.debug(`Vegades que s'ha descartat el b\xE0ner: ${t}`);let a=e===1&&t===0||e>=og&&t<ug;P.debug(`Es compleixen les condicions per mostrar? ${a}`),a?(setTimeout(()=>KT(),1500),e>=og):P.debug("No es mostra el b\xE0ner aquesta vegada."),P.debug("------------------------------------------")}var Wn={OUTER_MARGIN:55,INNER_PADDING:10},ot={TEMPLATE_URLS:{DEFAULT:"./dieta.pdf"},SERVICE_Y_OFFSET:82,SIGNATURE_WIDTH:100,SIGNATURE_HEIGHT:50,WATERMARK_TEXT:"misdietas.com",DEFAULT_FILENAME:"dieta.pdf",SERVICE_NUMBER_COLOR:"#004aad",MODE_PREFIX_TEXT_COLOR:"#8B0000",MAX_SIGNATURE_NAME_LENGTH:31,MAX_ORIGIN_LENGTH:30,MAX_DESTINATION_LENGTH:30},B={general:{date:{x:155,y:732,size:16,color:"#000000"},vehicleNumber:{x:441,y:732,size:16,color:"#000000"},person1:{x:65,y:368,size:16,color:"#000000"},person2:{x:310,y:368,size:16,color:"#000000"}},service:{serviceNumber:{x:130,y:715,size:16,color:"#000000"},origin:{x:229,y:698,size:14,color:"#000000"},originTime:{x:441,y:698,size:16,color:"#000000"},destination:{x:229,y:683,size:14,color:"#000000"},destinationTime:{x:441,y:681,size:16,color:"#000000"},endTimeNormal:{x:441,y:665,size:16,color:"#000000"},endTimeModeText:{x:390,y:665,size:16,color:ot.MODE_PREFIX_TEXT_COLOR},endTimeValueWhenPrefixed:{x:441,y:665,size:16,color:"#000000"}},signature:{conductor:{x:125,y:295,width:100,height:50},ayudante:{x:380,y:295,width:100,height:50}},notesSection:{title:{x:65,y:250,size:16,color:"#000000"},lineHeight:18,maxWidth:465,start:{x:65,y:230,size:16,color:"#333333"}},fixedText:{website:{x:250,y:20,size:6,color:"#EEEEEE"}}},JT=I.withScope("PdfTemplate");function kT(e){return!e||typeof e!="string"||e.trim()===""?"":e.split(/\s+/).filter(Boolean).map(t=>t.includes("-")?t.split("-").map(a=>a?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():"").join("-"):t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function $T(e){if(!e||typeof e!="string")return{r:0,g:0,b:0};let t=e.replace("#","");if(t.length!==6)return{r:0,g:0,b:0};let a=parseInt(t,16);return Number.isNaN(a)?{r:0,g:0,b:0}:{r:a>>16&255,g:a>>8&255,b:a&255}}function gg(e,t){return!e||e.length<=t?e:e.substring(0,t-3)+"..."}function mo(e){if(!e||!/^\d{4}-\d{2}-\d{2}$/.test(e))return"";let[t,a,n]=e.split("-");return`${n}/${a}/${t}`}function WT(){return ot.TEMPLATE_URLS.DEFAULT}async function ku(e,t){if(!e||!Array.isArray(t))throw new Error("Dades inv\xE0lides.");if(!window.PDFLib)throw new Error("PDFLib no carregada.");let{PDFDocument:a,StandardFonts:n,rgb:l}=window.PDFLib,i=WT(),r=await fetch(i).then(v=>v.arrayBuffer()),o=await a.load(r),s=await o.embedFont(n.Helvetica),u=o.getPages()[0],f=v=>{let{r:D,g:C,b:N}=$T(v);return l(D/255,C/255,N/255)};Object.entries(B.general).forEach(([v,D])=>{let C=e[v]||"";v==="date"&&(C=mo(C)),v==="vehicleNumber"&&(C=C.toUpperCase()),(v==="person1"||v==="person2")&&(C=kT(C),C.length>ot.MAX_SIGNATURE_NAME_LENGTH&&(C=C.slice(0,ot.MAX_SIGNATURE_NAME_LENGTH-3)+"...")),u.drawText(C,{...D,font:s,color:f(D.color)})}),t.forEach((v,D)=>{let C=D*ot.SERVICE_Y_OFFSET,N=v.mode||"3.6";u.drawText(v.serviceNumber||"",{...B.service.serviceNumber,y:B.service.serviceNumber.y-C,font:s,color:f(ot.SERVICE_NUMBER_COLOR)});let Ve=gg(v.origin||"",ot.MAX_ORIGIN_LENGTH),gi=Ve.length>23?13:B.service.origin.size;if(u.drawText(Ve,{...B.service.origin,y:B.service.origin.y-C,size:gi,font:s,color:f(B.service.origin.color)}),u.drawText(v.originTime||"",{...B.service.originTime,y:B.service.originTime.y-C,font:s,color:f(B.service.originTime.color)}),N==="3.6"){let Xr=gg(v.destination||"",ot.MAX_DESTINATION_LENGTH),Kr=Xr.length>23?13:B.service.destination.size;u.drawText(Xr,{...B.service.destination,y:B.service.destination.y-C,size:Kr,font:s,color:f(B.service.destination.color)}),u.drawText(v.destinationTime||"",{...B.service.destinationTime,y:B.service.destinationTime.y-C,font:s,color:f(B.service.destinationTime.color)})}let Ei=(v.endTime||"").trim();N!=="3.6"&&Ei?(u.drawText(N,{...B.service.endTimeModeText,y:B.service.endTimeModeText.y-C,font:s,color:f(B.service.endTimeModeText.color)}),u.drawText(Ei,{...B.service.endTimeValueWhenPrefixed,y:B.service.endTimeValueWhenPrefixed.y-C,font:s,color:f(B.service.endTimeValueWhenPrefixed.color)})):u.drawText(Ei,{...B.service.endTimeNormal,y:B.service.endTimeNormal.y-C,font:s,color:f(B.service.endTimeNormal.color)})});let E=async(v,D)=>{if(typeof v=="string"&&v.startsWith("data:image/png;base64,")&&v.length>22)try{let N=await o.embedPng(v);u.drawImage(N,{...D})}catch(N){JT.warn("No s'ha pogut incrustar una signatura.",N)}};await Promise.all([E(e.signatureConductor,B.signature.conductor),E(e.signatureAjudant,B.signature.ayudante)]);let c=u.getWidth(),g=Wn.OUTER_MARGIN+Wn.INNER_PADDING,y=c-(Wn.OUTER_MARGIN+Wn.INNER_PADDING),T=t.map(v=>({num:v.serviceNumber||"",text:(v.notes||"").trim()})).filter(v=>v.num&&v.text);if(T.length){u.drawLine({start:{x:Wn.OUTER_MARGIN,y:275},end:{x:c-Wn.OUTER_MARGIN,y:275},thickness:.5,color:l(.8,.8,.8)});let D=T.length===1?"Observaci\xF3":"Observacions";u.drawText(D,{...B.notesSection.title,font:s,color:f(B.notesSection.title.color)});let C=B.notesSection.start.y,N=B.notesSection.start.size,Ve=B.notesSection.lineHeight,gi=f(B.notesSection.start.color);T.forEach(({num:Ei,text:Xr})=>{if(C<40)return;let Kr=`Servei ${Ei}: `;u.drawText(Kr,{x:g,y:C,font:s,size:N,color:f(ot.SERVICE_NUMBER_COLOR)});let qv=s.widthOfTextAtSize(Kr,N),Qr=g+qv;Xr.split(" ").forEach(fu=>{if(!fu)return;let hm=s.widthOfTextAtSize(`${fu} `,N);Qr+hm>y&&(C-=Ve,Qr=g),u.drawText(`${fu} `,{x:Qr,y:C,font:s,size:N,color:gi}),Qr+=hm}),C-=Ve*1.5})}let _=ot.WATERMARK_TEXT,m=B.fixedText.website.size,d=s.widthOfTextAtSize(_,m);u.drawText(_,{x:(u.getWidth()-d)/2,y:B.fixedText.website.y,size:m,font:s,color:f(B.fixedText.website.color)});let p=mo(e.date)||"Dieta",A=`Dieta ${e.dietType==="lunch"?"Comida":e.dietType==="dinner"?"Cena":""} ${p}`.trim().replace(/ +/g," ");o.setTitle(A),o.setAuthor("misdietas.com"),o.setSubject("Justificante de dieta de transporte sanitario"),o.setCreator("MisDietas"),o.setKeywords(["dieta","justificante","transporte sanitario","tsu","tsnu"]);let R=new Date(e.date);return Number.isNaN(R.getTime())||(o.setCreationDate(R),o.setModificationDate(R)),await o.save({permissions:{modifying:!1,copying:!1}})}var el=new Map;function tl({src:e,integrity:t,crossOrigin:a="anonymous",referrerPolicy:n="no-referrer",timeoutMs:l=15e3}={}){if(!e||typeof e!="string")return Promise.reject(new Error("loadExternalScript: src inv\xE0lid."));if(el.has(e))return el.get(e);let i=document.querySelector(`script[src="${e}"]`);if(i?.dataset?.secureLoaded==="true"){let s=Promise.resolve();return el.set(e,s),s}let r=i??document.createElement("script");ag(r),r.src=e,r.async=!0,r.crossOrigin=a,r.referrerPolicy=n,t&&(r.integrity=t);let o=new Promise((s,u)=>{let f=null,E=()=>{r.removeEventListener("load",c),r.removeEventListener("error",g),f&&(clearTimeout(f),f=null)},c=()=>{E(),r.dataset.secureLoaded="true",s()},g=()=>{E(),!i&&r.parentNode&&r.parentNode.removeChild(r),el.delete(e),u(new Error(`Error carregant script: ${e}`))};r.addEventListener("load",c),r.addEventListener("error",g),f=window.setTimeout(()=>{E(),el.delete(e),!i&&r.parentNode&&r.parentNode.removeChild(r),u(new Error(`Timeout carregant script: ${e}`))},l)});return el.set(e,o),i||document.head.appendChild(r),o}var $u=class{constructor(t=10,a=6e4,n="acci\xF3"){this.maxRequests=t,this.windowMs=a,this.actionName=n,this.requests=[]}canMakeRequest(){let t=Date.now();if(this.requests=this.requests.filter(a=>t-a<this.windowMs),this.requests.length>=this.maxRequests){let a=Math.min(...this.requests),n=Math.ceil((a+this.windowMs-t)/1e3);return console.warn(`[RateLimiter] L\xEDmit assolit per "${this.actionName}". Espera ${n}s abans de tornar-ho a intentar.`),!1}return this.requests.push(t),!0}getRemainingRequests(){let t=Date.now();return this.requests=this.requests.filter(a=>t-a<this.windowMs),Math.max(0,this.maxRequests-this.requests.length)}reset(){this.requests=[],console.log(`[RateLimiter] Resetejat el l\xEDmit per "${this.actionName}"`)}getStatus(){let t=Date.now();return this.requests=this.requests.filter(a=>t-a<this.windowMs),{actionName:this.actionName,requestsMade:this.requests.length,maxRequests:this.maxRequests,remaining:this.maxRequests-this.requests.length,windowSeconds:this.windowMs/1e3}}},go=$u;var Eg=!1,Eo=null,pg=I.withScope("PdfService"),e0="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js",t0="sha384-weMABwrltA6jWR8DDe9Jp5blk+tZQh7ugpCsF3JwSA53WZM9/14PjS5LAJNHNjAI",po=new go(20,6e4,"generaci\xF3 de PDF");async function hg(){Eg&&window.PDFLib||(Eo||(Eo=tl({src:e0,integrity:t0}).then(()=>{if(!window.PDFLib)throw new Error("PDF-Lib no disponible despr\xE9s de carregar script.");Eg=!0}).catch(e=>{throw Eo=null,e})),await Eo)}var ho={DADES_TAB:"tab-dades",SERVEIS_TAB:"tab-serveis"},Aa={ERROR_TAB:"error-tab"};function a0(e,t){let a=document.getElementById(ho.DADES_TAB),n=document.getElementById(ho.SERVEIS_TAB);a?.classList.remove(Aa.ERROR_TAB),n?.classList.remove(Aa.ERROR_TAB);let l="";!e&&!t?(l="Completa els camps obligatoris a Dades i Serveis.",a?.classList.add(Aa.ERROR_TAB),n?.classList.add(Aa.ERROR_TAB)):e?(l="Completa els camps obligatoris a Serveis.",n?.classList.add(Aa.ERROR_TAB)):(l="Completa els camps obligatoris a Dades.",a?.classList.add(Aa.ERROR_TAB)),l&&b(l,"error")}function Sg(e,t){let a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>URL.revokeObjectURL(a),500)}function yg(e,t){let a=mo(e).replace(/\//g,"_")||"";return a?`${t==="lunch"?"dieta_comida":t==="dinner"?"dieta_cena":"dieta"}_${a}.pdf`:ot.DEFAULT_FILENAME}async function vg(){if(!po.canMakeRequest()){let a=po.getRemainingRequests();b(`Has superat el l\xEDmit de generaci\xF3 de PDFs. Espera uns segons. (${a} disponibles)`,"warning");return}let e=Fr(),t=Zr();if(!e||!t){a0(e,t);return}document.getElementById(ho.DADES_TAB)?.classList.remove(Aa.ERROR_TAB),document.getElementById(ho.SERVEIS_TAB)?.classList.remove(Aa.ERROR_TAB);try{let{generalData:a,servicesData:n}=fo();if(!a||!n)throw new Error("Dades no recollides.");await hg();let l=await ku(a,n),i=yg(a.date,a.dietType);Sg(new Blob([l],{type:"application/pdf"}),i),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from main form"}),b("Desc\xE0rrega iniciada correctament.","success"),mg()}catch(a){pg.error("Error generant PDF des del formulari principal:",a),b(`Error en la generaci\xF3 del PDF: ${a.message||"Desconegut"}`,"error")}}async function Tg(e){if(!e){b("ID de dieta inv\xE1lido.","error");return}if(!po.canMakeRequest()){let t=po.getRemainingRequests();b(`Has superat el l\xEDmit de generaci\xF3 de PDFs. Espera uns segons. (${t} disponibles)`,"warning");return}try{let t=e.length===64?e:await Zn(e),a=await un(t);if(!a)throw new Error("Dieta no encontrada.");let n={date:a.date||"",dietType:a.dietType||"",vehicleNumber:a.vehicleNumber||"",person1:a.person1||"",person2:a.person2||"",serviceType:a.serviceType||"TSU",signatureConductor:a.signatureConductor||"",signatureAjudant:a.signatureAjudant||""},l=a.services.map(o=>({serviceNumber:o.serviceNumber||"",origin:o.origin||"",originTime:o.originTime||"",destination:o.destination||"",destinationTime:o.destinationTime||"",endTime:o.endTime||"",mode:o.mode||"3.6",notes:o.notes||""}));await hg();let i=await ku(n,l),r=yg(n.date,n.dietType);Sg(new Blob([i],{type:"application/pdf"}),r),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from saved list"}),b("Descarga iniciada correctamente.","success")}catch(t){pg.error("Error en downloadDietPDF:",t),b(`Error en la generaci\xF3n del PDF: ${t.message||"Desconocido"}`,"error")}}var Q={MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_DELETE_BTN:"diet-delete",DIET_LOAD_BTN:"diet-load",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal"},vt={DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",SIGNATURE_MODAL:"signature-modal",DOTACIO_MODAL:"dotacio-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal"},So={MODAL:".modal",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Kt={DIET_ID:"data-diet-id",DIET_DATE:"data-diet-date",DIET_TYPE:"data-diet-type"},n0=I.withScope("Modals:Manager"),Lt=[],Wu=null,al=null,nl=null,Ag=new Map;function ll(){return Lt.length>0?Lt[Lt.length-1]:null}function l0(){al||(al=e=>{let t=ll();if(t&&e.target===t){let a=Ag.get(t.id);a?a({reason:"backdrop"}):Ca(t)}},document.addEventListener("click",al,!0)),nl||(nl=e=>{if(e.key!=="Escape")return;let t=ll();if(!t)return;let a=Ag.get(t.id);a?a({reason:"escape"}):Ca(t)},document.addEventListener("keydown",nl,!0))}function i0(){al&&(document.removeEventListener("click",al,!0),al=null),nl&&(document.removeEventListener("keydown",nl,!0),nl=null)}function r0(e){e.dataset.backdropTouchHandled||(e.addEventListener("touchstart",t=>{t.target===e&&(t.preventDefault(),t.stopPropagation())},{passive:!1}),e.dataset.backdropTouchHandled="true")}function Cg(e){e.style.display="block",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",e.style.setProperty("pointer-events","auto")}function bg(e){e.querySelector(So.FOCUSABLE_ELEMENTS)?.focus()}function yo(e){if(!e)return;let t=ll();if(t&&t!==e&&e.id!==vt.CONFIRM_MODAL){n0.debug("S'ha ignorat l'obertura perqu\xE8 ja hi ha un modal actiu.");return}let a=Lt.includes(e);a||Lt.push(e),Lt.length===1&&!a&&(Wu=document.activeElement,document.body.classList.add(Q.MODAL_OPEN_BODY),Dg(),il(!1),document.body.style.setProperty("pointer-events","none")),l0(),r0(e),Cg(e),bg(e)}function Ca(e=ll()){if(!e)return;let t=Lt.lastIndexOf(e);if(t===-1){e.style.display="none",e.style.removeProperty("pointer-events");return}if(Lt.splice(t,1),e.style.display="none",e.style.removeProperty("pointer-events"),Lt.length===0){document.body.classList.remove(Q.MODAL_OPEN_BODY),il(!0),Og(),document.body.style.removeProperty("pointer-events"),Wu?.focus(),Wu=null,i0();return}let a=ll();a&&(Cg(a),bg(a))}function _g(){document.querySelectorAll(So.MODAL_TRIGGER).forEach(t=>{if(t.dataset.modalPrepared==="true")return;let a=t.getAttribute("href")?.substring(1);if(!a)return;let n=document.getElementById(a);n&&n.matches(So.MODAL)&&(t.addEventListener("click",i=>{i.preventDefault(),yo(n)}),n.querySelectorAll(So.MODAL_CLOSE_BTN).forEach(i=>{i.dataset.modalPrepared!=="true"&&(i.addEventListener("click",()=>Ca(n)),i.dataset.modalPrepared="true")})),t.dataset.modalPrepared="true"})}function ec(){return Lt.length>0}function tc(){return ll()}var vo=I.withScope("Modals:Diet"),At=null,ne=null,Tt=null,Ng=!1;function Bi(){if(Ng)return!0;if(At=document.getElementById(vt.DIET_MODAL),ne=document.getElementById(vt.DIET_OPTIONS_LIST),Tt=document.getElementById(vt.NO_DIETS_TEXT),!At||!ne||!Tt)return vo.warn("No s'han trobat els elements del modal de dietes."),!1;let e=document.getElementById("close-diet-modal");return e&&!e.dataset.modalPrepared&&(e.addEventListener("click",()=>Ca(At)),e.dataset.modalPrepared="true"),ne.dataset.modalPrepared||(ne.addEventListener("click",s0),ne.dataset.modalPrepared="true"),Ng=!0,!0}function o0(e){if(!e)return"";let t=new Date(e);if(Number.isNaN(t.getTime()))return"";let a=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0");return`${a}:${n}`}function Mg(e){let t=e.id||"?????????",{ddmmaa:a,franjaText:n}=Ku(e.date,e.dietType),l=o0(e.timeStampDiet),i=document.createElement("div");i.className=Q.DIET_ITEM;let r=document.createElement("div");r.className="diet-item-content";let o=document.createElement("span");o.className=Q.DIET_DATE;let s=a;l&&(s+=` [${l}]`),s+=` - ${lg(n)}`,o.textContent=s;let u=document.createElement("div");u.className=Q.DIET_ICONS;let f=document.createElement("div");f.className=Q.DIET_DELETE_REVEAL,f.innerHTML='<img src="assets/icons/delete.svg" alt="Eliminar" class="icon">';let E=document.createElement("button");E.className=`${Q.LIST_ITEM_BTN} ${Q.LIST_ITEM_BTN_LOAD} ${Q.DIET_LOAD_BTN}`,E.setAttribute("aria-label",`Editar dieta ${a}`),E.innerHTML='<img src="assets/icons/ic_edit.svg" alt="" class="icon"><span class="btn-text visually-hidden">Editar</span>',E.setAttribute(Kt.DIET_ID,t),E.setAttribute(Kt.DIET_DATE,e.date),E.setAttribute(Kt.DIET_TYPE,e.dietType);let c=document.createElement("button");return c.className=`${Q.LIST_ITEM_BTN} diet-download`,c.setAttribute("aria-label",`Descarregar PDF de la dieta ${a}`),c.innerHTML='<img src="assets/icons/download_blue.svg" alt="" class="icon"><span class="btn-text visually-hidden">PDF</span>',c.setAttribute(Kt.DIET_ID,t),u.appendChild(E),u.appendChild(c),r.appendChild(o),r.appendChild(u),i.appendChild(r),i.appendChild(f),i}function s0(e){let t=e.target,a=t.closest(`.${Q.DIET_LOAD_BTN}`),n=t.closest(".diet-download");if(a){e.stopPropagation();let l=a.getAttribute(Kt.DIET_ID),i=a.getAttribute(Kt.DIET_DATE),r=a.getAttribute(Kt.DIET_TYPE);if(!l||!i||!r)return;let{ddmmaa:o,franjaText:s}=Ku(i,r);Wm(l).then(()=>{vo.debug(`Dieta ${o} carregada (${s}).`),Ca(At)}).catch(u=>{vo.error("Error en carregar la dieta:",u)})}else if(n){e.stopPropagation();let l=n.getAttribute(Kt.DIET_ID);l&&Tg(l)}}function To(){if(!ne||!Tt)return;let e=ne.children.length>0;ne.classList.toggle(Q.HIDDEN,!e),Tt.classList.toggle(Q.HIDDEN,e),e||(Tt.textContent="No hay dietas guardadas.")}function u0(e,t,a,n){let l=0,i=0,r=!1;e.addEventListener("mousedown",o=>{o.target.closest("button")||o.target.closest(".diet-icons")||(l=o.clientX,i=l,r=!1)}),document.addEventListener("mousemove",o=>{i=o.clientX;let s=l-i;s>10&&!r&&(r=!0,e.classList.add(Q.DIET_ITEM_SWIPING)),r&&s>10&&(e.style.transform=`translateX(-${Math.min(s,80)}px)`,o.preventDefault())}),document.addEventListener("mouseup",async()=>{if(!r)return;r=!1;let o=l-i;e.classList.remove(Q.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",o>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),To(),await Hu(t,a,n)},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function Lg(e,t,a,n){let l=0,i=0,r=!1;e.addEventListener("touchstart",o=>{o.target.closest("button")||o.target.closest(".diet-icons")||(l=o.touches[0].clientX,i=l,r=!1,o.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",o=>{i=o.touches[0].clientX;let s=l-i;s>10&&!r&&(r=!0,e.classList.add(Q.DIET_ITEM_SWIPING),At&&(At.style.overflow="hidden")),r&&s>10&&(e.style.transform=`translateX(-${Math.min(s,80)}px)`,o.preventDefault(),o.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async o=>{if(!r)return;r=!1;let s=l-i;e.classList.remove(Q.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",s>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),To(),await Hu(t,a,n)},300)):(e.style.transform="translateX(0)",e.style.opacity="1",At&&(At.style.overflow="")),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),o.stopPropagation()}),u0(e,t,a,n)}function Rg(){Bi()}function Ao(){Bi()&&(yo(At),Ri())}function qu(){tc()===At&&Ca(At)}async function Ri(){if(Bi()){ne.innerHTML="";try{let e=await va();if(e.length===0){ne.classList.add(Q.HIDDEN),Tt.classList.remove(Q.HIDDEN),Tt.textContent="No hay dietas guardadas.";return}ne.classList.remove(Q.HIDDEN),Tt.classList.add(Q.HIDDEN),e.slice().sort((t,a)=>new Date(a.timeStampDiet)-new Date(t.timeStampDiet)).forEach((t,a)=>{let n=Mg(t);n.setAttribute("data-index",String(a)),ne.appendChild(n),Lg(n,t.id,t.date,t.dietType)})}catch(e){vo.error("Error al carregar les dietes:",e),ne.classList.add(Q.HIDDEN),Tt.classList.remove(Q.HIDDEN),Tt.textContent="Error al cargar las dietas."}}}function ju(e){if(!Bi())return;let t=ne.querySelector(`[data-diet-id="${e}"]`)?.closest(".diet-item");if(!t)return;let a=`${ne.scrollHeight}px`;ne.style.height=a,t.remove(),requestAnimationFrame(()=>{ne.style.height=`${ne.scrollHeight}px`}),To()}function Yu(e){if(!Bi()){Ri();return}let t=e.index||0,a=Mg(e);a.style.opacity="0",a.style.transform="translateX(-100%)";let n=ne.children[t];n?ne.insertBefore(a,n):ne.appendChild(a),requestAnimationFrame(()=>{a.style.transition="opacity 0.5s ease, transform 0.5s ease",a.style.opacity="1",a.style.transform="translateX(0)",Lg(a,e.id,e.date,e.dietType)}),To(),ne.classList.remove(Q.HIDDEN),Tt.classList.add(Q.HIDDEN)}var we=I.withScope("DotacionService"),Ig="dotacions_v2",Bg="dotacions_encrypted",fe={MODAL:"dotacio-modal",OPTIONS_CONTAINER:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2"},Ct={MODAL_OPEN:"modal-open",INPUT_ERROR:"input-error",HIDDEN:"hidden"},rl={PERSON_INPUT_GROUP:".input-with-icon",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete"},wg={INDEX:"data-index"},c0=180,ac=class{constructor(){this.savedDotacions=[],this.dotacioModalElement=null,this.optionsContainerElement=null,this.dotacioTemplateElement=null,this.noDotacioTextElement=null,this.isInitialized=!1}async init(){if(this.isInitialized)return;this.dotacioModalElement=document.getElementById(fe.MODAL),this.optionsContainerElement=document.getElementById(fe.OPTIONS_CONTAINER),this.dotacioTemplateElement=document.getElementById(fe.TEMPLATE),this.noDotacioTextElement=document.getElementById(fe.NO_DOTACIO_TEXT);let t=document.getElementById(fe.ADD_BTN),a=document.getElementById(fe.OPEN_MODAL_BTN),n=document.getElementById(fe.CLOSE_MODAL_BTN);if(!this.dotacioModalElement||!this.optionsContainerElement||!this.dotacioTemplateElement||!t||!a||!n)return;await this.loadDotacionsFromStorage(),t.addEventListener("click",this.addDotacioFromMainForm.bind(this)),a.addEventListener("click",this.openDotacioModal.bind(this)),n.addEventListener("click",this.closeDotacioModal.bind(this)),this.dotacioModalElement.addEventListener("click",i=>{i.target===this.dotacioModalElement&&this.closeDotacioModal()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&this.dotacioModalElement.style.display==="block"&&this.closeDotacioModal()}),this.optionsContainerElement.addEventListener("click",this.handleOptionsClick.bind(this)),[fe.VEHICLE_INPUT,fe.PERSON1_INPUT,fe.PERSON2_INPUT].forEach(i=>{let r=document.getElementById(i);r?.addEventListener("input",()=>{let o=r.closest(rl.PERSON_INPUT_GROUP);o?o.classList.remove(Ct.INPUT_ERROR):r.classList.remove(Ct.INPUT_ERROR)})}),this.isInitialized=!0}async loadDotacionsFromStorage(){try{let t=localStorage.getItem(Ig);if(!t){this.savedDotacions=[];return}if(localStorage.getItem(Bg)==="true"){if(!await sn()){we.error("\u274C Sistema de claus NO inicialitzat. No es poden carregar dotacions encriptades."),b("Error de seguretat: No es poden carregar les dotacions. Proveu recarregar la p\xE0gina.","error",5e3),this.savedDotacions=[];return}try{let n=await jt(),l=JSON.parse(t),i=await f0(l,n);this.savedDotacions=i,we.debug("\u{1F513} Dotacions desencriptades correctament")}catch(n){we.error("\u274C Error CR\xCDTIC desencriptant dotacions:",n),b("Error desencriptant dotacions. Les dades estan protegides i no es poden llegir. Contacteu suport si el problema persisteix.","error",7e3),this.savedDotacions=[]}}else if(we.warn("\u26A0\uFE0F Dotacions en text pla detectades (format antic insegur)"),this.savedDotacions=JSON.parse(t),this.savedDotacions.length>0){b(`\u26A0\uFE0F S'han detectat ${this.savedDotacions.length} dotaci\xF3(ns) sense encriptar. S'encriptaran autom\xE0ticament per protegir les vostres dades.`,"warning",7e3),we.debug("\u{1F4E6} Migrant dotacions a format encriptat...");try{await this.saveDotacionsToStorage(),b("\u2705 Dotacions migrades i encriptades correctament!","success",5e3),we.info("\u2705 Migraci\xF3 completada amb \xE8xit")}catch(n){we.error("\u274C Error migrant dotacions:",n),b("\u26A0\uFE0F No s'han pogut encriptar les dotacions antigues. Les dades encara s\xF3n accessibles per\xF2 no estan protegides. Deseu-les de nou per encriptar-les.","error",1e4)}}Array.isArray(this.savedDotacions)||(this.savedDotacions=[])}catch(t){we.error("Error carregant dotacions:",t),this.savedDotacions=[]}}async saveDotacionsToStorage(){try{if(!await sn())throw we.error("\u274C Sistema de claus NO inicialitzat. NO es poden guardar dotacions."),b("Error de seguretat: Sistema d'encriptaci\xF3 no disponible. Proveu recarregar la p\xE0gina.","error",5e3),new Error("Sistema de claus no inicialitzat - guardat bloquejat per seguretat");let t=await jt(),a=await d0(this.savedDotacions,t);localStorage.setItem(Ig,JSON.stringify(a)),localStorage.setItem(Bg,"true"),we.debug("\u{1F512} Dotacions guardades encriptades")}catch(t){throw we.error("\u274C Error CR\xCDTIC guardant dotacions:",t),b("Error cr\xEDtic: Les dotacions NO s'han desat per seguretat.","error",5e3),t}}openDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="block",this.dotacioModalElement.style.pointerEvents="auto",document.body.classList.add(Ct.MODAL_OPEN),document.body.style.setProperty("pointer-events","none"),this.displayDotacioOptions())}closeDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="none",this.dotacioModalElement.style.pointerEvents="",document.body.classList.remove(Ct.MODAL_OPEN),document.body.style.removeProperty("pointer-events"),document.getElementById(fe.OPEN_MODAL_BTN)?.focus())}displayDotacioOptions(){!this.optionsContainerElement||!this.dotacioTemplateElement||(this.optionsContainerElement.innerHTML="",this.savedDotacions.length===0?(this.noDotacioTextElement?.classList.remove(Ct.HIDDEN),this.optionsContainerElement.classList.add(Ct.HIDDEN)):(this.noDotacioTextElement?.classList.add(Ct.HIDDEN),this.optionsContainerElement.classList.remove(Ct.HIDDEN),this.savedDotacions.forEach((t,a)=>{let n=this.dotacioTemplateElement.content.cloneNode(!0),l=n.querySelector(rl.DOTACIO_INFO),i=n.querySelector(rl.LOAD_BTN),r=n.firstElementChild,o=`${t.numero}-${t.conductor}-${t.ajudant}`.replace(/\s/g,"");r.setAttribute("data-dotacio-id",o),l&&(l.textContent=this.formatDotacioListText(t)),i&&i.setAttribute(wg.INDEX,a),this.optionsContainerElement.appendChild(n),bo(r,o),Co(r,o)})))}formatDotacioListText(t){let a=t.numero||"S/N",n=$n(t.conductor||""),l=$n(t.ajudant||""),i=`${n} / ${l}`;n||l?i=` - ${i}`:i="";let r=`${a}${i}`;if(this.measureTextWidth(r)>c0){let s=t.conductor?this.shortenPersonName(t.conductor):"",u=t.ajudant?this.shortenPersonName(t.ajudant):"",f=`${s} / ${u}`;s||u?f=` - ${f}`:f="",r=`${a}${f}`}return r}shortenPersonName(t){if(!t||typeof t!="string")return"";let a=t.trim().split(/\s+/).filter(o=>o.length>0);if(a.length===0)return"";if(a.length===1)return $n(a[0]);let n=new Set(["de","la","del","el","los","las","von","van","d'","es","da","dels","i","y"]),l=a.filter(o=>!n.has(o.toLowerCase()));if(l.length===0)return $n(a[0]);let i=$n(l[0]),r=l.slice(1).map(o=>o.charAt(0).toUpperCase()+".").join(" ");return`${i} ${r}`}measureTextWidth(t){let a=document.createElement("span");a.style.visibility="hidden",a.style.whiteSpace="nowrap",a.style.fontSize=getComputedStyle(document.body).fontSize,a.style.fontFamily=getComputedStyle(document.body).fontFamily,a.textContent=t,document.body.appendChild(a);let n=a.offsetWidth;return document.body.removeChild(a),n}loadDotacionByIndex(t){if(t<0||t>=this.savedDotacions.length)return;let a=this.savedDotacions[t];this.clearDotacionInputErrors(),document.getElementById(fe.VEHICLE_INPUT).value=a.numero||"",document.getElementById(fe.PERSON1_INPUT).value=a.conductor||"",document.getElementById(fe.PERSON2_INPUT).value=a.ajudant||"",uo(a.firmaConductor||""),co(a.firmaAjudant||""),b(`Dotaci\xF3n ${a.numero} cargada.`,"success"),this.closeDotacioModal()}async handleDeleteById(t){let a=this.savedDotacions.findIndex(i=>`${i.numero}-${i.conductor}-${i.ajudant}`.replace(/\s/g,"")===t);if(a===-1){console.warn("Se intent\xF3 eliminar una dotaci\xF3n que ya no existe:",t);return}let l={...this.savedDotacions[a],originalIndex:a};this.savedDotacions.splice(a,1),await this.saveDotacionsToStorage(),sl(),b("Dotaci\xF3n eliminada.","success",5e3,{queueable:!1,undoCallback:async()=>{this.savedDotacions.splice(l.originalIndex,0,l),await this.saveDotacionsToStorage(),nc(l),b("Dotaci\xF3n restaurada.","success")}})}handleOptionsClick(t){let n=t.target.closest(rl.LOAD_BTN);if(n){t.stopPropagation();let l=parseInt(n.getAttribute(wg.INDEX),10);isNaN(l)||this.loadDotacionByIndex(l)}}getDotacionInputValues(){let t=document.getElementById(fe.VEHICLE_INPUT),a=document.getElementById(fe.PERSON1_INPUT),n=document.getElementById(fe.PERSON2_INPUT);return{vehiculo:t?.value.trim()||"",conductor:a?.value.trim()||"",ayudante:n?.value.trim()||""}}findExistingDotacionIndex(t,a,n){let l=t.toLowerCase(),i=a.toLowerCase(),r=n.toLowerCase();return this.savedDotacions.findIndex(o=>o.numero.toLowerCase()===l&&o.conductor.toLowerCase()===i&&o.ajudant.toLowerCase()===r)}async addDotacioFromMainForm(){if(!Dm())return;let{vehiculo:t,conductor:a,ayudante:n}=this.getDotacionInputValues(),l=_o(),i=Do(),r=this.findExistingDotacionIndex(t,a,n),o={numero:t,conductor:a,ajudant:n,firmaConductor:l,firmaAjudant:i};r!==-1?(this.savedDotacions[r]=o,b(`Dotaci\xF3n ${t} actualizada.`,"success")):(this.savedDotacions.push(o),b(`Dotaci\xF3n ${t} creada.`,"success")),await this.saveDotacionsToStorage()}clearDotacionInputErrors(){let t=document.getElementById(fe.VEHICLE_INPUT),a=document.getElementById(fe.PERSON1_INPUT),n=document.getElementById(fe.PERSON2_INPUT),l=a?.closest(rl.PERSON_INPUT_GROUP),i=n?.closest(rl.PERSON_INPUT_GROUP);t?.classList.remove(Ct.INPUT_ERROR),l?.classList.remove(Ct.INPUT_ERROR),i?.classList.remove(Ct.INPUT_ERROR)}};async function d0(e,t){try{let n=new TextEncoder().encode(JSON.stringify(e)),l=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:l,tagLength:128},t,n),r=xg(i),o=xg(l),s=await zg(r);return{version:1,algorithm:"AES-GCM",iv:o,data:r,checksum:s}}catch(a){throw we.error("Error encriptant dotacions:",a),a}}async function f0(e,t){try{if(!e||!e.data||!e.iv)throw new Error("Format de dades encriptades inv\xE0lid");e.checksum&&await zg(e.data)!==e.checksum&&we.warn("Checksum no coincideix - dades potencialment corruptes");let a=Ug(e.data),n=Ug(e.iv),l=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(n),tagLength:128},t,new Uint8Array(a)),r=new TextDecoder().decode(l);return JSON.parse(r)}catch(a){throw we.error("Error desencriptant dotacions:",a),a}}function xg(e){let t=new Uint8Array(e),a="";for(let n=0;n<t.byteLength;n++)a+=String.fromCharCode(t[n]);return btoa(a)}function Ug(e){let t=atob(e),a=new Uint8Array(t.length);for(let n=0;n<t.length;n++)a[n]=t.charCodeAt(n);return a.buffer}async function zg(e){try{let a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){return we.error("Error calculant checksum:",t),""}}var ol=new ac;var m0=I.withScope("Modals:Dotacio");function g0(e,t){let a=document.getElementById("dotacio-template");if(!a)return m0.warn("No s'ha trobat el template per a dotacions."),null;let n=a.content.cloneNode(!0),l=n.firstElementChild,i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");l.setAttribute("data-dotacio-id",i);let r=n.querySelector(".dotacio-info"),o=n.querySelector(".dotacio-load");if(r){let s=[e.conductor,e.ajudant].filter(Boolean).join(" / ");r.textContent=s?`${e.numero} - ${s}`:e.numero}return o&&o.setAttribute("data-index",String(t)),l}function sl(){let e=document.getElementById("dotacio-options"),t=document.getElementById("no-dotacio-text");if(!e||!t)return;let a=e.children.length>0;e.classList.toggle("hidden",!a),t.classList.toggle("hidden",a),a||(t.innerHTML='No hay dotaciones, guarde abans: <img src="assets/icons/save_green.svg" alt="Guardar" class="save-icon" />')}function Co(e,t){let a=0,n=0,l=!1;e.addEventListener("mousedown",i=>{i.target.closest("button")||i.target.closest(".button-container")||(a=i.clientX,n=a,l=!1)}),document.addEventListener("mousemove",i=>{n=i.clientX;let r=a-n;r>10&&!l&&(l=!0,e.classList.add("swiping")),l&&r>10&&(e.style.transform=`translateX(-${Math.min(r,80)}px)`,i.preventDefault())}),document.addEventListener("mouseup",async()=>{if(!l)return;l=!1;let i=a-n;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",i>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await ol.handleDeleteById(t),e.remove(),sl()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function bo(e,t){let a=0,n=0,l=!1;e.addEventListener("touchstart",i=>{i.target.closest("button")||(a=i.touches[0].clientX,n=a,l=!1,i.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",i=>{n=i.touches[0].clientX;let r=a-n;r>10&&!l&&(l=!0,e.classList.add("swiping")),l&&r>10&&(e.style.transform=`translateX(-${Math.min(r,80)}px)`,i.preventDefault(),i.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async i=>{if(!l)return;l=!1;let r=a-n;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",r>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await ol.handleDeleteById(t),e.remove(),sl()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),i.stopPropagation()})}function nc(e){let t=document.getElementById("dotacio-options");if(!t){ol.displayDotacioOptions();return}let a=e.originalIndex,n=g0(e,a);if(!n)return;n.style.opacity="0",n.style.transform="translateX(-100%)";let l=t.children[a];l?t.insertBefore(n,l):t.appendChild(n),requestAnimationFrame(()=>{n.style.transition="opacity 0.5s ease, transform 0.5s ease",n.style.opacity="1",n.style.transform="translateX(0)";let i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");bo(n,i),Co(n,i)}),sl()}var r1=I.withScope("Modals:Confirm"),wi=null,Pg=null,Vg=null,Hg=null,Gg=null;function E0(){if(!wi){if(wi=document.getElementById(vt.CONFIRM_MODAL),!wi)return!1;Pg=document.getElementById(vt.CONFIRM_MESSAGE),Vg=wi.querySelector(vt.CONFIRM_TITLE),Hg=document.getElementById(vt.CONFIRM_YES_BTN),Gg=document.getElementById(vt.CONFIRM_NO_BTN)}return!!wi&&!!Pg&&!!Vg&&!!Hg&&!!Gg}function qg(){E0()}function jg(){qg(),Rg(),_g()}var xe={DADES:"dades",SERVEIS:"serveis"},Qt={TAB_DADES:`tab-${xe.DADES}`,TAB_SERVEIS:`tab-${xe.SERVEIS}`,CONTENT_DADES:`${xe.DADES}-tab-content`,CONTENT_SERVEIS:`${xe.SERVEIS}-tab-content`,MAIN_CONTENT_AREA:"main-content"},ul={ACTIVE_TAB:"active",ERROR_TAB:"error-tab"},Yg={MIN_DISTANCE:60,MAX_VERTICAL_RATIO:.5},cl=xe.DADES,Oo=0,lc=0,ic=!0,ba=null,Sn=null;function Xg(){let e=document.getElementById(Qt.TAB_DADES),t=document.getElementById(Qt.TAB_SERVEIS);!e||!t||(e.addEventListener("click",()=>xi(xe.DADES)),t.addEventListener("click",()=>xi(xe.SERVEIS)),p0(),xi(cl))}function il(e){ic=!!e}function xi(e){if(cl===e&&document.scrollingElement.scrollTop!==0){window.scrollTo({top:0,behavior:"smooth"});return}if(cl===e||e!==xe.DADES&&e!==xe.SERVEIS)return;window.scrollTo({top:0,behavior:"auto"}),cl=e;let t=document.getElementById(Qt.TAB_DADES),a=document.getElementById(Qt.TAB_SERVEIS),n=document.getElementById(Qt.CONTENT_DADES),l=document.getElementById(Qt.CONTENT_SERVEIS);if(!t||!a||!n||!l)return;t.classList.remove(ul.ERROR_TAB),a.classList.remove(ul.ERROR_TAB);let i=e===xe.DADES;t.classList.toggle(ul.ACTIVE_TAB,i),a.classList.toggle(ul.ACTIVE_TAB,!i),n.classList.toggle(ul.ACTIVE_TAB,i),l.classList.toggle(ul.ACTIVE_TAB,!i),t.setAttribute("aria-selected",i?"true":"false"),a.setAttribute("aria-selected",i?"false":"true"),e===xe.SERVEIS&&typeof Cu=="function"&&Cu()}function p0(){let e=document.getElementById(Qt.MAIN_CONTENT_AREA);e&&(ba=Kg,Sn=Qg,e.addEventListener("touchstart",ba,{passive:!0}),e.addEventListener("touchend",Sn,{passive:!0}))}function Dg(){let e=document.getElementById(Qt.MAIN_CONTENT_AREA);!e||!ba||!Sn||(e.removeEventListener("touchstart",ba,{passive:!0}),e.removeEventListener("touchend",Sn,{passive:!0}),ba=null,Sn=null)}function Og(){let e=document.getElementById(Qt.MAIN_CONTENT_AREA);e&&(ba||(ba=Kg,Sn=Qg,e.addEventListener("touchstart",ba,{passive:!0}),e.addEventListener("touchend",Sn,{passive:!0})))}function Kg(e){if(!ic||ec())return;let t=e.touches[0];Oo=t.clientX,lc=t.clientY}function Qg(e){if(!ic||Oo===0||!e.changedTouches||e.changedTouches.length===0)return;let t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY,n=t-Oo,l=a-lc;Oo=0,lc=0,!(Math.abs(l)>Math.abs(n)*Yg.MAX_VERTICAL_RATIO)&&Math.abs(n)>Yg.MIN_DISTANCE&&(n>0?cl===xe.SERVEIS&&xi(xe.DADES):cl===xe.DADES&&xi(xe.SERVEIS))}var _a={MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title"},rc={MODAL_OPEN:"modal-open",SIGNED:"signed"},Da={LINE_WIDTH:2,LINE_CAP:"round",STROKE_STYLE:"#000000",IMAGE_FORMAT:"image/png",DOUBLE_CLICK_TIMEOUT:300,DOUBLE_TAP_TIMEOUT:300,DOUBLE_TAP_MAX_DIST:20},Fg={SIGNATURE_PENDING:"assets/icons/signature.svg",SIGNATURE_OK:"assets/icons/signature_ok.svg"},Zg={PERSON1:"Firma del conductor",PERSON2:"Firma del ayudante"},oc=class{constructor(){this.signatureConductor="",this.signatureAjudant="",this.currentSignatureTarget=null,this.isDrawing=!1,this.canvasContext=null,this.signatureCanvasElement=null,this.signatureModalElement=null,this.signPerson1Button=null,this.signPerson2Button=null,this.hasUserDrawn=!1,this.lastTouchTime=0,this.lastTouchX=0,this.lastTouchY=0,this.clickCount=0,this.clickTimer=null}init(){this.signatureModalElement=document.getElementById(_a.MODAL),this.signatureCanvasElement=document.getElementById(_a.CANVAS);let t=document.getElementById(_a.CANCEL_BTN),a=document.getElementById(_a.ACCEPT_BTN);this.signPerson1Button=document.getElementById(_a.SIGN_PERSON1_BTN),this.signPerson2Button=document.getElementById(_a.SIGN_PERSON2_BTN),!(!this.signatureModalElement||!this.signatureCanvasElement||!t||!a||!this.signPerson1Button||!this.signPerson2Button)&&(this.resizeCanvas(),this.initCanvasEvents(),t.addEventListener("click",this.closeSignatureModal.bind(this)),a.addEventListener("click",this.acceptSignature.bind(this)),this.signPerson1Button.addEventListener("click",()=>this.openSignatureModal("person1")),this.signPerson2Button.addEventListener("click",()=>this.openSignatureModal("person2")),this.signatureModalElement.addEventListener("click",n=>{n.target===this.signatureModalElement&&this.closeSignatureModal()}),window.addEventListener("resize",this.debounce(this.resizeCanvas.bind(this),150)),document.addEventListener("keydown",n=>{n.key==="Escape"&&this.signatureModalElement.style.display==="block"&&this.closeSignatureModal()}),this.updateSignatureIcons())}debounce(t,a){let n;return(...l)=>{clearTimeout(n),n=setTimeout(()=>t.apply(this,l),a)}}resizeCanvas(){if(!this.signatureCanvasElement||!this.signatureCanvasElement.parentElement)return;let t=this.signatureCanvasElement.parentElement;this.canvasContext||(this.canvasContext=this.signatureCanvasElement.getContext("2d",{willReadFrequently:!0})),this.canvasContext&&(this.signatureCanvasElement.width=t.offsetWidth,this.signatureCanvasElement.height=t.offsetHeight,this.canvasContext.lineWidth=Da.LINE_WIDTH,this.canvasContext.lineCap=Da.LINE_CAP,this.canvasContext.strokeStyle=Da.STROKE_STYLE)}clearCanvas(){!this.canvasContext||!this.signatureCanvasElement||(this.canvasContext.clearRect(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),this.hasUserDrawn=!1)}getEventCoordinates(t){if(!this.signatureCanvasElement)return{x:0,y:0};let a=this.signatureCanvasElement.getBoundingClientRect(),n,l;return t.touches&&t.touches.length>0?(n=t.touches[0].clientX,l=t.touches[0].clientY):(n=t.clientX,l=t.clientY),{x:n-a.left,y:l-a.top}}startDrawing(t){if(!this.canvasContext)return;this.isDrawing=!0,this.hasUserDrawn=!0,this.canvasContext.beginPath();let{x:a,y:n}=this.getEventCoordinates(t);this.canvasContext.moveTo(a,n)}draw(t){if(!this.isDrawing||!this.canvasContext)return;t.preventDefault();let{x:a,y:n}=this.getEventCoordinates(t);this.canvasContext.lineTo(a,n),this.canvasContext.stroke()}stopDrawing(){!this.isDrawing||!this.canvasContext||(this.isDrawing=!1)}handleCanvasClick(t){this.clickCount++,this.clickCount===1?this.clickTimer=setTimeout(()=>this.clickCount=0,Da.DOUBLE_CLICK_TIMEOUT):this.clickCount===2&&(clearTimeout(this.clickTimer),this.clickCount=0,t.preventDefault(),this.clearCanvas())}handleCanvasTouchEnd(t){if(t.touches.length>0)return;let a=Date.now(),n=t.changedTouches[0];if(!n)return;let{x:l,y:i}=this.getEventCoordinates({clientX:n.clientX,clientY:n.clientY}),r=a-this.lastTouchTime,o=Math.abs(l-this.lastTouchX),s=Math.abs(i-this.lastTouchY);r<Da.DOUBLE_TAP_TIMEOUT&&o<Da.DOUBLE_TAP_MAX_DIST&&s<Da.DOUBLE_TAP_MAX_DIST?(t.preventDefault(),this.clearCanvas(),this.lastTouchTime=0):(this.lastTouchTime=a,this.lastTouchX=l,this.lastTouchY=i)}initCanvasEvents(){this.signatureCanvasElement&&(this.signatureCanvasElement.addEventListener("mousedown",this.startDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mousemove",this.draw.bind(this)),this.signatureCanvasElement.addEventListener("mouseup",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mouseout",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("click",this.handleCanvasClick.bind(this)),this.signatureCanvasElement.addEventListener("touchstart",this.startDrawing.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchmove",this.draw.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchend",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchcancel",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchend",this.handleCanvasTouchEnd.bind(this),{passive:!1}))}openSignatureModal(t){if(!this.signatureModalElement||!this.canvasContext)return;il(!1),this.currentSignatureTarget=t;let a=document.getElementById(_a.TITLE);a&&(a.textContent=t==="person1"?Zg.PERSON1:Zg.PERSON2),this.signatureModalElement.style.display="block",document.body.classList.add(rc.MODAL_OPEN),this.resizeCanvas(),this.clearCanvas();let n=t==="person1"?this.signatureConductor:this.signatureAjudant;n&&this.drawSignatureFromDataUrl(n),document.getElementById(_a.ACCEPT_BTN)?.focus()}closeSignatureModal(){this.signatureModalElement&&(il(!0),this.signatureModalElement.style.display="none",document.body.classList.remove(rc.MODAL_OPEN),this.currentSignatureTarget=null,(this.currentSignatureTarget==="person1"?this.signPerson1Button:this.signPerson2Button)?.focus())}isCanvasEmpty(){if(!this.canvasContext||!this.signatureCanvasElement)return!0;try{return!new Uint32Array(this.canvasContext.getImageData(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height).data.buffer).some(a=>a!==0)}catch{return!1}}acceptSignature(){if(!this.canvasContext||!this.signatureCanvasElement||!this.currentSignatureTarget)return;let t=this.isCanvasEmpty(),a=t?"":this.signatureCanvasElement.toDataURL(Da.IMAGE_FORMAT),n=null;this.currentSignatureTarget==="person1"?(this.signatureConductor=a,n=this.signPerson1Button):this.currentSignatureTarget==="person2"&&(this.signatureAjudant=a,n=this.signPerson2Button),this.updateSignatureUI(n,!t),this.closeSignatureModal(),qt()}drawSignatureFromDataUrl(t){if(!this.canvasContext||!t)return;let a=new Image;a.onload=()=>this.canvasContext.drawImage(a,0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),a.onerror=()=>{},a.src=t}updateSignatureUI(t,a){if(!t)return;let n=t.querySelector(".icon");n&&(t.classList.toggle(rc.SIGNED,a),n.src=a?Fg.SIGNATURE_OK:Fg.SIGNATURE_PENDING)}updateSignatureIcons(){this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor),this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}getSignatureConductor(){return this.signatureConductor}getSignatureAjudant(){return this.signatureAjudant}setSignatureConductor(t){this.signatureConductor=t||"",this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor)}setSignatureAjudant(t){this.signatureAjudant=t||"",this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}},Ui=new oc,Jg=()=>Ui.init(),_o=()=>Ui.getSignatureConductor(),Do=()=>Ui.getSignatureAjudant(),uo=e=>Ui.setSignatureConductor(e),co=e=>Ui.setSignatureAjudant(e);var zi=I.withScope("FormService"),h0=".service",kg="main-content",bt={DATE:"date",DIET_TYPE:"diet-type",VEHICLE:"vehicle-number",P1:"person1",P2:"person2",SERVICE_TYPE:"service-type",SAVE_BTN:"save-diet"},S0="userSelectedServiceType",y0={serviceNumber:".service-number",origin:".origin",originTime:".origin-time",destination:".destination",destinationTime:".destination-time",endTime:".end-time"},v0="chip-active",T0=800,A0=1e3,C0=300,sc=class{constructor(){this.initialFormDataStr="",this.saveStart=0,this.debouncedAutoSave=Ii(this.triggerAutoSave.bind(this),A0),this.debouncedHandler=Ii(this.handleInputChange.bind(this),T0)}isFormReadyForSave(){try{let t=!!document.getElementById(bt.DATE)?.value.trim(),a=!!document.getElementById(bt.DIET_TYPE)?.value.trim(),n=document.getElementById("service-number-1")?.value.trim(),l=/^\d{9}$/.test(n);return t&&a&&l}catch(t){return console.warn("[FormService] Error validant formulari:",t),!1}}hasPendingChanges(){return JSON.stringify(this.getFormDataObject()||{})!==this.initialFormDataStr}getFormDataObject(){try{let t=de(document.getElementById(bt.DATE)?.value),a=de(document.getElementById(bt.VEHICLE)?.value),n=de(document.getElementById(bt.P1)?.value),l=de(document.getElementById(bt.P2)?.value),i=Si(a,"vehicleNumber"),r=Si(n,"personName"),o=Si(l,"personName");a&&!i.valid&&zi.warn("N\xFAmero de vehicle inv\xE0lid:",i.reason),n&&!r.valid&&zi.warn("Nom conductor inv\xE0lid:",r.reason),l&&!o.valid&&zi.warn("Nom ajudant inv\xE0lid:",o.reason);let s={date:t,dietType:de(document.getElementById(bt.DIET_TYPE)?.value||Xu()),vehicleNumber:i.valid?i.sanitized:"",person1:r.valid?r.sanitized:"",person2:o.valid?o.sanitized:"",serviceType:de(document.getElementById(bt.SERVICE_TYPE)?.value||"TSU"),signatureConductor:_o(),signatureAjudant:Do()},u=Array.from(document.querySelectorAll(h0)).map((f,E)=>{let c={};for(let[y,T]of Object.entries(y0)){if(!T){c[y]="";continue}let _=de(f.querySelector(T)?.value);if(y==="serviceNumber"&&_)vu(_)?c[y]=_:(zi.warn(`N\xFAmero de servei ${E+1} inv\xE0lid:`,_),c[y]="");else if((y==="originTime"||y==="destinationTime"||y==="endTime")&&_)yu(_)?c[y]=_:(zi.warn(`Hora inv\xE0lida en servei ${E+1}, camp ${y}:`,_),c[y]="");else{let m=Si(_,"text");c[y]=m.valid?m.sanitized:""}}let g=f.querySelector(`.chip.${v0}`);return c.mode=g?.dataset.mode||"3.6",c.notes=Gt[E]||"",c});return{generalData:s,servicesData:u}}catch(t){return console.error("[FormService] Error recollint dades:",t),null}}async triggerAutoSave(){if(!(!this.isFormReadyForSave()||!this.hasPendingChanges()))try{this.saveStart=Date.now(),oo(),await Vu();let t=Date.now()-this.saveStart;setTimeout(so,Math.max(0,C0-t)),this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{})}catch(t){console.warn("[Autosave skipped]",t?.message||"Error desconegut"),dn("Revisa dades de Serveis")}}captureInitialFormState(){this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{}),this.handleFormChange()}setSaveButtonState(t){let a=document.getElementById(bt.SAVE_BTN);a&&(a.disabled=!t,a.setAttribute("aria-disabled",t?"false":"true"),a.classList.toggle("is-disabled",!t))}handleFormChange(){if(this.debouncedAutoSave.cancel(),!this.hasPendingChanges()){this.setSaveButtonState(!1),Mi();return}this.isFormReadyForSave()?(this.setSaveButtonState(!0),this.debouncedAutoSave()):(this.setSaveButtonState(!1),Mi())}handleInputChange(){this.handleFormChange()}addInputListeners(){let t=document.getElementById(kg);if(!t)return;t.addEventListener("input",this.debouncedHandler),t.addEventListener("change",this.debouncedHandler),t.addEventListener("blur",n=>{n.target.matches("input, select, textarea")&&(this.handleFormChange(),this.isFormReadyForSave()&&this.hasPendingChanges()&&(this.debouncedAutoSave.cancel(),this.triggerAutoSave()))},!0);let a=document.getElementById(bt.DATE);a?.addEventListener("change",()=>{a.blur(),this.debouncedHandler()}),window.addEventListener("beforeunload",()=>{this.debouncedAutoSave.cancel(),this.isFormReadyForSave()&&Vu()})}addServiceTypeListener(){let t=document.getElementById(bt.SERVICE_TYPE);t&&t.addEventListener("change",a=>{let n=a.target.value.trim();Fn(n);try{localStorage.setItem(S0,n)}catch(l){console.error("No s\u2019ha pogut desar tipus servei",l)}})}cancelPendingAutoSave(){this.debouncedAutoSave.cancel()}addDoneBehavior(){document.getElementById(kg)?.addEventListener("keydown",a=>{a.key==="Enter"&&a.target.matches('input[enterkeyhint="done"]')&&(a.preventDefault(),a.target.blur())})}gatherAllData(){return this.getFormDataObject()}getInitialFormDataStr(){return this.initialFormDataStr}},Oa=new sc,Jn=()=>Oa.captureInitialFormState(),zu=e=>Oa.setSaveButtonState(e),qt=()=>Oa.handleFormChange(),$g=()=>Oa.addInputListeners(),Wg=()=>Oa.addServiceTypeListener(),eg=()=>Oa.cancelPendingAutoSave(),eE=()=>Oa.addDoneBehavior(),fo=()=>Oa.gatherAllData();var tE="onboardingCompleted";function aE(){let e=document.getElementById("onboarding-container");if(!e)return;if(!JSON.parse(localStorage.getItem(tE)||"false"))e.classList.remove("hidden");else return;window.addEventListener("load",()=>{e.classList.add("onboarding-loaded")});let a=document.querySelectorAll(".onboarding-slide"),n=document.querySelectorAll(".nav-dot"),l=document.getElementById("onboarding-finish-btn"),i=document.getElementById("onboarding-skip-btn"),r=0;function o(E){a.forEach((c,g)=>{c.classList.toggle("active",g===E)}),n.forEach((c,g)=>{c.classList.toggle("active",g===E)})}function s(){r<a.length-1&&(r++,o(r),navigator.vibrate&&navigator.vibrate(10))}function u(){e.classList.add("hidden"),localStorage.setItem(tE,JSON.stringify(!0)),navigator.vibrate&&navigator.vibrate([50,50,50])}e.addEventListener("click",E=>{E.target.closest("button, a, .nav-dot")||s()});let f=0;e.addEventListener("touchstart",E=>{f=E.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",E=>{E.changedTouches[0].screenX<f-50&&s()}),l.addEventListener("click",u),i.addEventListener("click",u)}var uc={TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text"},nE={DARK_THEME:"theme-dark"},cc="themePreference",st={LIGHT:"light",DARK:"dark"},lE={LIGHT:"assets/icons/moon.svg",DARK:"assets/icons/sun.svg"},iE={LIGHT:"#004aad",DARK:"#343a40"},dc=class{constructor(){this.themeToggleButton=null,this.themeIconElement=null,this.themeTextElement=null,this.bodyElement=null,this.systemDarkMatcher=null}init(){if(this.themeToggleButton=document.getElementById(uc.TOGGLE_BTN),this.themeIconElement=document.getElementById(uc.THEME_ICON),this.themeTextElement=document.getElementById(uc.THEME_TEXT),this.bodyElement=document.body,!this.themeToggleButton||!this.themeIconElement||!this.themeTextElement||!this.bodyElement)return;let t,a=localStorage.getItem(cc);a&&(a===st.LIGHT||a===st.DARK)?t=a:(this.systemDarkMatcher=window.matchMedia("(prefers-color-scheme: dark)"),t=this.systemDarkMatcher.matches?st.DARK:st.LIGHT,this.systemDarkMatcher.addEventListener("change",this._handleSystemThemeChange.bind(this))),this._applyTheme(t,!1),this.themeToggleButton.addEventListener("click",this._handleThemeToggle.bind(this))}_updateThemeColorMeta(t){let a=document.querySelector('meta[name="theme-color"]');a&&(a.content=t)}_applyTheme(t,a=!1){let n=t===st.DARK;this.bodyElement.classList.toggle(nE.DARK_THEME,n),this.themeIconElement.src=n?lE.DARK:lE.LIGHT,this.themeTextElement.textContent=n?"Claro":"Oscuro",this.themeIconElement.alt=n?"Cambiar a tema claro":"Cambiar a tema oscuro",this._updateThemeColorMeta(n?iE.DARK:iE.LIGHT),a&&localStorage.setItem(cc,t)}_handleThemeToggle(){let a=(this.bodyElement.classList.contains(nE.DARK_THEME)?st.DARK:st.LIGHT)===st.DARK?st.LIGHT:st.DARK;this._applyTheme(a,!0)}_handleSystemThemeChange(t){if(!localStorage.getItem(cc)){let a=t.matches?st.DARK:st.LIGHT;this._applyTheme(a,!1)}}},_0=new dc,rE=()=>_0.init();var fc={GENERATE_PDF:".generate-pdf",SAVE_DIET:"#save-diet",MANAGE_DIETS:"#manage-diets"};function oE(){let e=document.querySelector(fc.GENERATE_PDF);e&&e.addEventListener("click",vg);let t=document.getElementById(fc.SAVE_DIET.substring(1));t&&t.addEventListener("click",$m);let a=document.getElementById(fc.MANAGE_DIETS.substring(1));a&&typeof Ao=="function"&&a.addEventListener("click",Ao)}var D0="clear-selected-service",O0=".service";function sE(){let e=document.getElementById(D0);e&&e.addEventListener("click",()=>{let t=rn(),a=document.querySelectorAll(O0);if(t>=0&&t<a.length){let n=a[t],l=n.querySelectorAll('input:not([type="button"]):not([type="submit"]), select, textarea');l.forEach(i=>{i.value!==""&&i.classList.add("field-clearing")}),setTimeout(()=>{wm(n),Ci(n),qt(),l.forEach(i=>{i.classList.remove("field-clearing")})},600)}})}function uE(){document.querySelectorAll('input[type="date"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}function cE(){document.querySelectorAll('input[type="time"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}var dE=Ii(b,ym.DEBOUNCE_TOAST);function N0(e){return/^\d*$/.test(e)}function fE(){let e=document.querySelectorAll(Gn.SERVICE_NUMBER_INPUT);if(!e.length){console.warn("Restrictions: No se han encontrado inputs '.service-number'.");return}e.forEach(t=>{t.dataset.restrictionsSetup!=="true"&&(t.dataset.restrictionsSetup="true",t.addEventListener("keypress",a=>{a.key==="Enter"||a.key==="Tab"||a.ctrlKey||a.metaKey||a.altKey||a.key.length>1||/\d/.test(a.key)||(a.preventDefault(),dE(Eu.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}),t.addEventListener("paste",a=>{try{let n=(a.clipboardData||window.clipboardData)?.getData("text")||"";N0(n)||(a.preventDefault(),dE(Eu.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}catch(n){console.error("Error procesando 'paste':",n),a.preventDefault()}}))})}var mE={SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel"},dl={PANEL_VISIBLE:"visible",BUTTON_OPEN:"open"},Ft=null,Zt=null,gE=!1;function M0(e){e.stopPropagation();let t=Zt.classList.toggle(dl.PANEL_VISIBLE);Ft.classList.toggle(dl.BUTTON_OPEN,t),Ft.setAttribute("aria-expanded",t),t&&Zt.querySelector("button")?.focus()}function L0(e){Zt.classList.contains(dl.PANEL_VISIBLE)&&!Zt.contains(e.target)&&!Ft.contains(e.target)&&mc()}function R0(e){e.key==="Escape"&&Zt.classList.contains(dl.PANEL_VISIBLE)&&(mc(),Ft.focus())}function mc(){Zt.classList.remove(dl.PANEL_VISIBLE),Ft.classList.remove(dl.BUTTON_OPEN),Ft.setAttribute("aria-expanded","false")}function EE(){gE||(Ft=document.getElementById(mE.SETTINGS_BTN),Zt=document.getElementById(mE.SETTINGS_PANEL),!(!Ft||!Zt)&&(Ft.addEventListener("click",M0),document.addEventListener("click",L0),document.addEventListener("keydown",R0),Zt.querySelectorAll("button").forEach(e=>{e.addEventListener("click",mc)}),gE=!0))}var I0={SERVICE_BUTTONS:".service-button:not(.active-square)",OPTIONS_BTN:"#options-toggle",TABS:".tab:not(.active)"},B0="disabled-control";function gc(e=!0){document.querySelectorAll(Object.values(I0).join(", ")).forEach(a=>{a&&(a.classList.toggle(B0,e),a.setAttribute("aria-disabled",e?"true":"false"),a.disabled=e)})}var rv=mu(Pi()),ov=mu(iv());var ce=mu(Pi());function tm({imageUrl:e=null,isProcessing:t=!1,progress:a=0,status:n="idle",statusText:l="Reconociendo texto",onClose:i=null}){let r=(0,ce.useRef)(null),[o,s]=(0,ce.useState)(0),[u,f]=(0,ce.useState)("");if((0,ce.useEffect)(()=>{let y=setTimeout(()=>{s(a)},50);return()=>clearTimeout(y)},[a]),(0,ce.useEffect)(()=>{if(n!=="processing"){f("");return}f(".");let y=setInterval(()=>{f(T=>T.length>=3?".":`${T}.`)},500);return()=>clearInterval(y)},[n]),n==="error"||n==="idle"||!(!!e&&t||!!e&&(n==="done"||n==="warning")))return null;let c=l?.replace(/\s+\d{1,3}%/,"").replace(/\.{2,}$/,"").trim()||"Reconociendo texto",g=n==="processing"?`${c}${u}`:l;return ce.default.createElement("div",{className:"ocr-feedback-overlay",role:"dialog","aria-live":"polite","aria-atomic":"false","aria-label":"OCR en progreso"},ce.default.createElement("div",{className:"ocr-feedback-container",ref:r},e&&ce.default.createElement("div",{className:"ocr-image-preview fade-in"},ce.default.createElement("img",{src:e,alt:"Imagen capturada para OCR",className:"ocr-captured-image",loading:"eager"})),(t||n==="done"||n==="error"||n==="warning")&&ce.default.createElement("div",{className:"ocr-progress-section fade-in"},ce.default.createElement("div",{className:"ocr-progress-bar-container"},ce.default.createElement("div",{className:"ocr-progress-bar-track",style:{"--progress-width":`${o}%`}},ce.default.createElement("div",{className:"ocr-progress-bar-fill",role:"progressbar","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},ce.default.createElement("div",{className:"ocr-progress-shine"}))),ce.default.createElement("span",{className:"ocr-progress-percentage"},n==="error"?"":`${Math.round(o)}%`)),ce.default.createElement("div",{className:`ocr-status-line ${n}`},g?.split(`
`).map((y,T)=>ce.default.createElement("div",{key:T},y))||""))))}var ii="Reconociendo texto",li={done:"\u2713 Texto reconocido correctamente",warning:"Revisa la informaci\xF3n detectada",error:"Error al escanear. Imagen no v\xE1lida"},lu=(e,t=ii)=>e&&e.replace(/\d{1,3}%/g,"").replace(/\.\.+$/g,"").split(`
`).map(i=>i.replace(/\s+/g," ").trim()).join(`
`)||t;function am(e="ocr-feedback-root"){let t=document.getElementById(e);t||(t=document.createElement("div"),t.id=e,document.body.appendChild(t));let a=null,n=null,l={imageUrl:null,isProcessing:!1,progress:0,status:"idle",statusText:ii},i=()=>{a||(a=ov.default.createRoot(t)),a.render(rv.default.createElement(tm,{imageUrl:l.imageUrl,isProcessing:l.isProcessing,progress:l.progress,status:l.status,statusText:l.statusText,onClose:()=>o.reset()}))},r=()=>{n&&(clearTimeout(n),n=null)},o={start(s){r(),l.imageUrl&&l.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(l.imageUrl),s instanceof File||s instanceof Blob?l.imageUrl=URL.createObjectURL(s):typeof s=="string"?l.imageUrl=s:l.imageUrl=null,l.isProcessing=!0,l.progress=0,l.status="processing",l.statusText=ii,i()},update(s,u=null,f="info"){r(),l.progress=Math.min(100,Math.max(0,s));let E=u!==null?lu(u):null;if(f==="error"){l.status="error",l.statusText=E||li.error||ii,l.isProcessing=!1,l.progress=Math.max(l.progress,100),i(),n=setTimeout(()=>{o.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3);return}if(f==="warning"){l.status="warning",l.statusText=E||l.statusText,l.isProcessing=!0,i();return}if(f==="success"){o.complete(E||li.done,"done");return}l.status="processing",E?l.statusText=E:l.statusText||(l.statusText=ii),l.isProcessing=!0,i()},addMessage(s,u="info"){if(u==="error"){o.error(s);return}if(u==="success"){o.complete(s||li.done,"done");return}l.status=u==="warning"?"warning":"processing",l.statusText=lu(s),l.isProcessing=!0,i()},complete(s=null,u="done"){r(),l.progress=100;let f=["done","warning","error"].includes(u)?u:"done";l.status=f;let E=li[f]||li.done;l.statusText=lu(s,E),l.isProcessing=!1,i(),n=setTimeout(()=>{o.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"done"}}))},2500)},error(s="No se reconoci\xF3 texto"){r(),l.status="error",l.statusText=lu(s,li.error),l.isProcessing=!1,l.progress=100,i(),n=setTimeout(()=>{o.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3)},reset(){r(),l.imageUrl&&l.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(l.imageUrl),l.imageUrl=null,l.isProcessing=!1,l.progress=0,l.status="idle",l.statusText=ii,i()},getState(){return{...l}},isProcessing(){return l.isProcessing}};return o}var ri=null;function Hr(){return ri||(ri=am()),ri}function sv(){ri&&(ri.reset(),ri=null)}var uv=1500,nm=.95,lm="image/png",_b=I.withScope("CameraOCR:ImageProcessing");function cv(e,t,a){return new Promise((n,l)=>{e.toBlob(i=>{i?n(i):l(new Error("No s'ha pogut generar el blob de la imatge."))},t,a)})}async function dv(e,{maxDimension:t=uv,imageType:a=lm,imageQuality:n=nm}={}){let l=await createImageBitmap(e),{width:i,height:r}=l;if(Math.max(i,r)<=t)return l.close(),e;let o=Math.min(t/i,t/r),s=Math.round(i*o),u=Math.round(r*o),f=document.createElement("canvas");f.width=s,f.height=u;let E=f.getContext("2d");if(!E)throw l.close(),new Error("Context 2D no disponible.");return E.drawImage(l,0,0,s,u),l.close(),cv(f,a,n)}async function fv(e,{imageType:t=lm,imageQuality:a=nm}={}){let n=await createImageBitmap(e),l=document.createElement("canvas");l.width=n.width,l.height=n.height;let i=l.getContext("2d");if(!i)throw n.close(),new Error("Context 2D no disponible.");try{i.drawImage(n,0,0,n.width,n.height)}catch(r){throw n.close(),r.message&&r.message.includes("detached")?new Error("Error al procesar la imagen. Int\xE9ntalo de nuevo."):r}n.close(),i.filter="grayscale(100%) contrast(180%) brightness(110%)";try{i.drawImage(l,0,0)}catch(r){_b.warn("Fallback sense filtres en el preprocessament.",r)}return cv(l,t,a)}var nO=Object.freeze({IMAGE_MAX_DIMENSION:uv,IMAGE_QUALITY:nm,IMAGE_TYPE:lm});var Db="spa",Ob=1,Nb="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ:/-\xC0\xC9\xCD\xD3\xDA\xC8\xD2\xC0\xDC\xCF\xC7\xD1",mv=10,Mb=1e3,Lb=new Set(["image/jpeg","image/png","image/webp"]),Rb=[{type:"image/jpeg",bytes:[255,216,255]},{type:"image/png",bytes:[137,80,78,71,13,10,26,10]},{type:"image/webp",bytes:[82,73,70,70,null,null,null,null,87,69,66,80]}],Ib=300;var Bb="https://cdn.jsdelivr.net/npm/tesseract.js@6/dist/tesseract.min.js",wb="sha384-r1ru3tcf6FhnCFR4B7pIFG+BhFF9LlFtz/P1y4pblWn3AGs9y3lBx5SKLNf4+rED",xb={load_system_dawg:"0",load_freq_dawg:"0"},Ub={tessedit_char_whitelist:Nb,tessedit_pageseg_mode:6},oi={CAMERA_BTN:"camera-in-dropdown",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline"},an={VISIBLE:"visible",HIDDEN:"hidden",SERVICE_COLORS:["service-1","service-2","service-3","service-4"]},zb={ORIGIN_TIME:{id:"originTime",label:"Hora movilizaci\xF3n",fieldIdSuffix:"origin-time",lineKeywordRegex:/movilizaci|mobilitzat|desplaza/i},DESTINATION_TIME:{id:"destinationTime",label:"Hora de llegada hospital",fieldIdSuffix:"destination-time",lineKeywordRegex:/arribada|hospital|aaah/i},END_TIME:{id:"endTime",label:"Hora Final",fieldIdSuffix:"end-time",valueRegex:/\d{2}\s*\/?\s*\d{2}\s*\/?\s*\d{2}\s+(\d{1,2}:\d{2}(?::\d{2})?)/i}},lt=null,nn=null,iu=null,im=null,ye=null,rm=!1,gv=!1,Ev=!1,pv=0,Pt=null,si=0,hv=0,ru=I.withScope("CameraOCR"),Sv=new go(10,6e4,"escanejat OCR");function Pb(e,t){return!e||e.length<t.length?!1:t.every((a,n)=>a===null||e[n]===a)}async function Vb(e){if(!e)return!1;if(Lb.has(e.type?.toLowerCase()))return!0;try{let t=new Uint8Array(await e.slice(0,12).arrayBuffer());return Rb.some(a=>Pb(t,a.bytes))}catch(t){return ru.warn("No s'ha pogut validar la signatura del fitxer:",t),!1}}function Hb(e){if(!e)return"";let t=e.replace(/[^\d:\-]/g,"");t=t.replace(/-/g,":");let a=t.match(/^(\d{1,2}):(\d{2})(?::\d{2})?$/);if(a){let n=parseInt(a[1],10),l=parseInt(a[2],10);if(n>=0&&n<=23&&l>=0&&l<=59)return`${String(n).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return""}function Gb(){if(Date.now()-pv<500||(pv=Date.now(),!lt||!nn))return;document.body.classList.add("modal-open"),document.body.style.setProperty("pointer-events","none"),lt.style.setProperty("pointer-events","auto"),nn.style.setProperty("pointer-events","auto");let e=rn(),t=an.SERVICE_COLORS[e]||"";nn.classList.remove(...an.SERVICE_COLORS),t&&nn.classList.add(t),lt.classList.remove(an.HIDDEN),requestAnimationFrame(()=>lt.classList.add(an.VISIBLE)),iu?.focus()}function ui(){lt&&(document.body.classList.remove("modal-open"),document.body.style.removeProperty("pointer-events"),lt.style.removeProperty("pointer-events"),nn&&nn.style.removeProperty("pointer-events"),lt.classList.remove(an.VISIBLE),setTimeout(()=>lt.classList.add(an.HIDDEN),Ib))}function qb(e){lt?.classList.contains(an.VISIBLE)&&!nn?.contains(e.target)&&ui()}function jb(){ye&&(ye.setAttribute("capture","environment"),ye.click(),ui())}function Yb(){ye&&(ye.removeAttribute("capture"),ye.click(),ui())}function yv(e){let t=Object.entries(e).filter(([l,i])=>!i.skip),a=t.filter(([l,i])=>i.detected).length,n=t.length;return`${a}/${n} campos detectados`}function Nt(e,t){Pt||(Pt=Hr()),e>si&&(si=e);let a=si>=100?t||"Texto reconocido correctamente":"Reconociendo texto...";Pt.update(si,a)}function Xb(){si=0}function vv(e,t,a){let n=document.getElementById(e);if(n){n.value=t;let l=new Event("input",{bubbles:!0,cancelable:!0});n.dispatchEvent(l)}}function Kb(e,t=null){if(!e||!e.trim())return{hasData:!1,allFieldsStatus:[]};let a=Mm(e);if(!a.valid)return ru.warn("Resultat OCR inv\xE0lid:",a.reason),b(`Error de validaci\xF3: ${a.reason}`,"error"),{hasData:!1,allFieldsStatus:[]};let n=rn(),l=Bm(n)||"3.6",i=`-${n+1}`,r={},o={originTime:{label:"Hora activaci\xF3n",detected:!1},destinationTime:{label:"Hora destino",detected:!1,skip:l==="3.11"||l==="3.22"},endTime:{label:"Hora final",detected:!1}};t&&t(o);let s=e.split(`
`),u=e.toLowerCase().replace(/ +/g," ");if(Object.values(zb).forEach(E=>{if((l==="3.11"||l==="3.22")&&E.id==="destinationTime")return;let c=null;if(E.lineKeywordRegex){for(let g of s)if(E.lineKeywordRegex.test(g.toLowerCase())){let y=g.replace(/\D/g,"");if(y.length>=6){let T=y.slice(-6);c=[null,`${T.slice(0,2)}:${T.slice(2,4)}:${T.slice(4,6)}`];break}}}else E.valueRegex&&(c=u.match(E.valueRegex));if(c&&c[1]){let g=Hb(c[1].trim());if(g&&!r[E.id]){let y=`${E.fieldIdSuffix}${i}`;vv(y,g,E.label),r[E.id]=E,o[E.id]&&(o[E.id].detected=!0,t&&t(o))}}}),!r.endTime&&(r.originTime||r.destinationTime)){let E=new Date,c=String(E.getHours()).padStart(2,"0"),g=String(E.getMinutes()).padStart(2,"0"),y=`${c}:${g}`,T=`end-time${i}`;vv(T,y,"Hora Final (Actual)");let _=document.getElementById(T);_&&(_.classList.add("input-warning"),_.addEventListener("focus",()=>_.classList.remove("input-warning"),{once:!0}))}let f=Object.keys(r).length;return{hasData:f>0,count:f,fields:r,allFieldsStatus:o}}function Tv(){if(gv||(lt=document.getElementById(oi.CAMERA_MODAL),nn=lt?.querySelector(oi.MODAL_CONTENT),iu=document.getElementById(oi.OPTION_CAMERA),im=document.getElementById(oi.OPTION_GALLERY),ye=document.getElementById(oi.CAMERA_INPUT),!lt||!iu||!im||!ye))return;document.querySelectorAll(oi.OCR_SCAN_BTN).forEach(t=>t.addEventListener("click",Gb)),iu.addEventListener("click",jb),im.addEventListener("click",Yb),ye.addEventListener("change",Fb),document.addEventListener("click",qb),document.addEventListener("keydown",t=>{t.key==="Escape"&&lt?.classList.contains(an.VISIBLE)&&ui()}),gv=!0}function Qb(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}async function Fb(e){if(rm)return;let t=e.target.files?.[0];if(!t)return;if(!Sv.canMakeRequest()){let l=Sv.getRemainingRequests();b(`Has superat el l\xEDmit d'escaneigs. Espera uns segons abans de tornar-ho a intentar. (${l} disponibles)`,"warning"),ye&&(ye.value="");return}if(Date.now()-hv<Mb){b("OCR massa freq\xFCent. Espera un segon abans de reintentar.","warning"),ye&&(ye.value="");return}if(!await Vb(t)){b("Format d'imatge no suportat. Usa PNG, JPG o WEBP.","error"),ye&&(ye.value="");return}let a=mv*1024*1024;if(t.size>a){b(`Imatge massa gran. El m\xE0xim perm\xE8s \xE9s ${mv}MB.`,"error"),ye&&(ye.value="");return}rm=!0,gc(!0),si=0,Pt||(Pt=Hr()),Pt.start(t),Nt(0),Qb(),hv=Date.now();let n=null;try{Nt(5);let l=await dv(t);Nt(20),l=await fv(l),Nt(35),await new Promise(s=>setTimeout(s,100)),Nt(45),Ev||(Nt(50),await tl({src:Bb,integrity:wb}),Ev=!0),Nt(60),n=await Tesseract.createWorker(Db,Ob,{logger:s=>{if(s.status==="recognizing text"){let u=Math.max(85,Math.floor(s.progress*100*.15+85));Nt(u)}else s.status==="loading language model"&&Nt(65)},init:xb}),Nt(75),await n.setParameters(Ub),Nt(80);let{data:{text:i}}=await n.recognize(l),o=Kb(i,s=>{let u=yv(s);Pt.update(95,u)});if(o.hasData){let s=yv(o.allFieldsStatus);Pt.complete(s,"done")}else b("Error al escanear. Imagen no v\xE1lida","error"),Pt?.reset?.(),setTimeout(()=>ui(),1e3)}catch(l){ru.error("Error durant el processament OCR:",l),b("Error al escanear. Imagen no v\xE1lida","error"),Pt?.reset?.(),setTimeout(()=>{ru.debug("Tancant modal OCR despr\xE9s de timeout"),ui()},3e3)}finally{try{n&&await n.terminate()}catch{}ye&&(ye.value=""),Xb(),gc(!1),rm=!1}}var Av="anonymousUserId";function Cv(){try{let e=localStorage.getItem(Av);return e||(e=`user-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,localStorage.setItem(Av,e)),e}catch{return`temp-user-${Date.now()}`}}var bv=document.getElementById("save-pill"),di=document.querySelector(".tab-content-container"),ci=0,_v=!1,Zb=10,Jb=150,kb=di&&parseInt(window.getComputedStyle(di).paddingBottom,10)||60;function om(e=ci){_v=e>Jb,_v?(bv.style.bottom=`calc(${e}px + ${Zb}px + env(safe-area-inset-bottom, 0px))`,di&&(di.style.paddingBottom=`${e+50}px`)):(bv.style.bottom="calc(20px + env(safe-area-inset-bottom, 0px))",di&&(di.style.paddingBottom=`${kb}px`))}if("virtualKeyboard"in navigator)navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",e=>{ci=e.target.boundingRect.height,om(ci)});else{let e=window.innerHeight;window.addEventListener("resize",()=>{window.innerHeight<e?(ci=e-window.innerHeight,om(ci)):(ci=0,om(0))})}var $b=document.querySelectorAll('input:not([type="checkbox"]), select, textarea');var Wb=()=>{let e=[".top-bar",".tabs-container"],t=0;return e.forEach(a=>{let n=document.querySelector(a);if(!n)return;let l=n.getBoundingClientRect();l.bottom>t&&(t=l.bottom)}),Math.max(t,0)},sm=()=>{let e=Wb();document.documentElement.style.setProperty("--fixed-headers-height",`${e}px`)},um=()=>{let e=document.querySelector("input.origin");if(!e)return;let t=e.closest(".form-group");if(!t)return;let a=t.querySelector("label");if(!a)return;let n=window.getComputedStyle(a),l=a.offsetHeight,i=parseFloat(n.marginBottom)||0,r=l+i+20;document.documentElement.style.setProperty("--label-space",`${r}px`)};sm();um();window.addEventListener("resize",()=>{sm(),um()});window.addEventListener("orientationchange",()=>{sm(),um()});var e_=e=>{e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})};function t_(e){let t=e.target;t instanceof HTMLElement&&(t.closest(".modal")||setTimeout(()=>{if(!document.body.contains(t))return;if(t.classList.contains("origin")||t.classList.contains("destination")){e_(t);return}t.scrollIntoView({behavior:"smooth",block:"center"})},250))}$b.forEach(e=>{e.addEventListener("focus",t_)});var a_="notes-selected-service",n_="notes-modal",l_="notes-title",i_="notes-textarea",r_="notes-save",o_="notes-cancel",s_="notes-char-counter",fi,dm,re,ou,cm,Vn,Gr=null,qr=null,jr=null;function Dv(){let e=document.getElementById(a_);e&&(fi=document.getElementById(n_),dm=document.getElementById(l_),re=document.getElementById(i_),ou=document.getElementById(r_),cm=document.getElementById(o_),Vn=document.getElementById(s_),!(!fi||!dm||!re||!ou||!cm||!Vn)&&(e.addEventListener("click",()=>{let t=rn();u_(t)}),cm.addEventListener("click",fm)))}function u_(e){if(!fi)return;dm.textContent=`S${e+1}: Observaciones`,re.value=Gt[e]||"";let t=re.maxLength,a=()=>{let n=re.value.length;Vn.textContent=`${n} / ${t}`,Vn.classList.remove("warning","limit"),re.classList.remove("input-warning","input-error"),n>=t?(Vn.classList.add("limit"),re.classList.add("input-error")):n>t*.8&&(Vn.classList.add("warning"),re.classList.add("input-warning"))};a(),qr=()=>{re.value.length>t&&(re.value=re.value.slice(0,t)),a()},re.addEventListener("input",qr),jr=n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),re.blur())},re.addEventListener("keydown",jr),Gr=()=>{let n=re.value.trim(),l=Gt[e]||"";if(n===l){fm();return}Gt[e]=n,n?b("Observaci\xF3n guardada.","success"):b("Observaci\xF3n eliminada.","info"),fm(),qt()},ou.addEventListener("click",Gr),fi.style.display="block",document.body.classList.add("modal-open"),setTimeout(()=>{re.focus({preventScroll:!0}),re.setSelectionRange(re.value.length,re.value.length)},0)}function fm(){fi&&(Gr&&(ou.removeEventListener("click",Gr),Gr=null),qr&&(re.removeEventListener("input",qr),qr=null),jr&&(re.removeEventListener("keydown",jr),jr=null),Vn.classList.remove("warning","limit"),re.classList.remove("input-warning","input-error"),fi.style.display="none",document.body.classList.remove("modal-open"))}var c_="https://www.googletagmanager.com/gtag/js?id=G-23SXKMLR75",d_="sha384-npdF2r0gS4VTDBOUWQ32Igb6Tr6PDv4p0eoQI5oJUSutnNpdFb8JFJ7Y8dbvECv7";window.dataLayer=window.dataLayer||[];window.gtag=window.gtag||function(){window.dataLayer.push(arguments)};var f_=e=>{let a=`; ${document.cookie}`.split(`; ${e}=`);if(a.length===2)return a.pop()?.split(";").shift()},Nv=(e,t,a)=>{let n=new Date;n.setTime(n.getTime()+a*24*60*60*1e3);let l=`expires=${n.toUTCString()}`;document.cookie=`${e}=${t};${l};path=/;SameSite=Lax;Secure`},mi,mm,gm,Ov=!1;async function Mv(){Ov||(await tl({src:c_,integrity:d_,referrerPolicy:"strict-origin-when-cross-origin"}),window.gtag("js",new Date),window.gtag("config","G-23SXKMLR75"),Ov=!0)}function m_(){Mv().catch(e=>{console.error("Error carregant Google Analytics:",e)}),Nv("cookie_consent","granted",365),su()}function g_(){typeof window.gtag=="function"&&window.gtag("consent","update",{analytics_storage:"denied"}),Nv("cookie_consent","denied",365),su()}function E_(){mi&&mi.classList.remove("hidden")}function su(){mi&&mi.classList.add("hidden")}function Lv(){if(mi=document.getElementById("cookie-consent-banner"),mm=document.getElementById("accept-cookies"),gm=document.getElementById("decline-cookies"),!mi||!mm||!gm){console.warn("Elements del b\xE0ner de cookies no trobats.");return}let e=f_("cookie_consent");if(window.gtag("consent","default",{analytics_storage:"denied"}),e==="granted"){Mv().catch(t=>{console.error("Error carregant GA despr\xE9s del consentiment guardat:",t)}),su();return}if(e==="denied"){su();return}e||(E_(),mm.addEventListener("click",m_),gm.addEventListener("click",g_))}var uu=["Abella de la Conca","Abrera","Agramunt","Aguilar de Segarra","Agullana","Aiguafreda","Aiguam\xFArcia","Aiguaviva","Aitona","Alam\xFAs, els","Albag\xE9s, l'","Albany\xE0","Albat\xE0rrec","Albesa","Albi, l'","Albinyana","Albiol, l'","Albons","Alcanar","Alcan\xF3","Alcarr\xE0s","Alcoletge","Alcover","Aldea, l'","Aldover","Aleixar, l'","Alella","Alfara de Carles","Alfarr\xE0s","Alforja","Alf\xE9s","Algerri","Alguaire","Alins","Ali\xF3","Almacelles","Almatret","Almenar","Almoster","Alp","Alpens","Alpicat","Alt \xC0neu","Altafulla","Altres/Diversos","Al\xE0s i Cerc","Al\xF2s de Balaguer","Amer","Ametlla de Mar, l'","Ametlla del Vall\xE8s, l'","Ampolla, l'","Amposta","Anglesola","Angl\xE8s","Arbeca","Arbol\xED","Arbo\xE7, l'","Arb\xFAcies","Arenys de Mar","Arenys de Munt","Argelaguer","Argentera, l'","Argentona","Argen\xE7ola","Armentera, l'","Arnes","Arres","Ars\xE8guel","Artesa de Lleida","Artesa de Segre","Art\xE9s","Asc\xF3","Aspa","Avellanes i Santa Linya, les","Avinyonet de Puigvent\xF3s","Avinyonet del Pened\xE8s","Aviny\xF3","Avi\xE0","Badalona","Badia del Vall\xE8s","Bag\xE0","Baix Pallars","Balaguer","Baleny\xE0","Balsareny","Banyeres del Pened\xE8s","Banyoles","Barbens","Barber\xE0 de la Conca","Barber\xE0 del Vall\xE8s","Barcelona","Baronia de Rialb, la","Bassella","Batea","Bausen","Begues","Begur","Belianes","Bell-lloc d'Urgell","Bellaguarda","Bellcaire d'Empord\xE0","Bellcaire d'Urgell","Bellmunt d'Urgell","Bellmunt del Priorat","Bellprat","Bellpuig","Bellvei","Bellver de Cerdanya","Bellv\xEDs","Benavent de Segri\xE0","Benifallet","Benissanet","Berga","Besal\xFA","Bescan\xF3","Beuda","Bigues i Riells del Fai","Biosca","Bisbal d'Empord\xE0, la","Bisbal de Montsant, la","Bisbal del Pened\xE8s, la","Biure","Blancafort","Blanes","Boadella i les Escaules","Bolvir","Bonastre","Bordils","Borges Blanques, les","Borges del Camp, les","Borrass\xE0","Borred\xE0","Boss\xF2st","Bot","Botarell","Bovera","Breda","Bruc, el","Brull, el","Brunyola i Sant Mart\xED Sapresa","Br\xE0fim","B\xE0scara","B\xF2rdes, Es","Cabac\xE9s","Cabanabona","Cabanelles","Cabanes","Cabanyes, les","Cabra del Camp","Cabrera d'Anoia","Cabrera de Mar","Cabrils","Cab\xF3","Cadaqu\xE9s","Calaf","Calafell","Calders","Caldes d'Estrac","Caldes de Malavella","Caldes de Montbui","Calella","Calldetenes","Call\xFAs","Calonge de Segarra","Calonge i Sant Antoni","Camarasa","Camarles","Cambrils","Campdev\xE0nol","Campelles","Campins","Campllong","Camprodon","Cam\xF3s","Canejan","Canet d'Adri","Canet de Mar","Canonja, la","Canovelles","Cantallops","Canyelles","Capafonts","Capellades","Capmany","Capolat","Cap\xE7anes","Cardedeu","Cardona","Carme","Caseres","Casserres","Cass\xE0 de la Selva","Castell d'Aro, Platja d'Aro i s'Agar\xF3","Castell de Mur","Castell de l'Areny","Castellar de la Ribera","Castellar de n'Hug","Castellar del Riu","Castellar del Vall\xE8s","Castellbell i el Vilar","Castellbisbal","Castellcir","Castelldans","Castelldefels","Castellet i la Gornal","Castellfollit de Riubreg\xF3s","Castellfollit de la Roca","Castellfollit del Boix","Castellgal\xED","Castellnou de Bages","Castellnou de Seana","Castellol\xED","Castellser\xE0","Castellter\xE7ol","Castellvell del Camp","Castellv\xED de Rosanes","Castellv\xED de la Marca","Castell\xF3 d'Emp\xFAries","Castell\xF3 de Farfanya","Catllar, el","Cava","Cellera de Ter, la","Celr\xE0","Centelles","Cercs","Cerdanyola del Vall\xE8s","Cervell\xF3","Cervera","Cervi\xE0 de Ter","Cervi\xE0 de les Garrigues","Cistella","Ciutadilla","Clariana de Cardener","Cogul, el","Colera","Coll de Narg\xF3","Collbat\xF3","Colldejou","Collsuspina","Colomers","Coma i la Pedra, la","Conca de Dalt","Conesa","Constant\xED","Copons","Corbera d'Ebre","Corbera de Llobregat","Corbins","Cornell\xE0 de Llobregat","Cornell\xE0 del Terri","Cornudella de Montsant","Cor\xE7\xE0","Creixell","Crespi\xE0","Cru\xEFlles, Monells i Sant Sadurn\xED de l'Heura","Cubelles","Cubells","Cunit","C\xE0noves i Samal\xFAs","Darnius","Das","Deltebre","Dosrius","Duesaig\xFCes","Escala, l'","Esparreguera","Espinelves","Espluga Calba, l'","Espluga de Francol\xED, l'","Esplugues de Llobregat","Espolla","Esponell\xE0","Espot","Espunyola, l'","Esquirol, l'","Estamariu","Estany, l'","Estar\xE0s","Esterri d'\xC0neu","Esterri de Card\xF3s","Falset","Far d'Empord\xE0, el","Farrera","Fatarella, la","Febr\xF3, la","Figar\xF3-Montmany","Figuera, la","Figueres","Figuerola del Camp","Fla\xE7\xE0","Flix","Floresta, la","Fogars de Montcl\xFAs","Fogars de la Selva","Foix\xE0","Folgueroles","Fondarella","Fonollosa","Font-rub\xED","Fontanals de Cerdanya","Fontanilles","Fontcoberta","Foradada","Forallac","Fornells de la Selva","Forti\xE0","For\xE8s","Franqueses del Vall\xE8s, les","Freginals","Fuliola, la","Fulleda","F\xEDgols","F\xEDgols i Aliny\xE0","Gai\xE0","Galera, la","Gallifa","Gandesa","Garcia","Garidells, els","Garriga, la","Garrigoles","Garriguella","Garrig\xE0s","Gavet de la Conca","Gav\xE0","Gelida","Ger","Gimenells i el Pla de la Font","Ginestar","Girona","Gironella","Gisclareny","Godall","Golm\xE9s","Gombr\xE8n","Granada, la","Granadella, la","Granera","Granja d'Escarp, la","Granollers","Granyanella","Granyena de Segarra","Granyena de les Garrigues","Gratallops","Gualba","Gualta","Guardiola de Bergued\xE0","Guiamets, els","Guils de Cerdanya","Guimer\xE0","Guingueta d'\xC0neu, la","Guissona","Guixers","Gurb","G\xF3sol","Horta de Sant Joan","Hospitalet de Llobregat, l'","Hostalets de Pierola, els","Hostalric","Igualada","Isona i Conca Dell\xE0","Is\xF2vol","Ivars d'Urgell","Ivars de Noguera","Ivorra","Jafre","Jonquera, la","Jorba","Josa i Tuix\xE9n","Jui\xE0","Juncosa","Juneda","Les","Linyola","Llacuna, la","Lladorre","Lladurs","Llad\xF3","Llagosta, la","Llagostera","Llambilles","Llanars","Llan\xE7\xE0","Llardecans","Llavors\xED","Lleida","Llers","Lles de Cerdanya","Llimiana","Llinars del Vall\xE8s","Lli\xE7\xE0 d'Amunt","Lli\xE7\xE0 de Vall","Lloar, el","Llobera","Llorac","Lloren\xE7 del Pened\xE8s","Lloret de Mar","Llosses, les","Llu\xE7\xE0","Ll\xEDvia","Madremanya","Maials","Mai\xE0 de Montcal","Mald\xE0","Malgrat de Mar","Malla","Manlleu","Manresa","Margalef","Marganell","Martorell","Martorelles","Mar\xE7\xE0","Mas de Barberans","Masarac i Vilarnadal","Masdenverge","Masies de Roda, les","Masies de Voltreg\xE0, les","Maslloren\xE7","Masnou, el","Maspujols","Masquefa","Masroig, el","Massalcoreig","Massanes","Massoteres","Mas\xF3, la","Matadepera","Matar\xF3","Ma\xE7anet de Cabrenys","Ma\xE7anet de la Selva","Mediona","Men\xE0rguens","Meranges","Mieres","Mil\xE0, el","Miralcamp","Miravet","Moi\xE0","Molar, el","Molins de Rei","Mollerussa","Mollet de Peralada","Mollet del Vall\xE8s","Moll\xF3","Molsosa, la","Monistrol de Calders","Monistrol de Montserrat","Mont-ral","Mont-ras","Mont-roig del Camp","Montagut i Oix","Montblanc","Montbri\xF3 del Camp","Montcada i Reixac","Montclar","Montell\xE0 i Martinet","Montesquiu","Montferrer i Castellb\xF2","Montferri","Montgai","Montgat","Montmajor","Montmaneu","Montmell, el","Montmel\xF3","Montoliu de Lleida","Montoliu de Segarra","Montorn\xE8s de Segarra","Montorn\xE8s del Vall\xE8s","Montseny","Morell, el","Morera de Montsant, la","Muntanyola","Mura","M\xF3ra d'Ebre","M\xF3ra la Nova","Nalec","Naut Aran","Navarcles","Navata","Nav\xE0s","Nav\xE8s","No consta","Nou de Bergued\xE0, la","Nou de Gai\xE0, la","Nulles","Od\xE8n","Ogassa","Olesa de Bonesvalls","Olesa de Montserrat","Oliana","Oliola","Olius","Olivella","Olost","Olot","Oluges, les","Olvan","Ol\xE8rdola","Omellons, els","Omells de na Gaia, els","Ordis","Organy\xE0","Orist\xE0","Orp\xED","Or\xEDs","Os de Balaguer","Osor","Oss\xF3 de Si\xF3","Pacs del Pened\xE8s","Palafolls","Palafrugell","Palam\xF3s","Palau d'Anglesola, el","Palau de Santa Eul\xE0lia","Palau-sator","Palau-saverdera","Palau-solit\xE0 i Plegamans","Pallaresos, els","Pallej\xE0","Palma d'Ebre, la","Palma de Cervell\xF3, la","Palol de Revardit","Pals","Papiol, el","Pardines","Parets del Vall\xE8s","Parlav\xE0","Passanant i Belltall","Pau","Pa\xFCls","Pedret i Marz\xE0","Penelles","Pera, la","Perafita","Perafort","Peralada","Peramola","Perell\xF3, el","Piera","Piles, les","Pineda de Mar","Pinell de Brai, el","Pinell de Solson\xE8s","Pin\xF3s","Pira","Pla de Santa Maria, el","Pla del Pened\xE8s, el","Planes d'Hostoles, les","Planoles","Plans de Si\xF3, els","Poal, el","Pobla de Claramunt, la","Pobla de C\xE9rvoles, la","Pobla de Lillet, la","Pobla de Mafumet, la","Pobla de Massaluca, la","Pobla de Montorn\xE8s, la","Pobla de Segur, la","Poboleda","Poliny\xE0","Pont d'Armentera, el","Pont de Bar, el","Pont de Molins","Pont de Suert, el","Pont de Vilomara i Rocafort, el","Pontils","Pontons","Ponts","Pont\xF3s","Porqueres","Porrera","Port de la Selva, el","Portbou","Portella, la","Pradell de la Teixeta","Prades","Prat de Comte","Prat de Llobregat, el","Pratdip","Prats de Llu\xE7an\xE8s","Prats de Rei, els","Prats i Sansor","Preixana","Preixens","Premi\xE0 de Dalt","Premi\xE0 de Mar","Preses, les","Prullans","Puig-reig","Puigcerd\xE0","Puigd\xE0lber","Puiggr\xF2s","Puigpelat","Puigverd d'Agramunt","Puigverd de Lleida","Pujalt","Quar, la","Quart","Queralbs","Querol","Rab\xF3s","Rajadell","Rasquera","Regenc\xF3s","Rellinars","Renau","Reus","Rialp","Riba, la","Riba-roja d'Ebre","Ribera d'Ondara","Ribera d'Urgellet","Ribes de Freser","Riells i Viabrea","Riera de Gai\xE0, la","Riner","Ripoll","Ripollet","Riu de Cerdanya","Riudarenes","Riudaura","Riudecanyes","Riudecols","Riudellots de la Selva","Riudoms","Riumors","Roca del Vall\xE8s, la","Rocafort de Queralt","Roda de Ber\xE0","Roda de Ter","Rodony\xE0","Roquetes","Roses","Rossell\xF3","Rourell, el","Rubi\xF3","Rub\xED","Rupit i Pruit","Rupi\xE0","R\xE0pita, la","Sabadell","Sag\xE0s","Saldes","Sales de Llierca","Sallent","Salom\xF3","Salou","Salt","Sal\xE0s de Pallars","Sana\xFCja","Sant Adri\xE0 de Bes\xF2s","Sant Agust\xED de Llu\xE7an\xE8s","Sant Andreu Salou","Sant Andreu de Llavaneres","Sant Andreu de la Barca","Sant Aniol de Finestres","Sant Antoni de Vilamajor","Sant Bartomeu del Grau","Sant Boi de Llobregat","Sant Boi de Llu\xE7an\xE8s","Sant Cebri\xE0 de Vallalta","Sant Celoni","Sant Climent Sescebes","Sant Climent de Llobregat","Sant Cugat Sesgarrigues","Sant Cugat del Vall\xE8s","Sant Esteve Sesrovires","Sant Esteve de Palautordera","Sant Esteve de la Sarga","Sant Feliu Sasserra","Sant Feliu de Buixalleu","Sant Feliu de Codines","Sant Feliu de Gu\xEDxols","Sant Feliu de Llobregat","Sant Feliu de Pallerols","Sant Ferriol","Sant Fost de Campsentelles","Sant Fruit\xF3s de Bages","Sant Gregori","Sant Guim de Freixenet","Sant Guim de la Plana","Sant Hilari Sacalm","Sant Hip\xF2lit de Voltreg\xE0","Sant Iscle de Vallalta","Sant J. d'Enveja","Sant J. de Frontany\xE0","Sant J. de Llierca","Sant J. dels Domenys","Sant Joan Desp\xED","Sant Joan de Mollet","Sant Joan de Vilatorrada","Sant Joan de les Abadesses","Sant Joan les Fonts","Sant Jordi Desvalls","Sant Juli\xE0 de Cerdanyola","Sant Juli\xE0 de Ramis","Sant Juli\xE0 de Vilatorta","Sant Juli\xE0 del Llor i Bonmat\xED","Sant Just Desvern","Sant Lloren\xE7 Savall","Sant Lloren\xE7 d'Hortons","Sant Lloren\xE7 de Morunys","Sant Lloren\xE7 de la Muga","Sant Mart\xED Sarroca","Sant Mart\xED Sesgueioles","Sant Mart\xED Vell","Sant Mart\xED d'Albars","Sant Mart\xED de Centelles","Sant Mart\xED de Ll\xE9mena","Sant Mart\xED de Riucorb","Sant Mart\xED de Tous","Sant Mateu de Bages","Sant Miquel de Campmajor","Sant Miquel de Fluvi\xE0","Sant Mori","Sant Pau de Seg\xFAries","Sant Pere Pescador","Sant Pere Sallavinera","Sant Pere de Ribes","Sant Pere de Riudebitlles","Sant Pere de Torell\xF3","Sant Pere de Vilamajor","Sant Pol de Mar","Sant Quint\xED de Mediona","Sant Quirze Safaja","Sant Quirze de Besora","Sant Quirze del Vall\xE8s","Sant Ramon","Sant Sadurn\xED d'Anoia","Sant Sadurn\xED d'Osormort","Sant Salvador de Guardiola","Sant Vicen\xE7 de Castellet","Sant Vicen\xE7 de Montalt","Sant Vicen\xE7 de Torell\xF3","Sant Vicen\xE7 dels Horts","Santa B\xE0rbara","Santa Cec\xEDlia de Voltreg\xE0","Santa Coloma de Cervell\xF3","Santa Coloma de Farners","Santa Coloma de Gramenet","Santa Coloma de Queralt","Santa Cristina d'Aro","Santa Eug\xE8nia de Berga","Santa Eul\xE0lia de Riuprimer","Santa Eul\xE0lia de Ron\xE7ana","Santa Fe del Pened\xE8s","Santa Llogaia d'\xC0lguema","Santa Margarida de Montbui","Santa Margarida i els Monjos","Santa Maria d'Ol\xF3","Santa Maria de Besora","Santa Maria de Martorelles","Santa Maria de Merl\xE8s","Santa Maria de Miralles","Santa Maria de Palautordera","Santa Oliva","Santa Pau","Santa Perp\xE8tua de Mogoda","Santa Susanna","Santpedor","Sarral","Sarri\xE0 de Ter","Sarroca de Bellera","Sarroca de Lleida","Saus, Camallera i Llampaies","Savall\xE0 del Comtat","Secuita, la","Selva de Mar, la","Selva del Camp, la","Senan","Senterada","Sentiu de Si\xF3, la","Sentmenat","Seriny\xE0","Serra de Dar\xF3","Ser\xF2s","Setcases","Seu d'Urgell, la","Seva","Sidamon","Sils","Sitges","Siurana","Sobremunt","Soler\xE0s, el","Solivella","Solsona","Sora","Soriguera","Sort","Soses","Subirats","Sudanell","Sunyer","Susqueda","S\xE9nia, la","S\xFAria","Tagamanent","Talamanca","Talarn","Talavera","Tallada d'Empord\xE0, la","Taradell","Tarragona","Tarroja de Segarra","Tarr\xE9s","Tavertet","Tav\xE8rnoles","Tei\xE0","Terrades","Terrassa","Tiana","Tiurana","Tivenys","Tivissa","Tona","Tordera","Torell\xF3","Torms, els","Tornabous","Torre de Cabdella, la","Torre de Claramunt, la","Torre de Fontaubella, la","Torre de l'Espanyol, la","Torre-serona","Torrebesses","Torredembarra","Torrefarrera","Torrefeta i Florejacs","Torregrossa","Torrelameu","Torrelavit","Torrelles de Foix","Torrelles de Llobregat","Torrent","Torres de Segre","Torroella de Fluvi\xE0","Torroella de Montgr\xED","Torroja del Priorat","Tortell\xE0","Tortosa","Tor\xE0","Toses","Tossa de Mar","Tremp","T\xE0rrega","T\xE9rmens","T\xEDrvia","Ullastrell","Ullastret","Ulldecona","Ulldemolins","Ull\xE0","Ultramort","Ur\xFAs","Vacarisses","Vajol, la","Vall d'en Bas, la","Vall de Bianya, la","Vall de Bo\xED, la","Vall de Card\xF3s","Vall-llobrega","Vallbona d'Anoia","Vallbona de les Monges","Vallcebre","Vallclara","Vallfogona de Balaguer","Vallfogona de Ripoll\xE8s","Vallfogona de Riucorb","Vallgorguina","Vallirana","Vallmoll","Vallromanes","Valls","Valls d'Aguilar, les","Valls de Valira, les","Vandell\xF2s i l'Hospitalet de l'Infant","Vansa i F\xF3rnols, la","Veciana","Vendrell, el","Ventall\xF3","Verd\xFA","Verges","Vespella de Gai\xE0","Vic","Vidreres","Vidr\xE0","Vielha e Mijaran","Vila-rodona","Vila-sacra","Vila-sana","Vila-seca","Vilabella","Vilabertran","Vilablareix","Vilada","Viladamat","Viladasens","Viladecans","Viladecavalls","Vilademuls","Viladrau","Vilafant","Vilafranca del Pened\xE8s","Vilagrassa","Vilaju\xEFga","Vilalba Sasserra","Vilalba dels Arcs","Vilaller","Vilallonga de Ter","Vilallonga del Camp","Vilamacolum","Vilamalla","Vilamaniscle","Vilam\xF2s","Vilanant","Vilanova d'Escornalbou","Vilanova de Bellpuig","Vilanova de Mei\xE0","Vilanova de Prades","Vilanova de Sau","Vilanova de Segri\xE0","Vilanova de l'Aguda","Vilanova de la Barca","Vilanova del Cam\xED","Vilanova del Vall\xE8s","Vilanova i la Geltr\xFA","Vilaplana","Vilassar de Dalt","Vilassar de Mar","Vilaverd","Vila\xFCr","Vilella Alta, la","Vilella Baixa, la","Vilob\xED d'Onyar","Vilob\xED del Pened\xE8s","Vilopriu","Vilosell, el","Vimbod\xED i Poblet","Vinaixa","Vinebre","Vinyols i els Arcs","Viver i Serrateix","Xerta","\xC0ger","\xD2dena","\xD2rrius"],cu=["CAP Les Corts","CAP La Sagrada Fam\xEDlia","CAP El Clot","CAP La Pau","CAP Sant Andreu","CAP Sant Mart\xED","CAP Horta-Guinard\xF3","CAP Nou Barris","CAP Sants-Montju\xEFc","CAP Gr\xE0cia","CAP Sarri\xE0-Sant Gervasi","CAP Badalona Centre","CAP Badalona Pomar","CAP Sta. Coloma Gramenet Nord","CAP Sta. Coloma Gramenet Sud","CAP Montcada i Reixac","CAP Ripollet","CAP Cerdanyola Vall\xE8s","CAP Barber\xE0 Vall\xE8s","CAP Sabadell Centre","CAP Sabadell Nord","CAP Sabadell Sud","CAP Terrassa Nord","CAP Terrassa Sud","CAP Rub\xED","CAP Castellbisbal","CAP Martorell","CAP Abrera","CAP Olesa Montserrat","CAP Esparreguera","CAP Pallej\xE0","CAP Corbera Llobregat","CAP Cervell\xF3","CAP Vallirana","CAP Sant Andreu Barca","CAP Sant Boi Llobregat","CAP Sant Climent Llobregat","CAP Sant Joan Desp\xED","CAP Sant Vicen\xE7 Horts","CAP Cornell\xE0 Llobregat","CAP L'Hospitalet Llobregat Nord","CAP L'Hospitalet Llobregat Sud","CAP Esplugues Llobregat","CAP Viladecans","CAP Gav\xE0","CAP Castelldefels","CAP El Prat Llobregat","CAP Begues","CAP Sitges","CAP Vilanova Geltr\xFA","CAP Cubelles","CAP Cunit","CAP Calafell","CAP El Vendrell","CAP Vilafranca Pened\xE8s","CAP Sant Sadurn\xED Anoia","CAP Igualada","CAP Piera","CAP Capellades","CAP Martorelles","CAP Lli\xE7\xE0 Vall","CAP Granollers Nord","CAP Granollers Sud","CAP Canovelles","CAP Les Franqueses Vall\xE8s","CAP La Garriga","CAP Cardedeu","CAP L'Ametlla Vall\xE8s","CAP Sant Antoni Vilamajor","CAP Sant Celoni","CAP Sant Esteve Palautordera","CAP Sant Pere Vilamajor","CAP Vilalba Sasserra","CAP Matar\xF3 Centre","CAP Matar\xF3 Nord","CAP Matar\xF3 Sud","CAP Argentona","CAP Cabrera Mar","CAP Dosrius","CAP Vilassar Mar","CAP Premi\xE0 Mar","CAP El Masnou","CAP Tei\xE0","CAP Alella","CAP Tiana","CAP Montgat","CAP Tordera","CAP Malgrat Mar","CAP Palafolls","CAP Blanes","CAP Lloret Mar","CAP Tossa Mar","CAP Calella","CAP Pineda Mar","CAP Sta. Susanna","CAP Arenys Mar","CAP Canet Adri","CAP Sant Feliu Llobregat","CAP Molins Rei","CAP Sant Joan Desp\xED","CAP Sant Vicen\xE7 Horts","CAP Cornell\xE0 Llobregat","CAP L'Hospitalet Llobregat","CAP Esplugues Llobregat","CAP Viladecans","CAP Gav\xE0","CAP Castelldefels","CAP El Prat Llobregat","CAP Manresa","CAP Sant Joan Vilatorrada","CAP Sant Fruit\xF3s Bages","CAP Sallent","CAP S\xFAria","CAP Cardona","CAP Solsona","CAP Berga","CAP Puigcerd\xE0","CAP La Seu Urgell","CAP Sort","CAP Vic","CAP Centelles","CAP Torell\xF3","CAP Taradell","CAP Sta. Eug\xE8nia Berga","CAP Moi\xE0","CAP Prats Llu\xE7an\xE8s","CAP Olost","CAP Sta. Maria Ol\xF3","CAP Llu\xE7\xE0","CAP Santpedor","CAP Sant Mateu Bages","CAP Art\xE9s","CAP Aviny\xF3","CAP Castellfollit Boix","CAP Jorba","CAP Sant Mart\xED Sesgueioles","CAP Copons","CAP Sant Sadurn\xED Osormort","CAP Masquefa","CAP Sant Lloren\xE7 Savall","CAP Gallifa","CAP Sant Feliu Sasserra","CAP Sant Quirze Besora","CAP Sant Vicen\xE7 Torell\xF3","CAP Les Masies Voltreg\xE0","CAP Or\xEDs","CAP Sant Boi Llu\xE7an\xE8s","CAP Prats Rei","CAP Girona Centre","CAP Girona Nord","CAP Girona Sud","CAP Salt","CAP Sarri\xE0 Ter","CAP Banyoles","CAP Porqueres","CAP Besal\xFA","CAP Olot","CAP Sta. Pau","CAP Camprodon","CAP Ripoll","CAP Sant Joan Abadesses","CAP Figueres","CAP Llan\xE7\xE0","CAP Castell\xF3 Emp\xFAries","CAP Roses","CAP Cadaqu\xE9s","CAP La Jonquera","CAP Agullana","CAP Ma\xE7anet Selva","CAP Sta. Coloma Farners","CAP Arb\xFAcies","CAP Breda","CAP Riudarenes","CAP Sils","CAP Angl\xE8s","CAP La Cellera Ter","CAP Amer","CAP Sant Hilari Sacalm","CAP Osor","CAP Vidreres","CAP Lloret Mar","CAP Blanes","CAP Tossa Mar","CAP Calonge","CAP Palam\xF3s","CAP Platja Aro","CAP Sta. Cristina Aro","CAP Lleida Centre","CAP Lleida Nord","CAP Lleida Sud","CAP Balaguer","CAP La Seu Urgell","CAP Vielha","CAP Tremp","CAP Sort","CAP Puigcerd\xE0","CAP T\xE0rrega","CAP Cervera","CAP Mollerussa","CAP Artesa Segre","CAP Ponts","CAP Almacelles","CAP Aitona","CAP Ser\xF2s","CAP Torres Segre","CAP Juneda","CAP Les Borges Blanques","CAP Miralcamp","CAP Preixens","CAP Oliana","CAP Organy\xE0","CAP Sant Lloren\xE7 Cardoner","CAP Sant Ramon","CAP Castellbell Vilar","CAP Sant Vicen\xE7 Castellet","CAP Monistrol Montserrat","CAP Marganell","CAP El Bruc","CAP Sant Salvador Guardiola","CAP Nav\xE0s","CAP S\xFAria","CAP Sallent","CAP Cardona","CAP Sant Joan Vilatorrada","CAP Manresa Nord","CAP Manresa Sud","CAP Tarragona Centre","CAP Tarragona Nord","CAP Tarragona Sud","CAP Reus","CAP Constant\xED","CAP Riudoms","CAP Cambrils","CAP Salou","CAP Vila-seca","CAP Torredembarra","CAP Altafulla","CAP Creixell","CAP Roda Ber\xE0","CAP Valls","CAP Nulles","CAP El Pla Pened\xE8s","CAP La Bisbal Pened\xE8s","CAP Sant Jaume Domenys","CAP El Vendrell","CAP Calafell","CAP Cunit","CAP Cubelles","CAP Vilanova Geltr\xFA","CAP Sitges","CAP Sant Pere Ribes","CAP Vilafranca Pened\xE8s","CAP Sant Sadurn\xED Anoia","CAP Subirats","CAP Sant Mart\xED Sarroca","CAP La Granada","CAP Montblanc","CAP La Riba","CAP Falset","CAP M\xF3ra Nova","CAP Gandesa","CAP Tortosa","CAP Amposta","CAP Sant Carles N\xE0utica","CAP Deltebre","CAP Roquetes","CAP Alcanar","CAP Vinar\xF2s","CAP Benicarl\xF3","CAP Pen\xEDscola","CUAP Matar\xF3","CUAP Granollers","CUAP Vic","CUAP Manresa","CUAP Igualada","CUAP Vilafranca Pened\xE8s","CUAP Vilanova Geltr\xFA","CUAP El Vendrell","CUAP Reus","CUAP Tarragona","CUAP Lleida","CUAP Girona","CUAP Figueres","CUAP Blanes","CUAP Olot","CUAP Berga","CUAP Solsona","CUAP Tremp","CUAP La Seu Urgell","CUAP Puigcerd\xE0","AECT H. Cerdanya","CAP Abrera","CAP Alcanar","CAP Amposta","CAP Badalona","CAP Banyoles","CAP Barber\xE0 Vall\xE8s","CAP Barcelona","CAP Bellvitge","CAP Berga","CAP Blanes","CAP Calella","CAP Cambrils","CAP Cerdanyola Vall\xE8s","CAP Cornell\xE0 Llobregat","CAP El Prat Llobregat","CAP El Vendrell","CAP Esplugues Llobregat","CAP Figueres","CAP Gav\xE0","CAP Girona","CAP Granollers","CAP Igualada","CAP L'Hospitalet Llobregat","CAP Lleida","CAP Manresa","CAP Martorell","CAP Matar\xF3","CAP Mollet Vall\xE8s","CAP Montcada i Reixac","CAP Olot","CAP Reus","CAP Ripollet","CAP Rub\xED","CAP Sabadell","CAP Salt","CAP St. Adri\xE0 Bes\xF2s","CAP St. Andreu Barca","CAP St. Boi Llobregat","CAP St. Celoni","CAP St. Cugat Vall\xE8s","CAP St. Feliu Llobregat","CAP St. J. Desp\xED","CAP St. Vicen\xE7 Horts","CAP Sta. Coloma Gramenet","CAP Tarragona","CAP Terrassa","CAP Tortosa","CAP Vic","CAP Viladecans","CAP Vilafranca Pened\xE8s","CAP Vilanova i Geltr\xFA","Espitau Val d'Aran","Fund. H. Esperit St.","Fund. Puigvert","H. Cl\xEDnic Barcelona","H. Com. M\xF3ra d'Ebre","H. Com. St. Antoni Abat","H. Com. St. Bernab\xE9","H. St. Jaume Calella","H. Com. Amposta","H. Comarcal Blanes","H. Com. Alt Pened\xE8s","H. Com. Pallars","H. Dos Maig","H. P. San. St. Joan D\xE9u","H. Gen. Granollers","H. Gen. Hospitalet","H. Munic. Badalona","H. Res. St. Camil","H. St. Joan D\xE9u Esplugues","H. St. J. D\xE9u Manresa","H. St. J. D\xE9u Martorell","H. St. P. i Sta. Tecla","H. Sta. Caterina","H. Arnau Vilanova","H. Bellvitge","H. Dr. Josep Trueta","H. Vall d'Hebron","H. Germans Trias i Pujol","H. J. 23 Tarragona","H. M\xFAtua Terrassa","H. Sta. Maria","H. Igualada","H. St. J. Reus","H. Tortosa Verge Cinta","H. Vic","H. Olot i Com. Garrotxa","H. Campdev\xE0nol","H. Figueres","H. Matar\xF3","H. Mollet","H. Palam\xF3s","H. Sabadell","H. St. Celoni","H. St. J. Desp\xED Broggi","H. Terrassa","H. Viladecans","H. Esperan\xE7a","H. Sta. Creu i St. Pau","H. Mar","H. Vendrell","ICO Badalona","ICO Girona","ICO L'Hospitalet","Inst. Guttmann","Pius H. Valls"],Rv=[...uu,...cu],Iv=new Intl.Collator("ca",{sensitivity:"base"}),CO=[...Rv].sort(Iv.compare),bO=[...Rv].sort(Iv.compare);var du=I.withScope("LocationSuggestions"),Yr={ORIGIN_SUGGESTIONS:"locationSuggestions.origin",DESTINATION_SUGGESTIONS:"locationSuggestions.destination"},Bv=10,wv=4,p_=6,xv=3,Hn=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),h_=["Barcelona","L'Hospitalet de Llobregat","Badalona","Terrassa","Sabadell","Lleida","Girona","Tarragona","Reus","Manresa","Matar\xF3","Santa Coloma de Gramenet","Cornell\xE0 de Llobregat","Sant Boi de Llobregat","Rub\xED","Vilanova i la Geltr\xFA","Viladecans","El Prat de Llobregat","Granollers","Cerdanyola del Vall\xE8s","Mollet del Vall\xE8s","Castelldefels","Gav\xE0","Martorell","Igualada","Vic","Figueres","Olot","Blanes","Lloret de Mar","Cambrils","Salou","Sitges","Roses","Palafrugell","Sant Cugat del Vall\xE8s","Esplugues de Llobregat","Sant Adri\xE0 de Bes\xF2s","Sant Feliu de Llobregat","Sant Joan Desp\xED","Sant Just Desvern","Parets del Vall\xE8s","Pineda de Mar","Calella","Castellar del Vall\xE8s","Molins de Rei","Ripollet","Berga","La Seu d'Urgell","Puigcerd\xE0","Amposta","Balaguer","Valls","La Bisbal d'Empord\xE0","Palam\xF3s","Platja d'Aro"],Uv=new Map(h_.map((e,t)=>[Hn(e),t])),S_=Uv.size+100,y_=e=>{let t=Hn(e);return t=t.replace(/hospital comarcal/g,"h. com.").replace(/hospital universitari/g,"h. u.").replace(/hospital general/g,"h. gen.").replace(/hospital/g,"h.").replace(/comarcal/g,"com.").replace(/universitari/g,"u.").replace(/general/g,"gen.").replace(/sant /g,"st. ").replace(/santa /g,"sta. "),[t]},Em=class{constructor(){this.originSuggestions=this.loadSuggestions(Yr.ORIGIN_SUGGESTIONS),this.destinationSuggestions=this.loadSuggestions(Yr.DESTINATION_SUGGESTIONS),this.destinationLookup=this.createDestinationLookup(),this.destinationSuggestions=this.destinationSuggestions.map(t=>this.destinationLookup.get(Hn(t))||null).filter(Boolean),this.saveSuggestions(Yr.DESTINATION_SUGGESTIONS,this.destinationSuggestions),this.currentDropdown=null,this.currentInput=null,this.selectedIndex=-1,this.inputDebounceTimer=null,this.scrollAnimationFrame=null,this.visibilityTimeout=null,this.handleWindowScroll=()=>{!this.currentDropdown||!this.currentInput||this.scheduleDropdownReposition()},this.handleWindowResize=()=>{!this.currentDropdown||!this.currentInput||(this.scheduleDropdownReposition(),this.scheduleDropdownVisibilityCheck())},this.handleViewportShift=()=>{!this.currentDropdown||!this.currentInput||(this.scheduleDropdownReposition(),this.scheduleDropdownVisibilityCheck())}}createDestinationLookup(){let t=new Map;return cu.forEach(a=>{t.set(Hn(a),a)}),t}loadSuggestions(t){try{let a=localStorage.getItem(t);return a?JSON.parse(a):[]}catch(a){return du.warn(`Error carregant suggeriments per ${t}:`,a),[]}}saveSuggestions(t,a){try{localStorage.setItem(t,JSON.stringify(a))}catch(n){du.warn(`Error guardant suggeriments per ${t}:`,n)}}addSuggestion(t,a){if(!a||a.trim().length<2)return;let n=a.trim(),l;if(t==="origin")l=this.originSuggestions;else if(t==="destination"){l=this.destinationSuggestions;let r=this.destinationLookup.get(Hn(n));if(!r){du.warn(`Dest\xED no reconegut. Nom\xE9s s'accepten centres sanitaris p\xFAblics. Valor rebut: "${n}"`);return}n=r}else return;let i=l.indexOf(n);i>-1&&l.splice(i,1),l.unshift(n),l.length>Bv&&(l=l.slice(0,Bv)),t==="origin"?(this.originSuggestions=l,this.saveSuggestions(Yr.ORIGIN_SUGGESTIONS,l)):(this.destinationSuggestions=l,this.saveSuggestions(Yr.DESTINATION_SUGGESTIONS,l)),this.updateDatalistForType(t)}getSuggestions(t){return t==="origin"?[...this.originSuggestions]:t==="destination"?[...this.destinationSuggestions]:[]}updateDatalists(){this.updateDatalistForType("origin"),this.updateDatalistForType("destination")}getBaseLocations(t){return t==="origin"?uu:cu}calculateMatchScore(t,a,n,l,i){let r=Uv.get(t)??S_,o=/,\s*(el|la|els|les|l')$/i.test(l)?1:0,s=l.includes("-")?1:0,u=a.length>1?0:1;if(!n.length)return{category:0,popularityRank:r,articlePenalty:o,hyphenPenalty:s,multiWordPenalty:u,prefixLengthPenalty:0};let f=c=>c?t.startsWith(c)?0:a.some(g=>g.startsWith(c))?1:2:3;return n.reduce((c,g)=>{let y=-1/0;g.forEach(p=>{y=Math.max(y,f(p))});let T=g[0]?.length??i.primaryLength??0,_=a[0]??"",m=T>0&&_.startsWith(g[0]??"")?Math.abs(_.length-T):_.length,d={category:Number.isFinite(y)?y:3,popularityRank:r,articlePenalty:o,hyphenPenalty:s,multiWordPenalty:u,prefixLengthPenalty:m};return c?this.compareScores(d,c)<0?d:c:d},null)||{category:3,popularityRank:r,articlePenalty:o,hyphenPenalty:s,multiWordPenalty:u,prefixLengthPenalty:a[0]?.length??99}}compareScores(t,a){return t.category!==a.category?t.category-a.category:t.popularityRank!==a.popularityRank?t.popularityRank-a.popularityRank:t.articlePenalty!==a.articlePenalty?t.articlePenalty-a.articlePenalty:t.hyphenPenalty!==a.hyphenPenalty?t.hyphenPenalty-a.hyphenPenalty:t.multiWordPenalty!==a.multiWordPenalty?t.multiWordPenalty-a.multiWordPenalty:t.prefixLengthPenalty!==a.prefixLengthPenalty?t.prefixLengthPenalty-a.prefixLengthPenalty:0}getSuggestionsForInput(t,a="",n={}){if(!n.onlyRecent&&a.trim().length<xv)return[];let l=y_(a).map(c=>c.split(/\s+/).map(g=>g.trim()).filter(Boolean)).filter(c=>c.length>0),i=Hn(a.trim()),o={primaryLength:i.split(/\s+/).map(c=>c.trim()).filter(Boolean)[0]?.length??i.length??0},s=t==="origin"?uu:this.getBaseLocations(t),u=[],f=new Set,E=(c,g)=>{if(!c)return;let y=c.trim();if(!y)return;let T=Hn(y),_=T.split(/[\s,\/'.-]+/).map(p=>p.trim()).filter(Boolean);if(!(l.length===0||l.some(p=>p.every(h=>T.includes(h))))||f.has(T))return;f.add(T);let d=this.calculateMatchScore(T,_,l,y,o);u.push({value:y,score:d,index:g})};return s.forEach((c,g)=>E(c,g)),u.sort((c,g)=>{let y=this.compareScores(c.score,g.score);return y!==0?y:c.index-g.index}).slice(0,wv).map(c=>c.value)}getRecentSuggestions(t,a=p_){return(t==="origin"?this.originSuggestions:this.destinationSuggestions).slice(0,a)}updateDatalistForType(t,a="",n={}){let l=t==="origin"?"origin-datalist":"destination-datalist",i;n.onlyRecent?(i=this.getRecentSuggestions(t),i.length||(i=this.getBaseLocations(t).slice(0,wv))):i=this.getSuggestionsForInput(t,a),this.updateDatalist(l,i)}updateDatalist(t,a){let n=document.getElementById(t);n&&(n.innerHTML="",a.forEach(l=>{let i=document.createElement("option");i.value=l,n.appendChild(i)}))}calculateDropdownZIndex(){return 850}getFixedHeadersOffset(){let t=[".top-bar",".tabs-container"],a=0;return t.forEach(n=>{let l=document.querySelector(n);if(!l)return;let i=l.getBoundingClientRect();i.bottom>a&&(a=i.bottom)}),Math.max(a,0)}createCustomDropdown(t,a){if(!a||a.length===0){this.closeDropdown();return}if(this.currentDropdown&&this.currentInput===t){this.updateDropdownOptions(this.currentDropdown,a,t);return}this.closeDropdown();let n=document.createElement("div");n.className="custom-location-dropdown",n.id="custom-location-dropdown";let l=t.getBoundingClientRect();n.style.position="fixed",n.style.top=`${l.bottom}px`,n.style.left=`${l.left}px`,n.style.width=`${l.width}px`,n.style.zIndex=String(this.calculateDropdownZIndex()),t.classList.add("has-dropdown-open"),this.updateDropdownOptions(n,a,t),document.body.appendChild(n),this.currentDropdown=n,this.currentInput=t,this.selectedIndex=-1,this.ensureDropdownVisibility(n,t),this.scheduleDropdownVisibilityCheck(),setTimeout(()=>{document.addEventListener("click",this.handleOutsideClick.bind(this))},0)}updateDropdownOptions(t,a,n){t.innerHTML="",a.forEach((l,i)=>{let r=document.createElement("div");r.className="custom-dropdown-option",r.textContent=l,r.dataset.index=i,r.addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),n.value=l,n.dispatchEvent(new Event("change",{bubbles:!0})),this.closeDropdown()}),r.addEventListener("mouseenter",()=>{this.selectedIndex=i,this.updateSelectedOption(t)}),t.appendChild(r)})}scheduleDropdownReposition(){this.scrollAnimationFrame||(this.scrollAnimationFrame=window.requestAnimationFrame(()=>{if(this.scrollAnimationFrame=null,!(!this.currentDropdown||!this.currentInput)){if(!document.body.contains(this.currentInput)){this.closeDropdown();return}this.repositionDropdown()}}))}scheduleDropdownVisibilityCheck(){this.visibilityTimeout&&clearTimeout(this.visibilityTimeout),this.visibilityTimeout=setTimeout(()=>{this.visibilityTimeout=null,!(!this.currentDropdown||!this.currentInput)&&this.ensureDropdownVisibility(this.currentDropdown,this.currentInput)},160)}repositionDropdown(){if(!this.currentDropdown||!this.currentInput)return;let t=this.currentInput.getBoundingClientRect();this.currentDropdown.style.top=`${t.bottom}px`,this.currentDropdown.style.left=`${t.left}px`,this.currentDropdown.style.width=`${t.width}px`}ensureDropdownVisibility(t,a){let n=window.visualViewport,l=n?.height??window.innerHeight,i=n?.offsetTop??0,r=this.getFixedHeadersOffset(),o=t.getBoundingClientRect(),s=o.top+i,u=s+o.height,f=12,E=16,c=document.scrollingElement||document.documentElement||document.body,g=window.scrollY,y=Math.max((c?.scrollHeight??document.body.scrollHeight)-l,0),T=r+f-s;if(T>0){let A=Math.max(g-T,0);A!==g&&window.scrollTo({top:A,behavior:"smooth"});return}let _=i+l,m=u-(_-E);if(m>0){let A=Math.min(g+m,y);A!==g&&window.scrollTo({top:A,behavior:"smooth"});return}let p=a.getBoundingClientRect().top+i,h=r+f;if(p<h){let A=h-p,R=Math.max(g-A,0);R!==g&&window.scrollTo({top:R,behavior:"smooth"})}}updateSelectedOption(t){if(!t)return;t.querySelectorAll(".custom-dropdown-option").forEach((n,l)=>{l===this.selectedIndex?n.classList.add("selected"):n.classList.remove("selected")})}closeDropdown(){this.currentDropdown&&(this.currentDropdown.remove(),this.currentDropdown=null,this.scrollAnimationFrame&&(cancelAnimationFrame(this.scrollAnimationFrame),this.scrollAnimationFrame=null),this.visibilityTimeout&&(clearTimeout(this.visibilityTimeout),this.visibilityTimeout=null),this.currentInput&&this.currentInput.classList.remove("has-dropdown-open"),this.currentInput=null,this.selectedIndex=-1,document.removeEventListener("click",this.handleOutsideClick.bind(this)))}handleOutsideClick(t){this.currentDropdown&&!this.currentDropdown.contains(t.target)&&t.target!==this.currentInput&&this.closeDropdown()}handleKeyboardNavigation(t,a){if(!a)return;let n=a.querySelectorAll(".custom-dropdown-option");switch(t.key){case"ArrowDown":t.preventDefault(),this.selectedIndex=Math.min(this.selectedIndex+1,n.length-1),this.updateSelectedOption(a),n[this.selectedIndex]?.scrollIntoView({block:"nearest"});break;case"ArrowUp":t.preventDefault(),this.selectedIndex=Math.max(this.selectedIndex-1,-1),this.updateSelectedOption(a),this.selectedIndex>=0&&n[this.selectedIndex]?.scrollIntoView({block:"nearest"});break;case"Enter":if(t.preventDefault(),this.selectedIndex>=0&&n[this.selectedIndex]){let l=n[this.selectedIndex].textContent;this.currentInput.value=l,this.currentInput.dispatchEvent(new Event("change",{bubbles:!0})),this.closeDropdown()}break;case"Escape":t.preventDefault(),this.closeDropdown();break}}init(){du.info("Inicialitzant servei de suggeriments de localitzacions"),this.createDatalists(),this.updateDatalists(),this.addInputListeners()}createDatalists(){let t=document.querySelectorAll(".origin"),a=document.querySelectorAll(".destination");t.forEach(n=>{n.setAttribute("autocomplete","off"),n.removeAttribute("list")}),a.forEach(n=>{n.setAttribute("autocomplete","off"),n.removeAttribute("list")})}addInputListeners(){document.addEventListener("focus",t=>{let a=t.target;a instanceof HTMLInputElement&&(a.classList.contains("origin")||a.classList.contains("destination"))&&this.closeDropdown()},!0),document.addEventListener("input",t=>{let a=t.target;if(!(a instanceof HTMLInputElement))return;let n=null;if(a.classList.contains("origin")?n="origin":a.classList.contains("destination")&&(n="destination"),n){let l=a.value.trim();this.inputDebounceTimer&&clearTimeout(this.inputDebounceTimer),l.length>=xv?this.inputDebounceTimer=setTimeout(()=>{let i=this.getSuggestionsForInput(n,l);this.createCustomDropdown(a,i)},300):this.closeDropdown()}}),document.addEventListener("keydown",t=>{let a=t.target;a instanceof HTMLInputElement&&(a.classList.contains("origin")||a.classList.contains("destination"))&&this.currentDropdown&&this.handleKeyboardNavigation(t,this.currentDropdown)}),window.addEventListener("scroll",this.handleWindowScroll,!0),window.addEventListener("resize",this.handleWindowResize),window.visualViewport&&(window.visualViewport.addEventListener("resize",this.handleViewportShift),window.visualViewport.addEventListener("scroll",this.handleViewportShift))}},v_=new Em,zv=()=>v_.init();var pa=I.withScope("BackupService"),T_="diet-backups",A_=1,C_=5;async function b_(){return new Promise((e,t)=>{let a=indexedDB.open(T_,A_);a.onerror=()=>{pa.error("Error obrint base de dades de backups"),t(a.error)},a.onsuccess=()=>{e(a.result)},a.onupgradeneeded=n=>{let l=n.target.result;if(!l.objectStoreNames.contains("backups")){let i=l.createObjectStore("backups",{keyPath:"id",autoIncrement:!0});i.createIndex("timestamp","timestamp",{unique:!1}),i.createIndex("type","type",{unique:!1}),pa.debug("Object store de backups creat")}}})}async function __(e){try{let a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){return pa.error("Error calculant checksum:",t),""}}async function D_(e=null,t="manual"){try{pa.debug(`Creant backup tipus "${t}"...`),e||(e=await va());let a=JSON.stringify(e),n=await __(a),l={version:"2.0.1",type:t,timestamp:Date.now(),date:new Date().toISOString(),totalDiets:e.length,data:e,checksum:n,metadata:{userAgent:navigator.userAgent,platform:navigator.platform}};return await O_(l),pa.debug(`\u2705 Backup creat: ${e.length} dietes, ${(a.length/1024).toFixed(2)} KB`),l}catch(a){throw pa.error("Error creant backup:",a),a}}async function O_(e){let t=await b_();return new Promise((a,n)=>{let i=t.transaction(["backups"],"readwrite").objectStore("backups"),r=i.add(e);r.onsuccess=async()=>{await N_(i),a()},r.onerror=()=>n(r.error)})}async function N_(e){return new Promise(t=>{let n=e.index("timestamp").openCursor(null,"prev"),l=0,i=[];n.onsuccess=r=>{let o=r.target.result;o?(l++,l>C_&&i.push(o.primaryKey),o.continue()):(i.forEach(s=>e.delete(s)),i.length>0&&pa.debug(`Netejats ${i.length} backups antics`),t())}})}async function Pv(e){pa.debug("\u{1F4BE} Creant backup de seguretat abans de migraci\xF3...");let t=await D_(e,"pre-migration");return pa.debug("\u2705 Backup de seguretat creat"),t}var Le=I.withScope("DataMigration"),M_="migration-v2.0.1-encryption",L_="migration-progress",pm=class{constructor(){this.migrationKey=M_,this.migrationStatus=null,this.isRunning=!1}async runIfNeeded(){if(this.isRunning)return Le.debug("Migraci\xF3 ja en curs, saltant..."),{alreadyRunning:!0};if(await this.isAlreadyMigrated())return Le.debug("\u2705 Migraci\xF3 ja completada anteriorment"),{alreadyMigrated:!0};Le.debug("\u{1F50D} Comprovant si cal migrar dietes...");try{this.isRunning=!0,await sn()||(Le.debug("\u{1F510} Inicialitzant sistema de claus..."),await on());let t=await va(),a=t.filter(l=>!no(l));return a.length===0?(Le.debug("\u2705 No hi ha dietes per migrar"),await this.markAsMigrated(),{migrated:0,total:t.length,errors:0}):(Le.debug(`\u{1F4CA} Trobades ${a.length} dietes per migrar (de ${t.length} totals)`),await this.migrate(a))}catch(t){throw Le.error("\u274C Error en runIfNeeded:",t),t}finally{this.isRunning=!1}}async migrate(t){let a=t.length,n=0,l=0,i=[];try{Le.debug("\u{1F4BE} Creant backup de seguretat..."),await Pv(t),Le.debug("\u2705 Backup de seguretat creat"),this.showMigrationStartNotification(a);let r=await jt();for(let o=0;o<t.length;o++){let s=t[o];try{await this.migrateSingleDiet(s,r),n++,(n%5===0||n===a)&&this.updateMigrationProgress(n,a)}catch(u){Le.error(`\u274C Error migrant dieta ${s.id}:`,u),l++,i.push({dietId:s.id,error:u.message})}}return await this.markAsMigrated(),this.showMigrationResult(n,l,a),Le.debug(`\u2705 Migraci\xF3 completada: ${n}/${a} (${l} errors)`),{migrated:n,errors:l,total:a,errorDetails:i.length>0?i:void 0}}catch(r){throw Le.error("\u274C Error durant la migraci\xF3:",r),this.showMigrationError(r),r}}async migrateSingleDiet(t,a){try{let n=await lo(t,a),l=await io(n,a),i=this.extractSensitiveData(t),r=this.extractSensitiveData(l),o=JSON.stringify(i),s=JSON.stringify(r);if(o!==s)throw new Error("Validation failed: data mismatch after decrypt");await ro(t.id,n),Le.debug(`\u2705 Dieta ${t.id} migrada i validada`)}catch(n){throw Le.error(`Error migrant dieta ${t.id}:`,n),n}}extractSensitiveData(t){return{person1:t.person1||"",person2:t.person2||"",vehicleNumber:t.vehicleNumber||"",signatureConductor:t.signatureConductor||"",signatureAjudant:t.signatureAjudant||"",services:(t.services||[]).map(a=>({serviceNumber:a.serviceNumber||"",origin:a.origin||"",destination:a.destination||"",notes:a.notes||""}))}}showMigrationStartNotification(t){b(`\u{1F512} Protegint ${t} dietes...`,{duration:2e3,type:"info"})}updateMigrationProgress(t,a){let n=Math.round(t/a*100);Le.debug(`\u{1F504} Migraci\xF3: ${t}/${a} (${n}%)`),b(`\u{1F512} Protegint dades... ${t}/${a}`,{duration:1e3,id:L_,type:"info"})}showMigrationResult(t,a,n){a===0?b(`\u2705 ${t} dietes ara estan protegides`,{duration:4e3,type:"success"}):t>0?b(`\u26A0\uFE0F ${t} dietes protegides, ${a} amb errors`,{duration:5e3,type:"warning"}):b("\u274C Error en la migraci\xF3 de dietes",{duration:5e3,type:"error"})}showMigrationError(t){b(`\u274C Error en la migraci\xF3: ${t.message}`,{duration:5e3,type:"error"})}async isAlreadyMigrated(){return localStorage.getItem(this.migrationKey)==="completed"}async markAsMigrated(){localStorage.setItem(this.migrationKey,"completed"),localStorage.setItem(`${this.migrationKey}-date`,new Date().toISOString()),Le.debug("\u2705 Migraci\xF3 marcada com a completada")}async resetMigrationStatus(){localStorage.removeItem(this.migrationKey),localStorage.removeItem(`${this.migrationKey}-date`),Le.warn("\u26A0\uFE0F Estat de migraci\xF3 resetejat")}getMigrationStatus(){let t=localStorage.getItem(this.migrationKey)==="completed",a=localStorage.getItem(`${this.migrationKey}-date`);return{completed:t,date:a?new Date(a):null,isRunning:this.isRunning}}},Vv=new pm;var it=I.withScope("Init");function R_(){let e=document.getElementById(j.DONATION_LINK_ID);if(!e)return it.warn("No s'ha trobat l'enlla\xE7 de donaci\xF3.");let t=Cv();try{let a=new URL(e.href);a.searchParams.set("custom",t),e.href=a.toString(),it.info("Enlla\xE7 de donaci\xF3 actualitzat amb ID an\xF2nim.")}catch(a){it.error("Error modificant l'URL de donaci\xF3:",a)}}async function Hv(){try{it.info("initializeApp() iniciant...");try{it.debug("\u{1F510} Inicialitzant sistema de claus..."),await on(),it.debug("\u2705 Sistema de claus inicialitzat")}catch(t){it.warn("Error inicialitzant sistema de claus (continuant sense encriptaci\xF3):",t)}ng(),ig(),await Zm(),setTimeout(async()=>{try{it.debug("\u{1F504} Executant migraci\xF3 autom\xE0tica...");let t=await Vv.runIfNeeded();it.debug("\u{1F4CA} Resultat migraci\xF3:",t)}catch(t){it.error("Error en migraci\xF3 autom\xE0tica:",t)}},1e3),Im(),Jg(),await ol.init(),Tv(),zv(),aE(),Xg(),oE(),sE(),Dv(),jg(),uE(),cE(),EE(),rE(),R_(),fE(),Om(),$g(),Wg(),eE();let e=document.getElementById("service-type");if(e){let t=localStorage.getItem(Tm.USER_SELECTED_SERVICE_TYPE);(t==="TSU"||t==="TSNU")&&(e.value=t,it.debug(`[LocalStorage] Carregat tipus de servei: ${t}`)),Fn(e.value)}Jn(),rg(),Lv(),it.info("initializeApp() completada.")}catch(e){it.error("Error en la inicialitzaci\xF3 de l'app:",e)}}if(typeof console<"u"){let e=console.warn;console.warn=function(...t){let a=t[0];typeof a=="string"&&a.includes("Ignored attempt to cancel a touchmove event")||e.apply(console,t)}}window.getOCRFeedbackManager=Hr;window.createOCRFeedbackManager=am;window.destroyOCRFeedbackManager=sv;async function Gv(){try{document.body.classList.add("app-ready"),document.body.classList.remove("no-js"),await Hv(),fg()}catch{window.location.reload()}}function I_(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Gv,{once:!0}):Gv()}I_();})();
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
