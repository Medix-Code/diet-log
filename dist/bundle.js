(()=>{var lg=Object.create;var _c=Object.defineProperty;var sg=Object.getOwnPropertyDescriptor;var ag=Object.getOwnPropertyNames;var ug=Object.getPrototypeOf,cg=Object.prototype.hasOwnProperty;var fn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var dg=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ag(t))!cg.call(e,o)&&o!==n&&_c(e,o,{get:()=>t[o],enumerable:!(r=sg(t,o))||r.enumerable});return e};var Wr=(e,t,n)=>(n=e!=null?lg(ug(e)):{},dg(t||!e||!e.__esModule?_c(n,"default",{value:e,enumerable:!0}):n,e));var ff=fn(w=>{"use strict";var ao=Symbol.for("react.element"),yE=Symbol.for("react.portal"),SE=Symbol.for("react.fragment"),TE=Symbol.for("react.strict_mode"),_E=Symbol.for("react.profiler"),IE=Symbol.for("react.provider"),NE=Symbol.for("react.context"),CE=Symbol.for("react.forward_ref"),LE=Symbol.for("react.suspense"),DE=Symbol.for("react.memo"),wE=Symbol.for("react.lazy"),ef=Symbol.iterator;function AE(e){return e===null||typeof e!="object"?null:(e=ef&&e[ef]||e["@@iterator"],typeof e=="function"?e:null)}var rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},of=Object.assign,lf={};function ir(e,t,n){this.props=e,this.context=t,this.refs=lf,this.updater=n||rf}ir.prototype.isReactComponent={};ir.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ir.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sf(){}sf.prototype=ir.prototype;function js(e,t,n){this.props=e,this.context=t,this.refs=lf,this.updater=n||rf}var $s=js.prototype=new sf;$s.constructor=js;of($s,ir.prototype);$s.isPureReactComponent=!0;var tf=Array.isArray,af=Object.prototype.hasOwnProperty,Ws={current:null},uf={key:!0,ref:!0,__self:!0,__source:!0};function cf(e,t,n){var r,o={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)af.call(t,r)&&!uf.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:ao,type:e,key:i,ref:l,props:o,_owner:Ws.current}}function OE(e,t){return{$$typeof:ao,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xs(e){return typeof e=="object"&&e!==null&&e.$$typeof===ao}function RE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var nf=/\/+/g;function Gs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RE(""+e.key):t.toString(36)}function Ai(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ao:case yE:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+Gs(l,0):r,tf(o)?(n="",e!=null&&(n=e.replace(nf,"$&/")+"/"),Ai(o,t,n,"",function(u){return u})):o!=null&&(Xs(o)&&(o=OE(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(nf,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",tf(e))for(var s=0;s<e.length;s++){i=e[s];var a=r+Gs(i,s);l+=Ai(i,t,n,a,o)}else if(a=AE(e),typeof a=="function")for(e=a.call(e),s=0;!(i=e.next()).done;)i=i.value,a=r+Gs(i,s++),l+=Ai(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function wi(e,t,n){if(e==null)return e;var r=[],o=0;return Ai(e,r,"","",function(i){return t.call(n,i,o++)}),r}function PE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ye={current:null},Oi={transition:null},xE={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:Oi,ReactCurrentOwner:Ws};function df(){throw Error("act(...) is not supported in production builds of React.")}w.Children={map:wi,forEach:function(e,t,n){wi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wi(e,function(){t++}),t},toArray:function(e){return wi(e,function(t){return t})||[]},only:function(e){if(!Xs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};w.Component=ir;w.Fragment=SE;w.Profiler=_E;w.PureComponent=js;w.StrictMode=TE;w.Suspense=LE;w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xE;w.act=df;w.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=of({},e.props),o=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Ws.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)af.call(t,a)&&!uf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:ao,type:e.type,key:o,ref:i,props:r,_owner:l}};w.createContext=function(e){return e={$$typeof:NE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:IE,_context:e},e.Consumer=e};w.createElement=cf;w.createFactory=function(e){var t=cf.bind(null,e);return t.type=e,t};w.createRef=function(){return{current:null}};w.forwardRef=function(e){return{$$typeof:CE,render:e}};w.isValidElement=Xs;w.lazy=function(e){return{$$typeof:wE,_payload:{_status:-1,_result:e},_init:PE}};w.memo=function(e,t){return{$$typeof:DE,type:e,compare:t===void 0?null:t}};w.startTransition=function(e){var t=Oi.transition;Oi.transition={};try{e()}finally{Oi.transition=t}};w.unstable_act=df;w.useCallback=function(e,t){return ye.current.useCallback(e,t)};w.useContext=function(e){return ye.current.useContext(e)};w.useDebugValue=function(){};w.useDeferredValue=function(e){return ye.current.useDeferredValue(e)};w.useEffect=function(e,t){return ye.current.useEffect(e,t)};w.useId=function(){return ye.current.useId()};w.useImperativeHandle=function(e,t,n){return ye.current.useImperativeHandle(e,t,n)};w.useInsertionEffect=function(e,t){return ye.current.useInsertionEffect(e,t)};w.useLayoutEffect=function(e,t){return ye.current.useLayoutEffect(e,t)};w.useMemo=function(e,t){return ye.current.useMemo(e,t)};w.useReducer=function(e,t,n){return ye.current.useReducer(e,t,n)};w.useRef=function(e){return ye.current.useRef(e)};w.useState=function(e){return ye.current.useState(e)};w.useSyncExternalStore=function(e,t,n){return ye.current.useSyncExternalStore(e,t,n)};w.useTransition=function(){return ye.current.useTransition()};w.version="18.3.1"});var uo=fn((K0,pf)=>{"use strict";pf.exports=ff()});var If=fn(M=>{"use strict";function qs(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(0<Ri(o,t))e[r]=t,e[n]=o,n=r;else break e}}function qe(e){return e.length===0?null:e[0]}function xi(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var l=2*(r+1)-1,s=e[l],a=l+1,u=e[a];if(0>Ri(s,n))a<o&&0>Ri(u,s)?(e[r]=u,e[a]=n,r=a):(e[r]=s,e[l]=n,r=l);else if(a<o&&0>Ri(u,n))e[r]=u,e[a]=n,r=a;else break e}}return t}function Ri(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(mf=performance,M.unstable_now=function(){return mf.now()}):(Ys=Date,hf=Ys.now(),M.unstable_now=function(){return Ys.now()-hf});var mf,Ys,hf,it=[],Gt=[],kE=1,He=null,de=3,ki=!1,_n=!1,fo=!1,vf=typeof setTimeout=="function"?setTimeout:null,yf=typeof clearTimeout=="function"?clearTimeout:null,gf=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function bs(e){for(var t=qe(Gt);t!==null;){if(t.callback===null)xi(Gt);else if(t.startTime<=e)xi(Gt),t.sortIndex=t.expirationTime,qs(it,t);else break;t=qe(Gt)}}function Zs(e){if(fo=!1,bs(e),!_n)if(qe(it)!==null)_n=!0,ea(Js);else{var t=qe(Gt);t!==null&&ta(Zs,t.startTime-e)}}function Js(e,t){_n=!1,fo&&(fo=!1,yf(po),po=-1),ki=!0;var n=de;try{for(bs(t),He=qe(it);He!==null&&(!(He.expirationTime>t)||e&&!_f());){var r=He.callback;if(typeof r=="function"){He.callback=null,de=He.priorityLevel;var o=r(He.expirationTime<=t);t=M.unstable_now(),typeof o=="function"?He.callback=o:He===qe(it)&&xi(it),bs(t)}else xi(it);He=qe(it)}if(He!==null)var i=!0;else{var l=qe(Gt);l!==null&&ta(Zs,l.startTime-t),i=!1}return i}finally{He=null,de=n,ki=!1}}var Mi=!1,Pi=null,po=-1,Sf=5,Tf=-1;function _f(){return!(M.unstable_now()-Tf<Sf)}function Ks(){if(Pi!==null){var e=M.unstable_now();Tf=e;var t=!0;try{t=Pi(!0,e)}finally{t?co():(Mi=!1,Pi=null)}}else Mi=!1}var co;typeof gf=="function"?co=function(){gf(Ks)}:typeof MessageChannel<"u"?(Qs=new MessageChannel,Ef=Qs.port2,Qs.port1.onmessage=Ks,co=function(){Ef.postMessage(null)}):co=function(){vf(Ks,0)};var Qs,Ef;function ea(e){Pi=e,Mi||(Mi=!0,co())}function ta(e,t){po=vf(function(){e(M.unstable_now())},t)}M.unstable_IdlePriority=5;M.unstable_ImmediatePriority=1;M.unstable_LowPriority=4;M.unstable_NormalPriority=3;M.unstable_Profiling=null;M.unstable_UserBlockingPriority=2;M.unstable_cancelCallback=function(e){e.callback=null};M.unstable_continueExecution=function(){_n||ki||(_n=!0,ea(Js))};M.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Sf=0<e?Math.floor(1e3/e):5};M.unstable_getCurrentPriorityLevel=function(){return de};M.unstable_getFirstCallbackNode=function(){return qe(it)};M.unstable_next=function(e){switch(de){case 1:case 2:case 3:var t=3;break;default:t=de}var n=de;de=t;try{return e()}finally{de=n}};M.unstable_pauseExecution=function(){};M.unstable_requestPaint=function(){};M.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=de;de=e;try{return t()}finally{de=n}};M.unstable_scheduleCallback=function(e,t,n){var r=M.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,e={id:kE++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},n>r?(e.sortIndex=n,qs(Gt,e),qe(it)===null&&e===qe(Gt)&&(fo?(yf(po),po=-1):fo=!0,ta(Zs,n-r))):(e.sortIndex=o,qs(it,e),_n||ki||(_n=!0,ea(Js))),e};M.unstable_shouldYield=_f;M.unstable_wrapCallback=function(e){var t=de;return function(){var n=de;de=t;try{return e.apply(this,arguments)}finally{de=n}}}});var Cf=fn((q0,Nf)=>{"use strict";Nf.exports=If()});var Ah=fn(Be=>{"use strict";var ME=uo(),ke=Cf();function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pp=new Set,Mo={};function Mn(e,t){Lr(e,t),Lr(e+"Capture",t)}function Lr(e,t){for(Mo[e]=t,e=0;e<t.length;e++)Pp.add(t[e])}var Dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Na=Object.prototype.hasOwnProperty,BE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lf={},Df={};function UE(e){return Na.call(Df,e)?!0:Na.call(Lf,e)?!1:BE.test(e)?Df[e]=!0:(Lf[e]=!0,!1)}function FE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zE(e,t,n,r){if(t===null||typeof t>"u"||FE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _e(e,t,n,r,o,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ae[e]=new _e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ae[t]=new _e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ae[e]=new _e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ae[e]=new _e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ae[e]=new _e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ae[e]=new _e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ae[e]=new _e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ae[e]=new _e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ae[e]=new _e(e,5,!1,e.toLowerCase(),null,!1,!1)});var gu=/[\-:]([a-z])/g;function Eu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gu,Eu);ae[t]=new _e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gu,Eu);ae[t]=new _e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gu,Eu);ae[t]=new _e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ae[e]=new _e(e,1,!1,e.toLowerCase(),null,!1,!1)});ae.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ae[e]=new _e(e,1,!1,e.toLowerCase(),null,!0,!0)});function vu(e,t,n,r){var o=ae.hasOwnProperty(t)?ae[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zE(t,n,o,r)&&(n=null),r||o===null?UE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rt=ME.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bi=Symbol.for("react.element"),ar=Symbol.for("react.portal"),ur=Symbol.for("react.fragment"),yu=Symbol.for("react.strict_mode"),Ca=Symbol.for("react.profiler"),xp=Symbol.for("react.provider"),kp=Symbol.for("react.context"),Su=Symbol.for("react.forward_ref"),La=Symbol.for("react.suspense"),Da=Symbol.for("react.suspense_list"),Tu=Symbol.for("react.memo"),$t=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var Mp=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var wf=Symbol.iterator;function mo(e){return e===null||typeof e!="object"?null:(e=wf&&e[wf]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,na;function _o(e){if(na===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);na=t&&t[1]||""}return`
`+na+e}var ra=!1;function oa(e,t){if(!e||ra)return"";ra=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),l=o.length-1,s=i.length-1;1<=l&&0<=s&&o[l]!==i[s];)s--;for(;1<=l&&0<=s;l--,s--)if(o[l]!==i[s]){if(l!==1||s!==1)do if(l--,s--,0>s||o[l]!==i[s]){var a=`
`+o[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=s);break}}}finally{ra=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_o(e):""}function VE(e){switch(e.tag){case 5:return _o(e.type);case 16:return _o("Lazy");case 13:return _o("Suspense");case 19:return _o("SuspenseList");case 0:case 2:case 15:return e=oa(e.type,!1),e;case 11:return e=oa(e.type.render,!1),e;case 1:return e=oa(e.type,!0),e;default:return""}}function wa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ur:return"Fragment";case ar:return"Portal";case Ca:return"Profiler";case yu:return"StrictMode";case La:return"Suspense";case Da:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kp:return(e.displayName||"Context")+".Consumer";case xp:return(e._context.displayName||"Context")+".Provider";case Su:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tu:return t=e.displayName||null,t!==null?t:wa(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return wa(e(t))}catch{}}return null}function HE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wa(t);case 8:return t===yu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function on(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GE(e){var t=Bp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ui(e){e._valueTracker||(e._valueTracker=GE(e))}function Up(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Bp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Aa(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Af(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=on(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fp(e,t){t=t.checked,t!=null&&vu(e,"checked",t,!1)}function Oa(e,t){Fp(e,t);var n=on(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ra(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ra(e,t.type,on(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Of(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ra(e,t,n){(t!=="number"||dl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Io=Array.isArray;function Sr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+on(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Pa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(g(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(g(92));if(Io(n)){if(1<n.length)throw Error(g(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:on(n)}}function zp(e,t){var n=on(t.value),r=on(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Pf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fi,Hp=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fi=Fi||document.createElement("div"),Fi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jE=["Webkit","ms","Moz","O"];Object.keys(Lo).forEach(function(e){jE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Lo[t]=Lo[e]})});function Gp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Lo.hasOwnProperty(e)&&Lo[e]?(""+t).trim():t+"px"}function jp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Gp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var $E=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(e,t){if(t){if($E[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(g(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(g(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(g(61))}if(t.style!=null&&typeof t.style!="object")throw Error(g(62))}}function Ma(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ba=null;function _u(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,Tr=null,_r=null;function xf(e){if(e=ei(e)){if(typeof Ua!="function")throw Error(g(280));var t=e.stateNode;t&&(t=zl(t),Ua(e.stateNode,e.type,t))}}function $p(e){Tr?_r?_r.push(e):_r=[e]:Tr=e}function Wp(){if(Tr){var e=Tr,t=_r;if(_r=Tr=null,xf(e),t)for(e=0;e<t.length;e++)xf(t[e])}}function Xp(e,t){return e(t)}function Yp(){}var ia=!1;function Kp(e,t,n){if(ia)return e(t,n);ia=!0;try{return Xp(e,t,n)}finally{ia=!1,(Tr!==null||_r!==null)&&(Yp(),Wp())}}function Uo(e,t){var n=e.stateNode;if(n===null)return null;var r=zl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(g(231,t,typeof n));return n}var Fa=!1;if(Dt)try{lr={},Object.defineProperty(lr,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{Fa=!1}var lr;function WE(e,t,n,r,o,i,l,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Do=!1,fl=null,pl=!1,za=null,XE={onError:function(e){Do=!0,fl=e}};function YE(e,t,n,r,o,i,l,s,a){Do=!1,fl=null,WE.apply(XE,arguments)}function KE(e,t,n,r,o,i,l,s,a){if(YE.apply(this,arguments),Do){if(Do){var u=fl;Do=!1,fl=null}else throw Error(g(198));pl||(pl=!0,za=u)}}function Bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kf(e){if(Bn(e)!==e)throw Error(g(188))}function QE(e){var t=e.alternate;if(!t){if(t=Bn(e),t===null)throw Error(g(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return kf(o),e;if(i===r)return kf(o),t;i=i.sibling}throw Error(g(188))}if(n.return!==r.return)n=o,r=i;else{for(var l=!1,s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l)throw Error(g(189))}}if(n.alternate!==r)throw Error(g(190))}if(n.tag!==3)throw Error(g(188));return n.stateNode.current===n?e:t}function qp(e){return e=QE(e),e!==null?bp(e):null}function bp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bp(e);if(t!==null)return t;e=e.sibling}return null}var Zp=ke.unstable_scheduleCallback,Mf=ke.unstable_cancelCallback,qE=ke.unstable_shouldYield,bE=ke.unstable_requestPaint,Q=ke.unstable_now,ZE=ke.unstable_getCurrentPriorityLevel,Iu=ke.unstable_ImmediatePriority,Jp=ke.unstable_UserBlockingPriority,ml=ke.unstable_NormalPriority,JE=ke.unstable_LowPriority,em=ke.unstable_IdlePriority,Ml=null,ut=null;function ev(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Ml,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:rv,tv=Math.log,nv=Math.LN2;function rv(e){return e>>>=0,e===0?32:31-(tv(e)/nv|0)|0}var zi=64,Vi=4194304;function No(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var s=l&~o;s!==0?r=No(s):(i&=l,i!==0&&(r=No(i)))}else l=n&~o,l!==0?r=No(l):i!==0&&(r=No(i));if(r===0)return 0;if(t!==0&&t!==r&&(t&o)===0&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tt(t),o=1<<n,r|=e[n],t&=~o;return r}function ov(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-tt(i),s=1<<l,a=o[l];a===-1?((s&n)===0||(s&r)!==0)&&(o[l]=ov(s,t)):a<=t&&(e.expiredLanes|=s),i&=~s}}function Va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tm(){var e=zi;return zi<<=1,(zi&4194240)===0&&(zi=64),e}function la(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=n}function lv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-tt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Nu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var x=0;function nm(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var rm,Cu,om,im,lm,Ha=!1,Hi=[],qt=null,bt=null,Zt=null,Fo=new Map,zo=new Map,Xt=[],sv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bf(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":Fo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(t.pointerId)}}function ho(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=ei(t),t!==null&&Cu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function av(e,t,n,r,o){switch(t){case"focusin":return qt=ho(qt,e,t,n,r,o),!0;case"dragenter":return bt=ho(bt,e,t,n,r,o),!0;case"mouseover":return Zt=ho(Zt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Fo.set(i,ho(Fo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,zo.set(i,ho(zo.get(i)||null,e,t,n,r,o)),!0}return!1}function sm(e){var t=Cn(e.target);if(t!==null){var n=Bn(t);if(n!==null){if(t=n.tag,t===13){if(t=Qp(n),t!==null){e.blockedOn=t,lm(e.priority,function(){om(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ga(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ba=r,n.target.dispatchEvent(r),Ba=null}else return t=ei(n),t!==null&&Cu(t),e.blockedOn=n,!1;t.shift()}return!0}function Uf(e,t,n){tl(e)&&n.delete(t)}function uv(){Ha=!1,qt!==null&&tl(qt)&&(qt=null),bt!==null&&tl(bt)&&(bt=null),Zt!==null&&tl(Zt)&&(Zt=null),Fo.forEach(Uf),zo.forEach(Uf)}function go(e,t){e.blockedOn===t&&(e.blockedOn=null,Ha||(Ha=!0,ke.unstable_scheduleCallback(ke.unstable_NormalPriority,uv)))}function Vo(e){function t(o){return go(o,e)}if(0<Hi.length){go(Hi[0],e);for(var n=1;n<Hi.length;n++){var r=Hi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(qt!==null&&go(qt,e),bt!==null&&go(bt,e),Zt!==null&&go(Zt,e),Fo.forEach(t),zo.forEach(t),n=0;n<Xt.length;n++)r=Xt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)sm(n),n.blockedOn===null&&Xt.shift()}var Ir=Rt.ReactCurrentBatchConfig,gl=!0;function cv(e,t,n,r){var o=x,i=Ir.transition;Ir.transition=null;try{x=1,Lu(e,t,n,r)}finally{x=o,Ir.transition=i}}function dv(e,t,n,r){var o=x,i=Ir.transition;Ir.transition=null;try{x=4,Lu(e,t,n,r)}finally{x=o,Ir.transition=i}}function Lu(e,t,n,r){if(gl){var o=Ga(e,t,n,r);if(o===null)pa(e,t,r,El,n),Bf(e,r);else if(av(o,e,t,n,r))r.stopPropagation();else if(Bf(e,r),t&4&&-1<sv.indexOf(e)){for(;o!==null;){var i=ei(o);if(i!==null&&rm(i),i=Ga(e,t,n,r),i===null&&pa(e,t,r,El,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else pa(e,t,r,null,n)}}var El=null;function Ga(e,t,n,r){if(El=null,e=_u(r),e=Cn(e),e!==null)if(t=Bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return El=e,null}function am(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZE()){case Iu:return 1;case Jp:return 4;case ml:case JE:return 16;case em:return 536870912;default:return 16}default:return 16}}var Kt=null,Du=null,nl=null;function um(){if(nl)return nl;var e,t=Du,n=t.length,r,o="value"in Kt?Kt.value:Kt.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[i-r];r++);return nl=o.slice(e,1<r?1-r:void 0)}function rl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function Ff(){return!1}function Me(e){function t(n,r,o,i,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gi:Ff,this.isPropagationStopped=Ff,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),t}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=Me(xr),Jo=$({},xr,{view:0,detail:0}),fv=Me(Jo),sa,aa,Eo,Bl=$({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Eo&&(Eo&&e.type==="mousemove"?(sa=e.screenX-Eo.screenX,aa=e.screenY-Eo.screenY):aa=sa=0,Eo=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),zf=Me(Bl),pv=$({},Bl,{dataTransfer:0}),mv=Me(pv),hv=$({},Jo,{relatedTarget:0}),ua=Me(hv),gv=$({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ev=Me(gv),vv=$({},xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yv=Me(vv),Sv=$({},xr,{data:0}),Vf=Me(Sv),Tv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_v={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Iv[e])?!!t[e]:!1}function Au(){return Nv}var Cv=$({},Jo,{key:function(e){if(e.key){var t=Tv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_v[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(e){return e.type==="keypress"?rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lv=Me(Cv),Dv=$({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hf=Me(Dv),wv=$({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),Av=Me(wv),Ov=$({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rv=Me(Ov),Pv=$({},Bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xv=Me(Pv),kv=[9,13,27,32],Ou=Dt&&"CompositionEvent"in window,wo=null;Dt&&"documentMode"in document&&(wo=document.documentMode);var Mv=Dt&&"TextEvent"in window&&!wo,cm=Dt&&(!Ou||wo&&8<wo&&11>=wo),Gf=" ",jf=!1;function dm(e,t){switch(e){case"keyup":return kv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cr=!1;function Bv(e,t){switch(e){case"compositionend":return fm(t);case"keypress":return t.which!==32?null:(jf=!0,Gf);case"textInput":return e=t.data,e===Gf&&jf?null:e;default:return null}}function Uv(e,t){if(cr)return e==="compositionend"||!Ou&&dm(e,t)?(e=um(),nl=Du=Kt=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cm&&t.locale!=="ko"?null:t.data;default:return null}}var Fv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $f(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fv[e.type]:t==="textarea"}function pm(e,t,n,r){$p(r),t=vl(t,"onChange"),0<t.length&&(n=new wu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ao=null,Ho=null;function zv(e){Nm(e,0)}function Ul(e){var t=pr(e);if(Up(t))return e}function Vv(e,t){if(e==="change")return t}var mm=!1;Dt&&(Dt?($i="oninput"in document,$i||(ca=document.createElement("div"),ca.setAttribute("oninput","return;"),$i=typeof ca.oninput=="function"),ji=$i):ji=!1,mm=ji&&(!document.documentMode||9<document.documentMode));var ji,$i,ca;function Wf(){Ao&&(Ao.detachEvent("onpropertychange",hm),Ho=Ao=null)}function hm(e){if(e.propertyName==="value"&&Ul(Ho)){var t=[];pm(t,Ho,e,_u(e)),Kp(zv,t)}}function Hv(e,t,n){e==="focusin"?(Wf(),Ao=t,Ho=n,Ao.attachEvent("onpropertychange",hm)):e==="focusout"&&Wf()}function Gv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ul(Ho)}function jv(e,t){if(e==="click")return Ul(t)}function $v(e,t){if(e==="input"||e==="change")return Ul(t)}function Wv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:Wv;function Go(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Na.call(t,o)||!rt(e[o],t[o]))return!1}return!0}function Xf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yf(e,t){var n=Xf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xf(n)}}function gm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Em(){for(var e=window,t=dl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dl(e.document)}return t}function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xv(e){var t=Em(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gm(n.ownerDocument.documentElement,n)){if(r!==null&&Ru(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Yf(n,i);var l=Yf(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yv=Dt&&"documentMode"in document&&11>=document.documentMode,dr=null,ja=null,Oo=null,$a=!1;function Kf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$a||dr==null||dr!==dl(r)||(r=dr,"selectionStart"in r&&Ru(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oo&&Go(Oo,r)||(Oo=r,r=vl(ja,"onSelect"),0<r.length&&(t=new wu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dr)))}function Wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionend:Wi("Transition","TransitionEnd")},da={},vm={};Dt&&(vm=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function Fl(e){if(da[e])return da[e];if(!fr[e])return e;var t=fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vm)return da[e]=t[n];return e}var ym=Fl("animationend"),Sm=Fl("animationiteration"),Tm=Fl("animationstart"),_m=Fl("transitionend"),Im=new Map,Qf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sn(e,t){Im.set(e,t),Mn(t,[e])}for(Xi=0;Xi<Qf.length;Xi++)Yi=Qf[Xi],qf=Yi.toLowerCase(),bf=Yi[0].toUpperCase()+Yi.slice(1),sn(qf,"on"+bf);var Yi,qf,bf,Xi;sn(ym,"onAnimationEnd");sn(Sm,"onAnimationIteration");sn(Tm,"onAnimationStart");sn("dblclick","onDoubleClick");sn("focusin","onFocus");sn("focusout","onBlur");sn(_m,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function Zf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,KE(r,t,void 0,e),e.currentTarget=null}function Nm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==i&&o.isPropagationStopped())break e;Zf(o,s,u),i=a}else for(l=0;l<r.length;l++){if(s=r[l],a=s.instance,u=s.currentTarget,s=s.listener,a!==i&&o.isPropagationStopped())break e;Zf(o,s,u),i=a}}}if(pl)throw e=za,pl=!1,za=null,e}function U(e,t){var n=t[Qa];n===void 0&&(n=t[Qa]=new Set);var r=e+"__bubble";n.has(r)||(Cm(t,e,2,!1),n.add(r))}function fa(e,t,n){var r=0;t&&(r|=4),Cm(n,e,r,t)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function jo(e){if(!e[Ki]){e[Ki]=!0,Pp.forEach(function(n){n!=="selectionchange"&&(Kv.has(n)||fa(n,!1,e),fa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ki]||(t[Ki]=!0,fa("selectionchange",!1,t))}}function Cm(e,t,n,r){switch(am(t)){case 1:var o=cv;break;case 4:o=dv;break;default:o=Lu}n=o.bind(null,t,n,e),o=void 0,!Fa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function pa(e,t,n,r,o){var i=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;l=l.return}for(;s!==null;){if(l=Cn(s),l===null)return;if(a=l.tag,a===5||a===6){r=i=l;continue e}s=s.parentNode}}r=r.return}Kp(function(){var u=i,d=_u(n),m=[];e:{var h=Im.get(e);if(h!==void 0){var v=wu,S=e;switch(e){case"keypress":if(rl(n)===0)break e;case"keydown":case"keyup":v=Lv;break;case"focusin":S="focus",v=ua;break;case"focusout":S="blur",v=ua;break;case"beforeblur":case"afterblur":v=ua;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=zf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Av;break;case ym:case Sm:case Tm:v=Ev;break;case _m:v=Rv;break;case"scroll":v=fv;break;case"wheel":v=xv;break;case"copy":case"cut":case"paste":v=yv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Hf}var T=(t&4)!==0,z=!T&&e==="scroll",f=T?h!==null?h+"Capture":null:h;T=[];for(var c=u,p;c!==null;){p=c;var E=p.stateNode;if(p.tag===5&&E!==null&&(p=E,f!==null&&(E=Uo(c,f),E!=null&&T.push($o(c,E,p)))),z)break;c=c.return}0<T.length&&(h=new v(h,S,null,n,d),m.push({event:h,listeners:T}))}}if((t&7)===0){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==Ba&&(S=n.relatedTarget||n.fromElement)&&(Cn(S)||S[wt]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(S=n.relatedTarget||n.toElement,v=u,S=S?Cn(S):null,S!==null&&(z=Bn(S),S!==z||S.tag!==5&&S.tag!==6)&&(S=null)):(v=null,S=u),v!==S)){if(T=zf,E="onMouseLeave",f="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(T=Hf,E="onPointerLeave",f="onPointerEnter",c="pointer"),z=v==null?h:pr(v),p=S==null?h:pr(S),h=new T(E,c+"leave",v,n,d),h.target=z,h.relatedTarget=p,E=null,Cn(d)===u&&(T=new T(f,c+"enter",S,n,d),T.target=p,T.relatedTarget=z,E=T),z=E,v&&S)t:{for(T=v,f=S,c=0,p=T;p;p=sr(p))c++;for(p=0,E=f;E;E=sr(E))p++;for(;0<c-p;)T=sr(T),c--;for(;0<p-c;)f=sr(f),p--;for(;c--;){if(T===f||f!==null&&T===f.alternate)break t;T=sr(T),f=sr(f)}T=null}else T=null;v!==null&&Jf(m,h,v,T,!1),S!==null&&z!==null&&Jf(m,z,S,T,!0)}}e:{if(h=u?pr(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var I=Vv;else if($f(h))if(mm)I=$v;else{I=Gv;var C=Hv}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=jv);if(I&&(I=I(e,u))){pm(m,I,n,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Ra(h,"number",h.value)}switch(C=u?pr(u):window,e){case"focusin":($f(C)||C.contentEditable==="true")&&(dr=C,ja=u,Oo=null);break;case"focusout":Oo=ja=dr=null;break;case"mousedown":$a=!0;break;case"contextmenu":case"mouseup":case"dragend":$a=!1,Kf(m,n,d);break;case"selectionchange":if(Yv)break;case"keydown":case"keyup":Kf(m,n,d)}var y;if(Ou)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else cr?dm(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(cm&&n.locale!=="ko"&&(cr||N!=="onCompositionStart"?N==="onCompositionEnd"&&cr&&(y=um()):(Kt=d,Du="value"in Kt?Kt.value:Kt.textContent,cr=!0)),C=vl(u,N),0<C.length&&(N=new Vf(N,e,null,n,d),m.push({event:N,listeners:C}),y?N.data=y:(y=fm(n),y!==null&&(N.data=y)))),(y=Mv?Bv(e,n):Uv(e,n))&&(u=vl(u,"onBeforeInput"),0<u.length&&(d=new Vf("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:u}),d.data=y))}Nm(m,t)})}function $o(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vl(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Uo(e,n),i!=null&&r.unshift($o(e,i,o)),i=Uo(e,t),i!=null&&r.push($o(e,i,o))),e=e.return}return r}function sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jf(e,t,n,r,o){for(var i=t._reactName,l=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,o?(a=Uo(n,i),a!=null&&l.unshift($o(n,a,s))):o||(a=Uo(n,i),a!=null&&l.push($o(n,a,s)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Qv=/\r\n?/g,qv=/\u0000|\uFFFD/g;function ep(e){return(typeof e=="string"?e:""+e).replace(Qv,`
`).replace(qv,"")}function Qi(e,t,n){if(t=ep(t),ep(e)!==t&&n)throw Error(g(425))}function yl(){}var Wa=null,Xa=null;function Ya(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ka=typeof setTimeout=="function"?setTimeout:void 0,bv=typeof clearTimeout=="function"?clearTimeout:void 0,tp=typeof Promise=="function"?Promise:void 0,Zv=typeof queueMicrotask=="function"?queueMicrotask:typeof tp<"u"?function(e){return tp.resolve(null).then(e).catch(Jv)}:Ka;function Jv(e){setTimeout(function(){throw e})}function ma(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Vo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Vo(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function np(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var kr=Math.random().toString(36).slice(2),at="__reactFiber$"+kr,Wo="__reactProps$"+kr,wt="__reactContainer$"+kr,Qa="__reactEvents$"+kr,ey="__reactListeners$"+kr,ty="__reactHandles$"+kr;function Cn(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wt]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=np(e);e!==null;){if(n=e[at])return n;e=np(e)}return t}e=n,n=e.parentNode}return null}function ei(e){return e=e[at]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(g(33))}function zl(e){return e[Wo]||null}var qa=[],mr=-1;function an(e){return{current:e}}function F(e){0>mr||(e.current=qa[mr],qa[mr]=null,mr--)}function B(e,t){mr++,qa[mr]=e.current,e.current=t}var ln={},he=an(ln),Le=an(!1),On=ln;function Dr(e,t){var n=e.type.contextTypes;if(!n)return ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function De(e){return e=e.childContextTypes,e!=null}function Sl(){F(Le),F(he)}function rp(e,t,n){if(he.current!==ln)throw Error(g(168));B(he,t),B(Le,n)}function Lm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(g(108,HE(e)||"Unknown",o));return $({},n,r)}function Tl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,On=he.current,B(he,e),B(Le,Le.current),!0}function op(e,t,n){var r=e.stateNode;if(!r)throw Error(g(169));n?(e=Lm(e,t,On),r.__reactInternalMemoizedMergedChildContext=e,F(Le),F(he),B(he,e)):F(Le),B(Le,n)}var It=null,Vl=!1,ha=!1;function Dm(e){It===null?It=[e]:It.push(e)}function ny(e){Vl=!0,Dm(e)}function un(){if(!ha&&It!==null){ha=!0;var e=0,t=x;try{var n=It;for(x=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}It=null,Vl=!1}catch(o){throw It!==null&&(It=It.slice(e+1)),Zp(Iu,un),o}finally{x=t,ha=!1}}return null}var hr=[],gr=0,_l=null,Il=0,Ge=[],je=0,Rn=null,Nt=1,Ct="";function In(e,t){hr[gr++]=Il,hr[gr++]=_l,_l=e,Il=t}function wm(e,t,n){Ge[je++]=Nt,Ge[je++]=Ct,Ge[je++]=Rn,Rn=e;var r=Nt;e=Ct;var o=32-tt(r)-1;r&=~(1<<o),n+=1;var i=32-tt(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,Nt=1<<32-tt(t)+o|n<<o|r,Ct=i+e}else Nt=1<<i|n<<o|r,Ct=e}function Pu(e){e.return!==null&&(In(e,1),wm(e,1,0))}function xu(e){for(;e===_l;)_l=hr[--gr],hr[gr]=null,Il=hr[--gr],hr[gr]=null;for(;e===Rn;)Rn=Ge[--je],Ge[je]=null,Ct=Ge[--je],Ge[je]=null,Nt=Ge[--je],Ge[je]=null}var xe=null,Pe=null,H=!1,et=null;function Am(e,t){var n=$e(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ip(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xe=e,Pe=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xe=e,Pe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rn!==null?{id:Nt,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$e(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xe=e,Pe=null,!0):!1;default:return!1}}function ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Za(e){if(H){var t=Pe;if(t){var n=t;if(!ip(e,t)){if(ba(e))throw Error(g(418));t=Jt(n.nextSibling);var r=xe;t&&ip(e,t)?Am(r,n):(e.flags=e.flags&-4097|2,H=!1,xe=e)}}else{if(ba(e))throw Error(g(418));e.flags=e.flags&-4097|2,H=!1,xe=e}}}function lp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xe=e}function qi(e){if(e!==xe)return!1;if(!H)return lp(e),H=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ya(e.type,e.memoizedProps)),t&&(t=Pe)){if(ba(e))throw Om(),Error(g(418));for(;t;)Am(e,t),t=Jt(t.nextSibling)}if(lp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(g(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pe=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pe=null}}else Pe=xe?Jt(e.stateNode.nextSibling):null;return!0}function Om(){for(var e=Pe;e;)e=Jt(e.nextSibling)}function wr(){Pe=xe=null,H=!1}function ku(e){et===null?et=[e]:et.push(e)}var ry=Rt.ReactCurrentBatchConfig;function vo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(g(309));var r=n.stateNode}if(!r)throw Error(g(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var s=o.refs;l===null?delete s[i]:s[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(g(284));if(!n._owner)throw Error(g(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(g(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sp(e){var t=e._init;return t(e._payload)}function Rm(e){function t(f,c){if(e){var p=f.deletions;p===null?(f.deletions=[c],f.flags|=16):p.push(c)}}function n(f,c){if(!e)return null;for(;c!==null;)t(f,c),c=c.sibling;return null}function r(f,c){for(f=new Map;c!==null;)c.key!==null?f.set(c.key,c):f.set(c.index,c),c=c.sibling;return f}function o(f,c){return f=rn(f,c),f.index=0,f.sibling=null,f}function i(f,c,p){return f.index=p,e?(p=f.alternate,p!==null?(p=p.index,p<c?(f.flags|=2,c):p):(f.flags|=2,c)):(f.flags|=1048576,c)}function l(f){return e&&f.alternate===null&&(f.flags|=2),f}function s(f,c,p,E){return c===null||c.tag!==6?(c=_a(p,f.mode,E),c.return=f,c):(c=o(c,p),c.return=f,c)}function a(f,c,p,E){var I=p.type;return I===ur?d(f,c,p.props.children,E,p.key):c!==null&&(c.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===$t&&sp(I)===c.type)?(E=o(c,p.props),E.ref=vo(f,c,p),E.return=f,E):(E=cl(p.type,p.key,p.props,null,f.mode,E),E.ref=vo(f,c,p),E.return=f,E)}function u(f,c,p,E){return c===null||c.tag!==4||c.stateNode.containerInfo!==p.containerInfo||c.stateNode.implementation!==p.implementation?(c=Ia(p,f.mode,E),c.return=f,c):(c=o(c,p.children||[]),c.return=f,c)}function d(f,c,p,E,I){return c===null||c.tag!==7?(c=An(p,f.mode,E,I),c.return=f,c):(c=o(c,p),c.return=f,c)}function m(f,c,p){if(typeof c=="string"&&c!==""||typeof c=="number")return c=_a(""+c,f.mode,p),c.return=f,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Bi:return p=cl(c.type,c.key,c.props,null,f.mode,p),p.ref=vo(f,null,c),p.return=f,p;case ar:return c=Ia(c,f.mode,p),c.return=f,c;case $t:var E=c._init;return m(f,E(c._payload),p)}if(Io(c)||mo(c))return c=An(c,f.mode,p,null),c.return=f,c;bi(f,c)}return null}function h(f,c,p,E){var I=c!==null?c.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return I!==null?null:s(f,c,""+p,E);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Bi:return p.key===I?a(f,c,p,E):null;case ar:return p.key===I?u(f,c,p,E):null;case $t:return I=p._init,h(f,c,I(p._payload),E)}if(Io(p)||mo(p))return I!==null?null:d(f,c,p,E,null);bi(f,p)}return null}function v(f,c,p,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return f=f.get(p)||null,s(c,f,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Bi:return f=f.get(E.key===null?p:E.key)||null,a(c,f,E,I);case ar:return f=f.get(E.key===null?p:E.key)||null,u(c,f,E,I);case $t:var C=E._init;return v(f,c,p,C(E._payload),I)}if(Io(E)||mo(E))return f=f.get(p)||null,d(c,f,E,I,null);bi(c,E)}return null}function S(f,c,p,E){for(var I=null,C=null,y=c,N=c=0,L=null;y!==null&&N<p.length;N++){y.index>N?(L=y,y=null):L=y.sibling;var D=h(f,y,p[N],E);if(D===null){y===null&&(y=L);break}e&&y&&D.alternate===null&&t(f,y),c=i(D,c,N),C===null?I=D:C.sibling=D,C=D,y=L}if(N===p.length)return n(f,y),H&&In(f,N),I;if(y===null){for(;N<p.length;N++)y=m(f,p[N],E),y!==null&&(c=i(y,c,N),C===null?I=y:C.sibling=y,C=y);return H&&In(f,N),I}for(y=r(f,y);N<p.length;N++)L=v(y,f,N,p[N],E),L!==null&&(e&&L.alternate!==null&&y.delete(L.key===null?N:L.key),c=i(L,c,N),C===null?I=L:C.sibling=L,C=L);return e&&y.forEach(function(ge){return t(f,ge)}),H&&In(f,N),I}function T(f,c,p,E){var I=mo(p);if(typeof I!="function")throw Error(g(150));if(p=I.call(p),p==null)throw Error(g(151));for(var C=I=null,y=c,N=c=0,L=null,D=p.next();y!==null&&!D.done;N++,D=p.next()){y.index>N?(L=y,y=null):L=y.sibling;var ge=h(f,y,D.value,E);if(ge===null){y===null&&(y=L);break}e&&y&&ge.alternate===null&&t(f,y),c=i(ge,c,N),C===null?I=ge:C.sibling=ge,C=ge,y=L}if(D.done)return n(f,y),H&&In(f,N),I;if(y===null){for(;!D.done;N++,D=p.next())D=m(f,D.value,E),D!==null&&(c=i(D,c,N),C===null?I=D:C.sibling=D,C=D);return H&&In(f,N),I}for(y=r(f,y);!D.done;N++,D=p.next())D=v(y,f,N,D.value,E),D!==null&&(e&&D.alternate!==null&&y.delete(D.key===null?N:D.key),c=i(D,c,N),C===null?I=D:C.sibling=D,C=D);return e&&y.forEach(function(Jl){return t(f,Jl)}),H&&In(f,N),I}function z(f,c,p,E){if(typeof p=="object"&&p!==null&&p.type===ur&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Bi:e:{for(var I=p.key,C=c;C!==null;){if(C.key===I){if(I=p.type,I===ur){if(C.tag===7){n(f,C.sibling),c=o(C,p.props.children),c.return=f,f=c;break e}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===$t&&sp(I)===C.type){n(f,C.sibling),c=o(C,p.props),c.ref=vo(f,C,p),c.return=f,f=c;break e}n(f,C);break}else t(f,C);C=C.sibling}p.type===ur?(c=An(p.props.children,f.mode,E,p.key),c.return=f,f=c):(E=cl(p.type,p.key,p.props,null,f.mode,E),E.ref=vo(f,c,p),E.return=f,f=E)}return l(f);case ar:e:{for(C=p.key;c!==null;){if(c.key===C)if(c.tag===4&&c.stateNode.containerInfo===p.containerInfo&&c.stateNode.implementation===p.implementation){n(f,c.sibling),c=o(c,p.children||[]),c.return=f,f=c;break e}else{n(f,c);break}else t(f,c);c=c.sibling}c=Ia(p,f.mode,E),c.return=f,f=c}return l(f);case $t:return C=p._init,z(f,c,C(p._payload),E)}if(Io(p))return S(f,c,p,E);if(mo(p))return T(f,c,p,E);bi(f,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,c!==null&&c.tag===6?(n(f,c.sibling),c=o(c,p),c.return=f,f=c):(n(f,c),c=_a(p,f.mode,E),c.return=f,f=c),l(f)):n(f,c)}return z}var Ar=Rm(!0),Pm=Rm(!1),Nl=an(null),Cl=null,Er=null,Mu=null;function Bu(){Mu=Er=Cl=null}function Uu(e){var t=Nl.current;F(Nl),e._currentValue=t}function Ja(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Nr(e,t){Cl=e,Mu=Er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ce=!0),e.firstContext=null)}function Xe(e){var t=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:t,next:null},Er===null){if(Cl===null)throw Error(g(308));Er=e,Cl.dependencies={lanes:0,firstContext:e}}else Er=Er.next=e;return t}var Ln=null;function Fu(e){Ln===null?Ln=[e]:Ln.push(e)}function xm(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Fu(t)):(n.next=o.next,o.next=n),t.interleaved=n,At(e,r)}function At(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wt=!1;function zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function km(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(R&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,At(e,n)}return o=r.interleaved,o===null?(t.next=t,Fu(r)):(t.next=o.next,o.next=t),r.interleaved=t,At(e,n)}function ol(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nu(e,n)}}function ap(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ll(e,t,n,r){var o=e.updateQueue;Wt=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var a=s,u=a.next;a.next=null,l===null?i=u:l.next=u,l=a;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==l&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=a))}if(i!==null){var m=o.baseState;l=0,d=u=a=null,s=i;do{var h=s.lane,v=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var S=e,T=s;switch(h=t,v=n,T.tag){case 1:if(S=T.payload,typeof S=="function"){m=S.call(v,m,h);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=T.payload,h=typeof S=="function"?S.call(v,m,h):S,h==null)break e;m=$({},m,h);break e;case 2:Wt=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[s]:h.push(s))}else v={eventTime:v,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=v,a=m):d=d.next=v,l|=h;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;h=s,s=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(d===null&&(a=m),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);xn|=l,e.lanes=l,e.memoizedState=m}}function up(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(g(191,o));o.call(r)}}}var ti={},ct=an(ti),Xo=an(ti),Yo=an(ti);function Dn(e){if(e===ti)throw Error(g(174));return e}function Vu(e,t){switch(B(Yo,t),B(Xo,e),B(ct,ti),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xa(t,e)}F(ct),B(ct,t)}function Or(){F(ct),F(Xo),F(Yo)}function Mm(e){Dn(Yo.current);var t=Dn(ct.current),n=xa(t,e.type);t!==n&&(B(Xo,e),B(ct,n))}function Hu(e){Xo.current===e&&(F(ct),F(Xo))}var G=an(0);function Dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=[];function Gu(){for(var e=0;e<ga.length;e++)ga[e]._workInProgressVersionPrimary=null;ga.length=0}var il=Rt.ReactCurrentDispatcher,Ea=Rt.ReactCurrentBatchConfig,Pn=0,j=null,ee=null,re=null,wl=!1,Ro=!1,Ko=0,oy=0;function fe(){throw Error(g(321))}function ju(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rt(e[n],t[n]))return!1;return!0}function $u(e,t,n,r,o,i){if(Pn=i,j=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,il.current=e===null||e.memoizedState===null?ay:uy,e=n(r,o),Ro){i=0;do{if(Ro=!1,Ko=0,25<=i)throw Error(g(301));i+=1,re=ee=null,t.updateQueue=null,il.current=cy,e=n(r,o)}while(Ro)}if(il.current=Al,t=ee!==null&&ee.next!==null,Pn=0,re=ee=j=null,wl=!1,t)throw Error(g(300));return e}function Wu(){var e=Ko!==0;return Ko=0,e}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return re===null?j.memoizedState=re=e:re=re.next=e,re}function Ye(){if(ee===null){var e=j.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var t=re===null?j.memoizedState:re.next;if(t!==null)re=t,ee=e;else{if(e===null)throw Error(g(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},re===null?j.memoizedState=re=e:re=re.next=e}return re}function Qo(e,t){return typeof t=="function"?t(e):t}function va(e){var t=Ye(),n=t.queue;if(n===null)throw Error(g(311));n.lastRenderedReducer=e;var r=ee,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var l=o.next;o.next=i.next,i.next=l}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var s=l=null,a=null,u=i;do{var d=u.lane;if((Pn&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=m,l=r):a=a.next=m,j.lanes|=d,xn|=d}u=u.next}while(u!==null&&u!==i);a===null?l=r:a.next=s,rt(r,t.memoizedState)||(Ce=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,j.lanes|=i,xn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ya(e){var t=Ye(),n=t.queue;if(n===null)throw Error(g(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do i=e(i,l.action),l=l.next;while(l!==o);rt(i,t.memoizedState)||(Ce=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Bm(){}function Um(e,t){var n=j,r=Ye(),o=t(),i=!rt(r.memoizedState,o);if(i&&(r.memoizedState=o,Ce=!0),r=r.queue,Xu(Vm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||re!==null&&re.memoizedState.tag&1){if(n.flags|=2048,qo(9,zm.bind(null,n,r,o,t),void 0,null),oe===null)throw Error(g(349));(Pn&30)!==0||Fm(n,t,o)}return o}function Fm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=j.updateQueue,t===null?(t={lastEffect:null,stores:null},j.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zm(e,t,n,r){t.value=n,t.getSnapshot=r,Hm(t)&&Gm(e)}function Vm(e,t,n){return n(function(){Hm(t)&&Gm(e)})}function Hm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rt(e,n)}catch{return!0}}function Gm(e){var t=At(e,1);t!==null&&nt(t,e,1,-1)}function cp(e){var t=st();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:e},t.queue=e,e=e.dispatch=sy.bind(null,j,e),[t.memoizedState,e]}function qo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=j.updateQueue,t===null?(t={lastEffect:null,stores:null},j.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function jm(){return Ye().memoizedState}function ll(e,t,n,r){var o=st();j.flags|=e,o.memoizedState=qo(1|t,n,void 0,r===void 0?null:r)}function Hl(e,t,n,r){var o=Ye();r=r===void 0?null:r;var i=void 0;if(ee!==null){var l=ee.memoizedState;if(i=l.destroy,r!==null&&ju(r,l.deps)){o.memoizedState=qo(t,n,i,r);return}}j.flags|=e,o.memoizedState=qo(1|t,n,i,r)}function dp(e,t){return ll(8390656,8,e,t)}function Xu(e,t){return Hl(2048,8,e,t)}function $m(e,t){return Hl(4,2,e,t)}function Wm(e,t){return Hl(4,4,e,t)}function Xm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ym(e,t,n){return n=n!=null?n.concat([e]):null,Hl(4,4,Xm.bind(null,t,e),n)}function Yu(){}function Km(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qm(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qm(e,t,n){return(Pn&21)===0?(e.baseState&&(e.baseState=!1,Ce=!0),e.memoizedState=n):(rt(n,t)||(n=tm(),j.lanes|=n,xn|=n,e.baseState=!0),t)}function iy(e,t){var n=x;x=n!==0&&4>n?n:4,e(!0);var r=Ea.transition;Ea.transition={};try{e(!1),t()}finally{x=n,Ea.transition=r}}function bm(){return Ye().memoizedState}function ly(e,t,n){var r=nn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zm(e))Jm(t,n);else if(n=xm(e,t,n,r),n!==null){var o=Te();nt(n,e,r,o),eh(n,t,r)}}function sy(e,t,n){var r=nn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zm(e))Jm(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,s=i(l,n);if(o.hasEagerState=!0,o.eagerState=s,rt(s,l)){var a=t.interleaved;a===null?(o.next=o,Fu(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=xm(e,t,o,r),n!==null&&(o=Te(),nt(n,e,r,o),eh(n,t,r))}}function Zm(e){var t=e.alternate;return e===j||t!==null&&t===j}function Jm(e,t){Ro=wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eh(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nu(e,n)}}var Al={readContext:Xe,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},ay={readContext:Xe,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:Xe,useEffect:dp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ll(4194308,4,Xm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ll(4194308,4,e,t)},useInsertionEffect:function(e,t){return ll(4,2,e,t)},useMemo:function(e,t){var n=st();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=st();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ly.bind(null,j,e),[r.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:cp,useDebugValue:Yu,useDeferredValue:function(e){return st().memoizedState=e},useTransition:function(){var e=cp(!1),t=e[0];return e=iy.bind(null,e[1]),st().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=j,o=st();if(H){if(n===void 0)throw Error(g(407));n=n()}else{if(n=t(),oe===null)throw Error(g(349));(Pn&30)!==0||Fm(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,dp(Vm.bind(null,r,i,e),[e]),r.flags|=2048,qo(9,zm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=st(),t=oe.identifierPrefix;if(H){var n=Ct,r=Nt;n=(r&~(1<<32-tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ko++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uy={readContext:Xe,useCallback:Km,useContext:Xe,useEffect:Xu,useImperativeHandle:Ym,useInsertionEffect:$m,useLayoutEffect:Wm,useMemo:Qm,useReducer:va,useRef:jm,useState:function(){return va(Qo)},useDebugValue:Yu,useDeferredValue:function(e){var t=Ye();return qm(t,ee.memoizedState,e)},useTransition:function(){var e=va(Qo)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Bm,useSyncExternalStore:Um,useId:bm,unstable_isNewReconciler:!1},cy={readContext:Xe,useCallback:Km,useContext:Xe,useEffect:Xu,useImperativeHandle:Ym,useInsertionEffect:$m,useLayoutEffect:Wm,useMemo:Qm,useReducer:ya,useRef:jm,useState:function(){return ya(Qo)},useDebugValue:Yu,useDeferredValue:function(e){var t=Ye();return ee===null?t.memoizedState=e:qm(t,ee.memoizedState,e)},useTransition:function(){var e=ya(Qo)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Bm,useSyncExternalStore:Um,useId:bm,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=$({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function eu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gl={isMounted:function(e){return(e=e._reactInternals)?Bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Te(),o=nn(e),i=Lt(r,o);i.payload=t,n!=null&&(i.callback=n),t=en(e,i,o),t!==null&&(nt(t,e,o,r),ol(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Te(),o=nn(e),i=Lt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=en(e,i,o),t!==null&&(nt(t,e,o,r),ol(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Te(),r=nn(e),o=Lt(n,r);o.tag=2,t!=null&&(o.callback=t),t=en(e,o,r),t!==null&&(nt(t,e,r,n),ol(t,e,r))}};function fp(e,t,n,r,o,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Go(n,r)||!Go(o,i):!0}function th(e,t,n){var r=!1,o=ln,i=t.contextType;return typeof i=="object"&&i!==null?i=Xe(i):(o=De(t)?On:he.current,r=t.contextTypes,i=(r=r!=null)?Dr(e,o):ln),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function pp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gl.enqueueReplaceState(t,t.state,null)}function tu(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},zu(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Xe(i):(i=De(t)?On:he.current,o.context=Dr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(eu(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Gl.enqueueReplaceState(o,o.state,null),Ll(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Rr(e,t){try{var n="",r=t;do n+=VE(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Sa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dy=typeof WeakMap=="function"?WeakMap:Map;function nh(e,t,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rl||(Rl=!0,fu=r),nu(e,t)},n}function rh(e,t,n){n=Lt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){nu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nu(e,t),typeof r!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function mp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dy;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cy.bind(null,e,t,n),t.then(e,e))}function hp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gp(e,t,n,r,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lt(-1,1),t.tag=2,en(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var fy=Rt.ReactCurrentOwner,Ce=!1;function Se(e,t,n,r){t.child=e===null?Pm(t,null,n,r):Ar(t,e.child,n,r)}function Ep(e,t,n,r,o){n=n.render;var i=t.ref;return Nr(t,o),r=$u(e,t,n,r,i,o),n=Wu(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ot(e,t,o)):(H&&n&&Pu(t),t.flags|=1,Se(e,t,r,o),t.child)}function vp(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!tc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,oh(e,t,i,r,o)):(e=cl(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&o)===0){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Go,n(l,r)&&e.ref===t.ref)return Ot(e,t,o)}return t.flags|=1,e=rn(i,r),e.ref=t.ref,e.return=t,t.child=e}function oh(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Go(i,r)&&e.ref===t.ref)if(Ce=!1,t.pendingProps=r=i,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Ce=!0);else return t.lanes=e.lanes,Ot(e,t,o)}return ru(e,t,n,r,o)}function ih(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(yr,Re),Re|=n;else{if((n&1073741824)===0)return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,B(yr,Re),Re|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,B(yr,Re),Re|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,B(yr,Re),Re|=r;return Se(e,t,o,n),t.child}function lh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ru(e,t,n,r,o){var i=De(n)?On:he.current;return i=Dr(t,i),Nr(t,o),n=$u(e,t,n,r,i,o),r=Wu(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ot(e,t,o)):(H&&r&&Pu(t),t.flags|=1,Se(e,t,n,o),t.child)}function yp(e,t,n,r,o){if(De(n)){var i=!0;Tl(t)}else i=!1;if(Nr(t,o),t.stateNode===null)sl(e,t),th(t,n,r),tu(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,s=t.memoizedProps;l.props=s;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xe(u):(u=De(n)?On:he.current,u=Dr(t,u));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||a!==u)&&pp(t,l,r,u),Wt=!1;var h=t.memoizedState;l.state=h,Ll(t,r,l,o),a=t.memoizedState,s!==r||h!==a||Le.current||Wt?(typeof d=="function"&&(eu(t,n,d,r),a=t.memoizedState),(s=Wt||fp(t,n,s,r,h,a,u))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=u,r=s):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,km(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Ze(t.type,s),l.props=u,m=t.pendingProps,h=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=Xe(a):(a=De(n)?On:he.current,a=Dr(t,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==m||h!==a)&&pp(t,l,r,a),Wt=!1,h=t.memoizedState,l.state=h,Ll(t,r,l,o);var S=t.memoizedState;s!==m||h!==S||Le.current||Wt?(typeof v=="function"&&(eu(t,n,v,r),S=t.memoizedState),(u=Wt||fp(t,n,u,r,h,S,a)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,S,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,S,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),l.props=r,l.state=S,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ou(e,t,n,r,i,o)}function ou(e,t,n,r,o,i){lh(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&op(t,n,!1),Ot(e,t,i);r=t.stateNode,fy.current=t;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Ar(t,e.child,null,i),t.child=Ar(t,null,s,i)):Se(e,t,s,i),t.memoizedState=r.state,o&&op(t,n,!0),t.child}function sh(e){var t=e.stateNode;t.pendingContext?rp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rp(e,t.context,!1),Vu(e,t.containerInfo)}function Sp(e,t,n,r,o){return wr(),ku(o),t.flags|=256,Se(e,t,n,r),t.child}var iu={dehydrated:null,treeContext:null,retryLane:0};function lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ah(e,t,n){var r=t.pendingProps,o=G.current,i=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),B(G,o&1),e===null)return Za(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},(r&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Wl(l,r,0,null),e=An(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=lu(n),t.memoizedState=iu,e):Ku(t,l));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return py(e,t,l,r,s,o,n);if(i){i=r.fallback,l=t.mode,o=e.child,s=o.sibling;var a={mode:"hidden",children:r.children};return(l&1)===0&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=rn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?i=rn(s,i):(i=An(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?lu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=iu,r}return i=e.child,e=i.sibling,r=rn(i,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ku(e,t){return t=Wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zi(e,t,n,r){return r!==null&&ku(r),Ar(t,e.child,null,n),e=Ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function py(e,t,n,r,o,i,l){if(n)return t.flags&256?(t.flags&=-257,r=Sa(Error(g(422))),Zi(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Wl({mode:"visible",children:r.children},o,0,null),i=An(i,o,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,(t.mode&1)!==0&&Ar(t,e.child,null,l),t.child.memoizedState=lu(l),t.memoizedState=iu,i);if((t.mode&1)===0)return Zi(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(g(419)),r=Sa(i,r,void 0),Zi(e,t,l,r)}if(s=(l&e.childLanes)!==0,Ce||s){if(r=oe,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(r.suspendedLanes|l))!==0?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,At(e,o),nt(r,e,o,-1))}return ec(),r=Sa(Error(g(421))),Zi(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Ly.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Pe=Jt(o.nextSibling),xe=t,H=!0,et=null,e!==null&&(Ge[je++]=Nt,Ge[je++]=Ct,Ge[je++]=Rn,Nt=e.id,Ct=e.overflow,Rn=t),t=Ku(t,r.children),t.flags|=4096,t)}function Tp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ja(e.return,t,n)}function Ta(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function uh(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Se(e,t,r.children,n),r=G.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tp(e,n,t);else if(e.tag===19)Tp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(B(G,r),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Dl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ta(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Dl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ta(t,!0,n,null,i);break;case"together":Ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sl(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(g(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function my(e,t,n){switch(t.tag){case 3:sh(t),wr();break;case 5:Mm(t);break;case 1:De(t.type)&&Tl(t);break;case 4:Vu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;B(Nl,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(B(G,G.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?ah(e,t,n):(B(G,G.current&1),e=Ot(e,t,n),e!==null?e.sibling:null);B(G,G.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return uh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),B(G,G.current),r)break;return null;case 22:case 23:return t.lanes=0,ih(e,t,n)}return Ot(e,t,n)}var ch,su,dh,fh;ch=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};su=function(){};dh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Dn(ct.current);var i=null;switch(n){case"input":o=Aa(e,o),r=Aa(e,r),i=[];break;case"select":o=$({},o,{value:void 0}),r=$({},r,{value:void 0}),i=[];break;case"textarea":o=Pa(e,o),r=Pa(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yl)}ka(n,r);var l;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var s=o[u];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(s=o?.[u],r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(l in s)!s.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&s[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&U("scroll",e),i||s===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};fh=function(e,t,n,r){n!==r&&(t.flags|=4)};function yo(e,t){if(!H)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hy(e,t,n){var r=t.pendingProps;switch(xu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(t),null;case 1:return De(t.type)&&Sl(),pe(t),null;case 3:return r=t.stateNode,Or(),F(Le),F(he),Gu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,et!==null&&(hu(et),et=null))),su(e,t),pe(t),null;case 5:Hu(t);var o=Dn(Yo.current);if(n=t.type,e!==null&&t.stateNode!=null)dh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(g(166));return pe(t),null}if(e=Dn(ct.current),qi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[at]=t,r[Wo]=i,e=(t.mode&1)!==0,n){case"dialog":U("cancel",r),U("close",r);break;case"iframe":case"object":case"embed":U("load",r);break;case"video":case"audio":for(o=0;o<Co.length;o++)U(Co[o],r);break;case"source":U("error",r);break;case"img":case"image":case"link":U("error",r),U("load",r);break;case"details":U("toggle",r);break;case"input":Af(r,i),U("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},U("invalid",r);break;case"textarea":Rf(r,i),U("invalid",r)}ka(n,i),o=null;for(var l in i)if(i.hasOwnProperty(l)){var s=i[l];l==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Qi(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Qi(r.textContent,s,e),o=["children",""+s]):Mo.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&U("scroll",r)}switch(n){case"input":Ui(r),Of(r,i,!0);break;case"textarea":Ui(r),Pf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=yl)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[at]=t,e[Wo]=r,ch(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ma(n,r),n){case"dialog":U("cancel",e),U("close",e),o=r;break;case"iframe":case"object":case"embed":U("load",e),o=r;break;case"video":case"audio":for(o=0;o<Co.length;o++)U(Co[o],e);o=r;break;case"source":U("error",e),o=r;break;case"img":case"image":case"link":U("error",e),U("load",e),o=r;break;case"details":U("toggle",e),o=r;break;case"input":Af(e,r),o=Aa(e,r),U("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=$({},r,{value:void 0}),U("invalid",e);break;case"textarea":Rf(e,r),o=Pa(e,r),U("invalid",e);break;default:o=r}ka(n,o),s=o;for(i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="style"?jp(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Hp(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Bo(e,a):typeof a=="number"&&Bo(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mo.hasOwnProperty(i)?a!=null&&i==="onScroll"&&U("scroll",e):a!=null&&vu(e,i,a,l))}switch(n){case"input":Ui(e),Of(e,r,!1);break;case"textarea":Ui(e),Pf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+on(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Sr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=yl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pe(t),null;case 6:if(e&&t.stateNode!=null)fh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(g(166));if(n=Dn(Yo.current),Dn(ct.current),qi(t)){if(r=t.stateNode,n=t.memoizedProps,r[at]=t,(i=r.nodeValue!==n)&&(e=xe,e!==null))switch(e.tag){case 3:Qi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[at]=t,t.stateNode=r}return pe(t),null;case 13:if(F(G),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(H&&Pe!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Om(),wr(),t.flags|=98560,i=!1;else if(i=qi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(g(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(g(317));i[at]=t}else wr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;pe(t),i=!1}else et!==null&&(hu(et),et=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(G.current&1)!==0?te===0&&(te=3):ec())),t.updateQueue!==null&&(t.flags|=4),pe(t),null);case 4:return Or(),su(e,t),e===null&&jo(t.stateNode.containerInfo),pe(t),null;case 10:return Uu(t.type._context),pe(t),null;case 17:return De(t.type)&&Sl(),pe(t),null;case 19:if(F(G),i=t.memoizedState,i===null)return pe(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)yo(i,!1);else{if(te!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(l=Dl(e),l!==null){for(t.flags|=128,yo(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return B(G,G.current&1|2),t.child}e=e.sibling}i.tail!==null&&Q()>Pr&&(t.flags|=128,r=!0,yo(i,!1),t.lanes=4194304)}else{if(!r)if(e=Dl(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!H)return pe(t),null}else 2*Q()-i.renderingStartTime>Pr&&n!==1073741824&&(t.flags|=128,r=!0,yo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Q(),t.sibling=null,n=G.current,B(G,r?n&1|2:n&1),t):(pe(t),null);case 22:case 23:return Ju(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Re&1073741824)!==0&&(pe(t),t.subtreeFlags&6&&(t.flags|=8192)):pe(t),null;case 24:return null;case 25:return null}throw Error(g(156,t.tag))}function gy(e,t){switch(xu(t),t.tag){case 1:return De(t.type)&&Sl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Or(),F(Le),F(he),Gu(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Hu(t),null;case 13:if(F(G),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(g(340));wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return F(G),null;case 4:return Or(),null;case 10:return Uu(t.type._context),null;case 22:case 23:return Ju(),null;case 24:return null;default:return null}}var Ji=!1,me=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,_=null;function vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Y(e,t,r)}else n.current=null}function au(e,t,n){try{n()}catch(r){Y(e,t,r)}}var _p=!1;function vy(e,t){if(Wa=gl,e=Em(),Ru(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,s=-1,a=-1,u=0,d=0,m=e,h=null;t:for(;;){for(var v;m!==n||o!==0&&m.nodeType!==3||(s=l+o),m!==i||r!==0&&m.nodeType!==3||(a=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(v=m.firstChild)!==null;)h=m,m=v;for(;;){if(m===e)break t;if(h===n&&++u===o&&(s=l),h===i&&++d===r&&(a=l),(v=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=v}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xa={focusedElem:e,selectionRange:n},gl=!1,_=t;_!==null;)if(t=_,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_=e;else for(;_!==null;){t=_;try{var S=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,z=S.memoizedState,f=t.stateNode,c=f.getSnapshotBeforeUpdate(t.elementType===t.type?T:Ze(t.type,T),z);f.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(g(163))}}catch(E){Y(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,_=e;break}_=t.return}return S=_p,_p=!1,S}function Po(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&au(t,n,i)}o=o.next}while(o!==r)}}function jl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ph(e){var t=e.alternate;t!==null&&(e.alternate=null,ph(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[Wo],delete t[Qa],delete t[ey],delete t[ty])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mh(e){return e.tag===5||e.tag===3||e.tag===4}function Ip(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yl));else if(r!==4&&(e=e.child,e!==null))for(cu(e,t,n),e=e.sibling;e!==null;)cu(e,t,n),e=e.sibling}function du(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(du(e,t,n),e=e.sibling;e!==null;)du(e,t,n),e=e.sibling}var le=null,Je=!1;function jt(e,t,n){for(n=n.child;n!==null;)hh(e,t,n),n=n.sibling}function hh(e,t,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Ml,n)}catch{}switch(n.tag){case 5:me||vr(n,t);case 6:var r=le,o=Je;le=null,jt(e,t,n),le=r,Je=o,le!==null&&(Je?(e=le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):le.removeChild(n.stateNode));break;case 18:le!==null&&(Je?(e=le,n=n.stateNode,e.nodeType===8?ma(e.parentNode,n):e.nodeType===1&&ma(e,n),Vo(e)):ma(le,n.stateNode));break;case 4:r=le,o=Je,le=n.stateNode.containerInfo,Je=!0,jt(e,t,n),le=r,Je=o;break;case 0:case 11:case 14:case 15:if(!me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,l=i.destroy;i=i.tag,l!==void 0&&((i&2)!==0||(i&4)!==0)&&au(n,t,l),o=o.next}while(o!==r)}jt(e,t,n);break;case 1:if(!me&&(vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Y(n,t,s)}jt(e,t,n);break;case 21:jt(e,t,n);break;case 22:n.mode&1?(me=(r=me)||n.memoizedState!==null,jt(e,t,n),me=r):jt(e,t,n);break;default:jt(e,t,n)}}function Np(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ey),t.forEach(function(r){var o=Dy.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function be(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 5:le=s.stateNode,Je=!1;break e;case 3:le=s.stateNode.containerInfo,Je=!0;break e;case 4:le=s.stateNode.containerInfo,Je=!0;break e}s=s.return}if(le===null)throw Error(g(160));hh(i,l,o),le=null,Je=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){Y(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gh(t,e),t=t.sibling}function gh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(be(t,e),lt(e),r&4){try{Po(3,e,e.return),jl(3,e)}catch(T){Y(e,e.return,T)}try{Po(5,e,e.return)}catch(T){Y(e,e.return,T)}}break;case 1:be(t,e),lt(e),r&512&&n!==null&&vr(n,n.return);break;case 5:if(be(t,e),lt(e),r&512&&n!==null&&vr(n,n.return),e.flags&32){var o=e.stateNode;try{Bo(o,"")}catch(T){Y(e,e.return,T)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&Fp(o,i),Ma(s,l);var u=Ma(s,i);for(l=0;l<a.length;l+=2){var d=a[l],m=a[l+1];d==="style"?jp(o,m):d==="dangerouslySetInnerHTML"?Hp(o,m):d==="children"?Bo(o,m):vu(o,d,m,u)}switch(s){case"input":Oa(o,i);break;case"textarea":zp(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Sr(o,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?Sr(o,!!i.multiple,i.defaultValue,!0):Sr(o,!!i.multiple,i.multiple?[]:"",!1))}o[Wo]=i}catch(T){Y(e,e.return,T)}}break;case 6:if(be(t,e),lt(e),r&4){if(e.stateNode===null)throw Error(g(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(T){Y(e,e.return,T)}}break;case 3:if(be(t,e),lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vo(t.containerInfo)}catch(T){Y(e,e.return,T)}break;case 4:be(t,e),lt(e);break;case 13:be(t,e),lt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(bu=Q())),r&4&&Np(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(me=(u=me)||d,be(t,e),me=u):be(t,e),lt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&(e.mode&1)!==0)for(_=e,d=e.child;d!==null;){for(m=_=d;_!==null;){switch(h=_,v=h.child,h.tag){case 0:case 11:case 14:case 15:Po(4,h,h.return);break;case 1:vr(h,h.return);var S=h.stateNode;if(typeof S.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(T){Y(r,n,T)}}break;case 5:vr(h,h.return);break;case 22:if(h.memoizedState!==null){Lp(m);continue}}v!==null?(v.return=h,_=v):Lp(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{o=m.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=m.stateNode,a=m.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=Gp("display",l))}catch(T){Y(e,e.return,T)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(T){Y(e,e.return,T)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:be(t,e),lt(e),r&4&&Np(e);break;case 21:break;default:be(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mh(n)){var r=n;break e}n=n.return}throw Error(g(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Bo(o,""),r.flags&=-33);var i=Ip(e);du(e,i,o);break;case 3:case 4:var l=r.stateNode.containerInfo,s=Ip(e);cu(e,s,l);break;default:throw Error(g(161))}}catch(a){Y(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yy(e,t,n){_=e,Eh(e,t,n)}function Eh(e,t,n){for(var r=(e.mode&1)!==0;_!==null;){var o=_,i=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||Ji;if(!l){var s=o.alternate,a=s!==null&&s.memoizedState!==null||me;s=Ji;var u=me;if(Ji=l,(me=a)&&!u)for(_=o;_!==null;)l=_,a=l.child,l.tag===22&&l.memoizedState!==null?Dp(o):a!==null?(a.return=l,_=a):Dp(o);for(;i!==null;)_=i,Eh(i,t,n),i=i.sibling;_=o,Ji=s,me=u}Cp(e,t,n)}else(o.subtreeFlags&8772)!==0&&i!==null?(i.return=o,_=i):Cp(e,t,n)}}function Cp(e){for(;_!==null;){var t=_;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:me||jl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!me)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ze(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&up(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}up(t,l,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Vo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(g(163))}me||t.flags&512&&uu(t)}catch(h){Y(t,t.return,h)}}if(t===e){_=null;break}if(n=t.sibling,n!==null){n.return=t.return,_=n;break}_=t.return}}function Lp(e){for(;_!==null;){var t=_;if(t===e){_=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_=n;break}_=t.return}}function Dp(e){for(;_!==null;){var t=_;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jl(4,t)}catch(a){Y(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){Y(t,o,a)}}var i=t.return;try{uu(t)}catch(a){Y(t,i,a)}break;case 5:var l=t.return;try{uu(t)}catch(a){Y(t,l,a)}}}catch(a){Y(t,t.return,a)}if(t===e){_=null;break}var s=t.sibling;if(s!==null){s.return=t.return,_=s;break}_=t.return}}var Sy=Math.ceil,Ol=Rt.ReactCurrentDispatcher,Qu=Rt.ReactCurrentOwner,We=Rt.ReactCurrentBatchConfig,R=0,oe=null,J=null,se=0,Re=0,yr=an(0),te=0,bo=null,xn=0,$l=0,qu=0,xo=null,Ne=null,bu=0,Pr=1/0,_t=null,Rl=!1,fu=null,tn=null,el=!1,Qt=null,Pl=0,ko=0,pu=null,al=-1,ul=0;function Te(){return(R&6)!==0?Q():al!==-1?al:al=Q()}function nn(e){return(e.mode&1)===0?1:(R&2)!==0&&se!==0?se&-se:ry.transition!==null?(ul===0&&(ul=tm()),ul):(e=x,e!==0||(e=window.event,e=e===void 0?16:am(e.type)),e)}function nt(e,t,n,r){if(50<ko)throw ko=0,pu=null,Error(g(185));Zo(e,n,r),((R&2)===0||e!==oe)&&(e===oe&&((R&2)===0&&($l|=n),te===4&&Yt(e,se)),we(e,r),n===1&&R===0&&(t.mode&1)===0&&(Pr=Q()+500,Vl&&un()))}function we(e,t){var n=e.callbackNode;iv(e,t);var r=hl(e,e===oe?se:0);if(r===0)n!==null&&Mf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Mf(n),t===1)e.tag===0?ny(wp.bind(null,e)):Dm(wp.bind(null,e)),Zv(function(){(R&6)===0&&un()}),n=null;else{switch(nm(r)){case 1:n=Iu;break;case 4:n=Jp;break;case 16:n=ml;break;case 536870912:n=em;break;default:n=ml}n=Ch(n,vh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vh(e,t){if(al=-1,ul=0,(R&6)!==0)throw Error(g(327));var n=e.callbackNode;if(Cr()&&e.callbackNode!==n)return null;var r=hl(e,e===oe?se:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=xl(e,r);else{t=r;var o=R;R|=2;var i=Sh();(oe!==e||se!==t)&&(_t=null,Pr=Q()+500,wn(e,t));do try{Iy();break}catch(s){yh(e,s)}while(!0);Bu(),Ol.current=i,R=o,J!==null?t=0:(oe=null,se=0,t=te)}if(t!==0){if(t===2&&(o=Va(e),o!==0&&(r=o,t=mu(e,o))),t===1)throw n=bo,wn(e,0),Yt(e,r),we(e,Q()),n;if(t===6)Yt(e,r);else{if(o=e.current.alternate,(r&30)===0&&!Ty(o)&&(t=xl(e,r),t===2&&(i=Va(e),i!==0&&(r=i,t=mu(e,i))),t===1))throw n=bo,wn(e,0),Yt(e,r),we(e,Q()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(g(345));case 2:Nn(e,Ne,_t);break;case 3:if(Yt(e,r),(r&130023424)===r&&(t=bu+500-Q(),10<t)){if(hl(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Te(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ka(Nn.bind(null,e,Ne,_t),t);break}Nn(e,Ne,_t);break;case 4:if(Yt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-tt(r);i=1<<l,l=t[l],l>o&&(o=l),r&=~i}if(r=o,r=Q()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sy(r/1960))-r,10<r){e.timeoutHandle=Ka(Nn.bind(null,e,Ne,_t),r);break}Nn(e,Ne,_t);break;case 5:Nn(e,Ne,_t);break;default:throw Error(g(329))}}}return we(e,Q()),e.callbackNode===n?vh.bind(null,e):null}function mu(e,t){var n=xo;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=xl(e,t),e!==2&&(t=Ne,Ne=n,t!==null&&hu(t)),e}function hu(e){Ne===null?Ne=e:Ne.push.apply(Ne,e)}function Ty(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!rt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yt(e,t){for(t&=~qu,t&=~$l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tt(t),r=1<<n;e[n]=-1,t&=~r}}function wp(e){if((R&6)!==0)throw Error(g(327));Cr();var t=hl(e,0);if((t&1)===0)return we(e,Q()),null;var n=xl(e,t);if(e.tag!==0&&n===2){var r=Va(e);r!==0&&(t=r,n=mu(e,r))}if(n===1)throw n=bo,wn(e,0),Yt(e,t),we(e,Q()),n;if(n===6)throw Error(g(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nn(e,Ne,_t),we(e,Q()),null}function Zu(e,t){var n=R;R|=1;try{return e(t)}finally{R=n,R===0&&(Pr=Q()+500,Vl&&un())}}function kn(e){Qt!==null&&Qt.tag===0&&(R&6)===0&&Cr();var t=R;R|=1;var n=We.transition,r=x;try{if(We.transition=null,x=1,e)return e()}finally{x=r,We.transition=n,R=t,(R&6)===0&&un()}}function Ju(){Re=yr.current,F(yr)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bv(n)),J!==null)for(n=J.return;n!==null;){var r=n;switch(xu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sl();break;case 3:Or(),F(Le),F(he),Gu();break;case 5:Hu(r);break;case 4:Or();break;case 13:F(G);break;case 19:F(G);break;case 10:Uu(r.type._context);break;case 22:case 23:Ju()}n=n.return}if(oe=e,J=e=rn(e.current,null),se=Re=t,te=0,bo=null,qu=$l=xn=0,Ne=xo=null,Ln!==null){for(t=0;t<Ln.length;t++)if(n=Ln[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=o,r.next=l}n.pending=r}Ln=null}return e}function yh(e,t){do{var n=J;try{if(Bu(),il.current=Al,wl){for(var r=j.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}wl=!1}if(Pn=0,re=ee=j=null,Ro=!1,Ko=0,Qu.current=null,n===null||n.return===null){te=1,bo=t,J=null;break}e:{var i=e,l=n.return,s=n,a=t;if(t=se,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=s,m=d.tag;if((d.mode&1)===0&&(m===0||m===11||m===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=hp(l);if(v!==null){v.flags&=-257,gp(v,l,s,i,t),v.mode&1&&mp(i,u,t),t=v,a=u;var S=t.updateQueue;if(S===null){var T=new Set;T.add(a),t.updateQueue=T}else S.add(a);break e}else{if((t&1)===0){mp(i,u,t),ec();break e}a=Error(g(426))}}else if(H&&s.mode&1){var z=hp(l);if(z!==null){(z.flags&65536)===0&&(z.flags|=256),gp(z,l,s,i,t),ku(Rr(a,s));break e}}i=a=Rr(a,s),te!==4&&(te=2),xo===null?xo=[i]:xo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=nh(i,a,t);ap(i,f);break e;case 1:s=a;var c=i.type,p=i.stateNode;if((i.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(tn===null||!tn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=rh(i,s,t);ap(i,E);break e}}i=i.return}while(i!==null)}_h(n)}catch(I){t=I,J===n&&n!==null&&(J=n=n.return);continue}break}while(!0)}function Sh(){var e=Ol.current;return Ol.current=Al,e===null?Al:e}function ec(){(te===0||te===3||te===2)&&(te=4),oe===null||(xn&268435455)===0&&($l&268435455)===0||Yt(oe,se)}function xl(e,t){var n=R;R|=2;var r=Sh();(oe!==e||se!==t)&&(_t=null,wn(e,t));do try{_y();break}catch(o){yh(e,o)}while(!0);if(Bu(),R=n,Ol.current=r,J!==null)throw Error(g(261));return oe=null,se=0,te}function _y(){for(;J!==null;)Th(J)}function Iy(){for(;J!==null&&!qE();)Th(J)}function Th(e){var t=Nh(e.alternate,e,Re);e.memoizedProps=e.pendingProps,t===null?_h(e):J=t,Qu.current=null}function _h(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=hy(n,t,Re),n!==null){J=n;return}}else{if(n=gy(n,t),n!==null){n.flags&=32767,J=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{te=6,J=null;return}}if(t=t.sibling,t!==null){J=t;return}J=t=e}while(t!==null);te===0&&(te=5)}function Nn(e,t,n){var r=x,o=We.transition;try{We.transition=null,x=1,Ny(e,t,n,r)}finally{We.transition=o,x=r}return null}function Ny(e,t,n,r){do Cr();while(Qt!==null);if((R&6)!==0)throw Error(g(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(g(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(lv(e,i),e===oe&&(J=oe=null,se=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||el||(el=!0,Ch(ml,function(){return Cr(),null})),i=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||i){i=We.transition,We.transition=null;var l=x;x=1;var s=R;R|=4,Qu.current=null,vy(e,n),gh(n,e),Xv(Xa),gl=!!Wa,Xa=Wa=null,e.current=n,yy(n,e,o),bE(),R=s,x=l,We.transition=i}else e.current=n;if(el&&(el=!1,Qt=e,Pl=o),i=e.pendingLanes,i===0&&(tn=null),ev(n.stateNode,r),we(e,Q()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Rl)throw Rl=!1,e=fu,fu=null,e;return(Pl&1)!==0&&e.tag!==0&&Cr(),i=e.pendingLanes,(i&1)!==0?e===pu?ko++:(ko=0,pu=e):ko=0,un(),null}function Cr(){if(Qt!==null){var e=nm(Pl),t=We.transition,n=x;try{if(We.transition=null,x=16>e?16:e,Qt===null)var r=!1;else{if(e=Qt,Qt=null,Pl=0,(R&6)!==0)throw Error(g(331));var o=R;for(R|=4,_=e.current;_!==null;){var i=_,l=i.child;if((_.flags&16)!==0){var s=i.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(_=u;_!==null;){var d=_;switch(d.tag){case 0:case 11:case 15:Po(8,d,i)}var m=d.child;if(m!==null)m.return=d,_=m;else for(;_!==null;){d=_;var h=d.sibling,v=d.return;if(ph(d),d===u){_=null;break}if(h!==null){h.return=v,_=h;break}_=v}}}var S=i.alternate;if(S!==null){var T=S.child;if(T!==null){S.child=null;do{var z=T.sibling;T.sibling=null,T=z}while(T!==null)}}_=i}}if((i.subtreeFlags&2064)!==0&&l!==null)l.return=i,_=l;else e:for(;_!==null;){if(i=_,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:Po(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,_=f;break e}_=i.return}}var c=e.current;for(_=c;_!==null;){l=_;var p=l.child;if((l.subtreeFlags&2064)!==0&&p!==null)p.return=l,_=p;else e:for(l=c;_!==null;){if(s=_,(s.flags&2048)!==0)try{switch(s.tag){case 0:case 11:case 15:jl(9,s)}}catch(I){Y(s,s.return,I)}if(s===l){_=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,_=E;break e}_=s.return}}if(R=o,un(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Ml,e)}catch{}r=!0}return r}finally{x=n,We.transition=t}}return!1}function Ap(e,t,n){t=Rr(n,t),t=nh(e,t,1),e=en(e,t,1),t=Te(),e!==null&&(Zo(e,1,t),we(e,t))}function Y(e,t,n){if(e.tag===3)Ap(e,e,n);else for(;t!==null;){if(t.tag===3){Ap(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tn===null||!tn.has(r))){e=Rr(n,e),e=rh(t,e,1),t=en(t,e,1),e=Te(),t!==null&&(Zo(t,1,e),we(t,e));break}}t=t.return}}function Cy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Te(),e.pingedLanes|=e.suspendedLanes&n,oe===e&&(se&n)===n&&(te===4||te===3&&(se&130023424)===se&&500>Q()-bu?wn(e,0):qu|=n),we(e,t)}function Ih(e,t){t===0&&((e.mode&1)===0?t=1:(t=Vi,Vi<<=1,(Vi&130023424)===0&&(Vi=4194304)));var n=Te();e=At(e,t),e!==null&&(Zo(e,t,n),we(e,n))}function Ly(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ih(e,n)}function Dy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(g(314))}r!==null&&r.delete(t),Ih(e,n)}var Nh;Nh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Le.current)Ce=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ce=!1,my(e,t,n);Ce=(e.flags&131072)!==0}else Ce=!1,H&&(t.flags&1048576)!==0&&wm(t,Il,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sl(e,t),e=t.pendingProps;var o=Dr(t,he.current);Nr(t,n),o=$u(null,t,r,e,o,n);var i=Wu();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(r)?(i=!0,Tl(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,zu(t),o.updater=Gl,t.stateNode=o,o._reactInternals=t,tu(t,r,e,n),t=ou(null,t,r,!0,i,n)):(t.tag=0,H&&i&&Pu(t),Se(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sl(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Ay(r),e=Ze(r,e),o){case 0:t=ru(null,t,r,e,n);break e;case 1:t=yp(null,t,r,e,n);break e;case 11:t=Ep(null,t,r,e,n);break e;case 14:t=vp(null,t,r,Ze(r.type,e),n);break e}throw Error(g(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ze(r,o),ru(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ze(r,o),yp(e,t,r,o,n);case 3:e:{if(sh(t),e===null)throw Error(g(387));r=t.pendingProps,i=t.memoizedState,o=i.element,km(e,t),Ll(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Rr(Error(g(423)),t),t=Sp(e,t,r,n,o);break e}else if(r!==o){o=Rr(Error(g(424)),t),t=Sp(e,t,r,n,o);break e}else for(Pe=Jt(t.stateNode.containerInfo.firstChild),xe=t,H=!0,et=null,n=Pm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wr(),r===o){t=Ot(e,t,n);break e}Se(e,t,r,n)}t=t.child}return t;case 5:return Mm(t),e===null&&Za(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,l=o.children,Ya(r,o)?l=null:i!==null&&Ya(r,i)&&(t.flags|=32),lh(e,t),Se(e,t,l,n),t.child;case 6:return e===null&&Za(t),null;case 13:return ah(e,t,n);case 4:return Vu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ar(t,null,r,n):Se(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ze(r,o),Ep(e,t,r,o,n);case 7:return Se(e,t,t.pendingProps,n),t.child;case 8:return Se(e,t,t.pendingProps.children,n),t.child;case 12:return Se(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,B(Nl,r._currentValue),r._currentValue=l,i!==null)if(rt(i.value,l)){if(i.children===o.children&&!Le.current){t=Ot(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){l=i.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Lt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ja(i.return,n,t),s.lanes|=n;break}a=a.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(g(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),Ja(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Se(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Nr(t,n),o=Xe(o),r=r(o),t.flags|=1,Se(e,t,r,n),t.child;case 14:return r=t.type,o=Ze(r,t.pendingProps),o=Ze(r.type,o),vp(e,t,r,o,n);case 15:return oh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ze(r,o),sl(e,t),t.tag=1,De(r)?(e=!0,Tl(t)):e=!1,Nr(t,n),th(t,r,o),tu(t,r,o,n),ou(null,t,r,!0,e,n);case 19:return uh(e,t,n);case 22:return ih(e,t,n)}throw Error(g(156,t.tag))};function Ch(e,t){return Zp(e,t)}function wy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(e,t,n,r){return new wy(e,t,n,r)}function tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ay(e){if(typeof e=="function")return tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Su)return 11;if(e===Tu)return 14}return 2}function rn(e,t){var n=e.alternate;return n===null?(n=$e(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cl(e,t,n,r,o,i){var l=2;if(r=e,typeof e=="function")tc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case ur:return An(n.children,o,i,t);case yu:l=8,o|=8;break;case Ca:return e=$e(12,n,t,o|2),e.elementType=Ca,e.lanes=i,e;case La:return e=$e(13,n,t,o),e.elementType=La,e.lanes=i,e;case Da:return e=$e(19,n,t,o),e.elementType=Da,e.lanes=i,e;case Mp:return Wl(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xp:l=10;break e;case kp:l=9;break e;case Su:l=11;break e;case Tu:l=14;break e;case $t:l=16,r=null;break e}throw Error(g(130,e==null?e:typeof e,""))}return t=$e(l,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function An(e,t,n,r){return e=$e(7,e,r,t),e.lanes=n,e}function Wl(e,t,n,r){return e=$e(22,e,r,t),e.elementType=Mp,e.lanes=n,e.stateNode={isHidden:!1},e}function _a(e,t,n){return e=$e(6,e,null,t),e.lanes=n,e}function Ia(e,t,n){return t=$e(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oy(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=la(0),this.expirationTimes=la(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function nc(e,t,n,r,o,i,l,s,a){return e=new Oy(e,t,n,s,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$e(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zu(i),e}function Ry(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ar,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lh(e){if(!e)return ln;e=e._reactInternals;e:{if(Bn(e)!==e||e.tag!==1)throw Error(g(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(g(171))}if(e.tag===1){var n=e.type;if(De(n))return Lm(e,n,t)}return t}function Dh(e,t,n,r,o,i,l,s,a){return e=nc(n,r,!0,e,o,i,l,s,a),e.context=Lh(null),n=e.current,r=Te(),o=nn(n),i=Lt(r,o),i.callback=t??null,en(n,i,o),e.current.lanes=o,Zo(e,o,r),we(e,r),e}function Xl(e,t,n,r){var o=t.current,i=Te(),l=nn(o);return n=Lh(n),t.context===null?t.context=n:t.pendingContext=n,t=Lt(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=en(o,t,l),e!==null&&(nt(e,o,l,i),ol(e,o,l)),l}function kl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Op(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rc(e,t){Op(e,t),(e=e.alternate)&&Op(e,t)}function Py(){return null}var wh=typeof reportError=="function"?reportError:function(e){console.error(e)};function oc(e){this._internalRoot=e}Yl.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(g(409));Xl(e,t,null,null)};Yl.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kn(function(){Xl(null,e,null,null)}),t[wt]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=im();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&t!==0&&t<Xt[n].priority;n++);Xt.splice(n,0,e),n===0&&sm(e)}};function ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rp(){}function xy(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=kl(l);i.call(u)}}var l=Dh(t,r,e,0,null,!1,!1,"",Rp);return e._reactRootContainer=l,e[wt]=l.current,jo(e.nodeType===8?e.parentNode:e),kn(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var u=kl(a);s.call(u)}}var a=nc(e,0,!1,null,null,!1,!1,"",Rp);return e._reactRootContainer=a,e[wt]=a.current,jo(e.nodeType===8?e.parentNode:e),kn(function(){Xl(t,a,n,r)}),a}function Ql(e,t,n,r,o){var i=n._reactRootContainer;if(i){var l=i;if(typeof o=="function"){var s=o;o=function(){var a=kl(l);s.call(a)}}Xl(t,l,e,o)}else l=xy(n,t,e,o,r);return kl(l)}rm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=No(t.pendingLanes);n!==0&&(Nu(t,n|1),we(t,Q()),(R&6)===0&&(Pr=Q()+500,un()))}break;case 13:kn(function(){var r=At(e,1);if(r!==null){var o=Te();nt(r,e,1,o)}}),rc(e,1)}};Cu=function(e){if(e.tag===13){var t=At(e,134217728);if(t!==null){var n=Te();nt(t,e,134217728,n)}rc(e,134217728)}};om=function(e){if(e.tag===13){var t=nn(e),n=At(e,t);if(n!==null){var r=Te();nt(n,e,t,r)}rc(e,t)}};im=function(){return x};lm=function(e,t){var n=x;try{return x=e,t()}finally{x=n}};Ua=function(e,t,n){switch(t){case"input":if(Oa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=zl(r);if(!o)throw Error(g(90));Up(r),Oa(r,o)}}}break;case"textarea":zp(e,n);break;case"select":t=n.value,t!=null&&Sr(e,!!n.multiple,t,!1)}};Xp=Zu;Yp=kn;var ky={usingClientEntryPoint:!1,Events:[ei,pr,zl,$p,Wp,Zu]},So={findFiberByHostInstance:Cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},My={bundleType:So.bundleType,version:So.version,rendererPackageName:So.rendererPackageName,rendererConfig:So.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qp(e),e===null?null:e.stateNode},findFiberByHostInstance:So.findFiberByHostInstance||Py,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(To=__REACT_DEVTOOLS_GLOBAL_HOOK__,!To.isDisabled&&To.supportsFiber))try{Ml=To.inject(My),ut=To}catch{}var To;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ky;Be.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ic(t))throw Error(g(200));return Ry(e,t,null,n)};Be.createRoot=function(e,t){if(!ic(e))throw Error(g(299));var n=!1,r="",o=wh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=nc(e,1,!1,null,null,n,!1,r,o),e[wt]=t.current,jo(e.nodeType===8?e.parentNode:e),new oc(t)};Be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(g(188)):(e=Object.keys(e).join(","),Error(g(268,e)));return e=qp(t),e=e===null?null:e.stateNode,e};Be.flushSync=function(e){return kn(e)};Be.hydrate=function(e,t,n){if(!Kl(t))throw Error(g(200));return Ql(null,e,t,!0,n)};Be.hydrateRoot=function(e,t,n){if(!ic(e))throw Error(g(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",l=wh;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Dh(t,null,e,1,n??null,o,!1,i,l),e[wt]=t.current,jo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Yl(t)};Be.render=function(e,t,n){if(!Kl(t))throw Error(g(200));return Ql(null,e,t,!1,n)};Be.unmountComponentAtNode=function(e){if(!Kl(e))throw Error(g(40));return e._reactRootContainer?(kn(function(){Ql(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};Be.unstable_batchedUpdates=Zu;Be.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Kl(n))throw Error(g(200));if(e==null||e._reactInternals===void 0)throw Error(g(38));return Ql(e,t,n,!1,r)};Be.version="18.3.1-next-f1338f8080-20240426"});var Ph=fn((Z0,Rh)=>{"use strict";function Oh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Oh)}catch(e){console.error(e)}}Oh(),Rh.exports=Ah()});var sc=fn(lc=>{"use strict";var xh=Ph();lc.createRoot=xh.createRoot,lc.hydrateRoot=xh.hydrateRoot;var J0});var P={DATE_INPUT:"date",DIET_TYPE_SELECT:"diet-type",TOP_BAR:".top-bar",FOOTER:"footer",EASTER_EGG_OVERLAY:".easter-egg-overlay",EASTER_EGG_ICON:".easter-egg-icon",SERVICE_NUMBER_PREFIX:"service-number-",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2",TAB_DADES:"tab-dades",TAB_SERVEIS:"tab-serveis",CONTENT_DADES:"dades-tab-content",CONTENT_SERVEIS:"serveis-tab-content",MAIN_CONTENT_AREA:"main-content",CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips",SIGNATURE_MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title",DOTACIO_MODAL:"dotacio-modal",OPTIONS_CONTAINER_DOT:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline",SAVE_DIET:"save-diet",NOTES_BUTTON_ID:"notes-selected-service",NOTES_MODAL_ID:"notes-modal",NOTES_TITLE_ID:"notes-title",NOTES_TEXTAREA_ID:"notes-textarea",NOTES_SAVE_ID:"notes-save",NOTES_CANCEL_ID:"notes-cancel",NOTES_COUNTER_ID:"notes-char-counter",SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel",TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text",SAVE_PILL:"save-pill",DONATION_LINK_ID:"openDonation",COOKIE_CONSENT_BANNER:"cookie-consent-banner",ACCEPT_COOKIES:"accept-cookies",DECLINE_COOKIES:"decline-cookies"},Ee={INPUT_ERROR:"input-error",ACTIVE_TAB:"active",ERROR_TAB:"error-tab",MODAL_OPEN:"modal-open",MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",TOP_BAR_TAPS:3,FOOTER_TAPS:2,TIMEOUT:1e3,ANIMATION_DURATION:1e3,DEFAULT_DURATION:3e3,ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1,SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",CHIP_ACTIVE:"chip-active",PANEL_VISIBLE:"visible",BUTTON_OPEN:"open",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_LOAD_BTN:"diet-load",DIET_DELETE_BTN:"diet-delete",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal",INPUT_ERROR_DOT:"input-error",IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount",PROMPT_DISMISSED_LIMIT:2,ACTION_TRIGGER_LIMIT:10,DARK_THEME:"theme-dark",VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error",SIGNED:"signed",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Fn={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group",PERSON_INPUT_GROUP:".input-with-icon",TEXT_SEL:".pill-text",SERVICE_CONTAINER_SELECTOR:".service",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete",SERVICE_NUMBER_INPUT:".service-number"},ts={serviceNumber:".service-number",origin:".origin",destination:".destination",originTime:".origin-time",destinationTime:".destination-time",endTime:".end-time",mode:".chip-active",notes:""},ft={SERVICE_NUMBER_LENGTH:9,VEHICLE_MAX_LENGTH:6,PERSON_NAME_MAX_LENGTH:28,LOCATION_MAX_LENGTH:35,PERSON_NAME_ALLOWED_CHARS:/^[a-zA-Z\s'’áéíóúàèìòùäëïöüñçÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÑÇ]+$/u},Ic={DEBOUNCE_TOAST:300,DEBOUNCE_AUTO_SAVE:1e3,DEBOUNCE_HANDLER:800};var Xr={LUNCH:"lunch",DINNER:"dinner"},Nc=Fn.SERVICE_CONTAINER_SELECTOR,ns={SERVICE_NUMBER_DIGITS_ONLY:"Solo se permiten d\xEDgitos (0-9) en el n\xFAmero de servicio.",SAVE_ERROR_DIGITAL_ONLY:"El n\xFAmero de servicio debe contener solo d\xEDgitos.",VALIDATION_FAILED:"Validaci\xF3n fallida",OCR_PROCESS_RUNNING:"Proceso OCR ya en marcha.",INVALID_IMAGE:"Selecciona una imagen.",IMAGE_TOO_BIG:"La imagen es demasiado grande (m\xE1x. 10 MB).",OCR_ERROR:"Error de escaneo",IMAGE_PROCESS_ERROR:"Error al procesar la imagen.",OCR_COMPLETE:"An\xE1lisis completado.",SAVING:"Guardando\u2026",SAVED:"Guardado",SAVE_ERROR:"No se pudo guardar",DOWNLOAD_STARTED:"Descarga iniciada correctamente.",PDF_GENERATION_ERROR:"Error en la generaci\xF3n del PDF",DOTACIO_SAVED:"Dotaci\xF3n guardada.",DOTACIO_LOADED:"Dotaci\xF3n cargada.",DOTACIO_DELETED:"Dotaci\xF3n eliminada."};var Cc={DOTACIIONS:"dotacions_v2",ANONYMOUS_USER:"anonymousUserId",COOKIE_CONSENT:"cookie_consent",THEME_PREFERENCE:"themePreference",USER_SELECTED_SERVICE_TYPE:"userSelectedServiceType",ONBOARDING_COMPLETED:"onboardingCompleted"};var ue={CONTAINER_ID:"toast-container",TOAST_CLASS:"toast",DEFAULT_DURATION:3e3,DEFAULT_TYPE:"info",ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1},W={queue:[],isVisible:!1,container:null,currentTimeout:null},fg=e=>e&&typeof e=="string"?e.replace(/[<>&]/g,""):"";function pg(e){if(window.__muteToasts===!0)return!0;let t=window.__toastBlocklist;if(!t||!Array.isArray(t)||t.length===0)return!1;for(let n of t)if(n instanceof RegExp&&typeof e=="string"){if(n.test(e))return!0}else if(typeof n=="string"&&String(e)===n)return!0;return!1}function mg(e,t,n){if(!e||typeof e!="string"||!e.trim())throw new Error("El missatge del toast \xE9s obligatori i ha de ser una cadena no buida.");if(!ue.ALLOWED_TYPES.includes(t))throw new Error(`Tipus de toast inv\xE0lid: ${t}. Ha de ser un de: ${ue.ALLOWED_TYPES.join(", ")}`);if(!Number.isInteger(n)||n<0||n>6e4)throw new Error("La durada ha d'estar entre 0 i 60000 ms.")}function hg(){return!W.container&&(W.container=document.getElementById(ue.CONTAINER_ID),!W.container)?(console.error(`[Toast] Contenidor '#${ue.CONTAINER_ID}' no trobat.`),null):W.container}function rs(e){W.currentTimeout&&(clearTimeout(W.currentTimeout),W.currentTimeout=null),e&&(e.classList.add(ue.ANIMATION.EXIT),e.addEventListener("transitionend",()=>e.remove(),{once:!0})),W.isVisible=!1,Lc()}function gg({message:e,type:t,duration:n,options:r}){let o=hg();if(!o)return;let i=document.createElement("div");i.className=`${ue.TOAST_CLASS} ${t}`,i.setAttribute("role","alert"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),i.textContent=fg(e);let l=!0;if(r?.undoCallback instanceof Function){let s=document.createElement("button");s.type="button",s.className=ue.UNDO_BTN_CLASS,s.textContent="Deshacer",s.setAttribute("aria-label","Deshacer la acci\xF3n"),s.addEventListener("click",()=>{l=!1;try{r.undoCallback()}finally{rs(i)}}),i.appendChild(s)}o.appendChild(i),requestAnimationFrame(()=>{i.classList.add(ue.ANIMATION.ENTER)}),W.currentTimeout=setTimeout(()=>{l&&r?.onExpire instanceof Function&&r.onExpire(),rs(i)},n)}function Lc(){W.isVisible||W.queue.length===0||(W.isVisible=!0,W.queue.sort((e,t)=>t.priority-e.priority),gg(W.queue.shift()))}function A(e,t=ue.DEFAULT_TYPE,n=ue.DEFAULT_DURATION,r={}){if(pg(e))return;mg(e,t,n);let o=r.priority??ue.DEFAULT_PRIORITY,i={message:e,type:t,duration:n,priority:o,options:r};if(!(r.queueable!==!1)&&W.isVisible){if(W.container){let a=W.container.querySelector(`.${ue.TOAST_CLASS}:not(.${ue.ANIMATION.EXIT})`);a&&a.remove()}rs()}W.queue.length>=ue.MAX_QUEUE_SIZE&&W.queue.sort((a,u)=>a.priority-u.priority).shift();let s=W.queue.findIndex(a=>a.priority<o);s===-1?W.queue.push(i):W.queue.splice(s,0,i),Eg(),Lc()}function Eg(){let e="toast-undo-style";if(document.getElementById(e))return;let t=document.body.getAttribute("data-csp-nonce"),n=document.createElement("style");n.id=e,t&&n.setAttribute("nonce",t),n.textContent=`
    .${ue.UNDO_BTN_CLASS} {
      margin-left: auto; 
      padding: 8px 12px; 
      background: none;
      border: none;
      border-radius: 4px; 
      cursor: pointer;     
      font-weight: 600;
      font-size: 0.875rem; 
      text-transform: uppercase; 
      letter-spacing: 0.08em; 
      color: inherit; 
      transition: background-color 0.2s ease;
    }
    .${ue.UNDO_BTN_CLASS}:hover {
      background-color: rgba(255, 255, 255, 0.15); 
    }
  `,document.head.appendChild(n)}function pn(e){e?.classList.add(Ee.INPUT_ERROR)}function zn(e){e?.classList.remove(Ee.INPUT_ERROR)}function Dc(e){if(!e||e.length===0)return"";let t=e.map(n=>`S${n}`);return t.length===1?t[0]:t.length===2?t.join(" y "):`${t.slice(0,-1).join(", ")} y ${t[t.length-1]}`}function Yr(e){!e||e.dataset.errorListenerAttached||(e.addEventListener("input",()=>zn(e),{once:!0}),e.dataset.errorListenerAttached="true")}function wc(e,t,n,r){if(!e)return!0;zn(e);let o=e.value.trim(),i=!1;return o?/^\d+$/.test(o)?o.length!==ft.SERVICE_NUMBER_LENGTH&&(r.digitLength.push(t),i=!0):(r.nonNumeric.push(t),i=!0):n&&(r.emptyRequiredS1=!0,i=!0),i?(pn(e),Yr(e),!1):!0}function vg(e){let t=[];return e.nonNumeric.length>0&&t.push(`El n\xFAmero de servicio ${Dc(e.nonNumeric)} debe contener solo d\xEDgitos.`),e.digitLength.length>0&&t.push(`El n\xFAmero de servicio ${Dc(e.digitLength)} debe tener ${ft.SERVICE_NUMBER_LENGTH} d\xEDgitos.`),t}function si(){let e=!0;return[document.getElementById(P.DATE_INPUT),document.getElementById(P.DIET_TYPE_SELECT)].filter(Boolean).forEach(n=>{zn(n),n.value.trim()||(pn(n),Yr(n),e=!1)}),e}function ai(){let e={emptyRequiredS1:!1,nonNumeric:[],digitLength:[]},t=!0,n=document.getElementById(`${P.SERVICE_NUMBER_PREFIX}1`);if(!n)return console.error("Validation: No se ha encontrado el input para el servicio S1."),!1;t=wc(n,1,!0,e)&&t;for(let o=2;o<=4;o++){let i=document.getElementById(`${P.SERVICE_NUMBER_PREFIX}${o}`);i&&(t=wc(i,o,!1,e)&&t)}if(t)return!0;let r=vg(e);return r.length>0&&A(r.join(`
`),"error"),!1}function b(e){return typeof e!="string"?"":e.trim().replace(/[<>&"'`]/g,"").trim()}function ui(e){return e?/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/.test(e):!0}function Ac(e,t,n,r){let o=e?.value.trim()||"";return o&&!ft.PERSON_NAME_ALLOWED_CHARS.test(o)?(pn(t),!1):o.length>ft.PERSON_NAME_MAX_LENGTH?(pn(t),r.push(`El nombre del ${n} no puede superar los ${ft.PERSON_NAME_MAX_LENGTH} caracteres.`),!1):!0}function Oc(){let e=document.getElementById(P.VEHICLE_INPUT),t=document.getElementById(P.PERSON1_INPUT),n=document.getElementById(P.PERSON2_INPUT),r=t?.closest(Fn.PERSON_INPUT_GROUP),o=n?.closest(Fn.PERSON_INPUT_GROUP);zn(e),zn(r),zn(o);let i=e?.value.trim()||"",l=t?.value.trim()||"",s=n?.value.trim()||"",a=!0,u=[];return i||(pn(e),u.push("El campo Veh\xEDculo es obligatorio."),a=!1),a=Ac(t,r,"Conductor",u)&&a,a=Ac(n,o,"Ayudante",u)&&a,!l&&!s&&(pn(r),pn(o),u.push("Debe indicar al menos un Conductor o Ayudante."),a=!1),a||(Yr(e),Yr(t),Yr(n),A(u.join(`
`),"error")),a}function Rc(){let e=ft.PERSON_NAME_ALLOWED_CHARS,t=/^[^\x00-\x1F\x7F<>&"'`]*$/u;function n(u){let d=u.target.value;e.test(d)||(u.target.value=d.replace(/[^a-zA-Z\s'’áéíóúàèìòùäëïöüñçÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÑÇ.]/g,""))}function r(u){let d=u.target.value;t.test(d)||(u.target.value=d.replace(/[<>&"'`]/g,"").trim())}function o(u){u.key==="Enter"||u.key==="Tab"||u.ctrlKey||u.metaKey||u.altKey||u.key.length>1||e.test(u.key)||u.preventDefault()}function i(u){u.key==="Enter"||u.key==="Tab"||u.ctrlKey||u.metaKey||u.altKey||u.key.length>1||t.test(u.key)||u.preventDefault()}[document.getElementById(P.PERSON1_INPUT),document.getElementById(P.PERSON2_INPUT)].filter(Boolean).forEach(u=>{u.addEventListener("input",n),u.addEventListener("keypress",o)}),document.querySelectorAll(".service .origin, .service .destination").forEach(u=>{u.addEventListener("input",r),u.addEventListener("keypress",i)});let a=document.getElementById(P.VEHICLE_INPUT);a&&a.addEventListener("input",u=>{u.target.value.length>ft.VEHICLE_MAX_LENGTH&&(u.target.value=u.target.value.slice(0,ft.VEHICLE_MAX_LENGTH))})}var yg=["3.6","3.51","3.22","3.11"],Vn={CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips"},qr={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group"},X={SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",SERVICE_COLORS:["service-1","service-2","service-3","service-4"],OPTIONS_MENU_HIDDEN:"hidden",CHIP_ACTIVE:"chip-active"},Sg=[".chip-group-title",".chip-group",".btn-ocr-inline",".section-divider"],Tg=[".destination",".destination-time"],Pc=!1,Hn=0,ne=[],br=[],xc=[],os=null,Kr=null,pt=null,Qr=null,_g=null,Ig=[],xt=[],mt=["","","",""];function Ng(){Kr&&(Kr.innerHTML="",br=ne.map((e,t)=>{let n=document.createElement("button");return n.className=`service-button ${X.SERVICE_COLORS[t]}`,n.textContent=`S${t+1}`,n.type="button",n.setAttribute("aria-label",`Mostrar servei ${t+1}`),n.addEventListener("click",()=>Ag(t)),Kr.appendChild(n),n}))}function Cg(){!pt||!Qr||(Qr.addEventListener("click",e=>{e.stopPropagation(),pt.classList.toggle(X.OPTIONS_MENU_HIDDEN)}),document.addEventListener("click",e=>{!Qr?.contains(e.target)&&!pt?.contains(e.target)&&pt.classList.add(X.OPTIONS_MENU_HIDDEN)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&pt&&pt.classList.add(X.OPTIONS_MENU_HIDDEN)}),pt.addEventListener("click",e=>{e.target.closest("button")&&pt.classList.add(X.OPTIONS_MENU_HIDDEN)}))}function Lg(e,t){let n=e.querySelector(t);return n?n.closest(qr.FORM_GROUP):null}function ci(e,t){if(!e)return;let n=t!=="3.6";Tg.forEach(o=>{Lg(e,o)?.classList.toggle(X.SERVICE_HIDDEN,n)});let r=e.querySelector(".origin");r&&(n?r.setAttribute("enterkeyhint","done"):r.removeAttribute("enterkeyhint"))}function Dg(e){_g&&Ig.forEach(t=>t.classList.toggle(X.CHIP_ACTIVE,t.dataset.mode===e))}function di(e,t){e.querySelectorAll(qr.CHIP).forEach(r=>r.classList.toggle(X.CHIP_ACTIVE,r.dataset.mode===t))}function wg(){ne.forEach((e,t)=>{e.querySelectorAll(qr.CHIP).forEach(r=>{r.addEventListener("click",()=>{let o=r.dataset.mode;if(!yg.includes(o)){console.error(`Intent de canviar a un mode inv\xE0lid: "${o}". Acci\xF3 bloquejada.`);return}if(xt[t]===o)return;xt[t]=o,di(e,o),ci(e,o);let i=e.querySelector(".chip-group");i&&(X.SERVICE_COLORS.forEach(l=>i.classList.remove(l)),i.classList.add(X.SERVICE_COLORS[t])),ht()})})})}function is(e){let t=X.SERVICE_COLORS[e],n=(r,o)=>{r&&(r.classList.remove(...X.SERVICE_COLORS),r.classList.add(o,t))};n(document.getElementById(Vn.CLEAR_BTN),"clear-selected-btn"),n(document.getElementById(Vn.CAMERA_BTN),"camera-btn"),n(document.getElementById("notes-selected-service"),"notes-btn"),n(Qr,"options-btn")}function kc(){if(!Pc&&(xc=document.querySelectorAll(qr.SERVICE_PANEL),os=document.getElementById(Vn.CONTAINER),Kr=document.getElementById(Vn.BUTTONS_CONTAINER),pt=document.getElementById(Vn.OPTIONS_MENU),Qr=document.getElementById(Vn.OPTIONS_TOGGLE_BTN),!(!os||!Kr)&&(ne=Array.from(os.querySelectorAll(qr.SERVICE_PANEL)),!!ne.length))){if(xt=ne.map(()=>"3.6"),Ng(),Cg(),wg(),ne.length>0&&br.length>0){ne.forEach((n,r)=>n.classList.toggle(X.SERVICE_HIDDEN,r!==0)),br[0].classList.add(X.BUTTON_ACTIVE);let e=xt[0];ci(ne[0],e),di(ne[0],e);let t=ne[0].querySelector(".chip-group");t&&t.classList.add(X.SERVICE_COLORS[0]),Dg(e),is(0)}Pc=!0}}function Ag(e){if(e<0||e>=ne.length||e===Hn)return;ne[Hn].classList.add(X.SERVICE_HIDDEN),ne[e].classList.remove(X.SERVICE_HIDDEN),br[Hn].classList.remove(X.BUTTON_ACTIVE),br[e].classList.add(X.BUTTON_ACTIVE),Hn=e;let t=xt[e];ci(ne[e],t),di(ne[e],t);let n=ne[e].querySelector(".chip-group");n&&(X.SERVICE_COLORS.forEach(r=>n.classList.remove(r)),n.classList.add(X.SERVICE_COLORS[e])),is(e)}var mn=()=>Hn,Mc=e=>{if(e>=0&&e<xt.length)return xt[e]};function Bc(e){e&&e.querySelectorAll("input, select, textarea").forEach(t=>{t.type==="checkbox"||t.type==="radio"?t.checked=!1:t.type!=="button"&&t.type!=="submit"&&t.type!=="reset"&&(t.value=""),t.tagName==="SELECT"&&(t.selectedIndex=0)})}function ls(){is(Hn)}function Uc(e,t){if(e<0||e>=ne.length)return;xt[e]=t;let n=ne[e];n&&(di(n,t),ci(n,t),ht())}function Gn(e){let t=e==="TSNU";xc.forEach(n=>{Sg.forEach(r=>{n.querySelector(r)?.classList.toggle(X.SERVICE_HIDDEN,t)})})}function Zr(e){e&&e.querySelectorAll(".input-error").forEach(t=>t.classList.remove("input-error"))}var fi=class{constructor({id:t="",date:n="",dietType:r="",vehicleNumber:o="",person1:i="",person2:l="",signatureConductor:s="",signatureAjudant:a="",services:u=[],serviceType:d="TSU",timeStampDiet:m=new Date().toISOString()}={}){this.id=String(t),this.date=String(n),this.dietType=String(r),this.vehicleNumber=String(o),this.person1=String(i),this.person2=String(l),this.signatureConductor=String(s),this.signatureAjudant=String(a),this.services=Array.isArray(u)?u:[],this.serviceType=String(d),this.timeStampDiet=String(m)}};function Og(){let e="dietSalt",t=(r=16)=>Array.from({length:r},()=>Math.floor(Math.random()*256).toString(16).padStart(2,"0")).join(""),n=localStorage.getItem(e);if(!n){if(window.crypto?.getRandomValues){let r=crypto.getRandomValues(new Uint8Array(16));n=Array.from(r).map(o=>o.toString(16).padStart(2,"0")).join("")}else console.warn("[pseudoId] crypto.getRandomValues no disponible; usant Math.random() (menys segur, nom\xE9s mode desenvolupament)."),n=t(16);localStorage.setItem(e,n)}return n}async function jn(e){if(!window.crypto?.subtle)return console.warn("[pseudoId] WebCrypto no disponible (context no segur). S\u2019usar\xE0 l\u2019ID en clar nom\xE9s en aquesta sessi\xF3."),e;let n=new TextEncoder().encode(Og()+e),r=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}var ss=new Intl.RelativeTimeFormat("es",{numeric:"auto"});function Fc(e){if(!(e instanceof Date)||isNaN(e.getTime()))throw new Error("La data proporcionada no \xE9s v\xE0lida.");let t=Date.now()-e.getTime();if(t<0)return"en el futuro";let n=Math.round(t/1e3);if(n<45)return"hace unos segundos";if(n<90)return"hace un minuto";let r=Math.round(n/60);if(r<60)return ss.format(-r,"minute");let o=Math.round(r/60);if(o<24)return ss.format(-o,"hour");let i=Math.round(o/24);return ss.format(-i,"day")}var Rg="DietasDB";var gt="dietas",zc="dateIndex",Fe=null;function Vc(){return new Promise((e,t)=>{let n=indexedDB.open(Rg,1);n.onupgradeneeded=r=>{let o=r.target.result,i;o.objectStoreNames.contains(gt)?i=r.target.transaction.objectStore(gt):i=o.createObjectStore(gt,{keyPath:"id"}),i.indexNames.contains(zc)||i.createIndex(zc,"date",{unique:!1})},n.onsuccess=r=>{Fe=r.target.result,Fe.onclose=()=>Fe=null,Fe.onerror=()=>Fe=null,Fe.onversionchange=()=>Fe.close(),e(Fe)},n.onerror=r=>t(r.target.error),n.onblocked=()=>t(new Error("IndexedDB bloquejat per una altra pestanya"))})}async function Jr(e="readonly"){return(Fe??(Fe=await Vc())).transaction(gt,e)}function eo(e,t){return new Promise((n,r)=>{e.onsuccess=o=>n(o.target.result),e.onerror=o=>r(new Error(`${t}: ${o.target.error}`))})}function as(e){return new Promise((t,n)=>{e.oncomplete=()=>t(),e.onerror=()=>n(e.error),e.onabort=()=>n(e.error)})}async function us(e){try{let t=await Jr("readwrite");return eo(t.objectStore(gt).add(e),"No s'ha pogut afegir"),await as(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function Hc(e){try{let t=await Jr("readwrite");return eo(t.objectStore(gt).put(e),"No s'ha pogut actualitzar"),await as(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function kt(e){if(!e)return;let t=await Jr();return eo(t.objectStore(gt).get(e),"Error obtenint dieta")}async function pi(){let e=await Jr();return eo(e.objectStore(gt).getAll(),"Error llistant dietes")}async function Gc(e){if(!e)return;let t=await Jr("readwrite");eo(t.objectStore(gt).delete(e),"Error eliminant dieta"),await as(t)}async function jc(){return Fe??(Fe=await Vc())}var Pg="save-pill",xg=".pill-text",Et={VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error"},$c=2e3;var Mt=null,cs=null,hn=null,to=null,kg=0,ds=!1;function Wc(){if(!Mt){if(Mt=document.getElementById(Pg),cs=Mt?.querySelector(xg),!Mt||!cs)throw new Error("Elements de la p\xEDndola no trobats al DOM.");Mt.setAttribute("role","status"),Mt.setAttribute("aria-live","polite")}return{pillEl:Mt,textEl:cs}}function fs(e,t){try{let{pillEl:n,textEl:r}=Wc();n.classList.add(Et.VISIBLE),n.classList.remove(Et.HAS_CHANGES,Et.SAVING,Et.HAS_SAVED,Et.ERROR),t&&n.classList.add(t),r.textContent=e.replace(/[<>&]/g,"")}catch(n){console.warn("[saveIndicator] Error mostrant p\xEDndola:",n)}}function mi(e="Guardando\u2026"){clearTimeout(to),fs(e,Et.SAVING)}function hi(){clearTimeout(to),ds=!1,kg=Date.now(),fs("Guardado",Et.HAS_SAVED),clearTimeout(hn),hn=setTimeout(ps,$c)}function no(e="No se pudo guardar"){clearTimeout(to),fs(e,Et.ERROR),clearTimeout(hn),hn=setTimeout(ps,$c*2)}function ps(e=!1){try{if(Wc(),clearTimeout(hn),ds&&!e)return;Mt?.classList.remove(Et.VISIBLE),hn=null}catch(t){console.warn("[saveIndicator] Error amagant p\xEDndola:",t)}}function $n(){ds=!1,clearTimeout(to),ps(!0)}window.addEventListener("pagehide",()=>{clearTimeout(hn),clearTimeout(to)});var Xc={[Xr.LUNCH]:"comida",[Xr.DINNER]:"cena",DEFAULT:"dieta"},gn={TOP_BAR:Ee.TOP_BAR_TAPS,FOOTER:Ee.FOOTER_TAPS,TIMEOUT:Ee.TIMEOUT,ANIMATION_DURATION:Ee.ANIMATION_DURATION};function Xn(e){if(!e)return;let t=document.body;if(!t)return;let n=t.dataset?.cspNonce||t.getAttribute("data-csp-nonce")||"";n&&!e.getAttribute("nonce")&&e.setAttribute("nonce",n)}function Yc(){let e=document.getElementById(P.DATE_INPUT);if(!e){console.warn("Utils: Input de data no trobat.");return}try{e.valueAsDate=new Date}catch(t){console.error("Error establint la data d'avui:",t)}}function Kc(e){return typeof e!="string"||!e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function Yn(e){return e?e.split(" ").map(t=>t.includes(".")?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):""}function ms(){let e=new Date().getHours();return e>=6&&e<18?Xr.LUNCH:Xr.DINNER}function Qc(){let e=document.getElementById(P.DIET_TYPE_SELECT);if(!e){console.warn("Utils: Select de tipus de dieta no trobat.");return}e.value=ms()}function hs(e,t){let n="Data inv\xE0lida";if(e&&/^\d{4}-\d{2}-\d{2}$/.test(e))try{let o=e.split("-"),i=o[0].slice(-2);n=`${o[2]}/${o[1]}/${i}`}catch(o){console.error("Error formatant data:",o)}let r=Xc[t]||Xc.DEFAULT;return{ddmmaa:n,franjaText:r}}var ie={topBarTaps:0,footerTaps:0,tapTimeoutId:null};function Wn(){ie.topBarTaps=0,ie.footerTaps=0,ie.tapTimeoutId&&(clearTimeout(ie.tapTimeoutId),ie.tapTimeoutId=null)}function Mg(){if(document.querySelector(P.EASTER_EGG_OVERLAY))return;let e=document.createElement("div");e.className=P.EASTER_EGG_OVERLAY.substring(1);let t=document.createElement("div");t.className=P.EASTER_EGG_ICON.substring(1),t.innerHTML='<img src="assets/icons/egg.svg" alt="Easter Egg">',e.appendChild(t),document.body.appendChild(e);let n=r=>{r.stopPropagation(),t.classList.add("clicked"),setTimeout(()=>e.remove(),gn.ANIMATION_DURATION)};e.addEventListener("click",n)}function qc(){let e=document.querySelector(P.TOP_BAR),t=document.querySelector(P.FOOTER);if(!e||!t){console.warn("Easter Egg: No s'han trobat top bar o footer.");return}e.addEventListener("touchend",n=>{n.changedTouches.length===1?(ie.topBarTaps++,ie.tapTimeoutId&&clearTimeout(ie.tapTimeoutId),ie.tapTimeoutId=setTimeout(Wn,gn.TIMEOUT),ie.topBarTaps>gn.TOP_BAR&&Wn()):Wn()}),t.addEventListener("touchend",n=>{ie.topBarTaps===gn.TOP_BAR&&n.changedTouches.length===1&&(ie.footerTaps++,ie.tapTimeoutId&&clearTimeout(ie.tapTimeoutId),ie.tapTimeoutId=setTimeout(Wn,gn.TIMEOUT),ie.footerTaps===gn.FOOTER?(Mg(),Wn()):ie.footerTaps>gn.FOOTER&&Wn())})}function ro(e,t){let n,r=function(...o){clearTimeout(n),n=setTimeout(()=>e.apply(this,o),t)};return r.cancel=()=>clearTimeout(n),r}var gs=Promise.resolve(),bc=!1;async function Bg(e,t,n){if(!e||!Array.isArray(t)||!n)throw new Error("Datos incompletos para construir la dieta.");if(!/^\d{9}$/.test(n))throw new Error("ID de dieta inv\xE1lido. Debe contener 9 d\xEDgitos.");for(let s of t)if(!ui(s.originTime)||!ui(s.destinationTime)||!ui(s.endTime))throw new Error("Formato de hora inv\xE1lido detectado. Use HH:mm.");let r=await jn(n),o=await kt(r),i=o?o.timeStampDiet:new Date().toISOString(),l={id:r,date:b(e.date),dietType:b(e.dietType),vehicleNumber:b(e.vehicleNumber),person1:b(e.person1),person2:b(e.person2),signatureConductor:e.signatureConductor,signatureAjudant:e.signatureAjudant,services:t.map(s=>({serviceNumber:b(s.serviceNumber),origin:b(s.origin),destination:b(s.destination),originTime:s.originTime,destinationTime:s.destinationTime,endTime:s.endTime,mode:b(s.mode),notes:b(s.notes)||""})),serviceType:b(e.serviceType),timeStampDiet:i};return new fi(l)}function Ug(){let e=document.getElementById(P.DADES_TAB),t=document.getElementById(P.SERVEIS_TAB);e?.classList.remove(Ee.ERROR_TAB),t?.classList.remove(Ee.ERROR_TAB);let n=si(),r=ai();if(n&&r)return!0;let o="";return!n&&!r?(o="Completa los campos obligatorios en Datos y Servicios.",e?.classList.add(Ee.ERROR_TAB),t?.classList.add(Ee.ERROR_TAB)):n?(o="Completa los campos obligatorios en la pesta\xF1a Servicios.",t?.classList.add(Ee.ERROR_TAB)):(o="Completa los campos obligatorios en la pesta\xF1a Datos.",e?.classList.add(Ee.ERROR_TAB)),A(o,"error"),!1}function Fg(e){if(!e)return;let t=o=>document.getElementById(o);t(P.DATE_INPUT).value=e.date||"",t(P.DIET_TYPE_SELECT).value=e.dietType||"",t(P.VEHICLE_INPUT).value=e.vehicleNumber||"",t(P.PERSON1_INPUT).value=e.person1||"",t(P.PERSON2_INPUT).value=e.person2||"";let n=t(P.SERVICE_TYPE_SELECT);n&&(n.value=e.serviceType||"TSU",Gn(n.value)),vi(e.signatureConductor||""),yi(e.signatureAjudant||"");let r=document.querySelectorAll(Nc);e.services.forEach((o,i)=>{let l=r[i];l&&(Object.entries(ts).forEach(([s,a])=>{if(!a)return;let u=l.querySelector(a);u&&(u.value=o[s]||"")}),Uc(i,o.mode||"3.6"),Zr(l),mt[i]=o.notes||"")});for(let o=e.services.length;o<r.length;o++){let i=r[o];i&&(Object.values(ts).forEach(l=>{if(!l)return;let s=i.querySelector(l);s&&(s.value="")}),Zr(i),mt[o]="")}}async function Zc(e){return gs=gs.then(async()=>{let{generalData:t,servicesData:n}=Si(),r=n[0]?.serviceNumber?.slice(0,9)||"";if(!r||!/^\d{9}$/.test(r)){e&&A("El primer servicio debe tener un N.\xBA de servicio v\xE1lido.","error");return}let o=await jn(r),i=await kt(o);e&&mi(!i?"Guardando nueva dieta\u2026":"Guardando\u2026"),Es(!1);try{if(await new Promise(u=>setTimeout(u,500)),!Ug()){e&&no("Validaci\xF3n fallida");return}let a=await Bg(t,n,r);i?await Hc(a):(await us(a),En(),$n()),e&&A("Dieta guardada correctament.","success"),oo=new Date,ys(),En(),hi(),e&&await Ei()}catch(a){console.error("Error en performSave:",a),no(a.message||"No se pudo guardar"),e&&A(`Error al guardar: ${a.message}`,"error")}finally{Es(!0),bc&&(bc=!1,setTimeout(()=>gi(),100))}}),gs}async function Jc(){rd(),await Zc(!0)}async function gi(){await Zc(!1)}async function ed(e){if(!e||typeof e!="string")throw new Error("ID inv\xE0lid");let t=e.length===64?await kt(e):await kt(await jn(e));if(!t)throw new Error(`Dieta no trobada: ${e}`);Fg(t),En(),t.timeStampDiet&&(oo=new Date(t.timeStampDiet),ys()),A("Dieta cargada correctamente.","success"),Ss()}async function vs(e,t,n){if(e)try{let r=await kt(e);if(!r){A("Error: Dieta no trobada","error");return}let i=(await pi()).sort((l,s)=>new Date(s.timeStampDiet)-new Date(l.timeStampDiet));r.index=i.findIndex(l=>l.id===e),await Gc(e),A("Dieta eliminada","success",5e3,{priority:2,queueable:!1,undoCallback:async()=>{await us(r),nd(r),A("Dieta restaurada","success",3e3,{priority:0})},onExpire:()=>{td(e)}}),En(),$n()}catch(r){console.error("Error en deleteDietHandler:",r),A("Error al eliminar la dieta","error")}}var oo=null;function ys(){let e=document.getElementById("last-saved");e&&(e.textContent=oo?Fc(oo):"")}setInterval(()=>{oo&&ys()},6e4);var Ae={IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount"},ld=2,od=10,vn=null,Ts=null,_s=null,yn=null,id=!1,Is=(e,t=0)=>parseInt(localStorage.getItem(e)||String(t),10),Ns=e=>localStorage.getItem(e)==="true",Sn=(e,t)=>localStorage.setItem(e,String(t));function sd(){let e=window.matchMedia("(display-mode: standalone)").matches,t=window.navigator.standalone===!0;return e||t||Ns(Ae.IS_INSTALLED)}function zg(e=!1){if(console.log("[PWA] Intentant mostrar el b\xE0ner d'instal\xB7laci\xF3..."),sd()){console.log("[PWA] Bloquejat: L'app ja est\xE0 instal\xB7lada.");return}if(Ns(Ae.NEVER_SHOW_AGAIN)){console.log("[PWA] Bloquejat: L'usuari ha demanat no tornar a mostrar.");return}if(!vn){console.log("[PWA] Bloquejat: No hi ha cap event d'instal\xB7laci\xF3 guardat.");return}if(!yn){console.log("[PWA] Bloquejat: L'element HTML del b\xE0ner no s'ha trobat.");return}console.log("%c[PWA] Mostrant el b\xE0ner!","color: green; font-weight: bold;"),yn.classList.add("visible"),yn.classList.remove("hidden")}function ad(){console.log("[PWA] Amagant el b\xE0ner."),yn?.classList.remove("visible"),yn?.classList.add("hidden")}function Vg(){console.log("[PWA] L'usuari ha descartat el b\xE0ner."),ad();let e=Is(Ae.PROMPT_DISMISSED_COUNT);e++,Sn(Ae.PROMPT_DISMISSED_COUNT,e),console.log(`[PWA] Comptador de descartats actualitzat a: ${e}`),e>=ld&&(Sn(Ae.NEVER_SHOW_AGAIN,!0),console.log("%c[PWA] S'ha assolit el l\xEDmit de descartats. No es tornar\xE0 a mostrar.","color: orange;"))}async function Hg(){if(console.log("[PWA] L'usuari ha fet clic a 'Instal\xB7lar'."),!vn){console.warn("[PWA] El bot\xF3 d'instal\xB7lar s'ha premut, per\xF2 no hi havia cap event guardat.");return}ad();try{vn.prompt();let{outcome:e}=await vn.userChoice;console.log(`[PWA] Resultat de la decisi\xF3 de l'usuari: ${e}`),e==="accepted"?(Sn(Ae.IS_INSTALLED,!0),Sn(Ae.NEVER_SHOW_AGAIN,!0),console.log("%c[PWA] L'usuari ha acceptat la instal\xB7laci\xF3! :)","color: green; font-weight: bold;")):console.log("[PWA] L'usuari ha rebutjat la instal\xB7laci\xF3 des del di\xE0leg del navegador.")}catch(e){console.error("[PWA] Error durant el proc\xE9s de prompt d'instal\xB7laci\xF3:",e)}finally{vn=null}}function Gg(e){e.preventDefault(),vn=e,console.log("%c[PWA] Event 'beforeinstallprompt' capturat i guardat.","color: blue;")}function ud(){id||(console.log("[PWA] Inicialitzant el gestor d'instal\xB7laci\xF3..."),yn=document.getElementById("install-prompt"),Ts=document.getElementById("install-button"),_s=document.getElementById("dismiss-button"),yn&&Ts&&_s?(Ts.addEventListener("click",Hg),_s.addEventListener("click",Vg),console.log("[PWA] Botons del b\xE0ner d'instal\xB7laci\xF3 configurats.")):console.warn("[PWA] No s'han trobat tots els elements del b\xE0ner d'instal\xB7laci\xF3."),window.addEventListener("beforeinstallprompt",Gg),window.matchMedia("(display-mode: standalone)").addEventListener("change",e=>{e.matches&&(console.log("[PWA] Detectat canvi a mode 'standalone'. Marcat com instal\xB7lat."),Sn(Ae.IS_INSTALLED,!0),Sn(Ae.NEVER_SHOW_AGAIN,!0))}),id=!0,console.log("[PWA] Gestor d'instal\xB7laci\xF3 inicialitzat correctament."))}function cd(){if(console.log("------------------------------------------"),console.log("[PWA] Comprovant si s'ha de mostrar el b\xE0ner despr\xE9s d'una acci\xF3..."),sd()){console.log("[PWA Check] No es mostra: L'app ja est\xE0 instal\xB7lada.");return}if(Ns(Ae.NEVER_SHOW_AGAIN)){console.log("[PWA Check] No es mostra: L'usuari ha demanat no tornar a veure'l.");return}if(!vn){console.log("[PWA Check] No es mostra: El navegador no ha ofert la possibilitat d'instal\xB7lar (deferredPrompt \xE9s nul).");return}let e=Is(Ae.ACTION_TRIGGER_COUNT);e++,Sn(Ae.ACTION_TRIGGER_COUNT,e),console.log(`[PWA] Comptador d'accions incrementat a: ${e}`);let t=Is(Ae.PROMPT_DISMISSED_COUNT);console.log(`[PWA] Vegades que s'ha descartat el b\xE0ner: ${t}`);let n=e===1&&t===0||e>=od&&t<ld;console.log(`[PWA] Es compleixen les condicions per mostrar? ${n}`),n?(setTimeout(()=>zg(),1500),e>=od):console.log("[PWA] No es mostra el b\xE0ner aquesta vegada."),console.log("------------------------------------------")}var dd=!1;async function fd(){if(dd)return;let e=document.createElement("script");return Xn(e),e.src="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js",new Promise((t,n)=>{e.onload=()=>{dd=!0,t()},e.onerror=n,document.head.appendChild(e)})}var Kn={OUTER_MARGIN:55,INNER_PADDING:10},Ti={DADES_TAB:"tab-dades",SERVEIS_TAB:"tab-serveis"},Bt={ERROR_TAB:"error-tab"},vt={TEMPLATE_URLS:{DEFAULT:"./dieta.pdf"},SERVICE_Y_OFFSET:82,SIGNATURE_WIDTH:100,SIGNATURE_HEIGHT:50,WATERMARK_TEXT:"misdietas.com",DEFAULT_FILENAME:"dieta.pdf",SERVICE_NUMBER_COLOR:"#004aad",MODE_PREFIX_TEXT_COLOR:"#8B0000",MAX_SIGNATURE_NAME_LENGTH:31},O={general:{date:{x:155,y:732,size:16,color:"#000000"},vehicleNumber:{x:441,y:732,size:16,color:"#000000"},person1:{x:65,y:368,size:16,color:"#000000"},person2:{x:310,y:368,size:16,color:"#000000"}},service:{serviceNumber:{x:130,y:715,size:16,color:"#000000"},origin:{x:232,y:698,size:16,color:"#000000"},originTime:{x:441,y:698,size:16,color:"#000000"},destination:{x:232,y:683,size:16,color:"#000000"},destinationTime:{x:441,y:681,size:16,color:"#000000"},endTimeNormal:{x:441,y:665,size:16,color:"#000000"},endTimeModeText:{x:390,y:665,size:16,color:vt.MODE_PREFIX_TEXT_COLOR},endTimeValueWhenPrefixed:{x:441,y:665,size:16,color:"#000000"}},signature:{conductor:{x:125,y:295,width:100,height:50},ayudante:{x:380,y:295,width:100,height:50}},notesSection:{title:{x:65,y:250,size:16,color:"#000000"},lineHeight:18,maxWidth:465,start:{x:65,y:230,size:16,color:"#333333"}},fixedText:{website:{x:250,y:20,size:6,color:"#EEEEEE"}}};function jg(e){return!e||typeof e!="string"||e.trim()===""?"":e.split(/\s+/).filter(Boolean).map(t=>t.includes("-")?t.split("-").map(n=>n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():"").join("-"):t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function $g(e){if(!e||typeof e!="string")return{r:0,g:0,b:0};let t=e.replace("#","");if(t.length!==6)return{r:0,g:0,b:0};let n=parseInt(t,16);return isNaN(n)?{r:0,g:0,b:0}:{r:n>>16&255,g:n>>8&255,b:n&255}}function Cs(e){if(!e||!/^\d{4}-\d{2}-\d{2}$/.test(e))return"";let[t,n,r]=e.split("-");return`${r}/${n}/${t}`}function Wg(){return vt.TEMPLATE_URLS.DEFAULT}function Xg(e,t){let n=document.getElementById(Ti.DADES_TAB),r=document.getElementById(Ti.SERVEIS_TAB);n?.classList.remove(Bt.ERROR_TAB),r?.classList.remove(Bt.ERROR_TAB);let o="";!e&&!t?(o="Completa els camps obligatoris a Dades i Serveis.",n?.classList.add(Bt.ERROR_TAB),r?.classList.add(Bt.ERROR_TAB)):e?(o="Completa els camps obligatoris a Serveis.",r?.classList.add(Bt.ERROR_TAB)):(o="Completa els camps obligatoris a Dades.",n?.classList.add(Bt.ERROR_TAB)),o&&A(o,"error")}function pd(e,t){let n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(()=>URL.revokeObjectURL(n),500)}async function md(e,t){if(!e||!Array.isArray(t))throw new Error("Dades inv\xE0lides.");if(!window.PDFLib)throw new Error("PDFLib no carregada.");let{PDFDocument:n,StandardFonts:r,rgb:o}=window.PDFLib,i=Wg(),l=await fetch(i).then(y=>y.arrayBuffer()),s=await n.load(l),a=await s.embedFont(r.Helvetica),u=s.getPages()[0],d=y=>{let{r:N,g:L,b:D}=$g(y);return o(N/255,L/255,D/255)};Object.entries(O.general).forEach(([y,N])=>{let L=e[y]||"";y==="date"&&(L=Cs(L)),y==="vehicleNumber"&&(L=L.toUpperCase()),(y==="person1"||y==="person2")&&(L=jg(L),L.length>vt.MAX_SIGNATURE_NAME_LENGTH&&(L=L.slice(0,vt.MAX_SIGNATURE_NAME_LENGTH-3)+"...")),u.drawText(L,{...N,font:a,color:d(N.color)})}),t.forEach((y,N)=>{let L=N*vt.SERVICE_Y_OFFSET,D=y.mode||"3.6";u.drawText(y.serviceNumber||"",{...O.service.serviceNumber,y:O.service.serviceNumber.y-L,font:a,color:d(vt.SERVICE_NUMBER_COLOR)}),u.drawText(y.origin||"",{...O.service.origin,y:O.service.origin.y-L,font:a,color:d(O.service.origin.color)}),u.drawText(y.originTime||"",{...O.service.originTime,y:O.service.originTime.y-L,font:a,color:d(O.service.originTime.color)}),D==="3.6"&&(u.drawText(y.destination||"",{...O.service.destination,y:O.service.destination.y-L,font:a,color:d(O.service.destination.color)}),u.drawText(y.destinationTime||"",{...O.service.destinationTime,y:O.service.destinationTime.y-L,font:a,color:d(O.service.destinationTime.color)}));let ge=(y.endTime||"").trim();D!=="3.6"&&ge?(u.drawText(D,{...O.service.endTimeModeText,y:O.service.endTimeModeText.y-L,font:a,color:d(O.service.endTimeModeText.color)}),u.drawText(ge,{...O.service.endTimeValueWhenPrefixed,y:O.service.endTimeValueWhenPrefixed.y-L,font:a,color:d(O.service.endTimeValueWhenPrefixed.color)})):u.drawText(ge,{...O.service.endTimeNormal,y:O.service.endTimeNormal.y-L,font:a,color:d(O.service.endTimeNormal.color)})});let m=async(y,N)=>{if(typeof y=="string"&&y.startsWith("data:image/png;base64,")&&y.length>22)try{let D=await s.embedPng(y);u.drawImage(D,{...N})}catch(D){console.warn(`No s'ha pogut incrustar una signatura. Error: ${D.message}`)}};await Promise.all([m(e.signatureConductor,O.signature.conductor),m(e.signatureAjudant,O.signature.ayudante)]);let h=u.getWidth(),v=Kn.OUTER_MARGIN+Kn.INNER_PADDING,S=h-(Kn.OUTER_MARGIN+Kn.INNER_PADDING),T=t.map(y=>({num:y.serviceNumber||"",text:(y.notes||"").trim()})).filter(y=>y.num&&y.text);if(T.length){u.drawLine({start:{x:Kn.OUTER_MARGIN,y:275},end:{x:h-Kn.OUTER_MARGIN,y:275},thickness:.5,color:o(.8,.8,.8)});let N=T.length===1?"Observaci\xF3":"Observacions";u.drawText(N,{...O.notesSection.title,font:a,color:d(O.notesSection.title.color)});let L=O.notesSection.start.y,D=O.notesSection.start.size,ge=O.notesSection.lineHeight,Jl=d(O.notesSection.start.color);T.forEach(({num:rg,text:og})=>{if(L<40)return;let Sc=`Servei ${rg}: `;u.drawText(Sc,{x:v,y:L,font:a,size:D,color:d(vt.SERVICE_NUMBER_COLOR)});let ig=a.widthOfTextAtSize(Sc,D),li=v+ig;og.split(" ").forEach(es=>{if(!es)return;let Tc=a.widthOfTextAtSize(es+" ",D);li+Tc>S&&(L-=ge,li=v),u.drawText(es+" ",{x:li,y:L,font:a,size:D,color:Jl}),li+=Tc}),L-=ge*1.5})}let z=vt.WATERMARK_TEXT,f=O.fixedText.website.size,c=a.widthOfTextAtSize(z,f);u.drawText(z,{x:(u.getWidth()-c)/2,y:O.fixedText.website.y,size:f,font:a,color:d(O.fixedText.website.color)});let p=Cs(e.date)||"Dieta",I=`Dieta ${e.dietType==="lunch"?"Comida":e.dietType==="dinner"?"Cena":""} ${p}`.trim().replace(/ +/g," ");s.setTitle(I),s.setAuthor("misdietas.com"),s.setSubject("Justificante de dieta de transporte sanitario"),s.setCreator("MisDietas"),s.setKeywords(["dieta","justificante","transporte sanitario","tsu","tsnu"]);let C=new Date(e.date);return isNaN(C.getTime())||(s.setCreationDate(C),s.setModificationDate(C)),await s.save({permissions:{modifying:!1,copying:!1}})}function hd(e,t){let n=Cs(e).replace(/\//g,"_")||"";return n?`${t==="lunch"?"dieta_comida":t==="dinner"?"dieta_cena":"dieta"}_${n}.pdf`:vt.DEFAULT_FILENAME}async function gd(){let e=si(),t=ai();if(!e||!t){Xg(e,t);return}document.getElementById(Ti.DADES_TAB)?.classList.remove(Bt.ERROR_TAB),document.getElementById(Ti.SERVEIS_TAB)?.classList.remove(Bt.ERROR_TAB);try{let{generalData:n,servicesData:r}=Si();if(!n||!r)throw new Error("Dades no recollides.");await fd();let o=await md(n,r),i=hd(n.date,n.dietType);pd(new Blob([o],{type:"application/pdf"}),i),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from main form"}),A("Desc\xE0rrega iniciada correctament.","success"),cd()}catch(n){A(`Error en la generaci\xF3 del PDF: ${n.message||"Desconegut"}`,"error")}}async function Ed(e){if(!e){A("ID de dieta inv\xE1lido.","error");return}try{let t=e.length===64?e:await jn(e),n=await kt(t);if(!n)throw new Error("Dieta no encontrada.");let r={date:n.date||"",dietType:n.dietType||"",vehicleNumber:n.vehicleNumber||"",person1:n.person1||"",person2:n.person2||"",serviceType:n.serviceType||"TSU",signatureConductor:n.signatureConductor||"",signatureAjudant:n.signatureAjudant||""},o=n.services.map(s=>({serviceNumber:s.serviceNumber||"",origin:s.origin||"",originTime:s.originTime||"",destination:s.destination||"",destinationTime:s.destinationTime||"",endTime:s.endTime||"",mode:s.mode||"3.6",notes:s.notes||""}));await fd();let i=await md(r,o),l=hd(r.date,r.dietType);pd(new Blob([i],{type:"application/pdf"}),l),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from saved list"}),A("Descarga iniciada correctamente.","success")}catch(t){console.error("Error en downloadDietPDF:",t),A(`Error en la generaci\xF3n del PDF: ${t.message||"Desconocido"}`,"error")}}var vd="dotacions_v2",Z={MODAL:"dotacio-modal",OPTIONS_CONTAINER:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2"},Ke={MODAL_OPEN:"modal-open",INPUT_ERROR:"input-error",HIDDEN:"hidden"},Qn={PERSON_INPUT_GROUP:".input-with-icon",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete"},yd={INDEX:"data-index"},Yg=180,Ls=class{constructor(){this.savedDotacions=[],this.dotacioModalElement=null,this.optionsContainerElement=null,this.dotacioTemplateElement=null,this.noDotacioTextElement=null,this.isInitialized=!1}init(){if(this.isInitialized)return;this.dotacioModalElement=document.getElementById(Z.MODAL),this.optionsContainerElement=document.getElementById(Z.OPTIONS_CONTAINER),this.dotacioTemplateElement=document.getElementById(Z.TEMPLATE),this.noDotacioTextElement=document.getElementById(Z.NO_DOTACIO_TEXT);let t=document.getElementById(Z.ADD_BTN),n=document.getElementById(Z.OPEN_MODAL_BTN),r=document.getElementById(Z.CLOSE_MODAL_BTN);if(!this.dotacioModalElement||!this.optionsContainerElement||!this.dotacioTemplateElement||!t||!n||!r)return;this.loadDotacionsFromStorage(),t.addEventListener("click",this.addDotacioFromMainForm.bind(this)),n.addEventListener("click",this.openDotacioModal.bind(this)),r.addEventListener("click",this.closeDotacioModal.bind(this)),this.dotacioModalElement.addEventListener("click",i=>{i.target===this.dotacioModalElement&&this.closeDotacioModal()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&this.dotacioModalElement.style.display==="block"&&this.closeDotacioModal()}),this.optionsContainerElement.addEventListener("click",this.handleOptionsClick.bind(this)),[Z.VEHICLE_INPUT,Z.PERSON1_INPUT,Z.PERSON2_INPUT].forEach(i=>{let l=document.getElementById(i);l?.addEventListener("input",()=>{let s=l.closest(Qn.PERSON_INPUT_GROUP);s?s.classList.remove(Ke.INPUT_ERROR):l.classList.remove(Ke.INPUT_ERROR)})}),this.isInitialized=!0}loadDotacionsFromStorage(){try{let t=localStorage.getItem(vd);this.savedDotacions=t?JSON.parse(t):[],Array.isArray(this.savedDotacions)||(this.savedDotacions=[])}catch{this.savedDotacions=[]}}saveDotacionsToStorage(){try{localStorage.setItem(vd,JSON.stringify(this.savedDotacions))}catch{A("No se han podido guardar las dotaciones.","error")}}openDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="block",this.dotacioModalElement.style.pointerEvents="auto",document.body.classList.add(Ke.MODAL_OPEN),document.body.style.setProperty("pointer-events","none"),this.displayDotacioOptions())}closeDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="none",this.dotacioModalElement.style.pointerEvents="",document.body.classList.remove(Ke.MODAL_OPEN),document.body.style.removeProperty("pointer-events"),document.getElementById(Z.OPEN_MODAL_BTN)?.focus())}displayDotacioOptions(){!this.optionsContainerElement||!this.dotacioTemplateElement||(this.optionsContainerElement.innerHTML="",this.savedDotacions.length===0?(this.noDotacioTextElement?.classList.remove(Ke.HIDDEN),this.optionsContainerElement.classList.add(Ke.HIDDEN)):(this.noDotacioTextElement?.classList.add(Ke.HIDDEN),this.optionsContainerElement.classList.remove(Ke.HIDDEN),this.savedDotacions.forEach((t,n)=>{let r=this.dotacioTemplateElement.content.cloneNode(!0),o=r.querySelector(Qn.DOTACIO_INFO),i=r.querySelector(Qn.LOAD_BTN),l=r.firstElementChild,s=`${t.numero}-${t.conductor}-${t.ajudant}`.replace(/\s/g,"");l.setAttribute("data-dotacio-id",s),o&&(o.textContent=this.formatDotacioListText(t)),i&&i.setAttribute(yd.INDEX,n),this.optionsContainerElement.appendChild(r),ws(l,s),Ds(l,s)})))}formatDotacioListText(t){let n=t.numero||"S/N",r=Yn(t.conductor||""),o=Yn(t.ajudant||""),i=`${r} / ${o}`;r||o?i=` - ${i}`:i="";let l=`${n}${i}`;if(this.measureTextWidth(l)>Yg){let a=t.conductor?this.shortenPersonName(t.conductor):"",u=t.ajudant?this.shortenPersonName(t.ajudant):"",d=`${a} / ${u}`;a||u?d=` - ${d}`:d="",l=`${n}${d}`}return l}shortenPersonName(t){if(!t||typeof t!="string")return"";let n=t.trim().split(/\s+/).filter(s=>s.length>0);if(n.length===0)return"";if(n.length===1)return Yn(n[0]);let r=new Set(["de","la","del","el","los","las","von","van","d'","es","da","dels","i","y"]),o=n.filter(s=>!r.has(s.toLowerCase()));if(o.length===0)return Yn(n[0]);let i=Yn(o[0]),l=o.slice(1).map(s=>s.charAt(0).toUpperCase()+".").join(" ");return`${i} ${l}`}measureTextWidth(t){let n=document.createElement("span");n.style.visibility="hidden",n.style.whiteSpace="nowrap",n.style.fontSize=getComputedStyle(document.body).fontSize,n.style.fontFamily=getComputedStyle(document.body).fontFamily,n.textContent=t,document.body.appendChild(n);let r=n.offsetWidth;return document.body.removeChild(n),r}loadDotacionByIndex(t){if(t<0||t>=this.savedDotacions.length)return;let n=this.savedDotacions[t];this.clearDotacionInputErrors(),document.getElementById(Z.VEHICLE_INPUT).value=n.numero||"",document.getElementById(Z.PERSON1_INPUT).value=n.conductor||"",document.getElementById(Z.PERSON2_INPUT).value=n.ajudant||"",vi(n.firmaConductor||""),yi(n.firmaAjudant||""),A(`Dotaci\xF3n ${n.numero} cargada.`,"success"),this.closeDotacioModal()}async handleDeleteById(t){let n=this.savedDotacions.findIndex(i=>`${i.numero}-${i.conductor}-${i.ajudant}`.replace(/\s/g,"")===t);if(n===-1){console.warn("Se intent\xF3 eliminar una dotaci\xF3n que ya no existe:",t);return}let o={...this.savedDotacions[n],originalIndex:n};this.savedDotacions.splice(n,1),this.saveDotacionsToStorage(),io(),A("Dotaci\xF3n eliminada.","success",5e3,{queueable:!1,undoCallback:()=>{this.savedDotacions.splice(o.originalIndex,0,o),this.saveDotacionsToStorage(),Sd(o),A("Dotaci\xF3n restaurada.","success")}})}handleOptionsClick(t){let r=t.target.closest(Qn.LOAD_BTN);if(r){t.stopPropagation();let o=parseInt(r.getAttribute(yd.INDEX),10);isNaN(o)||this.loadDotacionByIndex(o)}}getDotacionInputValues(){let t=document.getElementById(Z.VEHICLE_INPUT),n=document.getElementById(Z.PERSON1_INPUT),r=document.getElementById(Z.PERSON2_INPUT);return{vehiculo:t?.value.trim()||"",conductor:n?.value.trim()||"",ayudante:r?.value.trim()||""}}findExistingDotacionIndex(t,n,r){let o=t.toLowerCase(),i=n.toLowerCase(),l=r.toLowerCase();return this.savedDotacions.findIndex(s=>s.numero.toLowerCase()===o&&s.conductor.toLowerCase()===i&&s.ajudant.toLowerCase()===l)}addDotacioFromMainForm(){if(!Oc())return;let{vehiculo:t,conductor:n,ayudante:r}=this.getDotacionInputValues(),o=_i(),i=Ii(),l=this.findExistingDotacionIndex(t,n,r),s={numero:t,conductor:n,ajudant:r,firmaConductor:o,firmaAjudant:i};l!==-1?(this.savedDotacions[l]=s,A(`Dotaci\xF3n ${t} actualizada.`,"success")):(this.savedDotacions.push(s),A(`Dotaci\xF3n ${t} creada.`,"success")),this.saveDotacionsToStorage()}clearDotacionInputErrors(){let t=document.getElementById(Z.VEHICLE_INPUT),n=document.getElementById(Z.PERSON1_INPUT),r=document.getElementById(Z.PERSON2_INPUT),o=n?.closest(Qn.PERSON_INPUT_GROUP),i=r?.closest(Qn.PERSON_INPUT_GROUP);t?.classList.remove(Ke.INPUT_ERROR),o?.classList.remove(Ke.INPUT_ERROR),i?.classList.remove(Ke.INPUT_ERROR)}},qn=new Ls;var k={MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_DELETE_BTN:"diet-delete",DIET_LOAD_BTN:"diet-load",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal"},Oe={DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",SIGNATURE_MODAL:"signature-modal",DOTACIO_MODAL:"dotacio-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal"},Ni={MODAL:".modal",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Ut={DIET_ID:"data-diet-id",DIET_DATE:"data-diet-date",DIET_TYPE:"data-diet-type"},Zn=null,V=null,ze=null,As=null,Kg=null,Qg=null,qg=null,bg=null;var bn=null,Jn=null,er=null,ce=null;function Td(e){if(!e||ce&&ce.id!==e.id&&e.id!==Oe.CONFIRM_MODAL)return;ce||(bn=document.activeElement),ce=e,e.style.display="block",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",document.body.classList.add(k.MODAL_OPEN_BODY),Cd(),tr(!1),document.body.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","auto"),e.addEventListener("touchstart",n=>{n.target===e&&(n.preventDefault(),n.stopPropagation())},{passive:!1}),Jn||(Jn=n=>{n.target===ce&&(ce.id===Oe.CONFIRM_MODAL?_handleConfirmNo():Ci())},document.addEventListener("click",Jn,!0)),er||(er=n=>{n.key==="Escape"&&ce&&(ce.id===Oe.CONFIRM_MODAL?_handleConfirmNo():Ci())},document.addEventListener("keydown",er,!0)),e.querySelector(Ni.FOCUSABLE_ELEMENTS)?.focus()}function Ci(){if(!ce)return;Jn&&(document.removeEventListener("click",Jn,!0),Jn=null),er&&(document.removeEventListener("keydown",er,!0),er=null),ce.style.display="none";let e=ce.id===Oe.CONFIRM_MODAL;ce=null;let t=document.querySelector('.modal[style*="display: block"]');t||(document.body.classList.remove(k.MODAL_OPEN_BODY),tr(!0),Ld(),document.body.style.removeProperty("pointer-events")),!e&&bn?(bn.focus(),bn=null):t||(bn?.focus(),bn=null)}function Zg(e){if(!e)return"";let t=new Date(e);if(isNaN(t.getTime()))return"";let n=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0");return`${n}:${r}`}function _d(e){let t=e.services&&e.services.length>0?e.services[0].serviceNumber:"?????????",{ddmmaa:n,franjaText:r}=hs(e.date,e.dietType),o=Zg(e.timeStampDiet),i=document.createElement("div");i.className=k.DIET_ITEM;let l=document.createElement("div");l.className="diet-item-content";let s=document.createElement("span");s.className=k.DIET_DATE;let a=n;o&&(a+=` [${o}]`),a+=` - ${Kc(r)}`,s.textContent=a;let u=document.createElement("div");u.className=k.DIET_ICONS;let d=document.createElement("div");d.className="delete-reveal",d.innerHTML='<img src="assets/icons/delete.svg" alt="Eliminar" class="icon">';let m=document.createElement("button");m.className=`${k.LIST_ITEM_BTN} ${k.LIST_ITEM_BTN_LOAD} ${k.DIET_LOAD_BTN}`,m.setAttribute("aria-label",`Editar dieta ${n}`),m.innerHTML='<img src="assets/icons/ic_edit.svg" alt="" class="icon"><span class="btn-text visually-hidden">Editar</span>',m.setAttribute(Ut.DIET_ID,t),m.setAttribute(Ut.DIET_DATE,e.date),m.setAttribute(Ut.DIET_TYPE,e.dietType);let h=document.createElement("button");return h.className=`${k.LIST_ITEM_BTN} diet-download`,h.setAttribute("aria-label",`Descarregar PDF de la dieta ${n}`),h.innerHTML='<img src="assets/icons/download_blue.svg" alt="" class="icon"><span class="btn-text visually-hidden">PDF</span>',h.setAttribute(Ut.DIET_ID,t),u.appendChild(m),u.appendChild(h),l.appendChild(s),l.appendChild(u),i.appendChild(l),i.appendChild(d),i}async function Jg(e){let t=e.target,n=t.closest(`.${k.DIET_LOAD_BTN}`),r=t.closest(".diet-download");if(n){e.stopPropagation();let o=n.getAttribute(Ut.DIET_ID),i=n.getAttribute(Ut.DIET_DATE),l=n.getAttribute(Ut.DIET_TYPE);if(!o||!i||!l)return;let{ddmmaa:s,franjaText:a}=hs(i,l);try{await ed(o)}catch(u){console.error("Error en carregar la dieta:",u)}}else if(r){e.stopPropagation();let o=r.getAttribute(Ut.DIET_ID);o&&Ed(o)}}function td(e){if(!V)return;let t=V.querySelector(`[data-diet-id="${e}"]`)?.closest(".diet-item");if(!t)return;let n=V.scrollHeight+"px";V.style.height=n,t.remove(),requestAnimationFrame(()=>{V.style.height=V.scrollHeight+"px"}),Li()}function Id(){As=document.getElementById(Oe.CONFIRM_MODAL),As&&(Kg=document.getElementById(Oe.CONFIRM_MESSAGE),Qg=As.querySelector(Oe.CONFIRM_TITLE),qg=document.getElementById(Oe.CONFIRM_YES_BTN),bg=document.getElementById(Oe.CONFIRM_NO_BTN)),document.querySelectorAll(Ni.MODAL_TRIGGER).forEach(t=>{let n=t.getAttribute("href")?.substring(1);if(!n)return;let r=document.getElementById(n);r&&r.matches(Ni.MODAL)&&(t.addEventListener("click",i=>{i.preventDefault(),Td(r)}),r.querySelectorAll(Ni.MODAL_CLOSE_BTN).forEach(i=>{i.addEventListener("click",()=>Ci())}))})}function Os(){if(!Zn){Zn=document.getElementById(Oe.DIET_MODAL),V=document.getElementById(Oe.DIET_OPTIONS_LIST),ze=document.getElementById(Oe.NO_DIETS_TEXT);let e=document.getElementById("close-diet-modal");e&&e.addEventListener("click",Ss),V&&V.addEventListener("click",Jg)}Zn&&(Td(Zn),Ei())}function Ss(){ce&&ce.id===Oe.DIET_MODAL&&Ci()}async function Ei(){if(!(!V||!ze)){V.innerHTML="";try{let e=await pi();e.length===0?(V.classList.add(k.HIDDEN),ze.classList.remove(k.HIDDEN),ze.textContent="No hay dietas guardadas."):(V.classList.remove(k.HIDDEN),ze.classList.add(k.HIDDEN),e.sort((t,n)=>new Date(n.timeStampDiet)-new Date(t.timeStampDiet)),e.forEach((t,n)=>{let r=_d(t);r.setAttribute("data-index",n),V.appendChild(r),Nd(r,t.id,t.date,t.dietType)}))}catch{V.classList.add(k.HIDDEN),ze.classList.remove(k.HIDDEN),ze.textContent="Error al cargar las dietas."}}}function Li(){console.log("Actualitzant visibilitat: children.length =",V.children.length),V.children.length===0?(V.classList.add(k.HIDDEN),ze.classList.remove(k.HIDDEN),ze.textContent="No hay dietas guardadas."):(V.classList.remove(k.HIDDEN),ze.classList.add(k.HIDDEN))}function eE(e,t,n,r){let o=0,i=0,l=!1;e.addEventListener("mousedown",s=>{s.target.closest("button")||s.target.closest(".diet-icons")||(o=s.clientX,i=o,l=!1)}),document.addEventListener("mousemove",s=>{i=s.clientX;let a=o-i;a>10&&!l&&(l=!0,e.classList.add(k.DIET_ITEM_SWIPING)),l&&a>10&&(e.style.transform=`translateX(-${Math.min(a,80)}px)`,s.preventDefault())}),document.addEventListener("mouseup",async s=>{if(!l)return;l=!1;let a=o-i;e.classList.remove(k.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",a>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),Li(),await vs(t,n,r)},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function Nd(e,t,n,r){let o=0,i=0,l=!1;e.addEventListener("touchstart",s=>{s.target.closest("button")||s.target.closest(".diet-icons")||(o=s.touches[0].clientX,i=o,l=!1,s.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",s=>{i=s.touches[0].clientX;let a=o-i;a>10&&!l&&(l=!0,e.classList.add(k.DIET_ITEM_SWIPING),Zn.style.overflow="hidden"),l&&a>10&&(e.style.transform=`translateX(-${Math.min(a,80)}px)`,s.preventDefault(),s.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async s=>{if(!l)return;l=!1;let a=o-i;e.classList.remove(k.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",a>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),Li(),await vs(t,n,r)},300)):(e.style.transform="translateX(0)",e.style.opacity="1",Zn.style.overflow=""),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),s.stopPropagation()}),eE(e,t,n,r)}function Ds(e,t){let n=0,r=0,o=!1;e.addEventListener("mousedown",i=>{i.target.closest("button")||i.target.closest(".button-container")||(n=i.clientX,r=n,o=!1)}),document.addEventListener("mousemove",i=>{r=i.clientX;let l=n-r;l>10&&!o&&(o=!0,e.classList.add("swiping")),o&&l>10&&(e.style.transform=`translateX(-${Math.min(l,80)}px)`,i.preventDefault())}),document.addEventListener("mouseup",async i=>{if(!o)return;o=!1;let l=n-r;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",l>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await qn.handleDeleteById(t),e.remove(),io()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function ws(e,t){let n=0,r=0,o=!1;e.addEventListener("touchstart",i=>{i.target.closest("button")||(n=i.touches[0].clientX,r=n,o=!1,i.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",i=>{r=i.touches[0].clientX;let l=n-r;l>10&&!o&&(o=!0,e.classList.add("swiping")),o&&l>10&&(e.style.transform=`translateX(-${Math.min(l,80)}px)`,i.preventDefault(),i.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async i=>{if(!o)return;o=!1;let l=n-r;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",l>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await qn.handleDeleteById(t),e.remove(),io()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),i.stopPropagation()})}function nd(e){if(!V||!ze){Ei();return}let t=e.index||0,n=_d(e);n.style.opacity="0",n.style.transform="translateX(-100%)";let r=V.children[t];r?V.insertBefore(n,r):V.appendChild(n),requestAnimationFrame(()=>{n.style.transition="opacity 0.5s ease, transform 0.5s ease",n.style.opacity="1",n.style.transform="translateX(0)",Nd(n,e.id,e.date,e.dietType)}),Li(),V.classList.remove(k.HIDDEN),ze.classList.add(k.HIDDEN)}function io(){let e=document.getElementById("dotacio-options"),t=document.getElementById("no-dotacio-text");e.children.length===0?(e.classList.add("hidden"),t.classList.remove("hidden"),t.innerHTML='No hay dotaciones, guarde abans: <img src="assets/icons/save_green.svg" alt="Guardar" class="save-icon" />'):(e.classList.remove("hidden"),t.classList.add("hidden"))}function tE(e,t){let n=document.getElementById("dotacio-template");if(!n)return null;let r=n.content.cloneNode(!0),o=r.firstElementChild,i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");o.setAttribute("data-dotacio-id",i);let l=r.querySelector(".dotacio-info"),s=r.querySelector(".dotacio-load");if(l){let a=[e.conductor,e.ajudant].filter(Boolean).join(" / ");l.textContent=a?`${e.numero} - ${a}`:e.numero}return s&&s.setAttribute("data-index",String(t)),o}function Sd(e){let t=document.getElementById("dotacio-options");if(!t){qn.displayDotacioOptions();return}let n=e.originalIndex,r=tE(e,n);if(!r)return;r.style.opacity="0",r.style.transform="translateX(-100%)";let o=t.children[n];o?t.insertBefore(r,o):t.appendChild(r),requestAnimationFrame(()=>{r.style.transition="opacity 0.5s ease, transform 0.5s ease",r.style.opacity="1",r.style.transform="translateX(0)";let i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");ws(r,i),Ds(r,i)}),io()}var ve={DADES:"dades",SERVEIS:"serveis"},yt={TAB_DADES:`tab-${ve.DADES}`,TAB_SERVEIS:`tab-${ve.SERVEIS}`,CONTENT_DADES:`${ve.DADES}-tab-content`,CONTENT_SERVEIS:`${ve.SERVEIS}-tab-content`,MAIN_CONTENT_AREA:"main-content"},nr={ACTIVE_TAB:"active",ERROR_TAB:"error-tab"},Dd={MIN_DISTANCE:60,MAX_VERTICAL_RATIO:.5},rr=ve.DADES,Di=0,Rs=0,Ps=!0,Ft=null,Tn=null;function wd(){let e=document.getElementById(yt.TAB_DADES),t=document.getElementById(yt.TAB_SERVEIS);!e||!t||(e.addEventListener("click",()=>lo(ve.DADES)),t.addEventListener("click",()=>lo(ve.SERVEIS)),nE(),lo(rr))}function tr(e){Ps=!!e}function lo(e){if(rr===e&&document.scrollingElement.scrollTop!==0){window.scrollTo({top:0,behavior:"smooth"});return}if(rr===e||e!==ve.DADES&&e!==ve.SERVEIS)return;window.scrollTo({top:0,behavior:"auto"}),rr=e;let t=document.getElementById(yt.TAB_DADES),n=document.getElementById(yt.TAB_SERVEIS),r=document.getElementById(yt.CONTENT_DADES),o=document.getElementById(yt.CONTENT_SERVEIS);if(!t||!n||!r||!o)return;t.classList.remove(nr.ERROR_TAB),n.classList.remove(nr.ERROR_TAB);let i=e===ve.DADES;t.classList.toggle(nr.ACTIVE_TAB,i),n.classList.toggle(nr.ACTIVE_TAB,!i),r.classList.toggle(nr.ACTIVE_TAB,i),o.classList.toggle(nr.ACTIVE_TAB,!i),t.setAttribute("aria-selected",i?"true":"false"),n.setAttribute("aria-selected",i?"false":"true"),e===ve.SERVEIS&&typeof ls=="function"&&ls()}function nE(){let e=document.getElementById(yt.MAIN_CONTENT_AREA);e&&(Ft=Ad,Tn=Od,e.addEventListener("touchstart",Ft,{passive:!0}),e.addEventListener("touchend",Tn,{passive:!0}))}function Cd(){let e=document.getElementById(yt.MAIN_CONTENT_AREA);!e||!Ft||!Tn||(e.removeEventListener("touchstart",Ft,{passive:!0}),e.removeEventListener("touchend",Tn,{passive:!0}),Ft=null,Tn=null)}function Ld(){let e=document.getElementById(yt.MAIN_CONTENT_AREA);e&&(Ft||(Ft=Ad,Tn=Od,e.addEventListener("touchstart",Ft,{passive:!0}),e.addEventListener("touchend",Tn,{passive:!0})))}function Ad(e){if(!Ps||ce)return;let t=e.touches[0];Di=t.clientX,Rs=t.clientY}function Od(e){if(!Ps||Di===0||!e.changedTouches||e.changedTouches.length===0)return;let t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY,r=t-Di,o=n-Rs;Di=0,Rs=0,!(Math.abs(o)>Math.abs(r)*Dd.MAX_VERTICAL_RATIO)&&Math.abs(r)>Dd.MIN_DISTANCE&&(r>0?rr===ve.SERVEIS&&lo(ve.DADES):rr===ve.DADES&&lo(ve.SERVEIS))}var zt={MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title"},xs={MODAL_OPEN:"modal-open",SIGNED:"signed"},Vt={LINE_WIDTH:2,LINE_CAP:"round",STROKE_STYLE:"#000000",IMAGE_FORMAT:"image/png",DOUBLE_CLICK_TIMEOUT:300,DOUBLE_TAP_TIMEOUT:300,DOUBLE_TAP_MAX_DIST:20},Rd={SIGNATURE_PENDING:"assets/icons/signature.svg",SIGNATURE_OK:"assets/icons/signature_ok.svg"},Pd={PERSON1:"Firma del conductor",PERSON2:"Firma del ayudante"},ks=class{constructor(){this.signatureConductor="",this.signatureAjudant="",this.currentSignatureTarget=null,this.isDrawing=!1,this.canvasContext=null,this.signatureCanvasElement=null,this.signatureModalElement=null,this.signPerson1Button=null,this.signPerson2Button=null,this.hasUserDrawn=!1,this.lastTouchTime=0,this.lastTouchX=0,this.lastTouchY=0,this.clickCount=0,this.clickTimer=null}init(){this.signatureModalElement=document.getElementById(zt.MODAL),this.signatureCanvasElement=document.getElementById(zt.CANVAS);let t=document.getElementById(zt.CANCEL_BTN),n=document.getElementById(zt.ACCEPT_BTN);this.signPerson1Button=document.getElementById(zt.SIGN_PERSON1_BTN),this.signPerson2Button=document.getElementById(zt.SIGN_PERSON2_BTN),!(!this.signatureModalElement||!this.signatureCanvasElement||!t||!n||!this.signPerson1Button||!this.signPerson2Button)&&(this.resizeCanvas(),this.initCanvasEvents(),t.addEventListener("click",this.closeSignatureModal.bind(this)),n.addEventListener("click",this.acceptSignature.bind(this)),this.signPerson1Button.addEventListener("click",()=>this.openSignatureModal("person1")),this.signPerson2Button.addEventListener("click",()=>this.openSignatureModal("person2")),this.signatureModalElement.addEventListener("click",r=>{r.target===this.signatureModalElement&&this.closeSignatureModal()}),window.addEventListener("resize",this.debounce(this.resizeCanvas.bind(this),150)),document.addEventListener("keydown",r=>{r.key==="Escape"&&this.signatureModalElement.style.display==="block"&&this.closeSignatureModal()}),this.updateSignatureIcons())}debounce(t,n){let r;return(...o)=>{clearTimeout(r),r=setTimeout(()=>t.apply(this,o),n)}}resizeCanvas(){if(!this.signatureCanvasElement||!this.signatureCanvasElement.parentElement)return;let t=this.signatureCanvasElement.parentElement;this.canvasContext||(this.canvasContext=this.signatureCanvasElement.getContext("2d",{willReadFrequently:!0})),this.canvasContext&&(this.signatureCanvasElement.width=t.offsetWidth,this.signatureCanvasElement.height=t.offsetHeight,this.canvasContext.lineWidth=Vt.LINE_WIDTH,this.canvasContext.lineCap=Vt.LINE_CAP,this.canvasContext.strokeStyle=Vt.STROKE_STYLE)}clearCanvas(){!this.canvasContext||!this.signatureCanvasElement||(this.canvasContext.clearRect(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),this.hasUserDrawn=!1)}getEventCoordinates(t){if(!this.signatureCanvasElement)return{x:0,y:0};let n=this.signatureCanvasElement.getBoundingClientRect(),r,o;return t.touches&&t.touches.length>0?(r=t.touches[0].clientX,o=t.touches[0].clientY):(r=t.clientX,o=t.clientY),{x:r-n.left,y:o-n.top}}startDrawing(t){if(!this.canvasContext)return;this.isDrawing=!0,this.hasUserDrawn=!0,this.canvasContext.beginPath();let{x:n,y:r}=this.getEventCoordinates(t);this.canvasContext.moveTo(n,r)}draw(t){if(!this.isDrawing||!this.canvasContext)return;t.preventDefault();let{x:n,y:r}=this.getEventCoordinates(t);this.canvasContext.lineTo(n,r),this.canvasContext.stroke()}stopDrawing(){!this.isDrawing||!this.canvasContext||(this.isDrawing=!1)}handleCanvasClick(t){this.clickCount++,this.clickCount===1?this.clickTimer=setTimeout(()=>this.clickCount=0,Vt.DOUBLE_CLICK_TIMEOUT):this.clickCount===2&&(clearTimeout(this.clickTimer),this.clickCount=0,t.preventDefault(),this.clearCanvas())}handleCanvasTouchEnd(t){if(t.touches.length>0)return;let n=Date.now(),r=t.changedTouches[0];if(!r)return;let{x:o,y:i}=this.getEventCoordinates({clientX:r.clientX,clientY:r.clientY}),l=n-this.lastTouchTime,s=Math.abs(o-this.lastTouchX),a=Math.abs(i-this.lastTouchY);l<Vt.DOUBLE_TAP_TIMEOUT&&s<Vt.DOUBLE_TAP_MAX_DIST&&a<Vt.DOUBLE_TAP_MAX_DIST?(t.preventDefault(),this.clearCanvas(),this.lastTouchTime=0):(this.lastTouchTime=n,this.lastTouchX=o,this.lastTouchY=i)}initCanvasEvents(){this.signatureCanvasElement&&(this.signatureCanvasElement.addEventListener("mousedown",this.startDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mousemove",this.draw.bind(this)),this.signatureCanvasElement.addEventListener("mouseup",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mouseout",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("click",this.handleCanvasClick.bind(this)),this.signatureCanvasElement.addEventListener("touchstart",this.startDrawing.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchmove",this.draw.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchend",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchcancel",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchend",this.handleCanvasTouchEnd.bind(this),{passive:!1}))}openSignatureModal(t){if(!this.signatureModalElement||!this.canvasContext)return;tr(!1),this.currentSignatureTarget=t;let n=document.getElementById(zt.TITLE);n&&(n.textContent=t==="person1"?Pd.PERSON1:Pd.PERSON2),this.signatureModalElement.style.display="block",document.body.classList.add(xs.MODAL_OPEN),this.resizeCanvas(),this.clearCanvas();let r=t==="person1"?this.signatureConductor:this.signatureAjudant;r&&this.drawSignatureFromDataUrl(r),document.getElementById(zt.ACCEPT_BTN)?.focus()}closeSignatureModal(){this.signatureModalElement&&(tr(!0),this.signatureModalElement.style.display="none",document.body.classList.remove(xs.MODAL_OPEN),this.currentSignatureTarget=null,(this.currentSignatureTarget==="person1"?this.signPerson1Button:this.signPerson2Button)?.focus())}isCanvasEmpty(){if(!this.canvasContext||!this.signatureCanvasElement)return!0;try{return!new Uint32Array(this.canvasContext.getImageData(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height).data.buffer).some(n=>n!==0)}catch{return!1}}acceptSignature(){if(!this.canvasContext||!this.signatureCanvasElement||!this.currentSignatureTarget)return;let t=this.isCanvasEmpty(),n=t?"":this.signatureCanvasElement.toDataURL(Vt.IMAGE_FORMAT),r=null;this.currentSignatureTarget==="person1"?(this.signatureConductor=n,r=this.signPerson1Button):this.currentSignatureTarget==="person2"&&(this.signatureAjudant=n,r=this.signPerson2Button),this.updateSignatureUI(r,!t),this.closeSignatureModal(),ht()}drawSignatureFromDataUrl(t){if(!this.canvasContext||!t)return;let n=new Image;n.onload=()=>this.canvasContext.drawImage(n,0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),n.onerror=()=>{},n.src=t}updateSignatureUI(t,n){if(!t)return;let r=t.querySelector(".icon");r&&(t.classList.toggle(xs.SIGNED,n),r.src=n?Rd.SIGNATURE_OK:Rd.SIGNATURE_PENDING)}updateSignatureIcons(){this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor),this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}getSignatureConductor(){return this.signatureConductor}getSignatureAjudant(){return this.signatureAjudant}setSignatureConductor(t){this.signatureConductor=t||"",this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor)}setSignatureAjudant(t){this.signatureAjudant=t||"",this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}},so=new ks,xd=()=>so.init(),_i=()=>so.getSignatureConductor(),Ii=()=>so.getSignatureAjudant(),vi=e=>so.setSignatureConductor(e),yi=e=>so.setSignatureAjudant(e);var rE=".service",kd="main-content",Qe={DATE:"date",DIET_TYPE:"diet-type",VEHICLE:"vehicle-number",P1:"person1",P2:"person2",SERVICE_TYPE:"service-type",SAVE_BTN:"save-diet"},oE="userSelectedServiceType",iE={serviceNumber:".service-number",origin:".origin",originTime:".origin-time",destination:".destination",destinationTime:".destination-time",endTime:".end-time"},lE="chip-active",sE=800,aE=1e3,uE=300,Ms=class{constructor(){this.initialFormDataStr="",this.saveStart=0,this.debouncedAutoSave=ro(this.triggerAutoSave.bind(this),aE),this.debouncedHandler=ro(this.handleInputChange.bind(this),sE)}isFormReadyForSave(){try{let t=!!document.getElementById(Qe.DATE)?.value.trim(),n=!!document.getElementById(Qe.DIET_TYPE)?.value.trim(),r=document.getElementById("service-number-1")?.value.trim(),o=/^\d{9}$/.test(r);return t&&n&&o}catch(t){return console.warn("[FormService] Error validant formulari:",t),!1}}hasPendingChanges(){return JSON.stringify(this.getFormDataObject()||{})!==this.initialFormDataStr}getFormDataObject(){try{let t={date:b(document.getElementById(Qe.DATE)?.value),dietType:b(document.getElementById(Qe.DIET_TYPE)?.value||ms()),vehicleNumber:b(document.getElementById(Qe.VEHICLE)?.value),person1:b(document.getElementById(Qe.P1)?.value),person2:b(document.getElementById(Qe.P2)?.value),serviceType:b(document.getElementById(Qe.SERVICE_TYPE)?.value||"TSU"),signatureConductor:_i(),signatureAjudant:Ii()},n=Array.from(document.querySelectorAll(rE)).map((r,o)=>{let i={};for(let[s,a]of Object.entries(iE)){if(!a){i[s]="";continue}i[s]=b(r.querySelector(a)?.value)}let l=r.querySelector(`.chip.${lE}`);return i.mode=l?.dataset.mode||"3.6",i.notes=mt[o]||"",i});return{generalData:t,servicesData:n}}catch(t){return console.error("[FormService] Error recollint dades:",t),null}}async triggerAutoSave(){if(!(!this.isFormReadyForSave()||!this.hasPendingChanges()))try{this.saveStart=Date.now(),mi(),await gi();let t=Date.now()-this.saveStart;setTimeout(hi,Math.max(0,uE-t)),this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{})}catch(t){console.warn("[Autosave skipped]",t?.message||"Error desconegut"),no("Revisa dades de Serveis")}}captureInitialFormState(){this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{}),this.handleFormChange()}setSaveButtonState(t){let n=document.getElementById(Qe.SAVE_BTN);n&&(n.disabled=!t,n.setAttribute("aria-disabled",t?"false":"true"),n.classList.toggle("is-disabled",!t))}handleFormChange(){if(this.debouncedAutoSave.cancel(),!this.hasPendingChanges()){this.setSaveButtonState(!1),$n();return}this.isFormReadyForSave()?(this.setSaveButtonState(!0),this.debouncedAutoSave()):(this.setSaveButtonState(!1),$n())}handleInputChange(){this.handleFormChange()}addInputListeners(){let t=document.getElementById(kd);if(!t)return;t.addEventListener("input",this.debouncedHandler),t.addEventListener("change",this.debouncedHandler),t.addEventListener("blur",r=>{r.target.matches("input, select, textarea")&&(this.handleFormChange(),this.isFormReadyForSave()&&this.hasPendingChanges()&&(this.debouncedAutoSave.cancel(),this.triggerAutoSave()))},!0);let n=document.getElementById(Qe.DATE);n?.addEventListener("change",()=>{n.blur(),this.debouncedHandler()}),window.addEventListener("beforeunload",()=>{this.debouncedAutoSave.cancel(),this.isFormReadyForSave()&&gi()})}addServiceTypeListener(){let t=document.getElementById(Qe.SERVICE_TYPE);t&&t.addEventListener("change",n=>{let r=n.target.value.trim();Gn(r);try{localStorage.setItem(oE,r)}catch(o){console.error("No s\u2019ha pogut desar tipus servei",o)}})}cancelPendingAutoSave(){this.debouncedAutoSave.cancel()}addDoneBehavior(){document.getElementById(kd)?.addEventListener("keydown",n=>{n.key==="Enter"&&n.target.matches('input[enterkeyhint="done"]')&&(n.preventDefault(),n.target.blur())})}gatherAllData(){return this.getFormDataObject()}getInitialFormDataStr(){return this.initialFormDataStr}},Ht=new Ms,En=()=>Ht.captureInitialFormState(),Es=e=>Ht.setSaveButtonState(e),ht=()=>Ht.handleFormChange(),Md=()=>Ht.addInputListeners(),Bd=()=>Ht.addServiceTypeListener(),rd=()=>Ht.cancelPendingAutoSave(),Ud=()=>Ht.addDoneBehavior(),Si=()=>Ht.gatherAllData();var Fd="onboardingCompleted";function zd(){let e=document.getElementById("onboarding-container");if(!e)return;if(!JSON.parse(localStorage.getItem(Fd)||"false"))e.classList.remove("hidden");else return;window.addEventListener("load",()=>{e.classList.add("onboarding-loaded")});let n=document.querySelectorAll(".onboarding-slide"),r=document.querySelectorAll(".nav-dot"),o=document.getElementById("onboarding-finish-btn"),i=document.getElementById("onboarding-skip-btn"),l=0;function s(m){n.forEach((h,v)=>{h.classList.toggle("active",v===m)}),r.forEach((h,v)=>{h.classList.toggle("active",v===m)})}function a(){l<n.length-1&&(l++,s(l),navigator.vibrate&&navigator.vibrate(10))}function u(){e.classList.add("hidden"),localStorage.setItem(Fd,JSON.stringify(!0)),navigator.vibrate&&navigator.vibrate([50,50,50])}e.addEventListener("click",m=>{m.target.closest("button, a, .nav-dot")||a()});let d=0;e.addEventListener("touchstart",m=>{d=m.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",m=>{m.changedTouches[0].screenX<d-50&&a()}),o.addEventListener("click",u),i.addEventListener("click",u)}var Bs={TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text"},Vd={DARK_THEME:"theme-dark"},Us="themePreference",Ve={LIGHT:"light",DARK:"dark"},Hd={LIGHT:"assets/icons/moon.svg",DARK:"assets/icons/sun.svg"},Gd={LIGHT:"#004aad",DARK:"#343a40"},Fs=class{constructor(){this.themeToggleButton=null,this.themeIconElement=null,this.themeTextElement=null,this.bodyElement=null,this.systemDarkMatcher=null}init(){if(this.themeToggleButton=document.getElementById(Bs.TOGGLE_BTN),this.themeIconElement=document.getElementById(Bs.THEME_ICON),this.themeTextElement=document.getElementById(Bs.THEME_TEXT),this.bodyElement=document.body,!this.themeToggleButton||!this.themeIconElement||!this.themeTextElement||!this.bodyElement){console.warn("Faltan elementos del DOM para el gestor de temas.");return}let t,n=localStorage.getItem(Us);n&&(n===Ve.LIGHT||n===Ve.DARK)?t=n:(this.systemDarkMatcher=window.matchMedia("(prefers-color-scheme: dark)"),t=this.systemDarkMatcher.matches?Ve.DARK:Ve.LIGHT,this.systemDarkMatcher.addEventListener("change",this._handleSystemThemeChange.bind(this))),this._applyTheme(t,!1),this.themeToggleButton.addEventListener("click",this._handleThemeToggle.bind(this))}_updateThemeColorMeta(t){let n=document.querySelector('meta[name="theme-color"]');n&&(n.content=t)}_applyTheme(t,n=!1){let r=t===Ve.DARK;this.bodyElement.classList.toggle(Vd.DARK_THEME,r),this.themeIconElement.src=r?Hd.DARK:Hd.LIGHT,this.themeTextElement.textContent=r?"Claro":"Oscuro",this.themeIconElement.alt=r?"Cambiar a tema claro":"Cambiar a tema oscuro",this._updateThemeColorMeta(r?Gd.DARK:Gd.LIGHT),n&&localStorage.setItem(Us,t)}_handleThemeToggle(){let n=(this.bodyElement.classList.contains(Vd.DARK_THEME)?Ve.DARK:Ve.LIGHT)===Ve.DARK?Ve.LIGHT:Ve.DARK;this._applyTheme(n,!0)}_handleSystemThemeChange(t){if(!localStorage.getItem(Us)){let n=t.matches?Ve.DARK:Ve.LIGHT;this._applyTheme(n,!1)}}},dE=new Fs,jd=()=>dE.init();var zs={GENERATE_PDF:".generate-pdf",SAVE_DIET:"#save-diet",MANAGE_DIETS:"#manage-diets"};function $d(){let e=document.querySelector(zs.GENERATE_PDF);e&&e.addEventListener("click",gd);let t=document.getElementById(zs.SAVE_DIET.substring(1));t&&t.addEventListener("click",Jc);let n=document.getElementById(zs.MANAGE_DIETS.substring(1));n&&typeof Os=="function"&&n.addEventListener("click",Os)}var Wd="clear-selected-service",fE=".service";function Xd(){let e=document.getElementById(Wd);if(!e){console.warn(`Clear Service: Bot\xF3 amb ID '${Wd}' no trobat.`);return}e.addEventListener("click",()=>{let t=mn(),n=document.querySelectorAll(fE);if(t>=0&&t<n.length){let r=n[t],o=r.querySelectorAll('input:not([type="button"]):not([type="submit"]), select, textarea');o.forEach(i=>{i.value!==""&&i.classList.add("field-clearing")}),setTimeout(()=>{Bc(r),Zr(r),ht(),o.forEach(i=>{i.classList.remove("field-clearing")}),console.log(`Servei ${t+1} netejat amb efecte visual.`)},600)}else console.warn(`Clear Service: \xCDndex de servei inv\xE0lid (${t}) o element no trobat.`)}),console.log("Funcionalitat 'Netejar Servei Seleccionat' configurada.")}function Yd(){document.querySelectorAll('input[type="date"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}function Kd(){document.querySelectorAll('input[type="time"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}var Qd=ro(A,Ic.DEBOUNCE_TOAST);function pE(e){return/^\d*$/.test(e)}function qd(){let e=document.querySelectorAll(Fn.SERVICE_NUMBER_INPUT);if(!e.length){console.warn("Restrictions: No se han encontrado inputs '.service-number'.");return}e.forEach(t=>{t.dataset.restrictionsSetup!=="true"&&(t.dataset.restrictionsSetup="true",t.addEventListener("keypress",n=>{n.key==="Enter"||n.key==="Tab"||n.ctrlKey||n.metaKey||n.altKey||n.key.length>1||/\d/.test(n.key)||(n.preventDefault(),Qd(ns.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}),t.addEventListener("paste",n=>{try{let r=(n.clipboardData||window.clipboardData)?.getData("text")||"";pE(r)||(n.preventDefault(),Qd(ns.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}catch(r){console.error("Error procesando 'paste':",r),n.preventDefault()}}))})}var bd={SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel"},or={PANEL_VISIBLE:"visible",BUTTON_OPEN:"open"},St=null,Tt=null,Zd=!1;function mE(e){e.stopPropagation();let t=Tt.classList.toggle(or.PANEL_VISIBLE);St.classList.toggle(or.BUTTON_OPEN,t),St.setAttribute("aria-expanded",t),t&&Tt.querySelector("button")?.focus()}function hE(e){Tt.classList.contains(or.PANEL_VISIBLE)&&!Tt.contains(e.target)&&!St.contains(e.target)&&Vs()}function gE(e){e.key==="Escape"&&Tt.classList.contains(or.PANEL_VISIBLE)&&(Vs(),St.focus())}function Vs(){Tt.classList.remove(or.PANEL_VISIBLE),St.classList.remove(or.BUTTON_OPEN),St.setAttribute("aria-expanded","false")}function Jd(){Zd||(St=document.getElementById(bd.SETTINGS_BTN),Tt=document.getElementById(bd.SETTINGS_PANEL),!(!St||!Tt)&&(St.addEventListener("click",mE),document.addEventListener("click",hE),document.addEventListener("keydown",gE),Tt.querySelectorAll("button").forEach(e=>{e.addEventListener("click",Vs)}),Zd=!0))}var EE={SERVICE_BUTTONS:".service-button:not(.active-square)",OPTIONS_BTN:"#options-toggle",TABS:".tab:not(.active)"},vE="disabled-control";function Hs(e=!0){document.querySelectorAll(Object.values(EE).join(", ")).forEach(n=>{n&&(n.classList.toggle(vE,e),n.setAttribute("aria-disabled",e?"true":"false"),n.disabled=e)})}var kh=Wr(uo()),Mh=Wr(sc());var q=Wr(uo());function ac({imageUrl:e=null,isProcessing:t=!1,progress:n=0,status:r="idle",statusText:o="Reconociendo texto",onClose:i=null}){let l=(0,q.useRef)(null),[s,a]=(0,q.useState)(0),[u,d]=(0,q.useState)("");if((0,q.useEffect)(()=>{let S=setTimeout(()=>{a(n)},50);return()=>clearTimeout(S)},[n]),(0,q.useEffect)(()=>{if(r!=="processing"){d("");return}d(".");let S=setInterval(()=>{d(T=>T.length>=3?".":`${T}.`)},500);return()=>clearInterval(S)},[r]),console.log("\u{1F50D} OCR State:",{status:r,imageUrl:!!e,isProcessing:t,progress:n}),r==="error"||r==="idle")return console.log("\u{1F6AB} Component NO renderitza - status:",r),null;if(!(!!e&&t||!!e&&(r==="done"||r==="warning")))return null;let h=o?.replace(/\s+\d{1,3}%/,"").replace(/\.{2,}$/,"").trim()||"Reconociendo texto",v=r==="processing"?`${h}${u}`:o;return q.default.createElement("div",{className:"ocr-feedback-overlay",role:"dialog","aria-live":"polite","aria-atomic":"false","aria-label":"OCR en progreso"},q.default.createElement("div",{className:"ocr-feedback-container",ref:l},e&&q.default.createElement("div",{className:"ocr-image-preview fade-in"},q.default.createElement("img",{src:e,alt:"Imagen capturada para OCR",className:"ocr-captured-image",loading:"eager"})),(t||r==="done"||r==="error"||r==="warning")&&q.default.createElement("div",{className:"ocr-progress-section fade-in"},q.default.createElement("div",{className:"ocr-progress-bar-container"},q.default.createElement("div",{className:"ocr-progress-bar-track"},q.default.createElement("div",{className:"ocr-progress-bar-fill",style:{width:`${s}%`},role:"progressbar","aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":"100"},q.default.createElement("div",{className:"ocr-progress-shine"}))),q.default.createElement("span",{className:"ocr-progress-percentage"},r==="error"?"":`${Math.round(s)}%`)),q.default.createElement("div",{className:`ocr-status-line ${r}`},v?.split(`
`).map((S,T)=>q.default.createElement("div",{key:T},S))||""))))}var Br="Reconociendo texto",Mr={done:"\u2713 Texto reconocido correctamente",warning:"Revisa la informaci\xF3n detectada",error:"Error al escanear. Imagen no v\xE1lida"},ql=(e,t=Br)=>e&&e.replace(/\d{1,3}%/g,"").replace(/\.\.+$/g,"").split(`
`).map(i=>i.replace(/\s+/g," ").trim()).join(`
`)||t;function uc(e="ocr-feedback-root"){let t=document.getElementById(e);t||(t=document.createElement("div"),t.id=e,document.body.appendChild(t));let n=null,r=null,o={imageUrl:null,isProcessing:!1,progress:0,status:"idle",statusText:Br},i=()=>{n||(n=Mh.default.createRoot(t)),n.render(kh.default.createElement(ac,{imageUrl:o.imageUrl,isProcessing:o.isProcessing,progress:o.progress,status:o.status,statusText:o.statusText,onClose:()=>s.reset()}))},l=()=>{r&&(clearTimeout(r),r=null)},s={start(a){l(),o.imageUrl&&o.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(o.imageUrl),a instanceof File||a instanceof Blob?o.imageUrl=URL.createObjectURL(a):typeof a=="string"?o.imageUrl=a:o.imageUrl=null,o.isProcessing=!0,o.progress=0,o.status="processing",o.statusText=Br,i()},update(a,u=null,d="info"){l(),o.progress=Math.min(100,Math.max(0,a));let m=u!==null?ql(u):null;if(d==="error"){o.status="error",o.statusText=m||Mr.error||Br,o.isProcessing=!1,o.progress=Math.max(o.progress,100),i(),r=setTimeout(()=>{s.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3);return}if(d==="warning"){o.status="warning",o.statusText=m||o.statusText,o.isProcessing=!0,i();return}if(d==="success"){s.complete(m||Mr.done,"done");return}o.status="processing",m?o.statusText=m:o.statusText||(o.statusText=Br),o.isProcessing=!0,i()},addMessage(a,u="info"){if(u==="error"){s.error(a);return}if(u==="success"){s.complete(a||Mr.done,"done");return}o.status=u==="warning"?"warning":"processing",o.statusText=ql(a),o.isProcessing=!0,i()},complete(a=null,u="done"){l(),o.progress=100;let d=["done","warning","error"].includes(u)?u:"done";o.status=d;let m=Mr[d]||Mr.done;o.statusText=ql(a,m),o.isProcessing=!1,i(),r=setTimeout(()=>{s.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"done"}}))},2500)},error(a="No se reconoci\xF3 texto"){l(),o.status="error",o.statusText=ql(a,Mr.error),o.isProcessing=!1,o.progress=100,i(),r=setTimeout(()=>{s.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3)},reset(){l(),o.imageUrl&&o.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(o.imageUrl),o.imageUrl=null,o.isProcessing=!1,o.progress=0,o.status="idle",o.statusText=Br,i()},getState(){return{...o}},isProcessing(){return o.isProcessing}};return s}var Ur=null;function ni(){return Ur||(Ur=uc()),Ur}function Bh(){Ur&&(Ur.reset(),Ur=null)}var By="spa",Uy=1,Fy="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ:/-\xC0\xC9\xCD\xD3\xDA\xC8\xD2\xC0\xDC\xCF\xC7\xD1",cc=1500,Gh=.95,jh="image/png",zy=10,Vy=300;var Hy={load_system_dawg:"0",load_freq_dawg:"0"},Gy={tessedit_char_whitelist:Fy,tessedit_pageseg_mode:6},Fr={CAMERA_BTN:"camera-in-dropdown",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline"},cn={VISIBLE:"visible",HIDDEN:"hidden",SERVICE_COLORS:["service-1","service-2","service-3","service-4"]},jy={ORIGIN_TIME:{id:"originTime",label:"Hora movilizaci\xF3n",fieldIdSuffix:"origin-time",lineKeywordRegex:/movilizaci|mobilitzat|desplaza/i},DESTINATION_TIME:{id:"destinationTime",label:"Hora de llegada hospital",fieldIdSuffix:"destination-time",lineKeywordRegex:/arribada|hospital|aaah/i},END_TIME:{id:"endTime",label:"Hora Final",fieldIdSuffix:"end-time",valueRegex:/\d{2}\s*\/?\s*\d{2}\s*\/?\s*\d{2}\s+(\d{1,2}:\d{2}(?::\d{2})?)/i}},Ue=null,dn=null,bl=null,dc=null,Ie=null,fc=!1,Uh=!1,Fh=!1,zh=0,dt=null,zr=0;function $y(e){if(!e)return"";let t=e.replace(/[^\d:\-]/g,"");t=t.replace(/-/g,":");let n=t.match(/^(\d{1,2}):(\d{2})(?::\d{2})?$/);if(n){let r=parseInt(n[1],10),o=parseInt(n[2],10);if(r>=0&&r<=23&&o>=0&&o<=59)return`${String(r).padStart(2,"0")}:${String(o).padStart(2,"0")}`}return""}function Wy(){if(Date.now()-zh<500||(zh=Date.now(),!Ue||!dn))return;document.body.classList.add("modal-open"),document.body.style.setProperty("pointer-events","none"),Ue.style.setProperty("pointer-events","auto"),dn.style.setProperty("pointer-events","auto");let e=mn(),t=cn.SERVICE_COLORS[e]||"";dn.classList.remove(...cn.SERVICE_COLORS),t&&dn.classList.add(t),Ue.classList.remove(cn.HIDDEN),requestAnimationFrame(()=>Ue.classList.add(cn.VISIBLE)),bl?.focus()}function Vr(){Ue&&(document.body.classList.remove("modal-open"),document.body.style.removeProperty("pointer-events"),Ue.style.removeProperty("pointer-events"),dn&&dn.style.removeProperty("pointer-events"),Ue.classList.remove(cn.VISIBLE),setTimeout(()=>Ue.classList.add(cn.HIDDEN),Vy))}function Xy(e){Ue?.classList.contains(cn.VISIBLE)&&!dn?.contains(e.target)&&Vr()}function Yy(){Ie&&(Ie.setAttribute("capture","environment"),Ie.click(),Vr())}function Ky(){Ie&&(Ie.removeAttribute("capture"),Ie.click(),Vr())}function Vh(e){let t=Object.entries(e).filter(([o,i])=>!i.skip),n=t.filter(([o,i])=>i.detected).length,r=t.length;return`${n}/${r} campos detectados`}function ot(e,t){dt||(dt=ni()),e>zr&&(zr=e);let n=zr>=100?t||"Texto reconocido correctamente":"Reconociendo texto...";dt.update(zr,n)}function Qy(){zr=0}async function qy(e){try{let t=await createImageBitmap(e),{width:n,height:r}=t;if(Math.max(n,r)<=cc)return t.close(),e;let o=Math.min(cc/n,cc/r),i=Math.round(n*o),l=Math.round(r*o),s=document.createElement("canvas");s.width=i,s.height=l;let a=s.getContext("2d");if(!a)throw new Error("No contexto 2D.");return a.drawImage(t,0,0,i,l),t.close(),new Promise(u=>s.toBlob(u,jh,Gh))}catch(t){throw t}}async function by(e){try{let t=await createImageBitmap(e),n=document.createElement("canvas");n.width=t.width,n.height=t.height;let r=n.getContext("2d");if(!r)throw new Error("No contexto 2D.");try{r.drawImage(t,0,0,t.width,t.height)}catch(o){throw o.message&&o.message.includes("detached")?new Error("Error al procesar la imagen. Int\xE9ntalo de nuevo."):o}t.close(),r.filter="grayscale(100%) contrast(180%) brightness(110%)";try{r.drawImage(n,0,0)}catch(o){console.warn("OCR: Fallback sense filtres:",o)}return new Promise(o=>n.toBlob(o,jh,Gh))}catch(t){throw t}}function Hh(e,t,n){let r=document.getElementById(e);if(r){r.value=t;let o=new Event("input",{bubbles:!0,cancelable:!0});r.dispatchEvent(o)}}function Zy(e,t=null){if(!e||!e.trim())return{hasData:!1,allFieldsStatus:[]};let n=mn(),r=Mc(n)||"3.6",o=`-${n+1}`,i={},l={originTime:{label:"Hora activaci\xF3n",detected:!1},destinationTime:{label:"Hora destino",detected:!1,skip:r==="3.11"||r==="3.22"},endTime:{label:"Hora final",detected:!1}};t&&t(l);let s=e.split(`
`),a=e.toLowerCase().replace(/ +/g," ");if(Object.values(jy).forEach(d=>{if((r==="3.11"||r==="3.22")&&d.id==="destinationTime")return;let m=null;if(d.lineKeywordRegex){for(let h of s)if(d.lineKeywordRegex.test(h.toLowerCase())){let v=h.replace(/\D/g,"");if(v.length>=6){let S=v.slice(-6);m=[null,`${S.slice(0,2)}:${S.slice(2,4)}:${S.slice(4,6)}`];break}}}else d.valueRegex&&(m=a.match(d.valueRegex));if(m&&m[1]){let h=$y(m[1].trim());if(h&&!i[d.id]){let v=`${d.fieldIdSuffix}${o}`;Hh(v,h,d.label),i[d.id]=d,l[d.id]&&(l[d.id].detected=!0,t&&t(l))}}}),!i.endTime&&(i.originTime||i.destinationTime)){let d=new Date,m=String(d.getHours()).padStart(2,"0"),h=String(d.getMinutes()).padStart(2,"0"),v=`${m}:${h}`,S=`end-time${o}`;Hh(S,v,"Hora Final (Actual)");let T=document.getElementById(S);T&&(T.classList.add("input-warning"),T.addEventListener("focus",()=>T.classList.remove("input-warning"),{once:!0}))}let u=Object.keys(i).length;return{hasData:u>0,count:u,fields:i,allFieldsStatus:l}}function $h(){if(Uh||(Ue=document.getElementById(Fr.CAMERA_MODAL),dn=Ue?.querySelector(Fr.MODAL_CONTENT),bl=document.getElementById(Fr.OPTION_CAMERA),dc=document.getElementById(Fr.OPTION_GALLERY),Ie=document.getElementById(Fr.CAMERA_INPUT),!Ue||!bl||!dc||!Ie))return;document.querySelectorAll(Fr.OCR_SCAN_BTN).forEach(t=>t.addEventListener("click",Wy)),bl.addEventListener("click",Yy),dc.addEventListener("click",Ky),Ie.addEventListener("change",eS),document.addEventListener("click",Xy),document.addEventListener("keydown",t=>{t.key==="Escape"&&Ue?.classList.contains(cn.VISIBLE)&&Vr()}),Uh=!0}function Jy(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}async function eS(e){if(fc)return;let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/")){Ie&&(Ie.value="");return}let n=zy*1024*1024;if(t.size>n){Ie&&(Ie.value="");return}fc=!0,Hs(!0),zr=0,dt||(dt=ni()),dt.start(t),ot(0),Jy();let r=null;try{ot(5);let o=await qy(t);ot(20),o=await by(o),ot(35),await new Promise(a=>setTimeout(a,100)),ot(45),Fh||(ot(50),await new Promise((a,u)=>{let d=document.createElement("script");Xn(d),d.src="https://cdn.jsdelivr.net/npm/tesseract.js@6/dist/tesseract.min.js",d.onload=()=>{Fh=!0,a()},d.onerror=u,document.head.appendChild(d)})),ot(60),r=await Tesseract.createWorker(By,Uy,{logger:a=>{if(a.status==="recognizing text"){let u=Math.max(85,Math.floor(a.progress*100*.15+85));ot(u)}else a.status==="loading language model"&&ot(65)},init:Hy}),ot(75),await r.setParameters(Gy),ot(80);let{data:{text:i}}=await r.recognize(o),s=Zy(i,a=>{let u=Vh(a);dt.update(95,u)});if(s.hasData){let a=Vh(s.allFieldsStatus);dt.complete(a,"done")}else A("Error al escanear. Imagen no v\xE1lida","error"),dt?.reset?.(),setTimeout(()=>Vr(),1e3)}catch(o){console.error("\u274C OCR Error:",o),A("Error al escanear. Imagen no v\xE1lida","error"),dt?.reset?.(),setTimeout(()=>{console.log("\u{1F50D} Tancant modal OCR despr\xE9s de timeout"),Vr()},3e3)}finally{try{r&&await r.terminate()}catch{}Ie&&(Ie.value=""),Qy(),Hs(!1),fc=!1}}var Wh="anonymousUserId";function Xh(){try{let e=localStorage.getItem(Wh);return e||(e=`user-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,localStorage.setItem(Wh,e)),e}catch{return`temp-user-${Date.now()}`}}var Yh=document.getElementById("save-pill"),Gr=document.querySelector(".tab-content-container"),Hr=0,Kh=!1,tS=10,nS=150,rS=Gr&&parseInt(window.getComputedStyle(Gr).paddingBottom,10)||60;function pc(e=Hr){Kh=e>nS,Kh?(Yh.style.bottom=`calc(${e}px + ${tS}px + env(safe-area-inset-bottom, 0px))`,Gr&&(Gr.style.paddingBottom=`${e+50}px`)):(Yh.style.bottom="calc(20px + env(safe-area-inset-bottom, 0px))",Gr&&(Gr.style.paddingBottom=`${rS}px`))}if("virtualKeyboard"in navigator)navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",e=>{Hr=e.target.boundingRect.height,pc(Hr)});else{let e=window.innerHeight;window.addEventListener("resize",()=>{window.innerHeight<e?(Hr=e-window.innerHeight,pc(Hr)):(Hr=0,pc(0))})}var oS=document.querySelectorAll('input:not([type="checkbox"]), select, textarea');function iS(e){let t=e.target;t.closest(".modal")||setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"center"})},250)}oS.forEach(e=>{e.addEventListener("focus",iS)});var Qh="notes-selected-service",lS="notes-modal",sS="notes-title",aS="notes-textarea",uS="notes-save",cS="notes-cancel",dS="notes-char-counter",jr,hc,K,Zl,mc,Un,ri=null,oi=null,ii=null;function qh(){let e=document.getElementById(Qh);if(!e){console.warn(`Notes Service: Bot\xF3 amb ID '${Qh}' no trobat.`);return}if(jr=document.getElementById(lS),hc=document.getElementById(sS),K=document.getElementById(aS),Zl=document.getElementById(uS),mc=document.getElementById(cS),Un=document.getElementById(dS),!jr||!hc||!K||!Zl||!mc||!Un){console.error("Notes Service: Un o m\xE9s elements del modal de notes no s'han trobat.");return}e.addEventListener("click",()=>{let t=mn();fS(t)}),mc.addEventListener("click",gc),console.log("Funcionalitat 'Afegir Notes' configurada.")}function fS(e){if(!jr)return;hc.textContent=`S${e+1}: Observaciones`,K.value=mt[e]||"";let t=K.maxLength,n=()=>{let r=K.value.length;Un.textContent=`${r} / ${t}`,Un.classList.remove("warning","limit"),K.classList.remove("input-warning","input-error"),r>=t?(Un.classList.add("limit"),K.classList.add("input-error")):r>t*.8&&(Un.classList.add("warning"),K.classList.add("input-warning"))};n(),oi=()=>{K.value.length>t&&(K.value=K.value.slice(0,t)),n()},K.addEventListener("input",oi),ii=r=>{r.key==="Enter"&&!r.shiftKey&&(r.preventDefault(),K.blur())},K.addEventListener("keydown",ii),ri=()=>{let r=K.value.trim(),o=mt[e]||"";if(r===o){gc();return}mt[e]=r,r?A("Observaci\xF3n guardada.","success"):A("Observaci\xF3n eliminada.","info"),gc(),ht()},Zl.addEventListener("click",ri),jr.style.display="block",document.body.classList.add("modal-open"),setTimeout(()=>{K.focus({preventScroll:!0}),K.setSelectionRange(K.value.length,K.value.length)},0)}function gc(){jr&&(ri&&(Zl.removeEventListener("click",ri),ri=null),oi&&(K.removeEventListener("input",oi),oi=null),ii&&(K.removeEventListener("keydown",ii),ii=null),Un.classList.remove("warning","limit"),K.classList.remove("input-warning","input-error"),jr.style.display="none",document.body.classList.remove("modal-open"))}var pS=e=>{let n=`; ${document.cookie}`.split(`; ${e}=`);if(n.length===2)return n.pop()?.split(";").shift()},bh=(e,t,n)=>{let r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);let o=`expires=${r.toUTCString()}`;document.cookie=`${e}=${t};${o};path=/;SameSite=Lax;Secure`},$r,Ec,vc;function mS(){let e=document.createElement("script");Xn(e),e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-23SXKMLR75",document.head.appendChild(e),e.onload=()=>{window.gtag("js",new Date),window.gtag("config","G-23SXKMLR75")}}function hS(){mS(),bh("cookie_consent","granted",365),Zh()}function gS(){typeof window.gtag=="function"&&window.gtag("consent","update",{analytics_storage:"denied"}),bh("cookie_consent","denied",365),Zh()}function ES(){$r&&$r.classList.remove("hidden")}function Zh(){$r&&$r.classList.add("hidden")}function Jh(){if($r=document.getElementById("cookie-consent-banner"),Ec=document.getElementById("accept-cookies"),vc=document.getElementById("decline-cookies"),!$r||!Ec||!vc){console.warn("Elements del b\xE0ner de cookies no trobats.");return}pS("cookie_consent")||(ES(),Ec.addEventListener("click",hS),vc.addEventListener("click",gS))}function vS(){let e=document.getElementById(P.DONATION_LINK_ID);if(!e)return console.warn("No s'ha trobat l'enlla\xE7 de donaci\xF3.");let t=Xh();try{let n=new URL(e.href);n.searchParams.set("custom",t),e.href=n.toString(),console.log("Enlla\xE7 de donaci\xF3 actualitzat amb ID an\xF2nim.")}catch(n){console.error("Error modificant l'URL de donaci\xF3:",n)}}async function eg(){try{console.log("initializeApp() iniciant..."),Yc(),Qc(),await jc(),kc(),xd(),qn.init(),$h(),zd(),wd(),$d(),Xd(),qh(),Id(),Yd(),Kd(),Jd(),jd(),vS(),qd(),Rc(),Md(),Bd(),Ud();let e=document.getElementById("service-type");if(e){let t=localStorage.getItem(Cc.USER_SELECTED_SERVICE_TYPE);(t==="TSU"||t==="TSNU")&&(e.value=t,console.log(`[LocalStorage] Carregat tipus de servei: ${t}`)),Gn(e.value)}En(),qc(),Jh(),console.log("initializeApp() completada.")}catch(e){console.error("Error en la inicialitzaci\xF3 de l'app:",e)}}var Pt=Wr(uo()),yc=Wr(sc());function yS(){let[e,t]=Pt.default.useState(navigator.onLine),[n,r]=Pt.default.useState(!0);return Pt.default.useEffect(()=>{let o=()=>{let i=navigator.onLine;t(i),i?setTimeout(()=>r(!1),3e3):r(!0)};return window.addEventListener("online",o),window.addEventListener("offline",o),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",o)}},[]),n?Pt.default.createElement(Pt.default.Fragment,null,Pt.default.createElement("div",{className:`connection-indicator ${e?"online":"offline"}`,onClick:e?void 0:()=>{confirm("En modo offline algunas funciones pueden estar limitadas. \xBFQuieres recargar la app?")&&window.location.reload()},title:e?void 0:"Haz clic para recargar (algunas funciones requieren conexi\xF3n)"},e?"\u{1F7E2} Online":"\u26A0\uFE0F Offline - Funciones limitadas")):null}function tg(){try{if(typeof Pt.default>"u"||typeof yc.default>"u"){console.log("React no disponible - components skip");return}let e=document.getElementById("react-connection-container");e&&!e.hasChildNodes()&&yc.default.createRoot(e).render(Pt.default.createElement(yS,null)),console.log("\u2705 React components inicialitzats (incremental - reversible)")}catch(e){console.log("\u26A0\uFE0F React component skip:",e.message)}}window.getOCRFeedbackManager=ni;window.createOCRFeedbackManager=uc;window.destroyOCRFeedbackManager=Bh;async function ng(){try{document.body.classList.add("app-ready"),document.body.classList.remove("no-js"),await eg(),ud(),tg()}catch(e){console.error("Critical error during app startup:",e)}}function SS(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ng,{once:!0}):ng()}SS();})();
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
