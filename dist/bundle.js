var cT=Object.create;var Ac=Object.defineProperty;var uT=Object.getOwnPropertyDescriptor;var dT=Object.getOwnPropertyNames;var fT=Object.getPrototypeOf,mT=Object.prototype.hasOwnProperty;var gT=(e,t)=>()=>(e&&(t=e(e=0)),t);var va=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pT=(e,t)=>{for(var a in t)Ac(e,a,{get:t[a],enumerable:!0})},ET=(e,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of dT(t))!mT.call(e,l)&&l!==a&&Ac(e,l,{get:()=>t[l],enumerable:!(n=uT(t,l))||n.enumerable});return e};var Cc=(e,t,a)=>(a=e!=null?cT(fT(e)):{},ET(t||!e||!e.__esModule?Ac(a,"default",{value:e,enumerable:!0}):a,e));var zm={};pT(zm,{cancelAllToasts:()=>AT,showToast:()=>b});function ST(e){if(window.__muteToasts===!0)return!0;let t=window.__toastBlocklist;if(!t||!Array.isArray(t)||t.length===0)return!1;for(let a of t)if(a instanceof RegExp&&typeof e=="string"){if(a.test(e))return!0}else if(typeof a=="string"&&String(e)===a)return!0;return!1}function yT(e,t,a){if(!e||typeof e!="string"||!e.trim())throw new Error("El missatge del toast \xE9s obligatori i ha de ser una cadena no buida.");if(!De.ALLOWED_TYPES.includes(t))throw new Error(`Tipus de toast inv\xE0lid: ${t}. Ha de ser un de: ${De.ALLOWED_TYPES.join(", ")}`);if(!Number.isInteger(a)||a<0||a>6e4)throw new Error("La durada ha d'estar entre 0 i 60000 ms.")}function vT(){return!q.container&&(q.container=document.getElementById(De.CONTAINER_ID),!q.container)?(console.error(`[Toast] Contenidor '#${De.CONTAINER_ID}' no trobat.`),null):q.container}function Dc(e){q.currentTimeout&&(clearTimeout(q.currentTimeout),q.currentTimeout=null),e&&(e.classList.add(De.ANIMATION.EXIT),e.addEventListener("transitionend",()=>e.remove(),{once:!0})),q.isVisible=!1,Um()}function TT({message:e,type:t,duration:a,options:n}){let l=vT();if(!l)return;let i=document.createElement("div");i.className=`${De.TOAST_CLASS} ${t}`,i.setAttribute("role","alert"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),i.textContent=hT(e);let r=!0;if(n?.undoCallback instanceof Function){let o=document.createElement("button");o.type="button",o.className=De.UNDO_BTN_CLASS,o.textContent="Deshacer",o.setAttribute("aria-label","Deshacer la acci\xF3n"),o.addEventListener("click",()=>{r=!1;try{n.undoCallback()}finally{Dc(i)}}),i.appendChild(o)}l.appendChild(i),requestAnimationFrame(()=>{i.classList.add(De.ANIMATION.ENTER)}),q.currentTimeout=setTimeout(()=>{r&&n?.onExpire instanceof Function&&n.onExpire(),Dc(i)},a)}function Um(){q.isVisible||q.queue.length===0||(q.isVisible=!0,q.queue.sort((e,t)=>t.priority-e.priority),TT(q.queue.shift()))}function b(e,t=De.DEFAULT_TYPE,a=De.DEFAULT_DURATION,n={}){if(ST(e))return;yT(e,t,a);let l=n.priority??De.DEFAULT_PRIORITY,i={message:e,type:t,duration:a,priority:l,options:n};if(!(n.queueable!==!1)&&q.isVisible){if(q.container){let s=q.container.querySelector(`.${De.TOAST_CLASS}:not(.${De.ANIMATION.EXIT})`);s&&s.remove()}Dc()}q.queue.length>=De.MAX_QUEUE_SIZE&&q.queue.sort((s,c)=>s.priority-c.priority).shift();let o=q.queue.findIndex(s=>s.priority<l);o===-1?q.queue.push(i):q.queue.splice(o,0,i),CT(),Um()}function AT(){if(q.queue=[],q.container){let e=q.container.querySelector(`.${De.TOAST_CLASS}`);e&&e.remove()}q.currentTimeout&&clearTimeout(q.currentTimeout),q.currentTimeout=null,q.isVisible=!1}function CT(){let e="toast-undo-style";if(document.getElementById(e))return;let t=document.body.getAttribute("data-csp-nonce"),a=document.createElement("style");a.id=e,t&&a.setAttribute("nonce",t),a.textContent=`
    .${De.UNDO_BTN_CLASS} {
      margin-left: auto; 
      padding: 8px 12px; 
      background: none;
      border: none;
      border-radius: 4px; 
      cursor: pointer;     
      font-weight: 600;
      font-size: 0.875rem; 
      text-transform: uppercase; 
      letter-spacing: 0.08em; 
      color: inherit; 
      transition: background-color 0.2s ease;
    }
    .${De.UNDO_BTN_CLASS}:hover {
      background-color: rgba(255, 255, 255, 0.15); 
    }
  `,document.head.appendChild(a)}var De,q,hT,Rt=gT(()=>{De={CONTAINER_ID:"toast-container",TOAST_CLASS:"toast",DEFAULT_DURATION:3e3,DEFAULT_TYPE:"info",ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1},q={queue:[],isVisible:!1,container:null,currentTimeout:null},hT=e=>e&&typeof e=="string"?e.replace(/[<>&]/g,""):""});var jp=va(L=>{"use strict";var Iu=Symbol.for("react.transitional.element"),l0=Symbol.for("react.portal"),i0=Symbol.for("react.fragment"),r0=Symbol.for("react.strict_mode"),o0=Symbol.for("react.profiler"),s0=Symbol.for("react.consumer"),c0=Symbol.for("react.context"),u0=Symbol.for("react.forward_ref"),d0=Symbol.for("react.suspense"),f0=Symbol.for("react.memo"),zp=Symbol.for("react.lazy"),m0=Symbol.for("react.activity"),Bp=Symbol.iterator;function g0(e){return e===null||typeof e!="object"?null:(e=Bp&&e[Bp]||e["@@iterator"],typeof e=="function"?e:null)}var Pp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vp=Object.assign,Hp={};function Sl(e,t,a){this.props=e,this.context=t,this.refs=Hp,this.updater=a||Pp}Sl.prototype.isReactComponent={};Sl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gp(){}Gp.prototype=Sl.prototype;function Bu(e,t,a){this.props=e,this.context=t,this.refs=Hp,this.updater=a||Pp}var wu=Bu.prototype=new Gp;wu.constructor=Bu;Vp(wu,Sl.prototype);wu.isPureReactComponent=!0;var wp=Array.isArray;function Ru(){}var J={H:null,A:null,T:null,S:null},qp=Object.prototype.hasOwnProperty;function xu(e,t,a){var n=a.ref;return{$$typeof:Iu,type:e,key:t,ref:n!==void 0?n:null,props:a}}function p0(e,t){return xu(e.type,t,e.props)}function Uu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Iu}function E0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var xp=/\/+/g;function Mu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?E0(""+e.key):t.toString(36)}function h0(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Ru,Ru):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function hl(e,t,a,n,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(i){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Iu:case l0:r=!0;break;case zp:return r=e._init,hl(r(e._payload),t,a,n,l)}}if(r)return l=l(e),r=n===""?"."+Mu(e,0):n,wp(l)?(a="",r!=null&&(a=r.replace(xp,"$&/")+"/"),hl(l,t,a,"",function(c){return c})):l!=null&&(Uu(l)&&(l=p0(l,a+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(xp,"$&/")+"/")+r)),t.push(l)),1;r=0;var o=n===""?".":n+":";if(wp(e))for(var s=0;s<e.length;s++)n=e[s],i=o+Mu(n,s),r+=hl(n,t,a,i,l);else if(s=g0(e),typeof s=="function")for(e=s.call(e),s=0;!(n=e.next()).done;)n=n.value,i=o+Mu(n,s++),r+=hl(n,t,a,i,l);else if(i==="object"){if(typeof e.then=="function")return hl(h0(e),t,a,n,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function zo(e,t,a){if(e==null)return e;var n=[],l=0;return hl(e,n,"","",function(i){return t.call(a,i,l++)}),n}function S0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Up=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},y0={map:zo,forEach:function(e,t,a){zo(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return zo(e,function(){t++}),t},toArray:function(e){return zo(e,function(t){return t})||[]},only:function(e){if(!Uu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};L.Activity=m0;L.Children=y0;L.Component=Sl;L.Fragment=i0;L.Profiler=o0;L.PureComponent=Bu;L.StrictMode=r0;L.Suspense=d0;L.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J;L.__COMPILER_RUNTIME={__proto__:null,c:function(e){return J.H.useMemoCache(e)}};L.cache=function(e){return function(){return e.apply(null,arguments)}};L.cacheSignal=function(){return null};L.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=Vp({},e.props),l=e.key;if(t!=null)for(i in t.key!==void 0&&(l=""+t.key),t)!qp.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var r=Array(i),o=0;o<i;o++)r[o]=arguments[o+2];n.children=r}return xu(e.type,l,n)};L.createContext=function(e){return e={$$typeof:c0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:s0,_context:e},e};L.createElement=function(e,t,a){var n,l={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)qp.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(l[n]=t[n]);var r=arguments.length-2;if(r===1)l.children=a;else if(1<r){for(var o=Array(r),s=0;s<r;s++)o[s]=arguments[s+2];l.children=o}if(e&&e.defaultProps)for(n in r=e.defaultProps,r)l[n]===void 0&&(l[n]=r[n]);return xu(e,i,l)};L.createRef=function(){return{current:null}};L.forwardRef=function(e){return{$$typeof:u0,render:e}};L.isValidElement=Uu;L.lazy=function(e){return{$$typeof:zp,_payload:{_status:-1,_result:e},_init:S0}};L.memo=function(e,t){return{$$typeof:f0,type:e,compare:t===void 0?null:t}};L.startTransition=function(e){var t=J.T,a={};J.T=a;try{var n=e(),l=J.S;l!==null&&l(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Ru,Up)}catch(i){Up(i)}finally{t!==null&&a.types!==null&&(t.types=a.types),J.T=t}};L.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()};L.use=function(e){return J.H.use(e)};L.useActionState=function(e,t,a){return J.H.useActionState(e,t,a)};L.useCallback=function(e,t){return J.H.useCallback(e,t)};L.useContext=function(e){return J.H.useContext(e)};L.useDebugValue=function(){};L.useDeferredValue=function(e,t){return J.H.useDeferredValue(e,t)};L.useEffect=function(e,t){return J.H.useEffect(e,t)};L.useEffectEvent=function(e){return J.H.useEffectEvent(e)};L.useId=function(){return J.H.useId()};L.useImperativeHandle=function(e,t,a){return J.H.useImperativeHandle(e,t,a)};L.useInsertionEffect=function(e,t){return J.H.useInsertionEffect(e,t)};L.useLayoutEffect=function(e,t){return J.H.useLayoutEffect(e,t)};L.useMemo=function(e,t){return J.H.useMemo(e,t)};L.useOptimistic=function(e,t){return J.H.useOptimistic(e,t)};L.useReducer=function(e,t,a){return J.H.useReducer(e,t,a)};L.useRef=function(e){return J.H.useRef(e)};L.useState=function(e){return J.H.useState(e)};L.useSyncExternalStore=function(e,t,a){return J.H.useSyncExternalStore(e,t,a)};L.useTransition=function(){return J.H.useTransition()};L.version="19.2.0"});var Xi=va((TN,Yp)=>{"use strict";Yp.exports=jp()});var eE=va(te=>{"use strict";function Hu(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,l=e[n];if(0<Po(l,t))e[n]=t,e[a]=l,a=n;else break e}}function Bt(e){return e.length===0?null:e[0]}function Ho(e){if(e.length===0)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,l=e.length,i=l>>>1;n<i;){var r=2*(n+1)-1,o=e[r],s=r+1,c=e[s];if(0>Po(o,a))s<l&&0>Po(c,o)?(e[n]=c,e[s]=a,n=s):(e[n]=o,e[r]=a,n=r);else if(s<l&&0>Po(c,a))e[n]=c,e[s]=a,n=s;else break e}}return t}function Po(e,t){var a=e.sortIndex-t.sortIndex;return a!==0?a:e.id-t.id}te.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(Xp=performance,te.unstable_now=function(){return Xp.now()}):(zu=Date,Kp=zu.now(),te.unstable_now=function(){return zu.now()-Kp});var Xp,zu,Kp,Wt=[],Ba=[],v0=1,dt=null,we=3,Gu=!1,Ki=!1,Qi=!1,qu=!1,Zp=typeof setTimeout=="function"?setTimeout:null,kp=typeof clearTimeout=="function"?clearTimeout:null,Qp=typeof setImmediate<"u"?setImmediate:null;function Vo(e){for(var t=Bt(Ba);t!==null;){if(t.callback===null)Ho(Ba);else if(t.startTime<=e)Ho(Ba),t.sortIndex=t.expirationTime,Hu(Wt,t);else break;t=Bt(Ba)}}function ju(e){if(Qi=!1,Vo(e),!Ki)if(Bt(Wt)!==null)Ki=!0,vl||(vl=!0,yl());else{var t=Bt(Ba);t!==null&&Yu(ju,t.startTime-e)}}var vl=!1,Fi=-1,Jp=5,$p=-1;function Wp(){return qu?!0:!(te.unstable_now()-$p<Jp)}function Pu(){if(qu=!1,vl){var e=te.unstable_now();$p=e;var t=!0;try{e:{Ki=!1,Qi&&(Qi=!1,kp(Fi),Fi=-1),Gu=!0;var a=we;try{t:{for(Vo(e),dt=Bt(Wt);dt!==null&&!(dt.expirationTime>e&&Wp());){var n=dt.callback;if(typeof n=="function"){dt.callback=null,we=dt.priorityLevel;var l=n(dt.expirationTime<=e);if(e=te.unstable_now(),typeof l=="function"){dt.callback=l,Vo(e),t=!0;break t}dt===Bt(Wt)&&Ho(Wt),Vo(e)}else Ho(Wt);dt=Bt(Wt)}if(dt!==null)t=!0;else{var i=Bt(Ba);i!==null&&Yu(ju,i.startTime-e),t=!1}}break e}finally{dt=null,we=a,Gu=!1}t=void 0}}finally{t?yl():vl=!1}}}var yl;typeof Qp=="function"?yl=function(){Qp(Pu)}:typeof MessageChannel<"u"?(Vu=new MessageChannel,Fp=Vu.port2,Vu.port1.onmessage=Pu,yl=function(){Fp.postMessage(null)}):yl=function(){Zp(Pu,0)};var Vu,Fp;function Yu(e,t){Fi=Zp(function(){e(te.unstable_now())},t)}te.unstable_IdlePriority=5;te.unstable_ImmediatePriority=1;te.unstable_LowPriority=4;te.unstable_NormalPriority=3;te.unstable_Profiling=null;te.unstable_UserBlockingPriority=2;te.unstable_cancelCallback=function(e){e.callback=null};te.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Jp=0<e?Math.floor(1e3/e):5};te.unstable_getCurrentPriorityLevel=function(){return we};te.unstable_next=function(e){switch(we){case 1:case 2:case 3:var t=3;break;default:t=we}var a=we;we=t;try{return e()}finally{we=a}};te.unstable_requestPaint=function(){qu=!0};te.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=we;we=e;try{return t()}finally{we=a}};te.unstable_scheduleCallback=function(e,t,a){var n=te.unstable_now();switch(typeof a=="object"&&a!==null?(a=a.delay,a=typeof a=="number"&&0<a?n+a:n):a=n,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=a+l,e={id:v0++,callback:t,priorityLevel:e,startTime:a,expirationTime:l,sortIndex:-1},a>n?(e.sortIndex=a,Hu(Ba,e),Bt(Wt)===null&&e===Bt(Ba)&&(Qi?(kp(Fi),Fi=-1):Qi=!0,Yu(ju,a-n))):(e.sortIndex=l,Hu(Wt,e),Ki||Gu||(Ki=!0,vl||(vl=!0,yl()))),e};te.unstable_shouldYield=Wp;te.unstable_wrapCallback=function(e){var t=we;return function(){var a=we;we=t;try{return e.apply(this,arguments)}finally{we=a}}}});var aE=va((CN,tE)=>{"use strict";tE.exports=eE()});var lE=va(Pe=>{"use strict";var T0=Xi();function nE(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function wa(){}var ze={d:{f:wa,r:function(){throw Error(nE(522))},D:wa,C:wa,L:wa,m:wa,X:wa,S:wa,M:wa},p:0,findDOMNode:null},A0=Symbol.for("react.portal");function C0(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var Zi=T0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Go(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ze;Pe.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(nE(299));return C0(e,t,null,a)};Pe.flushSync=function(e){var t=Zi.T,a=ze.p;try{if(Zi.T=null,ze.p=2,e)return e()}finally{Zi.T=t,ze.p=a,ze.d.f()}};Pe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ze.d.C(e,t))};Pe.prefetchDNS=function(e){typeof e=="string"&&ze.d.D(e)};Pe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=Go(a,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?ze.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:l,fetchPriority:i}):a==="script"&&ze.d.X(e,{crossOrigin:n,integrity:l,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Pe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=Go(t.as,t.crossOrigin);ze.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ze.d.M(e)};Pe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=Go(a,t.crossOrigin);ze.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Pe.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=Go(t.as,t.crossOrigin);ze.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ze.d.m(e)};Pe.requestFormReset=function(e){ze.d.r(e)};Pe.unstable_batchedUpdates=function(e,t){return e(t)};Pe.useFormState=function(e,t,a){return Zi.H.useFormState(e,t,a)};Pe.useFormStatus=function(){return Zi.H.useHostTransitionStatus()};Pe.version="19.2.0"});var oE=va((_N,rE)=>{"use strict";function iE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iE)}catch(e){console.error(e)}}iE(),rE.exports=lE()});var yv=va(fc=>{"use strict";var ve=aE(),Bh=Xi(),b0=oE();function y(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function wh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xr(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function xh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uh(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sE(e){if(xr(e)!==e)throw Error(y(188))}function _0(e){var t=e.alternate;if(!t){if(t=xr(e),t===null)throw Error(y(188));return t!==e?null:e}for(var a=e,n=t;;){var l=a.return;if(l===null)break;var i=l.alternate;if(i===null){if(n=l.return,n!==null){a=n;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===a)return sE(l),e;if(i===n)return sE(l),t;i=i.sibling}throw Error(y(188))}if(a.return!==n.return)a=l,n=i;else{for(var r=!1,o=l.child;o;){if(o===a){r=!0,a=l,n=i;break}if(o===n){r=!0,n=l,a=i;break}o=o.sibling}if(!r){for(o=i.child;o;){if(o===a){r=!0,a=i,n=l;break}if(o===n){r=!0,n=i,a=l;break}o=o.sibling}if(!r)throw Error(y(189))}}if(a.alternate!==n)throw Error(y(190))}if(a.tag!==3)throw Error(y(188));return a.stateNode.current===a?e:t}function zh(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=zh(e),t!==null)return t;e=e.sibling}return null}var ee=Object.assign,D0=Symbol.for("react.element"),qo=Symbol.for("react.transitional.element"),nr=Symbol.for("react.portal"),Dl=Symbol.for("react.fragment"),Ph=Symbol.for("react.strict_mode"),bd=Symbol.for("react.profiler"),Vh=Symbol.for("react.consumer"),oa=Symbol.for("react.context"),vf=Symbol.for("react.forward_ref"),_d=Symbol.for("react.suspense"),Dd=Symbol.for("react.suspense_list"),Tf=Symbol.for("react.memo"),xa=Symbol.for("react.lazy");Symbol.for("react.scope");var Od=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var O0=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var cE=Symbol.iterator;function ki(e){return e===null||typeof e!="object"?null:(e=cE&&e[cE]||e["@@iterator"],typeof e=="function"?e:null)}var N0=Symbol.for("react.client.reference");function Nd(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N0?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dl:return"Fragment";case bd:return"Profiler";case Ph:return"StrictMode";case _d:return"Suspense";case Dd:return"SuspenseList";case Od:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case nr:return"Portal";case oa:return e.displayName||"Context";case Vh:return(e._context.displayName||"Context")+".Consumer";case vf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tf:return t=e.displayName||null,t!==null?t:Nd(e.type)||"Memo";case xa:t=e._payload,e=e._init;try{return Nd(e(t))}catch{}}return null}var lr=Array.isArray,O=Bh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=b0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Mn={pending:!1,data:null,method:null,action:null},Ld=[],Ol=-1;function Pt(e){return{current:e}}function _e(e){0>Ol||(e.current=Ld[Ol],Ld[Ol]=null,Ol--)}function k(e,t){Ol++,Ld[Ol]=e.current,e.current=t}var zt=Pt(null),Tr=Pt(null),Ka=Pt(null),Ts=Pt(null);function As(e,t){switch(k(Ka,t),k(Tr,e),k(zt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Eh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Eh(t),e=iv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_e(zt),k(zt,e)}function Xl(){_e(zt),_e(Tr),_e(Ka)}function Md(e){e.memoizedState!==null&&k(Ts,e);var t=zt.current,a=iv(t,e.type);t!==a&&(k(Tr,e),k(zt,a))}function Cs(e){Tr.current===e&&(_e(zt),_e(Tr)),Ts.current===e&&(_e(Ts),Ir._currentValue=Mn)}var Xu,uE;function Dn(e){if(Xu===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Xu=t&&t[1]||"",uE=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xu+e+uE}var Ku=!1;function Qu(e,t){if(!e||Ku)return"";Ku=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(g){var u=g}Reflect.construct(e,[],p)}else{try{p.call()}catch(g){u=g}e.call(p.prototype)}}else{try{throw Error()}catch(g){u=g}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(g){if(g&&u&&typeof g.stack=="string")return[g.stack,u.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),r=i[0],o=i[1];if(r&&o){var s=r.split(`
`),c=o.split(`
`);for(l=n=0;n<s.length&&!s[n].includes("DetermineComponentFrameRoot");)n++;for(;l<c.length&&!c[l].includes("DetermineComponentFrameRoot");)l++;if(n===s.length||l===c.length)for(n=s.length-1,l=c.length-1;1<=n&&0<=l&&s[n]!==c[l];)l--;for(;1<=n&&0<=l;n--,l--)if(s[n]!==c[l]){if(n!==1||l!==1)do if(n--,l--,0>l||s[n]!==c[l]){var f=`
`+s[n].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=n&&0<=l);break}}}finally{Ku=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Dn(a):""}function L0(e,t){switch(e.tag){case 26:case 27:case 5:return Dn(e.type);case 16:return Dn("Lazy");case 13:return e.child!==t&&t!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return Qu(e.type,!1);case 11:return Qu(e.type.render,!1);case 1:return Qu(e.type,!0);case 31:return Dn("Activity");default:return""}}function dE(e){try{var t="",a=null;do t+=L0(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Rd=Object.prototype.hasOwnProperty,Af=ve.unstable_scheduleCallback,Fu=ve.unstable_cancelCallback,M0=ve.unstable_shouldYield,R0=ve.unstable_requestPaint,et=ve.unstable_now,I0=ve.unstable_getCurrentPriorityLevel,Hh=ve.unstable_ImmediatePriority,Gh=ve.unstable_UserBlockingPriority,bs=ve.unstable_NormalPriority,B0=ve.unstable_LowPriority,qh=ve.unstable_IdlePriority,w0=ve.log,x0=ve.unstable_setDisableYieldValue,Ur=null,tt=null;function Ga(e){if(typeof w0=="function"&&x0(e),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(Ur,e)}catch{}}var at=Math.clz32?Math.clz32:P0,U0=Math.log,z0=Math.LN2;function P0(e){return e>>>=0,e===0?32:31-(U0(e)/z0|0)|0}var jo=256,Yo=262144,Xo=4194304;function On(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ks(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var l=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var o=n&134217727;return o!==0?(n=o&~i,n!==0?l=On(n):(r&=o,r!==0?l=On(r):a||(a=o&~e,a!==0&&(l=On(a))))):(o=n&~i,o!==0?l=On(o):r!==0?l=On(r):a||(a=n&~e,a!==0&&(l=On(a)))),l===0?0:t!==0&&t!==l&&(t&i)===0&&(i=l&-l,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:l}function zr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function V0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jh(){var e=Xo;return Xo<<=1,(Xo&62914560)===0&&(Xo=4194304),e}function Zu(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Pr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function H0(e,t,a,n,l,i){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,s=e.expirationTimes,c=e.hiddenUpdates;for(a=r&~a;0<a;){var f=31-at(a),p=1<<f;o[f]=0,s[f]=-1;var u=c[f];if(u!==null)for(c[f]=null,f=0;f<u.length;f++){var g=u[f];g!==null&&(g.lane&=-536870913)}a&=~p}n!==0&&Yh(e,n,0),i!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function Yh(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-at(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Xh(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-at(a),l=1<<n;l&t|e[n]&t&&(e[n]|=t),a&=~l}}function Kh(e,t){var a=t&-t;return a=(a&42)!==0?1:Cf(a),(a&(e.suspendedLanes|t))!==0?0:a}function Cf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bf(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qh(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Ev(e.type))}function fE(e,t){var a=G.p;try{return G.p=e,t()}finally{G.p=a}}var rn=Math.random().toString(36).slice(2),Le="__reactFiber$"+rn,Qe="__reactProps$"+rn,ai="__reactContainer$"+rn,Id="__reactEvents$"+rn,G0="__reactListeners$"+rn,q0="__reactHandles$"+rn,mE="__reactResources$"+rn,Vr="__reactMarker$"+rn;function _f(e){delete e[Le],delete e[Qe],delete e[Id],delete e[G0],delete e[q0]}function Nl(e){var t=e[Le];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ai]||a[Le]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Th(e);e!==null;){if(a=e[Le])return a;e=Th(e)}return t}e=a,a=e.parentNode}return null}function ni(e){if(e=e[Le]||e[ai]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ir(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(y(33))}function Pl(e){var t=e[mE];return t||(t=e[mE]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function be(e){e[Vr]=!0}var Fh=new Set,Zh={};function Hn(e,t){Kl(e,t),Kl(e+"Capture",t)}function Kl(e,t){for(Zh[e]=t,e=0;e<t.length;e++)Fh.add(t[e])}var j0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gE={},pE={};function Y0(e){return Rd.call(pE,e)?!0:Rd.call(gE,e)?!1:j0.test(e)?pE[e]=!0:(gE[e]=!0,!1)}function rs(e,t,a){if(Y0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ko(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ea(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function X0(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bd(e){if(!e._valueTracker){var t=kh(e)?"checked":"value";e._valueTracker=X0(e,t,""+e[t])}}function Jh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=kh(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function _s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var K0=/[\n"\\]/g;function Et(e){return e.replace(K0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wd(e,t,a,n,l,i,r,o){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+mt(t)):e.value!==""+mt(t)&&(e.value=""+mt(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?xd(e,r,mt(t)):a!=null?xd(e,r,mt(a)):n!=null&&e.removeAttribute("value"),l==null&&i!=null&&(e.defaultChecked=!!i),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+mt(o):e.removeAttribute("name")}function $h(e,t,a,n,l,i,r,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Bd(e);return}a=a!=null?""+mt(a):"",t=t!=null?""+mt(t):a,o||t===e.value||(e.value=t),e.defaultValue=t}n=n??l,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Bd(e)}function xd(e,t,a){t==="number"&&_s(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Vl(e,t,a,n){if(e=e.options,t){t={};for(var l=0;l<a.length;l++)t["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=t.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&n&&(e[a].defaultSelected=!0)}else{for(a=""+mt(a),t=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Wh(e,t,a){if(t!=null&&(t=""+mt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+mt(a):""}function eS(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(y(92));if(lr(n)){if(1<n.length)throw Error(y(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=mt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Bd(e)}function Ql(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Q0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function EE(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Q0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function tS(e,t,a){if(t!=null&&typeof t!="object")throw Error(y(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var l in t)n=t[l],t.hasOwnProperty(l)&&a[l]!==n&&EE(e,l,n)}else for(var i in t)t.hasOwnProperty(i)&&EE(e,i,t[i])}function Df(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Z0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(e){return Z0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sa(){}var Ud=null;function Of(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ll=null,Hl=null;function hE(e){var t=ni(e);if(t&&(e=t.stateNode)){var a=e[Qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(wd(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var l=n[Qe]||null;if(!l)throw Error(y(90));wd(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Jh(n)}break e;case"textarea":Wh(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Vl(e,!!a.multiple,t,!1)}}}var ku=!1;function aS(e,t,a){if(ku)return e(t,a);ku=!0;try{var n=e(t);return n}finally{if(ku=!1,(Ll!==null||Hl!==null)&&(sc(),Ll&&(t=Ll,e=Hl,Hl=Ll=null,hE(t),e)))for(t=0;t<e.length;t++)hE(e[t])}}function Ar(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Qe]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(y(231,t,typeof a));return a}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zd=!1;if(ma)try{Tl={},Object.defineProperty(Tl,"passive",{get:function(){zd=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{zd=!1}var Tl,qa=null,Nf=null,ss=null;function nS(){if(ss)return ss;var e,t=Nf,a=t.length,n,l="value"in qa?qa.value:qa.textContent,i=l.length;for(e=0;e<a&&t[e]===l[e];e++);var r=a-e;for(n=1;n<=r&&t[a-n]===l[i-n];n++);return ss=l.slice(e,1<n?1-n:void 0)}function cs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qo(){return!0}function SE(){return!1}function Fe(e){function t(a,n,l,i,r){this._reactName=a,this._targetInst=l,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qo:SE,this.isPropagationStopped=SE,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),t}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=Fe(Gn),Hr=ee({},Gn,{view:0,detail:0}),k0=Fe(Hr),Ju,$u,Ji,$s=ee({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ji&&(Ji&&e.type==="mousemove"?(Ju=e.screenX-Ji.screenX,$u=e.screenY-Ji.screenY):$u=Ju=0,Ji=e),Ju)},movementY:function(e){return"movementY"in e?e.movementY:$u}}),yE=Fe($s),J0=ee({},$s,{dataTransfer:0}),$0=Fe(J0),W0=ee({},Hr,{relatedTarget:0}),Wu=Fe(W0),eC=ee({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),tC=Fe(eC),aC=ee({},Gn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nC=Fe(aC),lC=ee({},Gn,{data:0}),vE=Fe(lC),iC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oC[e])?!!t[e]:!1}function Lf(){return sC}var cC=ee({},Hr,{key:function(e){if(e.key){var t=iC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lf,charCode:function(e){return e.type==="keypress"?cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uC=Fe(cC),dC=ee({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TE=Fe(dC),fC=ee({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lf}),mC=Fe(fC),gC=ee({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),pC=Fe(gC),EC=ee({},$s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hC=Fe(EC),SC=ee({},Gn,{newState:0,oldState:0}),yC=Fe(SC),vC=[9,13,27,32],Mf=ma&&"CompositionEvent"in window,sr=null;ma&&"documentMode"in document&&(sr=document.documentMode);var TC=ma&&"TextEvent"in window&&!sr,lS=ma&&(!Mf||sr&&8<sr&&11>=sr),AE=" ",CE=!1;function iS(e,t){switch(e){case"keyup":return vC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ml=!1;function AC(e,t){switch(e){case"compositionend":return rS(t);case"keypress":return t.which!==32?null:(CE=!0,AE);case"textInput":return e=t.data,e===AE&&CE?null:e;default:return null}}function CC(e,t){if(Ml)return e==="compositionend"||!Mf&&iS(e,t)?(e=nS(),ss=Nf=qa=null,Ml=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lS&&t.locale!=="ko"?null:t.data;default:return null}}var bC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bC[e.type]:t==="textarea"}function oS(e,t,a,n){Ll?Hl?Hl.push(n):Hl=[n]:Ll=n,t=js(t,"onChange"),0<t.length&&(a=new Js("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var cr=null,Cr=null;function _C(e){av(e,0)}function Ws(e){var t=ir(e);if(Jh(t))return e}function _E(e,t){if(e==="change")return t}var sS=!1;ma&&(ma?(Zo="oninput"in document,Zo||(ed=document.createElement("div"),ed.setAttribute("oninput","return;"),Zo=typeof ed.oninput=="function"),Fo=Zo):Fo=!1,sS=Fo&&(!document.documentMode||9<document.documentMode));var Fo,Zo,ed;function DE(){cr&&(cr.detachEvent("onpropertychange",cS),Cr=cr=null)}function cS(e){if(e.propertyName==="value"&&Ws(Cr)){var t=[];oS(t,Cr,e,Of(e)),aS(_C,t)}}function DC(e,t,a){e==="focusin"?(DE(),cr=t,Cr=a,cr.attachEvent("onpropertychange",cS)):e==="focusout"&&DE()}function OC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(Cr)}function NC(e,t){if(e==="click")return Ws(t)}function LC(e,t){if(e==="input"||e==="change")return Ws(t)}function MC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lt=typeof Object.is=="function"?Object.is:MC;function br(e,t){if(lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var l=a[n];if(!Rd.call(t,l)||!lt(e[l],t[l]))return!1}return!0}function OE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function NE(e,t){var a=OE(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=OE(a)}}function uS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dS(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=_s(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=_s(e.document)}return t}function Rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var RC=ma&&"documentMode"in document&&11>=document.documentMode,Rl=null,Pd=null,ur=null,Vd=!1;function LE(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vd||Rl==null||Rl!==_s(n)||(n=Rl,"selectionStart"in n&&Rf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ur&&br(ur,n)||(ur=n,n=js(Pd,"onSelect"),0<n.length&&(t=new Js("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Rl)))}function _n(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Il={animationend:_n("Animation","AnimationEnd"),animationiteration:_n("Animation","AnimationIteration"),animationstart:_n("Animation","AnimationStart"),transitionrun:_n("Transition","TransitionRun"),transitionstart:_n("Transition","TransitionStart"),transitioncancel:_n("Transition","TransitionCancel"),transitionend:_n("Transition","TransitionEnd")},td={},fS={};ma&&(fS=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function qn(e){if(td[e])return td[e];if(!Il[e])return e;var t=Il[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in fS)return td[e]=t[a];return e}var mS=qn("animationend"),gS=qn("animationiteration"),pS=qn("animationstart"),IC=qn("transitionrun"),BC=qn("transitionstart"),wC=qn("transitioncancel"),ES=qn("transitionend"),hS=new Map,Hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hd.push("scrollEnd");function Lt(e,t){hS.set(e,t),Hn(t,[e])}var Ds=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ft=[],Bl=0,If=0;function ec(){for(var e=Bl,t=If=Bl=0;t<e;){var a=ft[t];ft[t++]=null;var n=ft[t];ft[t++]=null;var l=ft[t];ft[t++]=null;var i=ft[t];if(ft[t++]=null,n!==null&&l!==null){var r=n.pending;r===null?l.next=l:(l.next=r.next,r.next=l),n.pending=l}i!==0&&SS(a,l,i)}}function tc(e,t,a,n){ft[Bl++]=e,ft[Bl++]=t,ft[Bl++]=a,ft[Bl++]=n,If|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Bf(e,t,a,n){return tc(e,t,a,n),Os(e)}function jn(e,t){return tc(e,null,null,t),Os(e)}function SS(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var l=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(l=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,l&&t!==null&&(l=31-at(a),e=i.hiddenUpdates,n=e[l],n===null?e[l]=[t]:n.push(t),t.lane=a|536870912),i):null}function Os(e){if(50<yr)throw yr=0,sf=null,Error(y(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var wl={};function xC(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(e,t,a,n){return new xC(e,t,a,n)}function wf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ua(e,t){var a=e.alternate;return a===null?(a=$e(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function yS(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function us(e,t,a,n,l,i){var r=0;if(n=e,typeof e=="function")wf(e)&&(r=1);else if(typeof e=="string")r=Pb(e,a,zt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Od:return e=$e(31,a,t,l),e.elementType=Od,e.lanes=i,e;case Dl:return Rn(a.children,l,i,t);case Ph:r=8,l|=24;break;case bd:return e=$e(12,a,t,l|2),e.elementType=bd,e.lanes=i,e;case _d:return e=$e(13,a,t,l),e.elementType=_d,e.lanes=i,e;case Dd:return e=$e(19,a,t,l),e.elementType=Dd,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oa:r=10;break e;case Vh:r=9;break e;case vf:r=11;break e;case Tf:r=14;break e;case xa:r=16,n=null;break e}r=29,a=Error(y(130,e===null?"null":typeof e,"")),n=null}return t=$e(r,a,t,l),t.elementType=e,t.type=n,t.lanes=i,t}function Rn(e,t,a,n){return e=$e(7,e,n,t),e.lanes=a,e}function ad(e,t,a){return e=$e(6,e,null,t),e.lanes=a,e}function vS(e){var t=$e(18,null,null,0);return t.stateNode=e,t}function nd(e,t,a){return t=$e(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ME=new WeakMap;function ht(e,t){if(typeof e=="object"&&e!==null){var a=ME.get(e);return a!==void 0?a:(t={value:e,source:t,stack:dE(t)},ME.set(e,t),t)}return{value:e,source:t,stack:dE(t)}}var xl=[],Ul=0,Ns=null,_r=0,gt=[],pt=0,tn=null,wt=1,xt="";function ia(e,t){xl[Ul++]=_r,xl[Ul++]=Ns,Ns=e,_r=t}function TS(e,t,a){gt[pt++]=wt,gt[pt++]=xt,gt[pt++]=tn,tn=e;var n=wt;e=xt;var l=32-at(n)-1;n&=~(1<<l),a+=1;var i=32-at(t)+l;if(30<i){var r=l-l%5;i=(n&(1<<r)-1).toString(32),n>>=r,l-=r,wt=1<<32-at(t)+l|a<<l|n,xt=i+e}else wt=1<<i|a<<l|n,xt=e}function xf(e){e.return!==null&&(ia(e,1),TS(e,1,0))}function Uf(e){for(;e===Ns;)Ns=xl[--Ul],xl[Ul]=null,_r=xl[--Ul],xl[Ul]=null;for(;e===tn;)tn=gt[--pt],gt[pt]=null,xt=gt[--pt],gt[pt]=null,wt=gt[--pt],gt[pt]=null}function AS(e,t){gt[pt++]=wt,gt[pt++]=xt,gt[pt++]=tn,wt=t.id,xt=t.overflow,tn=e}var Me=null,W=null,P=!1,Qa=null,St=!1,Gd=Error(y(519));function an(e){var t=Error(y(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dr(ht(t,e)),Gd}function RE(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Le]=e,t[Qe]=n,a){case"dialog":w("cancel",t),w("close",t);break;case"iframe":case"object":case"embed":w("load",t);break;case"video":case"audio":for(a=0;a<Mr.length;a++)w(Mr[a],t);break;case"source":w("error",t);break;case"img":case"image":case"link":w("error",t),w("load",t);break;case"details":w("toggle",t);break;case"input":w("invalid",t),$h(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":w("invalid",t);break;case"textarea":w("invalid",t),eS(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||lv(t.textContent,a)?(n.popover!=null&&(w("beforetoggle",t),w("toggle",t)),n.onScroll!=null&&w("scroll",t),n.onScrollEnd!=null&&w("scrollend",t),n.onClick!=null&&(t.onclick=sa),t=!0):t=!1,t||an(e,!0)}function IE(e){for(Me=e.return;Me;)switch(Me.tag){case 5:case 31:case 13:St=!1;return;case 27:case 3:St=!0;return;default:Me=Me.return}}function Al(e){if(e!==Me)return!1;if(!P)return IE(e),P=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||mf(e.type,e.memoizedProps)),a=!a),a&&W&&an(e),IE(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));W=vh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));W=vh(e)}else t===27?(t=W,on(e.type)?(e=hf,hf=null,W=e):W=t):W=Me?vt(e.stateNode.nextSibling):null;return!0}function xn(){W=Me=null,P=!1}function ld(){var e=Qa;return e!==null&&(Xe===null?Xe=e:Xe.push.apply(Xe,e),Qa=null),e}function Dr(e){Qa===null?Qa=[e]:Qa.push(e)}var qd=Pt(null),Yn=null,ca=null;function za(e,t,a){k(qd,t._currentValue),t._currentValue=a}function da(e){e._currentValue=qd.current,_e(qd)}function jd(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Yd(e,t,a,n){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var i=l.dependencies;if(i!==null){var r=l.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=l;for(var s=0;s<t.length;s++)if(o.context===t[s]){i.lanes|=a,o=i.alternate,o!==null&&(o.lanes|=a),jd(i.return,a,e),n||(r=null);break e}i=o.next}}else if(l.tag===18){if(r=l.return,r===null)throw Error(y(341));r.lanes|=a,i=r.alternate,i!==null&&(i.lanes|=a),jd(r,a,e),r=null}else r=l.child;if(r!==null)r.return=l;else for(r=l;r!==null;){if(r===e){r=null;break}if(l=r.sibling,l!==null){l.return=r.return,r=l;break}r=r.return}l=r}}function li(e,t,a,n){e=null;for(var l=t,i=!1;l!==null;){if(!i){if((l.flags&524288)!==0)i=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var r=l.alternate;if(r===null)throw Error(y(387));if(r=r.memoizedProps,r!==null){var o=l.type;lt(l.pendingProps.value,r.value)||(e!==null?e.push(o):e=[o])}}else if(l===Ts.current){if(r=l.alternate,r===null)throw Error(y(387));r.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Ir):e=[Ir])}l=l.return}e!==null&&Yd(t,e,a,n),t.flags|=262144}function Ls(e){for(e=e.firstContext;e!==null;){if(!lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Un(e){Yn=e,ca=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Re(e){return CS(Yn,e)}function ko(e,t){return Yn===null&&Un(e),CS(e,t)}function CS(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ca===null){if(e===null)throw Error(y(308));ca=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ca=ca.next=t;return a}var UC=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},zC=ve.unstable_scheduleCallback,PC=ve.unstable_NormalPriority,he={$$typeof:oa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new UC,data:new Map,refCount:0}}function Gr(e){e.refCount--,e.refCount===0&&zC(PC,function(){e.controller.abort()})}var dr=null,Xd=0,Fl=0,Gl=null;function VC(e,t){if(dr===null){var a=dr=[];Xd=0,Fl=sm(),Gl={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Xd++,t.then(BE,BE),t}function BE(){if(--Xd===0&&dr!==null){Gl!==null&&(Gl.status="fulfilled");var e=dr;dr=null,Fl=0,Gl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function HC(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var l=0;l<a.length;l++)(0,a[l])(t)},function(l){for(n.status="rejected",n.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),n}var wE=O.S;O.S=function(e,t){zy=et(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&VC(e,t),wE!==null&&wE(e,t)};var In=Pt(null);function Pf(){var e=In.current;return e!==null?e:F.pooledCache}function ds(e,t){t===null?k(In,In.current):k(In,t.pool)}function bS(){var e=Pf();return e===null?null:{parent:he._currentValue,pool:e}}var ii=Error(y(460)),Vf=Error(y(474)),ac=Error(y(542)),Ms={then:function(){}};function xE(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _S(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(sa,sa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zE(e),e;default:if(typeof t.status=="string")t.then(sa,sa);else{if(e=F,e!==null&&100<e.shellSuspendCounter)throw Error(y(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=n}},function(n){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zE(e),e}throw Bn=t,ii}}function Nn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bn=a,ii):a}}var Bn=null;function UE(){if(Bn===null)throw Error(y(459));var e=Bn;return Bn=null,e}function zE(e){if(e===ii||e===ac)throw Error(y(483))}var ql=null,Or=0;function Jo(e){var t=Or;return Or+=1,ql===null&&(ql=[]),_S(ql,e,t)}function $i(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $o(e,t){throw t.$$typeof===D0?Error(y(525)):(e=Object.prototype.toString.call(t),Error(y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function DS(e){function t(m,d){if(e){var E=m.deletions;E===null?(m.deletions=[d],m.flags|=16):E.push(d)}}function a(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function n(m){for(var d=new Map;m!==null;)m.key!==null?d.set(m.key,m):d.set(m.index,m),m=m.sibling;return d}function l(m,d){return m=ua(m,d),m.index=0,m.sibling=null,m}function i(m,d,E){return m.index=E,e?(E=m.alternate,E!==null?(E=E.index,E<d?(m.flags|=67108866,d):E):(m.flags|=67108866,d)):(m.flags|=1048576,d)}function r(m){return e&&m.alternate===null&&(m.flags|=67108866),m}function o(m,d,E,S){return d===null||d.tag!==6?(d=ad(E,m.mode,S),d.return=m,d):(d=l(d,E),d.return=m,d)}function s(m,d,E,S){var A=E.type;return A===Dl?f(m,d,E.props.children,S,E.key):d!==null&&(d.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===xa&&Nn(A)===d.type)?(d=l(d,E.props),$i(d,E),d.return=m,d):(d=us(E.type,E.key,E.props,null,m.mode,S),$i(d,E),d.return=m,d)}function c(m,d,E,S){return d===null||d.tag!==4||d.stateNode.containerInfo!==E.containerInfo||d.stateNode.implementation!==E.implementation?(d=nd(E,m.mode,S),d.return=m,d):(d=l(d,E.children||[]),d.return=m,d)}function f(m,d,E,S,A){return d===null||d.tag!==7?(d=Rn(E,m.mode,S,A),d.return=m,d):(d=l(d,E),d.return=m,d)}function p(m,d,E){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=ad(""+d,m.mode,E),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case qo:return E=us(d.type,d.key,d.props,null,m.mode,E),$i(E,d),E.return=m,E;case nr:return d=nd(d,m.mode,E),d.return=m,d;case xa:return d=Nn(d),p(m,d,E)}if(lr(d)||ki(d))return d=Rn(d,m.mode,E,null),d.return=m,d;if(typeof d.then=="function")return p(m,Jo(d),E);if(d.$$typeof===oa)return p(m,ko(m,d),E);$o(m,d)}return null}function u(m,d,E,S){var A=d!==null?d.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return A!==null?null:o(m,d,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case qo:return E.key===A?s(m,d,E,S):null;case nr:return E.key===A?c(m,d,E,S):null;case xa:return E=Nn(E),u(m,d,E,S)}if(lr(E)||ki(E))return A!==null?null:f(m,d,E,S,null);if(typeof E.then=="function")return u(m,d,Jo(E),S);if(E.$$typeof===oa)return u(m,d,ko(m,E),S);$o(m,E)}return null}function g(m,d,E,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return m=m.get(E)||null,o(d,m,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case qo:return m=m.get(S.key===null?E:S.key)||null,s(d,m,S,A);case nr:return m=m.get(S.key===null?E:S.key)||null,c(d,m,S,A);case xa:return S=Nn(S),g(m,d,E,S,A)}if(lr(S)||ki(S))return m=m.get(E)||null,f(d,m,S,A,null);if(typeof S.then=="function")return g(m,d,E,Jo(S),A);if(S.$$typeof===oa)return g(m,d,E,ko(d,S),A);$o(d,S)}return null}function h(m,d,E,S){for(var A=null,I=null,T=d,D=d=0,C=null;T!==null&&D<E.length;D++){T.index>D?(C=T,T=null):C=T.sibling;var N=u(m,T,E[D],S);if(N===null){T===null&&(T=C);break}e&&T&&N.alternate===null&&t(m,T),d=i(N,d,D),I===null?A=N:I.sibling=N,I=N,T=C}if(D===E.length)return a(m,T),P&&ia(m,D),A;if(T===null){for(;D<E.length;D++)T=p(m,E[D],S),T!==null&&(d=i(T,d,D),I===null?A=T:I.sibling=T,I=T);return P&&ia(m,D),A}for(T=n(T);D<E.length;D++)C=g(T,m,D,E[D],S),C!==null&&(e&&C.alternate!==null&&T.delete(C.key===null?D:C.key),d=i(C,d,D),I===null?A=C:I.sibling=C,I=C);return e&&T.forEach(function(Ge){return t(m,Ge)}),P&&ia(m,D),A}function v(m,d,E,S){if(E==null)throw Error(y(151));for(var A=null,I=null,T=d,D=d=0,C=null,N=E.next();T!==null&&!N.done;D++,N=E.next()){T.index>D?(C=T,T=null):C=T.sibling;var Ge=u(m,T,N.value,S);if(Ge===null){T===null&&(T=C);break}e&&T&&Ge.alternate===null&&t(m,T),d=i(Ge,d,D),I===null?A=Ge:I.sibling=Ge,I=Ge,T=C}if(N.done)return a(m,T),P&&ia(m,D),A;if(T===null){for(;!N.done;D++,N=E.next())N=p(m,N.value,S),N!==null&&(d=i(N,d,D),I===null?A=N:I.sibling=N,I=N);return P&&ia(m,D),A}for(T=n(T);!N.done;D++,N=E.next())N=g(T,m,D,N.value,S),N!==null&&(e&&N.alternate!==null&&T.delete(N.key===null?D:N.key),d=i(N,d,D),I===null?A=N:I.sibling=N,I=N);return e&&T.forEach(function(yi){return t(m,yi)}),P&&ia(m,D),A}function _(m,d,E,S){if(typeof E=="object"&&E!==null&&E.type===Dl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case qo:e:{for(var A=E.key;d!==null;){if(d.key===A){if(A=E.type,A===Dl){if(d.tag===7){a(m,d.sibling),S=l(d,E.props.children),S.return=m,m=S;break e}}else if(d.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===xa&&Nn(A)===d.type){a(m,d.sibling),S=l(d,E.props),$i(S,E),S.return=m,m=S;break e}a(m,d);break}else t(m,d);d=d.sibling}E.type===Dl?(S=Rn(E.props.children,m.mode,S,E.key),S.return=m,m=S):(S=us(E.type,E.key,E.props,null,m.mode,S),$i(S,E),S.return=m,m=S)}return r(m);case nr:e:{for(A=E.key;d!==null;){if(d.key===A)if(d.tag===4&&d.stateNode.containerInfo===E.containerInfo&&d.stateNode.implementation===E.implementation){a(m,d.sibling),S=l(d,E.children||[]),S.return=m,m=S;break e}else{a(m,d);break}else t(m,d);d=d.sibling}S=nd(E,m.mode,S),S.return=m,m=S}return r(m);case xa:return E=Nn(E),_(m,d,E,S)}if(lr(E))return h(m,d,E,S);if(ki(E)){if(A=ki(E),typeof A!="function")throw Error(y(150));return E=A.call(E),v(m,d,E,S)}if(typeof E.then=="function")return _(m,d,Jo(E),S);if(E.$$typeof===oa)return _(m,d,ko(m,E),S);$o(m,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,d!==null&&d.tag===6?(a(m,d.sibling),S=l(d,E),S.return=m,m=S):(a(m,d),S=ad(E,m.mode,S),S.return=m,m=S),r(m)):a(m,d)}return function(m,d,E,S){try{Or=0;var A=_(m,d,E,S);return ql=null,A}catch(T){if(T===ii||T===ac)throw T;var I=$e(29,T,null,m.mode);return I.lanes=S,I.return=m,I}finally{}}}var zn=DS(!0),OS=DS(!1),Ua=!1;function Hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Za(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(H&2)!==0){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,t=Os(e),SS(e,null,a),t}return tc(e,n,t,a),Os(e)}function fr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Xh(e,a)}}function id(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var l=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?l=i=r:i=i.next=r,a=a.next}while(a!==null);i===null?l=i=t:i=i.next=t}else l=i=t;a={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Qd=!1;function mr(){if(Qd){var e=Gl;if(e!==null)throw e}}function gr(e,t,a,n){Qd=!1;var l=e.updateQueue;Ua=!1;var i=l.firstBaseUpdate,r=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var s=o,c=s.next;s.next=null,r===null?i=c:r.next=c,r=s;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==r&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=s))}if(i!==null){var p=l.baseState;r=0,f=c=s=null,o=i;do{var u=o.lane&-536870913,g=u!==o.lane;if(g?(U&u)===u:(n&u)===u){u!==0&&u===Fl&&(Qd=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var h=e,v=o;u=t;var _=a;switch(v.tag){case 1:if(h=v.payload,typeof h=="function"){p=h.call(_,p,u);break e}p=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,u=typeof h=="function"?h.call(_,p,u):h,u==null)break e;p=ee({},p,u);break e;case 2:Ua=!0}}u=o.callback,u!==null&&(e.flags|=64,g&&(e.flags|=8192),g=l.callbacks,g===null?l.callbacks=[u]:g.push(u))}else g={lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=g,s=p):f=f.next=g,r|=u;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;g=o,o=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);f===null&&(s=p),l.baseState=s,l.firstBaseUpdate=c,l.lastBaseUpdate=f,i===null&&(l.shared.lanes=0),ln|=r,e.lanes=r,e.memoizedState=p}}function NS(e,t){if(typeof e!="function")throw Error(y(191,e));e.call(t)}function LS(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)NS(a[e],t)}var Zl=Pt(null),Rs=Pt(0);function PE(e,t){e=ha,k(Rs,e),k(Zl,t),ha=e|t.baseLanes}function Fd(){k(Rs,ha),k(Zl,Zl.current)}function Gf(){ha=Rs.current,_e(Zl),_e(Rs)}var it=Pt(null),yt=null;function Pa(e){var t=e.alternate;k(ce,ce.current&1),k(it,e),yt===null&&(t===null||Zl.current!==null||t.memoizedState!==null)&&(yt=e)}function Zd(e){k(ce,ce.current),k(it,e),yt===null&&(yt=e)}function MS(e){e.tag===22?(k(ce,ce.current),k(it,e),yt===null&&(yt=e)):Va(e)}function Va(){k(ce,ce.current),k(it,it.current)}function Je(e){_e(it),yt===e&&(yt=null),_e(ce)}var ce=Pt(0);function Is(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pf(a)||Ef(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=0,R=null,Q=null,pe=null,Bs=!1,jl=!1,Pn=!1,ws=0,Nr=0,Yl=null,GC=0;function ie(){throw Error(y(321))}function qf(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!lt(e[a],t[a]))return!1;return!0}function jf(e,t,a,n,l,i){return ga=i,R=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?oy:em,Pn=!1,i=a(n,l),Pn=!1,jl&&(i=IS(t,a,n,l)),RS(e),i}function RS(e){O.H=Lr;var t=Q!==null&&Q.next!==null;if(ga=0,pe=Q=R=null,Bs=!1,Nr=0,Yl=null,t)throw Error(y(300));e===null||Se||(e=e.dependencies,e!==null&&Ls(e)&&(Se=!0))}function IS(e,t,a,n){R=e;var l=0;do{if(jl&&(Yl=null),Nr=0,jl=!1,25<=l)throw Error(y(301));if(l+=1,pe=Q=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}O.H=sy,i=t(a,n)}while(jl);return i}function qC(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?qr(t):t,e=e.useState()[0],(Q!==null?Q.memoizedState:null)!==e&&(R.flags|=1024),t}function Yf(){var e=ws!==0;return ws=0,e}function Xf(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Kf(e){if(Bs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Bs=!1}ga=0,pe=Q=R=null,jl=!1,Nr=ws=0,Yl=null}function Ve(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?R.memoizedState=pe=e:pe=pe.next=e,pe}function ue(){if(Q===null){var e=R.alternate;e=e!==null?e.memoizedState:null}else e=Q.next;var t=pe===null?R.memoizedState:pe.next;if(t!==null)pe=t,Q=e;else{if(e===null)throw R.alternate===null?Error(y(467)):Error(y(310));Q=e,e={memoizedState:Q.memoizedState,baseState:Q.baseState,baseQueue:Q.baseQueue,queue:Q.queue,next:null},pe===null?R.memoizedState=pe=e:pe=pe.next=e}return pe}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qr(e){var t=Nr;return Nr+=1,Yl===null&&(Yl=[]),e=_S(Yl,e,t),t=R,(pe===null?t.memoizedState:pe.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?oy:em),e}function lc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qr(e);if(e.$$typeof===oa)return Re(e)}throw Error(y(438,String(e)))}function Qf(e){var t=null,a=R.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=R.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=nc(),R.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=O0;return t.index++,a}function pa(e,t){return typeof t=="function"?t(e):t}function fs(e){var t=ue();return Ff(t,Q,e)}function Ff(e,t,a){var n=e.queue;if(n===null)throw Error(y(311));n.lastRenderedReducer=a;var l=e.baseQueue,i=n.pending;if(i!==null){if(l!==null){var r=l.next;l.next=i.next,i.next=r}t.baseQueue=l=i,n.pending=null}if(i=e.baseState,l===null)e.memoizedState=i;else{t=l.next;var o=r=null,s=null,c=t,f=!1;do{var p=c.lane&-536870913;if(p!==c.lane?(U&p)===p:(ga&p)===p){var u=c.revertLane;if(u===0)s!==null&&(s=s.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Fl&&(f=!0);else if((ga&u)===u){c=c.next,u===Fl&&(f=!0);continue}else p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},s===null?(o=s=p,r=i):s=s.next=p,R.lanes|=u,ln|=u;p=c.action,Pn&&a(i,p),i=c.hasEagerState?c.eagerState:a(i,p)}else u={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},s===null?(o=s=u,r=i):s=s.next=u,R.lanes|=p,ln|=p;c=c.next}while(c!==null&&c!==t);if(s===null?r=i:s.next=o,!lt(i,e.memoizedState)&&(Se=!0,f&&(a=Gl,a!==null)))throw a;e.memoizedState=i,e.baseState=r,e.baseQueue=s,n.lastRenderedState=i}return l===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function rd(e){var t=ue(),a=t.queue;if(a===null)throw Error(y(311));a.lastRenderedReducer=e;var n=a.dispatch,l=a.pending,i=t.memoizedState;if(l!==null){a.pending=null;var r=l=l.next;do i=e(i,r.action),r=r.next;while(r!==l);lt(i,t.memoizedState)||(Se=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function BS(e,t,a){var n=R,l=ue(),i=P;if(i){if(a===void 0)throw Error(y(407));a=a()}else a=t();var r=!lt((Q||l).memoizedState,a);if(r&&(l.memoizedState=a,Se=!0),l=l.queue,Zf(US.bind(null,n,l,e),[e]),l.getSnapshot!==t||r||pe!==null&&pe.memoizedState.tag&1){if(n.flags|=2048,kl(9,{destroy:void 0},xS.bind(null,n,l,a,t),null),F===null)throw Error(y(349));i||(ga&127)!==0||wS(n,t,a)}return a}function wS(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=R.updateQueue,t===null?(t=nc(),R.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function xS(e,t,a,n){t.value=a,t.getSnapshot=n,zS(t)&&PS(e)}function US(e,t,a){return a(function(){zS(t)&&PS(e)})}function zS(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!lt(e,a)}catch{return!0}}function PS(e){var t=jn(e,2);t!==null&&Ke(t,e,2)}function kd(e){var t=Ve();if(typeof e=="function"){var a=e;if(e=a(),Pn){Ga(!0);try{a()}finally{Ga(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t}function VS(e,t,a,n){return e.baseState=a,Ff(e,Q,typeof n=="function"?n:pa)}function jC(e,t,a,n,l){if(rc(e))throw Error(y(485));if(e=t.action,e!==null){var i={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};O.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,HS(t,i)):(i.next=a.next,t.pending=a.next=i)}}function HS(e,t){var a=t.action,n=t.payload,l=e.state;if(t.isTransition){var i=O.T,r={};O.T=r;try{var o=a(l,n),s=O.S;s!==null&&s(r,o),VE(e,t,o)}catch(c){Jd(e,t,c)}finally{i!==null&&r.types!==null&&(i.types=r.types),O.T=i}}else try{i=a(l,n),VE(e,t,i)}catch(c){Jd(e,t,c)}}function VE(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){HE(e,t,n)},function(n){return Jd(e,t,n)}):HE(e,t,a)}function HE(e,t,a){t.status="fulfilled",t.value=a,GS(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,HS(e,a)))}function Jd(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,GS(t),t=t.next;while(t!==n)}e.action=null}function GS(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function qS(e,t){return t}function GE(e,t){if(P){var a=F.formState;if(a!==null){e:{var n=R;if(P){if(W){t:{for(var l=W,i=St;l.nodeType!==8;){if(!i){l=null;break t}if(l=vt(l.nextSibling),l===null){l=null;break t}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){W=vt(l.nextSibling),n=l.data==="F!";break e}}an(n)}n=!1}n&&(t=a[0])}}return a=Ve(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qS,lastRenderedState:t},a.queue=n,a=ly.bind(null,R,n),n.dispatch=a,n=kd(!1),i=Wf.bind(null,R,!1,n.queue),n=Ve(),l={state:t,dispatch:null,action:e,pending:null},n.queue=l,a=jC.bind(null,R,l,i,a),l.dispatch=a,n.memoizedState=e,[t,a,!1]}function qE(e){var t=ue();return jS(t,Q,e)}function jS(e,t,a){if(t=Ff(e,t,qS)[0],e=fs(pa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=qr(t)}catch(r){throw r===ii?ac:r}else n=t;t=ue();var l=t.queue,i=l.dispatch;return a!==t.memoizedState&&(R.flags|=2048,kl(9,{destroy:void 0},YC.bind(null,l,a),null)),[n,i,e]}function YC(e,t){e.action=t}function jE(e){var t=ue(),a=Q;if(a!==null)return jS(t,a,e);ue(),t=t.memoizedState,a=ue();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function kl(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=R.updateQueue,t===null&&(t=nc(),R.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function YS(){return ue().memoizedState}function ms(e,t,a,n){var l=Ve();R.flags|=e,l.memoizedState=kl(1|t,{destroy:void 0},a,n===void 0?null:n)}function ic(e,t,a,n){var l=ue();n=n===void 0?null:n;var i=l.memoizedState.inst;Q!==null&&n!==null&&qf(n,Q.memoizedState.deps)?l.memoizedState=kl(t,i,a,n):(R.flags|=e,l.memoizedState=kl(1|t,i,a,n))}function YE(e,t){ms(8390656,8,e,t)}function Zf(e,t){ic(2048,8,e,t)}function XC(e){R.flags|=4;var t=R.updateQueue;if(t===null)t=nc(),R.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function XS(e){var t=ue().memoizedState;return XC({ref:t,nextImpl:e}),function(){if((H&2)!==0)throw Error(y(440));return t.impl.apply(void 0,arguments)}}function KS(e,t){return ic(4,2,e,t)}function QS(e,t){return ic(4,4,e,t)}function FS(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZS(e,t,a){a=a!=null?a.concat([e]):null,ic(4,4,FS.bind(null,t,e),a)}function kf(){}function kS(e,t){var a=ue();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&qf(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function JS(e,t){var a=ue();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&qf(t,n[1]))return n[0];if(n=e(),Pn){Ga(!0);try{e()}finally{Ga(!1)}}return a.memoizedState=[n,t],n}function Jf(e,t,a){return a===void 0||(ga&1073741824)!==0&&(U&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Vy(),R.lanes|=e,ln|=e,a)}function $S(e,t,a,n){return lt(a,t)?a:Zl.current!==null?(e=Jf(e,a,n),lt(e,t)||(Se=!0),e):(ga&42)===0||(ga&1073741824)!==0&&(U&261930)===0?(Se=!0,e.memoizedState=a):(e=Vy(),R.lanes|=e,ln|=e,t)}function WS(e,t,a,n,l){var i=G.p;G.p=i!==0&&8>i?i:8;var r=O.T,o={};O.T=o,Wf(e,!1,t,a);try{var s=l(),c=O.S;if(c!==null&&c(o,s),s!==null&&typeof s=="object"&&typeof s.then=="function"){var f=HC(s,n);pr(e,t,f,nt(e))}else pr(e,t,n,nt(e))}catch(p){pr(e,t,{then:function(){},status:"rejected",reason:p},nt())}finally{G.p=i,r!==null&&o.types!==null&&(r.types=o.types),O.T=r}}function KC(){}function $d(e,t,a,n){if(e.tag!==5)throw Error(y(476));var l=ey(e).queue;WS(e,l,t,Mn,a===null?KC:function(){return ty(e),a(n)})}function ey(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Mn,baseState:Mn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:Mn},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ty(e){var t=ey(e);t.next===null&&(t=e.alternate.memoizedState),pr(e,t.next.queue,{},nt())}function $f(){return Re(Ir)}function ay(){return ue().memoizedState}function ny(){return ue().memoizedState}function QC(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=nt();e=Fa(a);var n=Za(t,e,a);n!==null&&(Ke(n,t,a),fr(n,t,a)),t={cache:zf()},e.payload=t;return}t=t.return}}function FC(e,t,a){var n=nt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(e)?iy(t,a):(a=Bf(e,t,a,n),a!==null&&(Ke(a,e,n),ry(a,t,n)))}function ly(e,t,a){var n=nt();pr(e,t,a,n)}function pr(e,t,a,n){var l={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(e))iy(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,o=i(r,a);if(l.hasEagerState=!0,l.eagerState=o,lt(o,r))return tc(e,t,l,0),F===null&&ec(),!1}catch{}finally{}if(a=Bf(e,t,l,n),a!==null)return Ke(a,e,n),ry(a,t,n),!0}return!1}function Wf(e,t,a,n){if(n={lane:2,revertLane:sm(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},rc(e)){if(t)throw Error(y(479))}else t=Bf(e,a,n,2),t!==null&&Ke(t,e,2)}function rc(e){var t=e.alternate;return e===R||t!==null&&t===R}function iy(e,t){jl=Bs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function ry(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Xh(e,a)}}var Lr={readContext:Re,use:lc,useCallback:ie,useContext:ie,useEffect:ie,useImperativeHandle:ie,useLayoutEffect:ie,useInsertionEffect:ie,useMemo:ie,useReducer:ie,useRef:ie,useState:ie,useDebugValue:ie,useDeferredValue:ie,useTransition:ie,useSyncExternalStore:ie,useId:ie,useHostTransitionStatus:ie,useFormState:ie,useActionState:ie,useOptimistic:ie,useMemoCache:ie,useCacheRefresh:ie};Lr.useEffectEvent=ie;var oy={readContext:Re,use:lc,useCallback:function(e,t){return Ve().memoizedState=[e,t===void 0?null:t],e},useContext:Re,useEffect:YE,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ms(4194308,4,FS.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var a=Ve();t=t===void 0?null:t;var n=e();if(Pn){Ga(!0);try{e()}finally{Ga(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Ve();if(a!==void 0){var l=a(t);if(Pn){Ga(!0);try{a(t)}finally{Ga(!1)}}}else l=t;return n.memoizedState=n.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},n.queue=e,e=e.dispatch=FC.bind(null,R,e),[n.memoizedState,e]},useRef:function(e){var t=Ve();return e={current:e},t.memoizedState=e},useState:function(e){e=kd(e);var t=e.queue,a=ly.bind(null,R,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(e,t){var a=Ve();return Jf(a,e,t)},useTransition:function(){var e=kd(!1);return e=WS.bind(null,R,e.queue,!0,!1),Ve().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=R,l=Ve();if(P){if(a===void 0)throw Error(y(407));a=a()}else{if(a=t(),F===null)throw Error(y(349));(U&127)!==0||wS(n,t,a)}l.memoizedState=a;var i={value:a,getSnapshot:t};return l.queue=i,YE(US.bind(null,n,i,e),[e]),n.flags|=2048,kl(9,{destroy:void 0},xS.bind(null,n,i,a,t),null),a},useId:function(){var e=Ve(),t=F.identifierPrefix;if(P){var a=xt,n=wt;a=(n&~(1<<32-at(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ws++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=GC++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:$f,useFormState:GE,useActionState:GE,useOptimistic:function(e){var t=Ve();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Wf.bind(null,R,!0,a),a.dispatch=t,[e,t]},useMemoCache:Qf,useCacheRefresh:function(){return Ve().memoizedState=QC.bind(null,R)},useEffectEvent:function(e){var t=Ve(),a={impl:e};return t.memoizedState=a,function(){if((H&2)!==0)throw Error(y(440));return a.impl.apply(void 0,arguments)}}},em={readContext:Re,use:lc,useCallback:kS,useContext:Re,useEffect:Zf,useImperativeHandle:ZS,useInsertionEffect:KS,useLayoutEffect:QS,useMemo:JS,useReducer:fs,useRef:YS,useState:function(){return fs(pa)},useDebugValue:kf,useDeferredValue:function(e,t){var a=ue();return $S(a,Q.memoizedState,e,t)},useTransition:function(){var e=fs(pa)[0],t=ue().memoizedState;return[typeof e=="boolean"?e:qr(e),t]},useSyncExternalStore:BS,useId:ay,useHostTransitionStatus:$f,useFormState:qE,useActionState:qE,useOptimistic:function(e,t){var a=ue();return VS(a,Q,e,t)},useMemoCache:Qf,useCacheRefresh:ny};em.useEffectEvent=XS;var sy={readContext:Re,use:lc,useCallback:kS,useContext:Re,useEffect:Zf,useImperativeHandle:ZS,useInsertionEffect:KS,useLayoutEffect:QS,useMemo:JS,useReducer:rd,useRef:YS,useState:function(){return rd(pa)},useDebugValue:kf,useDeferredValue:function(e,t){var a=ue();return Q===null?Jf(a,e,t):$S(a,Q.memoizedState,e,t)},useTransition:function(){var e=rd(pa)[0],t=ue().memoizedState;return[typeof e=="boolean"?e:qr(e),t]},useSyncExternalStore:BS,useId:ay,useHostTransitionStatus:$f,useFormState:jE,useActionState:jE,useOptimistic:function(e,t){var a=ue();return Q!==null?VS(a,Q,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:ny};sy.useEffectEvent=XS;function od(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:ee({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Wd={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=nt(),l=Fa(n);l.payload=t,a!=null&&(l.callback=a),t=Za(e,l,n),t!==null&&(Ke(t,e,n),fr(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=nt(),l=Fa(n);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=Za(e,l,n),t!==null&&(Ke(t,e,n),fr(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=nt(),n=Fa(a);n.tag=2,t!=null&&(n.callback=t),t=Za(e,n,a),t!==null&&(Ke(t,e,a),fr(t,e,a))}};function XE(e,t,a,n,l,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,r):t.prototype&&t.prototype.isPureReactComponent?!br(a,n)||!br(l,i):!0}function KE(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Wd.enqueueReplaceState(t,t.state,null)}function Vn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=ee({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}function cy(e){Ds(e)}function uy(e){console.error(e)}function dy(e){Ds(e)}function xs(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function QE(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function ef(e,t,a){return a=Fa(a),a.tag=3,a.payload={element:null},a.callback=function(){xs(e,t)},a}function fy(e){return e=Fa(e),e.tag=3,e}function my(e,t,a,n){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var i=n.value;e.payload=function(){return l(i)},e.callback=function(){QE(t,a,n)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){QE(t,a,n),typeof l!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function ZC(e,t,a,n,l){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&li(t,a,l,!0),a=it.current,a!==null){switch(a.tag){case 31:case 13:return yt===null?Hs():a.alternate===null&&re===0&&(re=3),a.flags&=-257,a.flags|=65536,a.lanes=l,n===Ms?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Sd(e,n,l)),!1;case 22:return a.flags|=65536,n===Ms?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Sd(e,n,l)),!1}throw Error(y(435,a.tag))}return Sd(e,n,l),Hs(),!1}if(P)return t=it.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,n!==Gd&&(e=Error(y(422),{cause:n}),Dr(ht(e,a)))):(n!==Gd&&(t=Error(y(423),{cause:n}),Dr(ht(t,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,n=ht(n,a),l=ef(e.stateNode,n,l),id(e,l),re!==4&&(re=2)),!1;var i=Error(y(520),{cause:n});if(i=ht(i,a),Sr===null?Sr=[i]:Sr.push(i),re!==4&&(re=2),t===null)return!0;n=ht(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=ef(a.stateNode,n,e),id(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ka===null||!ka.has(i))))return a.flags|=65536,l&=-l,a.lanes|=l,l=fy(l),my(l,e,a,n),id(a,l),!1}a=a.return}while(a!==null);return!1}var tm=Error(y(461)),Se=!1;function Ne(e,t,a,n){t.child=e===null?OS(t,null,a,n):zn(t,e.child,a,n)}function FE(e,t,a,n,l){a=a.render;var i=t.ref;if("ref"in n){var r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}else r=n;return Un(t),n=jf(e,t,a,r,i,l),o=Yf(),e!==null&&!Se?(Xf(e,t,l),Ea(e,t,l)):(P&&o&&xf(t),t.flags|=1,Ne(e,t,n,l),t.child)}function ZE(e,t,a,n,l){if(e===null){var i=a.type;return typeof i=="function"&&!wf(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,gy(e,t,i,n,l)):(e=us(a.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!am(e,l)){var r=i.memoizedProps;if(a=a.compare,a=a!==null?a:br,a(r,n)&&e.ref===t.ref)return Ea(e,t,l)}return t.flags|=1,e=ua(i,n),e.ref=t.ref,e.return=t,t.child=e}function gy(e,t,a,n,l){if(e!==null){var i=e.memoizedProps;if(br(i,n)&&e.ref===t.ref)if(Se=!1,t.pendingProps=n=i,am(e,l))(e.flags&131072)!==0&&(Se=!0);else return t.lanes=e.lanes,Ea(e,t,l)}return tf(e,t,a,n,l)}function py(e,t,a,n){var l=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;n=l&~i}else n=0,t.child=null;return kE(e,t,i,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ds(t,i!==null?i.cachePool:null),i!==null?PE(t,i):Fd(),MS(t);else return n=t.lanes=536870912,kE(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(ds(t,i.cachePool),PE(t,i),Va(t),t.memoizedState=null):(e!==null&&ds(t,null),Fd(),Va(t));return Ne(e,t,l,a),t.child}function rr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function kE(e,t,a,n,l){var i=Pf();return i=i===null?null:{parent:he._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&ds(t,null),Fd(),MS(t),e!==null&&li(e,t,n,!0),t.childLanes=l,null}function gs(e,t){return t=Us({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function JE(e,t,a){return zn(t,e.child,null,a),e=gs(t,t.pendingProps),e.flags|=2,Je(t),t.memoizedState=null,e}function kC(e,t,a){var n=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(P){if(n.mode==="hidden")return e=gs(t,n),t.lanes=536870912,rr(null,e);if(Zd(t),(e=W)?(e=ov(e,St),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:tn!==null?{id:wt,overflow:xt}:null,retryLane:536870912,hydrationErrors:null},a=vS(e),a.return=t,t.child=a,Me=t,W=null)):e=null,e===null)throw an(t);return t.lanes=536870912,null}return gs(t,n)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(Zd(t),l)if(t.flags&256)t.flags&=-257,t=JE(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(y(558));else if(Se||li(e,t,a,!1),l=(a&e.childLanes)!==0,Se||l){if(n=F,n!==null&&(r=Kh(n,a),r!==0&&r!==i.retryLane))throw i.retryLane=r,jn(e,r),Ke(n,e,r),tm;Hs(),t=JE(e,t,a)}else e=i.treeContext,W=vt(r.nextSibling),Me=t,P=!0,Qa=null,St=!1,e!==null&&AS(t,e),t=gs(t,n),t.flags|=4096;return t}return e=ua(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ps(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(y(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function tf(e,t,a,n,l){return Un(t),a=jf(e,t,a,n,void 0,l),n=Yf(),e!==null&&!Se?(Xf(e,t,l),Ea(e,t,l)):(P&&n&&xf(t),t.flags|=1,Ne(e,t,a,l),t.child)}function $E(e,t,a,n,l,i){return Un(t),t.updateQueue=null,a=IS(t,n,a,l),RS(e),n=Yf(),e!==null&&!Se?(Xf(e,t,i),Ea(e,t,i)):(P&&n&&xf(t),t.flags|=1,Ne(e,t,a,i),t.child)}function WE(e,t,a,n,l){if(Un(t),t.stateNode===null){var i=wl,r=a.contextType;typeof r=="object"&&r!==null&&(i=Re(r)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Wd,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},Hf(t),r=a.contextType,i.context=typeof r=="object"&&r!==null?Re(r):wl,i.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(od(t,a,r,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&Wd.enqueueReplaceState(i,i.state,null),gr(t,n,i,l),mr(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,s=Vn(a,o);i.props=s;var c=i.context,f=a.contextType;r=wl,typeof f=="object"&&f!==null&&(r=Re(f));var p=a.getDerivedStateFromProps;f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||c!==r)&&KE(t,i,n,r),Ua=!1;var u=t.memoizedState;i.state=u,gr(t,n,i,l),mr(),c=t.memoizedState,o||u!==c||Ua?(typeof p=="function"&&(od(t,a,p,n),c=t.memoizedState),(s=Ua||XE(t,a,s,n,u,c,r))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=r,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Kd(e,t),r=t.memoizedProps,f=Vn(a,r),i.props=f,p=t.pendingProps,u=i.context,c=a.contextType,s=wl,typeof c=="object"&&c!==null&&(s=Re(c)),o=a.getDerivedStateFromProps,(c=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==p||u!==s)&&KE(t,i,n,s),Ua=!1,u=t.memoizedState,i.state=u,gr(t,n,i,l),mr();var g=t.memoizedState;r!==p||u!==g||Ua||e!==null&&e.dependencies!==null&&Ls(e.dependencies)?(typeof o=="function"&&(od(t,a,o,n),g=t.memoizedState),(f=Ua||XE(t,a,f,n,u,g,s)||e!==null&&e.dependencies!==null&&Ls(e.dependencies))?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=s,n=f):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,ps(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=zn(t,e.child,null,l),t.child=zn(t,null,a,l)):Ne(e,t,a,l),t.memoizedState=i.state,e=t.child):e=Ea(e,t,l),e}function eh(e,t,a,n){return xn(),t.flags|=256,Ne(e,t,a,n),t.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(e){return{baseLanes:e,cachePool:bS()}}function ud(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=We),e}function Ey(e,t,a){var n=t.pendingProps,l=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(ce.current&2)!==0),r&&(l=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(P){if(l?Pa(t):Va(t),(e=W)?(e=ov(e,St),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:tn!==null?{id:wt,overflow:xt}:null,retryLane:536870912,hydrationErrors:null},a=vS(e),a.return=t,t.child=a,Me=t,W=null)):e=null,e===null)throw an(t);return Ef(e)?t.lanes=32:t.lanes=536870912,null}var o=n.children;return n=n.fallback,l?(Va(t),l=t.mode,o=Us({mode:"hidden",children:o},l),n=Rn(n,l,a,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n=t.child,n.memoizedState=cd(a),n.childLanes=ud(e,r,a),t.memoizedState=sd,rr(null,n)):(Pa(t),af(t,o))}var s=e.memoizedState;if(s!==null&&(o=s.dehydrated,o!==null)){if(i)t.flags&256?(Pa(t),t.flags&=-257,t=dd(e,t,a)):t.memoizedState!==null?(Va(t),t.child=e.child,t.flags|=128,t=null):(Va(t),o=n.fallback,l=t.mode,n=Us({mode:"visible",children:n.children},l),o=Rn(o,l,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,zn(t,e.child,null,a),n=t.child,n.memoizedState=cd(a),n.childLanes=ud(e,r,a),t.memoizedState=sd,t=rr(null,n));else if(Pa(t),Ef(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var c=r.dgst;r=c,n=Error(y(419)),n.stack="",n.digest=r,Dr({value:n,source:null,stack:null}),t=dd(e,t,a)}else if(Se||li(e,t,a,!1),r=(a&e.childLanes)!==0,Se||r){if(r=F,r!==null&&(n=Kh(r,a),n!==0&&n!==s.retryLane))throw s.retryLane=n,jn(e,n),Ke(r,e,n),tm;pf(o)||Hs(),t=dd(e,t,a)}else pf(o)?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,W=vt(o.nextSibling),Me=t,P=!0,Qa=null,St=!1,e!==null&&AS(t,e),t=af(t,n.children),t.flags|=4096);return t}return l?(Va(t),o=n.fallback,l=t.mode,s=e.child,c=s.sibling,n=ua(s,{mode:"hidden",children:n.children}),n.subtreeFlags=s.subtreeFlags&65011712,c!==null?o=ua(c,o):(o=Rn(o,l,a,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,rr(null,n),n=t.child,o=e.child.memoizedState,o===null?o=cd(a):(l=o.cachePool,l!==null?(s=he._currentValue,l=l.parent!==s?{parent:s,pool:s}:l):l=bS(),o={baseLanes:o.baseLanes|a,cachePool:l}),n.memoizedState=o,n.childLanes=ud(e,r,a),t.memoizedState=sd,rr(e.child,n)):(Pa(t),a=e.child,e=a.sibling,a=ua(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function af(e,t){return t=Us({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Us(e,t){return e=$e(22,e,null,t),e.lanes=0,e}function dd(e,t,a){return zn(t,e.child,null,a),e=af(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function th(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),jd(e.return,t,a)}function fd(e,t,a,n,l,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:l,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=a,r.tailMode=l,r.treeForkCount=i)}function hy(e,t,a){var n=t.pendingProps,l=n.revealOrder,i=n.tail;n=n.children;var r=ce.current,o=(r&2)!==0;if(o?(r=r&1|2,t.flags|=128):r&=1,k(ce,r),Ne(e,t,n,a),n=P?_r:0,!o&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&th(e,a,t);else if(e.tag===19)th(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(a=t.child,l=null;a!==null;)e=a.alternate,e!==null&&Is(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=t.child,t.child=null):(l=a.sibling,a.sibling=null),fd(t,!1,l,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Is(e)===null){t.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}fd(t,!0,a,null,i,n);break;case"together":fd(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Ea(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ln|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(li(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(y(153));if(t.child!==null){for(e=t.child,a=ua(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ua(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function am(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ls(e)))}function JC(e,t,a){switch(t.tag){case 3:As(t,t.stateNode.containerInfo),za(t,he,e.memoizedState.cache),xn();break;case 27:case 5:Md(t);break;case 4:As(t,t.stateNode.containerInfo);break;case 10:za(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Zd(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Pa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ey(e,t,a):(Pa(t),e=Ea(e,t,a),e!==null?e.sibling:null);Pa(t);break;case 19:var l=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(li(e,t,a,!1),n=(a&t.childLanes)!==0),l){if(n)return hy(e,t,a);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),k(ce,ce.current),n)break;return null;case 22:return t.lanes=0,py(e,t,a,t.pendingProps);case 24:za(t,he,e.memoizedState.cache)}return Ea(e,t,a)}function Sy(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Se=!0;else{if(!am(e,a)&&(t.flags&128)===0)return Se=!1,JC(e,t,a);Se=(e.flags&131072)!==0}else Se=!1,P&&(t.flags&1048576)!==0&&TS(t,_r,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Nn(t.elementType),t.type=e,typeof e=="function")wf(e)?(n=Vn(e,n),t.tag=1,t=WE(null,t,e,n,a)):(t.tag=0,t=tf(null,t,e,n,a));else{if(e!=null){var l=e.$$typeof;if(l===vf){t.tag=11,t=FE(null,t,e,n,a);break e}else if(l===Tf){t.tag=14,t=ZE(null,t,e,n,a);break e}}throw t=Nd(e)||e,Error(y(306,t,""))}}return t;case 0:return tf(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,l=Vn(n,t.pendingProps),WE(e,t,n,l,a);case 3:e:{if(As(t,t.stateNode.containerInfo),e===null)throw Error(y(387));n=t.pendingProps;var i=t.memoizedState;l=i.element,Kd(e,t),gr(t,n,null,a);var r=t.memoizedState;if(n=r.cache,za(t,he,n),n!==i.cache&&Yd(t,[he],a,!0),mr(),n=r.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=eh(e,t,n,a);break e}else if(n!==l){l=ht(Error(y(424)),t),Dr(l),t=eh(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(W=vt(e.firstChild),Me=t,P=!0,Qa=null,St=!0,a=OS(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xn(),n===l){t=Ea(e,t,a);break e}Ne(e,t,n,a)}t=t.child}return t;case 26:return ps(e,t),e===null?(a=Ch(t.type,null,t.pendingProps,null))?t.memoizedState=a:P||(a=t.type,e=t.pendingProps,n=Ys(Ka.current).createElement(a),n[Le]=t,n[Qe]=e,Ie(n,a,e),be(n),t.stateNode=n):t.memoizedState=Ch(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Md(t),e===null&&P&&(n=t.stateNode=sv(t.type,t.pendingProps,Ka.current),Me=t,St=!0,l=W,on(t.type)?(hf=l,W=vt(n.firstChild)):W=l),Ne(e,t,t.pendingProps.children,a),ps(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&P&&((l=n=W)&&(n=_b(n,t.type,t.pendingProps,St),n!==null?(t.stateNode=n,Me=t,W=vt(n.firstChild),St=!1,l=!0):l=!1),l||an(t)),Md(t),l=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,n=i.children,mf(l,i)?n=null:r!==null&&mf(l,r)&&(t.flags|=32),t.memoizedState!==null&&(l=jf(e,t,qC,null,null,a),Ir._currentValue=l),ps(e,t),Ne(e,t,n,a),t.child;case 6:return e===null&&P&&((e=a=W)&&(a=Db(a,t.pendingProps,St),a!==null?(t.stateNode=a,Me=t,W=null,e=!0):e=!1),e||an(t)),null;case 13:return Ey(e,t,a);case 4:return As(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=zn(t,null,n,a):Ne(e,t,n,a),t.child;case 11:return FE(e,t,t.type,t.pendingProps,a);case 7:return Ne(e,t,t.pendingProps,a),t.child;case 8:return Ne(e,t,t.pendingProps.children,a),t.child;case 12:return Ne(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,za(t,t.type,n.value),Ne(e,t,n.children,a),t.child;case 9:return l=t.type._context,n=t.pendingProps.children,Un(t),l=Re(l),n=n(l),t.flags|=1,Ne(e,t,n,a),t.child;case 14:return ZE(e,t,t.type,t.pendingProps,a);case 15:return gy(e,t,t.type,t.pendingProps,a);case 19:return hy(e,t,a);case 31:return kC(e,t,a);case 22:return py(e,t,a,t.pendingProps);case 24:return Un(t),n=Re(he),e===null?(l=Pf(),l===null&&(l=F,i=zf(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=a),l=i),t.memoizedState={parent:n,cache:l},Hf(t),za(t,he,l)):((e.lanes&a)!==0&&(Kd(e,t),gr(t,null,null,a),mr()),l=e.memoizedState,i=t.memoizedState,l.parent!==n?(l={parent:n,cache:n},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),za(t,he,n)):(n=i.cache,za(t,he,n),n!==l.cache&&Yd(t,[he],a,!0))),Ne(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(y(156,t.tag))}function ta(e){e.flags|=4}function md(e,t,a,n,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(qy())e.flags|=8192;else throw Bn=Ms,Vf}else e.flags&=-16777217}function ah(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dv(t))if(qy())e.flags|=8192;else throw Bn=Ms,Vf}function Wo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?jh():536870912,e.lanes|=t,Jl|=t)}function Wi(e,t){if(!P)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags&65011712,n|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function $C(e,t,a){var n=t.pendingProps;switch(Uf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $(t),null;case 1:return $(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),da(he),Xl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Al(t)?ta(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ld())),$(t),null;case 26:var l=t.type,i=t.memoizedState;return e===null?(ta(t),i!==null?($(t),ah(t,i)):($(t),md(t,l,null,n,a))):i?i!==e.memoizedState?(ta(t),$(t),ah(t,i)):($(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&ta(t),$(t),md(t,l,e,n,a)),null;case 27:if(Cs(t),a=Ka.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ta(t);else{if(!n){if(t.stateNode===null)throw Error(y(166));return $(t),null}e=zt.current,Al(t)?RE(t,e):(e=sv(l,n,a),t.stateNode=e,ta(t))}return $(t),null;case 5:if(Cs(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ta(t);else{if(!n){if(t.stateNode===null)throw Error(y(166));return $(t),null}if(i=zt.current,Al(t))RE(t,i);else{var r=Ys(Ka.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?r.createElement(l,{is:n.is}):r.createElement(l)}}i[Le]=t,i[Qe]=n;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(Ie(i,l,n),l){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ta(t)}}return $(t),md(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ta(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(y(166));if(e=Ka.current,Al(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,l=Me,l!==null)switch(l.tag){case 27:case 5:n=l.memoizedProps}e[Le]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||lv(e.nodeValue,a)),e||an(t,!0)}else e=Ys(e).createTextNode(n),e[Le]=t,t.stateNode=e}return $(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=Al(t),a!==null){if(e===null){if(!n)throw Error(y(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(557));e[Le]=t}else xn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$(t),e=!1}else a=ld(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Je(t),t):(Je(t),null);if((t.flags&128)!==0)throw Error(y(558))}return $(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Al(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(y(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(y(317));l[Le]=t}else xn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$(t),l=!1}else l=ld(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(Je(t),t):(Je(t),null)}return Je(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,l=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(l=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==l&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Wo(t,t.updateQueue),$(t),null);case 4:return Xl(),e===null&&cm(t.stateNode.containerInfo),$(t),null;case 10:return da(t.type),$(t),null;case 19:if(_e(ce),n=t.memoizedState,n===null)return $(t),null;if(l=(t.flags&128)!==0,i=n.rendering,i===null)if(l)Wi(n,!1);else{if(re!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Is(e),i!==null){for(t.flags|=128,Wi(n,!1),e=i.updateQueue,t.updateQueue=e,Wo(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)yS(a,e),a=a.sibling;return k(ce,ce.current&1|2),P&&ia(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&et()>Ps&&(t.flags|=128,l=!0,Wi(n,!1),t.lanes=4194304)}else{if(!l)if(e=Is(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Wo(t,e),Wi(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!P)return $(t),null}else 2*et()-n.renderingStartTime>Ps&&a!==536870912&&(t.flags|=128,l=!0,Wi(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=et(),e.sibling=null,a=ce.current,k(ce,l?a&1|2:a&1),P&&ia(t,n.treeForkCount),e):($(t),null);case 22:case 23:return Je(t),Gf(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&($(t),t.subtreeFlags&6&&(t.flags|=8192)):$(t),a=t.updateQueue,a!==null&&Wo(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&_e(In),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),da(he),$(t),null;case 25:return null;case 30:return null}throw Error(y(156,t.tag))}function WC(e,t){switch(Uf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return da(he),Xl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Cs(t),null;case 31:if(t.memoizedState!==null){if(Je(t),t.alternate===null)throw Error(y(340));xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Je(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(y(340));xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(ce),null;case 4:return Xl(),null;case 10:return da(t.type),null;case 22:case 23:return Je(t),Gf(),e!==null&&_e(In),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return da(he),null;case 25:return null;default:return null}}function yy(e,t){switch(Uf(t),t.tag){case 3:da(he),Xl();break;case 26:case 27:case 5:Cs(t);break;case 4:Xl();break;case 31:t.memoizedState!==null&&Je(t);break;case 13:Je(t);break;case 19:_e(ce);break;case 10:da(t.type);break;case 22:case 23:Je(t),Gf(),e!==null&&_e(In);break;case 24:da(he)}}function jr(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var l=n.next;a=l;do{if((a.tag&e)===e){n=void 0;var i=a.create,r=a.inst;n=i(),r.destroy=n}a=a.next}while(a!==l)}}catch(o){Y(t,t.return,o)}}function nn(e,t,a){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var i=l.next;n=i;do{if((n.tag&e)===e){var r=n.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,l=t;var s=a,c=o;try{c()}catch(f){Y(l,s,f)}}}n=n.next}while(n!==i)}}catch(f){Y(t,t.return,f)}}function vy(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{LS(t,a)}catch(n){Y(e,e.return,n)}}}function Ty(e,t,a){a.props=Vn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Y(e,t,n)}}function Er(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(l){Y(e,t,l)}}function Ut(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(l){Y(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){Y(e,t,l)}else a.current=null}function Ay(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(l){Y(e,e.return,l)}}function gd(e,t,a){try{var n=e.stateNode;yb(n,e.type,a,t),n[Qe]=t}catch(l){Y(e,e.return,l)}}function Cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&on(e.type)||e.tag===4}function pd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&on(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nf(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=sa));else if(n!==4&&(n===27&&on(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(nf(e,t,a),e=e.sibling;e!==null;)nf(e,t,a),e=e.sibling}function zs(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&on(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(zs(e,t,a),e=e.sibling;e!==null;)zs(e,t,a),e=e.sibling}function by(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Ie(t,n,a),t[Le]=e,t[Qe]=a}catch(i){Y(e,e.return,i)}}var ra=!1,Ee=!1,Ed=!1,nh=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function eb(e,t){if(e=e.containerInfo,df=Fs,e=dS(e),Rf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var l=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var r=0,o=-1,s=-1,c=0,f=0,p=e,u=null;t:for(;;){for(var g;p!==a||l!==0&&p.nodeType!==3||(o=r+l),p!==i||n!==0&&p.nodeType!==3||(s=r+n),p.nodeType===3&&(r+=p.nodeValue.length),(g=p.firstChild)!==null;)u=p,p=g;for(;;){if(p===e)break t;if(u===a&&++c===l&&(o=r),u===i&&++f===n&&(s=r),(g=p.nextSibling)!==null)break;p=u,u=p.parentNode}p=g}a=o===-1||s===-1?null:{start:o,end:s}}else a=null}a=a||{start:0,end:0}}else a=null;for(ff={focusedElem:e,selectionRange:a},Fs=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){switch(t=Ce,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)l=e[a],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,l=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var h=Vn(a.type,l);e=n.getSnapshotBeforeUpdate(h,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(v){Y(a,a.return,v)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)gf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(y(163))}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}}function _y(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:na(e,a),n&4&&jr(5,a);break;case 1:if(na(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){Y(a,a.return,r)}else{var l=Vn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Y(a,a.return,r)}}n&64&&vy(a),n&512&&Er(a,a.return);break;case 3:if(na(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{LS(e,t)}catch(r){Y(a,a.return,r)}}break;case 27:t===null&&n&4&&by(a);case 26:case 5:na(e,a),t===null&&n&4&&Ay(a),n&512&&Er(a,a.return);break;case 12:na(e,a);break;case 31:na(e,a),n&4&&Ny(e,a);break;case 13:na(e,a),n&4&&Ly(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=cb.bind(null,a),Ob(e,a))));break;case 22:if(n=a.memoizedState!==null||ra,!n){t=t!==null&&t.memoizedState!==null||Ee,l=ra;var i=Ee;ra=n,(Ee=t)&&!i?la(e,a,(a.subtreeFlags&8772)!==0):na(e,a),ra=l,Ee=i}break;case 30:break;default:na(e,a)}}function Dy(e){var t=e.alternate;t!==null&&(e.alternate=null,Dy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_f(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,Ye=!1;function aa(e,t,a){for(a=a.child;a!==null;)Oy(e,t,a),a=a.sibling}function Oy(e,t,a){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Ur,a)}catch{}switch(a.tag){case 26:Ee||Ut(a,t),aa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ee||Ut(a,t);var n=ae,l=Ye;on(a.type)&&(ae=a.stateNode,Ye=!1),aa(e,t,a),vr(a.stateNode),ae=n,Ye=l;break;case 5:Ee||Ut(a,t);case 6:if(n=ae,l=Ye,ae=null,aa(e,t,a),ae=n,Ye=l,ae!==null)if(Ye)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(i){Y(a,t,i)}else try{ae.removeChild(a.stateNode)}catch(i){Y(a,t,i)}break;case 18:ae!==null&&(Ye?(e=ae,Sh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ti(e)):Sh(ae,a.stateNode));break;case 4:n=ae,l=Ye,ae=a.stateNode.containerInfo,Ye=!0,aa(e,t,a),ae=n,Ye=l;break;case 0:case 11:case 14:case 15:nn(2,a,t),Ee||nn(4,a,t),aa(e,t,a);break;case 1:Ee||(Ut(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Ty(a,t,n)),aa(e,t,a);break;case 21:aa(e,t,a);break;case 22:Ee=(n=Ee)||a.memoizedState!==null,aa(e,t,a),Ee=n;break;default:aa(e,t,a)}}function Ny(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ti(e)}catch(a){Y(t,t.return,a)}}}function Ly(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ti(e)}catch(a){Y(t,t.return,a)}}function tb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new nh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new nh),t;default:throw Error(y(435,e.tag))}}function es(e,t){var a=tb(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var l=ub.bind(null,e,n);n.then(l,l)}})}function qe(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var l=a[n],i=e,r=t,o=r;e:for(;o!==null;){switch(o.tag){case 27:if(on(o.type)){ae=o.stateNode,Ye=!1;break e}break;case 5:ae=o.stateNode,Ye=!1;break e;case 3:case 4:ae=o.stateNode.containerInfo,Ye=!0;break e}o=o.return}if(ae===null)throw Error(y(160));Oy(i,r,l),ae=null,Ye=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)My(t,e),t=t.sibling}var Nt=null;function My(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qe(t,e),je(e),n&4&&(nn(3,e,e.return),jr(3,e),nn(5,e,e.return));break;case 1:qe(t,e),je(e),n&512&&(Ee||a===null||Ut(a,a.return)),n&64&&ra&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var l=Nt;if(qe(t,e),je(e),n&512&&(Ee||a===null||Ut(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(n){case"title":i=l.getElementsByTagName("title")[0],(!i||i[Vr]||i[Le]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(n),l.head.insertBefore(i,l.querySelector("head > title"))),Ie(i,n,a),i[Le]=e,be(i),n=i;break e;case"link":var r=_h("link","href",l).get(n+(a.href||""));if(r){for(var o=0;o<r.length;o++)if(i=r[o],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(o,1);break t}}i=l.createElement(n),Ie(i,n,a),l.head.appendChild(i);break;case"meta":if(r=_h("meta","content",l).get(n+(a.content||""))){for(o=0;o<r.length;o++)if(i=r[o],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(o,1);break t}}i=l.createElement(n),Ie(i,n,a),l.head.appendChild(i);break;default:throw Error(y(468,n))}i[Le]=e,be(i),n=i}e.stateNode=n}else Dh(l,e.type,e.stateNode);else e.stateNode=bh(l,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?Dh(l,e.type,e.stateNode):bh(l,n,e.memoizedProps)):n===null&&e.stateNode!==null&&gd(e,e.memoizedProps,a.memoizedProps)}break;case 27:qe(t,e),je(e),n&512&&(Ee||a===null||Ut(a,a.return)),a!==null&&n&4&&gd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(qe(t,e),je(e),n&512&&(Ee||a===null||Ut(a,a.return)),e.flags&32){l=e.stateNode;try{Ql(l,"")}catch(h){Y(e,e.return,h)}}n&4&&e.stateNode!=null&&(l=e.memoizedProps,gd(e,l,a!==null?a.memoizedProps:l)),n&1024&&(Ed=!0);break;case 6:if(qe(t,e),je(e),n&4){if(e.stateNode===null)throw Error(y(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(h){Y(e,e.return,h)}}break;case 3:if(Ss=null,l=Nt,Nt=Xs(t.containerInfo),qe(t,e),Nt=l,je(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{ti(t.containerInfo)}catch(h){Y(e,e.return,h)}Ed&&(Ed=!1,Ry(e));break;case 4:n=Nt,Nt=Xs(e.stateNode.containerInfo),qe(t,e),je(e),Nt=n;break;case 12:qe(t,e),je(e);break;case 31:qe(t,e),je(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,es(e,n)));break;case 13:qe(t,e),je(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oc=et()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,es(e,n)));break;case 22:l=e.memoizedState!==null;var s=a!==null&&a.memoizedState!==null,c=ra,f=Ee;if(ra=c||l,Ee=f||s,qe(t,e),Ee=f,ra=c,je(e),n&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(a===null||s||ra||Ee||Ln(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){s=a=t;try{if(i=s.stateNode,l)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=s.stateNode;var p=s.memoizedProps.style,u=p!=null&&p.hasOwnProperty("display")?p.display:null;o.style.display=u==null||typeof u=="boolean"?"":(""+u).trim()}}catch(h){Y(s,s.return,h)}}}else if(t.tag===6){if(a===null){s=t;try{s.stateNode.nodeValue=l?"":s.memoizedProps}catch(h){Y(s,s.return,h)}}}else if(t.tag===18){if(a===null){s=t;try{var g=s.stateNode;l?yh(g,!0):yh(s.stateNode,!1)}catch(h){Y(s,s.return,h)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,es(e,a))));break;case 19:qe(t,e),je(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,es(e,n)));break;case 30:break;case 21:break;default:qe(t,e),je(e)}}function je(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Cy(n)){a=n;break}n=n.return}if(a==null)throw Error(y(160));switch(a.tag){case 27:var l=a.stateNode,i=pd(e);zs(e,i,l);break;case 5:var r=a.stateNode;a.flags&32&&(Ql(r,""),a.flags&=-33);var o=pd(e);zs(e,o,r);break;case 3:case 4:var s=a.stateNode.containerInfo,c=pd(e);nf(e,c,s);break;default:throw Error(y(161))}}catch(f){Y(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ry(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ry(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function na(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)_y(e,t.alternate,t),t=t.sibling}function Ln(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:nn(4,t,t.return),Ln(t);break;case 1:Ut(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Ty(t,t.return,a),Ln(t);break;case 27:vr(t.stateNode);case 26:case 5:Ut(t,t.return),Ln(t);break;case 22:t.memoizedState===null&&Ln(t);break;case 30:Ln(t);break;default:Ln(t)}e=e.sibling}}function la(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,l=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:la(l,i,a),jr(4,i);break;case 1:if(la(l,i,a),n=i,l=n.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(c){Y(n,n.return,c)}if(n=i,l=n.updateQueue,l!==null){var o=n.stateNode;try{var s=l.shared.hiddenCallbacks;if(s!==null)for(l.shared.hiddenCallbacks=null,l=0;l<s.length;l++)NS(s[l],o)}catch(c){Y(n,n.return,c)}}a&&r&64&&vy(i),Er(i,i.return);break;case 27:by(i);case 26:case 5:la(l,i,a),a&&n===null&&r&4&&Ay(i),Er(i,i.return);break;case 12:la(l,i,a);break;case 31:la(l,i,a),a&&r&4&&Ny(l,i);break;case 13:la(l,i,a),a&&r&4&&Ly(l,i);break;case 22:i.memoizedState===null&&la(l,i,a),Er(i,i.return);break;case 30:break;default:la(l,i,a)}t=t.sibling}}function nm(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Gr(a))}function lm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gr(e))}function Ot(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Iy(e,t,a,n),t=t.sibling}function Iy(e,t,a,n){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Ot(e,t,a,n),l&2048&&jr(9,t);break;case 1:Ot(e,t,a,n);break;case 3:Ot(e,t,a,n),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gr(e)));break;case 12:if(l&2048){Ot(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,o=i.onPostCommit;typeof o=="function"&&o(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(s){Y(t,t.return,s)}}else Ot(e,t,a,n);break;case 31:Ot(e,t,a,n);break;case 13:Ot(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?Ot(e,t,a,n):hr(e,t):i._visibility&2?Ot(e,t,a,n):(i._visibility|=2,bl(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),l&2048&&nm(r,t);break;case 24:Ot(e,t,a,n),l&2048&&lm(t.alternate,t);break;default:Ot(e,t,a,n)}}function bl(e,t,a,n,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,o=a,s=n,c=r.flags;switch(r.tag){case 0:case 11:case 15:bl(i,r,o,s,l),jr(8,r);break;case 23:break;case 22:var f=r.stateNode;r.memoizedState!==null?f._visibility&2?bl(i,r,o,s,l):hr(i,r):(f._visibility|=2,bl(i,r,o,s,l)),l&&c&2048&&nm(r.alternate,r);break;case 24:bl(i,r,o,s,l),l&&c&2048&&lm(r.alternate,r);break;default:bl(i,r,o,s,l)}t=t.sibling}}function hr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,l=n.flags;switch(n.tag){case 22:hr(a,n),l&2048&&nm(n.alternate,n);break;case 24:hr(a,n),l&2048&&lm(n.alternate,n);break;default:hr(a,n)}t=t.sibling}}var or=8192;function Cl(e,t,a){if(e.subtreeFlags&or)for(e=e.child;e!==null;)By(e,t,a),e=e.sibling}function By(e,t,a){switch(e.tag){case 26:Cl(e,t,a),e.flags&or&&e.memoizedState!==null&&Vb(a,Nt,e.memoizedState,e.memoizedProps);break;case 5:Cl(e,t,a);break;case 3:case 4:var n=Nt;Nt=Xs(e.stateNode.containerInfo),Cl(e,t,a),Nt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=or,or=16777216,Cl(e,t,a),or=n):Cl(e,t,a));break;default:Cl(e,t,a)}}function wy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function er(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ce=n,Uy(n,e)}wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xy(e),e=e.sibling}function xy(e){switch(e.tag){case 0:case 11:case 15:er(e),e.flags&2048&&nn(9,e,e.return);break;case 3:er(e);break;case 12:er(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Es(e)):er(e);break;default:er(e)}}function Es(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ce=n,Uy(n,e)}wy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:nn(8,t,t.return),Es(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Es(t));break;default:Es(t)}e=e.sibling}}function Uy(e,t){for(;Ce!==null;){var a=Ce;switch(a.tag){case 0:case 11:case 15:nn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Gr(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Ce=n;else e:for(a=e;Ce!==null;){n=Ce;var l=n.sibling,i=n.return;if(Dy(n),n===a){Ce=null;break e}if(l!==null){l.return=i,Ce=l;break e}Ce=i}}}var ab={getCacheForType:function(e){var t=Re(he),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Re(he).controller.signal}},nb=typeof WeakMap=="function"?WeakMap:Map,H=0,F=null,x=null,U=0,j=0,ke=null,ja=!1,ri=!1,im=!1,ha=0,re=0,ln=0,wn=0,rm=0,We=0,Jl=0,Sr=null,Xe=null,lf=!1,oc=0,zy=0,Ps=1/0,Vs=null,ka=null,ye=0,Ja=null,$l=null,fa=0,rf=0,of=null,Py=null,yr=0,sf=null;function nt(){return(H&2)!==0&&U!==0?U&-U:O.T!==null?sm():Qh()}function Vy(){if(We===0)if((U&536870912)===0||P){var e=Yo;Yo<<=1,(Yo&3932160)===0&&(Yo=262144),We=e}else We=536870912;return e=it.current,e!==null&&(e.flags|=32),We}function Ke(e,t,a){(e===F&&(j===2||j===9)||e.cancelPendingCommit!==null)&&(Wl(e,0),Ya(e,U,We,!1)),Pr(e,a),((H&2)===0||e!==F)&&(e===F&&((H&2)===0&&(wn|=a),re===4&&Ya(e,U,We,!1)),Vt(e))}function Hy(e,t,a){if((H&6)!==0)throw Error(y(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||zr(e,t),l=n?rb(e,t):hd(e,t,!0),i=n;do{if(l===0){ri&&!n&&Ya(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!lb(a)){l=hd(e,t,!1),i=!1;continue}if(l===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var o=e;l=Sr;var s=o.current.memoizedState.isDehydrated;if(s&&(Wl(o,r).flags|=256),r=hd(o,r,!1),r!==2){if(im&&!s){o.errorRecoveryDisabledLanes|=i,wn|=i,l=4;break e}i=Xe,Xe=l,i!==null&&(Xe===null?Xe=i:Xe.push.apply(Xe,i))}l=r}if(i=!1,l!==2)continue}}if(l===1){Wl(e,0),Ya(e,t,0,!0);break}e:{switch(n=e,i=l,i){case 0:case 1:throw Error(y(345));case 4:if((t&4194048)!==t)break;case 6:Ya(n,t,We,!ja);break e;case 2:Xe=null;break;case 3:case 5:break;default:throw Error(y(329))}if((t&62914560)===t&&(l=oc+300-et(),10<l)){if(Ya(n,t,We,!ja),ks(n,0,!0)!==0)break e;fa=t,n.timeoutHandle=rv(lh.bind(null,n,a,Xe,Vs,lf,t,We,wn,Jl,ja,i,"Throttled",-0,0),l);break e}lh(n,a,Xe,Vs,lf,t,We,wn,Jl,ja,i,null,-0,0)}}break}while(!0);Vt(e)}function lh(e,t,a,n,l,i,r,o,s,c,f,p,u,g){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sa},By(t,i,p);var h=(i&62914560)===i?oc-et():(i&4194048)===i?zy-et():0;if(h=Hb(p,h),h!==null){fa=i,e.cancelPendingCommit=h(rh.bind(null,e,t,i,a,n,l,r,o,s,f,p,null,u,g)),Ya(e,i,r,!c);return}}rh(e,t,i,a,n,l,r,o,s)}function lb(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var l=a[n],i=l.getSnapshot;l=l.value;try{if(!lt(i(),l))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ya(e,t,a,n){t&=~rm,t&=~wn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var l=t;0<l;){var i=31-at(l),r=1<<i;n[i]=-1,l&=~r}a!==0&&Yh(e,a,t)}function sc(){return(H&6)===0?(Yr(0,!1),!1):!0}function om(){if(x!==null){if(j===0)var e=x.return;else e=x,ca=Yn=null,Kf(e),ql=null,Or=0,e=x;for(;e!==null;)yy(e.alternate,e),e=e.return;x=null}}function Wl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Ab(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),fa=0,om(),F=e,x=a=ua(e.current,null),U=t,j=0,ke=null,ja=!1,ri=zr(e,t),im=!1,Jl=We=rm=wn=ln=re=0,Xe=Sr=null,lf=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var l=31-at(n),i=1<<l;t|=e[l],n&=~i}return ha=t,ec(),a}function Gy(e,t){R=null,O.H=Lr,t===ii||t===ac?(t=UE(),j=3):t===Vf?(t=UE(),j=4):j=t===tm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ke=t,x===null&&(re=1,xs(e,ht(t,e.current)))}function qy(){var e=it.current;return e===null?!0:(U&4194048)===U?yt===null:(U&62914560)===U||(U&536870912)!==0?e===yt:!1}function jy(){var e=O.H;return O.H=Lr,e===null?Lr:e}function Yy(){var e=O.A;return O.A=ab,e}function Hs(){re=4,ja||(U&4194048)!==U&&it.current!==null||(ri=!0),(ln&134217727)===0&&(wn&134217727)===0||F===null||Ya(F,U,We,!1)}function hd(e,t,a){var n=H;H|=2;var l=jy(),i=Yy();(F!==e||U!==t)&&(Vs=null,Wl(e,t)),t=!1;var r=re;e:do try{if(j!==0&&x!==null){var o=x,s=ke;switch(j){case 8:om(),r=6;break e;case 3:case 2:case 9:case 6:it.current===null&&(t=!0);var c=j;if(j=0,ke=null,zl(e,o,s,c),a&&ri){r=0;break e}break;default:c=j,j=0,ke=null,zl(e,o,s,c)}}ib(),r=re;break}catch(f){Gy(e,f)}while(!0);return t&&e.shellSuspendCounter++,ca=Yn=null,H=n,O.H=l,O.A=i,x===null&&(F=null,U=0,ec()),r}function ib(){for(;x!==null;)Xy(x)}function rb(e,t){var a=H;H|=2;var n=jy(),l=Yy();F!==e||U!==t?(Vs=null,Ps=et()+500,Wl(e,t)):ri=zr(e,t);e:do try{if(j!==0&&x!==null){t=x;var i=ke;t:switch(j){case 1:j=0,ke=null,zl(e,t,i,1);break;case 2:case 9:if(xE(i)){j=0,ke=null,ih(t);break}t=function(){j!==2&&j!==9||F!==e||(j=7),Vt(e)},i.then(t,t);break e;case 3:j=7;break e;case 4:j=5;break e;case 7:xE(i)?(j=0,ke=null,ih(t)):(j=0,ke=null,zl(e,t,i,7));break;case 5:var r=null;switch(x.tag){case 26:r=x.memoizedState;case 5:case 27:var o=x;if(r?dv(r):o.stateNode.complete){j=0,ke=null;var s=o.sibling;if(s!==null)x=s;else{var c=o.return;c!==null?(x=c,cc(c)):x=null}break t}}j=0,ke=null,zl(e,t,i,5);break;case 6:j=0,ke=null,zl(e,t,i,6);break;case 8:om(),re=6;break e;default:throw Error(y(462))}}ob();break}catch(f){Gy(e,f)}while(!0);return ca=Yn=null,O.H=n,O.A=l,H=a,x!==null?0:(F=null,U=0,ec(),re)}function ob(){for(;x!==null&&!M0();)Xy(x)}function Xy(e){var t=Sy(e.alternate,e,ha);e.memoizedProps=e.pendingProps,t===null?cc(e):x=t}function ih(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=$E(a,t,t.pendingProps,t.type,void 0,U);break;case 11:t=$E(a,t,t.pendingProps,t.type.render,t.ref,U);break;case 5:Kf(t);default:yy(a,t),t=x=yS(t,ha),t=Sy(a,t,ha)}e.memoizedProps=e.pendingProps,t===null?cc(e):x=t}function zl(e,t,a,n){ca=Yn=null,Kf(t),ql=null,Or=0;var l=t.return;try{if(ZC(e,l,t,a,U)){re=1,xs(e,ht(a,e.current)),x=null;return}}catch(i){if(l!==null)throw x=l,i;re=1,xs(e,ht(a,e.current)),x=null;return}t.flags&32768?(P||n===1?e=!0:ri||(U&536870912)!==0?e=!1:(ja=e=!0,(n===2||n===9||n===3||n===6)&&(n=it.current,n!==null&&n.tag===13&&(n.flags|=16384))),Ky(t,e)):cc(t)}function cc(e){var t=e;do{if((t.flags&32768)!==0){Ky(t,ja);return}e=t.return;var a=$C(t.alternate,t,ha);if(a!==null){x=a;return}if(t=t.sibling,t!==null){x=t;return}x=t=e}while(t!==null);re===0&&(re=5)}function Ky(e,t){do{var a=WC(e.alternate,e);if(a!==null){a.flags&=32767,x=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){x=e;return}x=e=a}while(e!==null);re=6,x=null}function rh(e,t,a,n,l,i,r,o,s){e.cancelPendingCommit=null;do uc();while(ye!==0);if((H&6)!==0)throw Error(y(327));if(t!==null){if(t===e.current)throw Error(y(177));if(i=t.lanes|t.childLanes,i|=If,H0(e,a,i,r,o,s),e===F&&(x=F=null,U=0),$l=t,Ja=e,fa=a,rf=i,of=l,Py=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,db(bs,function(){return Jy(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=O.T,O.T=null,l=G.p,G.p=2,r=H,H|=4;try{eb(e,t,a)}finally{H=r,G.p=l,O.T=n}}ye=1,Qy(),Fy(),Zy()}}function Qy(){if(ye===1){ye=0;var e=Ja,t=$l,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var n=G.p;G.p=2;var l=H;H|=4;try{My(t,e);var i=ff,r=dS(e.containerInfo),o=i.focusedElem,s=i.selectionRange;if(r!==o&&o&&o.ownerDocument&&uS(o.ownerDocument.documentElement,o)){if(s!==null&&Rf(o)){var c=s.start,f=s.end;if(f===void 0&&(f=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(f,o.value.length);else{var p=o.ownerDocument||document,u=p&&p.defaultView||window;if(u.getSelection){var g=u.getSelection(),h=o.textContent.length,v=Math.min(s.start,h),_=s.end===void 0?v:Math.min(s.end,h);!g.extend&&v>_&&(r=_,_=v,v=r);var m=NE(o,v),d=NE(o,_);if(m&&d&&(g.rangeCount!==1||g.anchorNode!==m.node||g.anchorOffset!==m.offset||g.focusNode!==d.node||g.focusOffset!==d.offset)){var E=p.createRange();E.setStart(m.node,m.offset),g.removeAllRanges(),v>_?(g.addRange(E),g.extend(d.node,d.offset)):(E.setEnd(d.node,d.offset),g.addRange(E))}}}}for(p=[],g=o;g=g.parentNode;)g.nodeType===1&&p.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<p.length;o++){var S=p[o];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}Fs=!!df,ff=df=null}finally{H=l,G.p=n,O.T=a}}e.current=t,ye=2}}function Fy(){if(ye===2){ye=0;var e=Ja,t=$l,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var n=G.p;G.p=2;var l=H;H|=4;try{_y(e,t.alternate,t)}finally{H=l,G.p=n,O.T=a}}ye=3}}function Zy(){if(ye===4||ye===3){ye=0,R0();var e=Ja,t=$l,a=fa,n=Py;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ye=5:(ye=0,$l=Ja=null,ky(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(ka=null),bf(a),t=t.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Ur,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=O.T,l=G.p,G.p=2,O.T=null;try{for(var i=e.onRecoverableError,r=0;r<n.length;r++){var o=n[r];i(o.value,{componentStack:o.stack})}}finally{O.T=t,G.p=l}}(fa&3)!==0&&uc(),Vt(e),l=e.pendingLanes,(a&261930)!==0&&(l&42)!==0?e===sf?yr++:(yr=0,sf=e):yr=0,Yr(0,!1)}}function ky(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Gr(t)))}function uc(){return Qy(),Fy(),Zy(),Jy()}function Jy(){if(ye!==5)return!1;var e=Ja,t=rf;rf=0;var a=bf(fa),n=O.T,l=G.p;try{G.p=32>a?32:a,O.T=null,a=of,of=null;var i=Ja,r=fa;if(ye=0,$l=Ja=null,fa=0,(H&6)!==0)throw Error(y(331));var o=H;if(H|=4,xy(i.current),Iy(i,i.current,r,a),H=o,Yr(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Ur,i)}catch{}return!0}finally{G.p=l,O.T=n,ky(e,t)}}function oh(e,t,a){t=ht(a,t),t=ef(e.stateNode,t,2),e=Za(e,t,2),e!==null&&(Pr(e,2),Vt(e))}function Y(e,t,a){if(e.tag===3)oh(e,e,a);else for(;t!==null;){if(t.tag===3){oh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ka===null||!ka.has(n))){e=ht(a,e),a=fy(2),n=Za(t,a,2),n!==null&&(my(a,n,t,e),Pr(n,2),Vt(n));break}}t=t.return}}function Sd(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new nb;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(a)||(im=!0,l.add(a),e=sb.bind(null,e,t,a),t.then(e,e))}function sb(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,F===e&&(U&a)===a&&(re===4||re===3&&(U&62914560)===U&&300>et()-oc?(H&2)===0&&Wl(e,0):rm|=a,Jl===U&&(Jl=0)),Vt(e)}function $y(e,t){t===0&&(t=jh()),e=jn(e,t),e!==null&&(Pr(e,t),Vt(e))}function cb(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),$y(e,a)}function ub(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(y(314))}n!==null&&n.delete(t),$y(e,a)}function db(e,t){return Af(e,t)}var Gs=null,_l=null,cf=!1,qs=!1,yd=!1,Xa=0;function Vt(e){e!==_l&&e.next===null&&(_l===null?Gs=_l=e:_l=_l.next=e),qs=!0,cf||(cf=!0,mb())}function Yr(e,t){if(!yd&&qs){yd=!0;do for(var a=!1,n=Gs;n!==null;){if(!t)if(e!==0){var l=n.pendingLanes;if(l===0)var i=0;else{var r=n.suspendedLanes,o=n.pingedLanes;i=(1<<31-at(42|e)+1)-1,i&=l&~(r&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,sh(n,i))}else i=U,i=ks(n,n===F?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||zr(n,i)||(a=!0,sh(n,i));n=n.next}while(a);yd=!1}}function fb(){Wy()}function Wy(){qs=cf=!1;var e=0;Xa!==0&&Tb()&&(e=Xa);for(var t=et(),a=null,n=Gs;n!==null;){var l=n.next,i=ev(n,t);i===0?(n.next=null,a===null?Gs=l:a.next=l,l===null&&(_l=a)):(a=n,(e!==0||(i&3)!==0)&&(qs=!0)),n=l}ye!==0&&ye!==5||Yr(e,!1),Xa!==0&&(Xa=0)}function ev(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-at(i),o=1<<r,s=l[r];s===-1?((o&a)===0||(o&n)!==0)&&(l[r]=V0(o,t)):s<=t&&(e.expiredLanes|=o),i&=~o}if(t=F,a=U,a=ks(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(j===2||j===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Fu(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Fu(n),bf(a)){case 2:case 8:a=Gh;break;case 32:a=bs;break;case 268435456:a=qh;break;default:a=bs}return n=tv.bind(null,e),a=Af(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Fu(n),e.callbackPriority=2,e.callbackNode=null,2}function tv(e,t){if(ye!==0&&ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(uc()&&e.callbackNode!==a)return null;var n=U;return n=ks(e,e===F?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Hy(e,n,t),ev(e,et()),e.callbackNode!=null&&e.callbackNode===a?tv.bind(null,e):null)}function sh(e,t){if(uc())return null;Hy(e,t,!0)}function mb(){Cb(function(){(H&6)!==0?Af(Hh,fb):Wy()})}function sm(){if(Xa===0){var e=Fl;e===0&&(e=jo,jo<<=1,(jo&261888)===0&&(jo=256)),Xa=e}return Xa}function ch(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:os(""+e)}function uh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function gb(e,t,a,n,l){if(t==="submit"&&a&&a.stateNode===l){var i=ch((l[Qe]||null).action),r=n.submitter;r&&(t=(t=r[Qe]||null)?ch(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var o=new Js("action","action",null,n,l);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Xa!==0){var s=r?uh(l,r):new FormData(l);$d(a,{pending:!0,data:s,method:l.method,action:i},null,s)}}else typeof i=="function"&&(o.preventDefault(),s=r?uh(l,r):new FormData(l),$d(a,{pending:!0,data:s,method:l.method,action:i},i,s))},currentTarget:l}]})}}for(ts=0;ts<Hd.length;ts++)as=Hd[ts],dh=as.toLowerCase(),fh=as[0].toUpperCase()+as.slice(1),Lt(dh,"on"+fh);var as,dh,fh,ts;Lt(mS,"onAnimationEnd");Lt(gS,"onAnimationIteration");Lt(pS,"onAnimationStart");Lt("dblclick","onDoubleClick");Lt("focusin","onFocus");Lt("focusout","onBlur");Lt(IC,"onTransitionRun");Lt(BC,"onTransitionStart");Lt(wC,"onTransitionCancel");Lt(ES,"onTransitionEnd");Kl("onMouseEnter",["mouseout","mouseover"]);Kl("onMouseLeave",["mouseout","mouseover"]);Kl("onPointerEnter",["pointerout","pointerover"]);Kl("onPointerLeave",["pointerout","pointerover"]);Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mr));function av(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],l=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var r=n.length-1;0<=r;r--){var o=n[r],s=o.instance,c=o.currentTarget;if(o=o.listener,s!==i&&l.isPropagationStopped())break e;i=o,l.currentTarget=c;try{i(l)}catch(f){Ds(f)}l.currentTarget=null,i=s}else for(r=0;r<n.length;r++){if(o=n[r],s=o.instance,c=o.currentTarget,o=o.listener,s!==i&&l.isPropagationStopped())break e;i=o,l.currentTarget=c;try{i(l)}catch(f){Ds(f)}l.currentTarget=null,i=s}}}}function w(e,t){var a=t[Id];a===void 0&&(a=t[Id]=new Set);var n=e+"__bubble";a.has(n)||(nv(t,e,2,!1),a.add(n))}function vd(e,t,a){var n=0;t&&(n|=4),nv(a,e,n,t)}var ns="_reactListening"+Math.random().toString(36).slice(2);function cm(e){if(!e[ns]){e[ns]=!0,Fh.forEach(function(a){a!=="selectionchange"&&(pb.has(a)||vd(a,!1,e),vd(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ns]||(t[ns]=!0,vd("selectionchange",!1,t))}}function nv(e,t,a,n){switch(Ev(t)){case 2:var l=jb;break;case 8:l=Yb;break;default:l=mm}a=l.bind(null,t,a,e),l=void 0,!zd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,a,{capture:!0,passive:l}):e.addEventListener(t,a,!0):l!==void 0?e.addEventListener(t,a,{passive:l}):e.addEventListener(t,a,!1)}function Td(e,t,a,n,l){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var r=n.tag;if(r===3||r===4){var o=n.stateNode.containerInfo;if(o===l)break;if(r===4)for(r=n.return;r!==null;){var s=r.tag;if((s===3||s===4)&&r.stateNode.containerInfo===l)return;r=r.return}for(;o!==null;){if(r=Nl(o),r===null)return;if(s=r.tag,s===5||s===6||s===26||s===27){n=i=r;continue e}o=o.parentNode}}n=n.return}aS(function(){var c=i,f=Of(a),p=[];e:{var u=hS.get(e);if(u!==void 0){var g=Js,h=e;switch(e){case"keypress":if(cs(a)===0)break e;case"keydown":case"keyup":g=uC;break;case"focusin":h="focus",g=Wu;break;case"focusout":h="blur",g=Wu;break;case"beforeblur":case"afterblur":g=Wu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=yE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=$0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=mC;break;case mS:case gS:case pS:g=tC;break;case ES:g=pC;break;case"scroll":case"scrollend":g=k0;break;case"wheel":g=hC;break;case"copy":case"cut":case"paste":g=nC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=TE;break;case"toggle":case"beforetoggle":g=yC}var v=(t&4)!==0,_=!v&&(e==="scroll"||e==="scrollend"),m=v?u!==null?u+"Capture":null:u;v=[];for(var d=c,E;d!==null;){var S=d;if(E=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||E===null||m===null||(S=Ar(d,m),S!=null&&v.push(Rr(d,S,E))),_)break;d=d.return}0<v.length&&(u=new g(u,h,null,a,f),p.push({event:u,listeners:v}))}}if((t&7)===0){e:{if(u=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",u&&a!==Ud&&(h=a.relatedTarget||a.fromElement)&&(Nl(h)||h[ai]))break e;if((g||u)&&(u=f.window===f?f:(u=f.ownerDocument)?u.defaultView||u.parentWindow:window,g?(h=a.relatedTarget||a.toElement,g=c,h=h?Nl(h):null,h!==null&&(_=xr(h),v=h.tag,h!==_||v!==5&&v!==27&&v!==6)&&(h=null)):(g=null,h=c),g!==h)){if(v=yE,S="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=TE,S="onPointerLeave",m="onPointerEnter",d="pointer"),_=g==null?u:ir(g),E=h==null?u:ir(h),u=new v(S,d+"leave",g,a,f),u.target=_,u.relatedTarget=E,S=null,Nl(f)===c&&(v=new v(m,d+"enter",h,a,f),v.target=E,v.relatedTarget=_,S=v),_=S,g&&h)t:{for(v=Eb,m=g,d=h,E=0,S=m;S;S=v(S))E++;S=0;for(var A=d;A;A=v(A))S++;for(;0<E-S;)m=v(m),E--;for(;0<S-E;)d=v(d),S--;for(;E--;){if(m===d||d!==null&&m===d.alternate){v=m;break t}m=v(m),d=v(d)}v=null}else v=null;g!==null&&mh(p,u,g,v,!1),h!==null&&_!==null&&mh(p,_,h,v,!0)}}e:{if(u=c?ir(c):window,g=u.nodeName&&u.nodeName.toLowerCase(),g==="select"||g==="input"&&u.type==="file")var I=_E;else if(bE(u))if(sS)I=LC;else{I=OC;var T=DC}else g=u.nodeName,!g||g.toLowerCase()!=="input"||u.type!=="checkbox"&&u.type!=="radio"?c&&Df(c.elementType)&&(I=_E):I=NC;if(I&&(I=I(e,c))){oS(p,I,a,f);break e}T&&T(e,u,c),e==="focusout"&&c&&u.type==="number"&&c.memoizedProps.value!=null&&xd(u,"number",u.value)}switch(T=c?ir(c):window,e){case"focusin":(bE(T)||T.contentEditable==="true")&&(Rl=T,Pd=c,ur=null);break;case"focusout":ur=Pd=Rl=null;break;case"mousedown":Vd=!0;break;case"contextmenu":case"mouseup":case"dragend":Vd=!1,LE(p,a,f);break;case"selectionchange":if(RC)break;case"keydown":case"keyup":LE(p,a,f)}var D;if(Mf)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ml?iS(e,a)&&(C="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(C="onCompositionStart");C&&(lS&&a.locale!=="ko"&&(Ml||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ml&&(D=nS()):(qa=f,Nf="value"in qa?qa.value:qa.textContent,Ml=!0)),T=js(c,C),0<T.length&&(C=new vE(C,e,null,a,f),p.push({event:C,listeners:T}),D?C.data=D:(D=rS(a),D!==null&&(C.data=D)))),(D=TC?AC(e,a):CC(e,a))&&(C=js(c,"onBeforeInput"),0<C.length&&(T=new vE("onBeforeInput","beforeinput",null,a,f),p.push({event:T,listeners:C}),T.data=D)),gb(p,e,c,a,f)}av(p,t)})}function Rr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function js(e,t){for(var a=t+"Capture",n=[];e!==null;){var l=e,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=Ar(e,a),l!=null&&n.unshift(Rr(e,l,i)),l=Ar(e,t),l!=null&&n.push(Rr(e,l,i))),e.tag===3)return n;e=e.return}return[]}function Eb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mh(e,t,a,n,l){for(var i=t._reactName,r=[];a!==null&&a!==n;){var o=a,s=o.alternate,c=o.stateNode;if(o=o.tag,s!==null&&s===n)break;o!==5&&o!==26&&o!==27||c===null||(s=c,l?(c=Ar(a,i),c!=null&&r.unshift(Rr(a,c,s))):l||(c=Ar(a,i),c!=null&&r.push(Rr(a,c,s)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var hb=/\r\n?/g,Sb=/\u0000|\uFFFD/g;function gh(e){return(typeof e=="string"?e:""+e).replace(hb,`
`).replace(Sb,"")}function lv(e,t){return t=gh(t),gh(e)===t}function K(e,t,a,n,l,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Ql(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Ql(e,""+n);break;case"className":Ko(e,"class",n);break;case"tabIndex":Ko(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Ko(e,a,n);break;case"style":tS(e,n,i);break;case"data":if(t!=="object"){Ko(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=os(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&K(e,t,"name",l.name,l,null),K(e,t,"formEncType",l.formEncType,l,null),K(e,t,"formMethod",l.formMethod,l,null),K(e,t,"formTarget",l.formTarget,l,null)):(K(e,t,"encType",l.encType,l,null),K(e,t,"method",l.method,l,null),K(e,t,"target",l.target,l,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=os(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=sa);break;case"onScroll":n!=null&&w("scroll",e);break;case"onScrollEnd":n!=null&&w("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(y(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(y(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=os(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":w("beforetoggle",e),w("toggle",e),rs(e,"popover",n);break;case"xlinkActuate":ea(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ea(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ea(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ea(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ea(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ea(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ea(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ea(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ea(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":rs(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=F0.get(a)||a,rs(e,a,n))}}function uf(e,t,a,n,l,i){switch(a){case"style":tS(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(y(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(y(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Ql(e,n):(typeof n=="number"||typeof n=="bigint")&&Ql(e,""+n);break;case"onScroll":n!=null&&w("scroll",e);break;case"onScrollEnd":n!=null&&w("scrollend",e);break;case"onClick":n!=null&&(e.onclick=sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),t=a.slice(2,l?a.length-7:void 0),i=e[Qe]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,l),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,l);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):rs(e,a,n)}}}function Ie(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":w("error",e),w("load",e);var n=!1,l=!1,i;for(i in a)if(a.hasOwnProperty(i)){var r=a[i];if(r!=null)switch(i){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(y(137,t));default:K(e,t,i,r,a,null)}}l&&K(e,t,"srcSet",a.srcSet,a,null),n&&K(e,t,"src",a.src,a,null);return;case"input":w("invalid",e);var o=i=r=l=null,s=null,c=null;for(n in a)if(a.hasOwnProperty(n)){var f=a[n];if(f!=null)switch(n){case"name":l=f;break;case"type":r=f;break;case"checked":s=f;break;case"defaultChecked":c=f;break;case"value":i=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(y(137,t));break;default:K(e,t,n,f,a,null)}}$h(e,i,o,s,c,r,l,!1);return;case"select":w("invalid",e),n=r=i=null;for(l in a)if(a.hasOwnProperty(l)&&(o=a[l],o!=null))switch(l){case"value":i=o;break;case"defaultValue":r=o;break;case"multiple":n=o;default:K(e,t,l,o,a,null)}t=i,a=r,e.multiple=!!n,t!=null?Vl(e,!!n,t,!1):a!=null&&Vl(e,!!n,a,!0);return;case"textarea":w("invalid",e),i=l=n=null;for(r in a)if(a.hasOwnProperty(r)&&(o=a[r],o!=null))switch(r){case"value":n=o;break;case"defaultValue":l=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(y(91));break;default:K(e,t,r,o,a,null)}eS(e,n,l,i);return;case"option":for(s in a)if(a.hasOwnProperty(s)&&(n=a[s],n!=null))switch(s){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:K(e,t,s,n,a,null)}return;case"dialog":w("beforetoggle",e),w("toggle",e),w("cancel",e),w("close",e);break;case"iframe":case"object":w("load",e);break;case"video":case"audio":for(n=0;n<Mr.length;n++)w(Mr[n],e);break;case"image":w("error",e),w("load",e);break;case"details":w("toggle",e);break;case"embed":case"source":case"link":w("error",e),w("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in a)if(a.hasOwnProperty(c)&&(n=a[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(y(137,t));default:K(e,t,c,n,a,null)}return;default:if(Df(t)){for(f in a)a.hasOwnProperty(f)&&(n=a[f],n!==void 0&&uf(e,t,f,n,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(n=a[o],n!=null&&K(e,t,o,n,a,null))}function yb(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,r=null,o=null,s=null,c=null,f=null;for(g in a){var p=a[g];if(a.hasOwnProperty(g)&&p!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":s=p;default:n.hasOwnProperty(g)||K(e,t,g,null,n,p)}}for(var u in n){var g=n[u];if(p=a[u],n.hasOwnProperty(u)&&(g!=null||p!=null))switch(u){case"type":i=g;break;case"name":l=g;break;case"checked":c=g;break;case"defaultChecked":f=g;break;case"value":r=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(y(137,t));break;default:g!==p&&K(e,t,u,g,n,p)}}wd(e,r,o,s,c,f,i,l);return;case"select":g=r=o=u=null;for(i in a)if(s=a[i],a.hasOwnProperty(i)&&s!=null)switch(i){case"value":break;case"multiple":g=s;default:n.hasOwnProperty(i)||K(e,t,i,null,n,s)}for(l in n)if(i=n[l],s=a[l],n.hasOwnProperty(l)&&(i!=null||s!=null))switch(l){case"value":u=i;break;case"defaultValue":o=i;break;case"multiple":r=i;default:i!==s&&K(e,t,l,i,n,s)}t=o,a=r,n=g,u!=null?Vl(e,!!a,u,!1):!!n!=!!a&&(t!=null?Vl(e,!!a,t,!0):Vl(e,!!a,a?[]:"",!1));return;case"textarea":g=u=null;for(o in a)if(l=a[o],a.hasOwnProperty(o)&&l!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:K(e,t,o,null,n,l)}for(r in n)if(l=n[r],i=a[r],n.hasOwnProperty(r)&&(l!=null||i!=null))switch(r){case"value":u=l;break;case"defaultValue":g=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(y(91));break;default:l!==i&&K(e,t,r,l,n,i)}Wh(e,u,g);return;case"option":for(var h in a)if(u=a[h],a.hasOwnProperty(h)&&u!=null&&!n.hasOwnProperty(h))switch(h){case"selected":e.selected=!1;break;default:K(e,t,h,null,n,u)}for(s in n)if(u=n[s],g=a[s],n.hasOwnProperty(s)&&u!==g&&(u!=null||g!=null))switch(s){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:K(e,t,s,u,n,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in a)u=a[v],a.hasOwnProperty(v)&&u!=null&&!n.hasOwnProperty(v)&&K(e,t,v,null,n,u);for(c in n)if(u=n[c],g=a[c],n.hasOwnProperty(c)&&u!==g&&(u!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(y(137,t));break;default:K(e,t,c,u,n,g)}return;default:if(Df(t)){for(var _ in a)u=a[_],a.hasOwnProperty(_)&&u!==void 0&&!n.hasOwnProperty(_)&&uf(e,t,_,void 0,n,u);for(f in n)u=n[f],g=a[f],!n.hasOwnProperty(f)||u===g||u===void 0&&g===void 0||uf(e,t,f,u,n,g);return}}for(var m in a)u=a[m],a.hasOwnProperty(m)&&u!=null&&!n.hasOwnProperty(m)&&K(e,t,m,null,n,u);for(p in n)u=n[p],g=a[p],!n.hasOwnProperty(p)||u===g||u==null&&g==null||K(e,t,p,u,n,g)}function ph(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var l=a[n],i=l.transferSize,r=l.initiatorType,o=l.duration;if(i&&o&&ph(r)){for(r=0,o=l.responseEnd,n+=1;n<a.length;n++){var s=a[n],c=s.startTime;if(c>o)break;var f=s.transferSize,p=s.initiatorType;f&&ph(p)&&(s=s.responseEnd,r+=f*(s<o?1:(o-c)/(s-c)))}if(--n,t+=8*(i+r)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var df=null,ff=null;function Ys(e){return e.nodeType===9?e:e.ownerDocument}function Eh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function mf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ad=null;function Tb(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,Ab=typeof clearTimeout=="function"?clearTimeout:void 0,hh=typeof Promise=="function"?Promise:void 0,Cb=typeof queueMicrotask=="function"?queueMicrotask:typeof hh<"u"?function(e){return hh.resolve(null).then(e).catch(bb)}:rv;function bb(e){setTimeout(function(){throw e})}function on(e){return e==="head"}function Sh(e,t){var a=t,n=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(l),ti(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")vr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,vr(a);for(var i=a.firstChild;i;){var r=i.nextSibling,o=i.nodeName;i[Vr]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}else a==="body"&&vr(e.ownerDocument.body);a=l}while(a);ti(t)}function yh(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function gf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gf(a),_f(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function _b(e,t,a,n){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Vr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=vt(e.nextSibling),e===null)break}return null}function Db(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=vt(e.nextSibling),e===null))return null;return e}function ov(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=vt(e.nextSibling),e===null))return null;return e}function pf(e){return e.data==="$?"||e.data==="$~"}function Ef(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ob(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var hf=null;function vh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return vt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Th(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function sv(e,t,a){switch(t=Ys(a),e){case"html":if(e=t.documentElement,!e)throw Error(y(452));return e;case"head":if(e=t.head,!e)throw Error(y(453));return e;case"body":if(e=t.body,!e)throw Error(y(454));return e;default:throw Error(y(451))}}function vr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_f(e)}var Tt=new Map,Ah=new Set;function Xs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sa=G.d;G.d={f:Nb,r:Lb,D:Mb,C:Rb,L:Ib,m:Bb,X:xb,S:wb,M:Ub};function Nb(){var e=Sa.f(),t=sc();return e||t}function Lb(e){var t=ni(e);t!==null&&t.tag===5&&t.type==="form"?ty(t):Sa.r(e)}var oi=typeof document>"u"?null:document;function cv(e,t,a){var n=oi;if(n&&typeof t=="string"&&t){var l=Et(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),Ah.has(l)||(Ah.add(l),e={rel:e,crossOrigin:a,href:t},n.querySelector(l)===null&&(t=n.createElement("link"),Ie(t,"link",e),be(t),n.head.appendChild(t)))}}function Mb(e){Sa.D(e),cv("dns-prefetch",e,null)}function Rb(e,t){Sa.C(e,t),cv("preconnect",e,t)}function Ib(e,t,a){Sa.L(e,t,a);var n=oi;if(n&&e&&t){var l='link[rel="preload"][as="'+Et(t)+'"]';t==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+Et(a.imageSizes)+'"]')):l+='[href="'+Et(e)+'"]';var i=l;switch(t){case"style":i=ei(e);break;case"script":i=si(e)}Tt.has(i)||(e=ee({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Tt.set(i,e),n.querySelector(l)!==null||t==="style"&&n.querySelector(Xr(i))||t==="script"&&n.querySelector(Kr(i))||(t=n.createElement("link"),Ie(t,"link",e),be(t),n.head.appendChild(t)))}}function Bb(e,t){Sa.m(e,t);var a=oi;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Et(n)+'"][href="'+Et(e)+'"]',i=l;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=si(e)}if(!Tt.has(i)&&(e=ee({rel:"modulepreload",href:e},t),Tt.set(i,e),a.querySelector(l)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Kr(i)))return}n=a.createElement("link"),Ie(n,"link",e),be(n),a.head.appendChild(n)}}}function wb(e,t,a){Sa.S(e,t,a);var n=oi;if(n&&e){var l=Pl(n).hoistableStyles,i=ei(e);t=t||"default";var r=l.get(i);if(!r){var o={loading:0,preload:null};if(r=n.querySelector(Xr(i)))o.loading=5;else{e=ee({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Tt.get(i))&&um(e,a);var s=r=n.createElement("link");be(s),Ie(s,"link",e),s._p=new Promise(function(c,f){s.onload=c,s.onerror=f}),s.addEventListener("load",function(){o.loading|=1}),s.addEventListener("error",function(){o.loading|=2}),o.loading|=4,hs(r,t,n)}r={type:"stylesheet",instance:r,count:1,state:o},l.set(i,r)}}}function xb(e,t){Sa.X(e,t);var a=oi;if(a&&e){var n=Pl(a).hoistableScripts,l=si(e),i=n.get(l);i||(i=a.querySelector(Kr(l)),i||(e=ee({src:e,async:!0},t),(t=Tt.get(l))&&dm(e,t),i=a.createElement("script"),be(i),Ie(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function Ub(e,t){Sa.M(e,t);var a=oi;if(a&&e){var n=Pl(a).hoistableScripts,l=si(e),i=n.get(l);i||(i=a.querySelector(Kr(l)),i||(e=ee({src:e,async:!0,type:"module"},t),(t=Tt.get(l))&&dm(e,t),i=a.createElement("script"),be(i),Ie(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function Ch(e,t,a,n){var l=(l=Ka.current)?Xs(l):null;if(!l)throw Error(y(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ei(a.href),a=Pl(l).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ei(a.href);var i=Pl(l).hoistableStyles,r=i.get(e);if(r||(l=l.ownerDocument||l,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=l.querySelector(Xr(e)))&&!i._p&&(r.instance=i,r.state.loading=5),Tt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Tt.set(e,a),i||zb(l,e,a,r.state))),t&&n===null)throw Error(y(528,""));return r}if(t&&n!==null)throw Error(y(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=si(a),a=Pl(l).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(y(444,e))}}function ei(e){return'href="'+Et(e)+'"'}function Xr(e){return'link[rel="stylesheet"]['+e+"]"}function uv(e){return ee({},e,{"data-precedence":e.precedence,precedence:null})}function zb(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ie(t,"link",a),be(t),e.head.appendChild(t))}function si(e){return'[src="'+Et(e)+'"]'}function Kr(e){return"script[async]"+e}function bh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Et(a.href)+'"]');if(n)return t.instance=n,be(n),n;var l=ee({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),be(n),Ie(n,"style",l),hs(n,a.precedence,e),t.instance=n;case"stylesheet":l=ei(a.href);var i=e.querySelector(Xr(l));if(i)return t.state.loading|=4,t.instance=i,be(i),i;n=uv(a),(l=Tt.get(l))&&um(n,l),i=(e.ownerDocument||e).createElement("link"),be(i);var r=i;return r._p=new Promise(function(o,s){r.onload=o,r.onerror=s}),Ie(i,"link",n),t.state.loading|=4,hs(i,a.precedence,e),t.instance=i;case"script":return i=si(a.src),(l=e.querySelector(Kr(i)))?(t.instance=l,be(l),l):(n=a,(l=Tt.get(i))&&(n=ee({},a),dm(n,l)),e=e.ownerDocument||e,l=e.createElement("script"),be(l),Ie(l,"link",n),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(y(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,hs(n,a.precedence,e));return t.instance}function hs(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=n.length?n[n.length-1]:null,i=l,r=0;r<n.length;r++){var o=n[r];if(o.dataset.precedence===t)i=o;else if(i!==l)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function um(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function dm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ss=null;function _h(e,t,a){if(Ss===null){var n=new Map,l=Ss=new Map;l.set(a,n)}else l=Ss,n=l.get(a),n||(n=new Map,l.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var i=a[l];if(!(i[Vr]||i[Le]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var o=n.get(r);o?o.push(i):n.set(r,[i])}}return n}function Dh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Pb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vb(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var l=ei(n.href),i=t.querySelector(Xr(l));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ks.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,be(i);return}i=t.ownerDocument||t,n=uv(n),(l=Tt.get(l))&&um(n,l),i=i.createElement("link"),be(i);var r=i;r._p=new Promise(function(o,s){r.onload=o,r.onerror=s}),Ie(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ks.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Cd=0;function Hb(e,t){return e.stylesheets&&e.count===0&&ys(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&ys(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Cd===0&&(Cd=62500*vb());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ys(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Cd?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(l)}}:null}function Ks(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ys(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qs=null;function ys(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qs=new Map,t.forEach(Gb,e),Qs=null,Ks.call(e))}function Gb(e,t){if(!(t.state.loading&4)){var a=Qs.get(e);if(a)var n=a.get(null);else{a=new Map,Qs.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var r=l[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),n=r)}n&&a.set(null,n)}l=t.instance,r=l.getAttribute("data-precedence"),i=a.get(r)||n,i===n&&a.set(null,l),a.set(r,l),this.count++,n=Ks.bind(this),l.addEventListener("load",n),l.addEventListener("error",n),i?i.parentNode.insertBefore(l,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Ir={$$typeof:oa,Provider:null,Consumer:null,_currentValue:Mn,_currentValue2:Mn,_threadCount:0};function qb(e,t,a,n,l,i,r,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zu(0),this.hiddenUpdates=Zu(null),this.identifierPrefix=n,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function fv(e,t,a,n,l,i,r,o,s,c,f,p){return e=new qb(e,t,a,r,s,c,f,p,o),t=1,i===!0&&(t|=24),i=$e(3,null,null,t),e.current=i,i.stateNode=e,t=zf(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},Hf(i),e}function mv(e){return e?(e=wl,e):wl}function gv(e,t,a,n,l,i){l=mv(l),n.context===null?n.context=l:n.pendingContext=l,n=Fa(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=Za(e,n,t),a!==null&&(Ke(a,e,t),fr(a,e,t))}function Oh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function fm(e,t){Oh(e,t),(e=e.alternate)&&Oh(e,t)}function pv(e){if(e.tag===13||e.tag===31){var t=jn(e,67108864);t!==null&&Ke(t,e,67108864),fm(e,67108864)}}function Nh(e){if(e.tag===13||e.tag===31){var t=nt();t=Cf(t);var a=jn(e,t);a!==null&&Ke(a,e,t),fm(e,t)}}var Fs=!0;function jb(e,t,a,n){var l=O.T;O.T=null;var i=G.p;try{G.p=2,mm(e,t,a,n)}finally{G.p=i,O.T=l}}function Yb(e,t,a,n){var l=O.T;O.T=null;var i=G.p;try{G.p=8,mm(e,t,a,n)}finally{G.p=i,O.T=l}}function mm(e,t,a,n){if(Fs){var l=Sf(n);if(l===null)Td(e,t,n,Zs,a),Lh(e,n);else if(Kb(l,e,t,a,n))n.stopPropagation();else if(Lh(e,n),t&4&&-1<Xb.indexOf(e)){for(;l!==null;){var i=ni(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=On(i.pendingLanes);if(r!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var s=1<<31-at(r);o.entanglements[1]|=s,r&=~s}Vt(i),(H&6)===0&&(Ps=et()+500,Yr(0,!1))}}break;case 31:case 13:o=jn(i,2),o!==null&&Ke(o,i,2),sc(),fm(i,2)}if(i=Sf(n),i===null&&Td(e,t,n,Zs,a),i===l)break;l=i}l!==null&&n.stopPropagation()}else Td(e,t,n,null,a)}}function Sf(e){return e=Of(e),gm(e)}var Zs=null;function gm(e){if(Zs=null,e=Nl(e),e!==null){var t=xr(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=xh(t),e!==null)return e;e=null}else if(a===31){if(e=Uh(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Zs=e,null}function Ev(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(I0()){case Hh:return 2;case Gh:return 8;case bs:case B0:return 32;case qh:return 268435456;default:return 32}default:return 32}}var yf=!1,$a=null,Wa=null,en=null,Br=new Map,wr=new Map,Ha=[],Xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":Br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wr.delete(t.pointerId)}}function tr(e,t,a,n,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[l]},t!==null&&(t=ni(t),t!==null&&pv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Kb(e,t,a,n,l){switch(t){case"focusin":return $a=tr($a,e,t,a,n,l),!0;case"dragenter":return Wa=tr(Wa,e,t,a,n,l),!0;case"mouseover":return en=tr(en,e,t,a,n,l),!0;case"pointerover":var i=l.pointerId;return Br.set(i,tr(Br.get(i)||null,e,t,a,n,l)),!0;case"gotpointercapture":return i=l.pointerId,wr.set(i,tr(wr.get(i)||null,e,t,a,n,l)),!0}return!1}function hv(e){var t=Nl(e.target);if(t!==null){var a=xr(t);if(a!==null){if(t=a.tag,t===13){if(t=xh(a),t!==null){e.blockedOn=t,fE(e.priority,function(){Nh(a)});return}}else if(t===31){if(t=Uh(a),t!==null){e.blockedOn=t,fE(e.priority,function(){Nh(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Sf(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Ud=n,a.target.dispatchEvent(n),Ud=null}else return t=ni(a),t!==null&&pv(t),e.blockedOn=a,!1;t.shift()}return!0}function Mh(e,t,a){vs(e)&&a.delete(t)}function Qb(){yf=!1,$a!==null&&vs($a)&&($a=null),Wa!==null&&vs(Wa)&&(Wa=null),en!==null&&vs(en)&&(en=null),Br.forEach(Mh),wr.forEach(Mh)}function ls(e,t){e.blockedOn===t&&(e.blockedOn=null,yf||(yf=!0,ve.unstable_scheduleCallback(ve.unstable_NormalPriority,Qb)))}var is=null;function Rh(e){is!==e&&(is=e,ve.unstable_scheduleCallback(ve.unstable_NormalPriority,function(){is===e&&(is=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],l=e[t+2];if(typeof n!="function"){if(gm(n||a)===null)continue;break}var i=ni(a);i!==null&&(e.splice(t,3),t-=3,$d(i,{pending:!0,data:l,method:a.method,action:n},n,l))}}))}function ti(e){function t(s){return ls(s,e)}$a!==null&&ls($a,e),Wa!==null&&ls(Wa,e),en!==null&&ls(en,e),Br.forEach(t),wr.forEach(t);for(var a=0;a<Ha.length;a++){var n=Ha[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ha.length&&(a=Ha[0],a.blockedOn===null);)hv(a),a.blockedOn===null&&Ha.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var l=a[n],i=a[n+1],r=l[Qe]||null;if(typeof i=="function")r||Rh(a);else if(r){var o=null;if(i&&i.hasAttribute("formAction")){if(l=i,r=i[Qe]||null)o=r.formAction;else if(gm(l)!==null)continue}else o=r.action;typeof o=="function"?a[n+1]=o:(a.splice(n,3),n-=3),Rh(a)}}}function Sv(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return l=r})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function pm(e){this._internalRoot=e}dc.prototype.render=pm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(y(409));var a=t.current,n=nt();gv(a,n,e,t,null,null)};dc.prototype.unmount=pm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gv(e.current,2,null,e,null,null),sc(),t[ai]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qh();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ha.length&&t!==0&&t<Ha[a].priority;a++);Ha.splice(a,0,e),a===0&&hv(e)}};var Ih=Bh.version;if(Ih!=="19.2.0")throw Error(y(527,Ih,"19.2.0"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(y(188)):(e=Object.keys(e).join(","),Error(y(268,e)));return e=_0(t),e=e!==null?zh(e):null,e=e===null?null:e.stateNode,e};var Fb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(ar=__REACT_DEVTOOLS_GLOBAL_HOOK__,!ar.isDisabled&&ar.supportsFiber))try{Ur=ar.inject(Fb),tt=ar}catch{}var ar;fc.createRoot=function(e,t){if(!wh(e))throw Error(y(299));var a=!1,n="",l=cy,i=uy,r=dy;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=fv(e,1,!1,null,null,a,n,null,l,i,r,Sv),e[ai]=t.current,cm(e),new pm(t)};fc.hydrateRoot=function(e,t,a){if(!wh(e))throw Error(y(299));var n=!1,l="",i=cy,r=uy,o=dy,s=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.formState!==void 0&&(s=a.formState)),t=fv(e,1,!0,t,a??null,n,l,s,i,r,o,Sv),t.context=mv(null),a=t.current,n=nt(),n=Cf(n),l=Fa(n),l.callback=null,Za(a,l,n),a=n,t.current.lanes=a,Pr(t,a),Vt(t),e[ai]=t.current,cm(e),new dc(t)};fc.version="19.2.0"});var Av=va((ON,Tv)=>{"use strict";function vv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vv)}catch(e){console.error(e)}}vv(),Tv.exports=yv()});var X={DATE_INPUT:"date",DIET_TYPE_SELECT:"diet-type",TOP_BAR:".top-bar",FOOTER:"footer",EASTER_EGG_OVERLAY:".easter-egg-overlay",EASTER_EGG_ICON:".easter-egg-icon",SERVICE_NUMBER_PREFIX:"service-number-",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2",TAB_DADES:"tab-dades",TAB_SERVEIS:"tab-serveis",CONTENT_DADES:"dades-tab-content",CONTENT_SERVEIS:"serveis-tab-content",MAIN_CONTENT_AREA:"main-content",CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips",SIGNATURE_MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title",DOTACIO_MODAL:"dotacio-modal",OPTIONS_CONTAINER_DOT:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline",SAVE_DIET:"save-diet",NOTES_BUTTON_ID:"notes-selected-service",NOTES_MODAL_ID:"notes-modal",NOTES_TITLE_ID:"notes-title",NOTES_TEXTAREA_ID:"notes-textarea",NOTES_SAVE_ID:"notes-save",NOTES_CANCEL_ID:"notes-cancel",NOTES_COUNTER_ID:"notes-char-counter",SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel",TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text",SAVE_PILL:"save-pill",DONATION_LINK_ID:"openDonation",COOKIE_CONSENT_BANNER:"cookie-consent-banner",ACCEPT_COOKIES:"accept-cookies",DECLINE_COOKIES:"decline-cookies"},xe={INPUT_ERROR:"input-error",ACTIVE_TAB:"active",ERROR_TAB:"error-tab",MODAL_OPEN:"modal-open",MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",TOP_BAR_TAPS:3,FOOTER_TAPS:2,TIMEOUT:1e3,ANIMATION_DURATION:1e3,DEFAULT_DURATION:3e3,ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1,SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",CHIP_ACTIVE:"chip-active",PANEL_VISIBLE:"visible",BUTTON_OPEN:"open",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_LOAD_BTN:"diet-load",DIET_DELETE_BTN:"diet-delete",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal",INPUT_ERROR_DOT:"input-error",IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount",PROMPT_DISMISSED_LIMIT:2,ACTION_TRIGGER_LIMIT:10,DARK_THEME:"theme-dark",VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error",SIGNED:"signed",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Qn={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group",PERSON_INPUT_GROUP:".input-with-icon",TEXT_SEL:".pill-text",SERVICE_CONTAINER_SELECTOR:".service",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete",SERVICE_NUMBER_INPUT:".service-number"},bc={serviceNumber:".service-number",origin:".origin",destination:".destination",originTime:".origin-time",destinationTime:".destination-time",endTime:".end-time",mode:".chip-active",notes:""},Gt={SERVICE_NUMBER_LENGTH:9,VEHICLE_MAX_LENGTH:6,PERSON_NAME_MAX_LENGTH:28,LOCATION_MAX_LENGTH:35,PERSON_NAME_ALLOWED_CHARS:/^[a-zA-Z\s']+$/u},Bm={DEBOUNCE_TOAST:300,DEBOUNCE_AUTO_SAVE:1e3,DEBOUNCE_HANDLER:800};var Ti={LUNCH:"lunch",DINNER:"dinner"},wm=Qn.SERVICE_CONTAINER_SELECTOR,_c={SERVICE_NUMBER_DIGITS_ONLY:"Solo se permiten d\xEDgitos (0-9) en el n\xFAmero de servicio.",SAVE_ERROR_DIGITAL_ONLY:"El n\xFAmero de servicio debe contener solo d\xEDgitos.",VALIDATION_FAILED:"Validaci\xF3n fallida",OCR_PROCESS_RUNNING:"Proceso OCR ya en marcha.",INVALID_IMAGE:"Selecciona una imagen.",IMAGE_TOO_BIG:"La imagen es demasiado grande (m\xE1x. 10 MB).",OCR_ERROR:"Error de escaneo",IMAGE_PROCESS_ERROR:"Error al procesar la imagen.",OCR_COMPLETE:"An\xE1lisis completado.",SAVING:"Guardando\u2026",SAVED:"Guardado",SAVE_ERROR:"No se pudo guardar",DOWNLOAD_STARTED:"Descarga iniciada correctamente.",PDF_GENERATION_ERROR:"Error en la generaci\xF3n del PDF",DOTACIO_SAVED:"Dotaci\xF3n guardada.",DOTACIO_LOADED:"Dotaci\xF3n cargada.",DOTACIO_DELETED:"Dotaci\xF3n eliminada."};var xm={DOTACIIONS:"dotacions_v2",ANONYMOUS_USER:"anonymousUserId",COOKIE_CONSENT:"cookie_consent",THEME_PREFERENCE:"themePreference",USER_SELECTED_SERVICE_TYPE:"userSelectedServiceType",ONBOARDING_COMPLETED:"onboardingCompleted"};Rt();function un(e){e?.classList.add(xe.INPUT_ERROR)}function Fn(e){e?.classList.remove(xe.INPUT_ERROR)}function Pm(e){if(!e||e.length===0)return"";let t=e.map(a=>`S${a}`);return t.length===1?t[0]:t.length===2?t.join(" y "):`${t.slice(0,-1).join(", ")} y ${t[t.length-1]}`}function Ai(e){!e||e.dataset.errorListenerAttached||(e.addEventListener("input",()=>Fn(e),{once:!0}),e.dataset.errorListenerAttached="true")}function Vm(e,t,a,n){if(!e)return!0;Fn(e);let l=e.value.trim(),i=!1;return l?/^\d+$/.test(l)?l.length!==Gt.SERVICE_NUMBER_LENGTH&&(n.digitLength.push(t),i=!0):(n.nonNumeric.push(t),i=!0):a&&(n.emptyRequiredS1=!0,i=!0),i?(un(e),Ai(e),!1):!0}function bT(e){let t=[];return e.nonNumeric.length>0&&t.push(`El n\xFAmero de servicio ${Pm(e.nonNumeric)} debe contener solo d\xEDgitos.`),e.digitLength.length>0&&t.push(`El n\xFAmero de servicio ${Pm(e.digitLength)} debe tener ${Gt.SERVICE_NUMBER_LENGTH} d\xEDgitos.`),t}function to(){let e=!0;return[document.getElementById(X.DATE_INPUT),document.getElementById(X.DIET_TYPE_SELECT)].filter(Boolean).forEach(a=>{Fn(a),a.value.trim()||(un(a),Ai(a),e=!1)}),e}function ao(){let e={emptyRequiredS1:!1,nonNumeric:[],digitLength:[]},t=!0,a=document.getElementById(`${X.SERVICE_NUMBER_PREFIX}1`);if(!a)return console.error("Validation: No se ha encontrado el input para el servicio S1."),!1;t=Vm(a,1,!0,e)&&t;for(let l=2;l<=4;l++){let i=document.getElementById(`${X.SERVICE_NUMBER_PREFIX}${l}`);i&&(t=Vm(i,l,!1,e)&&t)}if(t)return!0;let n=bT(e);return n.length>0&&b(n.join(`
`),"error"),!1}function fe(e){return typeof e!="string"?"":e.trim().replace(/[<>&"'`]/g,"").trim()}function no(e){return e?/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/.test(e):!0}function Hm(e,t,a,n){let l=e?.value.trim()||"";return l&&!Gt.PERSON_NAME_ALLOWED_CHARS.test(l)?(un(t),!1):l.length>Gt.PERSON_NAME_MAX_LENGTH?(un(t),n.push(`El nombre del ${a} no puede superar los ${Gt.PERSON_NAME_MAX_LENGTH} caracteres.`),!1):!0}function Gm(){let e=document.getElementById(X.VEHICLE_INPUT),t=document.getElementById(X.PERSON1_INPUT),a=document.getElementById(X.PERSON2_INPUT),n=t?.closest(Qn.PERSON_INPUT_GROUP),l=a?.closest(Qn.PERSON_INPUT_GROUP);Fn(e),Fn(n),Fn(l);let i=e?.value.trim()||"",r=t?.value.trim()||"",o=a?.value.trim()||"",s=!0,c=[];return i||(un(e),c.push("El campo Veh\xEDculo es obligatorio."),s=!1),s=Hm(t,n,"Conductor",c)&&s,s=Hm(a,l,"Ayudante",c)&&s,!r&&!o&&(un(n),un(l),c.push("Debe indicar al menos un Conductor o Ayudante."),s=!1),s||(Ai(e),Ai(t),Ai(a),b(c.join(`
`),"error")),s}function qm(){let e=Gt.PERSON_NAME_ALLOWED_CHARS,t=/^[^\x00-\x1F\x7F<>&"'`]*$/u;function a(c){let f=c.target.value;e.test(f)||(c.target.value=f.replace(/[^a-zA-Z\s'.]/g,""))}function n(c){let f=c.target.value;t.test(f)||(c.target.value=f.replace(/[<>&"'`]/g,"").trim())}function l(c){c.key==="Enter"||c.key==="Tab"||c.ctrlKey||c.metaKey||c.altKey||c.key.length>1||e.test(c.key)||c.preventDefault()}function i(c){c.key==="Enter"||c.key==="Tab"||c.ctrlKey||c.metaKey||c.altKey||c.key.length>1||t.test(c.key)||c.preventDefault()}[document.getElementById(X.PERSON1_INPUT),document.getElementById(X.PERSON2_INPUT)].filter(Boolean).forEach(c=>{c.addEventListener("input",a),c.addEventListener("keypress",l)}),document.querySelectorAll(".service .origin, .service .destination").forEach(c=>{c.addEventListener("input",n),c.addEventListener("keypress",i)});let s=document.getElementById(X.VEHICLE_INPUT);s&&s.addEventListener("input",c=>{c.target.value.length>Gt.VEHICLE_MAX_LENGTH&&(c.target.value=c.target.value.slice(0,Gt.VEHICLE_MAX_LENGTH))})}var Ta={debug:10,info:20,warn:30,error:40,silent:50};function _T(){if(typeof import.meta<"u"&&import.meta.env){if(typeof import.meta.env.MODE=="string")return import.meta.env.MODE;if(typeof import.meta.env.NODE_ENV=="string")return import.meta.env.NODE_ENV}return typeof process<"u"&&process.env?"production":typeof window<"u"&&typeof window.__APP_ENV__=="string"?window.__APP_ENV__:"development"}var io=_T()==="production"?Ta.warn:Ta.debug,Oc=new Set;function DT(e){for(let t of Oc)try{t(e)}catch{}}function OT(e){return typeof console>"u"?null:e==="debug"&&typeof console.debug=="function"?console.debug.bind(console):e==="info"&&typeof console.info=="function"?console.info.bind(console):e==="warn"&&typeof console.warn=="function"?console.warn.bind(console):e==="error"&&typeof console.error=="function"?console.error.bind(console):console.log?console.log.bind(console):null}function NT(e,t){let a=new Date().toISOString();return t?[`[${a}] [${t}] [${e.toUpperCase()}]`]:[`[${a}] [${e.toUpperCase()}]`]}function jm(e){return Ta[e]>=io&&io<Ta.silent}function lo(e,t,a){if(!jm(e))return;let n=OT(e);n&&n(...NT(e,t),...a)}function Nc(e){let t=e;return{debug:(...a)=>lo("debug",t,a),info:(...a)=>lo("info",t,a),warn:(...a)=>lo("warn",t,a),error:(...a)=>lo("error",t,a),isEnabled(a="debug"){return jm(a)},withScope(a){let n=t?`${t}:${a}`:a;return Nc(n)}}}var M={...Nc("App"),setLevel(e){if(!Ta[e])throw new Error(`Nivell de log desconegut: ${e}`);io=Ta[e],DT(e)},getLevel(){let e=Object.entries(Ta).find(([,t])=>t===io);return e?e[0]:"debug"},subscribe(e){return Oc.add(e),()=>Oc.delete(e)},withScope(e){return Nc(e)}},dD=Object.freeze({...Ta});var Zn=M.withScope("InputSanitizer"),ro={TIME:/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/,SERVICE_NUMBER:/^\d{9}$/,VEHICLE_NUMBER:/^[A-Z0-9]{3,6}$/i,DATE_ISO:/^\d{4}-\d{2}-\d{2}$/,PERSON_NAME:/^[a-zA-Z-\s\-']{1,28}$/,GENERAL_TEXT:/^[a-zA-Z0-9-\s\-.,;:()'\/]{0,150}$/},LT=[/<script[^>]*>.*?<\/script>/gi,/<iframe[^>]*>.*?<\/iframe>/gi,/<object[^>]*>.*?<\/object>/gi,/<embed[^>]*>/gi,/<[^>]*>/g,/javascript:/gi,/on\w+\s*=/gi,/data:text\/html/gi,/('|(--)|;|\/\*|\*\/|xp_|sp_|exec|execute|select|insert|update|delete|drop|create|alter)/gi,/(\||&|;|\$\(|\`|>|<)/g];function kn(e){return typeof e!="string"?!1:LT.some(t=>t.test(e))}function MT(e){if(typeof e!="string")return"";let t=e.replace(/<[^>]*>/g,"");return t=t.replace(/[\x00-\x08\x0B-\x0C\x0E-\x1F\x7F]/g,""),t=t.replace(/\s+/g," "),t=t.trim(),t}function Lc(e){return!e||typeof e!="string"?!1:kn(e)?(Zn.warn("Patr\xF3 sospit\xF3s detectat en validaci\xF3 de hora:",e),!1):ro.TIME.test(e)}function Mc(e){return!e||typeof e!="string"?!1:kn(e)?(Zn.warn("Patr\xF3 sospit\xF3s detectat en n\xFAmero de servei:",e),!1):/^\d{1,9}$/.test(e)}function RT(e){return!e||typeof e!="string"?!1:kn(e)?(Zn.warn("Patr\xF3 sospit\xF3s detectat en n\xFAmero de vehicle:",e),!1):ro.VEHICLE_NUMBER.test(e)}function IT(e){return!e||typeof e!="string"?!0:kn(e)?(Zn.warn("Patr\xF3 sospit\xF3s detectat en nom de persona:",e),!1):ro.PERSON_NAME.test(e)}function BT(e){return!e||typeof e!="string"?!0:kn(e)?(Zn.warn("Patr\xF3 sospit\xF3s detectat en text general:",e.substring(0,50)),!1):ro.GENERAL_TEXT.test(e)}function Ym(e){return!e||typeof e!="string"?{valid:!1,reason:"Text buit o inv\xE0lid"}:kn(e)?(Zn.warn("Patrons sospitosos detectats en resultat OCR"),{valid:!1,reason:"Text amb patrons sospitosos detectats"}):e.length>2e3?{valid:!1,reason:"Text massa llarg"}:/\d/.test(e)?{valid:!0}:{valid:!1,reason:"No cont\xE9 d\xEDgits (hores esperades)"}}function Ci(e,t="text"){let a=MT(e),n=!1,l="";switch(t){case"time":n=Lc(a),l=n?"":"Format d'hora inv\xE0lid (esperat: HH:mm)";break;case"serviceNumber":n=Mc(a),l=n?"":"N\xFAmero de servei inv\xE0lid (esperat: 1-9 d\xEDgits)";break;case"vehicleNumber":n=RT(a),l=n?"":"N\xFAmero de vehicle inv\xE0lid (esperat: 3-6 car\xE0cters alfanum\xE8rics)";break;case"personName":n=IT(a),l=n?"":"Nom inv\xE0lid (nom\xE9s lletres, espais i guions)";break;case"text":default:n=BT(a),l=n?"":"Text inv\xE0lid (cont\xE9 car\xE0cters no permesos)";break}return{valid:n,sanitized:a,reason:l}}var wT=["3.6","3.51","3.22","3.11"],Jn={CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips"},Di={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group"},ne={SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",SERVICE_COLORS:["service-1","service-2","service-3","service-4"],OPTIONS_MENU_HIDDEN:"hidden",CHIP_ACTIVE:"chip-active"},xT=[".chip-group-title",".chip-group",".btn-ocr-inline",".section-divider"],UT=[".destination",".destination-time"],Xm=!1,$n=0,Ae=[],Oi=[],Km=[],Rc=null,bi=null,qt=null,_i=null,zT=null,PT=[],Aa=[],jt=["","","",""];function VT(){bi&&(bi.innerHTML="",Oi=Ae.map((e,t)=>{let a=document.createElement("button");return a.className=`service-button ${ne.SERVICE_COLORS[t]}`,a.textContent=`S${t+1}`,a.type="button",a.setAttribute("aria-label",`Mostrar servei ${t+1}`),a.addEventListener("click",()=>YT(t)),bi.appendChild(a),a}))}function HT(){!qt||!_i||(_i.addEventListener("click",e=>{e.stopPropagation(),qt.classList.toggle(ne.OPTIONS_MENU_HIDDEN)}),document.addEventListener("click",e=>{!_i?.contains(e.target)&&!qt?.contains(e.target)&&qt.classList.add(ne.OPTIONS_MENU_HIDDEN)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&qt&&qt.classList.add(ne.OPTIONS_MENU_HIDDEN)}),qt.addEventListener("click",e=>{e.target.closest("button")&&qt.classList.add(ne.OPTIONS_MENU_HIDDEN)}))}function GT(e,t){let a=e.querySelector(t);return a?a.closest(Di.FORM_GROUP):null}function oo(e,t){if(!e)return;let a=t!=="3.6";UT.forEach(l=>{GT(e,l)?.classList.toggle(ne.SERVICE_HIDDEN,a)});let n=e.querySelector(".origin");n&&(a?n.setAttribute("enterkeyhint","done"):n.removeAttribute("enterkeyhint"))}function qT(e){zT&&PT.forEach(t=>t.classList.toggle(ne.CHIP_ACTIVE,t.dataset.mode===e))}function so(e,t){e.querySelectorAll(Di.CHIP).forEach(n=>n.classList.toggle(ne.CHIP_ACTIVE,n.dataset.mode===t))}function jT(){Ae.forEach((e,t)=>{e.querySelectorAll(Di.CHIP).forEach(n=>{n.addEventListener("click",()=>{let l=n.dataset.mode;if(!wT.includes(l)){console.error(`Intent de canviar a un mode inv\xE0lid: "${l}". Acci\xF3 bloquejada.`);return}if(Aa[t]===l)return;Aa[t]=l,so(e,l),oo(e,l);let i=e.querySelector(".chip-group");i&&(ne.SERVICE_COLORS.forEach(r=>i.classList.remove(r)),i.classList.add(ne.SERVICE_COLORS[t])),Yt()})})})}function Ic(e){let t=ne.SERVICE_COLORS[e],a=(n,l)=>{n&&(n.classList.remove(...ne.SERVICE_COLORS),n.classList.add(l,t))};a(document.getElementById(Jn.CLEAR_BTN),"clear-selected-btn"),a(document.getElementById(Jn.CAMERA_BTN),"camera-btn"),a(document.getElementById("notes-selected-service"),"notes-btn"),a(_i,"options-btn")}function Qm(){if(!Xm&&(Km=document.querySelectorAll(Di.SERVICE_PANEL),Rc=document.getElementById(Jn.CONTAINER),bi=document.getElementById(Jn.BUTTONS_CONTAINER),qt=document.getElementById(Jn.OPTIONS_MENU),_i=document.getElementById(Jn.OPTIONS_TOGGLE_BTN),!(!Rc||!bi)&&(Ae=Array.from(Rc.querySelectorAll(Di.SERVICE_PANEL)),!!Ae.length))){if(Aa=Ae.map(()=>"3.6"),VT(),HT(),jT(),Ae.length>0&&Oi.length>0){Ae.forEach((a,n)=>a.classList.toggle(ne.SERVICE_HIDDEN,n!==0)),Oi[0].classList.add(ne.BUTTON_ACTIVE);let e=Aa[0];oo(Ae[0],e),so(Ae[0],e);let t=Ae[0].querySelector(".chip-group");t&&t.classList.add(ne.SERVICE_COLORS[0]),qT(e),Ic(0)}Xm=!0}}function YT(e){if(e<0||e>=Ae.length||e===$n)return;Ae[$n].classList.add(ne.SERVICE_HIDDEN),Ae[e].classList.remove(ne.SERVICE_HIDDEN),Oi[$n].classList.remove(ne.BUTTON_ACTIVE),Oi[e].classList.add(ne.BUTTON_ACTIVE),$n=e;let t=Aa[e];oo(Ae[e],t),so(Ae[e],t);let a=Ae[e].querySelector(".chip-group");a&&(ne.SERVICE_COLORS.forEach(n=>a.classList.remove(n)),a.classList.add(ne.SERVICE_COLORS[e])),Ic(e)}var dn=()=>$n,Fm=e=>{if(e>=0&&e<Aa.length)return Aa[e]};function Zm(e){e&&e.querySelectorAll("input, select, textarea").forEach(t=>{t.type==="checkbox"||t.type==="radio"?t.checked=!1:t.type!=="button"&&t.type!=="submit"&&t.type!=="reset"&&(t.value=""),t.tagName==="SELECT"&&(t.selectedIndex=0)})}function Bc(){Ic($n)}function km(e,t){if(e<0||e>=Ae.length)return;Aa[e]=t;let a=Ae[e];a&&(so(a,t),oo(a,t),Yt())}function Wn(e){let t=e==="TSNU";Km.forEach(a=>{xT.forEach(n=>{a.querySelector(n)?.classList.toggle(ne.SERVICE_HIDDEN,t)})})}function Ni(e){e&&e.querySelectorAll(".input-error").forEach(t=>t.classList.remove("input-error"))}var co=class{constructor({id:t="",date:a="",dietType:n="",vehicleNumber:l="",person1:i="",person2:r="",signatureConductor:o="",signatureAjudant:s="",services:c=[],serviceType:f="TSU",timeStampDiet:p=new Date().toISOString()}={}){this.id=String(t),this.date=String(a),this.dietType=String(n),this.vehicleNumber=String(l),this.person1=String(i),this.person2=String(r),this.signatureConductor=String(o),this.signatureAjudant=String(s),this.services=Array.isArray(c)?c:[],this.serviceType=String(f),this.timeStampDiet=String(p)}};function XT(){let e="dietSalt",t=(n=16)=>Array.from({length:n},()=>Math.floor(Math.random()*256).toString(16).padStart(2,"0")).join(""),a=localStorage.getItem(e);if(!a){if(window.crypto?.getRandomValues){let n=crypto.getRandomValues(new Uint8Array(16));a=Array.from(n).map(l=>l.toString(16).padStart(2,"0")).join("")}else console.warn("[pseudoId] crypto.getRandomValues no disponible; usant Math.random() (menys segur, nom\xE9s mode desenvolupament)."),a=t(16);localStorage.setItem(e,a)}return a}async function el(e){if(!window.crypto?.subtle)return console.warn("[pseudoId] WebCrypto no disponible (context no segur). S\u2019usar\xE0 l\u2019ID en clar nom\xE9s en aquesta sessi\xF3."),e;let a=new TextEncoder().encode(XT()+e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(l=>l.toString(16).padStart(2,"0")).join("")}var wc=new Intl.RelativeTimeFormat("es",{numeric:"auto"});function Jm(e){if(!(e instanceof Date)||isNaN(e.getTime()))throw new Error("La data proporcionada no \xE9s v\xE0lida.");let t=Date.now()-e.getTime();if(t<0)return"en el futuro";let a=Math.round(t/1e3);if(a<45)return"hace unos segundos";if(a<90)return"hace un minuto";let n=Math.round(a/60);if(n<60)return wc.format(-n,"minute");let l=Math.round(n/60);if(l<24)return wc.format(-l,"hour");let i=Math.round(l/24);return wc.format(-i,"day")}var ot=M.withScope("CryptoManager"),KT=1,xc="AES-GCM";var QT=12,eg=128;var FT=["person1","person2","vehicleNumber","signatureConductor","signatureAjudant"],ZT=["serviceNumber","origin","destination","notes"];function uo(e){return!!(e&&e.encryption&&e.encryption.version&&e.encryptedData)}function kT(){return crypto.getRandomValues(new Uint8Array(QT))}function $m(e){let t=new Uint8Array(e),a="";for(let n=0;n<t.byteLength;n++)a+=String.fromCharCode(t[n]);return btoa(a)}function Wm(e){let t=atob(e),a=new Uint8Array(t.length);for(let n=0;n<t.length;n++)a[n]=t.charCodeAt(n);return a.buffer}function JT(e){let t={id:e.id,date:e.date,dietType:e.dietType,serviceType:e.serviceType,createdAt:e.createdAt||Date.now(),updatedAt:Date.now()},a={generalData:{},servicesData:[]};return FT.forEach(n=>{e[n]!==void 0&&(a.generalData[n]=e[n])}),Array.isArray(e.services)&&(a.servicesData=e.services.map(n=>{let l={},i={};return Object.keys(n).forEach(r=>{ZT.includes(r)?l[r]=n[r]:i[r]=n[r]}),{sensitive:l,public:i}})),t.services=a.servicesData.map(n=>n.public),{publicData:t,sensitiveData:a}}function $T(e,t){let a={...e};return t.generalData&&Object.assign(a,t.generalData),Array.isArray(e.services)&&Array.isArray(t.servicesData)&&(a.services=e.services.map((n,l)=>{let i=t.servicesData[l]?.sensitive||{};return{...n,...i}})),a}async function WT(e,t){try{let n=new TextEncoder().encode(JSON.stringify(e)),l=kT(),i=await crypto.subtle.encrypt({name:xc,iv:l,tagLength:eg},t,n);return{data:$m(i),iv:$m(l),algorithm:xc,version:KT}}catch(a){throw ot.error("Error encriptant dades:",a),new Error(`Encryption failed: ${a.message}`)}}async function eA(e,t){try{if(!e||!e.data||!e.iv)throw new Error("Invalid encrypted data format");let a=Wm(e.data),n=Wm(e.iv),l=await crypto.subtle.decrypt({name:xc,iv:new Uint8Array(n),tagLength:eg},t,new Uint8Array(a)),r=new TextDecoder().decode(l);return JSON.parse(r)}catch(a){throw ot.error("Error desencriptant dades:",a),new Error(`Decryption failed: ${a.message}`)}}async function tg(e){try{let a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){return ot.error("Error calculant checksum:",t),""}}async function fo(e,t){try{ot.debug("Encriptant dieta:",e.id);let{publicData:a,sensitiveData:n}=JT(e),l=await WT(n,t),i=await tg(l.data),r={...a,encryption:{version:l.version,algorithm:l.algorithm,iv:l.iv},encryptedData:l.data,checksum:i};return ot.debug("Dieta encriptada correctament:",e.id),r}catch(a){throw ot.error("Error encriptant dieta:",a),a}}async function mo(e,t,a={}){let{showChecksumWarning:n=!0}=a;try{ot.debug("Desencriptant dieta:",e.id);let l=!0;if(e.checksum&&await tg(e.encryptedData)!==e.checksum){if(l=!1,ot.error(`\u26A0\uFE0F CHECKSUM MISMATCH per dieta ${e.id} - Integritat compromesa`),n&&typeof window<"u")try{let{showToast:f}=await Promise.resolve().then(()=>(Rt(),zm));f("\u26A0\uFE0F Advert\xE8ncia: Les dades d'aquesta dieta poden estar corruptes. El checksum no coincideix.","warning",7e3)}catch{ot.warn("No s'ha pogut mostrar alerta de checksum a l'usuari")}ot.warn("Continuant amb desencriptaci\xF3 malgrat checksum inv\xE0lid (AES-GCM validar\xE0 integritat)")}let i={data:e.encryptedData,iv:e.encryption.iv,algorithm:e.encryption.algorithm,version:e.encryption.version},r=await eA(i,t),o={...e};delete o.encryption,delete o.encryptedData,delete o.checksum;let s=$T(o,r);return ot.debug(`Dieta desencriptada correctament: ${s.id} (checksum: ${l?"\u2705 v\xE0lid":"\u26A0\uFE0F inv\xE0lid"})`),s}catch(l){throw ot.error("Error desencriptant dieta:",l),l.name==="OperationError"?new Error("Les dades estan corruptes o s'ha utilitzat una clau incorrecta"):l}}var z=M.withScope("KeyManager"),Uc=typeof globalThis<"u"?globalThis:{},Xt=class extends Error{constructor(t,a){super(t),this.name="EncryptionSupportError",a&&(this.cause=a)}},tA="encryption-keys",aA=1;var tl="wrapped-master-key",zc="device-salt";var ag={name:"AES-GCM",length:256},Pc={name:"AES-KW",length:256};function Vc(){if(!Uc||typeof window>"u")throw new Xt("Entorn sense API de navegador: l'encriptaci\xF3 necessita accedir a WebCrypto i IndexedDB.");let e=Uc.crypto;if(!e||typeof e.subtle>"u")throw new Xt("WebCrypto API no disponible. Reviseu la configuraci\xF3 del navegador o el mode privat.");if(typeof Uc.indexedDB>"u")throw new Xt("IndexedDB no disponible o bloquejat. L'encriptaci\xF3 queda deshabilitada.")}function po(){try{return Vc(),!0}catch{return!1}}async function Hc(){return new Promise((e,t)=>{let a=indexedDB.open(tA,aA);a.onerror=()=>{z.error("Error obrint base de dades de claus"),t(a.error)},a.onsuccess=()=>{e(a.result)},a.onupgradeneeded=n=>{let l=n.target.result;l.objectStoreNames.contains("keys")||(l.createObjectStore("keys",{keyPath:"id"}),z.debug("Object store de claus creat"))}})}async function ng(e,t){let a=await Hc();return new Promise((n,l)=>{let o=a.transaction(["keys"],"readwrite").objectStore("keys").put({id:e,value:t,timestamp:Date.now()});o.onsuccess=()=>n(),o.onerror=()=>l(o.error)})}async function fn(e){let t=await Hc();return new Promise((a,n)=>{let r=t.transaction(["keys"],"readonly").objectStore("keys").get(e);r.onsuccess=()=>{a(r.result?.value||null)},r.onerror=()=>n(r.error)})}async function nA(){let e=await fn(zc);return e?e=new Uint8Array(e):(e=crypto.getRandomValues(new Uint8Array(32)),await ng(zc,Array.from(e)),z.debug("Nou salt de dispositiu generat")),e}async function Li(){try{z.debug("\u{1F511} Derivant clau de dispositiu...");let e=await nA();z.debug(`Salt length: ${e.length} bytes`);let t="diet-log-encryption-v1",a=new TextEncoder,n=await crypto.subtle.importKey("raw",a.encode(t),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),l=await crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:1e5,hash:"SHA-256"},n,Pc,!1,["wrapKey","unwrapKey"]);return z.debug("\u2705 Clau de dispositiu derivada"),l}catch(e){throw z.error("Error derivant clau de dispositiu:",e),e}}async function lA(){try{z.debug("Generant nova clau mestra...");let e=await crypto.subtle.generateKey(ag,!0,["encrypt","decrypt"]);return z.debug("Clau mestra generada correctament"),e}catch(e){throw z.error("Error generant clau mestra:",e),e}}async function iA(e,t){try{let a=await crypto.subtle.wrapKey("raw",e,t,Pc.name);return z.debug(`Clau protegida: ${a.byteLength} bytes`),a}catch(a){throw z.error("Error protegint clau mestra:",a),a}}async function Mi(e,t){try{let a=e;e instanceof Uint8Array?a=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength):e instanceof ArrayBuffer||(a=new Uint8Array(e).buffer),z.debug(`Unwrapping key with buffer length: ${a.byteLength} bytes`);let n=await crypto.subtle.unwrapKey("raw",a,t,Pc.name,ag,!1,["encrypt","decrypt"]);return z.debug("\u2705 Clau desprotegida correctament"),n}catch(a){throw z.error("Error desprotegint clau mestra:",a),a}}async function mn(){try{Vc(),z.debug("\u{1F510} Inicialitzant sistema de claus...");let e=await fn(tl);if(e){z.debug("\u26A0\uFE0F Sistema de claus ja inicialitzat. Validant integritat...");try{let i=await Li(),r=new Uint8Array(e);await Mi(r,i),z.debug("\u2705 Clau existent validada correctament");return}catch(i){z.warn("\u26A0\uFE0F Clau existent corrupta o incompatible. Re-inicialitzant..."),z.warn("Error de validaci\xF3:",i),await go(!0),z.debug("\u{1F504} Sistema resetejat. Creant nova clau...")}}let t=await lA(),a=await Li(),n=await iA(t,a),l=Array.from(new Uint8Array(n));await ng(tl,l),z.debug(`\u2705 Clau protegida guardada a IndexedDB (${l.length} bytes)`);try{z.debug("\u{1F50D} Validant que la clau es pot recuperar...");let i=new Uint8Array(l);await Mi(i,a),z.debug("\u2705 Validaci\xF3 exitosa: la clau es pot recuperar correctament")}catch(i){throw z.error("\u274C VALIDACI\xD3 FALLIDA: La clau no es pot recuperar despr\xE9s de crear-la!"),z.error("Error de validaci\xF3:",i),await go(!0),new Error(`Key system validation failed: ${i.message}. Possible browser incompatibility with AES-KW algorithm.`)}z.debug("\u2705 Sistema de claus inicialitzat i validat correctament"),z.debug("\u{1F512} Protecci\xF3 de dades activada")}catch(e){throw!(e instanceof Xt)&&new Set(["SecurityError","InvalidStateError","NotAllowedError","QuotaExceededError"]).has(e?.name)?new Xt("El navegador ha bloquejat l'acc\xE9s a IndexedDB o WebCrypto.",e):(z.error("\u274C Error inicialitzant sistema de claus:",e),e)}}async function Ca(){try{Vc();let e=await fn(tl);if(!e){z.warn("\u26A0\uFE0F Clau mestra no trobada. Inicialitzant sistema autom\xE0ticament..."),await mn();let n=await fn(tl);if(!n)throw new Error("Failed to initialize key system");let l=await Li(),i=new Uint8Array(n).buffer;return await Mi(i,l)}if(!Array.isArray(e)||e.length===0)throw new Error("Clau mestra amb format inv\xE0lid. Executa diagnoseKeySystem() per m\xE9s detalls.");let t=new Uint8Array(e).buffer,a=await Li();try{return await Mi(t,a)}catch(n){throw z.error("\u26D4 Error CR\xCDTIC desprotegint clau mestra:",n),z.error("El sistema de claus est\xE0 corrupte o el dispositiu ha canviat. Les dotacions encriptades no es poden recuperar sense la clau original. Opcions: 1) Prova a recarregar la p\xE0gina, 2) Exporta dades i reseteja l'aplicaci\xF3."),new Error(`Key unwrap failed: ${n.message}. Aix\xF2 pot passar si has canviat de navegador/dispositiu o les dades estan corruptes. SOLUCI\xD3: Reseteja el sistema de claus des de Configuraci\xF3.`)}}catch(e){throw z.error("Error recuperant clau mestra:",e),e}}async function gn(){return po()?!!await fn(tl):!1}async function go(e=!1){if(!e)throw new Error("resetKeySystem requereix confirmaci\xF3 expl\xEDcita (confirmed=true). ATENCI\xD3: Aix\xF2 far\xE0 que totes les dades encriptades siguin irrecuperables.");z.warn("\u26A0\uFE0F RESETEJANT SISTEMA DE CLAUS - Les dades encriptades es perdran!");let t=await Hc();return new Promise((a,n)=>{let r=t.transaction(["keys"],"readwrite").objectStore("keys").clear();r.onsuccess=()=>{z.debug("\u2705 Sistema de claus resetejat"),a()},r.onerror=()=>n(r.error)})}async function lg(){try{let e={encryptionSupported:po(),keySystemInitialized:!1,wrappedKeyExists:!1,wrappedKeyValid:!1,deviceSaltExists:!1,canUnwrap:!1,errors:[]};if(!e.encryptionSupported)return e.errors.push("WebCrypto or IndexedDB not supported"),e;let t=await fn(tl);e.wrappedKeyExists=!!t,e.keySystemInitialized=e.wrappedKeyExists,t&&(e.wrappedKeyValid=Array.isArray(t)&&t.length>0);let a=await fn(zc);if(e.deviceSaltExists=!!a,e.wrappedKeyExists&&e.wrappedKeyValid)try{let n=new Uint8Array(t).buffer,l=await Li();await Mi(n,l),e.canUnwrap=!0}catch(n){e.canUnwrap=!1,e.errors.push(`Unwrap failed: ${n.message}`)}return e}catch(e){return{encryptionSupported:!1,keySystemInitialized:!1,wrappedKeyExists:!1,wrappedKeyValid:!1,deviceSaltExists:!1,canUnwrap:!1,errors:[`Diagnosis failed: ${e.message}`]}}}var rA="DietasDB";var Kt="dietas",Gc="dateIndex",ig="dotacions",st=null;function rg(){return new Promise((e,t)=>{let a=indexedDB.open(rA,2);a.onupgradeneeded=n=>{let l=n.target.result,i=n.oldVersion,r;l.objectStoreNames.contains(Kt)?(r=n.target.transaction.objectStore(Kt),r&&!r.indexNames.contains(Gc)&&r.createIndex(Gc,"date",{unique:!1})):(r=l.createObjectStore(Kt,{keyPath:"id"}),r.createIndex(Gc,"date",{unique:!1})),i<2&&!l.objectStoreNames.contains(ig)&&l.createObjectStore(ig,{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1})},a.onsuccess=n=>{st=n.target.result,st.onclose=()=>st=null,st.onerror=()=>st=null,st.onversionchange=()=>st.close(),e(st)},a.onerror=n=>t(n.target.error),a.onblocked=()=>t(new Error("IndexedDB bloquejat per una altra pestanya"))})}async function Ri(e="readonly"){return(st??(st=await rg())).transaction(Kt,e)}function Ii(e,t){return new Promise((a,n)=>{e.onsuccess=l=>a(l.target.result),e.onerror=l=>n(new Error(`${t}: ${l.target.error}`))})}function qc(e){return new Promise((t,a)=>{e.oncomplete=()=>t(),e.onerror=()=>a(e.error),e.onabort=()=>a(e.error)})}async function jc(e){try{let t=await Ri("readwrite");return Ii(t.objectStore(Kt).add(e),"No s'ha pogut afegir"),await qc(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function Eo(e,t){try{let a;typeof e=="string"&&t?a={...t,id:e}:a=e;let n=await Ri("readwrite");return Ii(n.objectStore(Kt).put(a),"No s'ha pogut actualitzar"),await qc(n),a.id}catch(a){throw a.name==="QuotaExceededError"||a.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):a}}async function pn(e){if(!e)return;let t=await Ri();return Ii(t.objectStore(Kt).get(e),"Error obtenint dieta")}async function ba(){let e=await Ri();return Ii(e.objectStore(Kt).getAll(),"Error llistant dietes")}async function og(e){if(!e)return;let t=await Ri("readwrite");Ii(t.objectStore(Kt).delete(e),"Error eliminant dieta"),await qc(t)}async function sg(){return st??(st=await rg())}Rt();var oA="save-pill",sA=".pill-text",Qt={VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error"},cg=2e3;var _a=null,Yc=null,En=null,Bi=null,Xc=!1;function ug(){if(!_a){if(_a=document.getElementById(oA),Yc=_a?.querySelector(sA),!_a||!Yc)throw new Error("Elements de la p\xEDndola no trobats al DOM.");_a.setAttribute("role","status"),_a.setAttribute("aria-live","polite")}return{pillEl:_a,textEl:Yc}}function Kc(e,t){try{let{pillEl:a,textEl:n}=ug();a.classList.add(Qt.VISIBLE),a.classList.remove(Qt.HAS_CHANGES,Qt.SAVING,Qt.HAS_SAVED,Qt.ERROR),t&&a.classList.add(t),n.textContent=e.replace(/[<>&]/g,"")}catch(a){console.warn("[saveIndicator] Error mostrant p\xEDndola:",a)}}function ho(e="Guardando\u2026"){clearTimeout(Bi),Kc(e,Qt.SAVING)}function So(){clearTimeout(Bi),Xc=!1,Kc("Guardado",Qt.HAS_SAVED),clearTimeout(En),En=setTimeout(Qc,cg)}function hn(e="No se pudo guardar"){clearTimeout(Bi),Kc(e,Qt.ERROR),clearTimeout(En),En=setTimeout(Qc,cg*2)}function Qc(e=!1){try{if(ug(),clearTimeout(En),Xc&&!e)return;_a?.classList.remove(Qt.VISIBLE),En=null}catch(t){console.warn("[saveIndicator] Error amagant p\xEDndola:",t)}}function wi(){Xc=!1,clearTimeout(Bi),Qc(!0)}window.addEventListener("pagehide",()=>{clearTimeout(En),clearTimeout(Bi)});var Fc=Promise.resolve(),Zc=!1,kc=!1,Sn=!1,yn=M.withScope("DietService");async function cA(e,t,a){if(!e||!Array.isArray(t)||!a)throw new Error("Datos incompletos para construir la dieta.");if(!/^\d{9}$/.test(a))throw new Error("ID de dieta inv\xE1lido. Debe contener 9 d\xEDgitos.");for(let r of t)if(!no(r.originTime)||!no(r.destinationTime)||!no(r.endTime))throw new Error("Formato de hora inv\xE1lido detectado. Use HH:mm.");let n=await el(a),l=new Date().toISOString(),i={id:n,date:fe(e.date),dietType:fe(e.dietType),vehicleNumber:fe(e.vehicleNumber),person1:fe(e.person1),person2:fe(e.person2),signatureConductor:e.signatureConductor,signatureAjudant:e.signatureAjudant,services:t.map(r=>({serviceNumber:fe(r.serviceNumber),origin:fe(r.origin),destination:fe(r.destination),originTime:r.originTime,destinationTime:r.destinationTime,endTime:r.endTime,mode:fe(r.mode),notes:fe(r.notes)||""})),serviceType:fe(e.serviceType),timeStampDiet:l};return new co(i)}function uA(){let e=document.getElementById(X.DADES_TAB),t=document.getElementById(X.SERVEIS_TAB);e?.classList.remove(xe.ERROR_TAB),t?.classList.remove(xe.ERROR_TAB);let a=to(),n=ao();if(a&&n)return!0;let l="";return!a&&!n?(l="Completa los campos obligatorios en Datos y Servicios.",e?.classList.add(xe.ERROR_TAB),t?.classList.add(xe.ERROR_TAB)):a?(l="Completa los campos obligatorios en la pesta\xF1a Servicios.",t?.classList.add(xe.ERROR_TAB)):(l="Completa los campos obligatorios en la pesta\xF1a Datos.",e?.classList.add(xe.ERROR_TAB)),b(l,"error"),!1}function dA(e){if(!e)return;let t=l=>document.getElementById(l);t(X.DATE_INPUT).value=e.date||"",t(X.DIET_TYPE_SELECT).value=e.dietType||"",t(X.VEHICLE_INPUT).value=e.vehicleNumber||"",t(X.PERSON1_INPUT).value=e.person1||"",t(X.PERSON2_INPUT).value=e.person2||"";let a=t(X.SERVICE_TYPE_SELECT);a&&(a.value=e.serviceType||"TSU",Wn(a.value)),yo(e.signatureConductor||""),vo(e.signatureAjudant||"");let n=document.querySelectorAll(wm);e.services.forEach((l,i)=>{let r=n[i];r&&(Object.entries(bc).forEach(([o,s])=>{if(!s)return;let c=r.querySelector(s);c&&(c.value=l[o]||"")}),km(i,l.mode||"3.6"),Ni(r),jt[i]=l.notes||"")});for(let l=e.services.length;l<n.length;l++){let i=n[l];i&&(Object.values(bc).forEach(r=>{if(!r)return;let o=i.querySelector(r);o&&(o.value="")}),Ni(i),jt[l]="")}}async function $c(e){if(Sn=Sn||e,Zc)return kc=!0,Fc;Zc=!0;let t=Sn;Sn=!1;let a=(async()=>{let{generalData:n,servicesData:l}=To(),i=l[0]?.serviceNumber?.slice(0,9)||"";if(!i||!/^\d{9}$/.test(i)){t&&b("El primer servicio debe tener un N.\xBA de servicio v\xE1lido.","error");return}let r=await el(i),o=await pn(r);t&&ho(!o?"Guardando nueva dieta\u2026":"Guardando\u2026"),Jc(!1);try{if(await new Promise(u=>setTimeout(u,500)),!uA()){t&&hn("Validaci\xF3n fallida");return}let f=await cA(n,l,i);if(!await gn()){yn.error("\u274C Sistema de claus no inicialitzat. NO es pot guardar la dieta."),b("Error de seguretat: Sistema d'encriptaci\xF3 no disponible. Proveu recarregar la p\xE0gina.","error",5e3),t&&hn("Sistema d'encriptaci\xF3 no disponible");return}let p;try{let u=await Ca();p=await fo(f,u),yn.debug("\u{1F512} Dieta encriptada abans de guardar")}catch(u){yn.error("\u274C Error CR\xCDTIC encriptant dieta:",u),b("Error cr\xEDtic d'encriptaci\xF3. Les dades NO s'han desat per seguretat.","error",5e3),t&&hn("Error d'encriptaci\xF3");return}o?await Eo(p):await jc(p),xi=new Date,tu(),t&&b("Dieta guardada correctament.","success"),al(),So(),t&&await Ui()}catch(f){yn.error("Error en performSave:",f),hn(f.message||"No se pudo guardar"),t&&b(`Error al guardar: ${f.message}`,"error")}finally{Jc(!0)}})();Fc=a;try{await a}finally{if(Zc=!1,kc||Sn){let n=Sn;return Sn=!1,kc=!1,$c(n)}}return Fc}async function dg(){mg(),await $c(!0)}async function Wc(){await $c(!1)}async function fg(e){if(!e||typeof e!="string")throw new Error("ID inv\xE0lid");let t=e.length===64?await pn(e):await pn(await el(e));if(!t)throw new Error(`Dieta no trobada: ${e}`);if(uo(t))try{let a=await Ca();t=await mo(t,a),yn.debug("\u{1F513} Dieta desencriptada correctament")}catch(a){throw yn.error("Error desencriptant dieta:",a),b("Error desencriptant dieta. Pot estar corrupta.","error"),a}dA(t),al(),t.timeStampDiet&&(xi=new Date(t.timeStampDiet),tu()),b("Dieta cargada correctamente.","success"),au()}async function eu(e,t,a){if(e)try{let n=await pn(e);if(!n){b("Error: Dieta no trobada","error");return}let i=(await ba()).sort((r,o)=>new Date(o.timeStampDiet)-new Date(r.timeStampDiet));n.index=i.findIndex(r=>r.id===e),await og(e),b("Dieta eliminada","success",5e3,{priority:2,queueable:!1,undoCallback:async()=>{await jc(n),lu(n),b("Dieta restaurada","success",3e3,{priority:0})},onExpire:()=>{nu(e)}}),al(),wi()}catch(n){yn.error("Error en deleteDietHandler:",n),b("Error al eliminar la dieta","error")}}var xi=null;function tu(){let e=document.getElementById("last-saved");e&&(e.textContent=xi?Jm(xi):"")}setInterval(()=>{xi&&tu()},6e4);var gg={[Ti.LUNCH]:"comida",[Ti.DINNER]:"cena",DEFAULT:"dieta"},vn={TOP_BAR:xe.TOP_BAR_TAPS,FOOTER:xe.FOOTER_TAPS,TIMEOUT:xe.TIMEOUT,ANIMATION_DURATION:xe.ANIMATION_DURATION};function pg(e){if(!e)return;let t=document.body;if(!t)return;let a=t.dataset?.cspNonce||t.getAttribute("data-csp-nonce")||"";a&&!e.getAttribute("nonce")&&e.setAttribute("nonce",a)}function Eg(){try{let e=document.getElementById(X.DATE_INPUT);if(!e)return;e.valueAsDate=new Date}catch{}}function hg(e){return typeof e!="string"||!e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function ll(e){return e?e.split(" ").map(t=>t.includes(".")?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):""}function iu(){let e=new Date().getHours();return e>=6&&e<18?Ti.LUNCH:Ti.DINNER}function Sg(){let e=document.getElementById(X.DIET_TYPE_SELECT);e&&(e.value=iu())}function ru(e,t){let a="Data inv\xE0lida";if(e&&/^\d{4}-\d{2}-\d{2}$/.test(e))try{let l=e.split("-"),i=l[0].slice(-2);a=`${l[2]}/${l[1]}/${i}`}catch{}let n=gg[t]||gg.DEFAULT;return{ddmmaa:a,franjaText:n}}var Oe={topBarTaps:0,footerTaps:0,tapTimeoutId:null};function nl(){Oe.topBarTaps=0,Oe.footerTaps=0,Oe.tapTimeoutId&&(clearTimeout(Oe.tapTimeoutId),Oe.tapTimeoutId=null)}function fA(){if(document.querySelector(X.EASTER_EGG_OVERLAY))return;let e=document.createElement("div");e.className=X.EASTER_EGG_OVERLAY.substring(1);let t=document.createElement("div");t.className=X.EASTER_EGG_ICON.substring(1),t.innerHTML='<img src="assets/icons/egg.svg" alt="Easter Egg">',e.appendChild(t),document.body.appendChild(e);let a=n=>{n.stopPropagation(),t.classList.add("clicked"),setTimeout(()=>e.remove(),vn.ANIMATION_DURATION)};e.addEventListener("click",a)}function yg(){let e=document.getElementById("top-bar"),t=document.getElementById("footer");!e||!t||(e.addEventListener("touchend",a=>{a.changedTouches.length===1?(Oe.topBarTaps++,Oe.tapTimeoutId&&clearTimeout(Oe.tapTimeoutId),Oe.tapTimeoutId=setTimeout(nl,vn.TIMEOUT),Oe.topBarTaps>vn.TOP_BAR&&nl()):nl()}),t.addEventListener("touchend",a=>{Oe.topBarTaps===vn.TOP_BAR&&a.changedTouches.length===1&&(Oe.footerTaps++,Oe.tapTimeoutId&&clearTimeout(Oe.tapTimeoutId),Oe.tapTimeoutId=setTimeout(nl,vn.TIMEOUT),Oe.footerTaps===vn.FOOTER?(fA(),nl()):Oe.footerTaps>vn.FOOTER&&nl())}))}function zi(e,t){let a,n=function(...l){clearTimeout(a),a=setTimeout(()=>e.apply(this,l),t)};return n.cancel=()=>clearTimeout(a),n}Rt();var Ze={IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount"},Ag=2,vg=10,Tn=null,ou=null,su=null,An=null,Tg=!1,V=M.withScope("PWA"),cu=(e,t=0)=>parseInt(localStorage.getItem(e)||String(t),10),uu=e=>localStorage.getItem(e)==="true",Cn=(e,t)=>localStorage.setItem(e,String(t));function Cg(){let e=window.matchMedia("(display-mode: standalone)").matches,t=window.navigator.standalone===!0;return e||t||uu(Ze.IS_INSTALLED)}function mA(e=!1){if(V.debug("Intentant mostrar el b\xE0ner d'instal\xB7laci\xF3..."),Cg()){V.debug("Bloquejat: L'app ja est\xE0 instal\xB7lada.");return}if(uu(Ze.NEVER_SHOW_AGAIN)){V.debug("Bloquejat: L'usuari ha demanat no tornar a mostrar.");return}if(!Tn){V.debug("Bloquejat: No hi ha cap event d'instal\xB7laci\xF3 guardat.");return}if(!An){V.debug("Bloquejat: L'element HTML del b\xE0ner no s'ha trobat.");return}V.info("Mostrant el b\xE0ner!"),An.classList.add("visible"),An.classList.remove("hidden")}function bg(){V.debug("Amagant el b\xE0ner."),An?.classList.remove("visible"),An?.classList.add("hidden")}function gA(){V.info("L'usuari ha descartat el b\xE0ner."),bg();let e=cu(Ze.PROMPT_DISMISSED_COUNT);e++,Cn(Ze.PROMPT_DISMISSED_COUNT,e),V.debug(`Comptador de descartats actualitzat a: ${e}`),e>=Ag&&(Cn(Ze.NEVER_SHOW_AGAIN,!0),V.info("S'ha assolit el l\xEDmit de descartats. No es tornar\xE0 a mostrar."))}async function pA(){if(V.info("L'usuari ha fet clic a 'Instal\xB7lar'."),!Tn){V.warn("El bot\xF3 d'instal\xB7lar s'ha premut, per\xF2 no hi havia cap event guardat.");return}bg();try{Tn.prompt();let{outcome:e}=await Tn.userChoice;V.info(`Resultat de la decisi\xF3 de l'usuari: ${e}`),e==="accepted"?(Cn(Ze.IS_INSTALLED,!0),Cn(Ze.NEVER_SHOW_AGAIN,!0),V.info("L'usuari ha acceptat la instal\xB7laci\xF3! :)")):V.info("L'usuari ha rebutjat la instal\xB7laci\xF3 des del di\xE0leg del navegador.")}catch(e){V.error("Error durant el proc\xE9s de prompt d'instal\xB7laci\xF3:",e)}finally{Tn=null}}function EA(e){e.preventDefault(),Tn=e,V.debug("Event 'beforeinstallprompt' capturat i guardat.")}function _g(){Tg||(V.debug("Inicialitzant el gestor d'instal\xB7laci\xF3..."),An=document.getElementById("install-prompt"),ou=document.getElementById("install-button"),su=document.getElementById("dismiss-button"),An&&ou&&su?(ou.addEventListener("click",pA),su.addEventListener("click",gA),V.debug("Botons del b\xE0ner d'instal\xB7laci\xF3 configurats.")):V.warn("No s'han trobat tots els elements del b\xE0ner d'instal\xB7laci\xF3."),window.addEventListener("beforeinstallprompt",EA),window.matchMedia("(display-mode: standalone)").addEventListener("change",e=>{e.matches&&(V.info("Detectat canvi a mode 'standalone'. Marcat com instal\xB7lat."),Cn(Ze.IS_INSTALLED,!0),Cn(Ze.NEVER_SHOW_AGAIN,!0))}),Tg=!0,V.debug("Gestor d'instal\xB7laci\xF3 inicialitzat correctament."))}function Dg(){if(V.debug("------------------------------------------"),V.debug("Comprovant si s'ha de mostrar el b\xE0ner despr\xE9s d'una acci\xF3..."),Cg()){V.debug("[Check] No es mostra: L'app ja est\xE0 instal\xB7lada.");return}if(uu(Ze.NEVER_SHOW_AGAIN)){V.debug("[Check] No es mostra: L'usuari ha demanat no tornar a veure'l.");return}if(!Tn){V.debug("[Check] No es mostra: El navegador no ha ofert la possibilitat d'instal\xB7lar (deferredPrompt \xE9s nul).");return}let e=cu(Ze.ACTION_TRIGGER_COUNT);e++,Cn(Ze.ACTION_TRIGGER_COUNT,e),V.debug(`Comptador d'accions incrementat a: ${e}`);let t=cu(Ze.PROMPT_DISMISSED_COUNT);V.debug(`Vegades que s'ha descartat el b\xE0ner: ${t}`);let a=e===1&&t===0||e>=vg&&t<Ag;V.debug(`Es compleixen les condicions per mostrar? ${a}`),a?(setTimeout(()=>mA(),1500),e>=vg):V.debug("No es mostra el b\xE0ner aquesta vegada."),V.debug("------------------------------------------")}var il={OUTER_MARGIN:55,INNER_PADDING:10},ct={TEMPLATE_URLS:{DEFAULT:"./dieta.pdf"},SERVICE_Y_OFFSET:82,SIGNATURE_WIDTH:100,SIGNATURE_HEIGHT:50,WATERMARK_TEXT:"misdietas.com",DEFAULT_FILENAME:"dieta.pdf",SERVICE_NUMBER_COLOR:"#004aad",MODE_PREFIX_TEXT_COLOR:"#8B0000",MAX_SIGNATURE_NAME_LENGTH:31,MAX_ORIGIN_LENGTH:30,MAX_DESTINATION_LENGTH:30},B={general:{date:{x:155,y:732,size:16,color:"#000000"},vehicleNumber:{x:441,y:732,size:16,color:"#000000"},person1:{x:65,y:368,size:16,color:"#000000"},person2:{x:310,y:368,size:16,color:"#000000"}},service:{serviceNumber:{x:130,y:715,size:16,color:"#000000"},origin:{x:229,y:698,size:14,color:"#000000"},originTime:{x:441,y:698,size:16,color:"#000000"},destination:{x:229,y:683,size:14,color:"#000000"},destinationTime:{x:441,y:681,size:16,color:"#000000"},endTimeNormal:{x:441,y:665,size:16,color:"#000000"},endTimeModeText:{x:390,y:665,size:16,color:ct.MODE_PREFIX_TEXT_COLOR},endTimeValueWhenPrefixed:{x:441,y:665,size:16,color:"#000000"}},signature:{conductor:{x:125,y:295,width:100,height:50},ayudante:{x:380,y:295,width:100,height:50}},notesSection:{title:{x:65,y:250,size:16,color:"#000000"},lineHeight:18,maxWidth:465,start:{x:65,y:230,size:16,color:"#333333"}},fixedText:{website:{x:250,y:20,size:6,color:"#EEEEEE"}}},hA=M.withScope("PdfTemplate");function SA(e){return!e||typeof e!="string"||e.trim()===""?"":e.split(/\s+/).filter(Boolean).map(t=>t.includes("-")?t.split("-").map(a=>a?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():"").join("-"):t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function yA(e){if(!e||typeof e!="string")return{r:0,g:0,b:0};let t=e.replace("#","");if(t.length!==6)return{r:0,g:0,b:0};let a=parseInt(t,16);return Number.isNaN(a)?{r:0,g:0,b:0}:{r:a>>16&255,g:a>>8&255,b:a&255}}function Og(e,t){return!e||e.length<=t?e:e.substring(0,t-3)+"..."}function Ao(e){if(!e||!/^\d{4}-\d{2}-\d{2}$/.test(e))return"";let[t,a,n]=e.split("-");return`${n}/${a}/${t}`}function vA(){return ct.TEMPLATE_URLS.DEFAULT}async function du(e,t){if(!e||!Array.isArray(t))throw new Error("Dades inv\xE0lides.");if(!window.PDFLib)throw new Error("PDFLib no carregada.");let{PDFDocument:a,StandardFonts:n,rgb:l}=window.PDFLib,i=vA(),r=await fetch(i).then(T=>T.arrayBuffer()),o=await a.load(r),s=await o.embedFont(n.Helvetica),c=o.getPages()[0],f=T=>{let{r:D,g:C,b:N}=yA(T);return l(D/255,C/255,N/255)};Object.entries(B.general).forEach(([T,D])=>{let C=e[T]||"";T==="date"&&(C=Ao(C)),T==="vehicleNumber"&&(C=C.toUpperCase()),(T==="person1"||T==="person2")&&(C=SA(C),C.length>ct.MAX_SIGNATURE_NAME_LENGTH&&(C=C.slice(0,ct.MAX_SIGNATURE_NAME_LENGTH-3)+"...")),c.drawText(C,{...D,font:s,color:f(D.color)})}),t.forEach((T,D)=>{let C=D*ct.SERVICE_Y_OFFSET,N=T.mode||"3.6";c.drawText(T.serviceNumber||"",{...B.service.serviceNumber,y:B.service.serviceNumber.y-C,font:s,color:f(ct.SERVICE_NUMBER_COLOR)});let Ge=Og(T.origin||"",ct.MAX_ORIGIN_LENGTH),yi=Ge.length>23?13:B.service.origin.size;if(c.drawText(Ge,{...B.service.origin,y:B.service.origin.y-C,size:yi,font:s,color:f(B.service.origin.color)}),c.drawText(T.originTime||"",{...B.service.originTime,y:B.service.originTime.y-C,font:s,color:f(B.service.originTime.color)}),N==="3.6"){let $r=Og(T.destination||"",ct.MAX_DESTINATION_LENGTH),Wr=$r.length>23?13:B.service.destination.size;c.drawText($r,{...B.service.destination,y:B.service.destination.y-C,size:Wr,font:s,color:f(B.service.destination.color)}),c.drawText(T.destinationTime||"",{...B.service.destinationTime,y:B.service.destinationTime.y-C,font:s,color:f(B.service.destinationTime.color)})}let vi=(T.endTime||"").trim();N!=="3.6"&&vi?(c.drawText(N,{...B.service.endTimeModeText,y:B.service.endTimeModeText.y-C,font:s,color:f(B.service.endTimeModeText.color)}),c.drawText(vi,{...B.service.endTimeValueWhenPrefixed,y:B.service.endTimeValueWhenPrefixed.y-C,font:s,color:f(B.service.endTimeValueWhenPrefixed.color)})):c.drawText(vi,{...B.service.endTimeNormal,y:B.service.endTimeNormal.y-C,font:s,color:f(B.service.endTimeNormal.color)})});let p=async(T,D)=>{if(typeof T=="string"&&T.startsWith("data:image/png;base64,")&&T.length>22)try{let N=await o.embedPng(T);c.drawImage(N,{...D})}catch(N){hA.warn("No s'ha pogut incrustar una signatura.",N)}};await Promise.all([p(e.signatureConductor,B.signature.conductor),p(e.signatureAjudant,B.signature.ayudante)]);let u=c.getWidth(),g=il.OUTER_MARGIN+il.INNER_PADDING,h=u-(il.OUTER_MARGIN+il.INNER_PADDING),v=t.map(T=>({num:T.serviceNumber||"",text:(T.notes||"").trim()})).filter(T=>T.num&&T.text);if(v.length){c.drawLine({start:{x:il.OUTER_MARGIN,y:275},end:{x:u-il.OUTER_MARGIN,y:275},thickness:.5,color:l(.8,.8,.8)});let D=v.length===1?"Observaci\xF3":"Observacions";c.drawText(D,{...B.notesSection.title,font:s,color:f(B.notesSection.title.color)});let C=B.notesSection.start.y,N=B.notesSection.start.size,Ge=B.notesSection.lineHeight,yi=f(B.notesSection.start.color);v.forEach(({num:vi,text:$r})=>{if(C<40)return;let Wr=`Servei ${vi}: `;c.drawText(Wr,{x:g,y:C,font:s,size:N,color:f(ct.SERVICE_NUMBER_COLOR)});let sT=s.widthOfTextAtSize(Wr,N),eo=g+sT;$r.split(" ").forEach(Tc=>{if(!Tc)return;let Im=s.widthOfTextAtSize(`${Tc} `,N);eo+Im>h&&(C-=Ge,eo=g),c.drawText(`${Tc} `,{x:eo,y:C,font:s,size:N,color:yi}),eo+=Im}),C-=Ge*1.5})}let _=ct.WATERMARK_TEXT,m=B.fixedText.website.size,d=s.widthOfTextAtSize(_,m);c.drawText(_,{x:(c.getWidth()-d)/2,y:B.fixedText.website.y,size:m,font:s,color:f(B.fixedText.website.color)});let E=Ao(e.date)||"Dieta",A=`Dieta ${e.dietType==="lunch"?"Comida":e.dietType==="dinner"?"Cena":""} ${E}`.trim().replace(/ +/g," ");o.setTitle(A),o.setAuthor("misdietas.com"),o.setSubject("Justificante de dieta de transporte sanitario"),o.setCreator("MisDietas"),o.setKeywords(["dieta","justificante","transporte sanitario","tsu","tsnu"]);let I=new Date(e.date);return Number.isNaN(I.getTime())||(o.setCreationDate(I),o.setModificationDate(I)),await o.save({permissions:{modifying:!1,copying:!1}})}var rl=new Map;function ol({src:e,integrity:t,crossOrigin:a="anonymous",referrerPolicy:n="no-referrer",timeoutMs:l=15e3}={}){if(!e||typeof e!="string")return Promise.reject(new Error("loadExternalScript: src inv\xE0lid."));if(rl.has(e))return rl.get(e);let i=document.querySelector(`script[src="${e}"]`);if(i?.dataset?.secureLoaded==="true"){let s=Promise.resolve();return rl.set(e,s),s}let r=i??document.createElement("script");pg(r),r.src=e,r.async=!0,r.crossOrigin=a,r.referrerPolicy=n,t&&(r.integrity=t);let o=new Promise((s,c)=>{let f=null,p=()=>{r.removeEventListener("load",u),r.removeEventListener("error",g),f&&(clearTimeout(f),f=null)},u=()=>{p(),r.dataset.secureLoaded="true",s()},g=()=>{p(),!i&&r.parentNode&&r.parentNode.removeChild(r),rl.delete(e),c(new Error(`Error carregant script: ${e}`))};r.addEventListener("load",u),r.addEventListener("error",g),f=window.setTimeout(()=>{p(),rl.delete(e),!i&&r.parentNode&&r.parentNode.removeChild(r),c(new Error(`Timeout carregant script: ${e}`))},l)});return rl.set(e,o),i||document.head.appendChild(r),o}var fu=class{constructor(t=10,a=6e4,n="acci\xF3"){this.maxRequests=t,this.windowMs=a,this.actionName=n,this.requests=[]}canMakeRequest(){let t=Date.now();if(this.requests=this.requests.filter(a=>t-a<this.windowMs),this.requests.length>=this.maxRequests){let a=Math.min(...this.requests),n=Math.ceil((a+this.windowMs-t)/1e3);return console.warn(`[RateLimiter] L\xEDmit assolit per "${this.actionName}". Espera ${n}s abans de tornar-ho a intentar.`),!1}return this.requests.push(t),!0}getRemainingRequests(){let t=Date.now();return this.requests=this.requests.filter(a=>t-a<this.windowMs),Math.max(0,this.maxRequests-this.requests.length)}reset(){this.requests=[],console.log(`[RateLimiter] Resetejat el l\xEDmit per "${this.actionName}"`)}getStatus(){let t=Date.now();return this.requests=this.requests.filter(a=>t-a<this.windowMs),{actionName:this.actionName,requestsMade:this.requests.length,maxRequests:this.maxRequests,remaining:this.maxRequests-this.requests.length,windowSeconds:this.windowMs/1e3}}},Co=fu;var Ng=!1,bo=null,Lg=M.withScope("PdfService"),TA="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js",AA="sha384-weMABwrltA6jWR8DDe9Jp5blk+tZQh7ugpCsF3JwSA53WZM9/14PjS5LAJNHNjAI",_o=new Co(20,6e4,"generaci\xF3 de PDF");async function Mg(){Ng&&window.PDFLib||(bo||(bo=ol({src:TA,integrity:AA}).then(()=>{if(!window.PDFLib)throw new Error("PDF-Lib no disponible despr\xE9s de carregar script.");Ng=!0}).catch(e=>{throw bo=null,e})),await bo)}var Do={DADES_TAB:"tab-dades",SERVEIS_TAB:"tab-serveis"},Da={ERROR_TAB:"error-tab"};function CA(e,t){let a=document.getElementById(Do.DADES_TAB),n=document.getElementById(Do.SERVEIS_TAB);a?.classList.remove(Da.ERROR_TAB),n?.classList.remove(Da.ERROR_TAB);let l="";!e&&!t?(l="Completa els camps obligatoris a Dades i Serveis.",a?.classList.add(Da.ERROR_TAB),n?.classList.add(Da.ERROR_TAB)):e?(l="Completa els camps obligatoris a Serveis.",n?.classList.add(Da.ERROR_TAB)):(l="Completa els camps obligatoris a Dades.",a?.classList.add(Da.ERROR_TAB)),l&&b(l,"error")}function Rg(e,t){let a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>URL.revokeObjectURL(a),500)}function Ig(e,t){let a=Ao(e).replace(/\//g,"_")||"";return a?`${t==="lunch"?"dieta_comida":t==="dinner"?"dieta_cena":"dieta"}_${a}.pdf`:ct.DEFAULT_FILENAME}async function Bg(){if(!_o.canMakeRequest()){let a=_o.getRemainingRequests();b(`Has superat el l\xEDmit de generaci\xF3 de PDFs. Espera uns segons. (${a} disponibles)`,"warning");return}let e=to(),t=ao();if(!e||!t){CA(e,t);return}document.getElementById(Do.DADES_TAB)?.classList.remove(Da.ERROR_TAB),document.getElementById(Do.SERVEIS_TAB)?.classList.remove(Da.ERROR_TAB);try{let{generalData:a,servicesData:n}=To();if(!a||!n)throw new Error("Dades no recollides.");await Mg();let l=await du(a,n),i=Ig(a.date,a.dietType);Rg(new Blob([l],{type:"application/pdf"}),i),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from main form"}),b("Desc\xE0rrega iniciada correctament.","success"),Dg()}catch(a){Lg.error("Error generant PDF des del formulari principal:",a),b(`Error en la generaci\xF3 del PDF: ${a.message||"Desconegut"}`,"error")}}async function wg(e){if(!e){b("ID de dieta inv\xE1lido.","error");return}if(!_o.canMakeRequest()){let t=_o.getRemainingRequests();b(`Has superat el l\xEDmit de generaci\xF3 de PDFs. Espera uns segons. (${t} disponibles)`,"warning");return}try{let t=e.length===64?e:await el(e),a=await pn(t);if(!a)throw new Error("Dieta no encontrada.");let n={date:a.date||"",dietType:a.dietType||"",vehicleNumber:a.vehicleNumber||"",person1:a.person1||"",person2:a.person2||"",serviceType:a.serviceType||"TSU",signatureConductor:a.signatureConductor||"",signatureAjudant:a.signatureAjudant||""},l=a.services.map(o=>({serviceNumber:o.serviceNumber||"",origin:o.origin||"",originTime:o.originTime||"",destination:o.destination||"",destinationTime:o.destinationTime||"",endTime:o.endTime||"",mode:o.mode||"3.6",notes:o.notes||""}));await Mg();let i=await du(n,l),r=Ig(n.date,n.dietType);Rg(new Blob([i],{type:"application/pdf"}),r),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from saved list"}),b("Descarga iniciada correctamente.","success")}catch(t){Lg.error("Error en downloadDietPDF:",t),b(`Error en la generaci\xF3n del PDF: ${t.message||"Desconocido"}`,"error")}}var Z={MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_DELETE_BTN:"diet-delete",DIET_LOAD_BTN:"diet-load",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal"},At={DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",SIGNATURE_MODAL:"signature-modal",DOTACIO_MODAL:"dotacio-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal"},Oo={MODAL:".modal",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Ft={DIET_ID:"data-diet-id",DIET_DATE:"data-diet-date",DIET_TYPE:"data-diet-type"},bA=M.withScope("Modals:Manager"),It=[],mu=null,sl=null,cl=null,xg=new Map;function ul(){return It.length>0?It[It.length-1]:null}function _A(){sl||(sl=e=>{let t=ul();if(t&&e.target===t){let a=xg.get(t.id);a?a({reason:"backdrop"}):Oa(t)}},document.addEventListener("click",sl,!0)),cl||(cl=e=>{if(e.key!=="Escape")return;let t=ul();if(!t)return;let a=xg.get(t.id);a?a({reason:"escape"}):Oa(t)},document.addEventListener("keydown",cl,!0))}function DA(){sl&&(document.removeEventListener("click",sl,!0),sl=null),cl&&(document.removeEventListener("keydown",cl,!0),cl=null)}function OA(e){e.dataset.backdropTouchHandled||(e.addEventListener("touchstart",t=>{t.target===e&&(t.preventDefault(),t.stopPropagation())},{passive:!1}),e.dataset.backdropTouchHandled="true")}function Ug(e){e.style.display="block",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",e.style.setProperty("pointer-events","auto")}function zg(e){e.querySelector(Oo.FOCUSABLE_ELEMENTS)?.focus()}function No(e){if(!e)return;let t=ul();if(t&&t!==e&&e.id!==At.CONFIRM_MODAL){bA.debug("S'ha ignorat l'obertura perqu\xE8 ja hi ha un modal actiu.");return}let a=It.includes(e);a||It.push(e),It.length===1&&!a&&(mu=document.activeElement,document.body.classList.add(Z.MODAL_OPEN_BODY),Vg(),dl(!1),document.body.style.setProperty("pointer-events","none")),_A(),OA(e),Ug(e),zg(e)}function Oa(e=ul()){if(!e)return;let t=It.lastIndexOf(e);if(t===-1){e.style.display="none",e.style.removeProperty("pointer-events");return}if(It.splice(t,1),e.style.display="none",e.style.removeProperty("pointer-events"),It.length===0){document.body.classList.remove(Z.MODAL_OPEN_BODY),dl(!0),Hg(),document.body.style.removeProperty("pointer-events"),mu?.focus(),mu=null,DA();return}let a=ul();a&&(Ug(a),zg(a))}function Pg(){document.querySelectorAll(Oo.MODAL_TRIGGER).forEach(t=>{if(t.dataset.modalPrepared==="true")return;let a=t.getAttribute("href")?.substring(1);if(!a)return;let n=document.getElementById(a);n&&n.matches(Oo.MODAL)&&(t.addEventListener("click",i=>{i.preventDefault(),No(n)}),n.querySelectorAll(Oo.MODAL_CLOSE_BTN).forEach(i=>{i.dataset.modalPrepared!=="true"&&(i.addEventListener("click",()=>Oa(n)),i.dataset.modalPrepared="true")})),t.dataset.modalPrepared="true"})}function gu(){return It.length>0}function pu(){return ul()}var Lo=M.withScope("Modals:Diet"),bt=null,le=null,Ct=null,Gg=!1;function Pi(){if(Gg)return!0;if(bt=document.getElementById(At.DIET_MODAL),le=document.getElementById(At.DIET_OPTIONS_LIST),Ct=document.getElementById(At.NO_DIETS_TEXT),!bt||!le||!Ct)return Lo.warn("No s'han trobat els elements del modal de dietes."),!1;let e=document.getElementById("close-diet-modal");return e&&!e.dataset.modalPrepared&&(e.addEventListener("click",()=>Oa(bt)),e.dataset.modalPrepared="true"),le.dataset.modalPrepared||(le.addEventListener("click",NA),le.dataset.modalPrepared="true"),Gg=!0,!0}function qg(e){let t=e.id||"?????????",{ddmmaa:a,franjaText:n}=ru(e.date,e.dietType),l=document.createElement("div");l.className=Z.DIET_ITEM;let i=document.createElement("div");i.className="diet-item-content";let r=document.createElement("span");r.className=Z.DIET_DATE;let o=a;o+=` - ${hg(n)}`,r.textContent=o;let s=document.createElement("div");s.className=Z.DIET_ICONS;let c=document.createElement("div");c.className=Z.DIET_DELETE_REVEAL,c.innerHTML=`
    <div class="delete-reveal-content">
      <img src="assets/icons/delete.svg" alt="Eliminar" class="icon">
      <span class="delete-text">Eliminar dieta</span>
    </div>
  `;let f=document.createElement("button");f.className=`${Z.LIST_ITEM_BTN} ${Z.LIST_ITEM_BTN_LOAD} ${Z.DIET_LOAD_BTN}`,f.setAttribute("aria-label",`Editar dieta ${a}`),f.innerHTML='<img src="assets/icons/ic_edit.svg" alt="" class="icon"><span class="btn-text visually-hidden">Editar</span>',f.setAttribute(Ft.DIET_ID,t),f.setAttribute(Ft.DIET_DATE,e.date),f.setAttribute(Ft.DIET_TYPE,e.dietType);let p=document.createElement("button");return p.className=`${Z.LIST_ITEM_BTN} diet-download`,p.setAttribute("aria-label",`Descarregar PDF de la dieta ${a}`),p.innerHTML='<img src="assets/icons/download_blue.svg" alt="" class="icon"><span class="btn-text visually-hidden">PDF</span>',p.setAttribute(Ft.DIET_ID,t),s.appendChild(f),s.appendChild(p),i.appendChild(r),i.appendChild(s),l.appendChild(i),l.appendChild(c),l}function NA(e){let t=e.target,a=t.closest(`.${Z.DIET_LOAD_BTN}`),n=t.closest(".diet-download");if(a){e.stopPropagation();let l=a.getAttribute(Ft.DIET_ID),i=a.getAttribute(Ft.DIET_DATE),r=a.getAttribute(Ft.DIET_TYPE);if(!l||!i||!r)return;let{ddmmaa:o,franjaText:s}=ru(i,r);fg(l).then(()=>{Lo.debug(`Dieta ${o} carregada (${s}).`),Oa(bt)}).catch(c=>{Lo.error("Error en carregar la dieta:",c)})}else if(n){e.stopPropagation();let l=n.getAttribute(Ft.DIET_ID);l&&wg(l)}}function Mo(){if(!le||!Ct)return;let e=le.children.length>0;le.classList.toggle(Z.HIDDEN,!e),Ct.classList.toggle(Z.HIDDEN,e),e||(Ct.textContent="No hay dietas guardadas.")}function LA(e,t,a,n){let l=0,i=0,r=!1;e.addEventListener("mousedown",o=>{o.target.closest("button")||o.target.closest(".diet-icons")||(l=o.clientX,i=l,r=!1)}),document.addEventListener("mousemove",o=>{i=o.clientX;let s=l-i;s>10&&!r&&(r=!0,e.classList.add(Z.DIET_ITEM_SWIPING)),r&&s>10&&(e.style.transform=`translateX(-${Math.min(s,120)}px)`,o.preventDefault())}),document.addEventListener("mouseup",async()=>{if(!r)return;r=!1;let o=l-i;e.classList.remove(Z.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",o>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),Mo(),await eu(t,a,n)},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function jg(e,t,a,n){let l=0,i=0,r=!1;e.addEventListener("touchstart",o=>{o.target.closest("button")||o.target.closest(".diet-icons")||(l=o.touches[0].clientX,i=l,r=!1,o.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",o=>{i=o.touches[0].clientX;let s=l-i;s>10&&!r&&(r=!0,e.classList.add(Z.DIET_ITEM_SWIPING),bt&&(bt.style.overflow="hidden")),r&&s>10&&(e.style.transform=`translateX(-${Math.min(s,120)}px)`,o.preventDefault(),o.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async o=>{if(!r)return;r=!1;let s=l-i;e.classList.remove(Z.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",s>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),Mo(),await eu(t,a,n)},300)):(e.style.transform="translateX(0)",e.style.opacity="1",bt&&(bt.style.overflow="")),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),o.stopPropagation()}),LA(e,t,a,n)}function Yg(){Pi()}function Ro(){Pi()&&(No(bt),Ui())}function au(){pu()===bt&&Oa(bt)}async function Ui(){if(Pi()){le.innerHTML="";try{let e=await ba();if(e.length===0){le.classList.add(Z.HIDDEN),Ct.classList.remove(Z.HIDDEN),Ct.textContent="No hay dietas guardadas.";return}le.classList.remove(Z.HIDDEN),Ct.classList.add(Z.HIDDEN),e.slice().sort((t,a)=>new Date(a.timeStampDiet)-new Date(t.timeStampDiet)).forEach((t,a)=>{let n=qg(t);n.setAttribute("data-index",String(a)),le.appendChild(n),jg(n,t.id,t.date,t.dietType)})}catch(e){Lo.error("Error al carregar les dietes:",e),le.classList.add(Z.HIDDEN),Ct.classList.remove(Z.HIDDEN),Ct.textContent="Error al cargar las dietas."}}}function nu(e){if(!Pi())return;let t=le.querySelector(`[data-diet-id="${e}"]`)?.closest(".diet-item");if(!t)return;let a=`${le.scrollHeight}px`;le.style.height=a,t.remove(),requestAnimationFrame(()=>{le.style.height=`${le.scrollHeight}px`}),Mo()}function lu(e){if(!Pi()){Ui();return}let t=e.index||0,a=qg(e);a.style.opacity="0",a.style.transform="translateX(-100%)";let n=le.children[t];n?le.insertBefore(a,n):le.appendChild(a),requestAnimationFrame(()=>{a.style.transition="opacity 0.5s ease, transform 0.5s ease",a.style.opacity="1",a.style.transform="translateX(0)",jg(a,e.id,e.date,e.dietType)}),Mo(),le.classList.remove(Z.HIDDEN),Ct.classList.add(Z.HIDDEN)}Rt();var Be=M.withScope("DotacionsRepository"),MA="DietasDB",RA=2,Vi="dotacions",Zt=null;async function IA(){return new Promise((e,t)=>{let a=indexedDB.open(MA,RA);a.onupgradeneeded=n=>{let l=n.target.result,i=n.oldVersion,r=n.newVersion;Be.debug(`Actualitzant DB de v${i} a v${r}`),l.objectStoreNames.contains("dietas")||(l.createObjectStore("dietas",{keyPath:"id"}).createIndex("dateIndex","date",{unique:!1}),Be.debug("Object store 'dietas' creat")),l.objectStoreNames.contains(Vi)||(l.createObjectStore(Vi,{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1}),Be.debug("Object store 'dotacions' creat"))},a.onsuccess=n=>{Zt=n.target.result,Zt.onclose=()=>Zt=null,Zt.onerror=()=>Zt=null,Zt.onversionchange=()=>Zt.close(),e(Zt)},a.onerror=n=>{Be.error("Error obrint base de dades:",n.target.error),t(n.target.error)},a.onblocked=()=>{let n=new Error("IndexedDB bloquejat per una altra pestanya");Be.error(n.message),t(n)}})}async function Xg(e="readonly"){return(Zt??await IA()).transaction(Vi,e)}function Kg(e,t){return new Promise((a,n)=>{e.onsuccess=l=>a(l.target.result),e.onerror=l=>{Be.error(`${t}:`,l.target.error),n(new Error(`${t}: ${l.target.error}`))}})}function BA(e){return new Promise((t,a)=>{e.oncomplete=()=>t(),e.onerror=()=>a(e.error),e.onabort=()=>a(e.error)})}async function Eu(e){try{let t=await Xg("readwrite"),a=t.objectStore(Vi),n={id:"current",data:e,timestamp:Date.now(),version:e.version||1};await Kg(a.put(n),"No s'han pogut guardar les dotacions"),await BA(t),Be.debug("\u2705 Dotacions guardades a IndexedDB")}catch(t){throw Be.error("Error guardant dotacions:",t),t}}async function Qg(){try{let t=(await Xg("readonly")).objectStore(Vi),a=await Kg(t.get("current"),"Error carregant dotacions");return a?(Be.debug("\u2705 Dotacions carregades des d'IndexedDB"),a.data):(Be.debug("No hi ha dotacions guardades"),null)}catch(e){return Be.error("Error carregant dotacions:",e),null}}async function Fg(){let e="dotacions_v2",t="dotacions_encrypted",a="dotacions_migrated_to_indexeddb";try{if(localStorage.getItem(a)==="true")return Be.debug("Dotacions ja migrades anteriorment"),!1;let n=localStorage.getItem(e);if(!n)return Be.debug("No hi ha dotacions a localStorage per migrar"),localStorage.setItem(a,"true"),!1;Be.debug("\u{1F504} Iniciant migraci\xF3 de dotacions a IndexedDB...");let l=JSON.parse(n),i=localStorage.getItem(t)==="true";return await Eu(l),localStorage.setItem(a,"true"),Be.debug(`\u2705 Dotacions migrades a IndexedDB (${i?"encriptades":"text pla"})`),!0}catch(n){return Be.error("\u274C Error migrant dotacions:",n),!1}}var ge=M.withScope("DotacionService"),Zg="dotacions_v2",wA="dotacions_encrypted",me={MODAL:"dotacio-modal",OPTIONS_CONTAINER:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2"},_t={MODAL_OPEN:"modal-open",INPUT_ERROR:"input-error",HIDDEN:"hidden"},fl={PERSON_INPUT_GROUP:".input-with-icon",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete"},kg={INDEX:"data-index"},xA=180,Jg="\u26A0\uFE0F La encriptaci\xF3n de dotaciones no est\xE1 disponible. Las dotaciones se guardar\xE1n sin cifrar hasta que se resuelva el problema.",hu=class{constructor(){this.savedDotacions=[],this.dotacioModalElement=null,this.optionsContainerElement=null,this.dotacioTemplateElement=null,this.noDotacioTextElement=null,this.isInitialized=!1,this.encryptionSupported=!0,this.encryptionDisabledReason="",this.hasShownEncryptionWarning=!1}async init(){if(this.isInitialized)return;this.dotacioModalElement=document.getElementById(me.MODAL),this.optionsContainerElement=document.getElementById(me.OPTIONS_CONTAINER),this.dotacioTemplateElement=document.getElementById(me.TEMPLATE),this.noDotacioTextElement=document.getElementById(me.NO_DOTACIO_TEXT);let t=document.getElementById(me.ADD_BTN),a=document.getElementById(me.OPEN_MODAL_BTN),n=document.getElementById(me.CLOSE_MODAL_BTN);if(!this.dotacioModalElement||!this.optionsContainerElement||!this.dotacioTemplateElement||!t||!a||!n)return;await this.loadDotacionsFromStorage(),this.encryptionSupported||this.showEncryptionDisabledWarning(),t.addEventListener("click",this.addDotacioFromMainForm.bind(this)),a.addEventListener("click",this.openDotacioModal.bind(this)),n.addEventListener("click",this.closeDotacioModal.bind(this)),this.dotacioModalElement.addEventListener("click",i=>{i.target===this.dotacioModalElement&&this.closeDotacioModal()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&this.dotacioModalElement.style.display==="block"&&this.closeDotacioModal()}),this.optionsContainerElement.addEventListener("click",this.handleOptionsClick.bind(this)),[me.VEHICLE_INPUT,me.PERSON1_INPUT,me.PERSON2_INPUT].forEach(i=>{let r=document.getElementById(i);r?.addEventListener("input",()=>{let o=r.closest(fl.PERSON_INPUT_GROUP);o?o.classList.remove(_t.INPUT_ERROR):r.classList.remove(_t.INPUT_ERROR)})}),this.isInitialized=!0}setEncryptionSupport(t,a=""){this.encryptionSupported=!!t,this.encryptionSupported?(this.encryptionDisabledReason="",this.hasShownEncryptionWarning=!1):this.encryptionDisabledReason=a||Jg}showEncryptionDisabledWarning(){this.encryptionSupported||this.hasShownEncryptionWarning||(b(this.encryptionDisabledReason||Jg,"warning",7e3),this.hasShownEncryptionWarning=!0)}loadDotacionsFromLegacyStorage(){try{let t=localStorage.getItem(Zg);if(!t){this.savedDotacions=[];return}let a=JSON.parse(t);this.savedDotacions=Array.isArray(a)?a:[],Array.isArray(a)||ge.warn("Format de dotacions sense encriptar inv\xE0lid. S'inicia llista buida.")}catch(t){ge.error("Error carregant dotacions sense encriptaci\xF3:",t),this.savedDotacions=[],b("Error cargando dotaciones sin encriptaci\xF3n. Los datos pueden no estar disponibles.","error",6e3)}finally{this.showEncryptionDisabledWarning()}}async loadDotacionsFromStorage(){if(!this.encryptionSupported){this.loadDotacionsFromLegacyStorage();return}try{await Fg();let t=await Qg();if(!t){this.savedDotacions=[];return}if(t.version&&t.algorithm){if(!await gn()){ge.error("\u274C Sistema de claus NO inicialitzat. No es poden carregar dotacions encriptades."),b("Error de seguridad: No se pueden cargar las dotaciones. Prueba recargar la p\xE1gina.","error",5e3),this.savedDotacions=[];return}try{let n=await Ca(),l=await zA(t,n);this.savedDotacions=l,ge.debug("\u{1F513} Dotacions desencriptades correctament")}catch(n){ge.error("\u274C Error CR\xCDTIC desencriptant dotacions:",n),b("Dotaciones antiguas no compatibles con la actualizaci\xF3n. Vuelve a crearlas en el formulario principal.","error",7e3),this.savedDotacions=[]}}else if(ge.warn("\u26A0\uFE0F Dotacions en text pla detectades (format antic insegur)"),this.savedDotacions=Array.isArray(t)?t:[],this.savedDotacions.length>0){b(`\u26A0\uFE0F Se han detectado ${this.savedDotacions.length} dotaci\xF3n(es) sin encriptar. Se encriptar\xE1n autom\xE1ticamente.`,"warning",5e3),ge.debug("\u{1F4E6} Migrant dotacions a format encriptat...");try{await this.saveDotacionsToStorage(),b("\u2705 Dotaciones migradas y encriptadas a IndexedDB.","success",5e3),ge.info("\u2705 Migraci\xF3 completada amb \xE8xit")}catch(n){ge.error("\u274C Error migrant dotacions:",n),b("\u26A0\uFE0F No se han podido encriptar las dotaciones. Gu\xE1rdalas de nuevo para encriptarlas.","error",7e3)}}Array.isArray(this.savedDotacions)||(this.savedDotacions=[])}catch(t){ge.error("Error carregant dotacions:",t),this.savedDotacions=[]}}async saveDotacionsToStorage(){if(!this.encryptionSupported){try{localStorage.setItem(Zg,JSON.stringify(this.savedDotacions)),localStorage.setItem(wA,"false"),this.showEncryptionDisabledWarning()}catch(t){throw ge.error("Error guardant dotacions sense encriptaci\xF3:",t),b("Error guardando dotaciones sin encriptaci\xF3n. Comprueba el espacio disponible.","error",6e3),t}return}try{if(!await gn())throw ge.error("\u274C Sistema de claus NO inicialitzat. NO es poden guardar dotacions."),b("Error de seguretat: Sistema d'encriptaci\xF3 no disponible. Proveu recarregar la p\xE0gina.","error",5e3),new Error("Sistema de claus no inicialitzat - guardat bloquejat per seguretat");let t=await Ca(),a=await UA(this.savedDotacions,t);await Eu(a),ge.debug("\u{1F512} Dotacions guardades encriptades a IndexedDB")}catch(t){throw ge.error("\u274C Error CR\xCDTIC guardant dotacions:",t),b("Error cr\xEDtico: Las dotaciones NO se han guardado por seguridad.","error",5e3),t}}openDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="block",this.dotacioModalElement.style.pointerEvents="auto",document.body.classList.add(_t.MODAL_OPEN),document.body.style.setProperty("pointer-events","none"),this.displayDotacioOptions())}closeDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="none",this.dotacioModalElement.style.pointerEvents="",document.body.classList.remove(_t.MODAL_OPEN),document.body.style.removeProperty("pointer-events"),document.getElementById(me.OPEN_MODAL_BTN)?.focus())}displayDotacioOptions(){!this.optionsContainerElement||!this.dotacioTemplateElement||(this.optionsContainerElement.innerHTML="",this.savedDotacions.length===0?(this.noDotacioTextElement?.classList.remove(_t.HIDDEN),this.optionsContainerElement.classList.add(_t.HIDDEN)):(this.noDotacioTextElement?.classList.add(_t.HIDDEN),this.optionsContainerElement.classList.remove(_t.HIDDEN),this.savedDotacions.forEach((t,a)=>{let n=this.dotacioTemplateElement.content.cloneNode(!0),l=n.querySelector(fl.DOTACIO_INFO),i=n.querySelector(fl.LOAD_BTN),r=n.firstElementChild,o=`${t.numero}-${t.conductor}-${t.ajudant}`.replace(/\s/g,"");r.setAttribute("data-dotacio-id",o),l&&(l.textContent=this.formatDotacioListText(t)),i&&i.setAttribute(kg.INDEX,a),this.optionsContainerElement.appendChild(n),Bo(r,o),Io(r,o)})))}formatDotacioListText(t){let a=t.numero||"S/N",n=ll(t.conductor||""),l=ll(t.ajudant||""),i=`${n} / ${l}`;n||l?i=` - ${i}`:i="";let r=`${a}${i}`;if(this.measureTextWidth(r)>xA){let s=t.conductor?this.shortenPersonName(t.conductor):"",c=t.ajudant?this.shortenPersonName(t.ajudant):"",f=`${s} / ${c}`;s||c?f=` - ${f}`:f="",r=`${a}${f}`}return r}shortenPersonName(t){if(!t||typeof t!="string")return"";let a=t.trim().split(/\s+/).filter(o=>o.length>0);if(a.length===0)return"";if(a.length===1)return ll(a[0]);let n=new Set(["de","la","del","el","los","las","von","van","d'","es","da","dels","i","y"]),l=a.filter(o=>!n.has(o.toLowerCase()));if(l.length===0)return ll(a[0]);let i=ll(l[0]),r=l.slice(1).map(o=>o.charAt(0).toUpperCase()+".").join(" ");return`${i} ${r}`}measureTextWidth(t){let a=document.createElement("span");a.style.visibility="hidden",a.style.whiteSpace="nowrap",a.style.fontSize=getComputedStyle(document.body).fontSize,a.style.fontFamily=getComputedStyle(document.body).fontFamily,a.textContent=t,document.body.appendChild(a);let n=a.offsetWidth;return document.body.removeChild(a),n}loadDotacionByIndex(t){if(t<0||t>=this.savedDotacions.length)return;let a=this.savedDotacions[t];this.clearDotacionInputErrors(),document.getElementById(me.VEHICLE_INPUT).value=a.numero||"",document.getElementById(me.PERSON1_INPUT).value=a.conductor||"",document.getElementById(me.PERSON2_INPUT).value=a.ajudant||"",yo(a.firmaConductor||""),vo(a.firmaAjudant||""),b(`Dotaci\xF3n ${a.numero} cargada.`,"success"),this.closeDotacioModal()}async handleDeleteById(t){let a=this.savedDotacions.findIndex(i=>`${i.numero}-${i.conductor}-${i.ajudant}`.replace(/\s/g,"")===t);if(a===-1){console.warn("Se intent\xF3 eliminar una dotaci\xF3n que ya no existe:",t);return}let l={...this.savedDotacions[a],originalIndex:a};this.savedDotacions.splice(a,1),await this.saveDotacionsToStorage(),ml(),b("Dotaci\xF3n eliminada.","success",5e3,{queueable:!1,undoCallback:async()=>{this.savedDotacions.splice(l.originalIndex,0,l),await this.saveDotacionsToStorage(),Su(l),b("Dotaci\xF3n restaurada.","success")}})}handleOptionsClick(t){let n=t.target.closest(fl.LOAD_BTN);if(n){t.stopPropagation();let l=parseInt(n.getAttribute(kg.INDEX),10);isNaN(l)||this.loadDotacionByIndex(l)}}getDotacionInputValues(){let t=document.getElementById(me.VEHICLE_INPUT),a=document.getElementById(me.PERSON1_INPUT),n=document.getElementById(me.PERSON2_INPUT);return{vehiculo:t?.value.trim()||"",conductor:a?.value.trim()||"",ayudante:n?.value.trim()||""}}findExistingDotacionIndex(t,a,n){let l=t.toLowerCase(),i=a.toLowerCase(),r=n.toLowerCase();return this.savedDotacions.findIndex(o=>o.numero.toLowerCase()===l&&o.conductor.toLowerCase()===i&&o.ajudant.toLowerCase()===r)}async addDotacioFromMainForm(){if(!Gm())return;let{vehiculo:t,conductor:a,ayudante:n}=this.getDotacionInputValues(),l=wo(),i=xo(),r=this.findExistingDotacionIndex(t,a,n),o={numero:t,conductor:a,ajudant:n,firmaConductor:l,firmaAjudant:i};r!==-1?(this.savedDotacions[r]=o,b(`Dotaci\xF3n ${t} actualizada.`,"success")):(this.savedDotacions.push(o),b(`Dotaci\xF3n ${t} creada.`,"success")),await this.saveDotacionsToStorage()}clearDotacionInputErrors(){let t=document.getElementById(me.VEHICLE_INPUT),a=document.getElementById(me.PERSON1_INPUT),n=document.getElementById(me.PERSON2_INPUT),l=a?.closest(fl.PERSON_INPUT_GROUP),i=n?.closest(fl.PERSON_INPUT_GROUP);t?.classList.remove(_t.INPUT_ERROR),l?.classList.remove(_t.INPUT_ERROR),i?.classList.remove(_t.INPUT_ERROR)}};async function UA(e,t){try{let n=new TextEncoder().encode(JSON.stringify(e)),l=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:l,tagLength:128},t,n),r=$g(i),o=$g(l),s=await ep(r);return{version:1,algorithm:"AES-GCM",iv:o,data:r,checksum:s}}catch(a){throw ge.error("Error encriptant dotacions:",a),a}}async function zA(e,t){try{if(!e||!e.data||!e.iv)throw new Error("Format de dades encriptades inv\xE0lid");let a=!0;e.checksum&&await ep(e.data)!==e.checksum&&(a=!1,ge.error("\u26A0\uFE0F CHECKSUM MISMATCH en dotacions - Integritat compromesa"),b("\u26A0\uFE0F Advertencia: Las dotaciones pueden estar corruptas. El checksum no coincide.","warning",7e3),ge.warn("Continuant amb desencriptaci\xF3 malgrat checksum inv\xE0lid"));let n=Wg(e.data),l=Wg(e.iv),i=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(l),tagLength:128},t,new Uint8Array(n)),o=new TextDecoder().decode(i),s=JSON.parse(o);return ge.debug(`Dotacions desencriptades (checksum: ${a?"\u2705 v\xE0lid":"\u26A0\uFE0F inv\xE0lid"})`),s}catch(a){throw ge.error("Error desencriptant dotacions:",a),a.name==="OperationError"?new Error("Les dotacions estan corruptes o s'ha utilitzat una clau incorrecta"):a}}function $g(e){let t=new Uint8Array(e),a="";for(let n=0;n<t.byteLength;n++)a+=String.fromCharCode(t[n]);return btoa(a)}function Wg(e){let t=atob(e),a=new Uint8Array(t.length);for(let n=0;n<t.length;n++)a[n]=t.charCodeAt(n);return a.buffer}async function ep(e){try{let a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){return ge.error("Error calculant checksum:",t),""}}var Na=new hu;var Hi=M.withScope("Modals:Dotacio");function PA(e,t){let a=document.getElementById("dotacio-template");if(!a)return Hi.warn("No s'ha trobat el template per a dotacions."),null;let n=a.content.cloneNode(!0),l=n.firstElementChild,i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");l.setAttribute("data-dotacio-id",i);let r=n.querySelector(".dotacio-info"),o=n.querySelector(".dotacio-load");if(r){let s=[e.conductor,e.ajudant].filter(Boolean).join(" / ");r.textContent=s?`${e.numero} - ${s}`:e.numero}return o&&o.setAttribute("data-index",String(t)),l}function ml(){let e=document.getElementById("dotacio-options"),t=document.getElementById("no-dotacio-text");if(!e||!t)return;let a=e.children.length>0;e.classList.toggle("hidden",!a),t.classList.toggle("hidden",a),a||(t.innerHTML='No hay dotaciones, guarde abans: <img src="assets/icons/save_green.svg" alt="Guardar" class="save-icon" />')}function Io(e,t){if(!e)return;let a=e.querySelector(".delete-reveal"),n=async()=>{await Na.handleDeleteById(t),e.remove(),ml()};if(typeof window>"u"||!("PointerEvent"in window)){a?.addEventListener("click",h=>{h.preventDefault(),h.stopPropagation(),n().catch(v=>{Hi.error("Error eliminant dotaci\xF3 des de fallback:",v)})});return}let l=null,i=0,r=0,o=!1,s=(h=!0)=>{if(l!==null&&typeof e.releasePointerCapture=="function"&&typeof e.hasPointerCapture=="function"&&e.hasPointerCapture(l))try{e.releasePointerCapture(l)}catch(_){Hi.debug("Error alliberant pointer capture:",_)}l=null,e.classList.remove("swiping"),e.style.transition=h?"transform 0.3s ease, opacity 0.3s ease":""},c=()=>{e.style.transform="translateX(0)",e.style.opacity="1",setTimeout(()=>{e.style.transition=""},300)},f=h=>{if(h.pointerType!=="touch"&&h.button===0&&!(h.target.closest("button")||h.target.closest(".button-container"))&&(l=h.pointerId,i=h.clientX,r=h.clientY,o=!1,e.style.transition="",typeof e.setPointerCapture=="function"))try{e.setPointerCapture(l)}catch(v){Hi.debug("No s'ha pogut establir pointer capture:",v)}},p=h=>{if(l===null||h.pointerId!==l)return;let v=h.clientX-i,_=h.clientY-r;if(!o){if(Math.abs(v)<12||Math.abs(v)<=Math.abs(_)||v>=0)return;o=!0,e.classList.add("swiping")}if(o){let m=Math.max(Math.min(v,0),-120);e.style.transform=`translateX(${m}px)`,h.preventDefault()}},u=h=>{if(l===null||h.pointerId!==l)return;let v=h.clientX-i,_=o&&v<=-60;s(),_?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(()=>{n().catch(m=>{Hi.error("Error eliminant dotaci\xF3 despr\xE9s del gest:",m),c()})},250)):c(),o=!1},g=()=>{s(),c(),o=!1};e.addEventListener("pointerdown",f),e.addEventListener("pointermove",p),e.addEventListener("pointerup",u),e.addEventListener("pointercancel",g)}function Bo(e,t){let a=0,n=0,l=!1;e.addEventListener("touchstart",i=>{i.target.closest("button")||(a=i.touches[0].clientX,n=a,l=!1,i.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",i=>{n=i.touches[0].clientX;let r=a-n;r>10&&!l&&(l=!0,e.classList.add("swiping")),l&&r>10&&(e.style.transform=`translateX(-${Math.min(r,120)}px)`,i.preventDefault(),i.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async i=>{if(!l)return;l=!1;let r=a-n;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",r>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await Na.handleDeleteById(t),e.remove(),ml()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),i.stopPropagation()})}function Su(e){let t=document.getElementById("dotacio-options");if(!t){Na.displayDotacioOptions();return}let a=e.originalIndex,n=PA(e,a);if(!n)return;n.style.opacity="0",n.style.transform="translateX(-100%)";let l=t.children[a];l?t.insertBefore(n,l):t.appendChild(n),requestAnimationFrame(()=>{n.style.transition="opacity 0.5s ease, transform 0.5s ease",n.style.opacity="1",n.style.transform="translateX(0)";let i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");Bo(n,i),Io(n,i)}),ml()}var xO=M.withScope("Modals:Confirm"),Gi=null,tp=null,ap=null,np=null,lp=null;function VA(){if(!Gi){if(Gi=document.getElementById(At.CONFIRM_MODAL),!Gi)return!1;tp=document.getElementById(At.CONFIRM_MESSAGE),ap=Gi.querySelector(At.CONFIRM_TITLE),np=document.getElementById(At.CONFIRM_YES_BTN),lp=document.getElementById(At.CONFIRM_NO_BTN)}return!!Gi&&!!tp&&!!ap&&!!np&&!!lp}function ip(){VA()}function rp(){ip(),Yg(),Pg()}var Ue={DADES:"dades",SERVEIS:"serveis"},kt={TAB_DADES:`tab-${Ue.DADES}`,TAB_SERVEIS:`tab-${Ue.SERVEIS}`,CONTENT_DADES:`${Ue.DADES}-tab-content`,CONTENT_SERVEIS:`${Ue.SERVEIS}-tab-content`,MAIN_CONTENT_AREA:"main-content"},gl={ACTIVE_TAB:"active",ERROR_TAB:"error-tab"},op={MIN_DISTANCE:60,MAX_VERTICAL_RATIO:.5},pl=Ue.DADES,Uo=0,yu=0,vu=!0,La=null,bn=null;function sp(){let e=document.getElementById(kt.TAB_DADES),t=document.getElementById(kt.TAB_SERVEIS);!e||!t||(e.addEventListener("click",()=>qi(Ue.DADES)),t.addEventListener("click",()=>qi(Ue.SERVEIS)),HA(),qi(pl))}function dl(e){vu=!!e}function qi(e){if(pl===e&&document.scrollingElement.scrollTop!==0){window.scrollTo({top:0,behavior:"smooth"});return}if(pl===e||e!==Ue.DADES&&e!==Ue.SERVEIS)return;window.scrollTo({top:0,behavior:"auto"}),pl=e;let t=document.getElementById(kt.TAB_DADES),a=document.getElementById(kt.TAB_SERVEIS),n=document.getElementById(kt.CONTENT_DADES),l=document.getElementById(kt.CONTENT_SERVEIS);if(!t||!a||!n||!l)return;t.classList.remove(gl.ERROR_TAB),a.classList.remove(gl.ERROR_TAB);let i=e===Ue.DADES;t.classList.toggle(gl.ACTIVE_TAB,i),a.classList.toggle(gl.ACTIVE_TAB,!i),n.classList.toggle(gl.ACTIVE_TAB,i),l.classList.toggle(gl.ACTIVE_TAB,!i),t.setAttribute("aria-selected",i?"true":"false"),a.setAttribute("aria-selected",i?"false":"true"),e===Ue.SERVEIS&&typeof Bc=="function"&&Bc()}function HA(){let e=document.getElementById(kt.MAIN_CONTENT_AREA);e&&(La=cp,bn=up,e.addEventListener("touchstart",La,{passive:!0}),e.addEventListener("touchend",bn,{passive:!0}))}function Vg(){let e=document.getElementById(kt.MAIN_CONTENT_AREA);!e||!La||!bn||(e.removeEventListener("touchstart",La,{passive:!0}),e.removeEventListener("touchend",bn,{passive:!0}),La=null,bn=null)}function Hg(){let e=document.getElementById(kt.MAIN_CONTENT_AREA);e&&(La||(La=cp,bn=up,e.addEventListener("touchstart",La,{passive:!0}),e.addEventListener("touchend",bn,{passive:!0})))}function cp(e){if(!vu||gu())return;let t=e.touches[0];Uo=t.clientX,yu=t.clientY}function up(e){if(!vu||Uo===0||!e.changedTouches||e.changedTouches.length===0)return;let t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY,n=t-Uo,l=a-yu;Uo=0,yu=0,!(Math.abs(l)>Math.abs(n)*op.MAX_VERTICAL_RATIO)&&Math.abs(n)>op.MIN_DISTANCE&&(n>0?pl===Ue.SERVEIS&&qi(Ue.DADES):pl===Ue.DADES&&qi(Ue.SERVEIS))}var Ma={MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title"},Tu={MODAL_OPEN:"modal-open",SIGNED:"signed"},Ra={LINE_WIDTH:2,LINE_CAP:"round",STROKE_STYLE:"#000000",IMAGE_FORMAT:"image/png",DOUBLE_CLICK_TIMEOUT:300,DOUBLE_TAP_TIMEOUT:300,DOUBLE_TAP_MAX_DIST:20},dp={SIGNATURE_PENDING:"assets/icons/signature.svg",SIGNATURE_OK:"assets/icons/signature_ok.svg"},fp={PERSON1:"Firma del conductor",PERSON2:"Firma del ayudante"},Au=class{constructor(){this.signatureConductor="",this.signatureAjudant="",this.currentSignatureTarget=null,this.isDrawing=!1,this.canvasContext=null,this.signatureCanvasElement=null,this.signatureModalElement=null,this.signPerson1Button=null,this.signPerson2Button=null,this.hasUserDrawn=!1,this.lastTouchTime=0,this.lastTouchX=0,this.lastTouchY=0,this.clickCount=0,this.clickTimer=null}init(){this.signatureModalElement=document.getElementById(Ma.MODAL),this.signatureCanvasElement=document.getElementById(Ma.CANVAS);let t=document.getElementById(Ma.CANCEL_BTN),a=document.getElementById(Ma.ACCEPT_BTN);this.signPerson1Button=document.getElementById(Ma.SIGN_PERSON1_BTN),this.signPerson2Button=document.getElementById(Ma.SIGN_PERSON2_BTN),!(!this.signatureModalElement||!this.signatureCanvasElement||!t||!a||!this.signPerson1Button||!this.signPerson2Button)&&(this.resizeCanvas(),this.initCanvasEvents(),t.addEventListener("click",this.closeSignatureModal.bind(this)),a.addEventListener("click",this.acceptSignature.bind(this)),this.signPerson1Button.addEventListener("click",()=>this.openSignatureModal("person1")),this.signPerson2Button.addEventListener("click",()=>this.openSignatureModal("person2")),this.signatureModalElement.addEventListener("click",n=>{n.target===this.signatureModalElement&&this.closeSignatureModal()}),window.addEventListener("resize",this.debounce(this.resizeCanvas.bind(this),150)),document.addEventListener("keydown",n=>{n.key==="Escape"&&this.signatureModalElement.style.display==="block"&&this.closeSignatureModal()}),this.updateSignatureIcons())}debounce(t,a){let n;return(...l)=>{clearTimeout(n),n=setTimeout(()=>t.apply(this,l),a)}}resizeCanvas(){if(!this.signatureCanvasElement||!this.signatureCanvasElement.parentElement)return;let t=this.signatureCanvasElement.parentElement;this.canvasContext||(this.canvasContext=this.signatureCanvasElement.getContext("2d",{willReadFrequently:!0})),this.canvasContext&&(this.signatureCanvasElement.width=t.offsetWidth,this.signatureCanvasElement.height=t.offsetHeight,this.canvasContext.lineWidth=Ra.LINE_WIDTH,this.canvasContext.lineCap=Ra.LINE_CAP,this.canvasContext.strokeStyle=Ra.STROKE_STYLE)}clearCanvas(){!this.canvasContext||!this.signatureCanvasElement||(this.canvasContext.clearRect(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),this.hasUserDrawn=!1)}getEventCoordinates(t){if(!this.signatureCanvasElement)return{x:0,y:0};let a=this.signatureCanvasElement.getBoundingClientRect(),n,l;return t.touches&&t.touches.length>0?(n=t.touches[0].clientX,l=t.touches[0].clientY):(n=t.clientX,l=t.clientY),{x:n-a.left,y:l-a.top}}startDrawing(t){if(!this.canvasContext)return;this.isDrawing=!0,this.hasUserDrawn=!0,this.canvasContext.beginPath();let{x:a,y:n}=this.getEventCoordinates(t);this.canvasContext.moveTo(a,n)}draw(t){if(!this.isDrawing||!this.canvasContext)return;t.preventDefault();let{x:a,y:n}=this.getEventCoordinates(t);this.canvasContext.lineTo(a,n),this.canvasContext.stroke()}stopDrawing(){!this.isDrawing||!this.canvasContext||(this.isDrawing=!1)}handleCanvasClick(t){this.clickCount++,this.clickCount===1?this.clickTimer=setTimeout(()=>this.clickCount=0,Ra.DOUBLE_CLICK_TIMEOUT):this.clickCount===2&&(clearTimeout(this.clickTimer),this.clickCount=0,t.preventDefault(),this.clearCanvas())}handleCanvasTouchEnd(t){if(t.touches.length>0)return;let a=Date.now(),n=t.changedTouches[0];if(!n)return;let{x:l,y:i}=this.getEventCoordinates({clientX:n.clientX,clientY:n.clientY}),r=a-this.lastTouchTime,o=Math.abs(l-this.lastTouchX),s=Math.abs(i-this.lastTouchY);r<Ra.DOUBLE_TAP_TIMEOUT&&o<Ra.DOUBLE_TAP_MAX_DIST&&s<Ra.DOUBLE_TAP_MAX_DIST?(t.preventDefault(),this.clearCanvas(),this.lastTouchTime=0):(this.lastTouchTime=a,this.lastTouchX=l,this.lastTouchY=i)}initCanvasEvents(){this.signatureCanvasElement&&(this.signatureCanvasElement.addEventListener("mousedown",this.startDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mousemove",this.draw.bind(this)),this.signatureCanvasElement.addEventListener("mouseup",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mouseout",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("click",this.handleCanvasClick.bind(this)),this.signatureCanvasElement.addEventListener("touchstart",this.startDrawing.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchmove",this.draw.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchend",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchcancel",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchend",this.handleCanvasTouchEnd.bind(this),{passive:!1}))}openSignatureModal(t){if(!this.signatureModalElement||!this.canvasContext)return;dl(!1),this.currentSignatureTarget=t;let a=document.getElementById(Ma.TITLE);a&&(a.textContent=t==="person1"?fp.PERSON1:fp.PERSON2),this.signatureModalElement.style.display="block",document.body.classList.add(Tu.MODAL_OPEN),this.resizeCanvas(),this.clearCanvas();let n=t==="person1"?this.signatureConductor:this.signatureAjudant;n&&this.drawSignatureFromDataUrl(n),document.getElementById(Ma.ACCEPT_BTN)?.focus()}closeSignatureModal(){this.signatureModalElement&&(dl(!0),this.signatureModalElement.style.display="none",document.body.classList.remove(Tu.MODAL_OPEN),this.currentSignatureTarget=null,(this.currentSignatureTarget==="person1"?this.signPerson1Button:this.signPerson2Button)?.focus())}isCanvasEmpty(){if(!this.canvasContext||!this.signatureCanvasElement)return!0;try{return!new Uint32Array(this.canvasContext.getImageData(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height).data.buffer).some(a=>a!==0)}catch{return!1}}acceptSignature(){if(!this.canvasContext||!this.signatureCanvasElement||!this.currentSignatureTarget)return;let t=this.isCanvasEmpty(),a=t?"":this.signatureCanvasElement.toDataURL(Ra.IMAGE_FORMAT),n=null;this.currentSignatureTarget==="person1"?(this.signatureConductor=a,n=this.signPerson1Button):this.currentSignatureTarget==="person2"&&(this.signatureAjudant=a,n=this.signPerson2Button),this.updateSignatureUI(n,!t),this.closeSignatureModal(),Yt()}drawSignatureFromDataUrl(t){if(!this.canvasContext||!t)return;let a=new Image;a.onload=()=>this.canvasContext.drawImage(a,0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),a.onerror=()=>{},a.src=t}updateSignatureUI(t,a){if(!t)return;let n=t.querySelector(".icon");n&&(t.classList.toggle(Tu.SIGNED,a),n.src=a?dp.SIGNATURE_OK:dp.SIGNATURE_PENDING)}updateSignatureIcons(){this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor),this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}getSignatureConductor(){return this.signatureConductor}getSignatureAjudant(){return this.signatureAjudant}setSignatureConductor(t){this.signatureConductor=t||"",this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor)}setSignatureAjudant(t){this.signatureAjudant=t||"",this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}},ji=new Au,mp=()=>ji.init(),wo=()=>ji.getSignatureConductor(),xo=()=>ji.getSignatureAjudant(),yo=e=>ji.setSignatureConductor(e),vo=e=>ji.setSignatureAjudant(e);var Yi=M.withScope("FormService"),GA=".service",gp="main-content",Dt={DATE:"date",DIET_TYPE:"diet-type",VEHICLE:"vehicle-number",P1:"person1",P2:"person2",SERVICE_TYPE:"service-type",SAVE_BTN:"save-diet"},qA="userSelectedServiceType",jA={serviceNumber:".service-number",origin:".origin",originTime:".origin-time",destination:".destination",destinationTime:".destination-time",endTime:".end-time"},YA="chip-active",XA=800,KA=1e3,QA=300,Cu=class{constructor(){this.initialFormDataStr="",this.saveStart=0,this.debouncedAutoSave=zi(this.triggerAutoSave.bind(this),KA),this.debouncedHandler=zi(this.handleInputChange.bind(this),XA)}isFormReadyForSave(){try{let t=!!document.getElementById(Dt.DATE)?.value.trim(),a=!!document.getElementById(Dt.DIET_TYPE)?.value.trim(),n=document.getElementById("service-number-1")?.value.trim(),l=/^\d{9}$/.test(n);return t&&a&&l}catch(t){return console.warn("[FormService] Error validant formulari:",t),!1}}hasPendingChanges(){return JSON.stringify(this.getFormDataObject()||{})!==this.initialFormDataStr}getFormDataObject(){try{let t=fe(document.getElementById(Dt.DATE)?.value),a=fe(document.getElementById(Dt.VEHICLE)?.value),n=fe(document.getElementById(Dt.P1)?.value),l=fe(document.getElementById(Dt.P2)?.value),i=Ci(a,"vehicleNumber"),r=Ci(n,"personName"),o=Ci(l,"personName");a&&!i.valid&&Yi.warn("N\xFAmero de vehicle inv\xE0lid:",i.reason),n&&!r.valid&&Yi.warn("Nom conductor inv\xE0lid:",r.reason),l&&!o.valid&&Yi.warn("Nom ajudant inv\xE0lid:",o.reason);let s={date:t,dietType:fe(document.getElementById(Dt.DIET_TYPE)?.value||iu()),vehicleNumber:i.valid?i.sanitized:"",person1:r.valid?r.sanitized:"",person2:o.valid?o.sanitized:"",serviceType:fe(document.getElementById(Dt.SERVICE_TYPE)?.value||"TSU"),signatureConductor:wo(),signatureAjudant:xo()},c=Array.from(document.querySelectorAll(GA)).map((f,p)=>{let u={};for(let[h,v]of Object.entries(jA)){if(!v){u[h]="";continue}let _=fe(f.querySelector(v)?.value);if(h==="serviceNumber"&&_)Mc(_)?u[h]=_:(Yi.warn(`N\xFAmero de servei ${p+1} inv\xE0lid:`,_),u[h]="");else if((h==="originTime"||h==="destinationTime"||h==="endTime")&&_)Lc(_)?u[h]=_:(Yi.warn(`Hora inv\xE0lida en servei ${p+1}, camp ${h}:`,_),u[h]="");else{let m=Ci(_,"text");u[h]=m.valid?m.sanitized:""}}let g=f.querySelector(`.chip.${YA}`);return u.mode=g?.dataset.mode||"3.6",u.notes=jt[p]||"",u});return{generalData:s,servicesData:c}}catch(t){return console.error("[FormService] Error recollint dades:",t),null}}async triggerAutoSave(){if(!(!this.isFormReadyForSave()||!this.hasPendingChanges()))try{this.saveStart=Date.now(),ho(),await Wc();let t=Date.now()-this.saveStart;setTimeout(So,Math.max(0,QA-t)),this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{})}catch(t){console.warn("[Autosave skipped]",t?.message||"Error desconegut"),hn("Revisa dades de Serveis")}}captureInitialFormState(){this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{}),this.handleFormChange()}setSaveButtonState(t){let a=document.getElementById(Dt.SAVE_BTN);a&&(a.disabled=!t,a.setAttribute("aria-disabled",t?"false":"true"),a.classList.toggle("is-disabled",!t))}handleFormChange(){if(this.debouncedAutoSave.cancel(),!this.hasPendingChanges()){this.setSaveButtonState(!1),wi();return}this.isFormReadyForSave()?(this.setSaveButtonState(!0),this.debouncedAutoSave()):(this.setSaveButtonState(!1),wi())}handleInputChange(){this.handleFormChange()}addInputListeners(){let t=document.getElementById(gp);if(!t)return;t.addEventListener("input",this.debouncedHandler),t.addEventListener("change",this.debouncedHandler),t.addEventListener("blur",n=>{n.target.matches("input, select, textarea")&&(this.handleFormChange(),this.isFormReadyForSave()&&this.hasPendingChanges()&&(this.debouncedAutoSave.cancel(),this.triggerAutoSave()))},!0);let a=document.getElementById(Dt.DATE);a?.addEventListener("change",()=>{a.blur(),this.debouncedHandler()}),window.addEventListener("beforeunload",()=>{this.debouncedAutoSave.cancel(),this.isFormReadyForSave()&&Wc()})}addServiceTypeListener(){let t=document.getElementById(Dt.SERVICE_TYPE);t&&t.addEventListener("change",a=>{let n=a.target.value.trim();Wn(n);try{localStorage.setItem(qA,n)}catch(l){console.error("No s\u2019ha pogut desar tipus servei",l)}})}cancelPendingAutoSave(){this.debouncedAutoSave.cancel()}addDoneBehavior(){document.getElementById(gp)?.addEventListener("keydown",a=>{a.key==="Enter"&&a.target.matches('input[enterkeyhint="done"]')&&(a.preventDefault(),a.target.blur())})}gatherAllData(){return this.getFormDataObject()}getInitialFormDataStr(){return this.initialFormDataStr}},Ia=new Cu,al=()=>Ia.captureInitialFormState(),Jc=e=>Ia.setSaveButtonState(e),Yt=()=>Ia.handleFormChange(),pp=()=>Ia.addInputListeners(),Ep=()=>Ia.addServiceTypeListener(),mg=()=>Ia.cancelPendingAutoSave(),hp=()=>Ia.addDoneBehavior(),To=()=>Ia.gatherAllData();var Sp="onboardingCompleted";function yp(){let e=document.getElementById("onboarding-container");if(!e)return;if(!JSON.parse(localStorage.getItem(Sp)||"false"))e.classList.remove("hidden");else return;window.addEventListener("load",()=>{e.classList.add("onboarding-loaded")});let a=document.querySelectorAll(".onboarding-slide"),n=document.querySelectorAll(".nav-dot"),l=document.getElementById("onboarding-finish-btn"),i=document.getElementById("onboarding-skip-btn"),r=0;function o(p){a.forEach((u,g)=>{u.classList.toggle("active",g===p)}),n.forEach((u,g)=>{u.classList.toggle("active",g===p)})}function s(){r<a.length-1&&(r++,o(r),navigator.vibrate&&navigator.vibrate(10))}function c(){e.classList.add("hidden"),localStorage.setItem(Sp,JSON.stringify(!0)),navigator.vibrate&&navigator.vibrate([50,50,50])}e.addEventListener("click",p=>{p.target.closest("button, a, .nav-dot")||s()});let f=0;e.addEventListener("touchstart",p=>{f=p.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",p=>{p.changedTouches[0].screenX<f-50&&s()}),l.addEventListener("click",c),i.addEventListener("click",c)}var bu={TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text"},vp={DARK_THEME:"theme-dark"},_u="themePreference",ut={LIGHT:"light",DARK:"dark"},Tp={LIGHT:"assets/icons/moon.svg",DARK:"assets/icons/sun.svg"},Ap={LIGHT:"#004aad",DARK:"#343a40"},Du=class{constructor(){this.themeToggleButton=null,this.themeIconElement=null,this.themeTextElement=null,this.bodyElement=null,this.systemDarkMatcher=null}init(){if(this.themeToggleButton=document.getElementById(bu.TOGGLE_BTN),this.themeIconElement=document.getElementById(bu.THEME_ICON),this.themeTextElement=document.getElementById(bu.THEME_TEXT),this.bodyElement=document.body,!this.themeToggleButton||!this.themeIconElement||!this.themeTextElement||!this.bodyElement)return;let t,a=localStorage.getItem(_u);a&&(a===ut.LIGHT||a===ut.DARK)?t=a:(this.systemDarkMatcher=window.matchMedia("(prefers-color-scheme: dark)"),t=this.systemDarkMatcher.matches?ut.DARK:ut.LIGHT,this.systemDarkMatcher.addEventListener("change",this._handleSystemThemeChange.bind(this))),this._applyTheme(t,!1),this.themeToggleButton.addEventListener("click",this._handleThemeToggle.bind(this))}_updateThemeColorMeta(t){let a=document.querySelector('meta[name="theme-color"]');a&&(a.content=t)}_applyTheme(t,a=!1){let n=t===ut.DARK;this.bodyElement.classList.toggle(vp.DARK_THEME,n),this.themeIconElement.src=n?Tp.DARK:Tp.LIGHT,this.themeTextElement.textContent=n?"Claro":"Oscuro",this.themeIconElement.alt=n?"Cambiar a tema claro":"Cambiar a tema oscuro",this._updateThemeColorMeta(n?Ap.DARK:Ap.LIGHT),a&&localStorage.setItem(_u,t)}_handleThemeToggle(){let a=(this.bodyElement.classList.contains(vp.DARK_THEME)?ut.DARK:ut.LIGHT)===ut.DARK?ut.LIGHT:ut.DARK;this._applyTheme(a,!0)}_handleSystemThemeChange(t){if(!localStorage.getItem(_u)){let a=t.matches?ut.DARK:ut.LIGHT;this._applyTheme(a,!1)}}},ZA=new Du,Cp=()=>ZA.init();var Ou={GENERATE_PDF:".generate-pdf",SAVE_DIET:"#save-diet",MANAGE_DIETS:"#manage-diets"};function bp(){let e=document.querySelector(Ou.GENERATE_PDF);e&&e.addEventListener("click",Bg);let t=document.getElementById(Ou.SAVE_DIET.substring(1));t&&t.addEventListener("click",dg);let a=document.getElementById(Ou.MANAGE_DIETS.substring(1));a&&typeof Ro=="function"&&a.addEventListener("click",Ro)}var kA="clear-selected-service",JA=".service";function _p(){let e=document.getElementById(kA);e&&e.addEventListener("click",()=>{let t=dn(),a=document.querySelectorAll(JA);if(t>=0&&t<a.length){let n=a[t],l=n.querySelectorAll('input:not([type="button"]):not([type="submit"]), select, textarea');l.forEach(i=>{i.value!==""&&i.classList.add("field-clearing")}),setTimeout(()=>{Zm(n),Ni(n),Yt(),l.forEach(i=>{i.classList.remove("field-clearing")})},600)}})}function Dp(){document.querySelectorAll('input[type="date"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}function Op(){document.querySelectorAll('input[type="time"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}Rt();var Np=zi(b,Bm.DEBOUNCE_TOAST);function $A(e){return/^\d*$/.test(e)}function Lp(){let e=document.querySelectorAll(Qn.SERVICE_NUMBER_INPUT);if(!e.length){console.warn("Restrictions: No se han encontrado inputs '.service-number'.");return}e.forEach(t=>{t.dataset.restrictionsSetup!=="true"&&(t.dataset.restrictionsSetup="true",t.addEventListener("keypress",a=>{a.key==="Enter"||a.key==="Tab"||a.ctrlKey||a.metaKey||a.altKey||a.key.length>1||/\d/.test(a.key)||(a.preventDefault(),Np(_c.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}),t.addEventListener("paste",a=>{try{let n=(a.clipboardData||window.clipboardData)?.getData("text")||"";$A(n)||(a.preventDefault(),Np(_c.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}catch(n){console.error("Error procesando 'paste':",n),a.preventDefault()}}))})}var Mp={SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel"},El={PANEL_VISIBLE:"visible",BUTTON_OPEN:"open"},Jt=null,$t=null,Rp=!1;function WA(e){e.stopPropagation();let t=$t.classList.toggle(El.PANEL_VISIBLE);Jt.classList.toggle(El.BUTTON_OPEN,t),Jt.setAttribute("aria-expanded",t),t&&$t.querySelector("button")?.focus()}function e0(e){$t.classList.contains(El.PANEL_VISIBLE)&&!$t.contains(e.target)&&!Jt.contains(e.target)&&Nu()}function t0(e){e.key==="Escape"&&$t.classList.contains(El.PANEL_VISIBLE)&&(Nu(),Jt.focus())}function Nu(){$t.classList.remove(El.PANEL_VISIBLE),Jt.classList.remove(El.BUTTON_OPEN),Jt.setAttribute("aria-expanded","false")}function Ip(){Rp||(Jt=document.getElementById(Mp.SETTINGS_BTN),$t=document.getElementById(Mp.SETTINGS_PANEL),!(!Jt||!$t)&&(Jt.addEventListener("click",WA),document.addEventListener("click",e0),document.addEventListener("keydown",t0),$t.querySelectorAll("button").forEach(e=>{e.addEventListener("click",Nu)}),Rp=!0))}var a0={SERVICE_BUTTONS:".service-button:not(.active-square)",OPTIONS_BTN:"#options-toggle",TABS:".tab:not(.active)"},n0="disabled-control";function Lu(e=!0){document.querySelectorAll(Object.values(a0).join(", ")).forEach(a=>{a&&(a.classList.toggle(n0,e),a.setAttribute("aria-disabled",e?"true":"false"),a.disabled=e)})}var Cv=Cc(Xi()),bv=Cc(Av());var de=Cc(Xi());function Em({imageUrl:e=null,isProcessing:t=!1,progress:a=0,status:n="idle",statusText:l="Reconociendo texto",onClose:i=null}){let r=(0,de.useRef)(null),[o,s]=(0,de.useState)(0),[c,f]=(0,de.useState)("");if((0,de.useEffect)(()=>{let h=setTimeout(()=>{s(a)},50);return()=>clearTimeout(h)},[a]),(0,de.useEffect)(()=>{if(n!=="processing"){f("");return}f(".");let h=setInterval(()=>{f(v=>v.length>=3?".":`${v}.`)},500);return()=>clearInterval(h)},[n]),n==="error"||n==="idle"||!(!!e&&t||!!e&&(n==="done"||n==="warning")))return null;let u=l?.replace(/\s+\d{1,3}%/,"").replace(/\.{2,}$/,"").trim()||"Reconociendo texto",g=n==="processing"?`${u}${c}`:l;return de.default.createElement("div",{className:"ocr-feedback-overlay",role:"dialog","aria-live":"polite","aria-atomic":"false","aria-label":"OCR en progreso"},de.default.createElement("div",{className:"ocr-feedback-container",ref:r},e&&de.default.createElement("div",{className:"ocr-image-preview fade-in"},de.default.createElement("img",{src:e,alt:"Imagen capturada para OCR",className:"ocr-captured-image",loading:"eager"})),(t||n==="done"||n==="error"||n==="warning")&&de.default.createElement("div",{className:"ocr-progress-section fade-in"},de.default.createElement("div",{className:"ocr-progress-bar-container"},de.default.createElement("div",{className:"ocr-progress-bar-track",style:{"--progress-width":`${o}%`}},de.default.createElement("div",{className:"ocr-progress-bar-fill",role:"progressbar","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},de.default.createElement("div",{className:"ocr-progress-shine"}))),de.default.createElement("span",{className:"ocr-progress-percentage"},n==="error"?"":`${Math.round(o)}%`)),de.default.createElement("div",{className:`ocr-status-line ${n}`},g?.split(`
`).map((h,v)=>de.default.createElement("div",{key:v},h))||""))))}var ui="Reconociendo texto",ci={done:"\u2713 Texto reconocido correctamente",warning:"Revisa la informaci\xF3n detectada",error:"Error al escanear. Imagen no v\xE1lida"},mc=(e,t=ui)=>e&&e.replace(/\d{1,3}%/g,"").replace(/\.\.+$/g,"").split(`
`).map(i=>i.replace(/\s+/g," ").trim()).join(`
`)||t;function hm(e="ocr-feedback-root"){let t=document.getElementById(e);t||(t=document.createElement("div"),t.id=e,document.body.appendChild(t));let a=null,n=null,l={imageUrl:null,isProcessing:!1,progress:0,status:"idle",statusText:ui},i=()=>{a||(a=bv.default.createRoot(t)),a.render(Cv.default.createElement(Em,{imageUrl:l.imageUrl,isProcessing:l.isProcessing,progress:l.progress,status:l.status,statusText:l.statusText,onClose:()=>o.reset()}))},r=()=>{n&&(clearTimeout(n),n=null)},o={start(s){r(),l.imageUrl&&l.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(l.imageUrl),s instanceof File||s instanceof Blob?l.imageUrl=URL.createObjectURL(s):typeof s=="string"?l.imageUrl=s:l.imageUrl=null,l.isProcessing=!0,l.progress=0,l.status="processing",l.statusText=ui,i()},update(s,c=null,f="info"){r(),l.progress=Math.min(100,Math.max(0,s));let p=c!==null?mc(c):null;if(f==="error"){l.status="error",l.statusText=p||ci.error||ui,l.isProcessing=!1,l.progress=Math.max(l.progress,100),i(),n=setTimeout(()=>{o.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3);return}if(f==="warning"){l.status="warning",l.statusText=p||l.statusText,l.isProcessing=!0,i();return}if(f==="success"){o.complete(p||ci.done,"done");return}l.status="processing",p?l.statusText=p:l.statusText||(l.statusText=ui),l.isProcessing=!0,i()},addMessage(s,c="info"){if(c==="error"){o.error(s);return}if(c==="success"){o.complete(s||ci.done,"done");return}l.status=c==="warning"?"warning":"processing",l.statusText=mc(s),l.isProcessing=!0,i()},complete(s=null,c="done"){r(),l.progress=100;let f=["done","warning","error"].includes(c)?c:"done";l.status=f;let p=ci[f]||ci.done;l.statusText=mc(s,p),l.isProcessing=!1,i(),n=setTimeout(()=>{o.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"done"}}))},2500)},error(s="No se reconoci\xF3 texto"){r(),l.status="error",l.statusText=mc(s,ci.error),l.isProcessing=!1,l.progress=100,i(),n=setTimeout(()=>{o.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3)},reset(){r(),l.imageUrl&&l.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(l.imageUrl),l.imageUrl=null,l.isProcessing=!1,l.progress=0,l.status="idle",l.statusText=ui,i()},getState(){return{...l}},isProcessing(){return l.isProcessing}};return o}var di=null;function Qr(){return di||(di=hm()),di}function _v(){di&&(di.reset(),di=null)}Rt();var Dv=1500,Sm=.95,ym="image/png",Zb=M.withScope("CameraOCR:ImageProcessing");function Ov(e,t,a){return new Promise((n,l)=>{e.toBlob(i=>{i?n(i):l(new Error("No s'ha pogut generar el blob de la imatge."))},t,a)})}async function Nv(e,{maxDimension:t=Dv,imageType:a=ym,imageQuality:n=Sm}={}){let l=await createImageBitmap(e),{width:i,height:r}=l;if(Math.max(i,r)<=t)return l.close(),e;let o=Math.min(t/i,t/r),s=Math.round(i*o),c=Math.round(r*o),f=document.createElement("canvas");f.width=s,f.height=c;let p=f.getContext("2d");if(!p)throw l.close(),new Error("Context 2D no disponible.");return p.drawImage(l,0,0,s,c),l.close(),Ov(f,a,n)}async function Lv(e,{imageType:t=ym,imageQuality:a=Sm}={}){let n=await createImageBitmap(e),l=document.createElement("canvas");l.width=n.width,l.height=n.height;let i=l.getContext("2d");if(!i)throw n.close(),new Error("Context 2D no disponible.");try{i.drawImage(n,0,0,n.width,n.height)}catch(r){throw n.close(),r.message&&r.message.includes("detached")?new Error("Error al procesar la imagen. Int\xE9ntalo de nuevo."):r}n.close(),i.filter="grayscale(100%) contrast(180%) brightness(110%)";try{i.drawImage(l,0,0)}catch(r){Zb.warn("Fallback sense filtres en el preprocessament.",r)}return Ov(l,t,a)}var IN=Object.freeze({IMAGE_MAX_DIMENSION:Dv,IMAGE_QUALITY:Sm,IMAGE_TYPE:ym});var kb="spa",Jb=1,$b="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ:/-\xC0\xC9\xCD\xD3\xDA\xC8\xD2\xC0\xDC\xCF\xC7\xD1",Mv=10,Wb=1e3,e_=new Set(["image/jpeg","image/png","image/webp"]),t_=[{type:"image/jpeg",bytes:[255,216,255]},{type:"image/png",bytes:[137,80,78,71,13,10,26,10]},{type:"image/webp",bytes:[82,73,70,70,null,null,null,null,87,69,66,80]}],a_=300;var n_="https://cdn.jsdelivr.net/npm/tesseract.js@6/dist/tesseract.min.js",l_="sha384-r1ru3tcf6FhnCFR4B7pIFG+BhFF9LlFtz/P1y4pblWn3AGs9y3lBx5SKLNf4+rED",i_={load_system_dawg:"0",load_freq_dawg:"0"},r_={tessedit_char_whitelist:$b,tessedit_pageseg_mode:6},fi={CAMERA_BTN:"camera-in-dropdown",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline"},sn={VISIBLE:"visible",HIDDEN:"hidden",SERVICE_COLORS:["service-1","service-2","service-3","service-4"]},o_={ORIGIN_TIME:{id:"originTime",label:"Hora movilizaci\xF3n",fieldIdSuffix:"origin-time",lineKeywordRegex:/movilizaci|mobilitzat|desplaza/i},DESTINATION_TIME:{id:"destinationTime",label:"Hora de llegada hospital",fieldIdSuffix:"destination-time",lineKeywordRegex:/arribada|hospital|aaah/i},END_TIME:{id:"endTime",label:"Hora Final",fieldIdSuffix:"end-time",valueRegex:/\d{2}\s*\/?\s*\d{2}\s*\/?\s*\d{2}\s+(\d{1,2}:\d{2}(?::\d{2})?)/i}},rt=null,cn=null,gc=null,vm=null,Te=null,Tm=!1,Rv=!1,Iv=!1,Bv=0,Ht=null,mi=0,wv=0,pc=M.withScope("CameraOCR"),xv=new Co(10,6e4,"escanejat OCR");function s_(e,t){return!e||e.length<t.length?!1:t.every((a,n)=>a===null||e[n]===a)}async function c_(e){if(!e)return!1;if(e_.has(e.type?.toLowerCase()))return!0;try{let t=new Uint8Array(await e.slice(0,12).arrayBuffer());return t_.some(a=>s_(t,a.bytes))}catch(t){return pc.warn("No s'ha pogut validar la signatura del fitxer:",t),!1}}function u_(e){if(!e)return"";let t=e.replace(/[^\d:\-]/g,"");t=t.replace(/-/g,":");let a=t.match(/^(\d{1,2}):(\d{2})(?::\d{2})?$/);if(a){let n=parseInt(a[1],10),l=parseInt(a[2],10);if(n>=0&&n<=23&&l>=0&&l<=59)return`${String(n).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return""}function d_(){if(Date.now()-Bv<500||(Bv=Date.now(),!rt||!cn))return;document.body.classList.add("modal-open"),document.body.style.setProperty("pointer-events","none"),rt.style.setProperty("pointer-events","auto"),cn.style.setProperty("pointer-events","auto");let e=dn(),t=sn.SERVICE_COLORS[e]||"";cn.classList.remove(...sn.SERVICE_COLORS),t&&cn.classList.add(t),rt.classList.remove(sn.HIDDEN),requestAnimationFrame(()=>rt.classList.add(sn.VISIBLE)),gc?.focus()}function gi(){rt&&(document.body.classList.remove("modal-open"),document.body.style.removeProperty("pointer-events"),rt.style.removeProperty("pointer-events"),cn&&cn.style.removeProperty("pointer-events"),rt.classList.remove(sn.VISIBLE),setTimeout(()=>rt.classList.add(sn.HIDDEN),a_))}function f_(e){rt?.classList.contains(sn.VISIBLE)&&!cn?.contains(e.target)&&gi()}function m_(){Te&&(Te.setAttribute("capture","environment"),Te.click(),gi())}function g_(){Te&&(Te.removeAttribute("capture"),Te.click(),gi())}function Uv(e){let t=Object.entries(e).filter(([l,i])=>!i.skip),a=t.filter(([l,i])=>i.detected).length,n=t.length;return`${a}/${n} campos detectados`}function Mt(e,t){Ht||(Ht=Qr()),e>mi&&(mi=e);let a=mi>=100?t||"Texto reconocido correctamente":"Reconociendo texto...";Ht.update(mi,a)}function p_(){mi=0}function zv(e,t,a){let n=document.getElementById(e);if(n){n.value=t;let l=new Event("input",{bubbles:!0,cancelable:!0});n.dispatchEvent(l)}}function E_(e,t=null){if(!e||!e.trim())return{hasData:!1,allFieldsStatus:[]};let a=Ym(e);if(!a.valid)return pc.warn("Resultat OCR inv\xE0lid:",a.reason),b(`Error de validaci\xF3: ${a.reason}`,"error"),{hasData:!1,allFieldsStatus:[]};let n=dn(),l=Fm(n)||"3.6",i=`-${n+1}`,r={},o={originTime:{label:"Hora activaci\xF3n",detected:!1},destinationTime:{label:"Hora destino",detected:!1,skip:l==="3.11"||l==="3.22"},endTime:{label:"Hora final",detected:!1}};t&&t(o);let s=e.split(`
`),c=e.toLowerCase().replace(/ +/g," ");if(Object.values(o_).forEach(p=>{if((l==="3.11"||l==="3.22")&&p.id==="destinationTime")return;let u=null;if(p.lineKeywordRegex){for(let g of s)if(p.lineKeywordRegex.test(g.toLowerCase())){let h=g.replace(/\D/g,"");if(h.length>=6){let v=h.slice(-6);u=[null,`${v.slice(0,2)}:${v.slice(2,4)}:${v.slice(4,6)}`];break}}}else p.valueRegex&&(u=c.match(p.valueRegex));if(u&&u[1]){let g=u_(u[1].trim());if(g&&!r[p.id]){let h=`${p.fieldIdSuffix}${i}`;zv(h,g,p.label),r[p.id]=p,o[p.id]&&(o[p.id].detected=!0,t&&t(o))}}}),!r.endTime&&(r.originTime||r.destinationTime)){let p=new Date,u=String(p.getHours()).padStart(2,"0"),g=String(p.getMinutes()).padStart(2,"0"),h=`${u}:${g}`,v=`end-time${i}`;zv(v,h,"Hora Final (Actual)");let _=document.getElementById(v);_&&(_.classList.add("input-warning"),_.addEventListener("focus",()=>_.classList.remove("input-warning"),{once:!0}))}let f=Object.keys(r).length;return{hasData:f>0,count:f,fields:r,allFieldsStatus:o}}function Pv(){if(Rv||(rt=document.getElementById(fi.CAMERA_MODAL),cn=rt?.querySelector(fi.MODAL_CONTENT),gc=document.getElementById(fi.OPTION_CAMERA),vm=document.getElementById(fi.OPTION_GALLERY),Te=document.getElementById(fi.CAMERA_INPUT),!rt||!gc||!vm||!Te))return;document.querySelectorAll(fi.OCR_SCAN_BTN).forEach(t=>t.addEventListener("click",d_)),gc.addEventListener("click",m_),vm.addEventListener("click",g_),Te.addEventListener("change",S_),document.addEventListener("click",f_),document.addEventListener("keydown",t=>{t.key==="Escape"&&rt?.classList.contains(sn.VISIBLE)&&gi()}),Rv=!0}function h_(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}async function S_(e){if(Tm)return;let t=e.target.files?.[0];if(!t)return;if(!xv.canMakeRequest()){let l=xv.getRemainingRequests();b(`Has superat el l\xEDmit d'escaneigs. Espera uns segons abans de tornar-ho a intentar. (${l} disponibles)`,"warning"),Te&&(Te.value="");return}if(Date.now()-wv<Wb){b("OCR massa freq\xFCent. Espera un segon abans de reintentar.","warning"),Te&&(Te.value="");return}if(!await c_(t)){b("Format d'imatge no suportat. Usa PNG, JPG o WEBP.","error"),Te&&(Te.value="");return}let a=Mv*1024*1024;if(t.size>a){b(`Imatge massa gran. El m\xE0xim perm\xE8s \xE9s ${Mv}MB.`,"error"),Te&&(Te.value="");return}Tm=!0,Lu(!0),mi=0,Ht||(Ht=Qr()),Ht.start(t),Mt(0),h_(),wv=Date.now();let n=null;try{Mt(5);let l=await Nv(t);Mt(20),l=await Lv(l),Mt(35),await new Promise(s=>setTimeout(s,100)),Mt(45),Iv||(Mt(50),await ol({src:n_,integrity:l_}),Iv=!0),Mt(60),n=await Tesseract.createWorker(kb,Jb,{logger:s=>{if(s.status==="recognizing text"){let c=Math.max(85,Math.floor(s.progress*100*.15+85));Mt(c)}else s.status==="loading language model"&&Mt(65)},init:i_}),Mt(75),await n.setParameters(r_),Mt(80);let{data:{text:i}}=await n.recognize(l),o=E_(i,s=>{let c=Uv(s);Ht.update(95,c)});if(o.hasData){let s=Uv(o.allFieldsStatus);Ht.complete(s,"done")}else b("Error al escanear. Imagen no v\xE1lida","error"),Ht?.reset?.(),setTimeout(()=>gi(),1e3)}catch(l){pc.error("Error durant el processament OCR:",l),b("Error al escanear. Imagen no v\xE1lida","error"),Ht?.reset?.(),setTimeout(()=>{pc.debug("Tancant modal OCR despr\xE9s de timeout"),gi()},3e3)}finally{try{n&&await n.terminate()}catch{}Te&&(Te.value=""),p_(),Lu(!1),Tm=!1}}var Vv="anonymousUserId";function Hv(){try{let e=localStorage.getItem(Vv);return e||(e=`user-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,localStorage.setItem(Vv,e)),e}catch{return`temp-user-${Date.now()}`}}var Gv=document.getElementById("save-pill"),Ei=document.querySelector(".tab-content-container"),pi=0,qv=!1,y_=10,v_=150,T_=Ei&&parseInt(window.getComputedStyle(Ei).paddingBottom,10)||60;function Am(e=pi){qv=e>v_,qv?(Gv.style.bottom=`calc(${e}px + ${y_}px + env(safe-area-inset-bottom, 0px))`,Ei&&(Ei.style.paddingBottom=`${e+50}px`)):(Gv.style.bottom="calc(20px + env(safe-area-inset-bottom, 0px))",Ei&&(Ei.style.paddingBottom=`${T_}px`))}if("virtualKeyboard"in navigator)navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",e=>{pi=e.target.boundingRect.height,Am(pi)});else{let e=window.innerHeight;window.addEventListener("resize",()=>{window.innerHeight<e?(pi=e-window.innerHeight,Am(pi)):(pi=0,Am(0))})}var A_=document.querySelectorAll('input:not([type="checkbox"]), select, textarea');var C_=()=>{let e=[".top-bar",".tabs-container"],t=0;return e.forEach(a=>{let n=document.querySelector(a);if(!n)return;let l=n.getBoundingClientRect();l.bottom>t&&(t=l.bottom)}),Math.max(t,0)},Cm=()=>{let e=C_();document.documentElement.style.setProperty("--fixed-headers-height",`${e}px`)},bm=()=>{let e=document.querySelector("input.origin");if(!e)return;let t=e.closest(".form-group");if(!t)return;let a=t.querySelector("label");if(!a)return;let n=window.getComputedStyle(a),l=a.offsetHeight,i=parseFloat(n.marginBottom)||0,r=l+i+20;document.documentElement.style.setProperty("--label-space",`${r}px`)};Cm();bm();window.addEventListener("resize",()=>{Cm(),bm()});window.addEventListener("orientationchange",()=>{Cm(),bm()});var b_=e=>{e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})};function __(e){let t=e.target;t instanceof HTMLElement&&(t.closest(".modal")||setTimeout(()=>{if(!document.body.contains(t))return;if(t.classList.contains("origin")||t.classList.contains("destination")){b_(t);return}t.scrollIntoView({behavior:"smooth",block:"center"})},250))}A_.forEach(e=>{e.addEventListener("focus",__)});Rt();var D_="notes-selected-service",O_="notes-modal",N_="notes-title",L_="notes-textarea",M_="notes-save",R_="notes-cancel",I_="notes-char-counter",hi,Dm,oe,Ec,_m,Xn,Fr=null,Zr=null,kr=null;function jv(){let e=document.getElementById(D_);e&&(hi=document.getElementById(O_),Dm=document.getElementById(N_),oe=document.getElementById(L_),Ec=document.getElementById(M_),_m=document.getElementById(R_),Xn=document.getElementById(I_),!(!hi||!Dm||!oe||!Ec||!_m||!Xn)&&(e.addEventListener("click",()=>{let t=dn();B_(t)}),_m.addEventListener("click",Om)))}function B_(e){if(!hi)return;Dm.textContent=`S${e+1}: Observaciones`,oe.value=jt[e]||"";let t=oe.maxLength,a=()=>{let n=oe.value.length;Xn.textContent=`${n} / ${t}`,Xn.classList.remove("warning","limit"),oe.classList.remove("input-warning","input-error"),n>=t?(Xn.classList.add("limit"),oe.classList.add("input-error")):n>t*.8&&(Xn.classList.add("warning"),oe.classList.add("input-warning"))};a(),Zr=()=>{oe.value.length>t&&(oe.value=oe.value.slice(0,t)),a()},oe.addEventListener("input",Zr),kr=n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),oe.blur())},oe.addEventListener("keydown",kr),Fr=()=>{let n=oe.value.trim(),l=jt[e]||"";if(n===l){Om();return}jt[e]=n,n?b("Observaci\xF3n guardada.","success"):b("Observaci\xF3n eliminada.","info"),Om(),Yt()},Ec.addEventListener("click",Fr),hi.style.display="block",document.body.classList.add("modal-open"),setTimeout(()=>{oe.focus({preventScroll:!0}),oe.setSelectionRange(oe.value.length,oe.value.length)},0)}function Om(){hi&&(Fr&&(Ec.removeEventListener("click",Fr),Fr=null),Zr&&(oe.removeEventListener("input",Zr),Zr=null),kr&&(oe.removeEventListener("keydown",kr),kr=null),Xn.classList.remove("warning","limit"),oe.classList.remove("input-warning","input-error"),hi.style.display="none",document.body.classList.remove("modal-open"))}var Xv="G-23SXKMLR75",w_=`https://www.googletagmanager.com/gtag/js?id=${Xv}`;window.dataLayer=window.dataLayer||[];window.gtag=window.gtag||function(){window.dataLayer.push(arguments)};var x_=e=>{let a=`; ${document.cookie}`.split(`; ${e}=`);if(a.length===2)return a.pop()?.split(";").shift()},Kv=(e,t,a)=>{let n=new Date;n.setTime(n.getTime()+a*24*60*60*1e3);let l=`expires=${n.toUTCString()}`;document.cookie=`${e}=${t};${l};path=/;SameSite=Lax;Secure`},Si,Nm,Lm,Yv=!1;async function Qv(){if(!Yv){try{await ol({src:w_,referrerPolicy:"strict-origin-when-cross-origin"})}catch(e){console.error("Error carregant Google Analytics:",e);return}window.gtag("consent","update",{analytics_storage:"granted"}),window.gtag("js",new Date),window.gtag("config",Xv,{anonymize_ip:!0}),Yv=!0}}function U_(){Qv().catch(e=>{console.error("Error carregant Google Analytics:",e)}),window.gtag("consent","update",{analytics_storage:"granted"}),Kv("cookie_consent","granted",365),hc()}function z_(){typeof window.gtag=="function"&&window.gtag("consent","update",{analytics_storage:"denied"}),Kv("cookie_consent","denied",365),hc()}function P_(){Si&&Si.classList.remove("hidden")}function hc(){Si&&Si.classList.add("hidden")}function Fv(){if(Si=document.getElementById("cookie-consent-banner"),Nm=document.getElementById("accept-cookies"),Lm=document.getElementById("decline-cookies"),!Si||!Nm||!Lm){console.warn("Elements del b\xE0ner de cookies no trobats.");return}let e=x_("cookie_consent");if(window.gtag("consent","default",{analytics_storage:"denied"}),e==="granted"){window.gtag("consent","update",{analytics_storage:"granted"}),Qv().catch(t=>{console.error("Error carregant GA despr\xE9s del consentiment guardat:",t)}),hc();return}if(e==="denied"){hc();return}e||(P_(),Nm.addEventListener("click",U_),Lm.addEventListener("click",z_))}var Sc=["Abella de la Conca","Abrera","Agramunt","Aguilar de Segarra","Agullana","Aiguafreda","Aiguam\xFArcia","Aiguaviva","Aitona","Alam\xFAs, els","Albag\xE9s, l'","Albany\xE0","Albat\xE0rrec","Albesa","Albi, l'","Albinyana","Albiol, l'","Albons","Alcanar","Alcan\xF3","Alcarr\xE0s","Alcoletge","Alcover","Aldea, l'","Aldover","Aleixar, l'","Alella","Alfara de Carles","Alfarr\xE0s","Alforja","Alf\xE9s","Algerri","Alguaire","Alins","Ali\xF3","Almacelles","Almatret","Almenar","Almoster","Alp","Alpens","Alpicat","Alt \xC0neu","Altafulla","Altres/Diversos","Al\xE0s i Cerc","Al\xF2s de Balaguer","Amer","Ametlla de Mar, l'","Ametlla del Vall\xE8s, l'","Ampolla, l'","Amposta","Anglesola","Angl\xE8s","Arbeca","Arbol\xED","Arbo\xE7, l'","Arb\xFAcies","Arenys de Mar","Arenys de Munt","Argelaguer","Argentera, l'","Argentona","Argen\xE7ola","Armentera, l'","Arnes","Arres","Ars\xE8guel","Artesa de Lleida","Artesa de Segre","Art\xE9s","Asc\xF3","Aspa","Avellanes i Santa Linya, les","Avinyonet de Puigvent\xF3s","Avinyonet del Pened\xE8s","Aviny\xF3","Avi\xE0","Badalona","Badia del Vall\xE8s","Bag\xE0","Baix Pallars","Balaguer","Baleny\xE0","Balsareny","Banyeres del Pened\xE8s","Banyoles","Barbens","Barber\xE0 de la Conca","Barber\xE0 del Vall\xE8s","Barcelona","Baronia de Rialb, la","Bassella","Batea","Bausen","Begues","Begur","Belianes","Bell-lloc d'Urgell","Bellaguarda","Bellcaire d'Empord\xE0","Bellcaire d'Urgell","Bellmunt d'Urgell","Bellmunt del Priorat","Bellprat","Bellpuig","Bellvei","Bellver de Cerdanya","Bellv\xEDs","Benavent de Segri\xE0","Benifallet","Benissanet","Berga","Besal\xFA","Bescan\xF3","Beuda","Bigues i Riells del Fai","Biosca","Bisbal d'Empord\xE0, la","Bisbal de Montsant, la","Bisbal del Pened\xE8s, la","Biure","Blancafort","Blanes","Boadella i les Escaules","Bolvir","Bonastre","Bordils","Borges Blanques, les","Borges del Camp, les","Borrass\xE0","Borred\xE0","Boss\xF2st","Bot","Botarell","Bovera","Breda","Bruc, el","Brull, el","Brunyola i Sant Mart\xED Sapresa","Br\xE0fim","B\xE0scara","B\xF2rdes, Es","Cabac\xE9s","Cabanabona","Cabanelles","Cabanes","Cabanyes, les","Cabra del Camp","Cabrera d'Anoia","Cabrera de Mar","Cabrils","Cab\xF3","Cadaqu\xE9s","Calaf","Calafell","Calders","Caldes d'Estrac","Caldes de Malavella","Caldes de Montbui","Calella","Calldetenes","Call\xFAs","Calonge de Segarra","Calonge i Sant Antoni","Camarasa","Camarles","Cambrils","Campdev\xE0nol","Campelles","Campins","Campllong","Camprodon","Cam\xF3s","Canejan","Canet d'Adri","Canet de Mar","Canonja, la","Canovelles","Cantallops","Canyelles","Capafonts","Capellades","Capmany","Capolat","Cap\xE7anes","Cardedeu","Cardona","Carme","Caseres","Casserres","Cass\xE0 de la Selva","Castell d'Aro, Platja d'Aro i s'Agar\xF3","Castell de Mur","Castell de l'Areny","Castellar de la Ribera","Castellar de n'Hug","Castellar del Riu","Castellar del Vall\xE8s","Castellbell i el Vilar","Castellbisbal","Castellcir","Castelldans","Castelldefels","Castellet i la Gornal","Castellfollit de Riubreg\xF3s","Castellfollit de la Roca","Castellfollit del Boix","Castellgal\xED","Castellnou de Bages","Castellnou de Seana","Castellol\xED","Castellser\xE0","Castellter\xE7ol","Castellvell del Camp","Castellv\xED de Rosanes","Castellv\xED de la Marca","Castell\xF3 d'Emp\xFAries","Castell\xF3 de Farfanya","Catllar, el","Cava","Cellera de Ter, la","Celr\xE0","Centelles","Cercs","Cerdanyola del Vall\xE8s","Cervell\xF3","Cervera","Cervi\xE0 de Ter","Cervi\xE0 de les Garrigues","Cistella","Ciutadilla","Clariana de Cardener","Cogul, el","Colera","Coll de Narg\xF3","Collbat\xF3","Colldejou","Collsuspina","Colomers","Coma i la Pedra, la","Conca de Dalt","Conesa","Constant\xED","Copons","Corbera d'Ebre","Corbera de Llobregat","Corbins","Cornell\xE0 de Llobregat","Cornell\xE0 del Terri","Cornudella de Montsant","Cor\xE7\xE0","Creixell","Crespi\xE0","Cru\xEFlles, Monells i Sant Sadurn\xED de l'Heura","Cubelles","Cubells","Cunit","C\xE0noves i Samal\xFAs","Darnius","Das","Deltebre","Dosrius","Duesaig\xFCes","Escala, l'","Esparreguera","Espinelves","Espluga Calba, l'","Espluga de Francol\xED, l'","Esplugues de Llobregat","Espolla","Esponell\xE0","Espot","Espunyola, l'","Esquirol, l'","Estamariu","Estany, l'","Estar\xE0s","Esterri d'\xC0neu","Esterri de Card\xF3s","Falset","Far d'Empord\xE0, el","Farrera","Fatarella, la","Febr\xF3, la","Figar\xF3-Montmany","Figuera, la","Figueres","Figuerola del Camp","Fla\xE7\xE0","Flix","Floresta, la","Fogars de Montcl\xFAs","Fogars de la Selva","Foix\xE0","Folgueroles","Fondarella","Fonollosa","Font-rub\xED","Fontanals de Cerdanya","Fontanilles","Fontcoberta","Foradada","Forallac","Fornells de la Selva","Forti\xE0","For\xE8s","Franqueses del Vall\xE8s, les","Freginals","Fuliola, la","Fulleda","F\xEDgols","F\xEDgols i Aliny\xE0","Gai\xE0","Galera, la","Gallifa","Gandesa","Garcia","Garidells, els","Garriga, la","Garrigoles","Garriguella","Garrig\xE0s","Gavet de la Conca","Gav\xE0","Gelida","Ger","Gimenells i el Pla de la Font","Ginestar","Girona","Gironella","Gisclareny","Godall","Golm\xE9s","Gombr\xE8n","Granada, la","Granadella, la","Granera","Granja d'Escarp, la","Granollers","Granyanella","Granyena de Segarra","Granyena de les Garrigues","Gratallops","Gualba","Gualta","Guardiola de Bergued\xE0","Guiamets, els","Guils de Cerdanya","Guimer\xE0","Guingueta d'\xC0neu, la","Guissona","Guixers","Gurb","G\xF3sol","Horta de Sant Joan","Hospitalet de Llobregat, l'","Hostalets de Pierola, els","Hostalric","Igualada","Isona i Conca Dell\xE0","Is\xF2vol","Ivars d'Urgell","Ivars de Noguera","Ivorra","Jafre","Jonquera, la","Jorba","Josa i Tuix\xE9n","Jui\xE0","Juncosa","Juneda","Les","Linyola","Llacuna, la","Lladorre","Lladurs","Llad\xF3","Llagosta, la","Llagostera","Llambilles","Llanars","Llan\xE7\xE0","Llardecans","Llavors\xED","Lleida","Llers","Lles de Cerdanya","Llimiana","Llinars del Vall\xE8s","Lli\xE7\xE0 d'Amunt","Lli\xE7\xE0 de Vall","Lloar, el","Llobera","Llorac","Lloren\xE7 del Pened\xE8s","Lloret de Mar","Llosses, les","Llu\xE7\xE0","Ll\xEDvia","Madremanya","Maials","Mai\xE0 de Montcal","Mald\xE0","Malgrat de Mar","Malla","Manlleu","Manresa","Margalef","Marganell","Martorell","Martorelles","Mar\xE7\xE0","Mas de Barberans","Masarac i Vilarnadal","Masdenverge","Masies de Roda, les","Masies de Voltreg\xE0, les","Maslloren\xE7","Masnou, el","Maspujols","Masquefa","Masroig, el","Massalcoreig","Massanes","Massoteres","Mas\xF3, la","Matadepera","Matar\xF3","Ma\xE7anet de Cabrenys","Ma\xE7anet de la Selva","Mediona","Men\xE0rguens","Meranges","Mieres","Mil\xE0, el","Miralcamp","Miravet","Moi\xE0","Molar, el","Molins de Rei","Mollerussa","Mollet de Peralada","Mollet del Vall\xE8s","Moll\xF3","Molsosa, la","Monistrol de Calders","Monistrol de Montserrat","Mont-ral","Mont-ras","Mont-roig del Camp","Montagut i Oix","Montblanc","Montbri\xF3 del Camp","Montcada i Reixac","Montclar","Montell\xE0 i Martinet","Montesquiu","Montferrer i Castellb\xF2","Montferri","Montgai","Montgat","Montmajor","Montmaneu","Montmell, el","Montmel\xF3","Montoliu de Lleida","Montoliu de Segarra","Montorn\xE8s de Segarra","Montorn\xE8s del Vall\xE8s","Montseny","Morell, el","Morera de Montsant, la","Muntanyola","Mura","M\xF3ra d'Ebre","M\xF3ra la Nova","Nalec","Naut Aran","Navarcles","Navata","Nav\xE0s","Nav\xE8s","No consta","Nou de Bergued\xE0, la","Nou de Gai\xE0, la","Nulles","Od\xE8n","Ogassa","Olesa de Bonesvalls","Olesa de Montserrat","Oliana","Oliola","Olius","Olivella","Olost","Olot","Oluges, les","Olvan","Ol\xE8rdola","Omellons, els","Omells de na Gaia, els","Ordis","Organy\xE0","Orist\xE0","Orp\xED","Or\xEDs","Os de Balaguer","Osor","Oss\xF3 de Si\xF3","Pacs del Pened\xE8s","Palafolls","Palafrugell","Palam\xF3s","Palau d'Anglesola, el","Palau de Santa Eul\xE0lia","Palau-sator","Palau-saverdera","Palau-solit\xE0 i Plegamans","Pallaresos, els","Pallej\xE0","Palma d'Ebre, la","Palma de Cervell\xF3, la","Palol de Revardit","Pals","Papiol, el","Pardines","Parets del Vall\xE8s","Parlav\xE0","Passanant i Belltall","Pau","Pa\xFCls","Pedret i Marz\xE0","Penelles","Pera, la","Perafita","Perafort","Peralada","Peramola","Perell\xF3, el","Piera","Piles, les","Pineda de Mar","Pinell de Brai, el","Pinell de Solson\xE8s","Pin\xF3s","Pira","Pla de Santa Maria, el","Pla del Pened\xE8s, el","Planes d'Hostoles, les","Planoles","Plans de Si\xF3, els","Poal, el","Pobla de Claramunt, la","Pobla de C\xE9rvoles, la","Pobla de Lillet, la","Pobla de Mafumet, la","Pobla de Massaluca, la","Pobla de Montorn\xE8s, la","Pobla de Segur, la","Poboleda","Poliny\xE0","Pont d'Armentera, el","Pont de Bar, el","Pont de Molins","Pont de Suert, el","Pont de Vilomara i Rocafort, el","Pontils","Pontons","Ponts","Pont\xF3s","Porqueres","Porrera","Port de la Selva, el","Portbou","Portella, la","Pradell de la Teixeta","Prades","Prat de Comte","Prat de Llobregat, el","Pratdip","Prats de Llu\xE7an\xE8s","Prats de Rei, els","Prats i Sansor","Preixana","Preixens","Premi\xE0 de Dalt","Premi\xE0 de Mar","Preses, les","Prullans","Puig-reig","Puigcerd\xE0","Puigd\xE0lber","Puiggr\xF2s","Puigpelat","Puigverd d'Agramunt","Puigverd de Lleida","Pujalt","Quar, la","Quart","Queralbs","Querol","Rab\xF3s","Rajadell","Rasquera","Regenc\xF3s","Rellinars","Renau","Reus","Rialp","Riba, la","Riba-roja d'Ebre","Ribera d'Ondara","Ribera d'Urgellet","Ribes de Freser","Riells i Viabrea","Riera de Gai\xE0, la","Riner","Ripoll","Ripollet","Riu de Cerdanya","Riudarenes","Riudaura","Riudecanyes","Riudecols","Riudellots de la Selva","Riudoms","Riumors","Roca del Vall\xE8s, la","Rocafort de Queralt","Roda de Ber\xE0","Roda de Ter","Rodony\xE0","Roquetes","Roses","Rossell\xF3","Rourell, el","Rubi\xF3","Rub\xED","Rupit i Pruit","Rupi\xE0","R\xE0pita, la","Sabadell","Sag\xE0s","Saldes","Sales de Llierca","Sallent","Salom\xF3","Salou","Salt","Sal\xE0s de Pallars","Sana\xFCja","Sant Adri\xE0 de Bes\xF2s","Sant Agust\xED de Llu\xE7an\xE8s","Sant Andreu Salou","Sant Andreu de Llavaneres","Sant Andreu de la Barca","Sant Aniol de Finestres","Sant Antoni de Vilamajor","Sant Bartomeu del Grau","Sant Boi de Llobregat","Sant Boi de Llu\xE7an\xE8s","Sant Cebri\xE0 de Vallalta","Sant Celoni","Sant Climent Sescebes","Sant Climent de Llobregat","Sant Cugat Sesgarrigues","Sant Cugat del Vall\xE8s","Sant Esteve Sesrovires","Sant Esteve de Palautordera","Sant Esteve de la Sarga","Sant Feliu Sasserra","Sant Feliu de Buixalleu","Sant Feliu de Codines","Sant Feliu de Gu\xEDxols","Sant Feliu de Llobregat","Sant Feliu de Pallerols","Sant Ferriol","Sant Fost de Campsentelles","Sant Fruit\xF3s de Bages","Sant Gregori","Sant Guim de Freixenet","Sant Guim de la Plana","Sant Hilari Sacalm","Sant Hip\xF2lit de Voltreg\xE0","Sant Iscle de Vallalta","Sant J. d'Enveja","Sant J. de Frontany\xE0","Sant J. de Llierca","Sant J. dels Domenys","Sant Joan Desp\xED","Sant Joan de Mollet","Sant Joan de Vilatorrada","Sant Joan de les Abadesses","Sant Joan les Fonts","Sant Jordi Desvalls","Sant Juli\xE0 de Cerdanyola","Sant Juli\xE0 de Ramis","Sant Juli\xE0 de Vilatorta","Sant Juli\xE0 del Llor i Bonmat\xED","Sant Just Desvern","Sant Lloren\xE7 Savall","Sant Lloren\xE7 d'Hortons","Sant Lloren\xE7 de Morunys","Sant Lloren\xE7 de la Muga","Sant Mart\xED Sarroca","Sant Mart\xED Sesgueioles","Sant Mart\xED Vell","Sant Mart\xED d'Albars","Sant Mart\xED de Centelles","Sant Mart\xED de Ll\xE9mena","Sant Mart\xED de Riucorb","Sant Mart\xED de Tous","Sant Mateu de Bages","Sant Miquel de Campmajor","Sant Miquel de Fluvi\xE0","Sant Mori","Sant Pau de Seg\xFAries","Sant Pere Pescador","Sant Pere Sallavinera","Sant Pere de Ribes","Sant Pere de Riudebitlles","Sant Pere de Torell\xF3","Sant Pere de Vilamajor","Sant Pol de Mar","Sant Quint\xED de Mediona","Sant Quirze Safaja","Sant Quirze de Besora","Sant Quirze del Vall\xE8s","Sant Ramon","Sant Sadurn\xED d'Anoia","Sant Sadurn\xED d'Osormort","Sant Salvador de Guardiola","Sant Vicen\xE7 de Castellet","Sant Vicen\xE7 de Montalt","Sant Vicen\xE7 de Torell\xF3","Sant Vicen\xE7 dels Horts","Santa B\xE0rbara","Santa Cec\xEDlia de Voltreg\xE0","Santa Coloma de Cervell\xF3","Santa Coloma de Farners","Santa Coloma de Gramenet","Santa Coloma de Queralt","Santa Cristina d'Aro","Santa Eug\xE8nia de Berga","Santa Eul\xE0lia de Riuprimer","Santa Eul\xE0lia de Ron\xE7ana","Santa Fe del Pened\xE8s","Santa Llogaia d'\xC0lguema","Santa Margarida de Montbui","Santa Margarida i els Monjos","Santa Maria d'Ol\xF3","Santa Maria de Besora","Santa Maria de Martorelles","Santa Maria de Merl\xE8s","Santa Maria de Miralles","Santa Maria de Palautordera","Santa Oliva","Santa Pau","Santa Perp\xE8tua de Mogoda","Santa Susanna","Santpedor","Sarral","Sarri\xE0 de Ter","Sarroca de Bellera","Sarroca de Lleida","Saus, Camallera i Llampaies","Savall\xE0 del Comtat","Secuita, la","Selva de Mar, la","Selva del Camp, la","Senan","Senterada","Sentiu de Si\xF3, la","Sentmenat","Seriny\xE0","Serra de Dar\xF3","Ser\xF2s","Setcases","Seu d'Urgell, la","Seva","Sidamon","Sils","Sitges","Siurana","Sobremunt","Soler\xE0s, el","Solivella","Solsona","Sora","Soriguera","Sort","Soses","Subirats","Sudanell","Sunyer","Susqueda","S\xE9nia, la","S\xFAria","Tagamanent","Talamanca","Talarn","Talavera","Tallada d'Empord\xE0, la","Taradell","Tarragona","Tarroja de Segarra","Tarr\xE9s","Tavertet","Tav\xE8rnoles","Tei\xE0","Terrades","Terrassa","Tiana","Tiurana","Tivenys","Tivissa","Tona","Tordera","Torell\xF3","Torms, els","Tornabous","Torre de Cabdella, la","Torre de Claramunt, la","Torre de Fontaubella, la","Torre de l'Espanyol, la","Torre-serona","Torrebesses","Torredembarra","Torrefarrera","Torrefeta i Florejacs","Torregrossa","Torrelameu","Torrelavit","Torrelles de Foix","Torrelles de Llobregat","Torrent","Torres de Segre","Torroella de Fluvi\xE0","Torroella de Montgr\xED","Torroja del Priorat","Tortell\xE0","Tortosa","Tor\xE0","Toses","Tossa de Mar","Tremp","T\xE0rrega","T\xE9rmens","T\xEDrvia","Ullastrell","Ullastret","Ulldecona","Ulldemolins","Ull\xE0","Ultramort","Ur\xFAs","Vacarisses","Vajol, la","Vall d'en Bas, la","Vall de Bianya, la","Vall de Bo\xED, la","Vall de Card\xF3s","Vall-llobrega","Vallbona d'Anoia","Vallbona de les Monges","Vallcebre","Vallclara","Vallfogona de Balaguer","Vallfogona de Ripoll\xE8s","Vallfogona de Riucorb","Vallgorguina","Vallirana","Vallmoll","Vallromanes","Valls","Valls d'Aguilar, les","Valls de Valira, les","Vandell\xF2s i l'Hospitalet de l'Infant","Vansa i F\xF3rnols, la","Veciana","Vendrell, el","Ventall\xF3","Verd\xFA","Verges","Vespella de Gai\xE0","Vic","Vidreres","Vidr\xE0","Vielha e Mijaran","Vila-rodona","Vila-sacra","Vila-sana","Vila-seca","Vilabella","Vilabertran","Vilablareix","Vilada","Viladamat","Viladasens","Viladecans","Viladecavalls","Vilademuls","Viladrau","Vilafant","Vilafranca del Pened\xE8s","Vilagrassa","Vilaju\xEFga","Vilalba Sasserra","Vilalba dels Arcs","Vilaller","Vilallonga de Ter","Vilallonga del Camp","Vilamacolum","Vilamalla","Vilamaniscle","Vilam\xF2s","Vilanant","Vilanova d'Escornalbou","Vilanova de Bellpuig","Vilanova de Mei\xE0","Vilanova de Prades","Vilanova de Sau","Vilanova de Segri\xE0","Vilanova de l'Aguda","Vilanova de la Barca","Vilanova del Cam\xED","Vilanova del Vall\xE8s","Vilanova i la Geltr\xFA","Vilaplana","Vilassar de Dalt","Vilassar de Mar","Vilaverd","Vila\xFCr","Vilella Alta, la","Vilella Baixa, la","Vilob\xED d'Onyar","Vilob\xED del Pened\xE8s","Vilopriu","Vilosell, el","Vimbod\xED i Poblet","Vinaixa","Vinebre","Vinyols i els Arcs","Viver i Serrateix","Xerta","\xC0ger","\xD2dena","\xD2rrius"],yc=["CAP Les Corts","CAP La Sagrada Fam\xEDlia","CAP El Clot","CAP La Pau","CAP Sant Andreu","CAP Sant Mart\xED","CAP Horta-Guinard\xF3","CAP Nou Barris","CAP Sants-Montju\xEFc","CAP Gr\xE0cia","CAP Sarri\xE0-Sant Gervasi","CAP Badalona Centre","CAP Badalona Pomar","CAP Sta. Coloma Gramenet Nord","CAP Sta. Coloma Gramenet Sud","CAP Montcada i Reixac","CAP Ripollet","CAP Cerdanyola Vall\xE8s","CAP Barber\xE0 Vall\xE8s","CAP Sabadell Centre","CAP Sabadell Nord","CAP Sabadell Sud","CAP Terrassa Nord","CAP Terrassa Sud","CAP Rub\xED","CAP Castellbisbal","CAP Martorell","CAP Abrera","CAP Olesa Montserrat","CAP Esparreguera","CAP Pallej\xE0","CAP Corbera Llobregat","CAP Cervell\xF3","CAP Vallirana","CAP Sant Andreu Barca","CAP Sant Boi Llobregat","CAP Sant Climent Llobregat","CAP Sant Joan Desp\xED","CAP Sant Vicen\xE7 Horts","CAP Cornell\xE0 Llobregat","CAP L'Hospitalet Llobregat Nord","CAP L'Hospitalet Llobregat Sud","CAP Esplugues Llobregat","CAP Viladecans","CAP Gav\xE0","CAP Castelldefels","CAP El Prat Llobregat","CAP Begues","CAP Sitges","CAP Vilanova Geltr\xFA","CAP Cubelles","CAP Cunit","CAP Calafell","CAP El Vendrell","CAP Vilafranca Pened\xE8s","CAP Sant Sadurn\xED Anoia","CAP Igualada","CAP Piera","CAP Capellades","CAP Martorelles","CAP Lli\xE7\xE0 Vall","CAP Granollers Nord","CAP Granollers Sud","CAP Canovelles","CAP Les Franqueses Vall\xE8s","CAP La Garriga","CAP Cardedeu","CAP L'Ametlla Vall\xE8s","CAP Sant Antoni Vilamajor","CAP Sant Celoni","CAP Sant Esteve Palautordera","CAP Sant Pere Vilamajor","CAP Vilalba Sasserra","CAP Matar\xF3 Centre","CAP Matar\xF3 Nord","CAP Matar\xF3 Sud","CAP Argentona","CAP Cabrera Mar","CAP Dosrius","CAP Vilassar Mar","CAP Premi\xE0 Mar","CAP El Masnou","CAP Tei\xE0","CAP Alella","CAP Tiana","CAP Montgat","CAP Tordera","CAP Malgrat Mar","CAP Palafolls","CAP Blanes","CAP Lloret Mar","CAP Tossa Mar","CAP Calella","CAP Pineda Mar","CAP Sta. Susanna","CAP Arenys Mar","CAP Canet Adri","CAP Sant Feliu Llobregat","CAP Molins Rei","CAP Sant Joan Desp\xED","CAP Sant Vicen\xE7 Horts","CAP Cornell\xE0 Llobregat","CAP L'Hospitalet Llobregat","CAP Esplugues Llobregat","CAP Viladecans","CAP Gav\xE0","CAP Castelldefels","CAP El Prat Llobregat","CAP Manresa","CAP Sant Joan Vilatorrada","CAP Sant Fruit\xF3s Bages","CAP Sallent","CAP S\xFAria","CAP Cardona","CAP Solsona","CAP Berga","CAP Puigcerd\xE0","CAP La Seu Urgell","CAP Sort","CAP Vic","CAP Centelles","CAP Torell\xF3","CAP Taradell","CAP Sta. Eug\xE8nia Berga","CAP Moi\xE0","CAP Prats Llu\xE7an\xE8s","CAP Olost","CAP Sta. Maria Ol\xF3","CAP Llu\xE7\xE0","CAP Santpedor","CAP Sant Mateu Bages","CAP Art\xE9s","CAP Aviny\xF3","CAP Castellfollit Boix","CAP Jorba","CAP Sant Mart\xED Sesgueioles","CAP Copons","CAP Sant Sadurn\xED Osormort","CAP Masquefa","CAP Sant Lloren\xE7 Savall","CAP Gallifa","CAP Sant Feliu Sasserra","CAP Sant Quirze Besora","CAP Sant Vicen\xE7 Torell\xF3","CAP Les Masies Voltreg\xE0","CAP Or\xEDs","CAP Sant Boi Llu\xE7an\xE8s","CAP Prats Rei","CAP Girona Centre","CAP Girona Nord","CAP Girona Sud","CAP Salt","CAP Sarri\xE0 Ter","CAP Banyoles","CAP Porqueres","CAP Besal\xFA","CAP Olot","CAP Sta. Pau","CAP Camprodon","CAP Ripoll","CAP Sant Joan Abadesses","CAP Figueres","CAP Llan\xE7\xE0","CAP Castell\xF3 Emp\xFAries","CAP Roses","CAP Cadaqu\xE9s","CAP La Jonquera","CAP Agullana","CAP Ma\xE7anet Selva","CAP Sta. Coloma Farners","CAP Arb\xFAcies","CAP Breda","CAP Riudarenes","CAP Sils","CAP Angl\xE8s","CAP La Cellera Ter","CAP Amer","CAP Sant Hilari Sacalm","CAP Osor","CAP Vidreres","CAP Lloret Mar","CAP Blanes","CAP Tossa Mar","CAP Calonge","CAP Palam\xF3s","CAP Platja Aro","CAP Sta. Cristina Aro","CAP Lleida Centre","CAP Lleida Nord","CAP Lleida Sud","CAP Balaguer","CAP La Seu Urgell","CAP Vielha","CAP Tremp","CAP Sort","CAP Puigcerd\xE0","CAP T\xE0rrega","CAP Cervera","CAP Mollerussa","CAP Artesa Segre","CAP Ponts","CAP Almacelles","CAP Aitona","CAP Ser\xF2s","CAP Torres Segre","CAP Juneda","CAP Les Borges Blanques","CAP Miralcamp","CAP Preixens","CAP Oliana","CAP Organy\xE0","CAP Sant Lloren\xE7 Cardoner","CAP Sant Ramon","CAP Castellbell Vilar","CAP Sant Vicen\xE7 Castellet","CAP Monistrol Montserrat","CAP Marganell","CAP El Bruc","CAP Sant Salvador Guardiola","CAP Nav\xE0s","CAP S\xFAria","CAP Sallent","CAP Cardona","CAP Sant Joan Vilatorrada","CAP Manresa Nord","CAP Manresa Sud","CAP Tarragona Centre","CAP Tarragona Nord","CAP Tarragona Sud","CAP Reus","CAP Constant\xED","CAP Riudoms","CAP Cambrils","CAP Salou","CAP Vila-seca","CAP Torredembarra","CAP Altafulla","CAP Creixell","CAP Roda Ber\xE0","CAP Valls","CAP Nulles","CAP El Pla Pened\xE8s","CAP La Bisbal Pened\xE8s","CAP Sant Jaume Domenys","CAP El Vendrell","CAP Calafell","CAP Cunit","CAP Cubelles","CAP Vilanova Geltr\xFA","CAP Sitges","CAP Sant Pere Ribes","CAP Vilafranca Pened\xE8s","CAP Sant Sadurn\xED Anoia","CAP Subirats","CAP Sant Mart\xED Sarroca","CAP La Granada","CAP Montblanc","CAP La Riba","CAP Falset","CAP M\xF3ra Nova","CAP Gandesa","CAP Tortosa","CAP Amposta","CAP Sant Carles N\xE0utica","CAP Deltebre","CAP Roquetes","CAP Alcanar","CAP Vinar\xF2s","CAP Benicarl\xF3","CAP Pen\xEDscola","CUAP Matar\xF3","CUAP Granollers","CUAP Vic","CUAP Manresa","CUAP Igualada","CUAP Vilafranca Pened\xE8s","CUAP Vilanova Geltr\xFA","CUAP El Vendrell","CUAP Reus","CUAP Tarragona","CUAP Lleida","CUAP Girona","CUAP Figueres","CUAP Blanes","CUAP Olot","CUAP Berga","CUAP Solsona","CUAP Tremp","CUAP La Seu Urgell","CUAP Puigcerd\xE0","AECT H. Cerdanya","CAP Abrera","CAP Alcanar","CAP Amposta","CAP Badalona","CAP Banyoles","CAP Barber\xE0 Vall\xE8s","CAP Barcelona","CAP Bellvitge","CAP Berga","CAP Blanes","CAP Calella","CAP Cambrils","CAP Cerdanyola Vall\xE8s","CAP Cornell\xE0 Llobregat","CAP El Prat Llobregat","CAP El Vendrell","CAP Esplugues Llobregat","CAP Figueres","CAP Gav\xE0","CAP Girona","CAP Granollers","CAP Igualada","CAP L'Hospitalet Llobregat","CAP Lleida","CAP Manresa","CAP Martorell","CAP Matar\xF3","CAP Mollet Vall\xE8s","CAP Montcada i Reixac","CAP Olot","CAP Reus","CAP Ripollet","CAP Rub\xED","CAP Sabadell","CAP Salt","CAP St. Adri\xE0 Bes\xF2s","CAP St. Andreu Barca","CAP St. Boi Llobregat","CAP St. Celoni","CAP St. Cugat Vall\xE8s","CAP St. Feliu Llobregat","CAP St. J. Desp\xED","CAP St. Vicen\xE7 Horts","CAP Sta. Coloma Gramenet","CAP Tarragona","CAP Terrassa","CAP Tortosa","CAP Vic","CAP Viladecans","CAP Vilafranca Pened\xE8s","CAP Vilanova i Geltr\xFA","Espitau Val d'Aran","Fund. H. Esperit St.","Fund. Puigvert","H. Cl\xEDnic Barcelona","H. Com. M\xF3ra d'Ebre","H. Com. St. Antoni Abat","H. Com. St. Bernab\xE9","H. St. Jaume Calella","H. Com. Amposta","H. Comarcal Blanes","H. Com. Alt Pened\xE8s","H. Com. Pallars","H. Dos Maig","H. P. San. St. Joan D\xE9u","H. Gen. Granollers","H. Gen. Hospitalet","H. Munic. Badalona","H. Res. St. Camil","H. St. Joan D\xE9u Esplugues","H. St. J. D\xE9u Manresa","H. St. J. D\xE9u Martorell","H. St. P. i Sta. Tecla","H. Sta. Caterina","H. Arnau Vilanova","H. Bellvitge","H. Dr. Josep Trueta","H. Vall d'Hebron","H. Germans Trias i Pujol","H. J. 23 Tarragona","H. M\xFAtua Terrassa","H. Sta. Maria","H. Igualada","H. St. J. Reus","H. Tortosa Verge Cinta","H. Vic","H. Olot i Com. Garrotxa","H. Campdev\xE0nol","H. Figueres","H. Matar\xF3","H. Mollet","H. Palam\xF3s","H. Sabadell","H. St. Celoni","H. St. J. Desp\xED Broggi","H. Terrassa","H. Viladecans","H. Esperan\xE7a","H. Sta. Creu i St. Pau","H. Mar","H. Vendrell","ICO Badalona","ICO Girona","ICO L'Hospitalet","Inst. Guttmann","Pius H. Valls"],Zv=[...Sc,...yc],kv=new Intl.Collator("ca",{sensitivity:"base"}),$N=[...Zv].sort(kv.compare),WN=[...Zv].sort(kv.compare);var vc=M.withScope("LocationSuggestions"),Jr={ORIGIN_SUGGESTIONS:"locationSuggestions.origin",DESTINATION_SUGGESTIONS:"locationSuggestions.destination"},Jv=10,$v=4,V_=6,Wv=3,Kn=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),H_=["Barcelona","L'Hospitalet de Llobregat","Badalona","Terrassa","Sabadell","Lleida","Girona","Tarragona","Reus","Manresa","Matar\xF3","Santa Coloma de Gramenet","Cornell\xE0 de Llobregat","Sant Boi de Llobregat","Rub\xED","Vilanova i la Geltr\xFA","Viladecans","El Prat de Llobregat","Granollers","Cerdanyola del Vall\xE8s","Mollet del Vall\xE8s","Castelldefels","Gav\xE0","Martorell","Igualada","Vic","Figueres","Olot","Blanes","Lloret de Mar","Cambrils","Salou","Sitges","Roses","Palafrugell","Sant Cugat del Vall\xE8s","Esplugues de Llobregat","Sant Adri\xE0 de Bes\xF2s","Sant Feliu de Llobregat","Sant Joan Desp\xED","Sant Just Desvern","Parets del Vall\xE8s","Pineda de Mar","Calella","Castellar del Vall\xE8s","Molins de Rei","Ripollet","Berga","La Seu d'Urgell","Puigcerd\xE0","Amposta","Balaguer","Valls","La Bisbal d'Empord\xE0","Palam\xF3s","Platja d'Aro"],eT=new Map(H_.map((e,t)=>[Kn(e),t])),G_=eT.size+100,q_=e=>{let t=Kn(e);return t=t.replace(/hospital comarcal/g,"h. com.").replace(/hospital universitari/g,"h. u.").replace(/hospital general/g,"h. gen.").replace(/hospital/g,"h.").replace(/comarcal/g,"com.").replace(/universitari/g,"u.").replace(/general/g,"gen.").replace(/sant /g,"st. ").replace(/santa /g,"sta. "),[t]},Mm=class{constructor(){this.originSuggestions=this.loadSuggestions(Jr.ORIGIN_SUGGESTIONS),this.destinationSuggestions=this.loadSuggestions(Jr.DESTINATION_SUGGESTIONS),this.destinationLookup=this.createDestinationLookup(),this.destinationSuggestions=this.destinationSuggestions.map(t=>this.destinationLookup.get(Kn(t))||null).filter(Boolean),this.saveSuggestions(Jr.DESTINATION_SUGGESTIONS,this.destinationSuggestions),this.currentDropdown=null,this.currentInput=null,this.selectedIndex=-1,this.inputDebounceTimer=null,this.scrollAnimationFrame=null,this.visibilityTimeout=null,this.handleWindowScroll=()=>{!this.currentDropdown||!this.currentInput||this.scheduleDropdownReposition()},this.handleWindowResize=()=>{!this.currentDropdown||!this.currentInput||(this.scheduleDropdownReposition(),this.scheduleDropdownVisibilityCheck())},this.handleViewportShift=()=>{!this.currentDropdown||!this.currentInput||(this.scheduleDropdownReposition(),this.scheduleDropdownVisibilityCheck())}}createDestinationLookup(){let t=new Map;return yc.forEach(a=>{t.set(Kn(a),a)}),t}loadSuggestions(t){try{let a=localStorage.getItem(t);return a?JSON.parse(a):[]}catch(a){return vc.warn(`Error carregant suggeriments per ${t}:`,a),[]}}saveSuggestions(t,a){try{localStorage.setItem(t,JSON.stringify(a))}catch(n){vc.warn(`Error guardant suggeriments per ${t}:`,n)}}addSuggestion(t,a){if(!a||a.trim().length<2)return;let n=a.trim(),l;if(t==="origin")l=this.originSuggestions;else if(t==="destination"){l=this.destinationSuggestions;let r=this.destinationLookup.get(Kn(n));if(!r){vc.warn(`Dest\xED no reconegut. Nom\xE9s s'accepten centres sanitaris p\xFAblics. Valor rebut: "${n}"`);return}n=r}else return;let i=l.indexOf(n);i>-1&&l.splice(i,1),l.unshift(n),l.length>Jv&&(l=l.slice(0,Jv)),t==="origin"?(this.originSuggestions=l,this.saveSuggestions(Jr.ORIGIN_SUGGESTIONS,l)):(this.destinationSuggestions=l,this.saveSuggestions(Jr.DESTINATION_SUGGESTIONS,l)),this.updateDatalistForType(t)}getSuggestions(t){return t==="origin"?[...this.originSuggestions]:t==="destination"?[...this.destinationSuggestions]:[]}updateDatalists(){this.updateDatalistForType("origin"),this.updateDatalistForType("destination")}getBaseLocations(t){return t==="origin"?Sc:yc}calculateMatchScore(t,a,n,l,i){let r=eT.get(t)??G_,o=/,\s*(el|la|els|les|l')$/i.test(l)?1:0,s=l.includes("-")?1:0,c=a.length>1?0:1;if(!n.length)return{category:0,popularityRank:r,articlePenalty:o,hyphenPenalty:s,multiWordPenalty:c,prefixLengthPenalty:0};let f=u=>u?t.startsWith(u)?0:a.some(g=>g.startsWith(u))?1:2:3;return n.reduce((u,g)=>{let h=-1/0;g.forEach(E=>{h=Math.max(h,f(E))});let v=g[0]?.length??i.primaryLength??0,_=a[0]??"",m=v>0&&_.startsWith(g[0]??"")?Math.abs(_.length-v):_.length,d={category:Number.isFinite(h)?h:3,popularityRank:r,articlePenalty:o,hyphenPenalty:s,multiWordPenalty:c,prefixLengthPenalty:m};return u?this.compareScores(d,u)<0?d:u:d},null)||{category:3,popularityRank:r,articlePenalty:o,hyphenPenalty:s,multiWordPenalty:c,prefixLengthPenalty:a[0]?.length??99}}compareScores(t,a){return t.category!==a.category?t.category-a.category:t.popularityRank!==a.popularityRank?t.popularityRank-a.popularityRank:t.articlePenalty!==a.articlePenalty?t.articlePenalty-a.articlePenalty:t.hyphenPenalty!==a.hyphenPenalty?t.hyphenPenalty-a.hyphenPenalty:t.multiWordPenalty!==a.multiWordPenalty?t.multiWordPenalty-a.multiWordPenalty:t.prefixLengthPenalty!==a.prefixLengthPenalty?t.prefixLengthPenalty-a.prefixLengthPenalty:0}getSuggestionsForInput(t,a="",n={}){if(!n.onlyRecent&&a.trim().length<Wv)return[];let l=q_(a).map(u=>u.split(/\s+/).map(g=>g.trim()).filter(Boolean)).filter(u=>u.length>0),i=Kn(a.trim()),o={primaryLength:i.split(/\s+/).map(u=>u.trim()).filter(Boolean)[0]?.length??i.length??0},s=t==="origin"?Sc:this.getBaseLocations(t),c=[],f=new Set,p=(u,g)=>{if(!u)return;let h=u.trim();if(!h)return;let v=Kn(h),_=v.split(/[\s,\/'.-]+/).map(E=>E.trim()).filter(Boolean);if(!(l.length===0||l.some(E=>E.every(S=>v.includes(S))))||f.has(v))return;f.add(v);let d=this.calculateMatchScore(v,_,l,h,o);c.push({value:h,score:d,index:g})};return s.forEach((u,g)=>p(u,g)),c.sort((u,g)=>{let h=this.compareScores(u.score,g.score);return h!==0?h:u.index-g.index}).slice(0,$v).map(u=>u.value)}getRecentSuggestions(t,a=V_){return(t==="origin"?this.originSuggestions:this.destinationSuggestions).slice(0,a)}updateDatalistForType(t,a="",n={}){let l=t==="origin"?"origin-datalist":"destination-datalist",i;n.onlyRecent?(i=this.getRecentSuggestions(t),i.length||(i=this.getBaseLocations(t).slice(0,$v))):i=this.getSuggestionsForInput(t,a),this.updateDatalist(l,i)}updateDatalist(t,a){let n=document.getElementById(t);n&&(n.innerHTML="",a.forEach(l=>{let i=document.createElement("option");i.value=l,n.appendChild(i)}))}calculateDropdownZIndex(){return 850}getFixedHeadersOffset(){let t=[".top-bar",".tabs-container"],a=0;return t.forEach(n=>{let l=document.querySelector(n);if(!l)return;let i=l.getBoundingClientRect();i.bottom>a&&(a=i.bottom)}),Math.max(a,0)}createCustomDropdown(t,a){if(!a||a.length===0){this.closeDropdown();return}if(this.currentDropdown&&this.currentInput===t){this.updateDropdownOptions(this.currentDropdown,a,t);return}this.closeDropdown();let n=document.createElement("div");n.className="custom-location-dropdown",n.id="custom-location-dropdown";let l=t.getBoundingClientRect();n.style.position="fixed",n.style.top=`${l.bottom}px`,n.style.left=`${l.left}px`,n.style.width=`${l.width}px`,n.style.zIndex=String(this.calculateDropdownZIndex()),t.classList.add("has-dropdown-open"),this.updateDropdownOptions(n,a,t),document.body.appendChild(n),this.currentDropdown=n,this.currentInput=t,this.selectedIndex=-1,this.ensureDropdownVisibility(n,t),this.scheduleDropdownVisibilityCheck(),setTimeout(()=>{document.addEventListener("click",this.handleOutsideClick.bind(this))},0)}updateDropdownOptions(t,a,n){t.innerHTML="",a.forEach((l,i)=>{let r=document.createElement("div");r.className="custom-dropdown-option",r.textContent=l,r.dataset.index=i,r.addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),n.value=l,n.dispatchEvent(new Event("change",{bubbles:!0})),this.closeDropdown()}),r.addEventListener("mouseenter",()=>{this.selectedIndex=i,this.updateSelectedOption(t)}),t.appendChild(r)})}scheduleDropdownReposition(){this.scrollAnimationFrame||(this.scrollAnimationFrame=window.requestAnimationFrame(()=>{if(this.scrollAnimationFrame=null,!(!this.currentDropdown||!this.currentInput)){if(!document.body.contains(this.currentInput)){this.closeDropdown();return}this.repositionDropdown()}}))}scheduleDropdownVisibilityCheck(){this.visibilityTimeout&&clearTimeout(this.visibilityTimeout),this.visibilityTimeout=setTimeout(()=>{this.visibilityTimeout=null,!(!this.currentDropdown||!this.currentInput)&&this.ensureDropdownVisibility(this.currentDropdown,this.currentInput)},160)}repositionDropdown(){if(!this.currentDropdown||!this.currentInput)return;let t=this.currentInput.getBoundingClientRect();this.currentDropdown.style.top=`${t.bottom}px`,this.currentDropdown.style.left=`${t.left}px`,this.currentDropdown.style.width=`${t.width}px`}ensureDropdownVisibility(t,a){let n=window.visualViewport,l=n?.height??window.innerHeight,i=n?.offsetTop??0,r=this.getFixedHeadersOffset(),o=t.getBoundingClientRect(),s=o.top+i,c=s+o.height,f=12,p=16,u=document.scrollingElement||document.documentElement||document.body,g=window.scrollY,h=Math.max((u?.scrollHeight??document.body.scrollHeight)-l,0),v=r+f-s;if(v>0){let A=Math.max(g-v,0);A!==g&&window.scrollTo({top:A,behavior:"smooth"});return}let _=i+l,m=c-(_-p);if(m>0){let A=Math.min(g+m,h);A!==g&&window.scrollTo({top:A,behavior:"smooth"});return}let E=a.getBoundingClientRect().top+i,S=r+f;if(E<S){let A=S-E,I=Math.max(g-A,0);I!==g&&window.scrollTo({top:I,behavior:"smooth"})}}updateSelectedOption(t){if(!t)return;t.querySelectorAll(".custom-dropdown-option").forEach((n,l)=>{l===this.selectedIndex?n.classList.add("selected"):n.classList.remove("selected")})}closeDropdown(){this.currentDropdown&&(this.currentDropdown.remove(),this.currentDropdown=null,this.scrollAnimationFrame&&(cancelAnimationFrame(this.scrollAnimationFrame),this.scrollAnimationFrame=null),this.visibilityTimeout&&(clearTimeout(this.visibilityTimeout),this.visibilityTimeout=null),this.currentInput&&this.currentInput.classList.remove("has-dropdown-open"),this.currentInput=null,this.selectedIndex=-1,document.removeEventListener("click",this.handleOutsideClick.bind(this)))}handleOutsideClick(t){this.currentDropdown&&!this.currentDropdown.contains(t.target)&&t.target!==this.currentInput&&this.closeDropdown()}handleKeyboardNavigation(t,a){if(!a)return;let n=a.querySelectorAll(".custom-dropdown-option");switch(t.key){case"ArrowDown":t.preventDefault(),this.selectedIndex=Math.min(this.selectedIndex+1,n.length-1),this.updateSelectedOption(a),n[this.selectedIndex]?.scrollIntoView({block:"nearest"});break;case"ArrowUp":t.preventDefault(),this.selectedIndex=Math.max(this.selectedIndex-1,-1),this.updateSelectedOption(a),this.selectedIndex>=0&&n[this.selectedIndex]?.scrollIntoView({block:"nearest"});break;case"Enter":if(t.preventDefault(),this.selectedIndex>=0&&n[this.selectedIndex]){let l=n[this.selectedIndex].textContent;this.currentInput.value=l,this.currentInput.dispatchEvent(new Event("change",{bubbles:!0})),this.closeDropdown()}break;case"Escape":t.preventDefault(),this.closeDropdown();break}}init(){vc.info("Inicialitzant servei de suggeriments de localitzacions"),this.createDatalists(),this.updateDatalists(),this.addInputListeners()}createDatalists(){let t=document.querySelectorAll(".origin"),a=document.querySelectorAll(".destination");t.forEach(n=>{n.setAttribute("autocomplete","off"),n.removeAttribute("list")}),a.forEach(n=>{n.setAttribute("autocomplete","off"),n.removeAttribute("list")})}addInputListeners(){document.addEventListener("focus",t=>{let a=t.target;a instanceof HTMLInputElement&&(a.classList.contains("origin")||a.classList.contains("destination"))&&this.closeDropdown()},!0),document.addEventListener("input",t=>{let a=t.target;if(!(a instanceof HTMLInputElement))return;let n=null;if(a.classList.contains("origin")?n="origin":a.classList.contains("destination")&&(n="destination"),n){let l=a.value.trim();this.inputDebounceTimer&&clearTimeout(this.inputDebounceTimer),l.length>=Wv?this.inputDebounceTimer=setTimeout(()=>{let i=this.getSuggestionsForInput(n,l);this.createCustomDropdown(a,i)},300):this.closeDropdown()}}),document.addEventListener("keydown",t=>{let a=t.target;a instanceof HTMLInputElement&&(a.classList.contains("origin")||a.classList.contains("destination"))&&this.currentDropdown&&this.handleKeyboardNavigation(t,this.currentDropdown)}),window.addEventListener("scroll",this.handleWindowScroll,!0),window.addEventListener("resize",this.handleWindowResize),window.visualViewport&&(window.visualViewport.addEventListener("resize",this.handleViewportShift),window.visualViewport.addEventListener("scroll",this.handleViewportShift))}},j_=new Mm,tT=()=>j_.init();var ya=M.withScope("BackupService"),Y_="diet-backups",X_=1,K_=5;async function Q_(){return new Promise((e,t)=>{let a=indexedDB.open(Y_,X_);a.onerror=()=>{ya.error("Error obrint base de dades de backups"),t(a.error)},a.onsuccess=()=>{e(a.result)},a.onupgradeneeded=n=>{let l=n.target.result;if(!l.objectStoreNames.contains("backups")){let i=l.createObjectStore("backups",{keyPath:"id",autoIncrement:!0});i.createIndex("timestamp","timestamp",{unique:!1}),i.createIndex("type","type",{unique:!1}),ya.debug("Object store de backups creat")}}})}async function F_(e){try{let a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){return ya.error("Error calculant checksum:",t),""}}async function Z_(e=null,t="manual"){try{ya.debug(`Creant backup tipus "${t}"...`),e||(e=await ba());let a=JSON.stringify(e),n=await F_(a),l={version:"2.0.1",type:t,timestamp:Date.now(),date:new Date().toISOString(),totalDiets:e.length,data:e,checksum:n,metadata:{userAgent:navigator.userAgent,platform:navigator.platform}};return await k_(l),ya.debug(`\u2705 Backup creat: ${e.length} dietes, ${(a.length/1024).toFixed(2)} KB`),l}catch(a){throw ya.error("Error creant backup:",a),a}}async function k_(e){let t=await Q_();return new Promise((a,n)=>{let i=t.transaction(["backups"],"readwrite").objectStore("backups"),r=i.add(e);r.onsuccess=async()=>{await J_(i),a()},r.onerror=()=>n(r.error)})}async function J_(e){return new Promise(t=>{let n=e.index("timestamp").openCursor(null,"prev"),l=0,i=[];n.onsuccess=r=>{let o=r.target.result;o?(l++,l>K_&&i.push(o.primaryKey),o.continue()):(i.forEach(s=>e.delete(s)),i.length>0&&ya.debug(`Netejats ${i.length} backups antics`),t())}})}async function aT(e){ya.debug("\u{1F4BE} Creant backup de seguretat abans de migraci\xF3...");let t=await Z_(e,"pre-migration");return ya.debug("\u2705 Backup de seguretat creat"),t}Rt();var se=M.withScope("DataMigration"),$_="migration-v2.0.1-encryption",W_="migration-progress",nT=3,eD=1e3,Rm=class{constructor(){this.migrationKey=$_,this.migrationStatus=null,this.isRunning=!1}async runIfNeeded(){if(this.isRunning)return se.debug("Migraci\xF3 ja en curs, saltant..."),{alreadyRunning:!0};if(await this.isAlreadyMigrated())return se.debug("\u2705 Migraci\xF3 ja completada anteriorment"),{alreadyMigrated:!0};se.debug("\u{1F50D} Comprovant si cal migrar dietes...");try{this.isRunning=!0,await gn()||(se.debug("\u{1F510} Inicialitzant sistema de claus..."),await mn());let t=await ba(),a=t.filter(l=>!uo(l));return a.length===0?(se.debug("\u2705 No hi ha dietes per migrar"),await this.markAsMigrated(),{migrated:0,total:t.length,errors:0}):(se.debug(`\u{1F4CA} Trobades ${a.length} dietes per migrar (de ${t.length} totals)`),await this.migrate(a))}catch(t){throw se.error("\u274C Error en runIfNeeded:",t),t}finally{this.isRunning=!1}}async migrate(t){let a=t.length,n=0,l=0,i=[];try{se.debug("\u{1F4BE} Creant backup de seguretat..."),await aT(t),se.debug("\u2705 Backup de seguretat creat"),this.showMigrationStartNotification(a);let r=await Ca();for(let o=0;o<t.length;o++){let s=t[o];try{let c=await this.migrateSingleDietWithRetry(s,r);c.success?n++:(l++,i.push({dietId:s.id,error:c.error,attempts:c.attempts})),(n%5===0||n===a)&&this.updateMigrationProgress(n,a)}catch(c){se.error(`\u274C Error cr\xEDtic migrant dieta ${s.id}:`,c),l++,i.push({dietId:s.id,error:c.message,attempts:nT})}}return await this.markAsMigrated(),this.showMigrationResult(n,l,a),se.debug(`\u2705 Migraci\xF3 completada: ${n}/${a} (${l} errors)`),{migrated:n,errors:l,total:a,errorDetails:i.length>0?i:void 0}}catch(r){throw se.error("\u274C Error durant la migraci\xF3:",r),this.showMigrationError(r),r}}async migrateSingleDietWithRetry(t,a,n=nT){for(let l=1;l<=n;l++)try{return se.debug(`Intent ${l}/${n} per dieta ${t.id}`),await this.migrateSingleDiet(t,a),se.debug(`\u2705 Dieta ${t.id} migrada (intent ${l})`),{success:!0,attempts:l}}catch(i){if(se.warn(`\u26A0\uFE0F Intent ${l}/${n} fallat per dieta ${t.id}: ${i.message}`),l===n)return se.error(`\u274C Dieta ${t.id} no s'ha pogut migrar despr\xE9s de ${n} intents`),{success:!1,error:i.message,attempts:l};let r=eD*l;se.debug(`\u23F3 Esperant ${r}ms abans de reintentar...`),await new Promise(o=>setTimeout(o,r))}return{success:!1,error:"Unknown error during migration",attempts:n}}async migrateSingleDiet(t,a){try{let n=await fo(t,a),l=await mo(n,a),i=this.extractSensitiveData(t),r=this.extractSensitiveData(l),o=JSON.stringify(i),s=JSON.stringify(r);if(o!==s)throw new Error("Validation failed: data mismatch after decrypt");await Eo(t.id,n),se.debug(`\u2705 Dieta ${t.id} migrada i validada`)}catch(n){throw se.error(`Error migrant dieta ${t.id}:`,n),n}}extractSensitiveData(t){return{person1:t.person1||"",person2:t.person2||"",vehicleNumber:t.vehicleNumber||"",signatureConductor:t.signatureConductor||"",signatureAjudant:t.signatureAjudant||"",services:(t.services||[]).map(a=>({serviceNumber:a.serviceNumber||"",origin:a.origin||"",destination:a.destination||"",notes:a.notes||""}))}}showMigrationStartNotification(t){b(`\u{1F512} Protegint ${t} dietes...`,{duration:2e3,type:"info"})}updateMigrationProgress(t,a){let n=Math.round(t/a*100);se.debug(`\u{1F504} Migraci\xF3: ${t}/${a} (${n}%)`),b(`\u{1F512} Protegint dades... ${t}/${a}`,{duration:1e3,id:W_,type:"info"})}showMigrationResult(t,a,n){a===0?b(`\u2705 ${t} dietes ara estan protegides`,{duration:4e3,type:"success"}):t>0&&a<n?b(`\u26A0\uFE0F ${t}/${n} dietes protegides. ${a} amb errors (es reintentaran autom\xE0ticament)`,{duration:7e3,type:"warning"}):t===0?b("\u274C No s'han pogut migrar les dietes. Proveu recarregar la p\xE0gina.",{duration:8e3,type:"error"}):b(`\u2139\uFE0F ${t} dietes migrades, ${a} amb errors`,{duration:5e3,type:"warning"})}showMigrationError(t){b(`\u274C Error en la migraci\xF3: ${t.message}`,{duration:5e3,type:"error"})}async isAlreadyMigrated(){return localStorage.getItem(this.migrationKey)==="completed"}async markAsMigrated(){localStorage.setItem(this.migrationKey,"completed"),localStorage.setItem(`${this.migrationKey}-date`,new Date().toISOString()),se.debug("\u2705 Migraci\xF3 marcada com a completada")}async resetMigrationStatus(){localStorage.removeItem(this.migrationKey),localStorage.removeItem(`${this.migrationKey}-date`),se.warn("\u26A0\uFE0F Estat de migraci\xF3 resetejat")}getMigrationStatus(){let t=localStorage.getItem(this.migrationKey)==="completed",a=localStorage.getItem(`${this.migrationKey}-date`);return{completed:t,date:a?new Date(a):null,isRunning:this.isRunning}}},lT=new Rm;var tD=M.withScope("KeySystemDebug");async function aD(){console.group("\u{1F510} Diagn\xF2stic del Sistema de Claus");let e=await lg();return console.log("Encriptaci\xF3 suportada:",e.encryptionSupported?"\u2705 S\xED":"\u274C No"),console.log("Sistema inicialitzat:",e.keySystemInitialized?"\u2705 S\xED":"\u274C No"),console.log("Clau wrapped existeix:",e.wrappedKeyExists?"\u2705 S\xED":"\u274C No"),console.log("Clau wrapped v\xE0lida:",e.wrappedKeyValid?"\u2705 S\xED":"\u274C No"),console.log("Device salt existeix:",e.deviceSaltExists?"\u2705 S\xED":"\u274C No"),console.log("Pot desencriptar:",e.canUnwrap?"\u2705 S\xED":"\u274C No"),e.errors.length>0&&(console.group("\u26A0\uFE0F Errors:"),e.errors.forEach(t=>console.error(t)),console.groupEnd()),console.groupEnd(),!e.canUnwrap&&e.wrappedKeyExists&&console.warn(`\u26A0\uFE0F PROBLEMA DETECTAT: Hi ha una clau guardada per\xF2 no es pot desencriptar.
Aix\xF2 pot passar si:
  - Has canviat de navegador o dispositiu
  - Les dades estan corruptes
  - El fingerprint del dispositiu ha canviat

SOLUCI\xD3: Executa fixKeySystem() per resetjar i comen\xE7ar de nou.
ATENCI\xD3: Aix\xF2 eliminar\xE0 totes les dotacions encriptades existents!`),e}async function nD(){if(!confirm(`\u26A0\uFE0F ATENCI\xD3: Aquesta acci\xF3 eliminar\xE0 TOTES les dotacions encriptades.

Les dietes NO es veuran afectades.

Vols continuar?`))return console.log("Operaci\xF3 cancel\xB7lada per l'usuari"),!1;try{return console.log("\u{1F504} Resetejant sistema de claus..."),await go(!0),console.log("\u{1F510} Reinicialitzant sistema..."),await mn(),console.log("\u2705 Sistema de claus resetejat i reinicialitzat correctament"),console.log("\u2139\uFE0F Recarrega la p\xE0gina per aplicar els canvis"),!0}catch(t){return console.error("\u274C Error resetejant sistema:",t),!1}}function iT(){typeof window<"u"&&(window.debugKeySystem=aD,window.fixKeySystem=nD,tD.debug(`\u{1F6E0}\uFE0F Funcions de debug disponibles:
  - debugKeySystem() - Mostra estat del sistema
  - fixKeySystem() - Reseteja sistema de claus`))}var He=M.withScope("Init");function lD(){let e=document.getElementById(X.DONATION_LINK_ID);if(!e)return He.warn("No s'ha trobat l'enlla\xE7 de donaci\xF3.");let t=Hv();try{let a=new URL(e.href);a.searchParams.set("custom",t),e.href=a.toString(),He.info("Enlla\xE7 de donaci\xF3 actualitzat amb ID an\xF2nim.")}catch(a){He.error("Error modificant l'URL de donaci\xF3:",a)}}async function rT(){try{He.info("initializeApp() iniciant...");let e=!0;if(!po())e=!1,Na.setEncryptionSupport(!1,"\u26A0\uFE0F Aquest navegador no permet inicialitzar l'encriptaci\xF3 (IndexedDB o WebCrypto no disponibles). Les dotacions es guardaran sense xifrar."),He.warn("Entorn sense suport d'encriptaci\xF3. Es continua sense xifrar dotacions.",new Error("Unsupported encryption environment"));else try{He.debug("\u{1F510} Inicialitzant sistema de claus..."),await mn(),He.debug("\u2705 Sistema de claus inicialitzat")}catch(a){e=!1;let n=a instanceof Xt&&a.message?`\u26A0\uFE0F ${a.message} Les dotacions es guardaran sense xifrar temporalment.`:"\u26A0\uFE0F No s'ha pogut inicialitzar l'encriptaci\xF3. Les dotacions es guardaran sense xifrar fins que es resolgui el problema.";Na.setEncryptionSupport(!1,n),He.warn("Error inicialitzant sistema de claus (continuant sense encriptaci\xF3):",a)}Eg(),Sg(),await sg(),setTimeout(async()=>{try{He.debug("\u{1F504} Executant migraci\xF3 autom\xE0tica...");let a=await lT.runIfNeeded();He.debug("\u{1F4CA} Resultat migraci\xF3:",a)}catch(a){He.error("Error en migraci\xF3 autom\xE0tica:",a)}},1e3),Qm(),mp(),await Na.init(),Pv(),tT(),yp(),sp(),bp(),_p(),jv(),rp(),Dp(),Op(),Ip(),Cp(),lD(),Lp(),qm(),pp(),Ep(),hp();let t=document.getElementById("service-type");if(t){let a=localStorage.getItem(xm.USER_SELECTED_SERVICE_TYPE);(a==="TSU"||a==="TSNU")&&(t.value=a,He.debug(`[LocalStorage] Carregat tipus de servei: ${a}`)),Wn(t.value)}al(),yg(),Fv(),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&(iT(),He.debug("\u{1F6E0}\uFE0F Funcions de debug exposades (mode development)")),He.info("initializeApp() completada.")}catch(e){He.error("Error en la inicialitzaci\xF3 de l'app:",e)}}if(typeof console<"u"){let e=console.warn;console.warn=function(...t){let a=t[0];typeof a=="string"&&a.includes("Ignored attempt to cancel a touchmove event")||e.apply(console,t)}}window.getOCRFeedbackManager=Qr;window.createOCRFeedbackManager=hm;window.destroyOCRFeedbackManager=_v;async function oT(){try{document.body.classList.add("app-ready"),document.body.classList.remove("no-js"),await rT(),_g()}catch{window.location.reload()}}function iD(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",oT,{once:!0}):oT()}iD();
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
