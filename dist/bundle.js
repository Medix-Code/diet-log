(()=>{var Qp=Object.create;var zf=Object.defineProperty;var Kp=Object.getOwnPropertyDescriptor;var Zp=Object.getOwnPropertyNames;var Fp=Object.getPrototypeOf,Jp=Object.prototype.hasOwnProperty;var da=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var kp=(e,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of Zp(t))!Jp.call(e,l)&&l!==a&&zf(e,l,{get:()=>t[l],enumerable:!(n=Kp(t,l))||n.enumerable});return e};var ai=(e,t,a)=>(a=e!=null?Qp(Fp(e)):{},kp(t||!e||!e.__esModule?zf(a,"default",{value:e,enumerable:!0}):a,e));var Ug=da(O=>{"use strict";var zr=Symbol.for("react.transitional.element"),dy=Symbol.for("react.portal"),fy=Symbol.for("react.fragment"),my=Symbol.for("react.strict_mode"),gy=Symbol.for("react.profiler"),Ey=Symbol.for("react.consumer"),Sy=Symbol.for("react.context"),hy=Symbol.for("react.forward_ref"),vy=Symbol.for("react.suspense"),py=Symbol.for("react.memo"),Ng=Symbol.for("react.lazy"),Ty=Symbol.for("react.activity"),_g=Symbol.iterator;function yy(e){return e===null||typeof e!="object"?null:(e=_g&&e[_g]||e["@@iterator"],typeof e=="function"?e:null)}var Lg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mg=Object.assign,Rg={};function $n(e,t,a){this.props=e,this.context=t,this.refs=Rg,this.updater=a||Lg}$n.prototype.isReactComponent={};$n.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bg(){}Bg.prototype=$n.prototype;function Hr(e,t,a){this.props=e,this.context=t,this.refs=Rg,this.updater=a||Lg}var Vr=Hr.prototype=new Bg;Vr.constructor=Hr;Mg(Vr,$n.prototype);Vr.isPureReactComponent=!0;var bg=Array.isArray;function xr(){}var Z={H:null,A:null,T:null,S:null},Ig=Object.prototype.hasOwnProperty;function Gr(e,t,a){var n=a.ref;return{$$typeof:zr,type:e,key:t,ref:n!==void 0?n:null,props:a}}function Ay(e,t){return Gr(e.type,t,e.props)}function wr(e){return typeof e=="object"&&e!==null&&e.$$typeof===zr}function Cy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var Dg=/\/+/g;function Ur(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cy(""+e.key):t.toString(36)}function _y(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(xr,xr):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function kn(e,t,a,n,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zr:case dy:o=!0;break;case Ng:return o=e._init,kn(o(e._payload),t,a,n,l)}}if(o)return l=l(e),o=n===""?"."+Ur(e,0):n,bg(l)?(a="",o!=null&&(a=o.replace(Dg,"$&/")+"/"),kn(l,t,a,"",function(r){return r})):l!=null&&(wr(l)&&(l=Ay(l,a+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(Dg,"$&/")+"/")+o)),t.push(l)),1;o=0;var u=n===""?".":n+":";if(bg(e))for(var s=0;s<e.length;s++)n=e[s],i=u+Ur(n,s),o+=kn(n,t,a,i,l);else if(s=yy(e),typeof s=="function")for(e=s.call(e),s=0;!(n=e.next()).done;)n=n.value,i=u+Ur(n,s++),o+=kn(n,t,a,i,l);else if(i==="object"){if(typeof e.then=="function")return kn(_y(e),t,a,n,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function ou(e,t,a){if(e==null)return e;var n=[],l=0;return kn(e,n,"","",function(i){return t.call(a,i,l++)}),n}function by(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Og=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dy={map:ou,forEach:function(e,t,a){ou(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return ou(e,function(){t++}),t},toArray:function(e){return ou(e,function(t){return t})||[]},only:function(e){if(!wr(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};O.Activity=Ty;O.Children=Dy;O.Component=$n;O.Fragment=fy;O.Profiler=gy;O.PureComponent=Hr;O.StrictMode=my;O.Suspense=vy;O.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z;O.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Z.H.useMemoCache(e)}};O.cache=function(e){return function(){return e.apply(null,arguments)}};O.cacheSignal=function(){return null};O.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=Mg({},e.props),l=e.key;if(t!=null)for(i in t.key!==void 0&&(l=""+t.key),t)!Ig.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var o=Array(i),u=0;u<i;u++)o[u]=arguments[u+2];n.children=o}return Gr(e.type,l,n)};O.createContext=function(e){return e={$$typeof:Sy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Ey,_context:e},e};O.createElement=function(e,t,a){var n,l={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)Ig.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(l[n]=t[n]);var o=arguments.length-2;if(o===1)l.children=a;else if(1<o){for(var u=Array(o),s=0;s<o;s++)u[s]=arguments[s+2];l.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)l[n]===void 0&&(l[n]=o[n]);return Gr(e,i,l)};O.createRef=function(){return{current:null}};O.forwardRef=function(e){return{$$typeof:hy,render:e}};O.isValidElement=wr;O.lazy=function(e){return{$$typeof:Ng,_payload:{_status:-1,_result:e},_init:by}};O.memo=function(e,t){return{$$typeof:py,type:e,compare:t===void 0?null:t}};O.startTransition=function(e){var t=Z.T,a={};Z.T=a;try{var n=e(),l=Z.S;l!==null&&l(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(xr,Og)}catch(i){Og(i)}finally{t!==null&&a.types!==null&&(t.types=a.types),Z.T=t}};O.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()};O.use=function(e){return Z.H.use(e)};O.useActionState=function(e,t,a){return Z.H.useActionState(e,t,a)};O.useCallback=function(e,t){return Z.H.useCallback(e,t)};O.useContext=function(e){return Z.H.useContext(e)};O.useDebugValue=function(){};O.useDeferredValue=function(e,t){return Z.H.useDeferredValue(e,t)};O.useEffect=function(e,t){return Z.H.useEffect(e,t)};O.useEffectEvent=function(e){return Z.H.useEffectEvent(e)};O.useId=function(){return Z.H.useId()};O.useImperativeHandle=function(e,t,a){return Z.H.useImperativeHandle(e,t,a)};O.useInsertionEffect=function(e,t){return Z.H.useInsertionEffect(e,t)};O.useLayoutEffect=function(e,t){return Z.H.useLayoutEffect(e,t)};O.useMemo=function(e,t){return Z.H.useMemo(e,t)};O.useOptimistic=function(e,t){return Z.H.useOptimistic(e,t)};O.useReducer=function(e,t,a){return Z.H.useReducer(e,t,a)};O.useRef=function(e){return Z.H.useRef(e)};O.useState=function(e){return Z.H.useState(e)};O.useSyncExternalStore=function(e,t,a){return Z.H.useSyncExternalStore(e,t,a)};O.useTransition=function(){return Z.H.useTransition()};O.version="19.2.0"});var Wn=da((jb,xg)=>{"use strict";xg.exports=Ug()});var jg=da(W=>{"use strict";function Xr(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,l=e[n];if(0<uu(l,t))e[n]=t,e[a]=l,a=n;else break e}}function Dt(e){return e.length===0?null:e[0]}function ru(e){if(e.length===0)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,l=e.length,i=l>>>1;n<i;){var o=2*(n+1)-1,u=e[o],s=o+1,r=e[s];if(0>uu(u,a))s<l&&0>uu(r,u)?(e[n]=r,e[s]=a,n=s):(e[n]=u,e[o]=a,n=o);else if(s<l&&0>uu(r,a))e[n]=r,e[s]=a,n=s;else break e}}return t}function uu(e,t){var a=e.sortIndex-t.sortIndex;return a!==0?a:e.id-t.id}W.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(zg=performance,W.unstable_now=function(){return zg.now()}):(Pr=Date,Hg=Pr.now(),W.unstable_now=function(){return Pr.now()-Hg});var zg,Pr,Hg,Xt=[],ya=[],Oy=1,it=null,Le=3,jr=!1,Ai=!1,Ci=!1,Qr=!1,wg=typeof setTimeout=="function"?setTimeout:null,Pg=typeof clearTimeout=="function"?clearTimeout:null,Vg=typeof setImmediate<"u"?setImmediate:null;function su(e){for(var t=Dt(ya);t!==null;){if(t.callback===null)ru(ya);else if(t.startTime<=e)ru(ya),t.sortIndex=t.expirationTime,Xr(Xt,t);else break;t=Dt(ya)}}function Kr(e){if(Ci=!1,su(e),!Ai)if(Dt(Xt)!==null)Ai=!0,tl||(tl=!0,el());else{var t=Dt(ya);t!==null&&Zr(Kr,t.startTime-e)}}var tl=!1,_i=-1,qg=5,Yg=-1;function Xg(){return Qr?!0:!(W.unstable_now()-Yg<qg)}function qr(){if(Qr=!1,tl){var e=W.unstable_now();Yg=e;var t=!0;try{e:{Ai=!1,Ci&&(Ci=!1,Pg(_i),_i=-1),jr=!0;var a=Le;try{t:{for(su(e),it=Dt(Xt);it!==null&&!(it.expirationTime>e&&Xg());){var n=it.callback;if(typeof n=="function"){it.callback=null,Le=it.priorityLevel;var l=n(it.expirationTime<=e);if(e=W.unstable_now(),typeof l=="function"){it.callback=l,su(e),t=!0;break t}it===Dt(Xt)&&ru(Xt),su(e)}else ru(Xt);it=Dt(Xt)}if(it!==null)t=!0;else{var i=Dt(ya);i!==null&&Zr(Kr,i.startTime-e),t=!1}}break e}finally{it=null,Le=a,jr=!1}t=void 0}}finally{t?el():tl=!1}}}var el;typeof Vg=="function"?el=function(){Vg(qr)}:typeof MessageChannel<"u"?(Yr=new MessageChannel,Gg=Yr.port2,Yr.port1.onmessage=qr,el=function(){Gg.postMessage(null)}):el=function(){wg(qr,0)};var Yr,Gg;function Zr(e,t){_i=wg(function(){e(W.unstable_now())},t)}W.unstable_IdlePriority=5;W.unstable_ImmediatePriority=1;W.unstable_LowPriority=4;W.unstable_NormalPriority=3;W.unstable_Profiling=null;W.unstable_UserBlockingPriority=2;W.unstable_cancelCallback=function(e){e.callback=null};W.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qg=0<e?Math.floor(1e3/e):5};W.unstable_getCurrentPriorityLevel=function(){return Le};W.unstable_next=function(e){switch(Le){case 1:case 2:case 3:var t=3;break;default:t=Le}var a=Le;Le=t;try{return e()}finally{Le=a}};W.unstable_requestPaint=function(){Qr=!0};W.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=Le;Le=e;try{return t()}finally{Le=a}};W.unstable_scheduleCallback=function(e,t,a){var n=W.unstable_now();switch(typeof a=="object"&&a!==null?(a=a.delay,a=typeof a=="number"&&0<a?n+a:n):a=n,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=a+l,e={id:Oy++,callback:t,priorityLevel:e,startTime:a,expirationTime:l,sortIndex:-1},a>n?(e.sortIndex=a,Xr(ya,e),Dt(Xt)===null&&e===Dt(ya)&&(Ci?(Pg(_i),_i=-1):Ci=!0,Zr(Kr,a-n))):(e.sortIndex=l,Xr(Xt,e),Ai||jr||(Ai=!0,tl||(tl=!0,el()))),e};W.unstable_shouldYield=Xg;W.unstable_wrapCallback=function(e){var t=Le;return function(){var a=Le;Le=t;try{return e.apply(this,arguments)}finally{Le=a}}}});var Kg=da((Kb,Qg)=>{"use strict";Qg.exports=jg()});var Fg=da(Ie=>{"use strict";var Ny=Wn();function Zg(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Aa(){}var Be={d:{f:Aa,r:function(){throw Error(Zg(522))},D:Aa,C:Aa,L:Aa,m:Aa,X:Aa,S:Aa,M:Aa},p:0,findDOMNode:null},Ly=Symbol.for("react.portal");function My(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ly,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var bi=Ny.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function cu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ie.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Be;Ie.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Zg(299));return My(e,t,null,a)};Ie.flushSync=function(e){var t=bi.T,a=Be.p;try{if(bi.T=null,Be.p=2,e)return e()}finally{bi.T=t,Be.p=a,Be.d.f()}};Ie.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Be.d.C(e,t))};Ie.prefetchDNS=function(e){typeof e=="string"&&Be.d.D(e)};Ie.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=cu(a,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?Be.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:l,fetchPriority:i}):a==="script"&&Be.d.X(e,{crossOrigin:n,integrity:l,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ie.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=cu(t.as,t.crossOrigin);Be.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Be.d.M(e)};Ie.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=cu(a,t.crossOrigin);Be.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ie.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=cu(t.as,t.crossOrigin);Be.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Be.d.m(e)};Ie.requestFormReset=function(e){Be.d.r(e)};Ie.unstable_batchedUpdates=function(e,t){return e(t)};Ie.useFormState=function(e,t,a){return bi.H.useFormState(e,t,a)};Ie.useFormStatus=function(){return bi.H.useHostTransitionStatus()};Ie.version="19.2.0"});var $g=da((Fb,kg)=>{"use strict";function Jg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jg)}catch(e){console.error(e)}}Jg(),kg.exports=Fg()});var cp=da(xs=>{"use strict";var he=Kg(),_S=Wn(),Ry=$g();function v(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function bS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fo(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function DS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function OS(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wg(e){if(fo(e)!==e)throw Error(v(188))}function By(e){var t=e.alternate;if(!t){if(t=fo(e),t===null)throw Error(v(188));return t!==e?null:e}for(var a=e,n=t;;){var l=a.return;if(l===null)break;var i=l.alternate;if(i===null){if(n=l.return,n!==null){a=n;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===a)return Wg(l),e;if(i===n)return Wg(l),t;i=i.sibling}throw Error(v(188))}if(a.return!==n.return)a=l,n=i;else{for(var o=!1,u=l.child;u;){if(u===a){o=!0,a=l,n=i;break}if(u===n){o=!0,n=l,a=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===a){o=!0,a=i,n=l;break}if(u===n){o=!0,n=i,a=l;break}u=u.sibling}if(!o)throw Error(v(189))}}if(a.alternate!==n)throw Error(v(190))}if(a.tag!==3)throw Error(v(188));return a.stateNode.current===a?e:t}function NS(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=NS(e),t!==null)return t;e=e.sibling}return null}var k=Object.assign,Iy=Symbol.for("react.element"),du=Symbol.for("react.transitional.element"),Ii=Symbol.for("react.portal"),ul=Symbol.for("react.fragment"),LS=Symbol.for("react.strict_mode"),Nc=Symbol.for("react.profiler"),MS=Symbol.for("react.consumer"),$t=Symbol.for("react.context"),Cd=Symbol.for("react.forward_ref"),Lc=Symbol.for("react.suspense"),Mc=Symbol.for("react.suspense_list"),_d=Symbol.for("react.memo"),Ca=Symbol.for("react.lazy");Symbol.for("react.scope");var Rc=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var Uy=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var eE=Symbol.iterator;function Di(e){return e===null||typeof e!="object"?null:(e=eE&&e[eE]||e["@@iterator"],typeof e=="function"?e:null)}var xy=Symbol.for("react.client.reference");function Bc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xy?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ul:return"Fragment";case Nc:return"Profiler";case LS:return"StrictMode";case Lc:return"Suspense";case Mc:return"SuspenseList";case Rc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ii:return"Portal";case $t:return e.displayName||"Context";case MS:return(e._context.displayName||"Context")+".Consumer";case Cd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _d:return t=e.displayName||null,t!==null?t:Bc(e.type)||"Memo";case Ca:t=e._payload,e=e._init;try{return Bc(e(t))}catch{}}return null}var Ui=Array.isArray,b=_S.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=Ry.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fn={pending:!1,data:null,method:null,action:null},Ic=[],sl=-1;function Rt(e){return{current:e}}function ye(e){0>sl||(e.current=Ic[sl],Ic[sl]=null,sl--)}function K(e,t){sl++,Ic[sl]=e.current,e.current=t}var Mt=Rt(null),ki=Rt(null),Ua=Rt(null),Xu=Rt(null);function ju(e,t){switch(K(Ua,t),K(ki,e),K(Mt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?uS(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=uS(t),e=Jv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ye(Mt),K(Mt,e)}function Dl(){ye(Mt),ye(ki),ye(Ua)}function Uc(e){e.memoizedState!==null&&K(Xu,e);var t=Mt.current,a=Jv(t,e.type);t!==a&&(K(ki,e),K(Mt,a))}function Qu(e){ki.current===e&&(ye(Mt),ye(ki)),Xu.current===e&&(ye(Xu),so._currentValue=fn)}var Fr,tE;function sn(e){if(Fr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Fr=t&&t[1]||"",tE=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+e+tE}var Jr=!1;function kr(e,t){if(!e||Jr)return"";Jr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(E){var f=E}Reflect.construct(e,[],g)}else{try{g.call()}catch(E){f=E}e.call(g.prototype)}}else{try{throw Error()}catch(E){f=E}(g=e())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(E){if(E&&f&&typeof E.stack=="string")return[E.stack,f.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],u=i[1];if(o&&u){var s=o.split(`
`),r=u.split(`
`);for(l=n=0;n<s.length&&!s[n].includes("DetermineComponentFrameRoot");)n++;for(;l<r.length&&!r[l].includes("DetermineComponentFrameRoot");)l++;if(n===s.length||l===r.length)for(n=s.length-1,l=r.length-1;1<=n&&0<=l&&s[n]!==r[l];)l--;for(;1<=n&&0<=l;n--,l--)if(s[n]!==r[l]){if(n!==1||l!==1)do if(n--,l--,0>l||s[n]!==r[l]){var c=`
`+s[n].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=n&&0<=l);break}}}finally{Jr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?sn(a):""}function zy(e,t){switch(e.tag){case 26:case 27:case 5:return sn(e.type);case 16:return sn("Lazy");case 13:return e.child!==t&&t!==null?sn("Suspense Fallback"):sn("Suspense");case 19:return sn("SuspenseList");case 0:case 15:return kr(e.type,!1);case 11:return kr(e.type.render,!1);case 1:return kr(e.type,!0);case 31:return sn("Activity");default:return""}}function aE(e){try{var t="",a=null;do t+=zy(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var xc=Object.prototype.hasOwnProperty,bd=he.unstable_scheduleCallback,$r=he.unstable_cancelCallback,Hy=he.unstable_shouldYield,Vy=he.unstable_requestPaint,Fe=he.unstable_now,Gy=he.unstable_getCurrentPriorityLevel,RS=he.unstable_ImmediatePriority,BS=he.unstable_UserBlockingPriority,Ku=he.unstable_NormalPriority,wy=he.unstable_LowPriority,IS=he.unstable_IdlePriority,Py=he.log,qy=he.unstable_setDisableYieldValue,mo=null,Je=null;function La(e){if(typeof Py=="function"&&qy(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(mo,e)}catch{}}var ke=Math.clz32?Math.clz32:jy,Yy=Math.log,Xy=Math.LN2;function jy(e){return e>>>=0,e===0?32:31-(Yy(e)/Xy|0)|0}var fu=256,mu=262144,gu=4194304;function rn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ps(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var l=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var u=n&134217727;return u!==0?(n=u&~i,n!==0?l=rn(n):(o&=u,o!==0?l=rn(o):a||(a=u&~e,a!==0&&(l=rn(a))))):(u=n&~i,u!==0?l=rn(u):o!==0?l=rn(o):a||(a=n&~e,a!==0&&(l=rn(a)))),l===0?0:t!==0&&t!==l&&(t&i)===0&&(i=l&-l,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:l}function go(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Qy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function US(){var e=gu;return gu<<=1,(gu&62914560)===0&&(gu=4194304),e}function Wr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Eo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ky(e,t,a,n,l,i){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var u=e.entanglements,s=e.expirationTimes,r=e.hiddenUpdates;for(a=o&~a;0<a;){var c=31-ke(a),g=1<<c;u[c]=0,s[c]=-1;var f=r[c];if(f!==null)for(r[c]=null,c=0;c<f.length;c++){var E=f[c];E!==null&&(E.lane&=-536870913)}a&=~g}n!==0&&xS(e,n,0),i!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function xS(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ke(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function zS(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-ke(a),l=1<<n;l&t|e[n]&t&&(e[n]|=t),a&=~l}}function HS(e,t){var a=t&-t;return a=(a&42)!==0?1:Dd(a),(a&(e.suspendedLanes|t))!==0?0:a}function Dd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Od(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function VS(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:up(e.type))}function nE(e,t){var a=G.p;try{return G.p=e,t()}finally{G.p=a}}var Ka=Math.random().toString(36).slice(2),_e="__reactFiber$"+Ka,qe="__reactProps$"+Ka,Hl="__reactContainer$"+Ka,zc="__reactEvents$"+Ka,Zy="__reactListeners$"+Ka,Fy="__reactHandles$"+Ka,lE="__reactResources$"+Ka,So="__reactMarker$"+Ka;function Nd(e){delete e[_e],delete e[qe],delete e[zc],delete e[Zy],delete e[Fy]}function rl(e){var t=e[_e];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Hl]||a[_e]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=fS(e);e!==null;){if(a=e[_e])return a;e=fS(e)}return t}e=a,a=e.parentNode}return null}function Vl(e){if(e=e[_e]||e[Hl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function xi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(v(33))}function pl(e){var t=e[lE];return t||(t=e[lE]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Te(e){e[So]=!0}var GS=new Set,wS={};function An(e,t){Ol(e,t),Ol(e+"Capture",t)}function Ol(e,t){for(wS[e]=t,e=0;e<t.length;e++)GS.add(t[e])}var Jy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),iE={},oE={};function ky(e){return xc.call(oE,e)?!0:xc.call(iE,e)?!1:Jy.test(e)?oE[e]=!0:(iE[e]=!0,!1)}function Lu(e,t,a){if(ky(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Eu(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function jt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $y(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hc(e){if(!e._valueTracker){var t=PS(e)?"checked":"value";e._valueTracker=$y(e,t,""+e[t])}}function qS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=PS(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Zu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wy=/[\n"\\]/g;function ct(e){return e.replace(Wy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vc(e,t,a,n,l,i,o,u){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Gc(e,o,ut(t)):a!=null?Gc(e,o,ut(a)):n!=null&&e.removeAttribute("value"),l==null&&i!=null&&(e.defaultChecked=!!i),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+ut(u):e.removeAttribute("name")}function YS(e,t,a,n,l,i,o,u){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Hc(e);return}a=a!=null?""+ut(a):"",t=t!=null?""+ut(t):a,u||t===e.value||(e.value=t),e.defaultValue=t}n=n??l,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=u?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),Hc(e)}function Gc(e,t,a){t==="number"&&Zu(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Tl(e,t,a,n){if(e=e.options,t){t={};for(var l=0;l<a.length;l++)t["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=t.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&n&&(e[a].defaultSelected=!0)}else{for(a=""+ut(a),t=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function XS(e,t,a){if(t!=null&&(t=""+ut(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ut(a):""}function jS(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(v(92));if(Ui(n)){if(1<n.length)throw Error(v(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=ut(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Hc(e)}function Nl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var eA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uE(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||eA.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function QS(e,t,a){if(t!=null&&typeof t!="object")throw Error(v(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var l in t)n=t[l],t.hasOwnProperty(l)&&a[l]!==n&&uE(e,l,n)}else for(var i in t)t.hasOwnProperty(i)&&uE(e,i,t[i])}function Ld(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mu(e){return aA.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wt(){}var wc=null;function Md(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cl=null,yl=null;function sE(e){var t=Vl(e);if(t&&(e=t.stateNode)){var a=e[qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ct(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var l=n[qe]||null;if(!l)throw Error(v(90));Vc(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&qS(n)}break e;case"textarea":XS(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Tl(e,!!a.multiple,t,!1)}}}var ec=!1;function KS(e,t,a){if(ec)return e(t,a);ec=!0;try{var n=e(t);return n}finally{if(ec=!1,(cl!==null||yl!==null)&&(Rs(),cl&&(t=cl,e=yl,yl=cl=null,sE(t),e)))for(t=0;t<e.length;t++)sE(e[t])}}function $i(e,t){var a=e.stateNode;if(a===null)return null;var n=a[qe]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(v(231,t,typeof a));return a}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=!1;if(la)try{al={},Object.defineProperty(al,"passive",{get:function(){Pc=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{Pc=!1}var al,Ma=null,Rd=null,Ru=null;function ZS(){if(Ru)return Ru;var e,t=Rd,a=t.length,n,l="value"in Ma?Ma.value:Ma.textContent,i=l.length;for(e=0;e<a&&t[e]===l[e];e++);var o=a-e;for(n=1;n<=o&&t[a-n]===l[i-n];n++);return Ru=l.slice(e,1<n?1-n:void 0)}function Bu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Su(){return!0}function rE(){return!1}function Ye(e){function t(a,n,l,i,o){this._reactName=a,this._targetInst=l,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(a=e[u],this[u]=a?a(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Su:rE,this.isPropagationStopped=rE,this}return k(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),t}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=Ye(Cn),ho=k({},Cn,{view:0,detail:0}),nA=Ye(ho),tc,ac,Oi,ys=k({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oi&&(Oi&&e.type==="mousemove"?(tc=e.screenX-Oi.screenX,ac=e.screenY-Oi.screenY):ac=tc=0,Oi=e),tc)},movementY:function(e){return"movementY"in e?e.movementY:ac}}),cE=Ye(ys),lA=k({},ys,{dataTransfer:0}),iA=Ye(lA),oA=k({},ho,{relatedTarget:0}),nc=Ye(oA),uA=k({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),sA=Ye(uA),rA=k({},Cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cA=Ye(rA),dA=k({},Cn,{data:0}),dE=Ye(dA),fA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gA[e])?!!t[e]:!1}function Bd(){return EA}var SA=k({},ho,{key:function(e){if(e.key){var t=fA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bd,charCode:function(e){return e.type==="keypress"?Bu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hA=Ye(SA),vA=k({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fE=Ye(vA),pA=k({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bd}),TA=Ye(pA),yA=k({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),AA=Ye(yA),CA=k({},ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_A=Ye(CA),bA=k({},Cn,{newState:0,oldState:0}),DA=Ye(bA),OA=[9,13,27,32],Id=la&&"CompositionEvent"in window,Vi=null;la&&"documentMode"in document&&(Vi=document.documentMode);var NA=la&&"TextEvent"in window&&!Vi,FS=la&&(!Id||Vi&&8<Vi&&11>=Vi),mE=" ",gE=!1;function JS(e,t){switch(e){case"keyup":return OA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dl=!1;function LA(e,t){switch(e){case"compositionend":return kS(t);case"keypress":return t.which!==32?null:(gE=!0,mE);case"textInput":return e=t.data,e===mE&&gE?null:e;default:return null}}function MA(e,t){if(dl)return e==="compositionend"||!Id&&JS(e,t)?(e=ZS(),Ru=Rd=Ma=null,dl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return FS&&t.locale!=="ko"?null:t.data;default:return null}}var RA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RA[e.type]:t==="textarea"}function $S(e,t,a,n){cl?yl?yl.push(n):yl=[n]:cl=n,t=fs(t,"onChange"),0<t.length&&(a=new Ts("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Gi=null,Wi=null;function BA(e){Kv(e,0)}function As(e){var t=xi(e);if(qS(t))return e}function SE(e,t){if(e==="change")return t}var WS=!1;la&&(la?(vu="oninput"in document,vu||(lc=document.createElement("div"),lc.setAttribute("oninput","return;"),vu=typeof lc.oninput=="function"),hu=vu):hu=!1,WS=hu&&(!document.documentMode||9<document.documentMode));var hu,vu,lc;function hE(){Gi&&(Gi.detachEvent("onpropertychange",eh),Wi=Gi=null)}function eh(e){if(e.propertyName==="value"&&As(Wi)){var t=[];$S(t,Wi,e,Md(e)),KS(BA,t)}}function IA(e,t,a){e==="focusin"?(hE(),Gi=t,Wi=a,Gi.attachEvent("onpropertychange",eh)):e==="focusout"&&hE()}function UA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return As(Wi)}function xA(e,t){if(e==="click")return As(t)}function zA(e,t){if(e==="input"||e==="change")return As(t)}function HA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var We=typeof Object.is=="function"?Object.is:HA;function eo(e,t){if(We(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var l=a[n];if(!xc.call(t,l)||!We(e[l],t[l]))return!1}return!0}function vE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pE(e,t){var a=vE(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vE(a)}}function th(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?th(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ah(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zu(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Zu(e.document)}return t}function Ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var VA=la&&"documentMode"in document&&11>=document.documentMode,fl=null,qc=null,wi=null,Yc=!1;function TE(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yc||fl==null||fl!==Zu(n)||(n=fl,"selectionStart"in n&&Ud(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wi&&eo(wi,n)||(wi=n,n=fs(qc,"onSelect"),0<n.length&&(t=new Ts("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=fl)))}function un(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ml={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionrun:un("Transition","TransitionRun"),transitionstart:un("Transition","TransitionStart"),transitioncancel:un("Transition","TransitionCancel"),transitionend:un("Transition","TransitionEnd")},ic={},nh={};la&&(nh=document.createElement("div").style,"AnimationEvent"in window||(delete ml.animationend.animation,delete ml.animationiteration.animation,delete ml.animationstart.animation),"TransitionEvent"in window||delete ml.transitionend.transition);function _n(e){if(ic[e])return ic[e];if(!ml[e])return e;var t=ml[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in nh)return ic[e]=t[a];return e}var lh=_n("animationend"),ih=_n("animationiteration"),oh=_n("animationstart"),GA=_n("transitionrun"),wA=_n("transitionstart"),PA=_n("transitioncancel"),uh=_n("transitionend"),sh=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function Ct(e,t){sh.set(e,t),An(t,[e])}var Fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ot=[],gl=0,xd=0;function Cs(){for(var e=gl,t=xd=gl=0;t<e;){var a=ot[t];ot[t++]=null;var n=ot[t];ot[t++]=null;var l=ot[t];ot[t++]=null;var i=ot[t];if(ot[t++]=null,n!==null&&l!==null){var o=n.pending;o===null?l.next=l:(l.next=o.next,o.next=l),n.pending=l}i!==0&&rh(a,l,i)}}function _s(e,t,a,n){ot[gl++]=e,ot[gl++]=t,ot[gl++]=a,ot[gl++]=n,xd|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function zd(e,t,a,n){return _s(e,t,a,n),Ju(e)}function bn(e,t){return _s(e,null,null,t),Ju(e)}function rh(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var l=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(l=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,l&&t!==null&&(l=31-ke(a),e=i.hiddenUpdates,n=e[l],n===null?e[l]=[t]:n.push(t),t.lane=a|536870912),i):null}function Ju(e){if(50<Fi)throw Fi=0,dd=null,Error(v(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var El={};function qA(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,a,n){return new qA(e,t,a,n)}function Hd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ta(e,t){var a=e.alternate;return a===null?(a=Ke(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ch(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Iu(e,t,a,n,l,i){var o=0;if(n=e,typeof e=="function")Hd(e)&&(o=1);else if(typeof e=="string")o=j0(e,a,Mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Rc:return e=Ke(31,a,t,l),e.elementType=Rc,e.lanes=i,e;case ul:return mn(a.children,l,i,t);case LS:o=8,l|=24;break;case Nc:return e=Ke(12,a,t,l|2),e.elementType=Nc,e.lanes=i,e;case Lc:return e=Ke(13,a,t,l),e.elementType=Lc,e.lanes=i,e;case Mc:return e=Ke(19,a,t,l),e.elementType=Mc,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $t:o=10;break e;case MS:o=9;break e;case Cd:o=11;break e;case _d:o=14;break e;case Ca:o=16,n=null;break e}o=29,a=Error(v(130,e===null?"null":typeof e,"")),n=null}return t=Ke(o,a,t,l),t.elementType=e,t.type=n,t.lanes=i,t}function mn(e,t,a,n){return e=Ke(7,e,n,t),e.lanes=a,e}function oc(e,t,a){return e=Ke(6,e,null,t),e.lanes=a,e}function dh(e){var t=Ke(18,null,null,0);return t.stateNode=e,t}function uc(e,t,a){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var yE=new WeakMap;function dt(e,t){if(typeof e=="object"&&e!==null){var a=yE.get(e);return a!==void 0?a:(t={value:e,source:t,stack:aE(t)},yE.set(e,t),t)}return{value:e,source:t,stack:aE(t)}}var Sl=[],hl=0,ku=null,to=0,st=[],rt=0,Ya=null,Ot=1,Nt="";function Jt(e,t){Sl[hl++]=to,Sl[hl++]=ku,ku=e,to=t}function fh(e,t,a){st[rt++]=Ot,st[rt++]=Nt,st[rt++]=Ya,Ya=e;var n=Ot;e=Nt;var l=32-ke(n)-1;n&=~(1<<l),a+=1;var i=32-ke(t)+l;if(30<i){var o=l-l%5;i=(n&(1<<o)-1).toString(32),n>>=o,l-=o,Ot=1<<32-ke(t)+l|a<<l|n,Nt=i+e}else Ot=1<<i|a<<l|n,Nt=e}function Vd(e){e.return!==null&&(Jt(e,1),fh(e,1,0))}function Gd(e){for(;e===ku;)ku=Sl[--hl],Sl[hl]=null,to=Sl[--hl],Sl[hl]=null;for(;e===Ya;)Ya=st[--rt],st[rt]=null,Nt=st[--rt],st[rt]=null,Ot=st[--rt],st[rt]=null}function mh(e,t){st[rt++]=Ot,st[rt++]=Nt,st[rt++]=Ya,Ot=t.id,Nt=t.overflow,Ya=e}var be=null,J=null,z=!1,xa=null,ft=!1,jc=Error(v(519));function Xa(e){var t=Error(v(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ao(dt(t,e)),jc}function AE(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[_e]=e,t[qe]=n,a){case"dialog":M("cancel",t),M("close",t);break;case"iframe":case"object":case"embed":M("load",t);break;case"video":case"audio":for(a=0;a<oo.length;a++)M(oo[a],t);break;case"source":M("error",t);break;case"img":case"image":case"link":M("error",t),M("load",t);break;case"details":M("toggle",t);break;case"input":M("invalid",t),YS(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":M("invalid",t);break;case"textarea":M("invalid",t),jS(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Fv(t.textContent,a)?(n.popover!=null&&(M("beforetoggle",t),M("toggle",t)),n.onScroll!=null&&M("scroll",t),n.onScrollEnd!=null&&M("scrollend",t),n.onClick!=null&&(t.onclick=Wt),t=!0):t=!1,t||Xa(e,!0)}function CE(e){for(be=e.return;be;)switch(be.tag){case 5:case 31:case 13:ft=!1;return;case 27:case 3:ft=!0;return;default:be=be.return}}function nl(e){if(e!==be)return!1;if(!z)return CE(e),z=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Sd(e.type,e.memoizedProps)),a=!a),a&&J&&Xa(e),CE(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(317));J=dS(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(317));J=dS(e)}else t===27?(t=J,Za(e.type)?(e=Td,Td=null,J=e):J=t):J=be?gt(e.stateNode.nextSibling):null;return!0}function hn(){J=be=null,z=!1}function sc(){var e=xa;return e!==null&&(we===null?we=e:we.push.apply(we,e),xa=null),e}function ao(e){xa===null?xa=[e]:xa.push(e)}var Qc=Rt(null),Dn=null,ea=null;function ba(e,t,a){K(Qc,t._currentValue),t._currentValue=a}function aa(e){e._currentValue=Qc.current,ye(Qc)}function Kc(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Zc(e,t,a,n){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var i=l.dependencies;if(i!==null){var o=l.child;i=i.firstContext;e:for(;i!==null;){var u=i;i=l;for(var s=0;s<t.length;s++)if(u.context===t[s]){i.lanes|=a,u=i.alternate,u!==null&&(u.lanes|=a),Kc(i.return,a,e),n||(o=null);break e}i=u.next}}else if(l.tag===18){if(o=l.return,o===null)throw Error(v(341));o.lanes|=a,i=o.alternate,i!==null&&(i.lanes|=a),Kc(o,a,e),o=null}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===e){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}}function Gl(e,t,a,n){e=null;for(var l=t,i=!1;l!==null;){if(!i){if((l.flags&524288)!==0)i=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var o=l.alternate;if(o===null)throw Error(v(387));if(o=o.memoizedProps,o!==null){var u=l.type;We(l.pendingProps.value,o.value)||(e!==null?e.push(u):e=[u])}}else if(l===Xu.current){if(o=l.alternate,o===null)throw Error(v(387));o.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(so):e=[so])}l=l.return}e!==null&&Zc(t,e,a,n),t.flags|=262144}function $u(e){for(e=e.firstContext;e!==null;){if(!We(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vn(e){Dn=e,ea=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function De(e){return gh(Dn,e)}function pu(e,t){return Dn===null&&vn(e),gh(e,t)}function gh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ea===null){if(e===null)throw Error(v(308));ea=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ea=ea.next=t;return a}var YA=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},XA=he.unstable_scheduleCallback,jA=he.unstable_NormalPriority,ge={$$typeof:$t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new YA,data:new Map,refCount:0}}function vo(e){e.refCount--,e.refCount===0&&XA(jA,function(){e.controller.abort()})}var Pi=null,Fc=0,Ll=0,Al=null;function QA(e,t){if(Pi===null){var a=Pi=[];Fc=0,Ll=ff(),Al={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Fc++,t.then(_E,_E),t}function _E(){if(--Fc===0&&Pi!==null){Al!==null&&(Al.status="fulfilled");var e=Pi;Pi=null,Ll=0,Al=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function KA(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var l=0;l<a.length;l++)(0,a[l])(t)},function(l){for(n.status="rejected",n.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),n}var bE=b.S;b.S=function(e,t){Nv=Fe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&QA(e,t),bE!==null&&bE(e,t)};var gn=Rt(null);function Pd(){var e=gn.current;return e!==null?e:j.pooledCache}function Uu(e,t){t===null?K(gn,gn.current):K(gn,t.pool)}function Eh(){var e=Pd();return e===null?null:{parent:ge._currentValue,pool:e}}var wl=Error(v(460)),qd=Error(v(474)),bs=Error(v(542)),Wu={then:function(){}};function DE(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Wt,Wt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,NE(e),e;default:if(typeof t.status=="string")t.then(Wt,Wt);else{if(e=j,e!==null&&100<e.shellSuspendCounter)throw Error(v(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=n}},function(n){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,NE(e),e}throw En=t,wl}}function cn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(En=a,wl):a}}var En=null;function OE(){if(En===null)throw Error(v(459));var e=En;return En=null,e}function NE(e){if(e===wl||e===bs)throw Error(v(483))}var Cl=null,no=0;function Tu(e){var t=no;return no+=1,Cl===null&&(Cl=[]),Sh(Cl,e,t)}function Ni(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function yu(e,t){throw t.$$typeof===Iy?Error(v(525)):(e=Object.prototype.toString.call(t),Error(v(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function hh(e){function t(m,d){if(e){var S=m.deletions;S===null?(m.deletions=[d],m.flags|=16):S.push(d)}}function a(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function n(m){for(var d=new Map;m!==null;)m.key!==null?d.set(m.key,m):d.set(m.index,m),m=m.sibling;return d}function l(m,d){return m=ta(m,d),m.index=0,m.sibling=null,m}function i(m,d,S){return m.index=S,e?(S=m.alternate,S!==null?(S=S.index,S<d?(m.flags|=67108866,d):S):(m.flags|=67108866,d)):(m.flags|=1048576,d)}function o(m){return e&&m.alternate===null&&(m.flags|=67108866),m}function u(m,d,S,h){return d===null||d.tag!==6?(d=oc(S,m.mode,h),d.return=m,d):(d=l(d,S),d.return=m,d)}function s(m,d,S,h){var C=S.type;return C===ul?c(m,d,S.props.children,h,S.key):d!==null&&(d.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ca&&cn(C)===d.type)?(d=l(d,S.props),Ni(d,S),d.return=m,d):(d=Iu(S.type,S.key,S.props,null,m.mode,h),Ni(d,S),d.return=m,d)}function r(m,d,S,h){return d===null||d.tag!==4||d.stateNode.containerInfo!==S.containerInfo||d.stateNode.implementation!==S.implementation?(d=uc(S,m.mode,h),d.return=m,d):(d=l(d,S.children||[]),d.return=m,d)}function c(m,d,S,h,C){return d===null||d.tag!==7?(d=mn(S,m.mode,h,C),d.return=m,d):(d=l(d,S),d.return=m,d)}function g(m,d,S){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=oc(""+d,m.mode,S),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case du:return S=Iu(d.type,d.key,d.props,null,m.mode,S),Ni(S,d),S.return=m,S;case Ii:return d=uc(d,m.mode,S),d.return=m,d;case Ca:return d=cn(d),g(m,d,S)}if(Ui(d)||Di(d))return d=mn(d,m.mode,S,null),d.return=m,d;if(typeof d.then=="function")return g(m,Tu(d),S);if(d.$$typeof===$t)return g(m,pu(m,d),S);yu(m,d)}return null}function f(m,d,S,h){var C=d!==null?d.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return C!==null?null:u(m,d,""+S,h);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case du:return S.key===C?s(m,d,S,h):null;case Ii:return S.key===C?r(m,d,S,h):null;case Ca:return S=cn(S),f(m,d,S,h)}if(Ui(S)||Di(S))return C!==null?null:c(m,d,S,h,null);if(typeof S.then=="function")return f(m,d,Tu(S),h);if(S.$$typeof===$t)return f(m,d,pu(m,S),h);yu(m,S)}return null}function E(m,d,S,h,C){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return m=m.get(S)||null,u(d,m,""+h,C);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case du:return m=m.get(h.key===null?S:h.key)||null,s(d,m,h,C);case Ii:return m=m.get(h.key===null?S:h.key)||null,r(d,m,h,C);case Ca:return h=cn(h),E(m,d,S,h,C)}if(Ui(h)||Di(h))return m=m.get(S)||null,c(d,m,h,C,null);if(typeof h.then=="function")return E(m,d,S,Tu(h),C);if(h.$$typeof===$t)return E(m,d,S,pu(d,h),C);yu(d,h)}return null}function T(m,d,S,h){for(var C=null,B=null,p=d,_=d=0,A=null;p!==null&&_<S.length;_++){p.index>_?(A=p,p=null):A=p.sibling;var D=f(m,p,S[_],h);if(D===null){p===null&&(p=A);break}e&&p&&D.alternate===null&&t(m,p),d=i(D,d,_),B===null?C=D:B.sibling=D,B=D,p=A}if(_===S.length)return a(m,p),z&&Jt(m,_),C;if(p===null){for(;_<S.length;_++)p=g(m,S[_],h),p!==null&&(d=i(p,d,_),B===null?C=p:B.sibling=p,B=p);return z&&Jt(m,_),C}for(p=n(p);_<S.length;_++)A=E(p,m,_,S[_],h),A!==null&&(e&&A.alternate!==null&&p.delete(A.key===null?_:A.key),d=i(A,d,_),B===null?C=A:B.sibling=A,B=A);return e&&p.forEach(function(ze){return t(m,ze)}),z&&Jt(m,_),C}function y(m,d,S,h){if(S==null)throw Error(v(151));for(var C=null,B=null,p=d,_=d=0,A=null,D=S.next();p!==null&&!D.done;_++,D=S.next()){p.index>_?(A=p,p=null):A=p.sibling;var ze=f(m,p,D.value,h);if(ze===null){p===null&&(p=A);break}e&&p&&ze.alternate===null&&t(m,p),d=i(ze,d,_),B===null?C=ze:B.sibling=ze,B=ze,p=A}if(D.done)return a(m,p),z&&Jt(m,_),C;if(p===null){for(;!D.done;_++,D=S.next())D=g(m,D.value,h),D!==null&&(d=i(D,d,_),B===null?C=D:B.sibling=D,B=D);return z&&Jt(m,_),C}for(p=n(p);!D.done;_++,D=S.next())D=E(p,m,_,D.value,h),D!==null&&(e&&D.alternate!==null&&p.delete(D.key===null?_:D.key),d=i(D,d,_),B===null?C=D:B.sibling=D,B=D);return e&&p.forEach(function(ei){return t(m,ei)}),z&&Jt(m,_),C}function U(m,d,S,h){if(typeof S=="object"&&S!==null&&S.type===ul&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case du:e:{for(var C=S.key;d!==null;){if(d.key===C){if(C=S.type,C===ul){if(d.tag===7){a(m,d.sibling),h=l(d,S.props.children),h.return=m,m=h;break e}}else if(d.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ca&&cn(C)===d.type){a(m,d.sibling),h=l(d,S.props),Ni(h,S),h.return=m,m=h;break e}a(m,d);break}else t(m,d);d=d.sibling}S.type===ul?(h=mn(S.props.children,m.mode,h,S.key),h.return=m,m=h):(h=Iu(S.type,S.key,S.props,null,m.mode,h),Ni(h,S),h.return=m,m=h)}return o(m);case Ii:e:{for(C=S.key;d!==null;){if(d.key===C)if(d.tag===4&&d.stateNode.containerInfo===S.containerInfo&&d.stateNode.implementation===S.implementation){a(m,d.sibling),h=l(d,S.children||[]),h.return=m,m=h;break e}else{a(m,d);break}else t(m,d);d=d.sibling}h=uc(S,m.mode,h),h.return=m,m=h}return o(m);case Ca:return S=cn(S),U(m,d,S,h)}if(Ui(S))return T(m,d,S,h);if(Di(S)){if(C=Di(S),typeof C!="function")throw Error(v(150));return S=C.call(S),y(m,d,S,h)}if(typeof S.then=="function")return U(m,d,Tu(S),h);if(S.$$typeof===$t)return U(m,d,pu(m,S),h);yu(m,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,d!==null&&d.tag===6?(a(m,d.sibling),h=l(d,S),h.return=m,m=h):(a(m,d),h=oc(S,m.mode,h),h.return=m,m=h),o(m)):a(m,d)}return function(m,d,S,h){try{no=0;var C=U(m,d,S,h);return Cl=null,C}catch(p){if(p===wl||p===bs)throw p;var B=Ke(29,p,null,m.mode);return B.lanes=h,B.return=m,B}finally{}}}var pn=hh(!0),vh=hh(!1),_a=!1;function Yd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(V&2)!==0){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,t=Ju(e),rh(e,null,a),t}return _s(e,n,t,a),Ju(e)}function qi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,zS(e,a)}}function rc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var l=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?l=i=o:i=i.next=o,a=a.next}while(a!==null);i===null?l=i=t:i=i.next=t}else l=i=t;a={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var kc=!1;function Yi(){if(kc){var e=Al;if(e!==null)throw e}}function Xi(e,t,a,n){kc=!1;var l=e.updateQueue;_a=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var s=u,r=s.next;s.next=null,o===null?i=r:o.next=r,o=s;var c=e.alternate;c!==null&&(c=c.updateQueue,u=c.lastBaseUpdate,u!==o&&(u===null?c.firstBaseUpdate=r:u.next=r,c.lastBaseUpdate=s))}if(i!==null){var g=l.baseState;o=0,c=r=s=null,u=i;do{var f=u.lane&-536870913,E=f!==u.lane;if(E?(I&f)===f:(n&f)===f){f!==0&&f===Ll&&(kc=!0),c!==null&&(c=c.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var T=e,y=u;f=t;var U=a;switch(y.tag){case 1:if(T=y.payload,typeof T=="function"){g=T.call(U,g,f);break e}g=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=y.payload,f=typeof T=="function"?T.call(U,g,f):T,f==null)break e;g=k({},g,f);break e;case 2:_a=!0}}f=u.callback,f!==null&&(e.flags|=64,E&&(e.flags|=8192),E=l.callbacks,E===null?l.callbacks=[f]:E.push(f))}else E={lane:f,tag:u.tag,payload:u.payload,callback:u.callback,next:null},c===null?(r=c=E,s=g):c=c.next=E,o|=f;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;E=u,u=E.next,E.next=null,l.lastBaseUpdate=E,l.shared.pending=null}}while(!0);c===null&&(s=g),l.baseState=s,l.firstBaseUpdate=r,l.lastBaseUpdate=c,i===null&&(l.shared.lanes=0),Qa|=o,e.lanes=o,e.memoizedState=g}}function ph(e,t){if(typeof e!="function")throw Error(v(191,e));e.call(t)}function Th(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ph(a[e],t)}var Ml=Rt(null),es=Rt(0);function LE(e,t){e=sa,K(es,e),K(Ml,t),sa=e|t.baseLanes}function $c(){K(es,sa),K(Ml,Ml.current)}function Xd(){sa=es.current,ye(Ml),ye(es)}var et=Rt(null),mt=null;function Da(e){var t=e.alternate;K(ue,ue.current&1),K(et,e),mt===null&&(t===null||Ml.current!==null||t.memoizedState!==null)&&(mt=e)}function Wc(e){K(ue,ue.current),K(et,e),mt===null&&(mt=e)}function yh(e){e.tag===22?(K(ue,ue.current),K(et,e),mt===null&&(mt=e)):Oa(e)}function Oa(){K(ue,ue.current),K(et,et.current)}function Qe(e){ye(et),mt===e&&(mt=null),ye(ue)}var ue=Rt(0);function ts(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vd(a)||pd(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ia=0,N=null,X=null,fe=null,as=!1,_l=!1,Tn=!1,ns=0,lo=0,bl=null,ZA=0;function le(){throw Error(v(321))}function jd(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!We(e[a],t[a]))return!1;return!0}function Qd(e,t,a,n,l,i){return ia=i,N=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,b.H=e===null||e.memoizedState===null?$h:nf,Tn=!1,i=a(n,l),Tn=!1,_l&&(i=Ch(t,a,n,l)),Ah(e),i}function Ah(e){b.H=io;var t=X!==null&&X.next!==null;if(ia=0,fe=X=N=null,as=!1,lo=0,bl=null,t)throw Error(v(300));e===null||Ee||(e=e.dependencies,e!==null&&$u(e)&&(Ee=!0))}function Ch(e,t,a,n){N=e;var l=0;do{if(_l&&(bl=null),lo=0,_l=!1,25<=l)throw Error(v(301));if(l+=1,fe=X=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}b.H=Wh,i=t(a,n)}while(_l);return i}function FA(){var e=b.H,t=e.useState()[0];return t=typeof t.then=="function"?po(t):t,e=e.useState()[0],(X!==null?X.memoizedState:null)!==e&&(N.flags|=1024),t}function Kd(){var e=ns!==0;return ns=0,e}function Zd(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Fd(e){if(as){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}as=!1}ia=0,fe=X=N=null,_l=!1,lo=ns=0,bl=null}function Ue(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?N.memoizedState=fe=e:fe=fe.next=e,fe}function se(){if(X===null){var e=N.alternate;e=e!==null?e.memoizedState:null}else e=X.next;var t=fe===null?N.memoizedState:fe.next;if(t!==null)fe=t,X=e;else{if(e===null)throw N.alternate===null?Error(v(467)):Error(v(310));X=e,e={memoizedState:X.memoizedState,baseState:X.baseState,baseQueue:X.baseQueue,queue:X.queue,next:null},fe===null?N.memoizedState=fe=e:fe=fe.next=e}return fe}function Ds(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function po(e){var t=lo;return lo+=1,bl===null&&(bl=[]),e=Sh(bl,e,t),t=N,(fe===null?t.memoizedState:fe.next)===null&&(t=t.alternate,b.H=t===null||t.memoizedState===null?$h:nf),e}function Os(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return po(e);if(e.$$typeof===$t)return De(e)}throw Error(v(438,String(e)))}function Jd(e){var t=null,a=N.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=N.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ds(),N.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Uy;return t.index++,a}function oa(e,t){return typeof t=="function"?t(e):t}function xu(e){var t=se();return kd(t,X,e)}function kd(e,t,a){var n=e.queue;if(n===null)throw Error(v(311));n.lastRenderedReducer=a;var l=e.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}t.baseQueue=l=i,n.pending=null}if(i=e.baseState,l===null)e.memoizedState=i;else{t=l.next;var u=o=null,s=null,r=t,c=!1;do{var g=r.lane&-536870913;if(g!==r.lane?(I&g)===g:(ia&g)===g){var f=r.revertLane;if(f===0)s!==null&&(s=s.next={lane:0,revertLane:0,gesture:null,action:r.action,hasEagerState:r.hasEagerState,eagerState:r.eagerState,next:null}),g===Ll&&(c=!0);else if((ia&f)===f){r=r.next,f===Ll&&(c=!0);continue}else g={lane:0,revertLane:r.revertLane,gesture:null,action:r.action,hasEagerState:r.hasEagerState,eagerState:r.eagerState,next:null},s===null?(u=s=g,o=i):s=s.next=g,N.lanes|=f,Qa|=f;g=r.action,Tn&&a(i,g),i=r.hasEagerState?r.eagerState:a(i,g)}else f={lane:g,revertLane:r.revertLane,gesture:r.gesture,action:r.action,hasEagerState:r.hasEagerState,eagerState:r.eagerState,next:null},s===null?(u=s=f,o=i):s=s.next=f,N.lanes|=g,Qa|=g;r=r.next}while(r!==null&&r!==t);if(s===null?o=i:s.next=u,!We(i,e.memoizedState)&&(Ee=!0,c&&(a=Al,a!==null)))throw a;e.memoizedState=i,e.baseState=o,e.baseQueue=s,n.lastRenderedState=i}return l===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function cc(e){var t=se(),a=t.queue;if(a===null)throw Error(v(311));a.lastRenderedReducer=e;var n=a.dispatch,l=a.pending,i=t.memoizedState;if(l!==null){a.pending=null;var o=l=l.next;do i=e(i,o.action),o=o.next;while(o!==l);We(i,t.memoizedState)||(Ee=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function _h(e,t,a){var n=N,l=se(),i=z;if(i){if(a===void 0)throw Error(v(407));a=a()}else a=t();var o=!We((X||l).memoizedState,a);if(o&&(l.memoizedState=a,Ee=!0),l=l.queue,$d(Oh.bind(null,n,l,e),[e]),l.getSnapshot!==t||o||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,Rl(9,{destroy:void 0},Dh.bind(null,n,l,a,t),null),j===null)throw Error(v(349));i||(ia&127)!==0||bh(n,t,a)}return a}function bh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=N.updateQueue,t===null?(t=Ds(),N.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Dh(e,t,a,n){t.value=a,t.getSnapshot=n,Nh(t)&&Lh(e)}function Oh(e,t,a){return a(function(){Nh(t)&&Lh(e)})}function Nh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!We(e,a)}catch{return!0}}function Lh(e){var t=bn(e,2);t!==null&&Pe(t,e,2)}function ed(e){var t=Ue();if(typeof e=="function"){var a=e;if(e=a(),Tn){La(!0);try{a()}finally{La(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e},t}function Mh(e,t,a,n){return e.baseState=a,kd(e,X,typeof n=="function"?n:oa)}function JA(e,t,a,n,l){if(Ls(e))throw Error(v(485));if(e=t.action,e!==null){var i={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};b.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,Rh(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Rh(e,t){var a=t.action,n=t.payload,l=e.state;if(t.isTransition){var i=b.T,o={};b.T=o;try{var u=a(l,n),s=b.S;s!==null&&s(o,u),ME(e,t,u)}catch(r){td(e,t,r)}finally{i!==null&&o.types!==null&&(i.types=o.types),b.T=i}}else try{i=a(l,n),ME(e,t,i)}catch(r){td(e,t,r)}}function ME(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){RE(e,t,n)},function(n){return td(e,t,n)}):RE(e,t,a)}function RE(e,t,a){t.status="fulfilled",t.value=a,Bh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Rh(e,a)))}function td(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Bh(t),t=t.next;while(t!==n)}e.action=null}function Bh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ih(e,t){return t}function BE(e,t){if(z){var a=j.formState;if(a!==null){e:{var n=N;if(z){if(J){t:{for(var l=J,i=ft;l.nodeType!==8;){if(!i){l=null;break t}if(l=gt(l.nextSibling),l===null){l=null;break t}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){J=gt(l.nextSibling),n=l.data==="F!";break e}}Xa(n)}n=!1}n&&(t=a[0])}}return a=Ue(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ih,lastRenderedState:t},a.queue=n,a=Fh.bind(null,N,n),n.dispatch=a,n=ed(!1),i=af.bind(null,N,!1,n.queue),n=Ue(),l={state:t,dispatch:null,action:e,pending:null},n.queue=l,a=JA.bind(null,N,l,i,a),l.dispatch=a,n.memoizedState=e,[t,a,!1]}function IE(e){var t=se();return Uh(t,X,e)}function Uh(e,t,a){if(t=kd(e,t,Ih)[0],e=xu(oa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=po(t)}catch(o){throw o===wl?bs:o}else n=t;t=se();var l=t.queue,i=l.dispatch;return a!==t.memoizedState&&(N.flags|=2048,Rl(9,{destroy:void 0},kA.bind(null,l,a),null)),[n,i,e]}function kA(e,t){e.action=t}function UE(e){var t=se(),a=X;if(a!==null)return Uh(t,a,e);se(),t=t.memoizedState,a=se();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Rl(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=N.updateQueue,t===null&&(t=Ds(),N.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function xh(){return se().memoizedState}function zu(e,t,a,n){var l=Ue();N.flags|=e,l.memoizedState=Rl(1|t,{destroy:void 0},a,n===void 0?null:n)}function Ns(e,t,a,n){var l=se();n=n===void 0?null:n;var i=l.memoizedState.inst;X!==null&&n!==null&&jd(n,X.memoizedState.deps)?l.memoizedState=Rl(t,i,a,n):(N.flags|=e,l.memoizedState=Rl(1|t,i,a,n))}function xE(e,t){zu(8390656,8,e,t)}function $d(e,t){Ns(2048,8,e,t)}function $A(e){N.flags|=4;var t=N.updateQueue;if(t===null)t=Ds(),N.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function zh(e){var t=se().memoizedState;return $A({ref:t,nextImpl:e}),function(){if((V&2)!==0)throw Error(v(440));return t.impl.apply(void 0,arguments)}}function Hh(e,t){return Ns(4,2,e,t)}function Vh(e,t){return Ns(4,4,e,t)}function Gh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wh(e,t,a){a=a!=null?a.concat([e]):null,Ns(4,4,Gh.bind(null,t,e),a)}function Wd(){}function Ph(e,t){var a=se();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&jd(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function qh(e,t){var a=se();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&jd(t,n[1]))return n[0];if(n=e(),Tn){La(!0);try{e()}finally{La(!1)}}return a.memoizedState=[n,t],n}function ef(e,t,a){return a===void 0||(ia&1073741824)!==0&&(I&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Mv(),N.lanes|=e,Qa|=e,a)}function Yh(e,t,a,n){return We(a,t)?a:Ml.current!==null?(e=ef(e,a,n),We(e,t)||(Ee=!0),e):(ia&42)===0||(ia&1073741824)!==0&&(I&261930)===0?(Ee=!0,e.memoizedState=a):(e=Mv(),N.lanes|=e,Qa|=e,t)}function Xh(e,t,a,n,l){var i=G.p;G.p=i!==0&&8>i?i:8;var o=b.T,u={};b.T=u,af(e,!1,t,a);try{var s=l(),r=b.S;if(r!==null&&r(u,s),s!==null&&typeof s=="object"&&typeof s.then=="function"){var c=KA(s,n);ji(e,t,c,$e(e))}else ji(e,t,n,$e(e))}catch(g){ji(e,t,{then:function(){},status:"rejected",reason:g},$e())}finally{G.p=i,o!==null&&u.types!==null&&(o.types=u.types),b.T=o}}function WA(){}function ad(e,t,a,n){if(e.tag!==5)throw Error(v(476));var l=jh(e).queue;Xh(e,l,t,fn,a===null?WA:function(){return Qh(e),a(n)})}function jh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:fn,baseState:fn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:fn},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qh(e){var t=jh(e);t.next===null&&(t=e.alternate.memoizedState),ji(e,t.next.queue,{},$e())}function tf(){return De(so)}function Kh(){return se().memoizedState}function Zh(){return se().memoizedState}function e0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=$e();e=za(a);var n=Ha(t,e,a);n!==null&&(Pe(n,t,a),qi(n,t,a)),t={cache:wd()},e.payload=t;return}t=t.return}}function t0(e,t,a){var n=$e();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ls(e)?Jh(t,a):(a=zd(e,t,a,n),a!==null&&(Pe(a,e,n),kh(a,t,n)))}function Fh(e,t,a){var n=$e();ji(e,t,a,n)}function ji(e,t,a,n){var l={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ls(e))Jh(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,u=i(o,a);if(l.hasEagerState=!0,l.eagerState=u,We(u,o))return _s(e,t,l,0),j===null&&Cs(),!1}catch{}finally{}if(a=zd(e,t,l,n),a!==null)return Pe(a,e,n),kh(a,t,n),!0}return!1}function af(e,t,a,n){if(n={lane:2,revertLane:ff(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ls(e)){if(t)throw Error(v(479))}else t=zd(e,a,n,2),t!==null&&Pe(t,e,2)}function Ls(e){var t=e.alternate;return e===N||t!==null&&t===N}function Jh(e,t){_l=as=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function kh(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,zS(e,a)}}var io={readContext:De,use:Os,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};io.useEffectEvent=le;var $h={readContext:De,use:Os,useCallback:function(e,t){return Ue().memoizedState=[e,t===void 0?null:t],e},useContext:De,useEffect:xE,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,zu(4194308,4,Gh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return zu(4194308,4,e,t)},useInsertionEffect:function(e,t){zu(4,2,e,t)},useMemo:function(e,t){var a=Ue();t=t===void 0?null:t;var n=e();if(Tn){La(!0);try{e()}finally{La(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Ue();if(a!==void 0){var l=a(t);if(Tn){La(!0);try{a(t)}finally{La(!1)}}}else l=t;return n.memoizedState=n.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},n.queue=e,e=e.dispatch=t0.bind(null,N,e),[n.memoizedState,e]},useRef:function(e){var t=Ue();return e={current:e},t.memoizedState=e},useState:function(e){e=ed(e);var t=e.queue,a=Fh.bind(null,N,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Wd,useDeferredValue:function(e,t){var a=Ue();return ef(a,e,t)},useTransition:function(){var e=ed(!1);return e=Xh.bind(null,N,e.queue,!0,!1),Ue().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=N,l=Ue();if(z){if(a===void 0)throw Error(v(407));a=a()}else{if(a=t(),j===null)throw Error(v(349));(I&127)!==0||bh(n,t,a)}l.memoizedState=a;var i={value:a,getSnapshot:t};return l.queue=i,xE(Oh.bind(null,n,i,e),[e]),n.flags|=2048,Rl(9,{destroy:void 0},Dh.bind(null,n,i,a,t),null),a},useId:function(){var e=Ue(),t=j.identifierPrefix;if(z){var a=Nt,n=Ot;a=(n&~(1<<32-ke(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ns++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=ZA++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tf,useFormState:BE,useActionState:BE,useOptimistic:function(e){var t=Ue();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=af.bind(null,N,!0,a),a.dispatch=t,[e,t]},useMemoCache:Jd,useCacheRefresh:function(){return Ue().memoizedState=e0.bind(null,N)},useEffectEvent:function(e){var t=Ue(),a={impl:e};return t.memoizedState=a,function(){if((V&2)!==0)throw Error(v(440));return a.impl.apply(void 0,arguments)}}},nf={readContext:De,use:Os,useCallback:Ph,useContext:De,useEffect:$d,useImperativeHandle:wh,useInsertionEffect:Hh,useLayoutEffect:Vh,useMemo:qh,useReducer:xu,useRef:xh,useState:function(){return xu(oa)},useDebugValue:Wd,useDeferredValue:function(e,t){var a=se();return Yh(a,X.memoizedState,e,t)},useTransition:function(){var e=xu(oa)[0],t=se().memoizedState;return[typeof e=="boolean"?e:po(e),t]},useSyncExternalStore:_h,useId:Kh,useHostTransitionStatus:tf,useFormState:IE,useActionState:IE,useOptimistic:function(e,t){var a=se();return Mh(a,X,e,t)},useMemoCache:Jd,useCacheRefresh:Zh};nf.useEffectEvent=zh;var Wh={readContext:De,use:Os,useCallback:Ph,useContext:De,useEffect:$d,useImperativeHandle:wh,useInsertionEffect:Hh,useLayoutEffect:Vh,useMemo:qh,useReducer:cc,useRef:xh,useState:function(){return cc(oa)},useDebugValue:Wd,useDeferredValue:function(e,t){var a=se();return X===null?ef(a,e,t):Yh(a,X.memoizedState,e,t)},useTransition:function(){var e=cc(oa)[0],t=se().memoizedState;return[typeof e=="boolean"?e:po(e),t]},useSyncExternalStore:_h,useId:Kh,useHostTransitionStatus:tf,useFormState:UE,useActionState:UE,useOptimistic:function(e,t){var a=se();return X!==null?Mh(a,X,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Jd,useCacheRefresh:Zh};Wh.useEffectEvent=zh;function dc(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:k({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nd={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=$e(),l=za(n);l.payload=t,a!=null&&(l.callback=a),t=Ha(e,l,n),t!==null&&(Pe(t,e,n),qi(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=$e(),l=za(n);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=Ha(e,l,n),t!==null&&(Pe(t,e,n),qi(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=$e(),n=za(a);n.tag=2,t!=null&&(n.callback=t),t=Ha(e,n,a),t!==null&&(Pe(t,e,a),qi(t,e,a))}};function zE(e,t,a,n,l,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!eo(a,n)||!eo(l,i):!0}function HE(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&nd.enqueueReplaceState(t,t.state,null)}function yn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=k({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}function ev(e){Fu(e)}function tv(e){console.error(e)}function av(e){Fu(e)}function ls(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function VE(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function ld(e,t,a){return a=za(a),a.tag=3,a.payload={element:null},a.callback=function(){ls(e,t)},a}function nv(e){return e=za(e),e.tag=3,e}function lv(e,t,a,n){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var i=n.value;e.payload=function(){return l(i)},e.callback=function(){VE(t,a,n)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){VE(t,a,n),typeof l!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var u=n.stack;this.componentDidCatch(n.value,{componentStack:u!==null?u:""})})}function a0(e,t,a,n,l){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Gl(t,a,l,!0),a=et.current,a!==null){switch(a.tag){case 31:case 13:return mt===null?rs():a.alternate===null&&ie===0&&(ie=3),a.flags&=-257,a.flags|=65536,a.lanes=l,n===Wu?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Ac(e,n,l)),!1;case 22:return a.flags|=65536,n===Wu?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Ac(e,n,l)),!1}throw Error(v(435,a.tag))}return Ac(e,n,l),rs(),!1}if(z)return t=et.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,n!==jc&&(e=Error(v(422),{cause:n}),ao(dt(e,a)))):(n!==jc&&(t=Error(v(423),{cause:n}),ao(dt(t,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,n=dt(n,a),l=ld(e.stateNode,n,l),rc(e,l),ie!==4&&(ie=2)),!1;var i=Error(v(520),{cause:n});if(i=dt(i,a),Zi===null?Zi=[i]:Zi.push(i),ie!==4&&(ie=2),t===null)return!0;n=dt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=ld(a.stateNode,n,e),rc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Va===null||!Va.has(i))))return a.flags|=65536,l&=-l,a.lanes|=l,l=nv(l),lv(l,e,a,n),rc(a,l),!1}a=a.return}while(a!==null);return!1}var lf=Error(v(461)),Ee=!1;function Ce(e,t,a,n){t.child=e===null?vh(t,null,a,n):pn(t,e.child,a,n)}function GE(e,t,a,n,l){a=a.render;var i=t.ref;if("ref"in n){var o={};for(var u in n)u!=="ref"&&(o[u]=n[u])}else o=n;return vn(t),n=Qd(e,t,a,o,i,l),u=Kd(),e!==null&&!Ee?(Zd(e,t,l),ua(e,t,l)):(z&&u&&Vd(t),t.flags|=1,Ce(e,t,n,l),t.child)}function wE(e,t,a,n,l){if(e===null){var i=a.type;return typeof i=="function"&&!Hd(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,iv(e,t,i,n,l)):(e=Iu(a.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!of(e,l)){var o=i.memoizedProps;if(a=a.compare,a=a!==null?a:eo,a(o,n)&&e.ref===t.ref)return ua(e,t,l)}return t.flags|=1,e=ta(i,n),e.ref=t.ref,e.return=t,t.child=e}function iv(e,t,a,n,l){if(e!==null){var i=e.memoizedProps;if(eo(i,n)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=n=i,of(e,l))(e.flags&131072)!==0&&(Ee=!0);else return t.lanes=e.lanes,ua(e,t,l)}return id(e,t,a,n,l)}function ov(e,t,a,n){var l=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;n=l&~i}else n=0,t.child=null;return PE(e,t,i,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(t,i!==null?i.cachePool:null),i!==null?LE(t,i):$c(),yh(t);else return n=t.lanes=536870912,PE(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(Uu(t,i.cachePool),LE(t,i),Oa(t),t.memoizedState=null):(e!==null&&Uu(t,null),$c(),Oa(t));return Ce(e,t,l,a),t.child}function zi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function PE(e,t,a,n,l){var i=Pd();return i=i===null?null:{parent:ge._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Uu(t,null),$c(),yh(t),e!==null&&Gl(e,t,n,!0),t.childLanes=l,null}function Hu(e,t){return t=is({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qE(e,t,a){return pn(t,e.child,null,a),e=Hu(t,t.pendingProps),e.flags|=2,Qe(t),t.memoizedState=null,e}function n0(e,t,a){var n=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(z){if(n.mode==="hidden")return e=Hu(t,n),t.lanes=536870912,zi(null,e);if(Wc(t),(e=J)?(e=$v(e,ft),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ya!==null?{id:Ot,overflow:Nt}:null,retryLane:536870912,hydrationErrors:null},a=dh(e),a.return=t,t.child=a,be=t,J=null)):e=null,e===null)throw Xa(t);return t.lanes=536870912,null}return Hu(t,n)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(Wc(t),l)if(t.flags&256)t.flags&=-257,t=qE(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(v(558));else if(Ee||Gl(e,t,a,!1),l=(a&e.childLanes)!==0,Ee||l){if(n=j,n!==null&&(o=HS(n,a),o!==0&&o!==i.retryLane))throw i.retryLane=o,bn(e,o),Pe(n,e,o),lf;rs(),t=qE(e,t,a)}else e=i.treeContext,J=gt(o.nextSibling),be=t,z=!0,xa=null,ft=!1,e!==null&&mh(t,e),t=Hu(t,n),t.flags|=4096;return t}return e=ta(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Vu(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(v(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function id(e,t,a,n,l){return vn(t),a=Qd(e,t,a,n,void 0,l),n=Kd(),e!==null&&!Ee?(Zd(e,t,l),ua(e,t,l)):(z&&n&&Vd(t),t.flags|=1,Ce(e,t,a,l),t.child)}function YE(e,t,a,n,l,i){return vn(t),t.updateQueue=null,a=Ch(t,n,a,l),Ah(e),n=Kd(),e!==null&&!Ee?(Zd(e,t,i),ua(e,t,i)):(z&&n&&Vd(t),t.flags|=1,Ce(e,t,a,i),t.child)}function XE(e,t,a,n,l){if(vn(t),t.stateNode===null){var i=El,o=a.contextType;typeof o=="object"&&o!==null&&(i=De(o)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=nd,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},Yd(t),o=a.contextType,i.context=typeof o=="object"&&o!==null?De(o):El,i.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(dc(t,a,o,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&nd.enqueueReplaceState(i,i.state,null),Xi(t,n,i,l),Yi(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var u=t.memoizedProps,s=yn(a,u);i.props=s;var r=i.context,c=a.contextType;o=El,typeof c=="object"&&c!==null&&(o=De(c));var g=a.getDerivedStateFromProps;c=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,c||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u||r!==o)&&HE(t,i,n,o),_a=!1;var f=t.memoizedState;i.state=f,Xi(t,n,i,l),Yi(),r=t.memoizedState,u||f!==r||_a?(typeof g=="function"&&(dc(t,a,g,n),r=t.memoizedState),(s=_a||zE(t,a,s,n,f,r,o))?(c||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=r),i.props=n,i.state=r,i.context=o,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Jc(e,t),o=t.memoizedProps,c=yn(a,o),i.props=c,g=t.pendingProps,f=i.context,r=a.contextType,s=El,typeof r=="object"&&r!==null&&(s=De(r)),u=a.getDerivedStateFromProps,(r=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==g||f!==s)&&HE(t,i,n,s),_a=!1,f=t.memoizedState,i.state=f,Xi(t,n,i,l),Yi();var E=t.memoizedState;o!==g||f!==E||_a||e!==null&&e.dependencies!==null&&$u(e.dependencies)?(typeof u=="function"&&(dc(t,a,u,n),E=t.memoizedState),(c=_a||zE(t,a,c,n,f,E,s)||e!==null&&e.dependencies!==null&&$u(e.dependencies))?(r||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,E,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,E,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=E),i.props=n,i.state=E,i.context=s,n=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Vu(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=pn(t,e.child,null,l),t.child=pn(t,null,a,l)):Ce(e,t,a,l),t.memoizedState=i.state,e=t.child):e=ua(e,t,l),e}function jE(e,t,a,n){return hn(),t.flags|=256,Ce(e,t,a,n),t.child}var fc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mc(e){return{baseLanes:e,cachePool:Eh()}}function gc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ze),e}function uv(e,t,a){var n=t.pendingProps,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(ue.current&2)!==0),o&&(l=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(z){if(l?Da(t):Oa(t),(e=J)?(e=$v(e,ft),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ya!==null?{id:Ot,overflow:Nt}:null,retryLane:536870912,hydrationErrors:null},a=dh(e),a.return=t,t.child=a,be=t,J=null)):e=null,e===null)throw Xa(t);return pd(e)?t.lanes=32:t.lanes=536870912,null}var u=n.children;return n=n.fallback,l?(Oa(t),l=t.mode,u=is({mode:"hidden",children:u},l),n=mn(n,l,a,null),u.return=t,n.return=t,u.sibling=n,t.child=u,n=t.child,n.memoizedState=mc(a),n.childLanes=gc(e,o,a),t.memoizedState=fc,zi(null,n)):(Da(t),od(t,u))}var s=e.memoizedState;if(s!==null&&(u=s.dehydrated,u!==null)){if(i)t.flags&256?(Da(t),t.flags&=-257,t=Ec(e,t,a)):t.memoizedState!==null?(Oa(t),t.child=e.child,t.flags|=128,t=null):(Oa(t),u=n.fallback,l=t.mode,n=is({mode:"visible",children:n.children},l),u=mn(u,l,a,null),u.flags|=2,n.return=t,u.return=t,n.sibling=u,t.child=n,pn(t,e.child,null,a),n=t.child,n.memoizedState=mc(a),n.childLanes=gc(e,o,a),t.memoizedState=fc,t=zi(null,n));else if(Da(t),pd(u)){if(o=u.nextSibling&&u.nextSibling.dataset,o)var r=o.dgst;o=r,n=Error(v(419)),n.stack="",n.digest=o,ao({value:n,source:null,stack:null}),t=Ec(e,t,a)}else if(Ee||Gl(e,t,a,!1),o=(a&e.childLanes)!==0,Ee||o){if(o=j,o!==null&&(n=HS(o,a),n!==0&&n!==s.retryLane))throw s.retryLane=n,bn(e,n),Pe(o,e,n),lf;vd(u)||rs(),t=Ec(e,t,a)}else vd(u)?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,J=gt(u.nextSibling),be=t,z=!0,xa=null,ft=!1,e!==null&&mh(t,e),t=od(t,n.children),t.flags|=4096);return t}return l?(Oa(t),u=n.fallback,l=t.mode,s=e.child,r=s.sibling,n=ta(s,{mode:"hidden",children:n.children}),n.subtreeFlags=s.subtreeFlags&65011712,r!==null?u=ta(r,u):(u=mn(u,l,a,null),u.flags|=2),u.return=t,n.return=t,n.sibling=u,t.child=n,zi(null,n),n=t.child,u=e.child.memoizedState,u===null?u=mc(a):(l=u.cachePool,l!==null?(s=ge._currentValue,l=l.parent!==s?{parent:s,pool:s}:l):l=Eh(),u={baseLanes:u.baseLanes|a,cachePool:l}),n.memoizedState=u,n.childLanes=gc(e,o,a),t.memoizedState=fc,zi(e.child,n)):(Da(t),a=e.child,e=a.sibling,a=ta(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function od(e,t){return t=is({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function is(e,t){return e=Ke(22,e,null,t),e.lanes=0,e}function Ec(e,t,a){return pn(t,e.child,null,a),e=od(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QE(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Kc(e.return,t,a)}function Sc(e,t,a,n,l,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:l,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=a,o.tailMode=l,o.treeForkCount=i)}function sv(e,t,a){var n=t.pendingProps,l=n.revealOrder,i=n.tail;n=n.children;var o=ue.current,u=(o&2)!==0;if(u?(o=o&1|2,t.flags|=128):o&=1,K(ue,o),Ce(e,t,n,a),n=z?to:0,!u&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&QE(e,a,t);else if(e.tag===19)QE(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(a=t.child,l=null;a!==null;)e=a.alternate,e!==null&&ts(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=t.child,t.child=null):(l=a.sibling,a.sibling=null),Sc(t,!1,l,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ts(e)===null){t.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}Sc(t,!0,a,null,i,n);break;case"together":Sc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function ua(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Qa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Gl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(v(153));if(t.child!==null){for(e=t.child,a=ta(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ta(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function of(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$u(e)))}function l0(e,t,a){switch(t.tag){case 3:ju(t,t.stateNode.containerInfo),ba(t,ge,e.memoizedState.cache),hn();break;case 27:case 5:Uc(t);break;case 4:ju(t,t.stateNode.containerInfo);break;case 10:ba(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Wc(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Da(t),t.flags|=128,null):(a&t.child.childLanes)!==0?uv(e,t,a):(Da(t),e=ua(e,t,a),e!==null?e.sibling:null);Da(t);break;case 19:var l=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Gl(e,t,a,!1),n=(a&t.childLanes)!==0),l){if(n)return sv(e,t,a);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),K(ue,ue.current),n)break;return null;case 22:return t.lanes=0,ov(e,t,a,t.pendingProps);case 24:ba(t,ge,e.memoizedState.cache)}return ua(e,t,a)}function rv(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ee=!0;else{if(!of(e,a)&&(t.flags&128)===0)return Ee=!1,l0(e,t,a);Ee=(e.flags&131072)!==0}else Ee=!1,z&&(t.flags&1048576)!==0&&fh(t,to,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=cn(t.elementType),t.type=e,typeof e=="function")Hd(e)?(n=yn(e,n),t.tag=1,t=XE(null,t,e,n,a)):(t.tag=0,t=id(null,t,e,n,a));else{if(e!=null){var l=e.$$typeof;if(l===Cd){t.tag=11,t=GE(null,t,e,n,a);break e}else if(l===_d){t.tag=14,t=wE(null,t,e,n,a);break e}}throw t=Bc(e)||e,Error(v(306,t,""))}}return t;case 0:return id(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,l=yn(n,t.pendingProps),XE(e,t,n,l,a);case 3:e:{if(ju(t,t.stateNode.containerInfo),e===null)throw Error(v(387));n=t.pendingProps;var i=t.memoizedState;l=i.element,Jc(e,t),Xi(t,n,null,a);var o=t.memoizedState;if(n=o.cache,ba(t,ge,n),n!==i.cache&&Zc(t,[ge],a,!0),Yi(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=jE(e,t,n,a);break e}else if(n!==l){l=dt(Error(v(424)),t),ao(l),t=jE(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(J=gt(e.firstChild),be=t,z=!0,xa=null,ft=!0,a=vh(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(hn(),n===l){t=ua(e,t,a);break e}Ce(e,t,n,a)}t=t.child}return t;case 26:return Vu(e,t),e===null?(a=gS(t.type,null,t.pendingProps,null))?t.memoizedState=a:z||(a=t.type,e=t.pendingProps,n=ms(Ua.current).createElement(a),n[_e]=t,n[qe]=e,Oe(n,a,e),Te(n),t.stateNode=n):t.memoizedState=gS(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Uc(t),e===null&&z&&(n=t.stateNode=Wv(t.type,t.pendingProps,Ua.current),be=t,ft=!0,l=J,Za(t.type)?(Td=l,J=gt(n.firstChild)):J=l),Ce(e,t,t.pendingProps.children,a),Vu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&z&&((l=n=J)&&(n=B0(n,t.type,t.pendingProps,ft),n!==null?(t.stateNode=n,be=t,J=gt(n.firstChild),ft=!1,l=!0):l=!1),l||Xa(t)),Uc(t),l=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,n=i.children,Sd(l,i)?n=null:o!==null&&Sd(l,o)&&(t.flags|=32),t.memoizedState!==null&&(l=Qd(e,t,FA,null,null,a),so._currentValue=l),Vu(e,t),Ce(e,t,n,a),t.child;case 6:return e===null&&z&&((e=a=J)&&(a=I0(a,t.pendingProps,ft),a!==null?(t.stateNode=a,be=t,J=null,e=!0):e=!1),e||Xa(t)),null;case 13:return uv(e,t,a);case 4:return ju(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=pn(t,null,n,a):Ce(e,t,n,a),t.child;case 11:return GE(e,t,t.type,t.pendingProps,a);case 7:return Ce(e,t,t.pendingProps,a),t.child;case 8:return Ce(e,t,t.pendingProps.children,a),t.child;case 12:return Ce(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,ba(t,t.type,n.value),Ce(e,t,n.children,a),t.child;case 9:return l=t.type._context,n=t.pendingProps.children,vn(t),l=De(l),n=n(l),t.flags|=1,Ce(e,t,n,a),t.child;case 14:return wE(e,t,t.type,t.pendingProps,a);case 15:return iv(e,t,t.type,t.pendingProps,a);case 19:return sv(e,t,a);case 31:return n0(e,t,a);case 22:return ov(e,t,a,t.pendingProps);case 24:return vn(t),n=De(ge),e===null?(l=Pd(),l===null&&(l=j,i=wd(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=a),l=i),t.memoizedState={parent:n,cache:l},Yd(t),ba(t,ge,l)):((e.lanes&a)!==0&&(Jc(e,t),Xi(t,null,null,a),Yi()),l=e.memoizedState,i=t.memoizedState,l.parent!==n?(l={parent:n,cache:n},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),ba(t,ge,n)):(n=i.cache,ba(t,ge,n),n!==l.cache&&Zc(t,[ge],a,!0))),Ce(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(v(156,t.tag))}function Qt(e){e.flags|=4}function hc(e,t,a,n,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(Iv())e.flags|=8192;else throw En=Wu,qd}else e.flags&=-16777217}function KE(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ap(t))if(Iv())e.flags|=8192;else throw En=Wu,qd}function Au(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?US():536870912,e.lanes|=t,Bl|=t)}function Li(e,t){if(!z)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function F(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags&65011712,n|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function i0(e,t,a){var n=t.pendingProps;switch(Gd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return F(t),null;case 1:return F(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),aa(ge),Dl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(nl(t)?Qt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,sc())),F(t),null;case 26:var l=t.type,i=t.memoizedState;return e===null?(Qt(t),i!==null?(F(t),KE(t,i)):(F(t),hc(t,l,null,n,a))):i?i!==e.memoizedState?(Qt(t),F(t),KE(t,i)):(F(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Qt(t),F(t),hc(t,l,e,n,a)),null;case 27:if(Qu(t),a=Ua.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Qt(t);else{if(!n){if(t.stateNode===null)throw Error(v(166));return F(t),null}e=Mt.current,nl(t)?AE(t,e):(e=Wv(l,n,a),t.stateNode=e,Qt(t))}return F(t),null;case 5:if(Qu(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Qt(t);else{if(!n){if(t.stateNode===null)throw Error(v(166));return F(t),null}if(i=Mt.current,nl(t))AE(t,i);else{var o=ms(Ua.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(l,{is:n.is}):o.createElement(l)}}i[_e]=t,i[qe]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Oe(i,l,n),l){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Qt(t)}}return F(t),hc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Qt(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(v(166));if(e=Ua.current,nl(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,l=be,l!==null)switch(l.tag){case 27:case 5:n=l.memoizedProps}e[_e]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Fv(e.nodeValue,a)),e||Xa(t,!0)}else e=ms(e).createTextNode(n),e[_e]=t,t.stateNode=e}return F(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=nl(t),a!==null){if(e===null){if(!n)throw Error(v(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(557));e[_e]=t}else hn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;F(t),e=!1}else a=sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Qe(t),t):(Qe(t),null);if((t.flags&128)!==0)throw Error(v(558))}return F(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=nl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(v(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(v(317));l[_e]=t}else hn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;F(t),l=!1}else l=sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(Qe(t),t):(Qe(t),null)}return Qe(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,l=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(l=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==l&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Au(t,t.updateQueue),F(t),null);case 4:return Dl(),e===null&&mf(t.stateNode.containerInfo),F(t),null;case 10:return aa(t.type),F(t),null;case 19:if(ye(ue),n=t.memoizedState,n===null)return F(t),null;if(l=(t.flags&128)!==0,i=n.rendering,i===null)if(l)Li(n,!1);else{if(ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=ts(e),i!==null){for(t.flags|=128,Li(n,!1),e=i.updateQueue,t.updateQueue=e,Au(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)ch(a,e),a=a.sibling;return K(ue,ue.current&1|2),z&&Jt(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Fe()>us&&(t.flags|=128,l=!0,Li(n,!1),t.lanes=4194304)}else{if(!l)if(e=ts(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Au(t,e),Li(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!z)return F(t),null}else 2*Fe()-n.renderingStartTime>us&&a!==536870912&&(t.flags|=128,l=!0,Li(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Fe(),e.sibling=null,a=ue.current,K(ue,l?a&1|2:a&1),z&&Jt(t,n.treeForkCount),e):(F(t),null);case 22:case 23:return Qe(t),Xd(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(F(t),t.subtreeFlags&6&&(t.flags|=8192)):F(t),a=t.updateQueue,a!==null&&Au(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&ye(gn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),aa(ge),F(t),null;case 25:return null;case 30:return null}throw Error(v(156,t.tag))}function o0(e,t){switch(Gd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return aa(ge),Dl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Qu(t),null;case 31:if(t.memoizedState!==null){if(Qe(t),t.alternate===null)throw Error(v(340));hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Qe(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(v(340));hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(ue),null;case 4:return Dl(),null;case 10:return aa(t.type),null;case 22:case 23:return Qe(t),Xd(),e!==null&&ye(gn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return aa(ge),null;case 25:return null;default:return null}}function cv(e,t){switch(Gd(t),t.tag){case 3:aa(ge),Dl();break;case 26:case 27:case 5:Qu(t);break;case 4:Dl();break;case 31:t.memoizedState!==null&&Qe(t);break;case 13:Qe(t);break;case 19:ye(ue);break;case 10:aa(t.type);break;case 22:case 23:Qe(t),Xd(),e!==null&&ye(gn);break;case 24:aa(ge)}}function To(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var l=n.next;a=l;do{if((a.tag&e)===e){n=void 0;var i=a.create,o=a.inst;n=i(),o.destroy=n}a=a.next}while(a!==l)}}catch(u){q(t,t.return,u)}}function ja(e,t,a){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var i=l.next;n=i;do{if((n.tag&e)===e){var o=n.inst,u=o.destroy;if(u!==void 0){o.destroy=void 0,l=t;var s=a,r=u;try{r()}catch(c){q(l,s,c)}}}n=n.next}while(n!==i)}}catch(c){q(t,t.return,c)}}function dv(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Th(t,a)}catch(n){q(e,e.return,n)}}}function fv(e,t,a){a.props=yn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){q(e,t,n)}}function Qi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(l){q(e,t,l)}}function Lt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(l){q(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){q(e,t,l)}else a.current=null}function mv(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(l){q(e,e.return,l)}}function vc(e,t,a){try{var n=e.stateNode;D0(n,e.type,a,t),n[qe]=t}catch(l){q(e,e.return,l)}}function gv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Za(e.type)||e.tag===4}function pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Za(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ud(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Wt));else if(n!==4&&(n===27&&Za(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(ud(e,t,a),e=e.sibling;e!==null;)ud(e,t,a),e=e.sibling}function os(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Za(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(os(e,t,a),e=e.sibling;e!==null;)os(e,t,a),e=e.sibling}function Ev(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Oe(t,n,a),t[_e]=e,t[qe]=a}catch(i){q(e,e.return,i)}}var kt=!1,me=!1,Tc=!1,ZE=typeof WeakSet=="function"?WeakSet:Set,pe=null;function u0(e,t){if(e=e.containerInfo,gd=hs,e=ah(e),Ud(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var l=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var o=0,u=-1,s=-1,r=0,c=0,g=e,f=null;t:for(;;){for(var E;g!==a||l!==0&&g.nodeType!==3||(u=o+l),g!==i||n!==0&&g.nodeType!==3||(s=o+n),g.nodeType===3&&(o+=g.nodeValue.length),(E=g.firstChild)!==null;)f=g,g=E;for(;;){if(g===e)break t;if(f===a&&++r===l&&(u=o),f===i&&++c===n&&(s=o),(E=g.nextSibling)!==null)break;g=f,f=g.parentNode}g=E}a=u===-1||s===-1?null:{start:u,end:s}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:e,selectionRange:a},hs=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){switch(t=pe,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)l=e[a],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,l=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var T=yn(a.type,l);e=n.getSnapshotBeforeUpdate(T,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(y){q(a,a.return,y)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)hd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(v(163))}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}}function Sv(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Zt(e,a),n&4&&To(5,a);break;case 1:if(Zt(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){q(a,a.return,o)}else{var l=yn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){q(a,a.return,o)}}n&64&&dv(a),n&512&&Qi(a,a.return);break;case 3:if(Zt(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Th(e,t)}catch(o){q(a,a.return,o)}}break;case 27:t===null&&n&4&&Ev(a);case 26:case 5:Zt(e,a),t===null&&n&4&&mv(a),n&512&&Qi(a,a.return);break;case 12:Zt(e,a);break;case 31:Zt(e,a),n&4&&pv(e,a);break;case 13:Zt(e,a),n&4&&Tv(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=S0.bind(null,a),U0(e,a))));break;case 22:if(n=a.memoizedState!==null||kt,!n){t=t!==null&&t.memoizedState!==null||me,l=kt;var i=me;kt=n,(me=t)&&!i?Ft(e,a,(a.subtreeFlags&8772)!==0):Zt(e,a),kt=l,me=i}break;case 30:break;default:Zt(e,a)}}function hv(e){var t=e.alternate;t!==null&&(e.alternate=null,hv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Nd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,Ge=!1;function Kt(e,t,a){for(a=a.child;a!==null;)vv(e,t,a),a=a.sibling}function vv(e,t,a){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(mo,a)}catch{}switch(a.tag){case 26:me||Lt(a,t),Kt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||Lt(a,t);var n=ee,l=Ge;Za(a.type)&&(ee=a.stateNode,Ge=!1),Kt(e,t,a),Ji(a.stateNode),ee=n,Ge=l;break;case 5:me||Lt(a,t);case 6:if(n=ee,l=Ge,ee=null,Kt(e,t,a),ee=n,Ge=l,ee!==null)if(Ge)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(i){q(a,t,i)}else try{ee.removeChild(a.stateNode)}catch(i){q(a,t,i)}break;case 18:ee!==null&&(Ge?(e=ee,rS(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),zl(e)):rS(ee,a.stateNode));break;case 4:n=ee,l=Ge,ee=a.stateNode.containerInfo,Ge=!0,Kt(e,t,a),ee=n,Ge=l;break;case 0:case 11:case 14:case 15:ja(2,a,t),me||ja(4,a,t),Kt(e,t,a);break;case 1:me||(Lt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&fv(a,t,n)),Kt(e,t,a);break;case 21:Kt(e,t,a);break;case 22:me=(n=me)||a.memoizedState!==null,Kt(e,t,a),me=n;break;default:Kt(e,t,a)}}function pv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zl(e)}catch(a){q(t,t.return,a)}}}function Tv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zl(e)}catch(a){q(t,t.return,a)}}function s0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ZE),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ZE),t;default:throw Error(v(435,e.tag))}}function Cu(e,t){var a=s0(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var l=h0.bind(null,e,n);n.then(l,l)}})}function He(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var l=a[n],i=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 27:if(Za(u.type)){ee=u.stateNode,Ge=!1;break e}break;case 5:ee=u.stateNode,Ge=!1;break e;case 3:case 4:ee=u.stateNode.containerInfo,Ge=!0;break e}u=u.return}if(ee===null)throw Error(v(160));vv(i,o,l),ee=null,Ge=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)yv(t,e),t=t.sibling}var At=null;function yv(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:He(t,e),Ve(e),n&4&&(ja(3,e,e.return),To(3,e),ja(5,e,e.return));break;case 1:He(t,e),Ve(e),n&512&&(me||a===null||Lt(a,a.return)),n&64&&kt&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var l=At;if(He(t,e),Ve(e),n&512&&(me||a===null||Lt(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(n){case"title":i=l.getElementsByTagName("title")[0],(!i||i[So]||i[_e]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(n),l.head.insertBefore(i,l.querySelector("head > title"))),Oe(i,n,a),i[_e]=e,Te(i),n=i;break e;case"link":var o=SS("link","href",l).get(n+(a.href||""));if(o){for(var u=0;u<o.length;u++)if(i=o[u],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(u,1);break t}}i=l.createElement(n),Oe(i,n,a),l.head.appendChild(i);break;case"meta":if(o=SS("meta","content",l).get(n+(a.content||""))){for(u=0;u<o.length;u++)if(i=o[u],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(u,1);break t}}i=l.createElement(n),Oe(i,n,a),l.head.appendChild(i);break;default:throw Error(v(468,n))}i[_e]=e,Te(i),n=i}e.stateNode=n}else hS(l,e.type,e.stateNode);else e.stateNode=ES(l,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?hS(l,e.type,e.stateNode):ES(l,n,e.memoizedProps)):n===null&&e.stateNode!==null&&vc(e,e.memoizedProps,a.memoizedProps)}break;case 27:He(t,e),Ve(e),n&512&&(me||a===null||Lt(a,a.return)),a!==null&&n&4&&vc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(He(t,e),Ve(e),n&512&&(me||a===null||Lt(a,a.return)),e.flags&32){l=e.stateNode;try{Nl(l,"")}catch(T){q(e,e.return,T)}}n&4&&e.stateNode!=null&&(l=e.memoizedProps,vc(e,l,a!==null?a.memoizedProps:l)),n&1024&&(Tc=!0);break;case 6:if(He(t,e),Ve(e),n&4){if(e.stateNode===null)throw Error(v(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(T){q(e,e.return,T)}}break;case 3:if(Pu=null,l=At,At=gs(t.containerInfo),He(t,e),At=l,Ve(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{zl(t.containerInfo)}catch(T){q(e,e.return,T)}Tc&&(Tc=!1,Av(e));break;case 4:n=At,At=gs(e.stateNode.containerInfo),He(t,e),Ve(e),At=n;break;case 12:He(t,e),Ve(e);break;case 31:He(t,e),Ve(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Cu(e,n)));break;case 13:He(t,e),Ve(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ms=Fe()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Cu(e,n)));break;case 22:l=e.memoizedState!==null;var s=a!==null&&a.memoizedState!==null,r=kt,c=me;if(kt=r||l,me=c||s,He(t,e),me=c,kt=r,Ve(e),n&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(a===null||s||kt||me||dn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){s=a=t;try{if(i=s.stateNode,l)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{u=s.stateNode;var g=s.memoizedProps.style,f=g!=null&&g.hasOwnProperty("display")?g.display:null;u.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(T){q(s,s.return,T)}}}else if(t.tag===6){if(a===null){s=t;try{s.stateNode.nodeValue=l?"":s.memoizedProps}catch(T){q(s,s.return,T)}}}else if(t.tag===18){if(a===null){s=t;try{var E=s.stateNode;l?cS(E,!0):cS(s.stateNode,!1)}catch(T){q(s,s.return,T)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Cu(e,a))));break;case 19:He(t,e),Ve(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Cu(e,n)));break;case 30:break;case 21:break;default:He(t,e),Ve(e)}}function Ve(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(gv(n)){a=n;break}n=n.return}if(a==null)throw Error(v(160));switch(a.tag){case 27:var l=a.stateNode,i=pc(e);os(e,i,l);break;case 5:var o=a.stateNode;a.flags&32&&(Nl(o,""),a.flags&=-33);var u=pc(e);os(e,u,o);break;case 3:case 4:var s=a.stateNode.containerInfo,r=pc(e);ud(e,r,s);break;default:throw Error(v(161))}}catch(c){q(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Av(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Av(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Zt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Sv(e,t.alternate,t),t=t.sibling}function dn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ja(4,t,t.return),dn(t);break;case 1:Lt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&fv(t,t.return,a),dn(t);break;case 27:Ji(t.stateNode);case 26:case 5:Lt(t,t.return),dn(t);break;case 22:t.memoizedState===null&&dn(t);break;case 30:dn(t);break;default:dn(t)}e=e.sibling}}function Ft(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,l=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Ft(l,i,a),To(4,i);break;case 1:if(Ft(l,i,a),n=i,l=n.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(r){q(n,n.return,r)}if(n=i,l=n.updateQueue,l!==null){var u=n.stateNode;try{var s=l.shared.hiddenCallbacks;if(s!==null)for(l.shared.hiddenCallbacks=null,l=0;l<s.length;l++)ph(s[l],u)}catch(r){q(n,n.return,r)}}a&&o&64&&dv(i),Qi(i,i.return);break;case 27:Ev(i);case 26:case 5:Ft(l,i,a),a&&n===null&&o&4&&mv(i),Qi(i,i.return);break;case 12:Ft(l,i,a);break;case 31:Ft(l,i,a),a&&o&4&&pv(l,i);break;case 13:Ft(l,i,a),a&&o&4&&Tv(l,i);break;case 22:i.memoizedState===null&&Ft(l,i,a),Qi(i,i.return);break;case 30:break;default:Ft(l,i,a)}t=t.sibling}}function uf(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&vo(a))}function sf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vo(e))}function yt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cv(e,t,a,n),t=t.sibling}function Cv(e,t,a,n){var l=t.flags;switch(t.tag){case 0:case 11:case 15:yt(e,t,a,n),l&2048&&To(9,t);break;case 1:yt(e,t,a,n);break;case 3:yt(e,t,a,n),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vo(e)));break;case 12:if(l&2048){yt(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,u=i.onPostCommit;typeof u=="function"&&u(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(s){q(t,t.return,s)}}else yt(e,t,a,n);break;case 31:yt(e,t,a,n);break;case 13:yt(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?yt(e,t,a,n):Ki(e,t):i._visibility&2?yt(e,t,a,n):(i._visibility|=2,il(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),l&2048&&uf(o,t);break;case 24:yt(e,t,a,n),l&2048&&sf(t.alternate,t);break;default:yt(e,t,a,n)}}function il(e,t,a,n,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,u=a,s=n,r=o.flags;switch(o.tag){case 0:case 11:case 15:il(i,o,u,s,l),To(8,o);break;case 23:break;case 22:var c=o.stateNode;o.memoizedState!==null?c._visibility&2?il(i,o,u,s,l):Ki(i,o):(c._visibility|=2,il(i,o,u,s,l)),l&&r&2048&&uf(o.alternate,o);break;case 24:il(i,o,u,s,l),l&&r&2048&&sf(o.alternate,o);break;default:il(i,o,u,s,l)}t=t.sibling}}function Ki(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,l=n.flags;switch(n.tag){case 22:Ki(a,n),l&2048&&uf(n.alternate,n);break;case 24:Ki(a,n),l&2048&&sf(n.alternate,n);break;default:Ki(a,n)}t=t.sibling}}var Hi=8192;function ll(e,t,a){if(e.subtreeFlags&Hi)for(e=e.child;e!==null;)_v(e,t,a),e=e.sibling}function _v(e,t,a){switch(e.tag){case 26:ll(e,t,a),e.flags&Hi&&e.memoizedState!==null&&Q0(a,At,e.memoizedState,e.memoizedProps);break;case 5:ll(e,t,a);break;case 3:case 4:var n=At;At=gs(e.stateNode.containerInfo),ll(e,t,a),At=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Hi,Hi=16777216,ll(e,t,a),Hi=n):ll(e,t,a));break;default:ll(e,t,a)}}function bv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Mi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];pe=n,Ov(n,e)}bv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dv(e),e=e.sibling}function Dv(e){switch(e.tag){case 0:case 11:case 15:Mi(e),e.flags&2048&&ja(9,e,e.return);break;case 3:Mi(e);break;case 12:Mi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Gu(e)):Mi(e);break;default:Mi(e)}}function Gu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];pe=n,Ov(n,e)}bv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ja(8,t,t.return),Gu(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Gu(t));break;default:Gu(t)}e=e.sibling}}function Ov(e,t){for(;pe!==null;){var a=pe;switch(a.tag){case 0:case 11:case 15:ja(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:vo(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,pe=n;else e:for(a=e;pe!==null;){n=pe;var l=n.sibling,i=n.return;if(hv(n),n===a){pe=null;break e}if(l!==null){l.return=i,pe=l;break e}pe=i}}}var r0={getCacheForType:function(e){var t=De(ge),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return De(ge).controller.signal}},c0=typeof WeakMap=="function"?WeakMap:Map,V=0,j=null,R=null,I=0,P=0,je=null,Ra=!1,Pl=!1,rf=!1,sa=0,ie=0,Qa=0,Sn=0,cf=0,Ze=0,Bl=0,Zi=null,we=null,sd=!1,Ms=0,Nv=0,us=1/0,ss=null,Va=null,Se=0,Ga=null,Il=null,na=0,rd=0,cd=null,Lv=null,Fi=0,dd=null;function $e(){return(V&2)!==0&&I!==0?I&-I:b.T!==null?ff():VS()}function Mv(){if(Ze===0)if((I&536870912)===0||z){var e=mu;mu<<=1,(mu&3932160)===0&&(mu=262144),Ze=e}else Ze=536870912;return e=et.current,e!==null&&(e.flags|=32),Ze}function Pe(e,t,a){(e===j&&(P===2||P===9)||e.cancelPendingCommit!==null)&&(Ul(e,0),Ba(e,I,Ze,!1)),Eo(e,a),((V&2)===0||e!==j)&&(e===j&&((V&2)===0&&(Sn|=a),ie===4&&Ba(e,I,Ze,!1)),Bt(e))}function Rv(e,t,a){if((V&6)!==0)throw Error(v(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||go(e,t),l=n?m0(e,t):yc(e,t,!0),i=n;do{if(l===0){Pl&&!n&&Ba(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!d0(a)){l=yc(e,t,!1),i=!1;continue}if(l===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var u=e;l=Zi;var s=u.current.memoizedState.isDehydrated;if(s&&(Ul(u,o).flags|=256),o=yc(u,o,!1),o!==2){if(rf&&!s){u.errorRecoveryDisabledLanes|=i,Sn|=i,l=4;break e}i=we,we=l,i!==null&&(we===null?we=i:we.push.apply(we,i))}l=o}if(i=!1,l!==2)continue}}if(l===1){Ul(e,0),Ba(e,t,0,!0);break}e:{switch(n=e,i=l,i){case 0:case 1:throw Error(v(345));case 4:if((t&4194048)!==t)break;case 6:Ba(n,t,Ze,!Ra);break e;case 2:we=null;break;case 3:case 5:break;default:throw Error(v(329))}if((t&62914560)===t&&(l=Ms+300-Fe(),10<l)){if(Ba(n,t,Ze,!Ra),ps(n,0,!0)!==0)break e;na=t,n.timeoutHandle=kv(FE.bind(null,n,a,we,ss,sd,t,Ze,Sn,Bl,Ra,i,"Throttled",-0,0),l);break e}FE(n,a,we,ss,sd,t,Ze,Sn,Bl,Ra,i,null,-0,0)}}break}while(!0);Bt(e)}function FE(e,t,a,n,l,i,o,u,s,r,c,g,f,E){if(e.timeoutHandle=-1,g=t.subtreeFlags,g&8192||(g&16785408)===16785408){g={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wt},_v(t,i,g);var T=(i&62914560)===i?Ms-Fe():(i&4194048)===i?Nv-Fe():0;if(T=K0(g,T),T!==null){na=i,e.cancelPendingCommit=T(kE.bind(null,e,t,i,a,n,l,o,u,s,c,g,null,f,E)),Ba(e,i,o,!r);return}}kE(e,t,i,a,n,l,o,u,s)}function d0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var l=a[n],i=l.getSnapshot;l=l.value;try{if(!We(i(),l))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ba(e,t,a,n){t&=~cf,t&=~Sn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var l=t;0<l;){var i=31-ke(l),o=1<<i;n[i]=-1,l&=~o}a!==0&&xS(e,a,t)}function Rs(){return(V&6)===0?(yo(0,!1),!1):!0}function df(){if(R!==null){if(P===0)var e=R.return;else e=R,ea=Dn=null,Fd(e),Cl=null,no=0,e=R;for(;e!==null;)cv(e.alternate,e),e=e.return;R=null}}function Ul(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,L0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),na=0,df(),j=e,R=a=ta(e.current,null),I=t,P=0,je=null,Ra=!1,Pl=go(e,t),rf=!1,Bl=Ze=cf=Sn=Qa=ie=0,we=Zi=null,sd=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var l=31-ke(n),i=1<<l;t|=e[l],n&=~i}return sa=t,Cs(),a}function Bv(e,t){N=null,b.H=io,t===wl||t===bs?(t=OE(),P=3):t===qd?(t=OE(),P=4):P=t===lf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,je=t,R===null&&(ie=1,ls(e,dt(t,e.current)))}function Iv(){var e=et.current;return e===null?!0:(I&4194048)===I?mt===null:(I&62914560)===I||(I&536870912)!==0?e===mt:!1}function Uv(){var e=b.H;return b.H=io,e===null?io:e}function xv(){var e=b.A;return b.A=r0,e}function rs(){ie=4,Ra||(I&4194048)!==I&&et.current!==null||(Pl=!0),(Qa&134217727)===0&&(Sn&134217727)===0||j===null||Ba(j,I,Ze,!1)}function yc(e,t,a){var n=V;V|=2;var l=Uv(),i=xv();(j!==e||I!==t)&&(ss=null,Ul(e,t)),t=!1;var o=ie;e:do try{if(P!==0&&R!==null){var u=R,s=je;switch(P){case 8:df(),o=6;break e;case 3:case 2:case 9:case 6:et.current===null&&(t=!0);var r=P;if(P=0,je=null,vl(e,u,s,r),a&&Pl){o=0;break e}break;default:r=P,P=0,je=null,vl(e,u,s,r)}}f0(),o=ie;break}catch(c){Bv(e,c)}while(!0);return t&&e.shellSuspendCounter++,ea=Dn=null,V=n,b.H=l,b.A=i,R===null&&(j=null,I=0,Cs()),o}function f0(){for(;R!==null;)zv(R)}function m0(e,t){var a=V;V|=2;var n=Uv(),l=xv();j!==e||I!==t?(ss=null,us=Fe()+500,Ul(e,t)):Pl=go(e,t);e:do try{if(P!==0&&R!==null){t=R;var i=je;t:switch(P){case 1:P=0,je=null,vl(e,t,i,1);break;case 2:case 9:if(DE(i)){P=0,je=null,JE(t);break}t=function(){P!==2&&P!==9||j!==e||(P=7),Bt(e)},i.then(t,t);break e;case 3:P=7;break e;case 4:P=5;break e;case 7:DE(i)?(P=0,je=null,JE(t)):(P=0,je=null,vl(e,t,i,7));break;case 5:var o=null;switch(R.tag){case 26:o=R.memoizedState;case 5:case 27:var u=R;if(o?ap(o):u.stateNode.complete){P=0,je=null;var s=u.sibling;if(s!==null)R=s;else{var r=u.return;r!==null?(R=r,Bs(r)):R=null}break t}}P=0,je=null,vl(e,t,i,5);break;case 6:P=0,je=null,vl(e,t,i,6);break;case 8:df(),ie=6;break e;default:throw Error(v(462))}}g0();break}catch(c){Bv(e,c)}while(!0);return ea=Dn=null,b.H=n,b.A=l,V=a,R!==null?0:(j=null,I=0,Cs(),ie)}function g0(){for(;R!==null&&!Hy();)zv(R)}function zv(e){var t=rv(e.alternate,e,sa);e.memoizedProps=e.pendingProps,t===null?Bs(e):R=t}function JE(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=YE(a,t,t.pendingProps,t.type,void 0,I);break;case 11:t=YE(a,t,t.pendingProps,t.type.render,t.ref,I);break;case 5:Fd(t);default:cv(a,t),t=R=ch(t,sa),t=rv(a,t,sa)}e.memoizedProps=e.pendingProps,t===null?Bs(e):R=t}function vl(e,t,a,n){ea=Dn=null,Fd(t),Cl=null,no=0;var l=t.return;try{if(a0(e,l,t,a,I)){ie=1,ls(e,dt(a,e.current)),R=null;return}}catch(i){if(l!==null)throw R=l,i;ie=1,ls(e,dt(a,e.current)),R=null;return}t.flags&32768?(z||n===1?e=!0:Pl||(I&536870912)!==0?e=!1:(Ra=e=!0,(n===2||n===9||n===3||n===6)&&(n=et.current,n!==null&&n.tag===13&&(n.flags|=16384))),Hv(t,e)):Bs(t)}function Bs(e){var t=e;do{if((t.flags&32768)!==0){Hv(t,Ra);return}e=t.return;var a=i0(t.alternate,t,sa);if(a!==null){R=a;return}if(t=t.sibling,t!==null){R=t;return}R=t=e}while(t!==null);ie===0&&(ie=5)}function Hv(e,t){do{var a=o0(e.alternate,e);if(a!==null){a.flags&=32767,R=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){R=e;return}R=e=a}while(e!==null);ie=6,R=null}function kE(e,t,a,n,l,i,o,u,s){e.cancelPendingCommit=null;do Is();while(Se!==0);if((V&6)!==0)throw Error(v(327));if(t!==null){if(t===e.current)throw Error(v(177));if(i=t.lanes|t.childLanes,i|=xd,Ky(e,a,i,o,u,s),e===j&&(R=j=null,I=0),Il=t,Ga=e,na=a,rd=i,cd=l,Lv=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,v0(Ku,function(){return qv(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=b.T,b.T=null,l=G.p,G.p=2,o=V,V|=4;try{u0(e,t,a)}finally{V=o,G.p=l,b.T=n}}Se=1,Vv(),Gv(),wv()}}function Vv(){if(Se===1){Se=0;var e=Ga,t=Il,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=b.T,b.T=null;var n=G.p;G.p=2;var l=V;V|=4;try{yv(t,e);var i=Ed,o=ah(e.containerInfo),u=i.focusedElem,s=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&th(u.ownerDocument.documentElement,u)){if(s!==null&&Ud(u)){var r=s.start,c=s.end;if(c===void 0&&(c=r),"selectionStart"in u)u.selectionStart=r,u.selectionEnd=Math.min(c,u.value.length);else{var g=u.ownerDocument||document,f=g&&g.defaultView||window;if(f.getSelection){var E=f.getSelection(),T=u.textContent.length,y=Math.min(s.start,T),U=s.end===void 0?y:Math.min(s.end,T);!E.extend&&y>U&&(o=U,U=y,y=o);var m=pE(u,y),d=pE(u,U);if(m&&d&&(E.rangeCount!==1||E.anchorNode!==m.node||E.anchorOffset!==m.offset||E.focusNode!==d.node||E.focusOffset!==d.offset)){var S=g.createRange();S.setStart(m.node,m.offset),E.removeAllRanges(),y>U?(E.addRange(S),E.extend(d.node,d.offset)):(S.setEnd(d.node,d.offset),E.addRange(S))}}}}for(g=[],E=u;E=E.parentNode;)E.nodeType===1&&g.push({element:E,left:E.scrollLeft,top:E.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<g.length;u++){var h=g[u];h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}hs=!!gd,Ed=gd=null}finally{V=l,G.p=n,b.T=a}}e.current=t,Se=2}}function Gv(){if(Se===2){Se=0;var e=Ga,t=Il,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=b.T,b.T=null;var n=G.p;G.p=2;var l=V;V|=4;try{Sv(e,t.alternate,t)}finally{V=l,G.p=n,b.T=a}}Se=3}}function wv(){if(Se===4||Se===3){Se=0,Vy();var e=Ga,t=Il,a=na,n=Lv;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Se=5:(Se=0,Il=Ga=null,Pv(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Va=null),Od(a),t=t.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(mo,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=b.T,l=G.p,G.p=2,b.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var u=n[o];i(u.value,{componentStack:u.stack})}}finally{b.T=t,G.p=l}}(na&3)!==0&&Is(),Bt(e),l=e.pendingLanes,(a&261930)!==0&&(l&42)!==0?e===dd?Fi++:(Fi=0,dd=e):Fi=0,yo(0,!1)}}function Pv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,vo(t)))}function Is(){return Vv(),Gv(),wv(),qv()}function qv(){if(Se!==5)return!1;var e=Ga,t=rd;rd=0;var a=Od(na),n=b.T,l=G.p;try{G.p=32>a?32:a,b.T=null,a=cd,cd=null;var i=Ga,o=na;if(Se=0,Il=Ga=null,na=0,(V&6)!==0)throw Error(v(331));var u=V;if(V|=4,Dv(i.current),Cv(i,i.current,o,a),V=u,yo(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(mo,i)}catch{}return!0}finally{G.p=l,b.T=n,Pv(e,t)}}function $E(e,t,a){t=dt(a,t),t=ld(e.stateNode,t,2),e=Ha(e,t,2),e!==null&&(Eo(e,2),Bt(e))}function q(e,t,a){if(e.tag===3)$E(e,e,a);else for(;t!==null;){if(t.tag===3){$E(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Va===null||!Va.has(n))){e=dt(a,e),a=nv(2),n=Ha(t,a,2),n!==null&&(lv(a,n,t,e),Eo(n,2),Bt(n));break}}t=t.return}}function Ac(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new c0;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(a)||(rf=!0,l.add(a),e=E0.bind(null,e,t,a),t.then(e,e))}function E0(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,j===e&&(I&a)===a&&(ie===4||ie===3&&(I&62914560)===I&&300>Fe()-Ms?(V&2)===0&&Ul(e,0):cf|=a,Bl===I&&(Bl=0)),Bt(e)}function Yv(e,t){t===0&&(t=US()),e=bn(e,t),e!==null&&(Eo(e,t),Bt(e))}function S0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Yv(e,a)}function h0(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(v(314))}n!==null&&n.delete(t),Yv(e,a)}function v0(e,t){return bd(e,t)}var cs=null,ol=null,fd=!1,ds=!1,Cc=!1,Ia=0;function Bt(e){e!==ol&&e.next===null&&(ol===null?cs=ol=e:ol=ol.next=e),ds=!0,fd||(fd=!0,T0())}function yo(e,t){if(!Cc&&ds){Cc=!0;do for(var a=!1,n=cs;n!==null;){if(!t)if(e!==0){var l=n.pendingLanes;if(l===0)var i=0;else{var o=n.suspendedLanes,u=n.pingedLanes;i=(1<<31-ke(42|e)+1)-1,i&=l&~(o&~u),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,WE(n,i))}else i=I,i=ps(n,n===j?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||go(n,i)||(a=!0,WE(n,i));n=n.next}while(a);Cc=!1}}function p0(){Xv()}function Xv(){ds=fd=!1;var e=0;Ia!==0&&N0()&&(e=Ia);for(var t=Fe(),a=null,n=cs;n!==null;){var l=n.next,i=jv(n,t);i===0?(n.next=null,a===null?cs=l:a.next=l,l===null&&(ol=a)):(a=n,(e!==0||(i&3)!==0)&&(ds=!0)),n=l}Se!==0&&Se!==5||yo(e,!1),Ia!==0&&(Ia=0)}function jv(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-ke(i),u=1<<o,s=l[o];s===-1?((u&a)===0||(u&n)!==0)&&(l[o]=Qy(u,t)):s<=t&&(e.expiredLanes|=u),i&=~u}if(t=j,a=I,a=ps(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(P===2||P===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&$r(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||go(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&$r(n),Od(a)){case 2:case 8:a=BS;break;case 32:a=Ku;break;case 268435456:a=IS;break;default:a=Ku}return n=Qv.bind(null,e),a=bd(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&$r(n),e.callbackPriority=2,e.callbackNode=null,2}function Qv(e,t){if(Se!==0&&Se!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Is()&&e.callbackNode!==a)return null;var n=I;return n=ps(e,e===j?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Rv(e,n,t),jv(e,Fe()),e.callbackNode!=null&&e.callbackNode===a?Qv.bind(null,e):null)}function WE(e,t){if(Is())return null;Rv(e,t,!0)}function T0(){M0(function(){(V&6)!==0?bd(RS,p0):Xv()})}function ff(){if(Ia===0){var e=Ll;e===0&&(e=fu,fu<<=1,(fu&261888)===0&&(fu=256)),Ia=e}return Ia}function eS(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Mu(""+e)}function tS(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function y0(e,t,a,n,l){if(t==="submit"&&a&&a.stateNode===l){var i=eS((l[qe]||null).action),o=n.submitter;o&&(t=(t=o[qe]||null)?eS(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var u=new Ts("action","action",null,n,l);e.push({event:u,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ia!==0){var s=o?tS(l,o):new FormData(l);ad(a,{pending:!0,data:s,method:l.method,action:i},null,s)}}else typeof i=="function"&&(u.preventDefault(),s=o?tS(l,o):new FormData(l),ad(a,{pending:!0,data:s,method:l.method,action:i},i,s))},currentTarget:l}]})}}for(_u=0;_u<Xc.length;_u++)bu=Xc[_u],aS=bu.toLowerCase(),nS=bu[0].toUpperCase()+bu.slice(1),Ct(aS,"on"+nS);var bu,aS,nS,_u;Ct(lh,"onAnimationEnd");Ct(ih,"onAnimationIteration");Ct(oh,"onAnimationStart");Ct("dblclick","onDoubleClick");Ct("focusin","onFocus");Ct("focusout","onBlur");Ct(GA,"onTransitionRun");Ct(wA,"onTransitionStart");Ct(PA,"onTransitionCancel");Ct(uh,"onTransitionEnd");Ol("onMouseEnter",["mouseout","mouseover"]);Ol("onMouseLeave",["mouseout","mouseover"]);Ol("onPointerEnter",["pointerout","pointerover"]);Ol("onPointerLeave",["pointerout","pointerover"]);An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));An("onBeforeInput",["compositionend","keypress","textInput","paste"]);An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function Kv(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],l=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var u=n[o],s=u.instance,r=u.currentTarget;if(u=u.listener,s!==i&&l.isPropagationStopped())break e;i=u,l.currentTarget=r;try{i(l)}catch(c){Fu(c)}l.currentTarget=null,i=s}else for(o=0;o<n.length;o++){if(u=n[o],s=u.instance,r=u.currentTarget,u=u.listener,s!==i&&l.isPropagationStopped())break e;i=u,l.currentTarget=r;try{i(l)}catch(c){Fu(c)}l.currentTarget=null,i=s}}}}function M(e,t){var a=t[zc];a===void 0&&(a=t[zc]=new Set);var n=e+"__bubble";a.has(n)||(Zv(t,e,2,!1),a.add(n))}function _c(e,t,a){var n=0;t&&(n|=4),Zv(a,e,n,t)}var Du="_reactListening"+Math.random().toString(36).slice(2);function mf(e){if(!e[Du]){e[Du]=!0,GS.forEach(function(a){a!=="selectionchange"&&(A0.has(a)||_c(a,!1,e),_c(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Du]||(t[Du]=!0,_c("selectionchange",!1,t))}}function Zv(e,t,a,n){switch(up(t)){case 2:var l=J0;break;case 8:l=k0;break;default:l=hf}a=l.bind(null,t,a,e),l=void 0,!Pc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,a,{capture:!0,passive:l}):e.addEventListener(t,a,!0):l!==void 0?e.addEventListener(t,a,{passive:l}):e.addEventListener(t,a,!1)}function bc(e,t,a,n,l){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===l)break;if(o===4)for(o=n.return;o!==null;){var s=o.tag;if((s===3||s===4)&&o.stateNode.containerInfo===l)return;o=o.return}for(;u!==null;){if(o=rl(u),o===null)return;if(s=o.tag,s===5||s===6||s===26||s===27){n=i=o;continue e}u=u.parentNode}}n=n.return}KS(function(){var r=i,c=Md(a),g=[];e:{var f=sh.get(e);if(f!==void 0){var E=Ts,T=e;switch(e){case"keypress":if(Bu(a)===0)break e;case"keydown":case"keyup":E=hA;break;case"focusin":T="focus",E=nc;break;case"focusout":T="blur",E=nc;break;case"beforeblur":case"afterblur":E=nc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=cE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=iA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=TA;break;case lh:case ih:case oh:E=sA;break;case uh:E=AA;break;case"scroll":case"scrollend":E=nA;break;case"wheel":E=_A;break;case"copy":case"cut":case"paste":E=cA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=fE;break;case"toggle":case"beforetoggle":E=DA}var y=(t&4)!==0,U=!y&&(e==="scroll"||e==="scrollend"),m=y?f!==null?f+"Capture":null:f;y=[];for(var d=r,S;d!==null;){var h=d;if(S=h.stateNode,h=h.tag,h!==5&&h!==26&&h!==27||S===null||m===null||(h=$i(d,m),h!=null&&y.push(uo(d,h,S))),U)break;d=d.return}0<y.length&&(f=new E(f,T,null,a,c),g.push({event:f,listeners:y}))}}if((t&7)===0){e:{if(f=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",f&&a!==wc&&(T=a.relatedTarget||a.fromElement)&&(rl(T)||T[Hl]))break e;if((E||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,E?(T=a.relatedTarget||a.toElement,E=r,T=T?rl(T):null,T!==null&&(U=fo(T),y=T.tag,T!==U||y!==5&&y!==27&&y!==6)&&(T=null)):(E=null,T=r),E!==T)){if(y=cE,h="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(y=fE,h="onPointerLeave",m="onPointerEnter",d="pointer"),U=E==null?f:xi(E),S=T==null?f:xi(T),f=new y(h,d+"leave",E,a,c),f.target=U,f.relatedTarget=S,h=null,rl(c)===r&&(y=new y(m,d+"enter",T,a,c),y.target=S,y.relatedTarget=U,h=y),U=h,E&&T)t:{for(y=C0,m=E,d=T,S=0,h=m;h;h=y(h))S++;h=0;for(var C=d;C;C=y(C))h++;for(;0<S-h;)m=y(m),S--;for(;0<h-S;)d=y(d),h--;for(;S--;){if(m===d||d!==null&&m===d.alternate){y=m;break t}m=y(m),d=y(d)}y=null}else y=null;E!==null&&lS(g,f,E,y,!1),T!==null&&U!==null&&lS(g,U,T,y,!0)}}e:{if(f=r?xi(r):window,E=f.nodeName&&f.nodeName.toLowerCase(),E==="select"||E==="input"&&f.type==="file")var B=SE;else if(EE(f))if(WS)B=zA;else{B=UA;var p=IA}else E=f.nodeName,!E||E.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?r&&Ld(r.elementType)&&(B=SE):B=xA;if(B&&(B=B(e,r))){$S(g,B,a,c);break e}p&&p(e,f,r),e==="focusout"&&r&&f.type==="number"&&r.memoizedProps.value!=null&&Gc(f,"number",f.value)}switch(p=r?xi(r):window,e){case"focusin":(EE(p)||p.contentEditable==="true")&&(fl=p,qc=r,wi=null);break;case"focusout":wi=qc=fl=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,TE(g,a,c);break;case"selectionchange":if(VA)break;case"keydown":case"keyup":TE(g,a,c)}var _;if(Id)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else dl?JS(e,a)&&(A="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(A="onCompositionStart");A&&(FS&&a.locale!=="ko"&&(dl||A!=="onCompositionStart"?A==="onCompositionEnd"&&dl&&(_=ZS()):(Ma=c,Rd="value"in Ma?Ma.value:Ma.textContent,dl=!0)),p=fs(r,A),0<p.length&&(A=new dE(A,e,null,a,c),g.push({event:A,listeners:p}),_?A.data=_:(_=kS(a),_!==null&&(A.data=_)))),(_=NA?LA(e,a):MA(e,a))&&(A=fs(r,"onBeforeInput"),0<A.length&&(p=new dE("onBeforeInput","beforeinput",null,a,c),g.push({event:p,listeners:A}),p.data=_)),y0(g,e,r,a,c)}Kv(g,t)})}function uo(e,t,a){return{instance:e,listener:t,currentTarget:a}}function fs(e,t){for(var a=t+"Capture",n=[];e!==null;){var l=e,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=$i(e,a),l!=null&&n.unshift(uo(e,l,i)),l=$i(e,t),l!=null&&n.push(uo(e,l,i))),e.tag===3)return n;e=e.return}return[]}function C0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lS(e,t,a,n,l){for(var i=t._reactName,o=[];a!==null&&a!==n;){var u=a,s=u.alternate,r=u.stateNode;if(u=u.tag,s!==null&&s===n)break;u!==5&&u!==26&&u!==27||r===null||(s=r,l?(r=$i(a,i),r!=null&&o.unshift(uo(a,r,s))):l||(r=$i(a,i),r!=null&&o.push(uo(a,r,s)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var _0=/\r\n?/g,b0=/\u0000|\uFFFD/g;function iS(e){return(typeof e=="string"?e:""+e).replace(_0,`
`).replace(b0,"")}function Fv(e,t){return t=iS(t),iS(e)===t}function Y(e,t,a,n,l,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Nl(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Nl(e,""+n);break;case"className":Eu(e,"class",n);break;case"tabIndex":Eu(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Eu(e,a,n);break;case"style":QS(e,n,i);break;case"data":if(t!=="object"){Eu(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Mu(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&Y(e,t,"name",l.name,l,null),Y(e,t,"formEncType",l.formEncType,l,null),Y(e,t,"formMethod",l.formMethod,l,null),Y(e,t,"formTarget",l.formTarget,l,null)):(Y(e,t,"encType",l.encType,l,null),Y(e,t,"method",l.method,l,null),Y(e,t,"target",l.target,l,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Mu(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Wt);break;case"onScroll":n!=null&&M("scroll",e);break;case"onScrollEnd":n!=null&&M("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(v(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(v(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Mu(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":M("beforetoggle",e),M("toggle",e),Lu(e,"popover",n);break;case"xlinkActuate":jt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":jt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":jt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":jt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":jt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":jt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":jt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":jt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":jt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Lu(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=tA.get(a)||a,Lu(e,a,n))}}function md(e,t,a,n,l,i){switch(a){case"style":QS(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(v(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(v(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Nl(e,n):(typeof n=="number"||typeof n=="bigint")&&Nl(e,""+n);break;case"onScroll":n!=null&&M("scroll",e);break;case"onScrollEnd":n!=null&&M("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Wt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wS.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),t=a.slice(2,l?a.length-7:void 0),i=e[qe]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,l),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,l);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Lu(e,a,n)}}}function Oe(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":M("error",e),M("load",e);var n=!1,l=!1,i;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:Y(e,t,i,o,a,null)}}l&&Y(e,t,"srcSet",a.srcSet,a,null),n&&Y(e,t,"src",a.src,a,null);return;case"input":M("invalid",e);var u=i=o=l=null,s=null,r=null;for(n in a)if(a.hasOwnProperty(n)){var c=a[n];if(c!=null)switch(n){case"name":l=c;break;case"type":o=c;break;case"checked":s=c;break;case"defaultChecked":r=c;break;case"value":i=c;break;case"defaultValue":u=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(v(137,t));break;default:Y(e,t,n,c,a,null)}}YS(e,i,u,s,r,o,l,!1);return;case"select":M("invalid",e),n=o=i=null;for(l in a)if(a.hasOwnProperty(l)&&(u=a[l],u!=null))switch(l){case"value":i=u;break;case"defaultValue":o=u;break;case"multiple":n=u;default:Y(e,t,l,u,a,null)}t=i,a=o,e.multiple=!!n,t!=null?Tl(e,!!n,t,!1):a!=null&&Tl(e,!!n,a,!0);return;case"textarea":M("invalid",e),i=l=n=null;for(o in a)if(a.hasOwnProperty(o)&&(u=a[o],u!=null))switch(o){case"value":n=u;break;case"defaultValue":l=u;break;case"children":i=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(v(91));break;default:Y(e,t,o,u,a,null)}jS(e,n,l,i);return;case"option":for(s in a)if(a.hasOwnProperty(s)&&(n=a[s],n!=null))switch(s){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Y(e,t,s,n,a,null)}return;case"dialog":M("beforetoggle",e),M("toggle",e),M("cancel",e),M("close",e);break;case"iframe":case"object":M("load",e);break;case"video":case"audio":for(n=0;n<oo.length;n++)M(oo[n],e);break;case"image":M("error",e),M("load",e);break;case"details":M("toggle",e);break;case"embed":case"source":case"link":M("error",e),M("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(r in a)if(a.hasOwnProperty(r)&&(n=a[r],n!=null))switch(r){case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:Y(e,t,r,n,a,null)}return;default:if(Ld(t)){for(c in a)a.hasOwnProperty(c)&&(n=a[c],n!==void 0&&md(e,t,c,n,a,void 0));return}}for(u in a)a.hasOwnProperty(u)&&(n=a[u],n!=null&&Y(e,t,u,n,a,null))}function D0(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,o=null,u=null,s=null,r=null,c=null;for(E in a){var g=a[E];if(a.hasOwnProperty(E)&&g!=null)switch(E){case"checked":break;case"value":break;case"defaultValue":s=g;default:n.hasOwnProperty(E)||Y(e,t,E,null,n,g)}}for(var f in n){var E=n[f];if(g=a[f],n.hasOwnProperty(f)&&(E!=null||g!=null))switch(f){case"type":i=E;break;case"name":l=E;break;case"checked":r=E;break;case"defaultChecked":c=E;break;case"value":o=E;break;case"defaultValue":u=E;break;case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(v(137,t));break;default:E!==g&&Y(e,t,f,E,n,g)}}Vc(e,o,u,s,r,c,i,l);return;case"select":E=o=u=f=null;for(i in a)if(s=a[i],a.hasOwnProperty(i)&&s!=null)switch(i){case"value":break;case"multiple":E=s;default:n.hasOwnProperty(i)||Y(e,t,i,null,n,s)}for(l in n)if(i=n[l],s=a[l],n.hasOwnProperty(l)&&(i!=null||s!=null))switch(l){case"value":f=i;break;case"defaultValue":u=i;break;case"multiple":o=i;default:i!==s&&Y(e,t,l,i,n,s)}t=u,a=o,n=E,f!=null?Tl(e,!!a,f,!1):!!n!=!!a&&(t!=null?Tl(e,!!a,t,!0):Tl(e,!!a,a?[]:"",!1));return;case"textarea":E=f=null;for(u in a)if(l=a[u],a.hasOwnProperty(u)&&l!=null&&!n.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:Y(e,t,u,null,n,l)}for(o in n)if(l=n[o],i=a[o],n.hasOwnProperty(o)&&(l!=null||i!=null))switch(o){case"value":f=l;break;case"defaultValue":E=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(v(91));break;default:l!==i&&Y(e,t,o,l,n,i)}XS(e,f,E);return;case"option":for(var T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!n.hasOwnProperty(T))switch(T){case"selected":e.selected=!1;break;default:Y(e,t,T,null,n,f)}for(s in n)if(f=n[s],E=a[s],n.hasOwnProperty(s)&&f!==E&&(f!=null||E!=null))switch(s){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Y(e,t,s,f,n,E)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in a)f=a[y],a.hasOwnProperty(y)&&f!=null&&!n.hasOwnProperty(y)&&Y(e,t,y,null,n,f);for(r in n)if(f=n[r],E=a[r],n.hasOwnProperty(r)&&f!==E&&(f!=null||E!=null))switch(r){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(v(137,t));break;default:Y(e,t,r,f,n,E)}return;default:if(Ld(t)){for(var U in a)f=a[U],a.hasOwnProperty(U)&&f!==void 0&&!n.hasOwnProperty(U)&&md(e,t,U,void 0,n,f);for(c in n)f=n[c],E=a[c],!n.hasOwnProperty(c)||f===E||f===void 0&&E===void 0||md(e,t,c,f,n,E);return}}for(var m in a)f=a[m],a.hasOwnProperty(m)&&f!=null&&!n.hasOwnProperty(m)&&Y(e,t,m,null,n,f);for(g in n)f=n[g],E=a[g],!n.hasOwnProperty(g)||f===E||f==null&&E==null||Y(e,t,g,f,n,E)}function oS(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function O0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var l=a[n],i=l.transferSize,o=l.initiatorType,u=l.duration;if(i&&u&&oS(o)){for(o=0,u=l.responseEnd,n+=1;n<a.length;n++){var s=a[n],r=s.startTime;if(r>u)break;var c=s.transferSize,g=s.initiatorType;c&&oS(g)&&(s=s.responseEnd,o+=c*(s<u?1:(u-r)/(s-r)))}if(--n,t+=8*(i+o)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gd=null,Ed=null;function ms(e){return e.nodeType===9?e:e.ownerDocument}function uS(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Sd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dc=null;function N0(){var e=window.event;return e&&e.type==="popstate"?e===Dc?!1:(Dc=e,!0):(Dc=null,!1)}var kv=typeof setTimeout=="function"?setTimeout:void 0,L0=typeof clearTimeout=="function"?clearTimeout:void 0,sS=typeof Promise=="function"?Promise:void 0,M0=typeof queueMicrotask=="function"?queueMicrotask:typeof sS<"u"?function(e){return sS.resolve(null).then(e).catch(R0)}:kv;function R0(e){setTimeout(function(){throw e})}function Za(e){return e==="head"}function rS(e,t){var a=t,n=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(l),zl(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Ji(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ji(a);for(var i=a.firstChild;i;){var o=i.nextSibling,u=i.nodeName;i[So]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=o}}else a==="body"&&Ji(e.ownerDocument.body);a=l}while(a);zl(t)}function cS(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function hd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hd(a),Nd(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function B0(e,t,a,n){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[So])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=gt(e.nextSibling),e===null)break}return null}function I0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=gt(e.nextSibling),e===null))return null;return e}function $v(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=gt(e.nextSibling),e===null))return null;return e}function vd(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function U0(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Td=null;function dS(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return gt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function fS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Wv(e,t,a){switch(t=ms(a),e){case"html":if(e=t.documentElement,!e)throw Error(v(452));return e;case"head":if(e=t.head,!e)throw Error(v(453));return e;case"body":if(e=t.body,!e)throw Error(v(454));return e;default:throw Error(v(451))}}function Ji(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Nd(e)}var Et=new Map,mS=new Set;function gs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ra=G.d;G.d={f:x0,r:z0,D:H0,C:V0,L:G0,m:w0,X:q0,S:P0,M:Y0};function x0(){var e=ra.f(),t=Rs();return e||t}function z0(e){var t=Vl(e);t!==null&&t.tag===5&&t.type==="form"?Qh(t):ra.r(e)}var ql=typeof document>"u"?null:document;function ep(e,t,a){var n=ql;if(n&&typeof t=="string"&&t){var l=ct(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),mS.has(l)||(mS.add(l),e={rel:e,crossOrigin:a,href:t},n.querySelector(l)===null&&(t=n.createElement("link"),Oe(t,"link",e),Te(t),n.head.appendChild(t)))}}function H0(e){ra.D(e),ep("dns-prefetch",e,null)}function V0(e,t){ra.C(e,t),ep("preconnect",e,t)}function G0(e,t,a){ra.L(e,t,a);var n=ql;if(n&&e&&t){var l='link[rel="preload"][as="'+ct(t)+'"]';t==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+ct(a.imageSizes)+'"]')):l+='[href="'+ct(e)+'"]';var i=l;switch(t){case"style":i=xl(e);break;case"script":i=Yl(e)}Et.has(i)||(e=k({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Et.set(i,e),n.querySelector(l)!==null||t==="style"&&n.querySelector(Ao(i))||t==="script"&&n.querySelector(Co(i))||(t=n.createElement("link"),Oe(t,"link",e),Te(t),n.head.appendChild(t)))}}function w0(e,t){ra.m(e,t);var a=ql;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+ct(n)+'"][href="'+ct(e)+'"]',i=l;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Yl(e)}if(!Et.has(i)&&(e=k({rel:"modulepreload",href:e},t),Et.set(i,e),a.querySelector(l)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Co(i)))return}n=a.createElement("link"),Oe(n,"link",e),Te(n),a.head.appendChild(n)}}}function P0(e,t,a){ra.S(e,t,a);var n=ql;if(n&&e){var l=pl(n).hoistableStyles,i=xl(e);t=t||"default";var o=l.get(i);if(!o){var u={loading:0,preload:null};if(o=n.querySelector(Ao(i)))u.loading=5;else{e=k({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Et.get(i))&&gf(e,a);var s=o=n.createElement("link");Te(s),Oe(s,"link",e),s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),s.addEventListener("load",function(){u.loading|=1}),s.addEventListener("error",function(){u.loading|=2}),u.loading|=4,wu(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:u},l.set(i,o)}}}function q0(e,t){ra.X(e,t);var a=ql;if(a&&e){var n=pl(a).hoistableScripts,l=Yl(e),i=n.get(l);i||(i=a.querySelector(Co(l)),i||(e=k({src:e,async:!0},t),(t=Et.get(l))&&Ef(e,t),i=a.createElement("script"),Te(i),Oe(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function Y0(e,t){ra.M(e,t);var a=ql;if(a&&e){var n=pl(a).hoistableScripts,l=Yl(e),i=n.get(l);i||(i=a.querySelector(Co(l)),i||(e=k({src:e,async:!0,type:"module"},t),(t=Et.get(l))&&Ef(e,t),i=a.createElement("script"),Te(i),Oe(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function gS(e,t,a,n){var l=(l=Ua.current)?gs(l):null;if(!l)throw Error(v(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=xl(a.href),a=pl(l).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=xl(a.href);var i=pl(l).hoistableStyles,o=i.get(e);if(o||(l=l.ownerDocument||l,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=l.querySelector(Ao(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Et.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Et.set(e,a),i||X0(l,e,a,o.state))),t&&n===null)throw Error(v(528,""));return o}if(t&&n!==null)throw Error(v(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Yl(a),a=pl(l).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(v(444,e))}}function xl(e){return'href="'+ct(e)+'"'}function Ao(e){return'link[rel="stylesheet"]['+e+"]"}function tp(e){return k({},e,{"data-precedence":e.precedence,precedence:null})}function X0(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Oe(t,"link",a),Te(t),e.head.appendChild(t))}function Yl(e){return'[src="'+ct(e)+'"]'}function Co(e){return"script[async]"+e}function ES(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+ct(a.href)+'"]');if(n)return t.instance=n,Te(n),n;var l=k({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Te(n),Oe(n,"style",l),wu(n,a.precedence,e),t.instance=n;case"stylesheet":l=xl(a.href);var i=e.querySelector(Ao(l));if(i)return t.state.loading|=4,t.instance=i,Te(i),i;n=tp(a),(l=Et.get(l))&&gf(n,l),i=(e.ownerDocument||e).createElement("link"),Te(i);var o=i;return o._p=new Promise(function(u,s){o.onload=u,o.onerror=s}),Oe(i,"link",n),t.state.loading|=4,wu(i,a.precedence,e),t.instance=i;case"script":return i=Yl(a.src),(l=e.querySelector(Co(i)))?(t.instance=l,Te(l),l):(n=a,(l=Et.get(i))&&(n=k({},a),Ef(n,l)),e=e.ownerDocument||e,l=e.createElement("script"),Te(l),Oe(l,"link",n),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(v(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,wu(n,a.precedence,e));return t.instance}function wu(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=n.length?n[n.length-1]:null,i=l,o=0;o<n.length;o++){var u=n[o];if(u.dataset.precedence===t)i=u;else if(i!==l)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function gf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ef(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Pu=null;function SS(e,t,a){if(Pu===null){var n=new Map,l=Pu=new Map;l.set(a,n)}else l=Pu,n=l.get(a),n||(n=new Map,l.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var i=a[l];if(!(i[So]||i[_e]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var u=n.get(o);u?u.push(i):n.set(o,[i])}}return n}function hS(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function j0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ap(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Q0(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var l=xl(n.href),i=t.querySelector(Ao(l));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Es.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Te(i);return}i=t.ownerDocument||t,n=tp(n),(l=Et.get(l))&&gf(n,l),i=i.createElement("link"),Te(i);var o=i;o._p=new Promise(function(u,s){o.onload=u,o.onerror=s}),Oe(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Es.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Oc=0;function K0(e,t){return e.stylesheets&&e.count===0&&qu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&qu(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Oc===0&&(Oc=62500*O0());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&qu(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Oc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(l)}}:null}function Es(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ss=null;function qu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ss=new Map,t.forEach(Z0,e),Ss=null,Es.call(e))}function Z0(e,t){if(!(t.state.loading&4)){var a=Ss.get(e);if(a)var n=a.get(null);else{a=new Map,Ss.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var o=l[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),n=o)}n&&a.set(null,n)}l=t.instance,o=l.getAttribute("data-precedence"),i=a.get(o)||n,i===n&&a.set(null,l),a.set(o,l),this.count++,n=Es.bind(this),l.addEventListener("load",n),l.addEventListener("error",n),i?i.parentNode.insertBefore(l,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var so={$$typeof:$t,Provider:null,Consumer:null,_currentValue:fn,_currentValue2:fn,_threadCount:0};function F0(e,t,a,n,l,i,o,u,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=n,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function np(e,t,a,n,l,i,o,u,s,r,c,g){return e=new F0(e,t,a,o,s,r,c,g,u),t=1,i===!0&&(t|=24),i=Ke(3,null,null,t),e.current=i,i.stateNode=e,t=wd(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},Yd(i),e}function lp(e){return e?(e=El,e):El}function ip(e,t,a,n,l,i){l=lp(l),n.context===null?n.context=l:n.pendingContext=l,n=za(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=Ha(e,n,t),a!==null&&(Pe(a,e,t),qi(a,e,t))}function vS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Sf(e,t){vS(e,t),(e=e.alternate)&&vS(e,t)}function op(e){if(e.tag===13||e.tag===31){var t=bn(e,67108864);t!==null&&Pe(t,e,67108864),Sf(e,67108864)}}function pS(e){if(e.tag===13||e.tag===31){var t=$e();t=Dd(t);var a=bn(e,t);a!==null&&Pe(a,e,t),Sf(e,t)}}var hs=!0;function J0(e,t,a,n){var l=b.T;b.T=null;var i=G.p;try{G.p=2,hf(e,t,a,n)}finally{G.p=i,b.T=l}}function k0(e,t,a,n){var l=b.T;b.T=null;var i=G.p;try{G.p=8,hf(e,t,a,n)}finally{G.p=i,b.T=l}}function hf(e,t,a,n){if(hs){var l=yd(n);if(l===null)bc(e,t,n,vs,a),TS(e,n);else if(W0(l,e,t,a,n))n.stopPropagation();else if(TS(e,n),t&4&&-1<$0.indexOf(e)){for(;l!==null;){var i=Vl(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=rn(i.pendingLanes);if(o!==0){var u=i;for(u.pendingLanes|=2,u.entangledLanes|=2;o;){var s=1<<31-ke(o);u.entanglements[1]|=s,o&=~s}Bt(i),(V&6)===0&&(us=Fe()+500,yo(0,!1))}}break;case 31:case 13:u=bn(i,2),u!==null&&Pe(u,i,2),Rs(),Sf(i,2)}if(i=yd(n),i===null&&bc(e,t,n,vs,a),i===l)break;l=i}l!==null&&n.stopPropagation()}else bc(e,t,n,null,a)}}function yd(e){return e=Md(e),vf(e)}var vs=null;function vf(e){if(vs=null,e=rl(e),e!==null){var t=fo(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=DS(t),e!==null)return e;e=null}else if(a===31){if(e=OS(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return vs=e,null}function up(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gy()){case RS:return 2;case BS:return 8;case Ku:case wy:return 32;case IS:return 268435456;default:return 32}default:return 32}}var Ad=!1,wa=null,Pa=null,qa=null,ro=new Map,co=new Map,Na=[],$0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TS(e,t){switch(e){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":ro.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(t.pointerId)}}function Ri(e,t,a,n,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Vl(t),t!==null&&op(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function W0(e,t,a,n,l){switch(t){case"focusin":return wa=Ri(wa,e,t,a,n,l),!0;case"dragenter":return Pa=Ri(Pa,e,t,a,n,l),!0;case"mouseover":return qa=Ri(qa,e,t,a,n,l),!0;case"pointerover":var i=l.pointerId;return ro.set(i,Ri(ro.get(i)||null,e,t,a,n,l)),!0;case"gotpointercapture":return i=l.pointerId,co.set(i,Ri(co.get(i)||null,e,t,a,n,l)),!0}return!1}function sp(e){var t=rl(e.target);if(t!==null){var a=fo(t);if(a!==null){if(t=a.tag,t===13){if(t=DS(a),t!==null){e.blockedOn=t,nE(e.priority,function(){pS(a)});return}}else if(t===31){if(t=OS(a),t!==null){e.blockedOn=t,nE(e.priority,function(){pS(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=yd(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);wc=n,a.target.dispatchEvent(n),wc=null}else return t=Vl(a),t!==null&&op(t),e.blockedOn=a,!1;t.shift()}return!0}function yS(e,t,a){Yu(e)&&a.delete(t)}function eC(){Ad=!1,wa!==null&&Yu(wa)&&(wa=null),Pa!==null&&Yu(Pa)&&(Pa=null),qa!==null&&Yu(qa)&&(qa=null),ro.forEach(yS),co.forEach(yS)}function Ou(e,t){e.blockedOn===t&&(e.blockedOn=null,Ad||(Ad=!0,he.unstable_scheduleCallback(he.unstable_NormalPriority,eC)))}var Nu=null;function AS(e){Nu!==e&&(Nu=e,he.unstable_scheduleCallback(he.unstable_NormalPriority,function(){Nu===e&&(Nu=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],l=e[t+2];if(typeof n!="function"){if(vf(n||a)===null)continue;break}var i=Vl(a);i!==null&&(e.splice(t,3),t-=3,ad(i,{pending:!0,data:l,method:a.method,action:n},n,l))}}))}function zl(e){function t(s){return Ou(s,e)}wa!==null&&Ou(wa,e),Pa!==null&&Ou(Pa,e),qa!==null&&Ou(qa,e),ro.forEach(t),co.forEach(t);for(var a=0;a<Na.length;a++){var n=Na[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Na.length&&(a=Na[0],a.blockedOn===null);)sp(a),a.blockedOn===null&&Na.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var l=a[n],i=a[n+1],o=l[qe]||null;if(typeof i=="function")o||AS(a);else if(o){var u=null;if(i&&i.hasAttribute("formAction")){if(l=i,o=i[qe]||null)u=o.formAction;else if(vf(l)!==null)continue}else u=o.action;typeof u=="function"?a[n+1]=u:(a.splice(n,3),n-=3),AS(a)}}}function rp(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return l=o})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function pf(e){this._internalRoot=e}Us.prototype.render=pf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(v(409));var a=t.current,n=$e();ip(a,n,e,t,null,null)};Us.prototype.unmount=pf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ip(e.current,2,null,e,null,null),Rs(),t[Hl]=null}};function Us(e){this._internalRoot=e}Us.prototype.unstable_scheduleHydration=function(e){if(e){var t=VS();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Na.length&&t!==0&&t<Na[a].priority;a++);Na.splice(a,0,e),a===0&&sp(e)}};var CS=_S.version;if(CS!=="19.2.0")throw Error(v(527,CS,"19.2.0"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(v(188)):(e=Object.keys(e).join(","),Error(v(268,e)));return e=By(t),e=e!==null?NS(e):null,e=e===null?null:e.stateNode,e};var tC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Bi=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Bi.isDisabled&&Bi.supportsFiber))try{mo=Bi.inject(tC),Je=Bi}catch{}var Bi;xs.createRoot=function(e,t){if(!bS(e))throw Error(v(299));var a=!1,n="",l=ev,i=tv,o=av;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=np(e,1,!1,null,null,a,n,null,l,i,o,rp),e[Hl]=t.current,mf(e),new pf(t)};xs.hydrateRoot=function(e,t,a){if(!bS(e))throw Error(v(299));var n=!1,l="",i=ev,o=tv,u=av,s=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(u=a.onRecoverableError),a.formState!==void 0&&(s=a.formState)),t=np(e,1,!0,t,a??null,n,l,s,i,o,u,rp),t.context=lp(null),a=t.current,n=$e(),n=Dd(n),l=za(n),l.callback=null,Ha(a,l,n),a=n,t.current.lanes=a,Eo(t,a),Bt(t),e[Hl]=t.current,mf(e),new Us(t)};xs.version="19.2.0"});var Tf=da((kb,fp)=>{"use strict";function dp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dp)}catch(e){console.error(e)}}dp(),fp.exports=cp()});var w={DATE_INPUT:"date",DIET_TYPE_SELECT:"diet-type",TOP_BAR:".top-bar",FOOTER:"footer",EASTER_EGG_OVERLAY:".easter-egg-overlay",EASTER_EGG_ICON:".easter-egg-icon",SERVICE_NUMBER_PREFIX:"service-number-",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2",TAB_DADES:"tab-dades",TAB_SERVEIS:"tab-serveis",CONTENT_DADES:"dades-tab-content",CONTENT_SERVEIS:"serveis-tab-content",MAIN_CONTENT_AREA:"main-content",CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips",SIGNATURE_MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title",DOTACIO_MODAL:"dotacio-modal",OPTIONS_CONTAINER_DOT:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline",SAVE_DIET:"save-diet",NOTES_BUTTON_ID:"notes-selected-service",NOTES_MODAL_ID:"notes-modal",NOTES_TITLE_ID:"notes-title",NOTES_TEXTAREA_ID:"notes-textarea",NOTES_SAVE_ID:"notes-save",NOTES_CANCEL_ID:"notes-cancel",NOTES_COUNTER_ID:"notes-char-counter",SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel",TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text",SAVE_PILL:"save-pill",DONATION_LINK_ID:"openDonation",COOKIE_CONSENT_BANNER:"cookie-consent-banner",ACCEPT_COOKIES:"accept-cookies",DECLINE_COOKIES:"decline-cookies"},Me={INPUT_ERROR:"input-error",ACTIVE_TAB:"active",ERROR_TAB:"error-tab",MODAL_OPEN:"modal-open",MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",TOP_BAR_TAPS:3,FOOTER_TAPS:2,TIMEOUT:1e3,ANIMATION_DURATION:1e3,DEFAULT_DURATION:3e3,ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1,SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",CHIP_ACTIVE:"chip-active",PANEL_VISIBLE:"visible",BUTTON_OPEN:"open",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_LOAD_BTN:"diet-load",DIET_DELETE_BTN:"diet-delete",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal",INPUT_ERROR_DOT:"input-error",IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount",PROMPT_DISMISSED_LIMIT:2,ACTION_TRIGGER_LIMIT:10,DARK_THEME:"theme-dark",VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error",SIGNED:"signed",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},Ln={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group",PERSON_INPUT_GROUP:".input-with-icon",TEXT_SEL:".pill-text",SERVICE_CONTAINER_SELECTOR:".service",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete",SERVICE_NUMBER_INPUT:".service-number"},Ys={serviceNumber:".service-number",origin:".origin",destination:".destination",originTime:".origin-time",destinationTime:".destination-time",endTime:".end-time",mode:".chip-active",notes:""},Ut={SERVICE_NUMBER_LENGTH:9,VEHICLE_MAX_LENGTH:6,PERSON_NAME_MAX_LENGTH:28,LOCATION_MAX_LENGTH:35,PERSON_NAME_ALLOWED_CHARS:/^[a-zA-Z\s'’áéíóúàèìòùäëïöüñçÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÑÇ]+$/u},Hf={DEBOUNCE_TOAST:300,DEBOUNCE_AUTO_SAVE:1e3,DEBOUNCE_HANDLER:800};var ni={LUNCH:"lunch",DINNER:"dinner"},Vf=Ln.SERVICE_CONTAINER_SELECTOR,Xs={SERVICE_NUMBER_DIGITS_ONLY:"Solo se permiten d\xEDgitos (0-9) en el n\xFAmero de servicio.",SAVE_ERROR_DIGITAL_ONLY:"El n\xFAmero de servicio debe contener solo d\xEDgitos.",VALIDATION_FAILED:"Validaci\xF3n fallida",OCR_PROCESS_RUNNING:"Proceso OCR ya en marcha.",INVALID_IMAGE:"Selecciona una imagen.",IMAGE_TOO_BIG:"La imagen es demasiado grande (m\xE1x. 10 MB).",OCR_ERROR:"Error de escaneo",IMAGE_PROCESS_ERROR:"Error al procesar la imagen.",OCR_COMPLETE:"An\xE1lisis completado.",SAVING:"Guardando\u2026",SAVED:"Guardado",SAVE_ERROR:"No se pudo guardar",DOWNLOAD_STARTED:"Descarga iniciada correctamente.",PDF_GENERATION_ERROR:"Error en la generaci\xF3n del PDF",DOTACIO_SAVED:"Dotaci\xF3n guardada.",DOTACIO_LOADED:"Dotaci\xF3n cargada.",DOTACIO_DELETED:"Dotaci\xF3n eliminada."};var Gf={DOTACIIONS:"dotacions_v2",ANONYMOUS_USER:"anonymousUserId",COOKIE_CONSENT:"cookie_consent",THEME_PREFERENCE:"themePreference",USER_SELECTED_SERVICE_TYPE:"userSelectedServiceType",ONBOARDING_COMPLETED:"onboardingCompleted"};var Ne={CONTAINER_ID:"toast-container",TOAST_CLASS:"toast",DEFAULT_DURATION:3e3,DEFAULT_TYPE:"info",ALLOWED_TYPES:["info","success","error","warning"],MAX_QUEUE_SIZE:10,ANIMATION:{ENTER:"toast-enter",EXIT:"toast-exit"},UNDO_BTN_CLASS:"toast-undo-btn",DEFAULT_PRIORITY:1},te={queue:[],isVisible:!1,container:null,currentTimeout:null},$p=e=>e&&typeof e=="string"?e.replace(/[<>&]/g,""):"";function Wp(e){if(window.__muteToasts===!0)return!0;let t=window.__toastBlocklist;if(!t||!Array.isArray(t)||t.length===0)return!1;for(let a of t)if(a instanceof RegExp&&typeof e=="string"){if(a.test(e))return!0}else if(typeof a=="string"&&String(e)===a)return!0;return!1}function eT(e,t,a){if(!e||typeof e!="string"||!e.trim())throw new Error("El missatge del toast \xE9s obligatori i ha de ser una cadena no buida.");if(!Ne.ALLOWED_TYPES.includes(t))throw new Error(`Tipus de toast inv\xE0lid: ${t}. Ha de ser un de: ${Ne.ALLOWED_TYPES.join(", ")}`);if(!Number.isInteger(a)||a<0||a>6e4)throw new Error("La durada ha d'estar entre 0 i 60000 ms.")}function tT(){return!te.container&&(te.container=document.getElementById(Ne.CONTAINER_ID),!te.container)?(console.error(`[Toast] Contenidor '#${Ne.CONTAINER_ID}' no trobat.`),null):te.container}function js(e){te.currentTimeout&&(clearTimeout(te.currentTimeout),te.currentTimeout=null),e&&(e.classList.add(Ne.ANIMATION.EXIT),e.addEventListener("transitionend",()=>e.remove(),{once:!0})),te.isVisible=!1,wf()}function aT({message:e,type:t,duration:a,options:n}){let l=tT();if(!l)return;let i=document.createElement("div");i.className=`${Ne.TOAST_CLASS} ${t}`,i.setAttribute("role","alert"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),i.textContent=$p(e);let o=!0;if(n?.undoCallback instanceof Function){let u=document.createElement("button");u.type="button",u.className=Ne.UNDO_BTN_CLASS,u.textContent="Deshacer",u.setAttribute("aria-label","Deshacer la acci\xF3n"),u.addEventListener("click",()=>{o=!1;try{n.undoCallback()}finally{js(i)}}),i.appendChild(u)}l.appendChild(i),requestAnimationFrame(()=>{i.classList.add(Ne.ANIMATION.ENTER)}),te.currentTimeout=setTimeout(()=>{o&&n?.onExpire instanceof Function&&n.onExpire(),js(i)},a)}function wf(){te.isVisible||te.queue.length===0||(te.isVisible=!0,te.queue.sort((e,t)=>t.priority-e.priority),aT(te.queue.shift()))}function x(e,t=Ne.DEFAULT_TYPE,a=Ne.DEFAULT_DURATION,n={}){if(Wp(e))return;eT(e,t,a);let l=n.priority??Ne.DEFAULT_PRIORITY,i={message:e,type:t,duration:a,priority:l,options:n};if(!(n.queueable!==!1)&&te.isVisible){if(te.container){let s=te.container.querySelector(`.${Ne.TOAST_CLASS}:not(.${Ne.ANIMATION.EXIT})`);s&&s.remove()}js()}te.queue.length>=Ne.MAX_QUEUE_SIZE&&te.queue.sort((s,r)=>s.priority-r.priority).shift();let u=te.queue.findIndex(s=>s.priority<l);u===-1?te.queue.push(i):te.queue.splice(u,0,i),nT(),wf()}function nT(){let e="toast-undo-style";if(document.getElementById(e))return;let t=document.body.getAttribute("data-csp-nonce"),a=document.createElement("style");a.id=e,t&&a.setAttribute("nonce",t),a.textContent=`
    .${Ne.UNDO_BTN_CLASS} {
      margin-left: auto; 
      padding: 8px 12px; 
      background: none;
      border: none;
      border-radius: 4px; 
      cursor: pointer;     
      font-weight: 600;
      font-size: 0.875rem; 
      text-transform: uppercase; 
      letter-spacing: 0.08em; 
      color: inherit; 
      transition: background-color 0.2s ease;
    }
    .${Ne.UNDO_BTN_CLASS}:hover {
      background-color: rgba(255, 255, 255, 0.15); 
    }
  `,document.head.appendChild(a)}function ka(e){e?.classList.add(Me.INPUT_ERROR)}function Mn(e){e?.classList.remove(Me.INPUT_ERROR)}function Pf(e){if(!e||e.length===0)return"";let t=e.map(a=>`S${a}`);return t.length===1?t[0]:t.length===2?t.join(" y "):`${t.slice(0,-1).join(", ")} y ${t[t.length-1]}`}function li(e){!e||e.dataset.errorListenerAttached||(e.addEventListener("input",()=>Mn(e),{once:!0}),e.dataset.errorListenerAttached="true")}function qf(e,t,a,n){if(!e)return!0;Mn(e);let l=e.value.trim(),i=!1;return l?/^\d+$/.test(l)?l.length!==Ut.SERVICE_NUMBER_LENGTH&&(n.digitLength.push(t),i=!0):(n.nonNumeric.push(t),i=!0):a&&(n.emptyRequiredS1=!0,i=!0),i?(ka(e),li(e),!1):!0}function lT(e){let t=[];return e.nonNumeric.length>0&&t.push(`El n\xFAmero de servicio ${Pf(e.nonNumeric)} debe contener solo d\xEDgitos.`),e.digitLength.length>0&&t.push(`El n\xFAmero de servicio ${Pf(e.digitLength)} debe tener ${Ut.SERVICE_NUMBER_LENGTH} d\xEDgitos.`),t}function Io(){let e=!0;return[document.getElementById(w.DATE_INPUT),document.getElementById(w.DIET_TYPE_SELECT)].filter(Boolean).forEach(a=>{Mn(a),a.value.trim()||(ka(a),li(a),e=!1)}),e}function Uo(){let e={emptyRequiredS1:!1,nonNumeric:[],digitLength:[]},t=!0,a=document.getElementById(`${w.SERVICE_NUMBER_PREFIX}1`);if(!a)return console.error("Validation: No se ha encontrado el input para el servicio S1."),!1;t=qf(a,1,!0,e)&&t;for(let l=2;l<=4;l++){let i=document.getElementById(`${w.SERVICE_NUMBER_PREFIX}${l}`);i&&(t=qf(i,l,!1,e)&&t)}if(t)return!0;let n=lT(e);return n.length>0&&x(n.join(`
`),"error"),!1}function ce(e){return typeof e!="string"?"":e.trim().replace(/[<>&"'`]/g,"").trim()}function xo(e){return e?/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]$/.test(e):!0}function Yf(e,t,a,n){let l=e?.value.trim()||"";return l&&!Ut.PERSON_NAME_ALLOWED_CHARS.test(l)?(ka(t),!1):l.length>Ut.PERSON_NAME_MAX_LENGTH?(ka(t),n.push(`El nombre del ${a} no puede superar los ${Ut.PERSON_NAME_MAX_LENGTH} caracteres.`),!1):!0}function Xf(){let e=document.getElementById(w.VEHICLE_INPUT),t=document.getElementById(w.PERSON1_INPUT),a=document.getElementById(w.PERSON2_INPUT),n=t?.closest(Ln.PERSON_INPUT_GROUP),l=a?.closest(Ln.PERSON_INPUT_GROUP);Mn(e),Mn(n),Mn(l);let i=e?.value.trim()||"",o=t?.value.trim()||"",u=a?.value.trim()||"",s=!0,r=[];return i||(ka(e),r.push("El campo Veh\xEDculo es obligatorio."),s=!1),s=Yf(t,n,"Conductor",r)&&s,s=Yf(a,l,"Ayudante",r)&&s,!o&&!u&&(ka(n),ka(l),r.push("Debe indicar al menos un Conductor o Ayudante."),s=!1),s||(li(e),li(t),li(a),x(r.join(`
`),"error")),s}function jf(){let e=Ut.PERSON_NAME_ALLOWED_CHARS,t=/^[^\x00-\x1F\x7F<>&"'`]*$/u;function a(r){let c=r.target.value;e.test(c)||(r.target.value=c.replace(/[^a-zA-Z\s'’áéíóúàèìòùäëïöüñçÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÑÇ.]/g,""))}function n(r){let c=r.target.value;t.test(c)||(r.target.value=c.replace(/[<>&"'`]/g,"").trim())}function l(r){r.key==="Enter"||r.key==="Tab"||r.ctrlKey||r.metaKey||r.altKey||r.key.length>1||e.test(r.key)||r.preventDefault()}function i(r){r.key==="Enter"||r.key==="Tab"||r.ctrlKey||r.metaKey||r.altKey||r.key.length>1||t.test(r.key)||r.preventDefault()}[document.getElementById(w.PERSON1_INPUT),document.getElementById(w.PERSON2_INPUT)].filter(Boolean).forEach(r=>{r.addEventListener("input",a),r.addEventListener("keypress",l)}),document.querySelectorAll(".service .origin, .service .destination").forEach(r=>{r.addEventListener("input",n),r.addEventListener("keypress",i)});let s=document.getElementById(w.VEHICLE_INPUT);s&&s.addEventListener("input",r=>{r.target.value.length>Ut.VEHICLE_MAX_LENGTH&&(r.target.value=r.target.value.slice(0,Ut.VEHICLE_MAX_LENGTH))})}var iT=["3.6","3.51","3.22","3.11"],Rn={CONTAINER:"services-container",BUTTONS_CONTAINER:"service-buttons-container",OPTIONS_MENU:"options-menu",OPTIONS_TOGGLE_BTN:"options-toggle",CLEAR_BTN:"clear-selected-service",CAMERA_BTN:"camera-in-dropdown",CHIP_GROUP:"service-mode-chips"},ui={SERVICE_PANEL:".service",SERVICE_BUTTON:".service-button",CHIP:".chip",FORM_GROUP:".form-group"},ae={SERVICE_HIDDEN:"hidden",BUTTON_ACTIVE:"active-square",SERVICE_COLORS:["service-1","service-2","service-3","service-4"],OPTIONS_MENU_HIDDEN:"hidden",CHIP_ACTIVE:"chip-active"},oT=[".chip-group-title",".chip-group",".btn-ocr-inline",".section-divider"],uT=[".destination",".destination-time"],Qf=!1,Bn=0,ve=[],si=[],Kf=[],Qs=null,ii=null,xt=null,oi=null,sT=null,rT=[],fa=[],zt=["","","",""];function cT(){ii&&(ii.innerHTML="",si=ve.map((e,t)=>{let a=document.createElement("button");return a.className=`service-button ${ae.SERVICE_COLORS[t]}`,a.textContent=`S${t+1}`,a.type="button",a.setAttribute("aria-label",`Mostrar servei ${t+1}`),a.addEventListener("click",()=>ET(t)),ii.appendChild(a),a}))}function dT(){!xt||!oi||(oi.addEventListener("click",e=>{e.stopPropagation(),xt.classList.toggle(ae.OPTIONS_MENU_HIDDEN)}),document.addEventListener("click",e=>{!oi?.contains(e.target)&&!xt?.contains(e.target)&&xt.classList.add(ae.OPTIONS_MENU_HIDDEN)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&xt&&xt.classList.add(ae.OPTIONS_MENU_HIDDEN)}),xt.addEventListener("click",e=>{e.target.closest("button")&&xt.classList.add(ae.OPTIONS_MENU_HIDDEN)}))}function fT(e,t){let a=e.querySelector(t);return a?a.closest(ui.FORM_GROUP):null}function zo(e,t){if(!e)return;let a=t!=="3.6";uT.forEach(l=>{fT(e,l)?.classList.toggle(ae.SERVICE_HIDDEN,a)});let n=e.querySelector(".origin");n&&(a?n.setAttribute("enterkeyhint","done"):n.removeAttribute("enterkeyhint"))}function mT(e){sT&&rT.forEach(t=>t.classList.toggle(ae.CHIP_ACTIVE,t.dataset.mode===e))}function Ho(e,t){e.querySelectorAll(ui.CHIP).forEach(n=>n.classList.toggle(ae.CHIP_ACTIVE,n.dataset.mode===t))}function gT(){ve.forEach((e,t)=>{e.querySelectorAll(ui.CHIP).forEach(n=>{n.addEventListener("click",()=>{let l=n.dataset.mode;if(!iT.includes(l)){console.error(`Intent de canviar a un mode inv\xE0lid: "${l}". Acci\xF3 bloquejada.`);return}if(fa[t]===l)return;fa[t]=l,Ho(e,l),zo(e,l);let i=e.querySelector(".chip-group");i&&(ae.SERVICE_COLORS.forEach(o=>i.classList.remove(o)),i.classList.add(ae.SERVICE_COLORS[t])),Ht()})})})}function Ks(e){let t=ae.SERVICE_COLORS[e],a=(n,l)=>{n&&(n.classList.remove(...ae.SERVICE_COLORS),n.classList.add(l,t))};a(document.getElementById(Rn.CLEAR_BTN),"clear-selected-btn"),a(document.getElementById(Rn.CAMERA_BTN),"camera-btn"),a(document.getElementById("notes-selected-service"),"notes-btn"),a(oi,"options-btn")}function Zf(){if(!Qf&&(Kf=document.querySelectorAll(ui.SERVICE_PANEL),Qs=document.getElementById(Rn.CONTAINER),ii=document.getElementById(Rn.BUTTONS_CONTAINER),xt=document.getElementById(Rn.OPTIONS_MENU),oi=document.getElementById(Rn.OPTIONS_TOGGLE_BTN),!(!Qs||!ii)&&(ve=Array.from(Qs.querySelectorAll(ui.SERVICE_PANEL)),!!ve.length))){if(fa=ve.map(()=>"3.6"),cT(),dT(),gT(),ve.length>0&&si.length>0){ve.forEach((a,n)=>a.classList.toggle(ae.SERVICE_HIDDEN,n!==0)),si[0].classList.add(ae.BUTTON_ACTIVE);let e=fa[0];zo(ve[0],e),Ho(ve[0],e);let t=ve[0].querySelector(".chip-group");t&&t.classList.add(ae.SERVICE_COLORS[0]),mT(e),Ks(0)}Qf=!0}}function ET(e){if(e<0||e>=ve.length||e===Bn)return;ve[Bn].classList.add(ae.SERVICE_HIDDEN),ve[e].classList.remove(ae.SERVICE_HIDDEN),si[Bn].classList.remove(ae.BUTTON_ACTIVE),si[e].classList.add(ae.BUTTON_ACTIVE),Bn=e;let t=fa[e];zo(ve[e],t),Ho(ve[e],t);let a=ve[e].querySelector(".chip-group");a&&(ae.SERVICE_COLORS.forEach(n=>a.classList.remove(n)),a.classList.add(ae.SERVICE_COLORS[e])),Ks(e)}var $a=()=>Bn,Ff=e=>{if(e>=0&&e<fa.length)return fa[e]};function Jf(e){e&&e.querySelectorAll("input, select, textarea").forEach(t=>{t.type==="checkbox"||t.type==="radio"?t.checked=!1:t.type!=="button"&&t.type!=="submit"&&t.type!=="reset"&&(t.value=""),t.tagName==="SELECT"&&(t.selectedIndex=0)})}function Zs(){Ks(Bn)}function kf(e,t){if(e<0||e>=ve.length)return;fa[e]=t;let a=ve[e];a&&(Ho(a,t),zo(a,t),Ht())}function In(e){let t=e==="TSNU";Kf.forEach(a=>{oT.forEach(n=>{a.querySelector(n)?.classList.toggle(ae.SERVICE_HIDDEN,t)})})}function ri(e){e&&e.querySelectorAll(".input-error").forEach(t=>t.classList.remove("input-error"))}var Vo=class{constructor({id:t="",date:a="",dietType:n="",vehicleNumber:l="",person1:i="",person2:o="",signatureConductor:u="",signatureAjudant:s="",services:r=[],serviceType:c="TSU",timeStampDiet:g=new Date().toISOString()}={}){this.id=String(t),this.date=String(a),this.dietType=String(n),this.vehicleNumber=String(l),this.person1=String(i),this.person2=String(o),this.signatureConductor=String(u),this.signatureAjudant=String(s),this.services=Array.isArray(r)?r:[],this.serviceType=String(c),this.timeStampDiet=String(g)}};function ST(){let e="dietSalt",t=(n=16)=>Array.from({length:n},()=>Math.floor(Math.random()*256).toString(16).padStart(2,"0")).join(""),a=localStorage.getItem(e);if(!a){if(window.crypto?.getRandomValues){let n=crypto.getRandomValues(new Uint8Array(16));a=Array.from(n).map(l=>l.toString(16).padStart(2,"0")).join("")}else console.warn("[pseudoId] crypto.getRandomValues no disponible; usant Math.random() (menys segur, nom\xE9s mode desenvolupament)."),a=t(16);localStorage.setItem(e,a)}return a}async function Un(e){if(!window.crypto?.subtle)return console.warn("[pseudoId] WebCrypto no disponible (context no segur). S\u2019usar\xE0 l\u2019ID en clar nom\xE9s en aquesta sessi\xF3."),e;let a=new TextEncoder().encode(ST()+e),n=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(n)).map(l=>l.toString(16).padStart(2,"0")).join("")}var Fs=new Intl.RelativeTimeFormat("es",{numeric:"auto"});function $f(e){if(!(e instanceof Date)||isNaN(e.getTime()))throw new Error("La data proporcionada no \xE9s v\xE0lida.");let t=Date.now()-e.getTime();if(t<0)return"en el futuro";let a=Math.round(t/1e3);if(a<45)return"hace unos segundos";if(a<90)return"hace un minuto";let n=Math.round(a/60);if(n<60)return Fs.format(-n,"minute");let l=Math.round(n/60);if(l<24)return Fs.format(-l,"hour");let i=Math.round(l/24);return Fs.format(-i,"day")}var xn={},ma={debug:10,info:20,warn:30,error:40,silent:50};function hT(){if(typeof xn<"u"&&xn.env){if(typeof xn.env.MODE=="string")return xn.env.MODE;if(typeof xn.env.NODE_ENV=="string")return xn.env.NODE_ENV}return typeof process<"u"&&process.env?"production":typeof window<"u"&&typeof window.__APP_ENV__=="string"?window.__APP_ENV__:"development"}var wo=hT()==="production"?ma.warn:ma.debug,Js=new Set;function vT(e){for(let t of Js)try{t(e)}catch{}}function pT(e){return typeof console>"u"?null:e==="debug"&&typeof console.debug=="function"?console.debug.bind(console):e==="info"&&typeof console.info=="function"?console.info.bind(console):e==="warn"&&typeof console.warn=="function"?console.warn.bind(console):e==="error"&&typeof console.error=="function"?console.error.bind(console):console.log?console.log.bind(console):null}function TT(e,t){let a=new Date().toISOString();return t?[`[${a}] [${t}] [${e.toUpperCase()}]`]:[`[${a}] [${e.toUpperCase()}]`]}function Wf(e){return ma[e]>=wo&&wo<ma.silent}function Go(e,t,a){if(!Wf(e))return;let n=pT(e);n&&n(...TT(e,t),...a)}function ks(e){let t=e;return{debug:(...a)=>Go("debug",t,a),info:(...a)=>Go("info",t,a),warn:(...a)=>Go("warn",t,a),error:(...a)=>Go("error",t,a),isEnabled(a="debug"){return Wf(a)},withScope(a){let n=t?`${t}:${a}`:a;return ks(n)}}}var $={...ks("App"),setLevel(e){if(!ma[e])throw new Error(`Nivell de log desconegut: ${e}`);wo=ma[e],vT(e)},getLevel(){let e=Object.entries(ma).find(([,t])=>t===wo);return e?e[0]:"debug"},subscribe(e){return Js.add(e),()=>Js.delete(e)},withScope(e){return ks(e)}},n_=Object.freeze({...ma});var yT="DietasDB";var Vt="dietas",em="dateIndex",at=null;function tm(){return new Promise((e,t)=>{let a=indexedDB.open(yT,1);a.onupgradeneeded=n=>{let l=n.target.result,i;l.objectStoreNames.contains(Vt)?i=n.target.transaction.objectStore(Vt):i=l.createObjectStore(Vt,{keyPath:"id"}),i.indexNames.contains(em)||i.createIndex(em,"date",{unique:!1})},a.onsuccess=n=>{at=n.target.result,at.onclose=()=>at=null,at.onerror=()=>at=null,at.onversionchange=()=>at.close(),e(at)},a.onerror=n=>t(n.target.error),a.onblocked=()=>t(new Error("IndexedDB bloquejat per una altra pestanya"))})}async function ci(e="readonly"){return(at??(at=await tm())).transaction(Vt,e)}function di(e,t){return new Promise((a,n)=>{e.onsuccess=l=>a(l.target.result),e.onerror=l=>n(new Error(`${t}: ${l.target.error}`))})}function $s(e){return new Promise((t,a)=>{e.oncomplete=()=>t(),e.onerror=()=>a(e.error),e.onabort=()=>a(e.error)})}async function Ws(e){try{let t=await ci("readwrite");return di(t.objectStore(Vt).add(e),"No s'ha pogut afegir"),await $s(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function am(e){try{let t=await ci("readwrite");return di(t.objectStore(Vt).put(e),"No s'ha pogut actualitzar"),await $s(t),e.id}catch(t){throw t.name==="QuotaExceededError"||t.message?.includes("Quota")?new Error("No hi ha espai suficient a l'emmagatzematge local. Elimina antigues dietes per alliberar espai."):t}}async function Wa(e){if(!e)return;let t=await ci();return di(t.objectStore(Vt).get(e),"Error obtenint dieta")}async function Po(){let e=await ci();return di(e.objectStore(Vt).getAll(),"Error llistant dietes")}async function nm(e){if(!e)return;let t=await ci("readwrite");di(t.objectStore(Vt).delete(e),"Error eliminant dieta"),await $s(t)}async function lm(){return at??(at=await tm())}var AT="save-pill",CT=".pill-text",Gt={VISIBLE:"visible",HAS_CHANGES:"has-changes",SAVING:"saving",HAS_SAVED:"has-saved",ERROR:"error"},im=2e3;var ga=null,er=null,en=null,fi=null,tr=!1;function om(){if(!ga){if(ga=document.getElementById(AT),er=ga?.querySelector(CT),!ga||!er)throw new Error("Elements de la p\xEDndola no trobats al DOM.");ga.setAttribute("role","status"),ga.setAttribute("aria-live","polite")}return{pillEl:ga,textEl:er}}function ar(e,t){try{let{pillEl:a,textEl:n}=om();a.classList.add(Gt.VISIBLE),a.classList.remove(Gt.HAS_CHANGES,Gt.SAVING,Gt.HAS_SAVED,Gt.ERROR),t&&a.classList.add(t),n.textContent=e.replace(/[<>&]/g,"")}catch(a){console.warn("[saveIndicator] Error mostrant p\xEDndola:",a)}}function qo(e="Guardando\u2026"){clearTimeout(fi),ar(e,Gt.SAVING)}function Yo(){clearTimeout(fi),tr=!1,ar("Guardado",Gt.HAS_SAVED),clearTimeout(en),en=setTimeout(nr,im)}function mi(e="No se pudo guardar"){clearTimeout(fi),ar(e,Gt.ERROR),clearTimeout(en),en=setTimeout(nr,im*2)}function nr(e=!1){try{if(om(),clearTimeout(en),tr&&!e)return;ga?.classList.remove(Gt.VISIBLE),en=null}catch(t){console.warn("[saveIndicator] Error amagant p\xEDndola:",t)}}function gi(){tr=!1,clearTimeout(fi),nr(!0)}window.addEventListener("pagehide",()=>{clearTimeout(en),clearTimeout(fi)});var um={[ni.LUNCH]:"comida",[ni.DINNER]:"cena",DEFAULT:"dieta"},tn={TOP_BAR:Me.TOP_BAR_TAPS,FOOTER:Me.FOOTER_TAPS,TIMEOUT:Me.TIMEOUT,ANIMATION_DURATION:Me.ANIMATION_DURATION};function Hn(e){if(!e)return;let t=document.body;if(!t)return;let a=t.dataset?.cspNonce||t.getAttribute("data-csp-nonce")||"";a&&!e.getAttribute("nonce")&&e.setAttribute("nonce",a)}function sm(){let e=document.getElementById(w.DATE_INPUT);if(!e){console.warn("Utils: Input de data no trobat.");return}try{e.valueAsDate=new Date}catch(t){console.error("Error establint la data d'avui:",t)}}function rm(e){return typeof e!="string"||!e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function Vn(e){return e?e.split(" ").map(t=>t.includes(".")?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):""}function lr(){let e=new Date().getHours();return e>=6&&e<18?ni.LUNCH:ni.DINNER}function cm(){let e=document.getElementById(w.DIET_TYPE_SELECT);if(!e){console.warn("Utils: Select de tipus de dieta no trobat.");return}e.value=lr()}function ir(e,t){let a="Data inv\xE0lida";if(e&&/^\d{4}-\d{2}-\d{2}$/.test(e))try{let l=e.split("-"),i=l[0].slice(-2);a=`${l[2]}/${l[1]}/${i}`}catch(l){console.error("Error formatant data:",l)}let n=um[t]||um.DEFAULT;return{ddmmaa:a,franjaText:n}}var Ae={topBarTaps:0,footerTaps:0,tapTimeoutId:null};function zn(){Ae.topBarTaps=0,Ae.footerTaps=0,Ae.tapTimeoutId&&(clearTimeout(Ae.tapTimeoutId),Ae.tapTimeoutId=null)}function _T(){if(document.querySelector(w.EASTER_EGG_OVERLAY))return;let e=document.createElement("div");e.className=w.EASTER_EGG_OVERLAY.substring(1);let t=document.createElement("div");t.className=w.EASTER_EGG_ICON.substring(1),t.innerHTML='<img src="assets/icons/egg.svg" alt="Easter Egg">',e.appendChild(t),document.body.appendChild(e);let a=n=>{n.stopPropagation(),t.classList.add("clicked"),setTimeout(()=>e.remove(),tn.ANIMATION_DURATION)};e.addEventListener("click",a)}function dm(){let e=document.querySelector(w.TOP_BAR),t=document.querySelector(w.FOOTER);if(!e||!t){console.warn("Easter Egg: No s'han trobat top bar o footer.");return}e.addEventListener("touchend",a=>{a.changedTouches.length===1?(Ae.topBarTaps++,Ae.tapTimeoutId&&clearTimeout(Ae.tapTimeoutId),Ae.tapTimeoutId=setTimeout(zn,tn.TIMEOUT),Ae.topBarTaps>tn.TOP_BAR&&zn()):zn()}),t.addEventListener("touchend",a=>{Ae.topBarTaps===tn.TOP_BAR&&a.changedTouches.length===1&&(Ae.footerTaps++,Ae.tapTimeoutId&&clearTimeout(Ae.tapTimeoutId),Ae.tapTimeoutId=setTimeout(zn,tn.TIMEOUT),Ae.footerTaps===tn.FOOTER?(_T(),zn()):Ae.footerTaps>tn.FOOTER&&zn())})}function Ei(e,t){let a,n=function(...l){clearTimeout(a),a=setTimeout(()=>e.apply(this,l),t)};return n.cancel=()=>clearTimeout(a),n}var or=Promise.resolve(),fm=!1;var mm=$.withScope("DietService");async function bT(e,t,a){if(!e||!Array.isArray(t)||!a)throw new Error("Datos incompletos para construir la dieta.");if(!/^\d{9}$/.test(a))throw new Error("ID de dieta inv\xE1lido. Debe contener 9 d\xEDgitos.");for(let o of t)if(!xo(o.originTime)||!xo(o.destinationTime)||!xo(o.endTime))throw new Error("Formato de hora inv\xE1lido detectado. Use HH:mm.");let n=await Un(a),l=new Date().toISOString(),i={id:n,date:ce(e.date),dietType:ce(e.dietType),vehicleNumber:ce(e.vehicleNumber),person1:ce(e.person1),person2:ce(e.person2),signatureConductor:e.signatureConductor,signatureAjudant:e.signatureAjudant,services:t.map(o=>({serviceNumber:ce(o.serviceNumber),origin:ce(o.origin),destination:ce(o.destination),originTime:o.originTime,destinationTime:o.destinationTime,endTime:o.endTime,mode:ce(o.mode),notes:ce(o.notes)||""})),serviceType:ce(e.serviceType),timeStampDiet:l};return new Vo(i)}function DT(){let e=document.getElementById(w.DADES_TAB),t=document.getElementById(w.SERVEIS_TAB);e?.classList.remove(Me.ERROR_TAB),t?.classList.remove(Me.ERROR_TAB);let a=Io(),n=Uo();if(a&&n)return!0;let l="";return!a&&!n?(l="Completa los campos obligatorios en Datos y Servicios.",e?.classList.add(Me.ERROR_TAB),t?.classList.add(Me.ERROR_TAB)):a?(l="Completa los campos obligatorios en la pesta\xF1a Servicios.",t?.classList.add(Me.ERROR_TAB)):(l="Completa los campos obligatorios en la pesta\xF1a Datos.",e?.classList.add(Me.ERROR_TAB)),x(l,"error"),!1}function OT(e){if(!e)return;let t=l=>document.getElementById(l);t(w.DATE_INPUT).value=e.date||"",t(w.DIET_TYPE_SELECT).value=e.dietType||"",t(w.VEHICLE_INPUT).value=e.vehicleNumber||"",t(w.PERSON1_INPUT).value=e.person1||"",t(w.PERSON2_INPUT).value=e.person2||"";let a=t(w.SERVICE_TYPE_SELECT);a&&(a.value=e.serviceType||"TSU",In(a.value)),jo(e.signatureConductor||""),Qo(e.signatureAjudant||"");let n=document.querySelectorAll(Vf);e.services.forEach((l,i)=>{let o=n[i];o&&(Object.entries(Ys).forEach(([u,s])=>{if(!s)return;let r=o.querySelector(s);r&&(r.value=l[u]||"")}),kf(i,l.mode||"3.6"),ri(o),zt[i]=l.notes||"")});for(let l=e.services.length;l<n.length;l++){let i=n[l];i&&(Object.values(Ys).forEach(o=>{if(!o)return;let u=i.querySelector(o);u&&(u.value="")}),ri(i),zt[l]="")}}async function gm(e){return or=or.then(async()=>{let{generalData:t,servicesData:a}=Ko(),n=a[0]?.serviceNumber?.slice(0,9)||"";if(!n||!/^\d{9}$/.test(n)){e&&x("El primer servicio debe tener un N.\xBA de servicio v\xE1lido.","error");return}let l=await Un(n),i=await Wa(l);e&&qo(!i?"Guardando nueva dieta\u2026":"Guardando\u2026"),ur(!1);try{if(await new Promise(r=>setTimeout(r,500)),!DT()){e&&mi("Validaci\xF3n fallida");return}let s=await bT(t,a,n);i?await am(s):await Ws(s),Si=new Date,rr(),e&&x("Dieta guardada correctament.","success"),Gn(),Yo(),e&&await hi()}catch(s){mm.error("Error en performSave:",s),mi(s.message||"No se pudo guardar"),e&&x(`Error al guardar: ${s.message}`,"error")}finally{ur(!0),fm&&(fm=!1,setTimeout(()=>Xo(),100))}}),or}async function Em(){hm(),await gm(!0)}async function Xo(){await gm(!1)}async function Sm(e){if(!e||typeof e!="string")throw new Error("ID inv\xE0lid");let t=e.length===64?await Wa(e):await Wa(await Un(e));if(!t)throw new Error(`Dieta no trobada: ${e}`);OT(t),Gn(),t.timeStampDiet&&(Si=new Date(t.timeStampDiet),rr()),x("Dieta cargada correctamente.","success"),cr()}async function sr(e,t,a){if(e)try{let n=await Wa(e);if(!n){x("Error: Dieta no trobada","error");return}let i=(await Po()).sort((o,u)=>new Date(u.timeStampDiet)-new Date(o.timeStampDiet));n.index=i.findIndex(o=>o.id===e),await nm(e),x("Dieta eliminada","success",5e3,{priority:2,queueable:!1,undoCallback:async()=>{await Ws(n),fr(n),x("Dieta restaurada","success",3e3,{priority:0})},onExpire:()=>{dr(e)}}),Gn(),gi()}catch(n){mm.error("Error en deleteDietHandler:",n),x("Error al eliminar la dieta","error")}}var Si=null;function rr(){let e=document.getElementById("last-saved");e&&(e.textContent=Si?$f(Si):"")}setInterval(()=>{Si&&rr()},6e4);var Xe={IS_INSTALLED:"pwa_isInstalled",PROMPT_DISMISSED_COUNT:"pwa_promptDismissedCount",NEVER_SHOW_AGAIN:"pwa_neverShowAgain",ACTION_TRIGGER_COUNT:"pwa_actionTriggerCount"},Tm=2,vm=10,an=null,mr=null,gr=null,nn=null,pm=!1,H=$.withScope("PWA"),Er=(e,t=0)=>parseInt(localStorage.getItem(e)||String(t),10),Sr=e=>localStorage.getItem(e)==="true",ln=(e,t)=>localStorage.setItem(e,String(t));function ym(){let e=window.matchMedia("(display-mode: standalone)").matches,t=window.navigator.standalone===!0;return e||t||Sr(Xe.IS_INSTALLED)}function NT(e=!1){if(H.debug("Intentant mostrar el b\xE0ner d'instal\xB7laci\xF3..."),ym()){H.debug("Bloquejat: L'app ja est\xE0 instal\xB7lada.");return}if(Sr(Xe.NEVER_SHOW_AGAIN)){H.debug("Bloquejat: L'usuari ha demanat no tornar a mostrar.");return}if(!an){H.debug("Bloquejat: No hi ha cap event d'instal\xB7laci\xF3 guardat.");return}if(!nn){H.debug("Bloquejat: L'element HTML del b\xE0ner no s'ha trobat.");return}H.info("Mostrant el b\xE0ner!"),nn.classList.add("visible"),nn.classList.remove("hidden")}function Am(){H.debug("Amagant el b\xE0ner."),nn?.classList.remove("visible"),nn?.classList.add("hidden")}function LT(){H.info("L'usuari ha descartat el b\xE0ner."),Am();let e=Er(Xe.PROMPT_DISMISSED_COUNT);e++,ln(Xe.PROMPT_DISMISSED_COUNT,e),H.debug(`Comptador de descartats actualitzat a: ${e}`),e>=Tm&&(ln(Xe.NEVER_SHOW_AGAIN,!0),H.info("S'ha assolit el l\xEDmit de descartats. No es tornar\xE0 a mostrar."))}async function MT(){if(H.info("L'usuari ha fet clic a 'Instal\xB7lar'."),!an){H.warn("El bot\xF3 d'instal\xB7lar s'ha premut, per\xF2 no hi havia cap event guardat.");return}Am();try{an.prompt();let{outcome:e}=await an.userChoice;H.info(`Resultat de la decisi\xF3 de l'usuari: ${e}`),e==="accepted"?(ln(Xe.IS_INSTALLED,!0),ln(Xe.NEVER_SHOW_AGAIN,!0),H.info("L'usuari ha acceptat la instal\xB7laci\xF3! :)")):H.info("L'usuari ha rebutjat la instal\xB7laci\xF3 des del di\xE0leg del navegador.")}catch(e){H.error("Error durant el proc\xE9s de prompt d'instal\xB7laci\xF3:",e)}finally{an=null}}function RT(e){e.preventDefault(),an=e,H.debug("Event 'beforeinstallprompt' capturat i guardat.")}function Cm(){pm||(H.debug("Inicialitzant el gestor d'instal\xB7laci\xF3..."),nn=document.getElementById("install-prompt"),mr=document.getElementById("install-button"),gr=document.getElementById("dismiss-button"),nn&&mr&&gr?(mr.addEventListener("click",MT),gr.addEventListener("click",LT),H.debug("Botons del b\xE0ner d'instal\xB7laci\xF3 configurats.")):H.warn("No s'han trobat tots els elements del b\xE0ner d'instal\xB7laci\xF3."),window.addEventListener("beforeinstallprompt",RT),window.matchMedia("(display-mode: standalone)").addEventListener("change",e=>{e.matches&&(H.info("Detectat canvi a mode 'standalone'. Marcat com instal\xB7lat."),ln(Xe.IS_INSTALLED,!0),ln(Xe.NEVER_SHOW_AGAIN,!0))}),pm=!0,H.debug("Gestor d'instal\xB7laci\xF3 inicialitzat correctament."))}function _m(){if(H.debug("------------------------------------------"),H.debug("Comprovant si s'ha de mostrar el b\xE0ner despr\xE9s d'una acci\xF3..."),ym()){H.debug("[Check] No es mostra: L'app ja est\xE0 instal\xB7lada.");return}if(Sr(Xe.NEVER_SHOW_AGAIN)){H.debug("[Check] No es mostra: L'usuari ha demanat no tornar a veure'l.");return}if(!an){H.debug("[Check] No es mostra: El navegador no ha ofert la possibilitat d'instal\xB7lar (deferredPrompt \xE9s nul).");return}let e=Er(Xe.ACTION_TRIGGER_COUNT);e++,ln(Xe.ACTION_TRIGGER_COUNT,e),H.debug(`Comptador d'accions incrementat a: ${e}`);let t=Er(Xe.PROMPT_DISMISSED_COUNT);H.debug(`Vegades que s'ha descartat el b\xE0ner: ${t}`);let a=e===1&&t===0||e>=vm&&t<Tm;H.debug(`Es compleixen les condicions per mostrar? ${a}`),a?(setTimeout(()=>NT(),1500),e>=vm):H.debug("No es mostra el b\xE0ner aquesta vegada."),H.debug("------------------------------------------")}var wn={OUTER_MARGIN:55,INNER_PADDING:10},nt={TEMPLATE_URLS:{DEFAULT:"./dieta.pdf"},SERVICE_Y_OFFSET:82,SIGNATURE_WIDTH:100,SIGNATURE_HEIGHT:50,WATERMARK_TEXT:"misdietas.com",DEFAULT_FILENAME:"dieta.pdf",SERVICE_NUMBER_COLOR:"#004aad",MODE_PREFIX_TEXT_COLOR:"#8B0000",MAX_SIGNATURE_NAME_LENGTH:31,MAX_ORIGIN_LENGTH:30,MAX_DESTINATION_LENGTH:30},L={general:{date:{x:155,y:732,size:16,color:"#000000"},vehicleNumber:{x:441,y:732,size:16,color:"#000000"},person1:{x:65,y:368,size:16,color:"#000000"},person2:{x:310,y:368,size:16,color:"#000000"}},service:{serviceNumber:{x:130,y:715,size:16,color:"#000000"},origin:{x:229,y:698,size:14,color:"#000000"},originTime:{x:441,y:698,size:16,color:"#000000"},destination:{x:229,y:683,size:14,color:"#000000"},destinationTime:{x:441,y:681,size:16,color:"#000000"},endTimeNormal:{x:441,y:665,size:16,color:"#000000"},endTimeModeText:{x:390,y:665,size:16,color:nt.MODE_PREFIX_TEXT_COLOR},endTimeValueWhenPrefixed:{x:441,y:665,size:16,color:"#000000"}},signature:{conductor:{x:125,y:295,width:100,height:50},ayudante:{x:380,y:295,width:100,height:50}},notesSection:{title:{x:65,y:250,size:16,color:"#000000"},lineHeight:18,maxWidth:465,start:{x:65,y:230,size:16,color:"#333333"}},fixedText:{website:{x:250,y:20,size:6,color:"#EEEEEE"}}},BT=$.withScope("PdfTemplate");function IT(e){return!e||typeof e!="string"||e.trim()===""?"":e.split(/\s+/).filter(Boolean).map(t=>t.includes("-")?t.split("-").map(a=>a?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():"").join("-"):t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function UT(e){if(!e||typeof e!="string")return{r:0,g:0,b:0};let t=e.replace("#","");if(t.length!==6)return{r:0,g:0,b:0};let a=parseInt(t,16);return Number.isNaN(a)?{r:0,g:0,b:0}:{r:a>>16&255,g:a>>8&255,b:a&255}}function bm(e,t){return!e||e.length<=t?e:e.substring(0,t-3)+"..."}function Zo(e){if(!e||!/^\d{4}-\d{2}-\d{2}$/.test(e))return"";let[t,a,n]=e.split("-");return`${n}/${a}/${t}`}function xT(){return nt.TEMPLATE_URLS.DEFAULT}async function hr(e,t){if(!e||!Array.isArray(t))throw new Error("Dades inv\xE0lides.");if(!window.PDFLib)throw new Error("PDFLib no carregada.");let{PDFDocument:a,StandardFonts:n,rgb:l}=window.PDFLib,i=xT(),o=await fetch(i).then(p=>p.arrayBuffer()),u=await a.load(o),s=await u.embedFont(n.Helvetica),r=u.getPages()[0],c=p=>{let{r:_,g:A,b:D}=UT(p);return l(_/255,A/255,D/255)};Object.entries(L.general).forEach(([p,_])=>{let A=e[p]||"";p==="date"&&(A=Zo(A)),p==="vehicleNumber"&&(A=A.toUpperCase()),(p==="person1"||p==="person2")&&(A=IT(A),A.length>nt.MAX_SIGNATURE_NAME_LENGTH&&(A=A.slice(0,nt.MAX_SIGNATURE_NAME_LENGTH-3)+"...")),r.drawText(A,{..._,font:s,color:c(_.color)})}),t.forEach((p,_)=>{let A=_*nt.SERVICE_Y_OFFSET,D=p.mode||"3.6";r.drawText(p.serviceNumber||"",{...L.service.serviceNumber,y:L.service.serviceNumber.y-A,font:s,color:c(nt.SERVICE_NUMBER_COLOR)});let ze=bm(p.origin||"",nt.MAX_ORIGIN_LENGTH),ei=ze.length>23?13:L.service.origin.size;if(r.drawText(ze,{...L.service.origin,y:L.service.origin.y-A,size:ei,font:s,color:c(L.service.origin.color)}),r.drawText(p.originTime||"",{...L.service.originTime,y:L.service.originTime.y-A,font:s,color:c(L.service.originTime.color)}),D==="3.6"){let Mo=bm(p.destination||"",nt.MAX_DESTINATION_LENGTH),Ro=Mo.length>23?13:L.service.destination.size;r.drawText(Mo,{...L.service.destination,y:L.service.destination.y-A,size:Ro,font:s,color:c(L.service.destination.color)}),r.drawText(p.destinationTime||"",{...L.service.destinationTime,y:L.service.destinationTime.y-A,font:s,color:c(L.service.destinationTime.color)})}let ti=(p.endTime||"").trim();D!=="3.6"&&ti?(r.drawText(D,{...L.service.endTimeModeText,y:L.service.endTimeModeText.y-A,font:s,color:c(L.service.endTimeModeText.color)}),r.drawText(ti,{...L.service.endTimeValueWhenPrefixed,y:L.service.endTimeValueWhenPrefixed.y-A,font:s,color:c(L.service.endTimeValueWhenPrefixed.color)})):r.drawText(ti,{...L.service.endTimeNormal,y:L.service.endTimeNormal.y-A,font:s,color:c(L.service.endTimeNormal.color)})});let g=async(p,_)=>{if(typeof p=="string"&&p.startsWith("data:image/png;base64,")&&p.length>22)try{let D=await u.embedPng(p);r.drawImage(D,{..._})}catch(D){BT.warn("No s'ha pogut incrustar una signatura.",D)}};await Promise.all([g(e.signatureConductor,L.signature.conductor),g(e.signatureAjudant,L.signature.ayudante)]);let f=r.getWidth(),E=wn.OUTER_MARGIN+wn.INNER_PADDING,T=f-(wn.OUTER_MARGIN+wn.INNER_PADDING),y=t.map(p=>({num:p.serviceNumber||"",text:(p.notes||"").trim()})).filter(p=>p.num&&p.text);if(y.length){r.drawLine({start:{x:wn.OUTER_MARGIN,y:275},end:{x:f-wn.OUTER_MARGIN,y:275},thickness:.5,color:l(.8,.8,.8)});let _=y.length===1?"Observaci\xF3":"Observacions";r.drawText(_,{...L.notesSection.title,font:s,color:c(L.notesSection.title.color)});let A=L.notesSection.start.y,D=L.notesSection.start.size,ze=L.notesSection.lineHeight,ei=c(L.notesSection.start.color);y.forEach(({num:ti,text:Mo})=>{if(A<40)return;let Ro=`Servei ${ti}: `;r.drawText(Ro,{x:E,y:A,font:s,size:D,color:c(nt.SERVICE_NUMBER_COLOR)});let jp=s.widthOfTextAtSize(Ro,D),Bo=E+jp;Mo.split(" ").forEach(qs=>{if(!qs)return;let xf=s.widthOfTextAtSize(`${qs} `,D);Bo+xf>T&&(A-=ze,Bo=E),r.drawText(`${qs} `,{x:Bo,y:A,font:s,size:D,color:ei}),Bo+=xf}),A-=ze*1.5})}let U=nt.WATERMARK_TEXT,m=L.fixedText.website.size,d=s.widthOfTextAtSize(U,m);r.drawText(U,{x:(r.getWidth()-d)/2,y:L.fixedText.website.y,size:m,font:s,color:c(L.fixedText.website.color)});let S=Zo(e.date)||"Dieta",C=`Dieta ${e.dietType==="lunch"?"Comida":e.dietType==="dinner"?"Cena":""} ${S}`.trim().replace(/ +/g," ");u.setTitle(C),u.setAuthor("misdietas.com"),u.setSubject("Justificante de dieta de transporte sanitario"),u.setCreator("MisDietas"),u.setKeywords(["dieta","justificante","transporte sanitario","tsu","tsnu"]);let B=new Date(e.date);return Number.isNaN(B.getTime())||(u.setCreationDate(B),u.setModificationDate(B)),await u.save({permissions:{modifying:!1,copying:!1}})}var Dm=!1,Om=$.withScope("PdfService");async function Nm(){if(Dm)return;let e=document.createElement("script");return Hn(e),e.src="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js",new Promise((t,a)=>{e.onload=()=>{Dm=!0,t()},e.onerror=a,document.head.appendChild(e)})}var Fo={DADES_TAB:"tab-dades",SERVEIS_TAB:"tab-serveis"},Ea={ERROR_TAB:"error-tab"};function zT(e,t){let a=document.getElementById(Fo.DADES_TAB),n=document.getElementById(Fo.SERVEIS_TAB);a?.classList.remove(Ea.ERROR_TAB),n?.classList.remove(Ea.ERROR_TAB);let l="";!e&&!t?(l="Completa els camps obligatoris a Dades i Serveis.",a?.classList.add(Ea.ERROR_TAB),n?.classList.add(Ea.ERROR_TAB)):e?(l="Completa els camps obligatoris a Serveis.",n?.classList.add(Ea.ERROR_TAB)):(l="Completa els camps obligatoris a Dades.",a?.classList.add(Ea.ERROR_TAB)),l&&x(l,"error")}function Lm(e,t){let a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>URL.revokeObjectURL(a),500)}function Mm(e,t){let a=Zo(e).replace(/\//g,"_")||"";return a?`${t==="lunch"?"dieta_comida":t==="dinner"?"dieta_cena":"dieta"}_${a}.pdf`:nt.DEFAULT_FILENAME}async function Rm(){let e=Io(),t=Uo();if(!e||!t){zT(e,t);return}document.getElementById(Fo.DADES_TAB)?.classList.remove(Ea.ERROR_TAB),document.getElementById(Fo.SERVEIS_TAB)?.classList.remove(Ea.ERROR_TAB);try{let{generalData:a,servicesData:n}=Ko();if(!a||!n)throw new Error("Dades no recollides.");await Nm();let l=await hr(a,n),i=Mm(a.date,a.dietType);Lm(new Blob([l],{type:"application/pdf"}),i),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from main form"}),x("Desc\xE0rrega iniciada correctament.","success"),_m()}catch(a){Om.error("Error generant PDF des del formulari principal:",a),x(`Error en la generaci\xF3 del PDF: ${a.message||"Desconegut"}`,"error")}}async function Bm(e){if(!e){x("ID de dieta inv\xE1lido.","error");return}try{let t=e.length===64?e:await Un(e),a=await Wa(t);if(!a)throw new Error("Dieta no encontrada.");let n={date:a.date||"",dietType:a.dietType||"",vehicleNumber:a.vehicleNumber||"",person1:a.person1||"",person2:a.person2||"",serviceType:a.serviceType||"TSU",signatureConductor:a.signatureConductor||"",signatureAjudant:a.signatureAjudant||""},l=a.services.map(u=>({serviceNumber:u.serviceNumber||"",origin:u.origin||"",originTime:u.originTime||"",destination:u.destination||"",destinationTime:u.destinationTime||"",endTime:u.endTime||"",mode:u.mode||"3.6",notes:u.notes||""}));await Nm();let i=await hr(n,l),o=Mm(n.date,n.dietType);Lm(new Blob([i],{type:"application/pdf"}),o),typeof gtag=="function"&&gtag("event","download_pdf",{event_category:"PDF Generation",event_label:"Download from saved list"}),x("Descarga iniciada correctamente.","success")}catch(t){Om.error("Error en downloadDietPDF:",t),x(`Error en la generaci\xF3n del PDF: ${t.message||"Desconocido"}`,"error")}}var Q={MODAL_VISIBLE:"visible",MODAL_OPEN_BODY:"modal-open",HIDDEN:"hidden",DIET_ITEM:"diet-item",DIET_DATE:"diet-date",DIET_ICONS:"diet-icons",DIET_DELETE_BTN:"diet-delete",DIET_LOAD_BTN:"diet-load",LIST_ITEM_BTN:"list-item-btn",LIST_ITEM_BTN_LOAD:"list-item-btn--load",LIST_ITEM_BTN_DELETE:"list-item-btn--delete",DIET_ITEM_SWIPING:"swiping",DIET_DELETE_REVEAL:"delete-reveal"},St={DIET_MODAL:"diet-modal",DIET_OPTIONS_LIST:"diet-options",NO_DIETS_TEXT:"no-diets-text",CONFIRM_MODAL:"confirm-modal",CONFIRM_MESSAGE:"confirm-message",CONFIRM_TITLE:".modal-title",CONFIRM_YES_BTN:"confirm-yes",CONFIRM_NO_BTN:"confirm-no",ABOUT_MODAL:"about-modal",SIGNATURE_MODAL:"signature-modal",DOTACIO_MODAL:"dotacio-modal",CAMERA_GALLERY_MODAL:"camera-gallery-modal"},Jo={MODAL:".modal",MODAL_CLOSE_BTN:".close-modal, .close-modal-btn",MODAL_TRIGGER:'a[href^="#"]',FOCUSABLE_ELEMENTS:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},wt={DIET_ID:"data-diet-id",DIET_DATE:"data-diet-date",DIET_TYPE:"data-diet-type"},HT=$.withScope("Modals:Manager"),bt=[],vr=null,Pn=null,qn=null,Im=new Map;function Yn(){return bt.length>0?bt[bt.length-1]:null}function VT(){Pn||(Pn=e=>{let t=Yn();if(t&&e.target===t){let a=Im.get(t.id);a?a({reason:"backdrop"}):Sa(t)}},document.addEventListener("click",Pn,!0)),qn||(qn=e=>{if(e.key!=="Escape")return;let t=Yn();if(!t)return;let a=Im.get(t.id);a?a({reason:"escape"}):Sa(t)},document.addEventListener("keydown",qn,!0))}function GT(){Pn&&(document.removeEventListener("click",Pn,!0),Pn=null),qn&&(document.removeEventListener("keydown",qn,!0),qn=null)}function wT(e){e.dataset.backdropTouchHandled||(e.addEventListener("touchstart",t=>{t.target===e&&(t.preventDefault(),t.stopPropagation())},{passive:!1}),e.dataset.backdropTouchHandled="true")}function Um(e){e.style.display="block",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",e.style.setProperty("pointer-events","auto")}function xm(e){e.querySelector(Jo.FOCUSABLE_ELEMENTS)?.focus()}function ko(e){if(!e)return;let t=Yn();if(t&&t!==e&&e.id!==St.CONFIRM_MODAL){HT.debug("S'ha ignorat l'obertura perqu\xE8 ja hi ha un modal actiu.");return}let a=bt.includes(e);a||bt.push(e),bt.length===1&&!a&&(vr=document.activeElement,document.body.classList.add(Q.MODAL_OPEN_BODY),Hm(),Xn(!1),document.body.style.setProperty("pointer-events","none")),VT(),wT(e),Um(e),xm(e)}function Sa(e=Yn()){if(!e)return;let t=bt.lastIndexOf(e);if(t===-1){e.style.display="none",e.style.removeProperty("pointer-events");return}if(bt.splice(t,1),e.style.display="none",e.style.removeProperty("pointer-events"),bt.length===0){document.body.classList.remove(Q.MODAL_OPEN_BODY),Xn(!0),Vm(),document.body.style.removeProperty("pointer-events"),vr?.focus(),vr=null,GT();return}let a=Yn();a&&(Um(a),xm(a))}function zm(){document.querySelectorAll(Jo.MODAL_TRIGGER).forEach(t=>{if(t.dataset.modalPrepared==="true")return;let a=t.getAttribute("href")?.substring(1);if(!a)return;let n=document.getElementById(a);n&&n.matches(Jo.MODAL)&&(t.addEventListener("click",i=>{i.preventDefault(),ko(n)}),n.querySelectorAll(Jo.MODAL_CLOSE_BTN).forEach(i=>{i.dataset.modalPrepared!=="true"&&(i.addEventListener("click",()=>Sa(n)),i.dataset.modalPrepared="true")})),t.dataset.modalPrepared="true"})}function pr(){return bt.length>0}function Tr(){return Yn()}var $o=$.withScope("Modals:Diet"),vt=null,ne=null,ht=null,Gm=!1;function vi(){if(Gm)return!0;if(vt=document.getElementById(St.DIET_MODAL),ne=document.getElementById(St.DIET_OPTIONS_LIST),ht=document.getElementById(St.NO_DIETS_TEXT),!vt||!ne||!ht)return $o.warn("No s'han trobat els elements del modal de dietes."),!1;let e=document.getElementById("close-diet-modal");return e&&!e.dataset.modalPrepared&&(e.addEventListener("click",()=>Sa(vt)),e.dataset.modalPrepared="true"),ne.dataset.modalPrepared||(ne.addEventListener("click",qT),ne.dataset.modalPrepared="true"),Gm=!0,!0}function PT(e){if(!e)return"";let t=new Date(e);if(Number.isNaN(t.getTime()))return"";let a=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0");return`${a}:${n}`}function wm(e){let t=e.services&&e.services.length>0?e.services[0].serviceNumber:"?????????",{ddmmaa:a,franjaText:n}=ir(e.date,e.dietType),l=PT(e.timeStampDiet),i=document.createElement("div");i.className=Q.DIET_ITEM;let o=document.createElement("div");o.className="diet-item-content";let u=document.createElement("span");u.className=Q.DIET_DATE;let s=a;l&&(s+=` [${l}]`),s+=` - ${rm(n)}`,u.textContent=s;let r=document.createElement("div");r.className=Q.DIET_ICONS;let c=document.createElement("div");c.className=Q.DIET_DELETE_REVEAL,c.innerHTML='<img src="assets/icons/delete.svg" alt="Eliminar" class="icon">';let g=document.createElement("button");g.className=`${Q.LIST_ITEM_BTN} ${Q.LIST_ITEM_BTN_LOAD} ${Q.DIET_LOAD_BTN}`,g.setAttribute("aria-label",`Editar dieta ${a}`),g.innerHTML='<img src="assets/icons/ic_edit.svg" alt="" class="icon"><span class="btn-text visually-hidden">Editar</span>',g.setAttribute(wt.DIET_ID,t),g.setAttribute(wt.DIET_DATE,e.date),g.setAttribute(wt.DIET_TYPE,e.dietType);let f=document.createElement("button");return f.className=`${Q.LIST_ITEM_BTN} diet-download`,f.setAttribute("aria-label",`Descarregar PDF de la dieta ${a}`),f.innerHTML='<img src="assets/icons/download_blue.svg" alt="" class="icon"><span class="btn-text visually-hidden">PDF</span>',f.setAttribute(wt.DIET_ID,t),r.appendChild(g),r.appendChild(f),o.appendChild(u),o.appendChild(r),i.appendChild(o),i.appendChild(c),i}function qT(e){let t=e.target,a=t.closest(`.${Q.DIET_LOAD_BTN}`),n=t.closest(".diet-download");if(a){e.stopPropagation();let l=a.getAttribute(wt.DIET_ID),i=a.getAttribute(wt.DIET_DATE),o=a.getAttribute(wt.DIET_TYPE);if(!l||!i||!o)return;let{ddmmaa:u,franjaText:s}=ir(i,o);Sm(l).then(()=>{$o.debug(`Dieta ${u} carregada (${s}).`),Sa(vt)}).catch(r=>{$o.error("Error en carregar la dieta:",r)})}else if(n){e.stopPropagation();let l=n.getAttribute(wt.DIET_ID);l&&Bm(l)}}function Wo(){if(!ne||!ht)return;let e=ne.children.length>0;ne.classList.toggle(Q.HIDDEN,!e),ht.classList.toggle(Q.HIDDEN,e),e||(ht.textContent="No hay dietas guardadas.")}function YT(e,t,a,n){let l=0,i=0,o=!1;e.addEventListener("mousedown",u=>{u.target.closest("button")||u.target.closest(".diet-icons")||(l=u.clientX,i=l,o=!1)}),document.addEventListener("mousemove",u=>{i=u.clientX;let s=l-i;s>10&&!o&&(o=!0,e.classList.add(Q.DIET_ITEM_SWIPING)),o&&s>10&&(e.style.transform=`translateX(-${Math.min(s,80)}px)`,u.preventDefault())}),document.addEventListener("mouseup",async()=>{if(!o)return;o=!1;let u=l-i;e.classList.remove(Q.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",u>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),Wo(),await sr(t,a,n)},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function Pm(e,t,a,n){let l=0,i=0,o=!1;e.addEventListener("touchstart",u=>{u.target.closest("button")||u.target.closest(".diet-icons")||(l=u.touches[0].clientX,i=l,o=!1,u.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",u=>{i=u.touches[0].clientX;let s=l-i;s>10&&!o&&(o=!0,e.classList.add(Q.DIET_ITEM_SWIPING),vt&&(vt.style.overflow="hidden")),o&&s>10&&(e.style.transform=`translateX(-${Math.min(s,80)}px)`,u.preventDefault(),u.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async u=>{if(!o)return;o=!1;let s=l-i;e.classList.remove(Q.DIET_ITEM_SWIPING),e.style.transition="transform 0.3s ease, opacity 0.3s ease",s>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{e.remove(),Wo(),await sr(t,a,n)},300)):(e.style.transform="translateX(0)",e.style.opacity="1",vt&&(vt.style.overflow="")),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),u.stopPropagation()}),YT(e,t,a,n)}function qm(){vi()}function eu(){vi()&&(ko(vt),hi())}function cr(){Tr()===vt&&Sa(vt)}async function hi(){if(vi()){ne.innerHTML="";try{let e=await Po();if(e.length===0){ne.classList.add(Q.HIDDEN),ht.classList.remove(Q.HIDDEN),ht.textContent="No hay dietas guardadas.";return}ne.classList.remove(Q.HIDDEN),ht.classList.add(Q.HIDDEN),e.slice().sort((t,a)=>new Date(a.timeStampDiet)-new Date(t.timeStampDiet)).forEach((t,a)=>{let n=wm(t);n.setAttribute("data-index",String(a)),ne.appendChild(n),Pm(n,t.id,t.date,t.dietType)})}catch(e){$o.error("Error al carregar les dietes:",e),ne.classList.add(Q.HIDDEN),ht.classList.remove(Q.HIDDEN),ht.textContent="Error al cargar las dietas."}}}function dr(e){if(!vi())return;let t=ne.querySelector(`[data-diet-id="${e}"]`)?.closest(".diet-item");if(!t)return;let a=`${ne.scrollHeight}px`;ne.style.height=a,t.remove(),requestAnimationFrame(()=>{ne.style.height=`${ne.scrollHeight}px`}),Wo()}function fr(e){if(!vi()){hi();return}let t=e.index||0,a=wm(e);a.style.opacity="0",a.style.transform="translateX(-100%)";let n=ne.children[t];n?ne.insertBefore(a,n):ne.appendChild(a),requestAnimationFrame(()=>{a.style.transition="opacity 0.5s ease, transform 0.5s ease",a.style.opacity="1",a.style.transform="translateX(0)",Pm(a,e.id,e.date,e.dietType)}),Wo(),ne.classList.remove(Q.HIDDEN),ht.classList.add(Q.HIDDEN)}var Ym="dotacions_v2",de={MODAL:"dotacio-modal",OPTIONS_CONTAINER:"dotacio-options",TEMPLATE:"dotacio-template",NO_DOTACIO_TEXT:"no-dotacio-text",ADD_BTN:"add-dotacio",OPEN_MODAL_BTN:"open-dotacio-modal",CLOSE_MODAL_BTN:"close-dotacio-modal",VEHICLE_INPUT:"vehicle-number",PERSON1_INPUT:"person1",PERSON2_INPUT:"person2"},pt={MODAL_OPEN:"modal-open",INPUT_ERROR:"input-error",HIDDEN:"hidden"},jn={PERSON_INPUT_GROUP:".input-with-icon",DOTACIO_INFO:".dotacio-info",LOAD_BTN:".dotacio-load",DELETE_BTN:".dotacio-delete"},Xm={INDEX:"data-index"},XT=180,yr=class{constructor(){this.savedDotacions=[],this.dotacioModalElement=null,this.optionsContainerElement=null,this.dotacioTemplateElement=null,this.noDotacioTextElement=null,this.isInitialized=!1}init(){if(this.isInitialized)return;this.dotacioModalElement=document.getElementById(de.MODAL),this.optionsContainerElement=document.getElementById(de.OPTIONS_CONTAINER),this.dotacioTemplateElement=document.getElementById(de.TEMPLATE),this.noDotacioTextElement=document.getElementById(de.NO_DOTACIO_TEXT);let t=document.getElementById(de.ADD_BTN),a=document.getElementById(de.OPEN_MODAL_BTN),n=document.getElementById(de.CLOSE_MODAL_BTN);if(!this.dotacioModalElement||!this.optionsContainerElement||!this.dotacioTemplateElement||!t||!a||!n)return;this.loadDotacionsFromStorage(),t.addEventListener("click",this.addDotacioFromMainForm.bind(this)),a.addEventListener("click",this.openDotacioModal.bind(this)),n.addEventListener("click",this.closeDotacioModal.bind(this)),this.dotacioModalElement.addEventListener("click",i=>{i.target===this.dotacioModalElement&&this.closeDotacioModal()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&this.dotacioModalElement.style.display==="block"&&this.closeDotacioModal()}),this.optionsContainerElement.addEventListener("click",this.handleOptionsClick.bind(this)),[de.VEHICLE_INPUT,de.PERSON1_INPUT,de.PERSON2_INPUT].forEach(i=>{let o=document.getElementById(i);o?.addEventListener("input",()=>{let u=o.closest(jn.PERSON_INPUT_GROUP);u?u.classList.remove(pt.INPUT_ERROR):o.classList.remove(pt.INPUT_ERROR)})}),this.isInitialized=!0}loadDotacionsFromStorage(){try{let t=localStorage.getItem(Ym);this.savedDotacions=t?JSON.parse(t):[],Array.isArray(this.savedDotacions)||(this.savedDotacions=[])}catch{this.savedDotacions=[]}}saveDotacionsToStorage(){try{localStorage.setItem(Ym,JSON.stringify(this.savedDotacions))}catch{x("No se han podido guardar las dotaciones.","error")}}openDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="block",this.dotacioModalElement.style.pointerEvents="auto",document.body.classList.add(pt.MODAL_OPEN),document.body.style.setProperty("pointer-events","none"),this.displayDotacioOptions())}closeDotacioModal(){this.dotacioModalElement&&(this.dotacioModalElement.style.display="none",this.dotacioModalElement.style.pointerEvents="",document.body.classList.remove(pt.MODAL_OPEN),document.body.style.removeProperty("pointer-events"),document.getElementById(de.OPEN_MODAL_BTN)?.focus())}displayDotacioOptions(){!this.optionsContainerElement||!this.dotacioTemplateElement||(this.optionsContainerElement.innerHTML="",this.savedDotacions.length===0?(this.noDotacioTextElement?.classList.remove(pt.HIDDEN),this.optionsContainerElement.classList.add(pt.HIDDEN)):(this.noDotacioTextElement?.classList.add(pt.HIDDEN),this.optionsContainerElement.classList.remove(pt.HIDDEN),this.savedDotacions.forEach((t,a)=>{let n=this.dotacioTemplateElement.content.cloneNode(!0),l=n.querySelector(jn.DOTACIO_INFO),i=n.querySelector(jn.LOAD_BTN),o=n.firstElementChild,u=`${t.numero}-${t.conductor}-${t.ajudant}`.replace(/\s/g,"");o.setAttribute("data-dotacio-id",u),l&&(l.textContent=this.formatDotacioListText(t)),i&&i.setAttribute(Xm.INDEX,a),this.optionsContainerElement.appendChild(n),au(o,u),tu(o,u)})))}formatDotacioListText(t){let a=t.numero||"S/N",n=Vn(t.conductor||""),l=Vn(t.ajudant||""),i=`${n} / ${l}`;n||l?i=` - ${i}`:i="";let o=`${a}${i}`;if(this.measureTextWidth(o)>XT){let s=t.conductor?this.shortenPersonName(t.conductor):"",r=t.ajudant?this.shortenPersonName(t.ajudant):"",c=`${s} / ${r}`;s||r?c=` - ${c}`:c="",o=`${a}${c}`}return o}shortenPersonName(t){if(!t||typeof t!="string")return"";let a=t.trim().split(/\s+/).filter(u=>u.length>0);if(a.length===0)return"";if(a.length===1)return Vn(a[0]);let n=new Set(["de","la","del","el","los","las","von","van","d'","es","da","dels","i","y"]),l=a.filter(u=>!n.has(u.toLowerCase()));if(l.length===0)return Vn(a[0]);let i=Vn(l[0]),o=l.slice(1).map(u=>u.charAt(0).toUpperCase()+".").join(" ");return`${i} ${o}`}measureTextWidth(t){let a=document.createElement("span");a.style.visibility="hidden",a.style.whiteSpace="nowrap",a.style.fontSize=getComputedStyle(document.body).fontSize,a.style.fontFamily=getComputedStyle(document.body).fontFamily,a.textContent=t,document.body.appendChild(a);let n=a.offsetWidth;return document.body.removeChild(a),n}loadDotacionByIndex(t){if(t<0||t>=this.savedDotacions.length)return;let a=this.savedDotacions[t];this.clearDotacionInputErrors(),document.getElementById(de.VEHICLE_INPUT).value=a.numero||"",document.getElementById(de.PERSON1_INPUT).value=a.conductor||"",document.getElementById(de.PERSON2_INPUT).value=a.ajudant||"",jo(a.firmaConductor||""),Qo(a.firmaAjudant||""),x(`Dotaci\xF3n ${a.numero} cargada.`,"success"),this.closeDotacioModal()}async handleDeleteById(t){let a=this.savedDotacions.findIndex(i=>`${i.numero}-${i.conductor}-${i.ajudant}`.replace(/\s/g,"")===t);if(a===-1){console.warn("Se intent\xF3 eliminar una dotaci\xF3n que ya no existe:",t);return}let l={...this.savedDotacions[a],originalIndex:a};this.savedDotacions.splice(a,1),this.saveDotacionsToStorage(),Kn(),x("Dotaci\xF3n eliminada.","success",5e3,{queueable:!1,undoCallback:()=>{this.savedDotacions.splice(l.originalIndex,0,l),this.saveDotacionsToStorage(),Ar(l),x("Dotaci\xF3n restaurada.","success")}})}handleOptionsClick(t){let n=t.target.closest(jn.LOAD_BTN);if(n){t.stopPropagation();let l=parseInt(n.getAttribute(Xm.INDEX),10);isNaN(l)||this.loadDotacionByIndex(l)}}getDotacionInputValues(){let t=document.getElementById(de.VEHICLE_INPUT),a=document.getElementById(de.PERSON1_INPUT),n=document.getElementById(de.PERSON2_INPUT);return{vehiculo:t?.value.trim()||"",conductor:a?.value.trim()||"",ayudante:n?.value.trim()||""}}findExistingDotacionIndex(t,a,n){let l=t.toLowerCase(),i=a.toLowerCase(),o=n.toLowerCase();return this.savedDotacions.findIndex(u=>u.numero.toLowerCase()===l&&u.conductor.toLowerCase()===i&&u.ajudant.toLowerCase()===o)}addDotacioFromMainForm(){if(!Xf())return;let{vehiculo:t,conductor:a,ayudante:n}=this.getDotacionInputValues(),l=nu(),i=lu(),o=this.findExistingDotacionIndex(t,a,n),u={numero:t,conductor:a,ajudant:n,firmaConductor:l,firmaAjudant:i};o!==-1?(this.savedDotacions[o]=u,x(`Dotaci\xF3n ${t} actualizada.`,"success")):(this.savedDotacions.push(u),x(`Dotaci\xF3n ${t} creada.`,"success")),this.saveDotacionsToStorage()}clearDotacionInputErrors(){let t=document.getElementById(de.VEHICLE_INPUT),a=document.getElementById(de.PERSON1_INPUT),n=document.getElementById(de.PERSON2_INPUT),l=a?.closest(jn.PERSON_INPUT_GROUP),i=n?.closest(jn.PERSON_INPUT_GROUP);t?.classList.remove(pt.INPUT_ERROR),l?.classList.remove(pt.INPUT_ERROR),i?.classList.remove(pt.INPUT_ERROR)}},Qn=new yr;var jT=$.withScope("Modals:Dotacio");function QT(e,t){let a=document.getElementById("dotacio-template");if(!a)return jT.warn("No s'ha trobat el template per a dotacions."),null;let n=a.content.cloneNode(!0),l=n.firstElementChild,i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");l.setAttribute("data-dotacio-id",i);let o=n.querySelector(".dotacio-info"),u=n.querySelector(".dotacio-load");if(o){let s=[e.conductor,e.ajudant].filter(Boolean).join(" / ");o.textContent=s?`${e.numero} - ${s}`:e.numero}return u&&u.setAttribute("data-index",String(t)),l}function Kn(){let e=document.getElementById("dotacio-options"),t=document.getElementById("no-dotacio-text");if(!e||!t)return;let a=e.children.length>0;e.classList.toggle("hidden",!a),t.classList.toggle("hidden",a),a||(t.innerHTML='No hay dotaciones, guarde abans: <img src="assets/icons/save_green.svg" alt="Guardar" class="save-icon" />')}function tu(e,t){let a=0,n=0,l=!1;e.addEventListener("mousedown",i=>{i.target.closest("button")||i.target.closest(".button-container")||(a=i.clientX,n=a,l=!1)}),document.addEventListener("mousemove",i=>{n=i.clientX;let o=a-n;o>10&&!l&&(l=!0,e.classList.add("swiping")),l&&o>10&&(e.style.transform=`translateX(-${Math.min(o,80)}px)`,i.preventDefault())}),document.addEventListener("mouseup",async()=>{if(!l)return;l=!1;let i=a-n;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",i>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await Qn.handleDeleteById(t),e.remove(),Kn()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300)})}function au(e,t){let a=0,n=0,l=!1;e.addEventListener("touchstart",i=>{i.target.closest("button")||(a=i.touches[0].clientX,n=a,l=!1,i.stopPropagation())},{passive:!1}),e.addEventListener("touchmove",i=>{n=i.touches[0].clientX;let o=a-n;o>10&&!l&&(l=!0,e.classList.add("swiping")),l&&o>10&&(e.style.transform=`translateX(-${Math.min(o,80)}px)`,i.preventDefault(),i.stopPropagation())},{passive:!1}),e.addEventListener("touchend",async i=>{if(!l)return;l=!1;let o=a-n;e.classList.remove("swiping"),e.style.transition="transform 0.3s ease, opacity 0.3s ease",o>50?(e.style.transform="translateX(-100%)",e.style.opacity="0",setTimeout(async()=>{await Qn.handleDeleteById(t),e.remove(),Kn()},300)):(e.style.transform="translateX(0)",e.style.opacity="1"),setTimeout(()=>{e.style.transition="",e.style.opacity=""},300),i.stopPropagation()})}function Ar(e){let t=document.getElementById("dotacio-options");if(!t){Qn.displayDotacioOptions();return}let a=e.originalIndex,n=QT(e,a);if(!n)return;n.style.opacity="0",n.style.transform="translateX(-100%)";let l=t.children[a];l?t.insertBefore(n,l):t.appendChild(n),requestAnimationFrame(()=>{n.style.transition="opacity 0.5s ease, transform 0.5s ease",n.style.opacity="1",n.style.transform="translateX(0)";let i=`${e.numero}-${e.conductor}-${e.ajudant}`.replace(/\s/g,"");au(n,i),tu(n,i)}),Kn()}var ub=$.withScope("Modals:Confirm"),pi=null,jm=null,Qm=null,Km=null,Zm=null;function KT(){if(!pi){if(pi=document.getElementById(St.CONFIRM_MODAL),!pi)return!1;jm=document.getElementById(St.CONFIRM_MESSAGE),Qm=pi.querySelector(St.CONFIRM_TITLE),Km=document.getElementById(St.CONFIRM_YES_BTN),Zm=document.getElementById(St.CONFIRM_NO_BTN)}return!!pi&&!!jm&&!!Qm&&!!Km&&!!Zm}function Fm(){KT()}function Jm(){Fm(),qm(),zm()}var Re={DADES:"dades",SERVEIS:"serveis"},Pt={TAB_DADES:`tab-${Re.DADES}`,TAB_SERVEIS:`tab-${Re.SERVEIS}`,CONTENT_DADES:`${Re.DADES}-tab-content`,CONTENT_SERVEIS:`${Re.SERVEIS}-tab-content`,MAIN_CONTENT_AREA:"main-content"},Zn={ACTIVE_TAB:"active",ERROR_TAB:"error-tab"},km={MIN_DISTANCE:60,MAX_VERTICAL_RATIO:.5},Fn=Re.DADES,iu=0,Cr=0,_r=!0,ha=null,on=null;function $m(){let e=document.getElementById(Pt.TAB_DADES),t=document.getElementById(Pt.TAB_SERVEIS);!e||!t||(e.addEventListener("click",()=>Ti(Re.DADES)),t.addEventListener("click",()=>Ti(Re.SERVEIS)),ZT(),Ti(Fn))}function Xn(e){_r=!!e}function Ti(e){if(Fn===e&&document.scrollingElement.scrollTop!==0){window.scrollTo({top:0,behavior:"smooth"});return}if(Fn===e||e!==Re.DADES&&e!==Re.SERVEIS)return;window.scrollTo({top:0,behavior:"auto"}),Fn=e;let t=document.getElementById(Pt.TAB_DADES),a=document.getElementById(Pt.TAB_SERVEIS),n=document.getElementById(Pt.CONTENT_DADES),l=document.getElementById(Pt.CONTENT_SERVEIS);if(!t||!a||!n||!l)return;t.classList.remove(Zn.ERROR_TAB),a.classList.remove(Zn.ERROR_TAB);let i=e===Re.DADES;t.classList.toggle(Zn.ACTIVE_TAB,i),a.classList.toggle(Zn.ACTIVE_TAB,!i),n.classList.toggle(Zn.ACTIVE_TAB,i),l.classList.toggle(Zn.ACTIVE_TAB,!i),t.setAttribute("aria-selected",i?"true":"false"),a.setAttribute("aria-selected",i?"false":"true"),e===Re.SERVEIS&&typeof Zs=="function"&&Zs()}function ZT(){let e=document.getElementById(Pt.MAIN_CONTENT_AREA);e&&(ha=Wm,on=eg,e.addEventListener("touchstart",ha,{passive:!0}),e.addEventListener("touchend",on,{passive:!0}))}function Hm(){let e=document.getElementById(Pt.MAIN_CONTENT_AREA);!e||!ha||!on||(e.removeEventListener("touchstart",ha,{passive:!0}),e.removeEventListener("touchend",on,{passive:!0}),ha=null,on=null)}function Vm(){let e=document.getElementById(Pt.MAIN_CONTENT_AREA);e&&(ha||(ha=Wm,on=eg,e.addEventListener("touchstart",ha,{passive:!0}),e.addEventListener("touchend",on,{passive:!0})))}function Wm(e){if(!_r||pr())return;let t=e.touches[0];iu=t.clientX,Cr=t.clientY}function eg(e){if(!_r||iu===0||!e.changedTouches||e.changedTouches.length===0)return;let t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY,n=t-iu,l=a-Cr;iu=0,Cr=0,!(Math.abs(l)>Math.abs(n)*km.MAX_VERTICAL_RATIO)&&Math.abs(n)>km.MIN_DISTANCE&&(n>0?Fn===Re.SERVEIS&&Ti(Re.DADES):Fn===Re.DADES&&Ti(Re.SERVEIS))}var va={MODAL:"signature-modal",CANVAS:"signature-canvas",CANCEL_BTN:"signature-cancel",ACCEPT_BTN:"signature-accept",SIGN_PERSON1_BTN:"sign-person1",SIGN_PERSON2_BTN:"sign-person2",TITLE:"signature-title"},br={MODAL_OPEN:"modal-open",SIGNED:"signed"},pa={LINE_WIDTH:2,LINE_CAP:"round",STROKE_STYLE:"#000000",IMAGE_FORMAT:"image/png",DOUBLE_CLICK_TIMEOUT:300,DOUBLE_TAP_TIMEOUT:300,DOUBLE_TAP_MAX_DIST:20},tg={SIGNATURE_PENDING:"assets/icons/signature.svg",SIGNATURE_OK:"assets/icons/signature_ok.svg"},ag={PERSON1:"Firma del conductor",PERSON2:"Firma del ayudante"},Dr=class{constructor(){this.signatureConductor="",this.signatureAjudant="",this.currentSignatureTarget=null,this.isDrawing=!1,this.canvasContext=null,this.signatureCanvasElement=null,this.signatureModalElement=null,this.signPerson1Button=null,this.signPerson2Button=null,this.hasUserDrawn=!1,this.lastTouchTime=0,this.lastTouchX=0,this.lastTouchY=0,this.clickCount=0,this.clickTimer=null}init(){this.signatureModalElement=document.getElementById(va.MODAL),this.signatureCanvasElement=document.getElementById(va.CANVAS);let t=document.getElementById(va.CANCEL_BTN),a=document.getElementById(va.ACCEPT_BTN);this.signPerson1Button=document.getElementById(va.SIGN_PERSON1_BTN),this.signPerson2Button=document.getElementById(va.SIGN_PERSON2_BTN),!(!this.signatureModalElement||!this.signatureCanvasElement||!t||!a||!this.signPerson1Button||!this.signPerson2Button)&&(this.resizeCanvas(),this.initCanvasEvents(),t.addEventListener("click",this.closeSignatureModal.bind(this)),a.addEventListener("click",this.acceptSignature.bind(this)),this.signPerson1Button.addEventListener("click",()=>this.openSignatureModal("person1")),this.signPerson2Button.addEventListener("click",()=>this.openSignatureModal("person2")),this.signatureModalElement.addEventListener("click",n=>{n.target===this.signatureModalElement&&this.closeSignatureModal()}),window.addEventListener("resize",this.debounce(this.resizeCanvas.bind(this),150)),document.addEventListener("keydown",n=>{n.key==="Escape"&&this.signatureModalElement.style.display==="block"&&this.closeSignatureModal()}),this.updateSignatureIcons())}debounce(t,a){let n;return(...l)=>{clearTimeout(n),n=setTimeout(()=>t.apply(this,l),a)}}resizeCanvas(){if(!this.signatureCanvasElement||!this.signatureCanvasElement.parentElement)return;let t=this.signatureCanvasElement.parentElement;this.canvasContext||(this.canvasContext=this.signatureCanvasElement.getContext("2d",{willReadFrequently:!0})),this.canvasContext&&(this.signatureCanvasElement.width=t.offsetWidth,this.signatureCanvasElement.height=t.offsetHeight,this.canvasContext.lineWidth=pa.LINE_WIDTH,this.canvasContext.lineCap=pa.LINE_CAP,this.canvasContext.strokeStyle=pa.STROKE_STYLE)}clearCanvas(){!this.canvasContext||!this.signatureCanvasElement||(this.canvasContext.clearRect(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),this.hasUserDrawn=!1)}getEventCoordinates(t){if(!this.signatureCanvasElement)return{x:0,y:0};let a=this.signatureCanvasElement.getBoundingClientRect(),n,l;return t.touches&&t.touches.length>0?(n=t.touches[0].clientX,l=t.touches[0].clientY):(n=t.clientX,l=t.clientY),{x:n-a.left,y:l-a.top}}startDrawing(t){if(!this.canvasContext)return;this.isDrawing=!0,this.hasUserDrawn=!0,this.canvasContext.beginPath();let{x:a,y:n}=this.getEventCoordinates(t);this.canvasContext.moveTo(a,n)}draw(t){if(!this.isDrawing||!this.canvasContext)return;t.preventDefault();let{x:a,y:n}=this.getEventCoordinates(t);this.canvasContext.lineTo(a,n),this.canvasContext.stroke()}stopDrawing(){!this.isDrawing||!this.canvasContext||(this.isDrawing=!1)}handleCanvasClick(t){this.clickCount++,this.clickCount===1?this.clickTimer=setTimeout(()=>this.clickCount=0,pa.DOUBLE_CLICK_TIMEOUT):this.clickCount===2&&(clearTimeout(this.clickTimer),this.clickCount=0,t.preventDefault(),this.clearCanvas())}handleCanvasTouchEnd(t){if(t.touches.length>0)return;let a=Date.now(),n=t.changedTouches[0];if(!n)return;let{x:l,y:i}=this.getEventCoordinates({clientX:n.clientX,clientY:n.clientY}),o=a-this.lastTouchTime,u=Math.abs(l-this.lastTouchX),s=Math.abs(i-this.lastTouchY);o<pa.DOUBLE_TAP_TIMEOUT&&u<pa.DOUBLE_TAP_MAX_DIST&&s<pa.DOUBLE_TAP_MAX_DIST?(t.preventDefault(),this.clearCanvas(),this.lastTouchTime=0):(this.lastTouchTime=a,this.lastTouchX=l,this.lastTouchY=i)}initCanvasEvents(){this.signatureCanvasElement&&(this.signatureCanvasElement.addEventListener("mousedown",this.startDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mousemove",this.draw.bind(this)),this.signatureCanvasElement.addEventListener("mouseup",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("mouseout",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("click",this.handleCanvasClick.bind(this)),this.signatureCanvasElement.addEventListener("touchstart",this.startDrawing.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchmove",this.draw.bind(this),{passive:!1}),this.signatureCanvasElement.addEventListener("touchend",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchcancel",this.stopDrawing.bind(this)),this.signatureCanvasElement.addEventListener("touchend",this.handleCanvasTouchEnd.bind(this),{passive:!1}))}openSignatureModal(t){if(!this.signatureModalElement||!this.canvasContext)return;Xn(!1),this.currentSignatureTarget=t;let a=document.getElementById(va.TITLE);a&&(a.textContent=t==="person1"?ag.PERSON1:ag.PERSON2),this.signatureModalElement.style.display="block",document.body.classList.add(br.MODAL_OPEN),this.resizeCanvas(),this.clearCanvas();let n=t==="person1"?this.signatureConductor:this.signatureAjudant;n&&this.drawSignatureFromDataUrl(n),document.getElementById(va.ACCEPT_BTN)?.focus()}closeSignatureModal(){this.signatureModalElement&&(Xn(!0),this.signatureModalElement.style.display="none",document.body.classList.remove(br.MODAL_OPEN),this.currentSignatureTarget=null,(this.currentSignatureTarget==="person1"?this.signPerson1Button:this.signPerson2Button)?.focus())}isCanvasEmpty(){if(!this.canvasContext||!this.signatureCanvasElement)return!0;try{return!new Uint32Array(this.canvasContext.getImageData(0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height).data.buffer).some(a=>a!==0)}catch{return!1}}acceptSignature(){if(!this.canvasContext||!this.signatureCanvasElement||!this.currentSignatureTarget)return;let t=this.isCanvasEmpty(),a=t?"":this.signatureCanvasElement.toDataURL(pa.IMAGE_FORMAT),n=null;this.currentSignatureTarget==="person1"?(this.signatureConductor=a,n=this.signPerson1Button):this.currentSignatureTarget==="person2"&&(this.signatureAjudant=a,n=this.signPerson2Button),this.updateSignatureUI(n,!t),this.closeSignatureModal(),Ht()}drawSignatureFromDataUrl(t){if(!this.canvasContext||!t)return;let a=new Image;a.onload=()=>this.canvasContext.drawImage(a,0,0,this.signatureCanvasElement.width,this.signatureCanvasElement.height),a.onerror=()=>{},a.src=t}updateSignatureUI(t,a){if(!t)return;let n=t.querySelector(".icon");n&&(t.classList.toggle(br.SIGNED,a),n.src=a?tg.SIGNATURE_OK:tg.SIGNATURE_PENDING)}updateSignatureIcons(){this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor),this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}getSignatureConductor(){return this.signatureConductor}getSignatureAjudant(){return this.signatureAjudant}setSignatureConductor(t){this.signatureConductor=t||"",this.updateSignatureUI(this.signPerson1Button,!!this.signatureConductor)}setSignatureAjudant(t){this.signatureAjudant=t||"",this.updateSignatureUI(this.signPerson2Button,!!this.signatureAjudant)}},yi=new Dr,ng=()=>yi.init(),nu=()=>yi.getSignatureConductor(),lu=()=>yi.getSignatureAjudant(),jo=e=>yi.setSignatureConductor(e),Qo=e=>yi.setSignatureAjudant(e);var FT=".service",lg="main-content",Tt={DATE:"date",DIET_TYPE:"diet-type",VEHICLE:"vehicle-number",P1:"person1",P2:"person2",SERVICE_TYPE:"service-type",SAVE_BTN:"save-diet"},JT="userSelectedServiceType",kT={serviceNumber:".service-number",origin:".origin",originTime:".origin-time",destination:".destination",destinationTime:".destination-time",endTime:".end-time"},$T="chip-active",WT=800,ey=1e3,ty=300,Or=class{constructor(){this.initialFormDataStr="",this.saveStart=0,this.debouncedAutoSave=Ei(this.triggerAutoSave.bind(this),ey),this.debouncedHandler=Ei(this.handleInputChange.bind(this),WT)}isFormReadyForSave(){try{let t=!!document.getElementById(Tt.DATE)?.value.trim(),a=!!document.getElementById(Tt.DIET_TYPE)?.value.trim(),n=document.getElementById("service-number-1")?.value.trim(),l=/^\d{9}$/.test(n);return t&&a&&l}catch(t){return console.warn("[FormService] Error validant formulari:",t),!1}}hasPendingChanges(){return JSON.stringify(this.getFormDataObject()||{})!==this.initialFormDataStr}getFormDataObject(){try{let t={date:ce(document.getElementById(Tt.DATE)?.value),dietType:ce(document.getElementById(Tt.DIET_TYPE)?.value||lr()),vehicleNumber:ce(document.getElementById(Tt.VEHICLE)?.value),person1:ce(document.getElementById(Tt.P1)?.value),person2:ce(document.getElementById(Tt.P2)?.value),serviceType:ce(document.getElementById(Tt.SERVICE_TYPE)?.value||"TSU"),signatureConductor:nu(),signatureAjudant:lu()},a=Array.from(document.querySelectorAll(FT)).map((n,l)=>{let i={};for(let[u,s]of Object.entries(kT)){if(!s){i[u]="";continue}i[u]=ce(n.querySelector(s)?.value)}let o=n.querySelector(`.chip.${$T}`);return i.mode=o?.dataset.mode||"3.6",i.notes=zt[l]||"",i});return{generalData:t,servicesData:a}}catch(t){return console.error("[FormService] Error recollint dades:",t),null}}async triggerAutoSave(){if(!(!this.isFormReadyForSave()||!this.hasPendingChanges()))try{this.saveStart=Date.now(),qo(),await Xo();let t=Date.now()-this.saveStart;setTimeout(Yo,Math.max(0,ty-t)),this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{})}catch(t){console.warn("[Autosave skipped]",t?.message||"Error desconegut"),mi("Revisa dades de Serveis")}}captureInitialFormState(){this.initialFormDataStr=JSON.stringify(this.getFormDataObject()||{}),this.handleFormChange()}setSaveButtonState(t){let a=document.getElementById(Tt.SAVE_BTN);a&&(a.disabled=!t,a.setAttribute("aria-disabled",t?"false":"true"),a.classList.toggle("is-disabled",!t))}handleFormChange(){if(this.debouncedAutoSave.cancel(),!this.hasPendingChanges()){this.setSaveButtonState(!1),gi();return}this.isFormReadyForSave()?(this.setSaveButtonState(!0),this.debouncedAutoSave()):(this.setSaveButtonState(!1),gi())}handleInputChange(){this.handleFormChange()}addInputListeners(){let t=document.getElementById(lg);if(!t)return;t.addEventListener("input",this.debouncedHandler),t.addEventListener("change",this.debouncedHandler),t.addEventListener("blur",n=>{n.target.matches("input, select, textarea")&&(this.handleFormChange(),this.isFormReadyForSave()&&this.hasPendingChanges()&&(this.debouncedAutoSave.cancel(),this.triggerAutoSave()))},!0);let a=document.getElementById(Tt.DATE);a?.addEventListener("change",()=>{a.blur(),this.debouncedHandler()}),window.addEventListener("beforeunload",()=>{this.debouncedAutoSave.cancel(),this.isFormReadyForSave()&&Xo()})}addServiceTypeListener(){let t=document.getElementById(Tt.SERVICE_TYPE);t&&t.addEventListener("change",a=>{let n=a.target.value.trim();In(n);try{localStorage.setItem(JT,n)}catch(l){console.error("No s\u2019ha pogut desar tipus servei",l)}})}cancelPendingAutoSave(){this.debouncedAutoSave.cancel()}addDoneBehavior(){document.getElementById(lg)?.addEventListener("keydown",a=>{a.key==="Enter"&&a.target.matches('input[enterkeyhint="done"]')&&(a.preventDefault(),a.target.blur())})}gatherAllData(){return this.getFormDataObject()}getInitialFormDataStr(){return this.initialFormDataStr}},Ta=new Or,Gn=()=>Ta.captureInitialFormState(),ur=e=>Ta.setSaveButtonState(e),Ht=()=>Ta.handleFormChange(),ig=()=>Ta.addInputListeners(),og=()=>Ta.addServiceTypeListener(),hm=()=>Ta.cancelPendingAutoSave(),ug=()=>Ta.addDoneBehavior(),Ko=()=>Ta.gatherAllData();var sg="onboardingCompleted";function rg(){let e=document.getElementById("onboarding-container");if(!e)return;if(!JSON.parse(localStorage.getItem(sg)||"false"))e.classList.remove("hidden");else return;window.addEventListener("load",()=>{e.classList.add("onboarding-loaded")});let a=document.querySelectorAll(".onboarding-slide"),n=document.querySelectorAll(".nav-dot"),l=document.getElementById("onboarding-finish-btn"),i=document.getElementById("onboarding-skip-btn"),o=0;function u(g){a.forEach((f,E)=>{f.classList.toggle("active",E===g)}),n.forEach((f,E)=>{f.classList.toggle("active",E===g)})}function s(){o<a.length-1&&(o++,u(o),navigator.vibrate&&navigator.vibrate(10))}function r(){e.classList.add("hidden"),localStorage.setItem(sg,JSON.stringify(!0)),navigator.vibrate&&navigator.vibrate([50,50,50])}e.addEventListener("click",g=>{g.target.closest("button, a, .nav-dot")||s()});let c=0;e.addEventListener("touchstart",g=>{c=g.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",g=>{g.changedTouches[0].screenX<c-50&&s()}),l.addEventListener("click",r),i.addEventListener("click",r)}var Nr={TOGGLE_BTN:"theme-toggle-btn",THEME_ICON:"theme-icon",THEME_TEXT:"theme-btn-text"},cg={DARK_THEME:"theme-dark"},Lr="themePreference",lt={LIGHT:"light",DARK:"dark"},dg={LIGHT:"assets/icons/moon.svg",DARK:"assets/icons/sun.svg"},fg={LIGHT:"#004aad",DARK:"#343a40"},Mr=class{constructor(){this.themeToggleButton=null,this.themeIconElement=null,this.themeTextElement=null,this.bodyElement=null,this.systemDarkMatcher=null}init(){if(this.themeToggleButton=document.getElementById(Nr.TOGGLE_BTN),this.themeIconElement=document.getElementById(Nr.THEME_ICON),this.themeTextElement=document.getElementById(Nr.THEME_TEXT),this.bodyElement=document.body,!this.themeToggleButton||!this.themeIconElement||!this.themeTextElement||!this.bodyElement){console.warn("Faltan elementos del DOM para el gestor de temas.");return}let t,a=localStorage.getItem(Lr);a&&(a===lt.LIGHT||a===lt.DARK)?t=a:(this.systemDarkMatcher=window.matchMedia("(prefers-color-scheme: dark)"),t=this.systemDarkMatcher.matches?lt.DARK:lt.LIGHT,this.systemDarkMatcher.addEventListener("change",this._handleSystemThemeChange.bind(this))),this._applyTheme(t,!1),this.themeToggleButton.addEventListener("click",this._handleThemeToggle.bind(this))}_updateThemeColorMeta(t){let a=document.querySelector('meta[name="theme-color"]');a&&(a.content=t)}_applyTheme(t,a=!1){let n=t===lt.DARK;this.bodyElement.classList.toggle(cg.DARK_THEME,n),this.themeIconElement.src=n?dg.DARK:dg.LIGHT,this.themeTextElement.textContent=n?"Claro":"Oscuro",this.themeIconElement.alt=n?"Cambiar a tema claro":"Cambiar a tema oscuro",this._updateThemeColorMeta(n?fg.DARK:fg.LIGHT),a&&localStorage.setItem(Lr,t)}_handleThemeToggle(){let a=(this.bodyElement.classList.contains(cg.DARK_THEME)?lt.DARK:lt.LIGHT)===lt.DARK?lt.LIGHT:lt.DARK;this._applyTheme(a,!0)}_handleSystemThemeChange(t){if(!localStorage.getItem(Lr)){let a=t.matches?lt.DARK:lt.LIGHT;this._applyTheme(a,!1)}}},ny=new Mr,mg=()=>ny.init();var Rr={GENERATE_PDF:".generate-pdf",SAVE_DIET:"#save-diet",MANAGE_DIETS:"#manage-diets"};function gg(){let e=document.querySelector(Rr.GENERATE_PDF);e&&e.addEventListener("click",Rm);let t=document.getElementById(Rr.SAVE_DIET.substring(1));t&&t.addEventListener("click",Em);let a=document.getElementById(Rr.MANAGE_DIETS.substring(1));a&&typeof eu=="function"&&a.addEventListener("click",eu)}var Eg="clear-selected-service",ly=".service";function Sg(){let e=document.getElementById(Eg);if(!e){console.warn(`Clear Service: Bot\xF3 amb ID '${Eg}' no trobat.`);return}e.addEventListener("click",()=>{let t=$a(),a=document.querySelectorAll(ly);if(t>=0&&t<a.length){let n=a[t],l=n.querySelectorAll('input:not([type="button"]):not([type="submit"]), select, textarea');l.forEach(i=>{i.value!==""&&i.classList.add("field-clearing")}),setTimeout(()=>{Jf(n),ri(n),Ht(),l.forEach(i=>{i.classList.remove("field-clearing")}),console.log(`Servei ${t+1} netejat amb efecte visual.`)},600)}else console.warn(`Clear Service: \xCDndex de servei inv\xE0lid (${t}) o element no trobat.`)}),console.log("Funcionalitat 'Netejar Servei Seleccionat' configurada.")}function hg(){document.querySelectorAll('input[type="date"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}function vg(){document.querySelectorAll('input[type="time"]').forEach(t=>{t.dataset.pickerSetup!=="true"&&(t.dataset.pickerSetup="true",typeof t.showPicker=="function"&&t.addEventListener("click",()=>{try{t.showPicker()}catch{}}))})}var pg=Ei(x,Hf.DEBOUNCE_TOAST);function iy(e){return/^\d*$/.test(e)}function Tg(){let e=document.querySelectorAll(Ln.SERVICE_NUMBER_INPUT);if(!e.length){console.warn("Restrictions: No se han encontrado inputs '.service-number'.");return}e.forEach(t=>{t.dataset.restrictionsSetup!=="true"&&(t.dataset.restrictionsSetup="true",t.addEventListener("keypress",a=>{a.key==="Enter"||a.key==="Tab"||a.ctrlKey||a.metaKey||a.altKey||a.key.length>1||/\d/.test(a.key)||(a.preventDefault(),pg(Xs.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}),t.addEventListener("paste",a=>{try{let n=(a.clipboardData||window.clipboardData)?.getData("text")||"";iy(n)||(a.preventDefault(),pg(Xs.SERVICE_NUMBER_DIGITS_ONLY,"warning"))}catch(n){console.error("Error procesando 'paste':",n),a.preventDefault()}}))})}var yg={SETTINGS_BTN:"settings",SETTINGS_PANEL:"settings-panel"},Jn={PANEL_VISIBLE:"visible",BUTTON_OPEN:"open"},qt=null,Yt=null,Ag=!1;function oy(e){e.stopPropagation();let t=Yt.classList.toggle(Jn.PANEL_VISIBLE);qt.classList.toggle(Jn.BUTTON_OPEN,t),qt.setAttribute("aria-expanded",t),t&&Yt.querySelector("button")?.focus()}function uy(e){Yt.classList.contains(Jn.PANEL_VISIBLE)&&!Yt.contains(e.target)&&!qt.contains(e.target)&&Br()}function sy(e){e.key==="Escape"&&Yt.classList.contains(Jn.PANEL_VISIBLE)&&(Br(),qt.focus())}function Br(){Yt.classList.remove(Jn.PANEL_VISIBLE),qt.classList.remove(Jn.BUTTON_OPEN),qt.setAttribute("aria-expanded","false")}function Cg(){Ag||(qt=document.getElementById(yg.SETTINGS_BTN),Yt=document.getElementById(yg.SETTINGS_PANEL),!(!qt||!Yt)&&(qt.addEventListener("click",oy),document.addEventListener("click",uy),document.addEventListener("keydown",sy),Yt.querySelectorAll("button").forEach(e=>{e.addEventListener("click",Br)}),Ag=!0))}var ry={SERVICE_BUTTONS:".service-button:not(.active-square)",OPTIONS_BTN:"#options-toggle",TABS:".tab:not(.active)"},cy="disabled-control";function Ir(e=!0){document.querySelectorAll(Object.values(ry).join(", ")).forEach(a=>{a&&(a.classList.toggle(cy,e),a.setAttribute("aria-disabled",e?"true":"false"),a.disabled=e)})}var mp=ai(Wn()),gp=ai(Tf());var re=ai(Wn());function yf({imageUrl:e=null,isProcessing:t=!1,progress:a=0,status:n="idle",statusText:l="Reconociendo texto",onClose:i=null}){let o=(0,re.useRef)(null),[u,s]=(0,re.useState)(0),[r,c]=(0,re.useState)("");if((0,re.useEffect)(()=>{let T=setTimeout(()=>{s(a)},50);return()=>clearTimeout(T)},[a]),(0,re.useEffect)(()=>{if(n!=="processing"){c("");return}c(".");let T=setInterval(()=>{c(y=>y.length>=3?".":`${y}.`)},500);return()=>clearInterval(T)},[n]),console.log("\u{1F50D} OCR State:",{status:n,imageUrl:!!e,isProcessing:t,progress:a}),n==="error"||n==="idle")return console.log("\u{1F6AB} Component NO renderitza - status:",n),null;if(!(!!e&&t||!!e&&(n==="done"||n==="warning")))return null;let f=l?.replace(/\s+\d{1,3}%/,"").replace(/\.{2,}$/,"").trim()||"Reconociendo texto",E=n==="processing"?`${f}${r}`:l;return re.default.createElement("div",{className:"ocr-feedback-overlay",role:"dialog","aria-live":"polite","aria-atomic":"false","aria-label":"OCR en progreso"},re.default.createElement("div",{className:"ocr-feedback-container",ref:o},e&&re.default.createElement("div",{className:"ocr-image-preview fade-in"},re.default.createElement("img",{src:e,alt:"Imagen capturada para OCR",className:"ocr-captured-image",loading:"eager"})),(t||n==="done"||n==="error"||n==="warning")&&re.default.createElement("div",{className:"ocr-progress-section fade-in"},re.default.createElement("div",{className:"ocr-progress-bar-container"},re.default.createElement("div",{className:"ocr-progress-bar-track"},re.default.createElement("div",{className:"ocr-progress-bar-fill",style:{width:`${u}%`},role:"progressbar","aria-valuenow":u,"aria-valuemin":"0","aria-valuemax":"100"},re.default.createElement("div",{className:"ocr-progress-shine"}))),re.default.createElement("span",{className:"ocr-progress-percentage"},n==="error"?"":`${Math.round(u)}%`)),re.default.createElement("div",{className:`ocr-status-line ${n}`},E?.split(`
`).map((T,y)=>re.default.createElement("div",{key:y},T))||""))))}var jl="Reconociendo texto",Xl={done:"\u2713 Texto reconocido correctamente",warning:"Revisa la informaci\xF3n detectada",error:"Error al escanear. Imagen no v\xE1lida"},zs=(e,t=jl)=>e&&e.replace(/\d{1,3}%/g,"").replace(/\.\.+$/g,"").split(`
`).map(i=>i.replace(/\s+/g," ").trim()).join(`
`)||t;function Af(e="ocr-feedback-root"){let t=document.getElementById(e);t||(t=document.createElement("div"),t.id=e,document.body.appendChild(t));let a=null,n=null,l={imageUrl:null,isProcessing:!1,progress:0,status:"idle",statusText:jl},i=()=>{a||(a=gp.default.createRoot(t)),a.render(mp.default.createElement(yf,{imageUrl:l.imageUrl,isProcessing:l.isProcessing,progress:l.progress,status:l.status,statusText:l.statusText,onClose:()=>u.reset()}))},o=()=>{n&&(clearTimeout(n),n=null)},u={start(s){o(),l.imageUrl&&l.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(l.imageUrl),s instanceof File||s instanceof Blob?l.imageUrl=URL.createObjectURL(s):typeof s=="string"?l.imageUrl=s:l.imageUrl=null,l.isProcessing=!0,l.progress=0,l.status="processing",l.statusText=jl,i()},update(s,r=null,c="info"){o(),l.progress=Math.min(100,Math.max(0,s));let g=r!==null?zs(r):null;if(c==="error"){l.status="error",l.statusText=g||Xl.error||jl,l.isProcessing=!1,l.progress=Math.max(l.progress,100),i(),n=setTimeout(()=>{u.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3);return}if(c==="warning"){l.status="warning",l.statusText=g||l.statusText,l.isProcessing=!0,i();return}if(c==="success"){u.complete(g||Xl.done,"done");return}l.status="processing",g?l.statusText=g:l.statusText||(l.statusText=jl),l.isProcessing=!0,i()},addMessage(s,r="info"){if(r==="error"){u.error(s);return}if(r==="success"){u.complete(s||Xl.done,"done");return}l.status=r==="warning"?"warning":"processing",l.statusText=zs(s),l.isProcessing=!0,i()},complete(s=null,r="done"){o(),l.progress=100;let c=["done","warning","error"].includes(r)?r:"done";l.status=c;let g=Xl[c]||Xl.done;l.statusText=zs(s,g),l.isProcessing=!1,i(),n=setTimeout(()=>{u.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"done"}}))},2500)},error(s="No se reconoci\xF3 texto"){o(),l.status="error",l.statusText=zs(s,Xl.error),l.isProcessing=!1,l.progress=100,i(),n=setTimeout(()=>{u.reset(),window.dispatchEvent(new CustomEvent("ocr:closed",{detail:{reason:"error"}}))},1e3)},reset(){o(),l.imageUrl&&l.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(l.imageUrl),l.imageUrl=null,l.isProcessing=!1,l.progress=0,l.status="idle",l.statusText=jl,i()},getState(){return{...l}},isProcessing(){return l.isProcessing}};return u}var Ql=null;function _o(){return Ql||(Ql=Af()),Ql}function Ep(){Ql&&(Ql.reset(),Ql=null)}var Sp=1500,Cf=.95,_f="image/png",aC=$.withScope("CameraOCR:ImageProcessing");function hp(e,t,a){return new Promise((n,l)=>{e.toBlob(i=>{i?n(i):l(new Error("No s'ha pogut generar el blob de la imatge."))},t,a)})}async function vp(e,{maxDimension:t=Sp,imageType:a=_f,imageQuality:n=Cf}={}){let l=await createImageBitmap(e),{width:i,height:o}=l;if(Math.max(i,o)<=t)return l.close(),e;let u=Math.min(t/i,t/o),s=Math.round(i*u),r=Math.round(o*u),c=document.createElement("canvas");c.width=s,c.height=r;let g=c.getContext("2d");if(!g)throw l.close(),new Error("Context 2D no disponible.");return g.drawImage(l,0,0,s,r),l.close(),hp(c,a,n)}async function pp(e,{imageType:t=_f,imageQuality:a=Cf}={}){let n=await createImageBitmap(e),l=document.createElement("canvas");l.width=n.width,l.height=n.height;let i=l.getContext("2d");if(!i)throw n.close(),new Error("Context 2D no disponible.");try{i.drawImage(n,0,0,n.width,n.height)}catch(o){throw n.close(),o.message&&o.message.includes("detached")?new Error("Error al procesar la imagen. Int\xE9ntalo de nuevo."):o}n.close(),i.filter="grayscale(100%) contrast(180%) brightness(110%)";try{i.drawImage(l,0,0)}catch(o){aC.warn("Fallback sense filtres en el preprocessament.",o)}return hp(l,t,a)}var aD=Object.freeze({IMAGE_MAX_DIMENSION:Sp,IMAGE_QUALITY:Cf,IMAGE_TYPE:_f});var nC="spa",lC=1,iC="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ:/-\xC0\xC9\xCD\xD3\xDA\xC8\xD2\xC0\xDC\xCF\xC7\xD1",oC=10,uC=300;var sC={load_system_dawg:"0",load_freq_dawg:"0"},rC={tessedit_char_whitelist:iC,tessedit_pageseg_mode:6},Kl={CAMERA_BTN:"camera-in-dropdown",CAMERA_MODAL:"camera-gallery-modal",MODAL_CONTENT:".modal-bottom-content",OPTION_CAMERA:"option-camera",OPTION_GALLERY:"option-gallery",CAMERA_INPUT:"camera-input",OCR_PROGRESS_CONTAINER:".ocr-progress-container",OCR_PROGRESS_TEXT:".ocr-progress-text",OCR_SCAN_BTN:".btn-ocr-inline"},Fa={VISIBLE:"visible",HIDDEN:"hidden",SERVICE_COLORS:["service-1","service-2","service-3","service-4"]},cC={ORIGIN_TIME:{id:"originTime",label:"Hora movilizaci\xF3n",fieldIdSuffix:"origin-time",lineKeywordRegex:/movilizaci|mobilitzat|desplaza/i},DESTINATION_TIME:{id:"destinationTime",label:"Hora de llegada hospital",fieldIdSuffix:"destination-time",lineKeywordRegex:/arribada|hospital|aaah/i},END_TIME:{id:"endTime",label:"Hora Final",fieldIdSuffix:"end-time",valueRegex:/\d{2}\s*\/?\s*\d{2}\s*\/?\s*\d{2}\s+(\d{1,2}:\d{2}(?::\d{2})?)/i}},tt=null,Ja=null,Hs=null,bf=null,xe=null,Df=!1,Tp=!1,yp=!1,Ap=0,It=null,Zl=0,Cp=$.withScope("CameraOCR");function dC(e){if(!e)return"";let t=e.replace(/[^\d:\-]/g,"");t=t.replace(/-/g,":");let a=t.match(/^(\d{1,2}):(\d{2})(?::\d{2})?$/);if(a){let n=parseInt(a[1],10),l=parseInt(a[2],10);if(n>=0&&n<=23&&l>=0&&l<=59)return`${String(n).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return""}function fC(){if(Date.now()-Ap<500||(Ap=Date.now(),!tt||!Ja))return;document.body.classList.add("modal-open"),document.body.style.setProperty("pointer-events","none"),tt.style.setProperty("pointer-events","auto"),Ja.style.setProperty("pointer-events","auto");let e=$a(),t=Fa.SERVICE_COLORS[e]||"";Ja.classList.remove(...Fa.SERVICE_COLORS),t&&Ja.classList.add(t),tt.classList.remove(Fa.HIDDEN),requestAnimationFrame(()=>tt.classList.add(Fa.VISIBLE)),Hs?.focus()}function Fl(){tt&&(document.body.classList.remove("modal-open"),document.body.style.removeProperty("pointer-events"),tt.style.removeProperty("pointer-events"),Ja&&Ja.style.removeProperty("pointer-events"),tt.classList.remove(Fa.VISIBLE),setTimeout(()=>tt.classList.add(Fa.HIDDEN),uC))}function mC(e){tt?.classList.contains(Fa.VISIBLE)&&!Ja?.contains(e.target)&&Fl()}function gC(){xe&&(xe.setAttribute("capture","environment"),xe.click(),Fl())}function EC(){xe&&(xe.removeAttribute("capture"),xe.click(),Fl())}function _p(e){let t=Object.entries(e).filter(([l,i])=>!i.skip),a=t.filter(([l,i])=>i.detected).length,n=t.length;return`${a}/${n} campos detectados`}function _t(e,t){It||(It=_o()),e>Zl&&(Zl=e);let a=Zl>=100?t||"Texto reconocido correctamente":"Reconociendo texto...";It.update(Zl,a)}function SC(){Zl=0}function bp(e,t,a){let n=document.getElementById(e);if(n){n.value=t;let l=new Event("input",{bubbles:!0,cancelable:!0});n.dispatchEvent(l)}}function hC(e,t=null){if(!e||!e.trim())return{hasData:!1,allFieldsStatus:[]};let a=$a(),n=Ff(a)||"3.6",l=`-${a+1}`,i={},o={originTime:{label:"Hora activaci\xF3n",detected:!1},destinationTime:{label:"Hora destino",detected:!1,skip:n==="3.11"||n==="3.22"},endTime:{label:"Hora final",detected:!1}};t&&t(o);let u=e.split(`
`),s=e.toLowerCase().replace(/ +/g," ");if(Object.values(cC).forEach(c=>{if((n==="3.11"||n==="3.22")&&c.id==="destinationTime")return;let g=null;if(c.lineKeywordRegex){for(let f of u)if(c.lineKeywordRegex.test(f.toLowerCase())){let E=f.replace(/\D/g,"");if(E.length>=6){let T=E.slice(-6);g=[null,`${T.slice(0,2)}:${T.slice(2,4)}:${T.slice(4,6)}`];break}}}else c.valueRegex&&(g=s.match(c.valueRegex));if(g&&g[1]){let f=dC(g[1].trim());if(f&&!i[c.id]){let E=`${c.fieldIdSuffix}${l}`;bp(E,f,c.label),i[c.id]=c,o[c.id]&&(o[c.id].detected=!0,t&&t(o))}}}),!i.endTime&&(i.originTime||i.destinationTime)){let c=new Date,g=String(c.getHours()).padStart(2,"0"),f=String(c.getMinutes()).padStart(2,"0"),E=`${g}:${f}`,T=`end-time${l}`;bp(T,E,"Hora Final (Actual)");let y=document.getElementById(T);y&&(y.classList.add("input-warning"),y.addEventListener("focus",()=>y.classList.remove("input-warning"),{once:!0}))}let r=Object.keys(i).length;return{hasData:r>0,count:r,fields:i,allFieldsStatus:o}}function Dp(){if(Tp||(tt=document.getElementById(Kl.CAMERA_MODAL),Ja=tt?.querySelector(Kl.MODAL_CONTENT),Hs=document.getElementById(Kl.OPTION_CAMERA),bf=document.getElementById(Kl.OPTION_GALLERY),xe=document.getElementById(Kl.CAMERA_INPUT),!tt||!Hs||!bf||!xe))return;document.querySelectorAll(Kl.OCR_SCAN_BTN).forEach(t=>t.addEventListener("click",fC)),Hs.addEventListener("click",gC),bf.addEventListener("click",EC),xe.addEventListener("change",pC),document.addEventListener("click",mC),document.addEventListener("keydown",t=>{t.key==="Escape"&&tt?.classList.contains(Fa.VISIBLE)&&Fl()}),Tp=!0}function vC(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}async function pC(e){if(Df)return;let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/")){xe&&(xe.value="");return}let a=oC*1024*1024;if(t.size>a){xe&&(xe.value="");return}Df=!0,Ir(!0),Zl=0,It||(It=_o()),It.start(t),_t(0),vC();let n=null;try{_t(5);let l=await vp(t);_t(20),l=await pp(l),_t(35),await new Promise(s=>setTimeout(s,100)),_t(45),yp||(_t(50),await new Promise((s,r)=>{let c=document.createElement("script");Hn(c),c.src="https://cdn.jsdelivr.net/npm/tesseract.js@6/dist/tesseract.min.js",c.onload=()=>{yp=!0,s()},c.onerror=r,document.head.appendChild(c)})),_t(60),n=await Tesseract.createWorker(nC,lC,{logger:s=>{if(s.status==="recognizing text"){let r=Math.max(85,Math.floor(s.progress*100*.15+85));_t(r)}else s.status==="loading language model"&&_t(65)},init:sC}),_t(75),await n.setParameters(rC),_t(80);let{data:{text:i}}=await n.recognize(l),u=hC(i,s=>{let r=_p(s);It.update(95,r)});if(u.hasData){let s=_p(u.allFieldsStatus);It.complete(s,"done")}else x("Error al escanear. Imagen no v\xE1lida","error"),It?.reset?.(),setTimeout(()=>Fl(),1e3)}catch(l){Cp.error("Error durant el processament OCR:",l),x("Error al escanear. Imagen no v\xE1lida","error"),It?.reset?.(),setTimeout(()=>{Cp.debug("Tancant modal OCR despr\xE9s de timeout"),Fl()},3e3)}finally{try{n&&await n.terminate()}catch{}xe&&(xe.value=""),SC(),Ir(!1),Df=!1}}var Op="anonymousUserId";function Np(){try{let e=localStorage.getItem(Op);return e||(e=`user-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,localStorage.setItem(Op,e)),e}catch{return`temp-user-${Date.now()}`}}var Lp=document.getElementById("save-pill"),kl=document.querySelector(".tab-content-container"),Jl=0,Mp=!1,TC=10,yC=150,AC=kl&&parseInt(window.getComputedStyle(kl).paddingBottom,10)||60;function Of(e=Jl){Mp=e>yC,Mp?(Lp.style.bottom=`calc(${e}px + ${TC}px + env(safe-area-inset-bottom, 0px))`,kl&&(kl.style.paddingBottom=`${e+50}px`)):(Lp.style.bottom="calc(20px + env(safe-area-inset-bottom, 0px))",kl&&(kl.style.paddingBottom=`${AC}px`))}if("virtualKeyboard"in navigator)navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",e=>{Jl=e.target.boundingRect.height,Of(Jl)});else{let e=window.innerHeight;window.addEventListener("resize",()=>{window.innerHeight<e?(Jl=e-window.innerHeight,Of(Jl)):(Jl=0,Of(0))})}var CC=document.querySelectorAll('input:not([type="checkbox"]), select, textarea'),_C=(e,t,a)=>Math.min(Math.max(e,t),a),bC=()=>{let e=window.visualViewport;return{height:e?.height??window.innerHeight,top:e?.offsetTop??0}},DC=e=>{let{height:t,top:a}=bC(),n=e.getBoundingClientRect(),l=document.scrollingElement||document.documentElement||document.body,i=window.scrollY+n.top,o=i+n.height,u=a+16,s=Math.max(l.scrollHeight-t,0),r=_C(i-u,0,s),c=o-r,g=t-(c-a),f=Math.max(t-(16+n.height),0),E=Math.min(320,f);if(g<E){let T=Math.min(E-g,Math.max(s-r,0));T>0&&(r+=T)}window.scrollTo({top:r,behavior:"smooth"})};function OC(e){let t=e.target;t instanceof HTMLElement&&(t.closest(".modal")||setTimeout(()=>{if(!document.body.contains(t))return;if(t.classList.contains("origin")||t.classList.contains("destination")){DC(t);return}t.scrollIntoView({behavior:"smooth",block:"center"})},250))}CC.forEach(e=>{e.addEventListener("focus",OC)});var Rp="notes-selected-service",NC="notes-modal",LC="notes-title",MC="notes-textarea",RC="notes-save",BC="notes-cancel",IC="notes-char-counter",$l,Lf,oe,Vs,Nf,On,bo=null,Do=null,Oo=null;function Bp(){let e=document.getElementById(Rp);if(!e){console.warn(`Notes Service: Bot\xF3 amb ID '${Rp}' no trobat.`);return}if($l=document.getElementById(NC),Lf=document.getElementById(LC),oe=document.getElementById(MC),Vs=document.getElementById(RC),Nf=document.getElementById(BC),On=document.getElementById(IC),!$l||!Lf||!oe||!Vs||!Nf||!On){console.error("Notes Service: Un o m\xE9s elements del modal de notes no s'han trobat.");return}e.addEventListener("click",()=>{let t=$a();UC(t)}),Nf.addEventListener("click",Mf),console.log("Funcionalitat 'Afegir Notes' configurada.")}function UC(e){if(!$l)return;Lf.textContent=`S${e+1}: Observaciones`,oe.value=zt[e]||"";let t=oe.maxLength,a=()=>{let n=oe.value.length;On.textContent=`${n} / ${t}`,On.classList.remove("warning","limit"),oe.classList.remove("input-warning","input-error"),n>=t?(On.classList.add("limit"),oe.classList.add("input-error")):n>t*.8&&(On.classList.add("warning"),oe.classList.add("input-warning"))};a(),Do=()=>{oe.value.length>t&&(oe.value=oe.value.slice(0,t)),a()},oe.addEventListener("input",Do),Oo=n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),oe.blur())},oe.addEventListener("keydown",Oo),bo=()=>{let n=oe.value.trim(),l=zt[e]||"";if(n===l){Mf();return}zt[e]=n,n?x("Observaci\xF3n guardada.","success"):x("Observaci\xF3n eliminada.","info"),Mf(),Ht()},Vs.addEventListener("click",bo),$l.style.display="block",document.body.classList.add("modal-open"),setTimeout(()=>{oe.focus({preventScroll:!0}),oe.setSelectionRange(oe.value.length,oe.value.length)},0)}function Mf(){$l&&(bo&&(Vs.removeEventListener("click",bo),bo=null),Do&&(oe.removeEventListener("input",Do),Do=null),Oo&&(oe.removeEventListener("keydown",Oo),Oo=null),On.classList.remove("warning","limit"),oe.classList.remove("input-warning","input-error"),$l.style.display="none",document.body.classList.remove("modal-open"))}var xC=e=>{let a=`; ${document.cookie}`.split(`; ${e}=`);if(a.length===2)return a.pop()?.split(";").shift()},Ip=(e,t,a)=>{let n=new Date;n.setTime(n.getTime()+a*24*60*60*1e3);let l=`expires=${n.toUTCString()}`;document.cookie=`${e}=${t};${l};path=/;SameSite=Lax;Secure`},Wl,Rf,Bf;function zC(){let e=document.createElement("script");Hn(e),e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-23SXKMLR75",document.head.appendChild(e),e.onload=()=>{window.gtag("js",new Date),window.gtag("config","G-23SXKMLR75")}}function HC(){zC(),Ip("cookie_consent","granted",365),Up()}function VC(){typeof window.gtag=="function"&&window.gtag("consent","update",{analytics_storage:"denied"}),Ip("cookie_consent","denied",365),Up()}function GC(){Wl&&Wl.classList.remove("hidden")}function Up(){Wl&&Wl.classList.add("hidden")}function xp(){if(Wl=document.getElementById("cookie-consent-banner"),Rf=document.getElementById("accept-cookies"),Bf=document.getElementById("decline-cookies"),!Wl||!Rf||!Bf){console.warn("Elements del b\xE0ner de cookies no trobats.");return}xC("cookie_consent")||(GC(),Rf.addEventListener("click",HC),Bf.addEventListener("click",VC))}var Gs=["Abella de la Conca","Abrera","Agramunt","Aguilar de Segarra","Agullana","Aiguafreda","Aiguam\xFArcia","Aiguaviva","Aitona","Alam\xFAs, els","Albag\xE9s, l'","Albany\xE0","Albat\xE0rrec","Albesa","Albi, l'","Albinyana","Albiol, l'","Albons","Alcanar","Alcan\xF3","Alcarr\xE0s","Alcoletge","Alcover","Aldea, l'","Aldover","Aleixar, l'","Alella","Alfara de Carles","Alfarr\xE0s","Alforja","Alf\xE9s","Algerri","Alguaire","Alins","Ali\xF3","Almacelles","Almatret","Almenar","Almoster","Alp","Alpens","Alpicat","Alt \xC0neu","Altafulla","Altres/Diversos","Al\xE0s i Cerc","Al\xF2s de Balaguer","Amer","Ametlla de Mar, l'","Ametlla del Vall\xE8s, l'","Ampolla, l'","Amposta","Anglesola","Angl\xE8s","Arbeca","Arbol\xED","Arbo\xE7, l'","Arb\xFAcies","Arenys de Mar","Arenys de Munt","Argelaguer","Argentera, l'","Argentona","Argen\xE7ola","Armentera, l'","Arnes","Arres","Ars\xE8guel","Artesa de Lleida","Artesa de Segre","Art\xE9s","Asc\xF3","Aspa","Avellanes i Santa Linya, les","Avinyonet de Puigvent\xF3s","Avinyonet del Pened\xE8s","Aviny\xF3","Avi\xE0","Badalona","Badia del Vall\xE8s","Bag\xE0","Baix Pallars","Balaguer","Baleny\xE0","Balsareny","Banyeres del Pened\xE8s","Banyoles","Barbens","Barber\xE0 de la Conca","Barber\xE0 del Vall\xE8s","Barcelona","Baronia de Rialb, la","Bassella","Batea","Bausen","Begues","Begur","Belianes","Bell-lloc d'Urgell","Bellaguarda","Bellcaire d'Empord\xE0","Bellcaire d'Urgell","Bellmunt d'Urgell","Bellmunt del Priorat","Bellprat","Bellpuig","Bellvei","Bellver de Cerdanya","Bellv\xEDs","Benavent de Segri\xE0","Benifallet","Benissanet","Berga","Besal\xFA","Bescan\xF3","Beuda","Bigues i Riells del Fai","Biosca","Bisbal d'Empord\xE0, la","Bisbal de Montsant, la","Bisbal del Pened\xE8s, la","Biure","Blancafort","Blanes","Boadella i les Escaules","Bolvir","Bonastre","Bordils","Borges Blanques, les","Borges del Camp, les","Borrass\xE0","Borred\xE0","Boss\xF2st","Bot","Botarell","Bovera","Breda","Bruc, el","Brull, el","Brunyola i Sant Mart\xED Sapresa","Br\xE0fim","B\xE0scara","B\xF2rdes, Es","Cabac\xE9s","Cabanabona","Cabanelles","Cabanes","Cabanyes, les","Cabra del Camp","Cabrera d'Anoia","Cabrera de Mar","Cabrils","Cab\xF3","Cadaqu\xE9s","Calaf","Calafell","Calders","Caldes d'Estrac","Caldes de Malavella","Caldes de Montbui","Calella","Calldetenes","Call\xFAs","Calonge de Segarra","Calonge i Sant Antoni","Camarasa","Camarles","Cambrils","Campdev\xE0nol","Campelles","Campins","Campllong","Camprodon","Cam\xF3s","Canejan","Canet d'Adri","Canet de Mar","Canonja, la","Canovelles","Cantallops","Canyelles","Capafonts","Capellades","Capmany","Capolat","Cap\xE7anes","Cardedeu","Cardona","Carme","Caseres","Casserres","Cass\xE0 de la Selva","Castell d'Aro, Platja d'Aro i s'Agar\xF3","Castell de Mur","Castell de l'Areny","Castellar de la Ribera","Castellar de n'Hug","Castellar del Riu","Castellar del Vall\xE8s","Castellbell i el Vilar","Castellbisbal","Castellcir","Castelldans","Castelldefels","Castellet i la Gornal","Castellfollit de Riubreg\xF3s","Castellfollit de la Roca","Castellfollit del Boix","Castellgal\xED","Castellnou de Bages","Castellnou de Seana","Castellol\xED","Castellser\xE0","Castellter\xE7ol","Castellvell del Camp","Castellv\xED de Rosanes","Castellv\xED de la Marca","Castell\xF3 d'Emp\xFAries","Castell\xF3 de Farfanya","Catllar, el","Cava","Cellera de Ter, la","Celr\xE0","Centelles","Cercs","Cerdanyola del Vall\xE8s","Cervell\xF3","Cervera","Cervi\xE0 de Ter","Cervi\xE0 de les Garrigues","Cistella","Ciutadilla","Clariana de Cardener","Cogul, el","Colera","Coll de Narg\xF3","Collbat\xF3","Colldejou","Collsuspina","Colomers","Coma i la Pedra, la","Conca de Dalt","Conesa","Constant\xED","Copons","Corbera d'Ebre","Corbera de Llobregat","Corbins","Cornell\xE0 de Llobregat","Cornell\xE0 del Terri","Cornudella de Montsant","Cor\xE7\xE0","Creixell","Crespi\xE0","Cru\xEFlles, Monells i Sant Sadurn\xED de l'Heura","Cubelles","Cubells","Cunit","C\xE0noves i Samal\xFAs","Darnius","Das","Deltebre","Dosrius","Duesaig\xFCes","Escala, l'","Esparreguera","Espinelves","Espluga Calba, l'","Espluga de Francol\xED, l'","Esplugues de Llobregat","Espolla","Esponell\xE0","Espot","Espunyola, l'","Esquirol, l'","Estamariu","Estany, l'","Estar\xE0s","Esterri d'\xC0neu","Esterri de Card\xF3s","Falset","Far d'Empord\xE0, el","Farrera","Fatarella, la","Febr\xF3, la","Figar\xF3-Montmany","Figuera, la","Figueres","Figuerola del Camp","Fla\xE7\xE0","Flix","Floresta, la","Fogars de Montcl\xFAs","Fogars de la Selva","Foix\xE0","Folgueroles","Fondarella","Fonollosa","Font-rub\xED","Fontanals de Cerdanya","Fontanilles","Fontcoberta","Foradada","Forallac","Fornells de la Selva","Forti\xE0","For\xE8s","Franqueses del Vall\xE8s, les","Freginals","Fuliola, la","Fulleda","F\xEDgols","F\xEDgols i Aliny\xE0","Gai\xE0","Galera, la","Gallifa","Gandesa","Garcia","Garidells, els","Garriga, la","Garrigoles","Garriguella","Garrig\xE0s","Gavet de la Conca","Gav\xE0","Gelida","Ger","Gimenells i el Pla de la Font","Ginestar","Girona","Gironella","Gisclareny","Godall","Golm\xE9s","Gombr\xE8n","Granada, la","Granadella, la","Granera","Granja d'Escarp, la","Granollers","Granyanella","Granyena de Segarra","Granyena de les Garrigues","Gratallops","Gualba","Gualta","Guardiola de Bergued\xE0","Guiamets, els","Guils de Cerdanya","Guimer\xE0","Guingueta d'\xC0neu, la","Guissona","Guixers","Gurb","G\xF3sol","Horta de Sant Joan","Hospitalet de Llobregat, l'","Hostalets de Pierola, els","Hostalric","Igualada","Isona i Conca Dell\xE0","Is\xF2vol","Ivars d'Urgell","Ivars de Noguera","Ivorra","Jafre","Jonquera, la","Jorba","Josa i Tuix\xE9n","Jui\xE0","Juncosa","Juneda","Les","Linyola","Llacuna, la","Lladorre","Lladurs","Llad\xF3","Llagosta, la","Llagostera","Llambilles","Llanars","Llan\xE7\xE0","Llardecans","Llavors\xED","Lleida","Llers","Lles de Cerdanya","Llimiana","Llinars del Vall\xE8s","Lli\xE7\xE0 d'Amunt","Lli\xE7\xE0 de Vall","Lloar, el","Llobera","Llorac","Lloren\xE7 del Pened\xE8s","Lloret de Mar","Llosses, les","Llu\xE7\xE0","Ll\xEDvia","Madremanya","Maials","Mai\xE0 de Montcal","Mald\xE0","Malgrat de Mar","Malla","Manlleu","Manresa","Margalef","Marganell","Martorell","Martorelles","Mar\xE7\xE0","Mas de Barberans","Masarac i Vilarnadal","Masdenverge","Masies de Roda, les","Masies de Voltreg\xE0, les","Maslloren\xE7","Masnou, el","Maspujols","Masquefa","Masroig, el","Massalcoreig","Massanes","Massoteres","Mas\xF3, la","Matadepera","Matar\xF3","Ma\xE7anet de Cabrenys","Ma\xE7anet de la Selva","Mediona","Men\xE0rguens","Meranges","Mieres","Mil\xE0, el","Miralcamp","Miravet","Moi\xE0","Molar, el","Molins de Rei","Mollerussa","Mollet de Peralada","Mollet del Vall\xE8s","Moll\xF3","Molsosa, la","Monistrol de Calders","Monistrol de Montserrat","Mont-ral","Mont-ras","Mont-roig del Camp","Montagut i Oix","Montblanc","Montbri\xF3 del Camp","Montcada i Reixac","Montclar","Montell\xE0 i Martinet","Montesquiu","Montferrer i Castellb\xF2","Montferri","Montgai","Montgat","Montmajor","Montmaneu","Montmell, el","Montmel\xF3","Montoliu de Lleida","Montoliu de Segarra","Montorn\xE8s de Segarra","Montorn\xE8s del Vall\xE8s","Montseny","Morell, el","Morera de Montsant, la","Muntanyola","Mura","M\xF3ra d'Ebre","M\xF3ra la Nova","Nalec","Naut Aran","Navarcles","Navata","Nav\xE0s","Nav\xE8s","No consta","Nou de Bergued\xE0, la","Nou de Gai\xE0, la","Nulles","Od\xE8n","Ogassa","Olesa de Bonesvalls","Olesa de Montserrat","Oliana","Oliola","Olius","Olivella","Olost","Olot","Oluges, les","Olvan","Ol\xE8rdola","Omellons, els","Omells de na Gaia, els","Ordis","Organy\xE0","Orist\xE0","Orp\xED","Or\xEDs","Os de Balaguer","Osor","Oss\xF3 de Si\xF3","Pacs del Pened\xE8s","Palafolls","Palafrugell","Palam\xF3s","Palau d'Anglesola, el","Palau de Santa Eul\xE0lia","Palau-sator","Palau-saverdera","Palau-solit\xE0 i Plegamans","Pallaresos, els","Pallej\xE0","Palma d'Ebre, la","Palma de Cervell\xF3, la","Palol de Revardit","Pals","Papiol, el","Pardines","Parets del Vall\xE8s","Parlav\xE0","Passanant i Belltall","Pau","Pa\xFCls","Pedret i Marz\xE0","Penelles","Pera, la","Perafita","Perafort","Peralada","Peramola","Perell\xF3, el","Piera","Piles, les","Pineda de Mar","Pinell de Brai, el","Pinell de Solson\xE8s","Pin\xF3s","Pira","Pla de Santa Maria, el","Pla del Pened\xE8s, el","Planes d'Hostoles, les","Planoles","Plans de Si\xF3, els","Poal, el","Pobla de Claramunt, la","Pobla de C\xE9rvoles, la","Pobla de Lillet, la","Pobla de Mafumet, la","Pobla de Massaluca, la","Pobla de Montorn\xE8s, la","Pobla de Segur, la","Poboleda","Poliny\xE0","Pont d'Armentera, el","Pont de Bar, el","Pont de Molins","Pont de Suert, el","Pont de Vilomara i Rocafort, el","Pontils","Pontons","Ponts","Pont\xF3s","Porqueres","Porrera","Port de la Selva, el","Portbou","Portella, la","Pradell de la Teixeta","Prades","Prat de Comte","Prat de Llobregat, el","Pratdip","Prats de Llu\xE7an\xE8s","Prats de Rei, els","Prats i Sansor","Preixana","Preixens","Premi\xE0 de Dalt","Premi\xE0 de Mar","Preses, les","Prullans","Puig-reig","Puigcerd\xE0","Puigd\xE0lber","Puiggr\xF2s","Puigpelat","Puigverd d'Agramunt","Puigverd de Lleida","Pujalt","Quar, la","Quart","Queralbs","Querol","Rab\xF3s","Rajadell","Rasquera","Regenc\xF3s","Rellinars","Renau","Reus","Rialp","Riba, la","Riba-roja d'Ebre","Ribera d'Ondara","Ribera d'Urgellet","Ribes de Freser","Riells i Viabrea","Riera de Gai\xE0, la","Riner","Ripoll","Ripollet","Riu de Cerdanya","Riudarenes","Riudaura","Riudecanyes","Riudecols","Riudellots de la Selva","Riudoms","Riumors","Roca del Vall\xE8s, la","Rocafort de Queralt","Roda de Ber\xE0","Roda de Ter","Rodony\xE0","Roquetes","Roses","Rossell\xF3","Rourell, el","Rubi\xF3","Rub\xED","Rupit i Pruit","Rupi\xE0","R\xE0pita, la","Sabadell","Sag\xE0s","Saldes","Sales de Llierca","Sallent","Salom\xF3","Salou","Salt","Sal\xE0s de Pallars","Sana\xFCja","Sant Adri\xE0 de Bes\xF2s","Sant Agust\xED de Llu\xE7an\xE8s","Sant Andreu Salou","Sant Andreu de Llavaneres","Sant Andreu de la Barca","Sant Aniol de Finestres","Sant Antoni de Vilamajor","Sant Bartomeu del Grau","Sant Boi de Llobregat","Sant Boi de Llu\xE7an\xE8s","Sant Cebri\xE0 de Vallalta","Sant Celoni","Sant Climent Sescebes","Sant Climent de Llobregat","Sant Cugat Sesgarrigues","Sant Cugat del Vall\xE8s","Sant Esteve Sesrovires","Sant Esteve de Palautordera","Sant Esteve de la Sarga","Sant Feliu Sasserra","Sant Feliu de Buixalleu","Sant Feliu de Codines","Sant Feliu de Gu\xEDxols","Sant Feliu de Llobregat","Sant Feliu de Pallerols","Sant Ferriol","Sant Fost de Campsentelles","Sant Fruit\xF3s de Bages","Sant Gregori","Sant Guim de Freixenet","Sant Guim de la Plana","Sant Hilari Sacalm","Sant Hip\xF2lit de Voltreg\xE0","Sant Iscle de Vallalta","Sant J. d'Enveja","Sant J. de Frontany\xE0","Sant J. de Llierca","Sant J. dels Domenys","Sant Joan Desp\xED","Sant Joan de Mollet","Sant Joan de Vilatorrada","Sant Joan de les Abadesses","Sant Joan les Fonts","Sant Jordi Desvalls","Sant Juli\xE0 de Cerdanyola","Sant Juli\xE0 de Ramis","Sant Juli\xE0 de Vilatorta","Sant Juli\xE0 del Llor i Bonmat\xED","Sant Just Desvern","Sant Lloren\xE7 Savall","Sant Lloren\xE7 d'Hortons","Sant Lloren\xE7 de Morunys","Sant Lloren\xE7 de la Muga","Sant Mart\xED Sarroca","Sant Mart\xED Sesgueioles","Sant Mart\xED Vell","Sant Mart\xED d'Albars","Sant Mart\xED de Centelles","Sant Mart\xED de Ll\xE9mena","Sant Mart\xED de Riucorb","Sant Mart\xED de Tous","Sant Mateu de Bages","Sant Miquel de Campmajor","Sant Miquel de Fluvi\xE0","Sant Mori","Sant Pau de Seg\xFAries","Sant Pere Pescador","Sant Pere Sallavinera","Sant Pere de Ribes","Sant Pere de Riudebitlles","Sant Pere de Torell\xF3","Sant Pere de Vilamajor","Sant Pol de Mar","Sant Quint\xED de Mediona","Sant Quirze Safaja","Sant Quirze de Besora","Sant Quirze del Vall\xE8s","Sant Ramon","Sant Sadurn\xED d'Anoia","Sant Sadurn\xED d'Osormort","Sant Salvador de Guardiola","Sant Vicen\xE7 de Castellet","Sant Vicen\xE7 de Montalt","Sant Vicen\xE7 de Torell\xF3","Sant Vicen\xE7 dels Horts","Santa B\xE0rbara","Santa Cec\xEDlia de Voltreg\xE0","Santa Coloma de Cervell\xF3","Santa Coloma de Farners","Santa Coloma de Gramenet","Santa Coloma de Queralt","Santa Cristina d'Aro","Santa Eug\xE8nia de Berga","Santa Eul\xE0lia de Riuprimer","Santa Eul\xE0lia de Ron\xE7ana","Santa Fe del Pened\xE8s","Santa Llogaia d'\xC0lguema","Santa Margarida de Montbui","Santa Margarida i els Monjos","Santa Maria d'Ol\xF3","Santa Maria de Besora","Santa Maria de Martorelles","Santa Maria de Merl\xE8s","Santa Maria de Miralles","Santa Maria de Palautordera","Santa Oliva","Santa Pau","Santa Perp\xE8tua de Mogoda","Santa Susanna","Santpedor","Sarral","Sarri\xE0 de Ter","Sarroca de Bellera","Sarroca de Lleida","Saus, Camallera i Llampaies","Savall\xE0 del Comtat","Secuita, la","Selva de Mar, la","Selva del Camp, la","Senan","Senterada","Sentiu de Si\xF3, la","Sentmenat","Seriny\xE0","Serra de Dar\xF3","Ser\xF2s","Setcases","Seu d'Urgell, la","Seva","Sidamon","Sils","Sitges","Siurana","Sobremunt","Soler\xE0s, el","Solivella","Solsona","Sora","Soriguera","Sort","Soses","Subirats","Sudanell","Sunyer","Susqueda","S\xE9nia, la","S\xFAria","Tagamanent","Talamanca","Talarn","Talavera","Tallada d'Empord\xE0, la","Taradell","Tarragona","Tarroja de Segarra","Tarr\xE9s","Tavertet","Tav\xE8rnoles","Tei\xE0","Terrades","Terrassa","Tiana","Tiurana","Tivenys","Tivissa","Tona","Tordera","Torell\xF3","Torms, els","Tornabous","Torre de Cabdella, la","Torre de Claramunt, la","Torre de Fontaubella, la","Torre de l'Espanyol, la","Torre-serona","Torrebesses","Torredembarra","Torrefarrera","Torrefeta i Florejacs","Torregrossa","Torrelameu","Torrelavit","Torrelles de Foix","Torrelles de Llobregat","Torrent","Torres de Segre","Torroella de Fluvi\xE0","Torroella de Montgr\xED","Torroja del Priorat","Tortell\xE0","Tortosa","Tor\xE0","Toses","Tossa de Mar","Tremp","T\xE0rrega","T\xE9rmens","T\xEDrvia","Ullastrell","Ullastret","Ulldecona","Ulldemolins","Ull\xE0","Ultramort","Ur\xFAs","Vacarisses","Vajol, la","Vall d'en Bas, la","Vall de Bianya, la","Vall de Bo\xED, la","Vall de Card\xF3s","Vall-llobrega","Vallbona d'Anoia","Vallbona de les Monges","Vallcebre","Vallclara","Vallfogona de Balaguer","Vallfogona de Ripoll\xE8s","Vallfogona de Riucorb","Vallgorguina","Vallirana","Vallmoll","Vallromanes","Valls","Valls d'Aguilar, les","Valls de Valira, les","Vandell\xF2s i l'Hospitalet de l'Infant","Vansa i F\xF3rnols, la","Veciana","Vendrell, el","Ventall\xF3","Verd\xFA","Verges","Vespella de Gai\xE0","Vic","Vidreres","Vidr\xE0","Vielha e Mijaran","Vila-rodona","Vila-sacra","Vila-sana","Vila-seca","Vilabella","Vilabertran","Vilablareix","Vilada","Viladamat","Viladasens","Viladecans","Viladecavalls","Vilademuls","Viladrau","Vilafant","Vilafranca del Pened\xE8s","Vilagrassa","Vilaju\xEFga","Vilalba Sasserra","Vilalba dels Arcs","Vilaller","Vilallonga de Ter","Vilallonga del Camp","Vilamacolum","Vilamalla","Vilamaniscle","Vilam\xF2s","Vilanant","Vilanova d'Escornalbou","Vilanova de Bellpuig","Vilanova de Mei\xE0","Vilanova de Prades","Vilanova de Sau","Vilanova de Segri\xE0","Vilanova de l'Aguda","Vilanova de la Barca","Vilanova del Cam\xED","Vilanova del Vall\xE8s","Vilanova i la Geltr\xFA","Vilaplana","Vilassar de Dalt","Vilassar de Mar","Vilaverd","Vila\xFCr","Vilella Alta, la","Vilella Baixa, la","Vilob\xED d'Onyar","Vilob\xED del Pened\xE8s","Vilopriu","Vilosell, el","Vimbod\xED i Poblet","Vinaixa","Vinebre","Vinyols i els Arcs","Viver i Serrateix","Xerta","\xC0ger","\xD2dena","\xD2rrius"],ws=["CAP Les Corts","CAP La Sagrada Fam\xEDlia","CAP El Clot","CAP La Pau","CAP Sant Andreu","CAP Sant Mart\xED","CAP Horta-Guinard\xF3","CAP Nou Barris","CAP Sants-Montju\xEFc","CAP Gr\xE0cia","CAP Sarri\xE0-Sant Gervasi","CAP Badalona Centre","CAP Badalona Pomar","CAP Sta. Coloma Gramenet Nord","CAP Sta. Coloma Gramenet Sud","CAP Montcada i Reixac","CAP Ripollet","CAP Cerdanyola Vall\xE8s","CAP Barber\xE0 Vall\xE8s","CAP Sabadell Centre","CAP Sabadell Nord","CAP Sabadell Sud","CAP Terrassa Nord","CAP Terrassa Sud","CAP Rub\xED","CAP Castellbisbal","CAP Martorell","CAP Abrera","CAP Olesa Montserrat","CAP Esparreguera","CAP Pallej\xE0","CAP Corbera Llobregat","CAP Cervell\xF3","CAP Vallirana","CAP Sant Andreu Barca","CAP Sant Boi Llobregat","CAP Sant Climent Llobregat","CAP Sant Joan Desp\xED","CAP Sant Vicen\xE7 Horts","CAP Cornell\xE0 Llobregat","CAP L'Hospitalet Llobregat Nord","CAP L'Hospitalet Llobregat Sud","CAP Esplugues Llobregat","CAP Viladecans","CAP Gav\xE0","CAP Castelldefels","CAP El Prat Llobregat","CAP Begues","CAP Sitges","CAP Vilanova Geltr\xFA","CAP Cubelles","CAP Cunit","CAP Calafell","CAP El Vendrell","CAP Vilafranca Pened\xE8s","CAP Sant Sadurn\xED Anoia","CAP Igualada","CAP Piera","CAP Capellades","CAP Martorelles","CAP Lli\xE7\xE0 Vall","CAP Granollers Nord","CAP Granollers Sud","CAP Canovelles","CAP Les Franqueses Vall\xE8s","CAP La Garriga","CAP Cardedeu","CAP L'Ametlla Vall\xE8s","CAP Sant Antoni Vilamajor","CAP Sant Celoni","CAP Sant Esteve Palautordera","CAP Sant Pere Vilamajor","CAP Vilalba Sasserra","CAP Matar\xF3 Centre","CAP Matar\xF3 Nord","CAP Matar\xF3 Sud","CAP Argentona","CAP Cabrera Mar","CAP Dosrius","CAP Vilassar Mar","CAP Premi\xE0 Mar","CAP El Masnou","CAP Tei\xE0","CAP Alella","CAP Tiana","CAP Montgat","CAP Tordera","CAP Malgrat Mar","CAP Palafolls","CAP Blanes","CAP Lloret Mar","CAP Tossa Mar","CAP Calella","CAP Pineda Mar","CAP Sta. Susanna","CAP Arenys Mar","CAP Canet Adri","CAP Sant Feliu Llobregat","CAP Molins Rei","CAP Sant Joan Desp\xED","CAP Sant Vicen\xE7 Horts","CAP Cornell\xE0 Llobregat","CAP L'Hospitalet Llobregat","CAP Esplugues Llobregat","CAP Viladecans","CAP Gav\xE0","CAP Castelldefels","CAP El Prat Llobregat","CAP Manresa","CAP Sant Joan Vilatorrada","CAP Sant Fruit\xF3s Bages","CAP Sallent","CAP S\xFAria","CAP Cardona","CAP Solsona","CAP Berga","CAP Puigcerd\xE0","CAP La Seu Urgell","CAP Sort","CAP Vic","CAP Centelles","CAP Torell\xF3","CAP Taradell","CAP Sta. Eug\xE8nia Berga","CAP Moi\xE0","CAP Prats Llu\xE7an\xE8s","CAP Olost","CAP Sta. Maria Ol\xF3","CAP Llu\xE7\xE0","CAP Santpedor","CAP Sant Mateu Bages","CAP Art\xE9s","CAP Aviny\xF3","CAP Castellfollit Boix","CAP Jorba","CAP Sant Mart\xED Sesgueioles","CAP Copons","CAP Sant Sadurn\xED Osormort","CAP Masquefa","CAP Sant Lloren\xE7 Savall","CAP Gallifa","CAP Sant Feliu Sasserra","CAP Sant Quirze Besora","CAP Sant Vicen\xE7 Torell\xF3","CAP Les Masies Voltreg\xE0","CAP Or\xEDs","CAP Sant Boi Llu\xE7an\xE8s","CAP Prats Rei","CAP Girona Centre","CAP Girona Nord","CAP Girona Sud","CAP Salt","CAP Sarri\xE0 Ter","CAP Banyoles","CAP Porqueres","CAP Besal\xFA","CAP Olot","CAP Sta. Pau","CAP Camprodon","CAP Ripoll","CAP Sant Joan Abadesses","CAP Figueres","CAP Llan\xE7\xE0","CAP Castell\xF3 Emp\xFAries","CAP Roses","CAP Cadaqu\xE9s","CAP La Jonquera","CAP Agullana","CAP Ma\xE7anet Selva","CAP Sta. Coloma Farners","CAP Arb\xFAcies","CAP Breda","CAP Riudarenes","CAP Sils","CAP Angl\xE8s","CAP La Cellera Ter","CAP Amer","CAP Sant Hilari Sacalm","CAP Osor","CAP Vidreres","CAP Lloret Mar","CAP Blanes","CAP Tossa Mar","CAP Calonge","CAP Palam\xF3s","CAP Platja Aro","CAP Sta. Cristina Aro","CAP Lleida Centre","CAP Lleida Nord","CAP Lleida Sud","CAP Balaguer","CAP La Seu Urgell","CAP Vielha","CAP Tremp","CAP Sort","CAP Puigcerd\xE0","CAP T\xE0rrega","CAP Cervera","CAP Mollerussa","CAP Artesa Segre","CAP Ponts","CAP Almacelles","CAP Aitona","CAP Ser\xF2s","CAP Torres Segre","CAP Juneda","CAP Les Borges Blanques","CAP Miralcamp","CAP Preixens","CAP Oliana","CAP Organy\xE0","CAP Sant Lloren\xE7 Cardoner","CAP Sant Ramon","CAP Castellbell Vilar","CAP Sant Vicen\xE7 Castellet","CAP Monistrol Montserrat","CAP Marganell","CAP El Bruc","CAP Sant Salvador Guardiola","CAP Nav\xE0s","CAP S\xFAria","CAP Sallent","CAP Cardona","CAP Sant Joan Vilatorrada","CAP Manresa Nord","CAP Manresa Sud","CAP Tarragona Centre","CAP Tarragona Nord","CAP Tarragona Sud","CAP Reus","CAP Constant\xED","CAP Riudoms","CAP Cambrils","CAP Salou","CAP Vila-seca","CAP Torredembarra","CAP Altafulla","CAP Creixell","CAP Roda Ber\xE0","CAP Valls","CAP Nulles","CAP El Pla Pened\xE8s","CAP La Bisbal Pened\xE8s","CAP Sant Jaume Domenys","CAP El Vendrell","CAP Calafell","CAP Cunit","CAP Cubelles","CAP Vilanova Geltr\xFA","CAP Sitges","CAP Sant Pere Ribes","CAP Vilafranca Pened\xE8s","CAP Sant Sadurn\xED Anoia","CAP Subirats","CAP Sant Mart\xED Sarroca","CAP La Granada","CAP Montblanc","CAP La Riba","CAP Falset","CAP M\xF3ra Nova","CAP Gandesa","CAP Tortosa","CAP Amposta","CAP Sant Carles N\xE0utica","CAP Deltebre","CAP Roquetes","CAP Alcanar","CAP Vinar\xF2s","CAP Benicarl\xF3","CAP Pen\xEDscola","CUAP Matar\xF3","CUAP Granollers","CUAP Vic","CUAP Manresa","CUAP Igualada","CUAP Vilafranca Pened\xE8s","CUAP Vilanova Geltr\xFA","CUAP El Vendrell","CUAP Reus","CUAP Tarragona","CUAP Lleida","CUAP Girona","CUAP Figueres","CUAP Blanes","CUAP Olot","CUAP Berga","CUAP Solsona","CUAP Tremp","CUAP La Seu Urgell","CUAP Puigcerd\xE0","AECT H. Cerdanya","CAP Abrera","CAP Alcanar","CAP Amposta","CAP Badalona","CAP Banyoles","CAP Barber\xE0 Vall\xE8s","CAP Barcelona (diversos)","CAP Bellvitge","CAP Berga","CAP Blanes","CAP Calella","CAP Cambrils","CAP Cerdanyola Vall\xE8s","CAP Cornell\xE0 Llobregat","CAP El Prat Llobregat","CAP El Vendrell","CAP Esplugues Llobregat","CAP Figueres","CAP Gav\xE0","CAP Girona","CAP Granollers","CAP Igualada","CAP L'Hospitalet Llobregat","CAP Lleida","CAP Manresa","CAP Martorell","CAP Matar\xF3","CAP Mollet Vall\xE8s","CAP Montcada i Reixac","CAP Olot","CAP Reus","CAP Ripollet","CAP Rub\xED","CAP Sabadell","CAP Salt","CAP St. Adri\xE0 Bes\xF2s","CAP St. Andreu Barca","CAP St. Boi Llobregat","CAP St. Celoni","CAP St. Cugat Vall\xE8s","CAP St. Feliu Llobregat","CAP St. J. Desp\xED","CAP St. Vicen\xE7 Horts","CAP Sta. Coloma Gramenet","CAP Tarragona","CAP Terrassa","CAP Tortosa","CAP Vic","CAP Viladecans","CAP Vilafranca Pened\xE8s","CAP Vilanova i Geltr\xFA","Espitau Val d'Aran","Fund. H. Esperit St.","Fund. Puigvert","H. Cl\xEDnic Barcelona","H. Com. M\xF3ra d'Ebre","H. Com. St. Antoni Abat","H. Com. St. Bernab\xE9","H. Com. St. J. Calella","H. Com. Amposta","H. Comarcal. Blanes","H. Com. Alt Pened\xE8s","H. Com. Pallars","H. Dos Maig","H. Gen. P. San. St. J. D\xE9u","H. Gen. Granollers","H. Gen. Hospitalet","H. Munic. Badalona","H. Res. St. Camil","H. St. Joan D\xE9u Esplugues","H. St. J. D\xE9u Manresa","H. St. J. D\xE9u Martorell","H. St. P. i Sta. Tecla","H. Sta. Caterina","H. U. Arnau Vilanova","H. U. Bellvitge","H. U. Dr. Josep Trueta","H. U. Vall d'Hebron","H. U. Germans Trias i Pujol","H. U. J. 23 Tarragona","H. U. M\xFAtua Terrassa","H. U. Sta. Maria","H. U. Igualada","H. U. St. J. Reus","H. U. Tortosa Verge Cinta","H. U. Vic","H. Olot i Com. Garrotxa","H. Campdev\xE0nol","H. Figueres","H. Matar\xF3","H. Mollet","H. Palam\xF3s","H. Sabadell","H. St. Celoni","H. St. J. Desp\xED Mois\xE8s Broggi","H. Terrassa","H. Viladecans","H. Esperan\xE7a","H. Sta. Creu i St. Pau","H. Mar","H. Vendrell","ICO Badalona","ICO Girona","ICO L'Hospitalet","Inst. Guttmann","Pius H. Valls","H. Com. Sant Jaume Calella","H. Com. de la Garrotxa","H. Com. del Pallars","H. Com. de Blanes","H. Com. d'Amposta","H. Com. M\xF3ra d'Ebre","H. Com. de l'Alt Pened\xE8s","H. Com. Sant Bernab\xE9","H. Com. de Cerdanya","Fund. Sant Hospital de la Seu d'Urgell","H. Com. de Sant Jaume de Calella"],zp=[...Gs,...ws],Hp=new Intl.Collator("ca",{sensitivity:"base"}),TD=[...zp].sort(Hp.compare),yD=[...zp].sort(Hp.compare);var Ps=$.withScope("LocationSuggestions"),No={ORIGIN_SUGGESTIONS:"locationSuggestions.origin",DESTINATION_SUGGESTIONS:"locationSuggestions.destination"},Vp=10,Gp=5,wC=6,wp=3,Lo=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),PC=e=>{let t=Lo(e);return t=t.replace(/hospital comarcal/g,"h. com.").replace(/hospital universitari/g,"h. u.").replace(/hospital general/g,"h. gen.").replace(/hospital/g,"h.").replace(/comarcal/g,"com.").replace(/universitari/g,"u.").replace(/general/g,"gen.").replace(/sant /g,"st. ").replace(/santa /g,"sta. "),[t]},If=class{constructor(){this.originSuggestions=this.loadSuggestions(No.ORIGIN_SUGGESTIONS),this.destinationSuggestions=this.loadSuggestions(No.DESTINATION_SUGGESTIONS),this.destinationLookup=this.createDestinationLookup(),this.destinationSuggestions=this.destinationSuggestions.map(t=>this.destinationLookup.get(Lo(t))||null).filter(Boolean),this.saveSuggestions(No.DESTINATION_SUGGESTIONS,this.destinationSuggestions),this.currentDropdown=null,this.currentInput=null,this.selectedIndex=-1,this.inputDebounceTimer=null,this.scrollAnimationFrame=null,this.handleWindowScroll=()=>{!this.currentDropdown||!this.currentInput||this.scheduleDropdownReposition()},this.handleWindowResize=()=>{!this.currentDropdown||!this.currentInput||this.scheduleDropdownReposition()},this.handleViewportShift=()=>{!this.currentDropdown||!this.currentInput||this.scheduleDropdownReposition()}}createDestinationLookup(){let t=new Map;return ws.forEach(a=>{t.set(Lo(a),a)}),t}loadSuggestions(t){try{let a=localStorage.getItem(t);return a?JSON.parse(a):[]}catch(a){return Ps.warn(`Error carregant suggeriments per ${t}:`,a),[]}}saveSuggestions(t,a){try{localStorage.setItem(t,JSON.stringify(a))}catch(n){Ps.warn(`Error guardant suggeriments per ${t}:`,n)}}addSuggestion(t,a){if(!a||a.trim().length<2)return;let n=a.trim(),l;if(t==="origin")l=this.originSuggestions;else if(t==="destination"){l=this.destinationSuggestions;let o=this.destinationLookup.get(Lo(n));if(!o){Ps.warn(`Dest\xED no reconegut. Nom\xE9s s'accepten centres sanitaris p\xFAblics. Valor rebut: "${n}"`);return}n=o}else return;let i=l.indexOf(n);i>-1&&l.splice(i,1),l.unshift(n),l.length>Vp&&(l=l.slice(0,Vp)),t==="origin"?(this.originSuggestions=l,this.saveSuggestions(No.ORIGIN_SUGGESTIONS,l)):(this.destinationSuggestions=l,this.saveSuggestions(No.DESTINATION_SUGGESTIONS,l)),this.updateDatalistForType(t)}getSuggestions(t){return t==="origin"?[...this.originSuggestions]:t==="destination"?[...this.destinationSuggestions]:[]}updateDatalists(){this.updateDatalistForType("origin"),this.updateDatalistForType("destination")}getBaseLocations(t){return t==="origin"?Gs:ws}calculateMatchScore(t,a,n){if(!n.length)return 0;let l=o=>o?t.startsWith(o)?0:a.some(u=>u.startsWith(o))?1:2:3,i=1/0;return n.forEach(o=>{let u=-1/0;o.forEach(s=>{u=Math.max(u,l(s))}),i=Math.min(i,u)}),Number.isFinite(i)?i:3}getSuggestionsForInput(t,a="",n={}){if(!n.onlyRecent&&a.trim().length<wp)return[];let l=PC(a).map(r=>r.split(/\s+/).map(c=>c.trim()).filter(Boolean)).filter(r=>r.length>0),i=t==="origin"?Gs:this.getBaseLocations(t),o=[],u=new Set,s=(r,c)=>{if(!r)return;let g=r.trim();if(!g)return;let f=Lo(g),E=f.split(/[\s,\/'.-]+/).map(U=>U.trim()).filter(Boolean);if(!(l.length===0||l.some(U=>U.every(m=>f.includes(m))))||u.has(f))return;u.add(f);let y=this.calculateMatchScore(f,E,l);o.push({value:g,score:y,index:c})};return i.forEach((r,c)=>s(r,c)),o.sort((r,c)=>r.score!==c.score?r.score-c.score:r.index-c.index).slice(0,Gp).map(r=>r.value)}getRecentSuggestions(t,a=wC){return(t==="origin"?this.originSuggestions:this.destinationSuggestions).slice(0,a)}updateDatalistForType(t,a="",n={}){let l=t==="origin"?"origin-datalist":"destination-datalist",i;n.onlyRecent?(i=this.getRecentSuggestions(t),i.length||(i=this.getBaseLocations(t).slice(0,Gp))):i=this.getSuggestionsForInput(t,a),this.updateDatalist(l,i)}updateDatalist(t,a){let n=document.getElementById(t);n&&(n.innerHTML="",a.forEach(l=>{let i=document.createElement("option");i.value=l,n.appendChild(i)}))}createCustomDropdown(t,a){if(!a||a.length===0){this.closeDropdown();return}if(this.currentDropdown&&this.currentInput===t){this.updateDropdownOptions(this.currentDropdown,a,t);return}this.closeDropdown();let n=document.createElement("div");n.className="custom-location-dropdown",n.id="custom-location-dropdown";let l=t.getBoundingClientRect();n.style.position="fixed",n.style.top=`${l.bottom}px`,n.style.left=`${l.left}px`,n.style.width=`${l.width}px`,n.style.zIndex="9999",t.classList.add("has-dropdown-open"),this.updateDropdownOptions(n,a,t),document.body.appendChild(n),this.currentDropdown=n,this.currentInput=t,this.selectedIndex=-1,setTimeout(()=>{let i=window.innerHeight,o=n.getBoundingClientRect();if(o.bottom>i-20){let u=o.bottom-i+100;window.scrollBy({top:u,behavior:"smooth"})}},100),setTimeout(()=>{document.addEventListener("click",this.handleOutsideClick.bind(this))},0)}updateDropdownOptions(t,a,n){t.innerHTML="",a.forEach((l,i)=>{let o=document.createElement("div");o.className="custom-dropdown-option",o.textContent=l,o.dataset.index=i,o.addEventListener("click",u=>{u.preventDefault(),u.stopPropagation(),n.value=l,n.dispatchEvent(new Event("change",{bubbles:!0})),this.closeDropdown()}),o.addEventListener("mouseenter",()=>{this.selectedIndex=i,this.updateSelectedOption(t)}),t.appendChild(o)})}scheduleDropdownReposition(){this.scrollAnimationFrame||(this.scrollAnimationFrame=window.requestAnimationFrame(()=>{if(this.scrollAnimationFrame=null,!(!this.currentDropdown||!this.currentInput)){if(!document.body.contains(this.currentInput)){this.closeDropdown();return}this.repositionDropdown()}}))}repositionDropdown(){if(!this.currentDropdown||!this.currentInput)return;let t=this.currentInput.getBoundingClientRect();this.currentDropdown.style.top=`${t.bottom}px`,this.currentDropdown.style.left=`${t.left}px`,this.currentDropdown.style.width=`${t.width}px`}updateSelectedOption(t){if(!t)return;t.querySelectorAll(".custom-dropdown-option").forEach((n,l)=>{l===this.selectedIndex?n.classList.add("selected"):n.classList.remove("selected")})}closeDropdown(){this.currentDropdown&&(this.currentDropdown.remove(),this.currentDropdown=null,this.scrollAnimationFrame&&(cancelAnimationFrame(this.scrollAnimationFrame),this.scrollAnimationFrame=null),this.currentInput&&this.currentInput.classList.remove("has-dropdown-open"),this.currentInput=null,this.selectedIndex=-1,document.removeEventListener("click",this.handleOutsideClick.bind(this)))}handleOutsideClick(t){this.currentDropdown&&!this.currentDropdown.contains(t.target)&&t.target!==this.currentInput&&this.closeDropdown()}handleKeyboardNavigation(t,a){if(!a)return;let n=a.querySelectorAll(".custom-dropdown-option");switch(t.key){case"ArrowDown":t.preventDefault(),this.selectedIndex=Math.min(this.selectedIndex+1,n.length-1),this.updateSelectedOption(a),n[this.selectedIndex]?.scrollIntoView({block:"nearest"});break;case"ArrowUp":t.preventDefault(),this.selectedIndex=Math.max(this.selectedIndex-1,-1),this.updateSelectedOption(a),this.selectedIndex>=0&&n[this.selectedIndex]?.scrollIntoView({block:"nearest"});break;case"Enter":if(t.preventDefault(),this.selectedIndex>=0&&n[this.selectedIndex]){let l=n[this.selectedIndex].textContent;this.currentInput.value=l,this.currentInput.dispatchEvent(new Event("change",{bubbles:!0})),this.closeDropdown()}break;case"Escape":t.preventDefault(),this.closeDropdown();break}}init(){Ps.info("Inicialitzant servei de suggeriments de localitzacions"),this.createDatalists(),this.updateDatalists(),this.addInputListeners()}createDatalists(){let t=document.querySelectorAll(".origin"),a=document.querySelectorAll(".destination");t.forEach(n=>{n.setAttribute("autocomplete","off"),n.removeAttribute("list")}),a.forEach(n=>{n.setAttribute("autocomplete","off"),n.removeAttribute("list")})}addInputListeners(){document.addEventListener("focus",t=>{let a=t.target;a instanceof HTMLInputElement&&(a.classList.contains("origin")||a.classList.contains("destination"))&&this.closeDropdown()},!0),document.addEventListener("input",t=>{let a=t.target;if(!(a instanceof HTMLInputElement))return;let n=null;if(a.classList.contains("origin")?n="origin":a.classList.contains("destination")&&(n="destination"),n){let l=a.value.trim();this.inputDebounceTimer&&clearTimeout(this.inputDebounceTimer),l.length>=wp?this.inputDebounceTimer=setTimeout(()=>{let i=this.getSuggestionsForInput(n,l);this.createCustomDropdown(a,i)},300):this.closeDropdown()}}),document.addEventListener("keydown",t=>{let a=t.target;a instanceof HTMLInputElement&&(a.classList.contains("origin")||a.classList.contains("destination"))&&this.currentDropdown&&this.handleKeyboardNavigation(t,this.currentDropdown)}),window.addEventListener("scroll",this.handleWindowScroll,!0),window.addEventListener("resize",this.handleWindowResize),window.visualViewport&&(window.visualViewport.addEventListener("resize",this.handleViewportShift),window.visualViewport.addEventListener("scroll",this.handleViewportShift))}},qC=new If,Pp=()=>qC.init();var Nn=$.withScope("Init");function YC(){let e=document.getElementById(w.DONATION_LINK_ID);if(!e)return Nn.warn("No s'ha trobat l'enlla\xE7 de donaci\xF3.");let t=Np();try{let a=new URL(e.href);a.searchParams.set("custom",t),e.href=a.toString(),Nn.info("Enlla\xE7 de donaci\xF3 actualitzat amb ID an\xF2nim.")}catch(a){Nn.error("Error modificant l'URL de donaci\xF3:",a)}}async function qp(){try{Nn.info("initializeApp() iniciant..."),sm(),cm(),await lm(),Zf(),ng(),Qn.init(),Dp(),Pp(),rg(),$m(),gg(),Sg(),Bp(),Jm(),hg(),vg(),Cg(),mg(),YC(),Tg(),jf(),ig(),og(),ug();let e=document.getElementById("service-type");if(e){let t=localStorage.getItem(Gf.USER_SELECTED_SERVICE_TYPE);(t==="TSU"||t==="TSNU")&&(e.value=t,Nn.debug(`[LocalStorage] Carregat tipus de servei: ${t}`)),In(e.value)}Gn(),dm(),xp(),Nn.info("initializeApp() completada.")}catch(e){Nn.error("Error en la inicialitzaci\xF3 de l'app:",e)}}var ca=ai(Wn()),Uf=ai(Tf());function XC(){let[e,t]=ca.default.useState(navigator.onLine),[a,n]=ca.default.useState(!0);return ca.default.useEffect(()=>{let l=()=>{let i=navigator.onLine;t(i),i?setTimeout(()=>n(!1),3e3):n(!0)};return window.addEventListener("online",l),window.addEventListener("offline",l),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",l)}},[]),a?ca.default.createElement(ca.default.Fragment,null,ca.default.createElement("div",{className:`connection-indicator ${e?"online":"offline"}`,onClick:e?void 0:()=>{confirm("En modo offline algunas funciones pueden estar limitadas. \xBFQuieres recargar la app?")&&window.location.reload()},title:e?void 0:"Haz clic para recargar (algunas funciones requieren conexi\xF3n)"},e?"\u{1F7E2} Online":"\u26A0\uFE0F Offline - Funciones limitadas")):null}function Yp(){try{if(typeof ca.default>"u"||typeof Uf.default>"u"){console.log("React no disponible - components skip");return}let e=document.getElementById("react-connection-container");e&&!e.hasChildNodes()&&Uf.default.createRoot(e).render(ca.default.createElement(XC,null)),console.log("\u2705 React components inicialitzats (incremental - reversible)")}catch(e){console.log("\u26A0\uFE0F React component skip:",e.message)}}window.getOCRFeedbackManager=_o;window.createOCRFeedbackManager=Af;window.destroyOCRFeedbackManager=Ep;async function Xp(){try{document.body.classList.add("app-ready"),document.body.classList.remove("no-js"),await qp(),Cm(),Yp()}catch(e){console.error("Critical error during app startup:",e)}}function jC(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Xp,{once:!0}):Xp()}jC();})();
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
